(this["webpackJsonpteacher-development"]=this["webpackJsonpteacher-development"]||[]).push([[0],{1155:function(e,t,a){},1156:function(e,t,a){},1161:function(e,t,a){},1177:function(e,t,a){},1251:function(e,t){},1253:function(e,t){},1263:function(e,t){},1265:function(e,t){},1292:function(e,t){},1293:function(e,t){},1298:function(e,t){},1357:function(e,t,a){},1359:function(e,t,a){},1360:function(e,t,a){},1361:function(e,t,a){},1362:function(e,t,a){},1636:function(e,t,a){},1637:function(e,t,a){},1638:function(e,t,a){},1639:function(e,t,a){},1640:function(e,t,a){},1641:function(e,t,a){},1643:function(e,t,a){},1644:function(e,t,a){},1646:function(e,t){},1647:function(e,t){},1648:function(e,t,a){},1649:function(e,t,a){},1650:function(e,t,a){},1651:function(e,t,a){},1652:function(e,t,a){},1653:function(e,t,a){},1654:function(e,t,a){},1655:function(e,t,a){},1656:function(e,t,a){},1657:function(e,t,a){},1658:function(e,t,a){},1777:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(64),c=a.n(s),o=(a(1155),a(29)),l=a.n(o),i=a(54),u=a(2),d=(a(1156),a(11)),m=a(3),f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAARCAYAAADUryzEAAABA0lEQVQ4jWP8////YQYGBhsGCDjC6L7BloEEwATSnNx3fm5I86ldUINqSTWAYd7Oh+wbXRSFQWxGc+kmlmleh9EV/t8ZcPj/zoD/UHwYxQCwRjk+YyT1NugG4HIpCzZnHZBmZbDeGfAfPVxALmWKtQe7lEFFtonB2tiNCZsB1hyMDDjDRZQfxaVYDYDZtsFcGRIuBtJNuNThNACsURolXEg3gBgwagAVDACnxGAbKbE3bKhmgcReczFiiL0SQDMBlJ3/Q8HRz7//M9ae+n/+x7+PcLH3v/8zlp36f/4LQuzIyz//GbLO/GdY+v8II4PbepA5oKSqBjXzFgMDQzNRYgwMzQAGCns6Yrh4jwAAAABJRU5ErkJggg==",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAADDElEQVQ4jX2Ub0yNURzHv+d57r1z09Qli1GZFl4Y2VqKXhhboVk0a0N4Ie9sTZMXMloSS6PxQiL9Q/mz1dRGKsuEwvzpqpSr3FsL/V/XfbpP97nPzw73aUn8trOz8+f32fn+zvccEJHWRCJKIaIOIhr39CmeefyrIboCAn4HA1BOhNjUqx8u+eyoztuc9vxjm82ebO2XGhJOvxLxn9Ag+wEE+MZXV+Xcs3iPSUpuzev+nQmZLzcJjAVtWOVXxGIq2b8wOk9/4HqN9e6YpPgCyNTlbY2DG+kdCkJSfgi9GWH+MQCiAJQCCJqSb+NjDbLmWGFbA4A7+mtb4klBuUci6iQKLg40ggWYkgAsYTGVFwD4TQHlahAobgpkplkWAFUaQAvGGOBj3CY2KqKQus1BTiZDZqAJ5kRRZboGaYmLXOhfErF4ybTjItKL4b2kAgbR5IrSdQtAgLbmdOO7sQiTkPyTiStOVd7sXG4PmDMJ0DMg3V9EnkUC8zFC36iEqTmPTkOl33JUcnM5/K51RJRNRPSxx94V2ScPenXLFGaboLofbj5N2c0DZLj1tU946hKEWuWGvtp998E36rY5aIj7hEPOEVHr4byW41llHc1fRuVxl0rUKat06LNEEeXdZP4mUYl51ILoCtFjvlIOL3s93IboiiwuJynpwtuzBQ+tJt3R8IYTTYPhqnkQZJ8A8zKAhczHni436ld7Bxsil+YDMABIvPZqtP9gfucCAGYO8S14aF3K/cFWzGuBCgjL/ACuVgHgYmh1AX5eIoq2L97LS1X6ZsR6sNDiD8d4GoCyX44VBTabarb3cOD/7L0rdK7+9ruRjn2FlkWQXWfo1obz8Nh+eGPofJPH1upMySuNDAoBOfV9jl3FlhCAXaSCdRmTG4got3dgfOj+i69xhl5nk97mJF2XTLpPMunbZVr7yUVmSaXLVvk7dtc+ZmktV6e+aO12DE3twzWSU+HP/68YVogu2WTVeKT5OUt7e2X6l8AhvLATEclPYrlkAOsBzJ5BkQPAM15EIPTPFQA/AUv+wU3Niak0AAAAAElFTkSuQmCC",h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAARCAYAAADUryzEAAABsklEQVQ4jZWTz0sbURDHPy9JV6uHiopUwQRtQURBRQ9iCnoTBUEtiGCFFuo/IHjxIHgWIehZ8CAeRLQXEaUntRSK9Fb8AR6iVsWDFtrqJrvryEuymsQEzMDs7Mzum/l+580gIukazhDLGtePLhE5k9zkLHEOpZ35zePxT9M/m4Giy6WuvrKB9VXSJDn+/l1F2dxoU7Cofy3oA8oTh2dlo/fQOInUqNKCCe9kxxU2B1jqu1hQvq9CBEqmPANtv1ZMFVou9OwCnzUCSa/2XFEfvx1pBKjOLwvaelorhrQrokCnvePRuuooxAGZaYGX+dU+t5hs9A4bvyMf9E9iK3AAG7AUmsKDNVVcY5VRvmS0R68NKr0qK4HjCFRtOymxlARvLqI4i3vIXys7BSMP2uozJ4ghGGt8UhgIuI73q+MXk3AuCPzkG+LprIv3gFSKz0EQhxGFqh/2k3huPcgzUO312RPEOA7WutcYsN4amv/jtx3bTxJ/N8G5nu2EH9F1Eu/hF/vRlDlwJVgMF6ZGJ47exu4//6L/c9nF01uRns0bk+GtHb0LepQbgBHgVcYOZpZrYO4eLDZVA1Pwm7cAAAAASUVORK5CYII=",b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAACAUlEQVQ4je2TS0hUYRTHf9+983BmJEdRc5xQUHrQQyeIotdEWjMYCcNEO6FlQSs3UW1cuyyFqFUURFjgGBTMkBmRkUTYA9MarKmwxMjSsO6MM/fEtRFDoceiXX84i/Od8/utvoOINInIOxFJisgZEYmISJGIsKist2h+J5lnmgh1o6zmfOLNyXM3Ug0Hg37fvs3LS2p9nlqleKZrqhfQgN3A6mxO+gdGJofau5Kfizz2QOfRumZv9Pp2SyIqHOsEOoApYJ3Lqdfv31IRbGtZs9brsRsdPaNXTsVe2o1Mrhx4DjwBhiQeGbdYGz/ilXjkhWMsfQKT47NZ9ag7bfYe1s2Z16+mKtu7klncjqta694STHujGKqNtArMs/OS+bQBTiCITQvectopLsxltAN11aq+6pjMUozBkiyWOBcv5MCBw1azFF2I9qvhn+a/5B9KjEKXTf9bsECHtLkguTBweleDkckd8unq4+/gCge0+BWJHYrLKfkKZK3PdqTn3nujcWNZ63BNkT4ufLn2TdyJGdFdCty6IuQvIFSlsWeZotSm6JswzbMPpkcvXRy8Ddy3DhAVjikgoCm1NbypfGc06K/cFiirXllasMIUtDvjhuqflsm+hx+G795MjZkTU5/ImY+BAWBwTvJz8sIqYD2wAViVn49Ylws8Bd5KPDIHqnCM7w8x42SpsWfMAAAAAElFTkSuQmCC",g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAARCAYAAAACCvahAAACP0lEQVQ4jY2TW0hUURRA15mHd2YcRMoMSyNSjLIIbkVRBJORTRPBJInlV0X+VJQRRKEf9VFIVD9KT0jKH4ugiSgYSBILsweZhiX4CkWpNClf13meuIMjestq/ZwNZ6+zz9nsI8h7wHSk3+sCTgPrAQE0AOVim68OAyaDeAyoae762bjpxPMr6uFnjy/ca3eOauFHH67nnjfKZjL3xMV1QGVR+dtTRypbsnq+aU++DAWqnjYN1PQOaG17Xenn7Ip5rK558FVcnrq29HvvtvWOtC47WJsKnLVUeNwExUkZIoug6KiaH2nN0sbWbCipdwMdGK7t2n+pKQr4LFc9RcAdYAVg09fSr5bCnCXJacD2uGCZJqc2fhpKM3uzu4GHxvf1BSBJMTmwWlYRCmOsrJNk2pGpAg6jPIXTnh0PjbJOyqxirMUm5W/yfxOTpd9rB7R/SVoEEhXzVMF4cCAUjt4GgoYmzuBWn6TEk6E/KyEmS79XTy7Zd/HdC6AeyJ9NvtwtKd6asSDJYcmNVy6Ukv7xQMR9pmKzTU0QLlURqDaBaheoDoGaKFjtFMy1QnfAlHBo99IyvXVCSunTApG1E6GobUIx26xCOBQBAyEZqzbPKghEYDgsQR8hKejsHx3OO1rriY/ncSBdLHRmuFemzKkuztmYf6O1S0tOXO4rWMyu6k7evB98LceCPbEDolLyY+Tlb19S5+PNLWWLUh2lUYvJVNo5ISqvtXTJz993Mh5sn573R3kSvSkFk/F9oHbGLvALzCTHW3Z1uTAAAAAASUVORK5CYII=",y=[{key:"teacherBaseMsg",name:"\u5e08\u8d44\u7edf\u8ba1\u5206\u6790",icon:f,children:[{key:"teacherBaseMsg",name:"\u6559\u5e08\u57fa\u672c\u4fe1\u606f"},{key:"workMsg",name:"\u6559\u5e08\u5de5\u4f5c\u91cf"},{key:"teachingAbility",name:"\u6559\u5e08\u6559\u5b66\u80fd\u529b"},{key:"informationizeAbility",name:"\u6559\u5e08\u4fe1\u606f\u5316\u80fd\u529b"},{key:"schoolResource",name:"\u5404\u6821\u5e08\u8d44",params:[{key:"schoolDetail",title:"\u5b66\u6821\u8be6\u60c5"}]}]},{key:"teacherPersonal",name:"\u6559\u5e08\u753b\u50cf\u67e5\u8be2",icon:p,children:[],params:[{key:"page/personalDetail/",title:"\u6559\u5e08\u753b\u50cf\u8be6\u60c5"}]},{key:"teacherRecruit",name:"\u6559\u5e08\u62db\u8058\u8ba1\u5212\u7ba1\u7406",icon:h,children:[],params:[{key:"publishRecruit",title:"\u53d1\u5e03\u62db\u8058\u8ba1\u5212"},{key:"editRecruit",title:"\u7f16\u8f91\u62db\u8058\u8ba1\u5212"},{key:"recruitDetail",title:"\u62db\u8058\u8ba1\u5212\u8be6\u60c5"}]},{key:"teacherTrain",name:"\u6559\u5e08\u57f9\u8bad\u8ba1\u5212\u7ba1\u7406",icon:b,children:[],params:[{key:"publishTrain",title:"\u53d1\u5e03\u57f9\u8bad\u8ba1\u5212"},{key:"editTrain",title:"\u7f16\u8f91\u57f9\u8bad\u8ba1\u5212"},{key:"trainDetail",title:"\u57f9\u8bad\u8ba1\u5212\u8be6\u60c5"}]},{key:"notice",name:"\u901a\u77e5\u516c\u544a",icon:g,children:[]}],v=[{key:"teacherPersonal",name:"\u667a\u80fd\u753b\u50cf",icon:p,children:[],params:[{key:"page/personalDetail",title:"\u667a\u80fd\u753b\u50cf"}]},{key:"stuStatusMsg",name:"\u591a\u7ef4\u6863\u6848",icon:f,children:[{key:"stuStatusMsg",name:"\u5b66\u7c4d\u6863\u6848"},{key:"stuConditionMsg",name:"\u5b66\u60c5\u6863\u6848"},{key:"attendanceMsg",name:"\u8003\u52e4\u6863\u6848"},{key:"healthMsg",name:"\u5065\u5eb7\u6863\u6848"},{key:"awardAndPunish",name:"\u5956\u60e9\u6863\u6848"},{key:"schoolLiveMsg",name:"\u6821\u56ed\u751f\u6d3b\u6863\u6848"}]}],E="COMMON_SET_TEST",I="COMMON_SET_IDENTITY",S="COMMON_SET_USER_INFO",O="COMMON_SET_BASE_PLAT_FORM_MSG",x="COMMON_SET_ROLE_MSG",N="COMMON_SET_TERM_INFO",j="COMMON_SET_CONTENT_HW",w="COMMON_SET_SYSTEM_SERVER",D="COMMON_REFLASH",T="COMMON_SET_LEFT_MENU",k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(a,n){var r=1===e?y:v;switch(e){case 0:r=v;break;case 1:r=y;break;case 2:y[0].children[4].name="\u5404\u9662\u5e08\u8d44",y[0].children[4].params[0].title="\u5b66\u9662\u8be6\u60c5",r=y;break;default:r=v}t||r.pop(),a({type:T,data:r})}},C="COMMON_SET_COMMON_DATA",L=function(e){return function(t,a){var n=a().commonData;t({type:C,data:Object(m.a)(Object(m.a)({},n),e)})}},A={COMMON_SET_COMMON_DATA:C,SetCommonData:L,COMMON_SET_TERM_INFO:N,COMMON_SET_TEST:E,COMMON_SET_USER_INFO:S,COMMON_SET_BASE_PLAT_FORM_MSG:O,COMMON_SET_IDENTITY:I,COMMON_SET_ROLE_MSG:x,COMMON_SET_CONTENT_HW:j,COMMON_SET_SYSTEM_SERVER:w,COMMON_SET_LEFT_MENU:T,COMMON_REFLASH:D,SetLeftMenu:k},J=A,R="COMMON_SET_TEACHER_RECRUIT_MSG",M=function(e){return function(t,a){t({type:R,data:e})}},P="COMMON_SET_ACTIVE_TAB",W=function(e){return function(t,a){t({type:P,data:e})}},H={COMMON_SET_ACTIVE_TAB:P,setActiveTab:W,COMMON_SET_TEACHER_RECRUIT_MSG:R,setTeacherRecruitMsg:M},z=H,U=J,B=z,F=(a(1161),a(93)),G=a(14),_=a.n(G),V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM8AAAAzCAYAAAAw0Vw9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBNDNCMjU4MjQ2NUMxMUVCOTM3NUI3MDJFRjBFNjE2MiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBNDNCMjU4MzQ2NUMxMUVCOTM3NUI3MDJFRjBFNjE2MiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE0M0IyNTgwNDY1QzExRUI5Mzc1QjcwMkVGMEU2MTYyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkE0M0IyNTgxNDY1QzExRUI5Mzc1QjcwMkVGMEU2MTYyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+sNTDRgAAGBlJREFUeNrsXQl4FFW2PtXd1Umnsy8kJAESAiiLYRFweJFxYQwiogM4MoDguPAcHi4zCOoHHyrj0zciLuiM0U8dERiWJyCMCxKXBw/CJiIEEpYQtpCQjYQk3emtuuqdU12VVDq9pwPJo8/33dTSt29t57//f8691WEg9yNQGOO0vBomOC09V97+OIQsZF3BNE5gUUnrytLZoOGldWUJWci6DXhk4FBRS4WRtjsTPLxU7Ip1jyzEpL8cemoh6zLgYZxAw0r71Qom6izg2KViw8KFmCdk3VW2EVBY44wf1utU5rFCUw0DQif5sQRHQRfHWNVRVZvOJU6YVTC0LCTdQtYdmYeRmEYTwTRPAEEDTMooyck7MewxVYGOa8pUmaJuw621EoD50GMJWXdjHhFAQkO1kUn9lR6mvN3pB2/84QPQHfw7nKzLjIOLdX0gPb409EhC1l1M5STbVAKHiolRX5WDN2GkU1bbDBaroAIr1xvO1vQOPZKQdTfmaY1GBMSR3a4I7RXhB6OQcLwVw/x6DPMbcd2M9TDeZxB/Ki2WSIyeYrH1KI/thIEdGi0CNDXb6MgMcPbecOoSBwN6ngk9mpB1N/AgcNDJeWW8Lq0zEknV7wQwY2xvb5TA04RVrA7wiPWwSZUOwRMHoE1CIYggSsx17BOkXIAgAQijGzXjFFXxQm8ousjB4PQLXs++fGmbTUEQjuMixthsPRU54LXZ+PkFf28ItvEhLvpgmcYwTINi/7e4yJY2Byo/C8Skc0XW5bSPzN9637q/P1Ak7Z+Hi4ew3N3RY/hxLpNw8aG0+SUe9wkXdeie7JU2C7HO3Z1+YmkvdTfwuAjZZeAYzqPW+gGBgbLOyjkYRpeJCMClKly6yzYHoGy12Bb6ru0oAi4RICFHYhwsAi8thdYh0rbWBwEEPgHI+fTtvNrYbNNVHV74eWzMkixfv/fB6oMvjbs1M8dqs+fSts1mL1yz+UjeQ09tLpg1dWgK7h+pqF5qsXJu28LvGhG8Ywm86HTLCAxY31Rytu7dm25MXkGOiCWWs/Mak5mrWrflaDw6Sm/h4svkxIulZvZhHQJwoZMTE7gW45JRkLpi3bG/zT5oW3fHnnN/HH97v41S/RhcLKJ1juM1vCBMxXOd6nxvyisbpyQl6LXSrpFYp1ZZJyzzlftrCp97MzoqrF8b10Et09BoKY2JDktgNWq9D0BmqmuNO1OGL/8TblZ2h5hH2fO3BQ85dh12kifWAZxaC5ZLDVB/8CxwEfdgz/DvAD0fwTITIHmqo6T8HiB9DgipT0DtLzXQdLIGhAsIuGMr8VYcwCdkgRauoeNwbvN5BKDeXm70PCwVVMj50MFZOy8EHLA98uetq/DBic7Ksmr9xHEDiAHgtRfGzQ2guT50TjbOfgcWFkEQ8+j8rSdp3+lzdffaOJ4lRzYYrdVyfSb95UI8fhlehxZLEjLol9PnbRzs3DB9Tt+XC4FQLnT9VBAEKrnQceRC3z9RWpssgtXBJt/iMoPOkeq6upCckb2GInCGevN75x0EHHlps/EsdWyeQEPgpWug54i7UqTSjZiHd5JtKryfnAkl0o8A0b1BFTYcNOkJwCSMcQynyrdNjmkYSYeFxUN4vwdBYziFmyjxLu0ACMdOLnmkoy7jYB56oh5GdXxiIKm37YM9PsuyjueTPOyNBco6K/4yIfuPs0aKOm/vz2Wrbn9g5Reu2uo16q2Xdmz8w+Shg1Jyc6evXrDmvSk5PRL12crvHfh6zmz8fLLcKz/z4rbCUUPT9Lu3PLqG9iHziT3moqfG3omXl0nrzSZb5U9Hyo0iSBjIlY93qbqpTYbx3ofXvvTVZzOWxsaEZ1XWGA7LrORKgnq6Dmc7XfD0gl6pMTnKe2sy21aEaTWp5LBHiivFdui66FyfXrJt6epNR+g6BGPJ4jXylzZ+XfzGAxMHLaT1soqGgn457y6TgZOUvWy+VH8dy6r0xDi47xnxnpQs3kDgtJptxRE67R1KBt26/eT8yY+vP2k9t2S7w4UY2SOSpbarugd4OCfw8EgPLMqyG7ATjh8MbERiC2bEzximfQfEC2L8HznwVtzGYkfwWc4CREQ7yE4eJKX4yvl4AQIomEYOiQACcmJ9BJsiSzHZUQf1T2px/onj+ucSeF78820tjvndrlKxXu5tWXKMBBE6NsVydkk7Rydnxf2TXQIZnR0/y3E46tPv9MtI+M9gXudtU1cuyl83azkCJ5+ujToA3B7DalRRD04anL18Se6CSL02+WxZ/Z6keH3W8dM1BTOf3FTQq2d0j1tGpD9ssdgNTowjuGIe5ToCMxw7g9S6K6bw6MgwDUlKXI9wwVzyYLkMoOruEfPYlUyEuioqAyBugOTwnCPT5sPgKW+zgzoMgafWwRVhEFQVHgezYR9ExsVB1sAbICkpCoycDRTyXc750a0WfAWQUt931MiB5J6ftvN3luaNHpaWS44j9+Ak6ZQOjuy098yF+sorDeZSrVatpzgp2A/q4qVGBwMpbMzNvWYjuGYH2ua696fOJVC7ageB3yJV+2cm5ErHy1LW65cZPx63x6PcMuj7vzrdnXxT7qOYCBnmiBSLiftmPZD9VyzuviMDCLoagLxn2xhpCAidHNQaDFnqwNpciWpO61UC6+KjodlQD9s37oeifb/AyTOlYMd2tFotJA/KhtG6CvhNYhKEN8npN48gcAAI4IIb2QbuZJqzOTsLOT3JvC9XzshVOg3Jl7+8vbMA5VY+tVdf/EIeOZv8GcUrJOl+d+/gBSR7nKWixFRt2Kbsp/lLZRlI3xk98aNV/sRRpefr4hCwXTUMcAccv6ZbKRhLuezR1QDkWrbZhbaXrlI7CgXSYQkYTMe4kGtKpSeAShsGjQ3V8M7iN8FUbQFWHwZx8TFgtyMbYVuVRYXwsUUNZ9My4UxTuEFkG8brfKA+0rJTJNyto3tPVsYTyDqFmz+e9lwcspCSbUjCUUxw4nRtE8keAhTJL8OpRbnFJTX57/3jQL4UL7QxytrJwCGjeoEwkAweZcwjS0IpDlnuHOeEZb4y2Vu2keSnB0dvJ88wjlmr0VDKtZ2juwVUk8FakjDk9Sf3fzXnweFDUh6jff/cfPT5R+ZvOYSM9J0b5pEtSdqu6QbMg8Qq2IFrrsElT4GcyEIMo/LYlbDhWrDbTLDy7c/g8oUGiO8ZD2ZTM8RGxUEDMhHlCOITYiFBo4WD9Tow2ppuASblPMJG5TiIlE3wEUDOss2Kzu3sGLR0Thigs69RgmLVxiN5sx8YOlcRLFPQ3w44n6z/ZZn8OSUVZJlH9QhEHy+/jxx1rjOAnp+X08aBsV4eFo8PyDkpkN4zOsuTbFPGSUpTxlsywCSQLa86vHA53RssfjkPyTUE5STZwWuPPve2MlUtSbRvKiqbdnlgF2+s5bwuM1BN1wRPG+bhUWqZ0UE5ETS+GBsRBYd27ofCfShtw3QwIjUObr/jHli9djtYraT+eGxWAA1nhfS4cLBb62ZEa83fNHKstWWWneAlDdzmrraVbRYrDTT5b9TzYmmTlj5YWLGJnJRAQ6wyb9E3m6SsmWi0TnKNQDZ39qjZcVKWzBk4xDpy7PD/zPx6EzgqUttfzqrJNnPKTa9jkcNdwQNwoCsBqD14bArm4Ylt1BAe3VeaFeAhrSw7vNrhx6eO10N5VS2Mv30UzJ42EZikeJh+vxk2biuA0vNlYDA2AqNRgV4fAXERLHNTzKVbCkx9vm2Rbe2TBi71f1af+FbQst4H4Xwx6onlhIGybWKV3Vse9VX+tDFXY0WuYh5KjVMMJW9/su6Xvb4cq6OyTTas91svPT/UFD73ltNgqPhZ4k3LaGBTaD69eAPJOUmiPS3t2+g11mkFDvgAyGsOIM/ZNpJnPAcWwwWReXyZMMqyGlCzajhx4hj075sOf5o7EyAyEoSqesgaOQQWDMiEw0dLoPRsGVyqrAaDwQAV1dUQxpjSpLjHUQTvLxOR/s9Ij1UHM9vWGaYcK1IapbxHDU1rYTLK9MkDszK4XMVOnRnkIwi3BBjUu0sOiPsi+r06VclSB76eM23Y4BTxBynWbz22cPYzX/wcAJNdUwC5SBjwrcwjOKYaaChBALxP6WmVlkXMqeFidQ0k0IBQUiJgoANMhA6gsRnUunC4edwtcDOMAbjSCM0XK2DpB5+B2dJsD+QC5BkFlA2T99VdMQUtI+NLj+2KqZSp79+Ov7GFdWgGgxZZTI6RKCFBA7PK1LGcAXSViYvSh7WMuruKU3yJeRTXFdBLhy7iFU9ZNVeZM1C1DoSCSsUIgUjAaw0gN8zTCh7xJR9NhB9NquiVOkhISYDa4hJ8arYWCSjeE5PZUVhWTH9rtRox/mnkIktEmUaMIxb/HuzQQcktzltVY+yU3lopg2j8Z9If1nrNllEyQZaTFDdNeXzDshv7JUZRskB88shINKMBQRMlt01pcJppcA3SyuIcNS+yzRvjuAQQyrbNisxcG6k2bdKQN7C07KupM+5IHfHm0q4OIM/ZNpJtgh3MzRXi0teEgS4+Dsb9ZgTsqG2guSp4FI2L20mzC+xgstrgoplpKDZlHpSkmhBIf4ixzzBFhqo0OSnSbfxDjkqM4O8xEuIiWgD6318WFfrLSFu2n8gjiUblsenDV1EiQs6ayXXkqTHKpITS5BkPMnsQ8OTvUwzUt3dcijxWJWfqiJUf+/3w5wjE1P74GaufdXfOyFBb/WGc8ktNuzPHvPOaK+CwCJbLx57/G+sCNG5inI7YVQeQm3Ee+VbYxexxuC5Vui8upuKImWWt41UEejWBZiTYVDB+wmRI0SSAtboWtD2TXT8JLFYEK98ctpLnVXY8Hu8PcORBSOW8MurdX3tvV6lSxjlb/8yEMcrAH3s6r2+wSuzQ4rg0deXBSYPzPbGPEjjkyMqZB3TuCK6cdokJjSpq5NDUHu5iHZnFCASuPqfzQYbMJhYjUNUXv5CrPG+yu36dlXLgcLlfb+26kWruBjRFCw/X9KS59gaj9VT0jf81W8lQP297Ylr2wOQ5Ykf0VdGCmU9uOgQd/+2Kqwogz8wjEQFl3FqHXpi2GTaSaTbsJG1XsCtEkKhZkVFUuggYftsYMB05Th7tYB9lDoC3g1UbBarG48A0Ws+IA0kgyTY/f3mEYgV5vR5jBW/1S85e3itP7CQnpNnUys+VMwUImJ++ff9s5zQzOT318NhTz7U5jSsp4xuSZRT4K8dqCIgjs1OnusoO0j6KZSaO618w/T825SkZiGZAyOvybGxiUeeUuNnCGSlmonNUzoigcaxnXtx2pJ3Qbo05iM3u80WqWc8t+cq5Hp53yrNP/NvvNK6Zxqu0624M5OV9Hjk1zbu+NBXGQibsABv3IWiQdUzxANGjaaAH+d8InIYFe2yU483UCNxnNsse4uiyzBbg9/4LkgUTVkqXUtReB0nbZbKUs4XzVv0kAkEas2lhFyUToSM1uUsEkPNRz0/v9qSlRGc799oEhJ49orKU2TMlG5BswlVR0pWerztMs6Yp8JdBmJEem6MEDTk5xTd3/bpvysK5OQvk49E1ITvmINDzCdwEooH9E1uOSW3Tks5FmUCAWa1pbLoGGfTULg0AJ8ZHrKbJnR6ybf/yhXFcOf+7r0z4tEXAcLzhzIX6r59c/M36/HWzvkCwfe9Oqj147+DlWNrsCyDuueoA8jBIqugkXKaoGZE9wHwOvQdBoYnG7qgWAXQBtwfTrFDQ6HQQkZ4Mld/vgpS++Iwz+kixDgeXz1RAw+q3ILloG2jYewQxoGJAjYWnVAz9FSt7iYB+NSJ9jLKnJ8kW6M1QzjtzNnLyFZ/sy1O2T4CcMmHgVPk75KDERthODmXQZLZRxhzu2kNwlOL6XGdWIudHEOUSGIhRZGnqy6sIQ+58Pw+PXfD49BELiQ3o/Oh1gnvu7D+L4h6UboZApJo7VqFxHTw3w8rPD3/8wmvfn3IGZ5BjnGsOIC+vJDCimrKYK3GXI/5xvABK/q3BWAjBoEbSMNFblc2O70bgdhg1i8/FfBEs+kS4EBMFF7ZsgZ69eoEqNhYaS07DWSsH6XffC33Dq+GXgrgmsUE1xT0g58p5R3Zc8JhCoAHBRU+N/YJ67UV//SGvIzeDMmH/8/nDHyolIPXwC1/5Lt9VAC+xW6HMgHeNzZpMAb3zeVCdhDhdHqWsafbB0rd2rnEX08hxnNweSa/PvypaLh2n8MDXc4wIAr2SaV+af/tyAhS9R0TxW21dc+WaTYWl0rGPYHnon3+bmkOg0bLqSNx+2R1wpOk2XrNqNO1GIfnEfQlDXp/n4ruCNuOVcR7a67YAYiD3I/HHDum+Uedp1yw/rRqWo4dXP8IuzgqCzQx2zuAIReTJoOK6CuVKrCNBYDyNwMGYJy4DQJcOZ+qaYXNxGazbVw7js9Ngce4QOHBgDwg79wDfZAC+RwIkTsyF9MyBsPCtDbDlYGVxoz5tN1tU/r+2y81XwI6NUuERpVTA/9R1yDw6pxCkdLTg4TvePruaVt0ZAHKTMJCzAbyopjTa+PaSTXzpzepIEESjagl33I9nvzkDH+6pBGMVSjmjAMUny+Du/pFwx+hb4VDPJCjfcRSGzcqFXhAN723fB6t+jgFtj+RBqU3nBvE3qGdwlqQNtT/XSKPcvOMneHkhBJzgAiYQAAULMNcCQEmdwUCuwSNIszPZcFxYXYY7jjrhjlvAqsBsaYS73i+B3fuvgJa1Qw8tKtwoFqoqzPD+tlqwz0qG6hWbYeKO9bDFFgbpU8fCO1/WAGNnIc4qgC28HwjN9ZG86eRj8UN7pNcdqX5PlHA0gspIk+pC7OMPWHwBii9sEyhgfGkXujOAnMEjCIyasZmNYDJUg4YSAlarxytWazD2YY0w79PLsPs7G0RjyKOyqcFidwyoRurDYfueRthwqAhmlmtgclIkzN9sgqb9x8BWrYHYSC2Y64lgsLDIcGGDgb98dLw+I+WIsbTiRwSqHUK/YX01WMcXidYdQdNpANIoLsrxLz4iYxmhtgrKP10BvFoNLM+3IZx2ERlrhgOGSPjHTxMQSVrgjPTGqbplTJUSZw0W9P9mFkZkhoNWp4e+FTzsPxEOEbF2sDQSo8gzF2g8KAF4pjcw5urpyDg/QmvmOgSewAHkjW38kVn+stC1jHVcWaJ0HrXBBA8VuzoyUkdvFdyYnw8XLTZUcYIIADItwzh+q4ppBVOMcAlKmHH44WMY45wAm4BAYTgnOkMwqY2Q01gsprLvsRyH/TAArE3m9oCkBDWnA65Z2wva/9OrEHg6J0HgDQiugNEVYxt/Gai2o+BpAQ5pp++LKnZlxbHZrI0DI8dBI2eXX9ERB2EYpwkGRoaFAdwx6GNfDef5JA0nGNpTFB8GemQoXcMhlcVaB2mwVwB1msAxZocqazNxgaVpdEImt3fXWWEQJ06qk2cfhMDjT6zj65uZwc6wdRcAJUjndTnQBihV3fIj7yKYyut6g83eS5yTw3j5UQ4miO/RCNJDccyqtosDS3YMungqAt8y4zpkwQCMP9LNHxnX1QHjymoDBZBGEe+AGLWnxZ+HsstmsHIZPvwgR/AfvuNHEHmRbXieF4dKQ8AJlmzzFPsEA0Tgpr2ubPHSudZ1JNvW+v9AeyVUwLkaCwKoD3Tu/yV1x0Gt7/S0giYEns5lnkBkW3eRaL4ACPwFkMbpgvkWQZaRVA2nLllQOmVcAwC1jumEGKcrSTZv+7tzJxcrnXt9IMzT/gYM6FkPRRfpVdBrA6CQBQNEgQ6K+gokTyDtbhYjnf8VnxIGcsfu5V+06yQAqUO+2S1ZxxdHv96Bo7QGqfjFPO7MhIX+W1tvP74Tsq7LOr7EPJ4SAF1BrjGdeMwoqe3GYICHjP6xzjks6dD6z0VC1nEH6ArM0xFQdSW27QwANQUDPGQU/5RhSVUAiHFzYQy0Hf50/hEEwc33BR+cSvBwXE9O6fy5EKATCy4A4Oqa/b0ud+ASOuBUHU0aXA8yzZ1FStdoCAZ4yGjuDf27AnpdOCxEHh2SHMEeQ/Pld9MCAdH1Ch4yvXSdxmCAh4xS2vQmJM0RCg9hIWCtLvjxHV/q+8s6HWGg68nkN3eNwQCPDCB6Q49mqepCmAh6kMv44PidAR5fkgHXI4Dk/17XHAzwyDeR5gYlSI2HLLAglwkgIPZ3BnVHWSY0WN3KQCKAVEFyiFp3QVXI/GKYjoIwBJyrA6CIYDCP0uokKRcdur8h4FwPDPR/AgwAzoIZx0yH5RIAAAAASUVORK5CYII=",Y=a(20),Z=a(15),Q=a(17),X=a(19),K=a(21),q=a(27),$=a.n(q),ee=(a(652),a(73)),te=a.n(ee),ae=(a(1176),a(1177),a(139)),ne=(a(1178),a(396)),re=a(881),se=a(1790),ce=a(52),oe=a(489),le=a(395),ie=a(1784),ue=a(900),de=a(242),me=a(1789),fe=a(108),pe=ne.a.Option;te.a.locale("zh-cn");var he=function(e){Object(X.a)(a,e);var t=Object(K.a)(a);function a(e){var n;Object(Z.a)(this,a),(n=t.call(this,e)).state={left:0,top:0,xTemp:0,yTemp:0,can_move:!1,readyShow:!1};return n}return Object(Q.a)(a,[{key:"closeAlert",value:function(e){var t=this.props.onClose;t&&t()}},{key:"ok",value:function(e){var t=this.props.onOk;t&&t()}},{key:"cancel",value:function(e){var t=this.props.onCancel;t&&t()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.show,a=e.type,n=e.onHide;t&&("success"!==a&&"error"!==a&&"tips"!==a&&"warn"!==a||n&&(this.setTime=setTimeout(n,1e3))),this.AlertBody&&t&&!this.state.readyShow&&(this.AlertBody.style.left=(_()(window).width()-this.AlertBody.clientWidth)/2+"px",this.AlertBody.style.top=(_()(window).height()-this.AlertBody.clientHeight)/2+"px",this.setState({readyShow:!0}),_()(".alert_dialog_footer input.cancel").focus()),!t&&this.state.readyShow&&this.setState({readyShow:!1})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.setTime)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.show,a=e.type,n=e.onHide;t&&("success"!==a&&"error"!==a&&"tips"!==a&&"warn"!==a||n&&(this.setTime=setTimeout(n,1e3))),this.AlertBody&&t&&!this.state.readyShow&&(this.AlertBody.style.left=(_()(window).width()-this.AlertBody.clientWidth)/2+"px",this.AlertBody.style.top=(_()(window).height()-this.AlertBody.clientHeight)/2+"px",this.setState({readyShow:!0})),!t&&this.state.readyShow&&this.setState({readyShow:!1}),_()((function(){var e,t,a=!1;_()(document).on("dragstart",".alert_dialog_dragheader",(function(){return!1})),_()(document).on("mousedown",".alert_dialog_dragheader",(function(n){var r=_()(n.target).closest(".alert_dialog_wrapper");a=!0,_()(".alert_dialog_wrapper").css("cursor","move");var s=n.pageX,c=n.pageY;e=s-parseInt(r.css("left")),t=c-parseInt(r.css("top"))})),_()(window).mousemove((function(n){if(a){var r=_()(n.target).closest(".alert_dialog_wrapper"),s=_()(window),c=n.pageX,o=n.pageY;c-e>0&&c-e<s.width()-r.width()&&r.css("left",c-e),o-t>0&&o-t<s.height()-r.height()&&r.css("top",o-t)}})).mouseup((function(){a=!1,_()(".alert_dialog_wrapper").css("cursor","default")}))}))}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.type,s=a.title,c=a.abstract,o=a.okTitle,l=a.cancelTitle,i=a.show,u=a.contentMaxWidth,d=a.className,m=this.props,f=m.cancelShow,p=m.okShow,h=!1,b="";switch(n){case"btn-success":case"btn-error":case"btn-warn":case"btn-query":h=!0,p="n"!==p,f="n"!==f,e=o||"\u786e\u5b9a",b=l||"\u53d6\u6d88";break;case"btn-tips":h=!0,p=!1,f="n"!==f,b=l||"\u6211\u77e5\u9053\u4e86";break;default:h=!1,f=!1,p=!1,e="\u786e\u5b9a",b="\u53d6\u6d88"}return r.a.createElement(r.a.Fragment,null,i?h?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert_dialog_mask ".concat(d||""),style:{display:"".concat(i?"block":"none")}}),r.a.createElement("div",{className:"alert_dialog_tab ".concat(d||""),style:{display:"".concat(i?"block":"none")}},r.a.createElement("div",{ref:function(e){return t.AlertBody=e},className:"border alert_dialog_wrapper",id:"alert_dialog_wrapper"},r.a.createElement("div",{className:"alert_dialog_dragheader"}),r.a.createElement("div",{className:"alert_close_btn",onClick:this.closeAlert.bind(this)}),r.a.createElement("div",{className:"alert_dialog_content ".concat(c?"has-abstract":"")},c?r.a.createElement("div",{className:"big_icon ".concat(n)}):r.a.createElement("div",{className:"left-icon ".concat(n)}),r.a.createElement("div",{className:"alert_dialog_msg ".concat(c?"big":n)},s),c?r.a.createElement("div",{className:"alert_dialog_abstract"},c):""),r.a.createElement("div",{className:"alert_dialog_footer"},p?r.a.createElement("input",{type:"button",className:"ok",onClick:this.ok.bind(this),value:e}):"",f?r.a.createElement("input",{type:"button",className:"cancel",onClick:this.cancel.bind(this),value:b}):"")))):r.a.createElement("div",{className:"alert_tips_tab ".concat(i?"animation":""," ").concat(d||""),ref:"alert_tips_tab"},r.a.createElement("div",{className:"border"},r.a.createElement("div",{className:"alert_tab_content ".concat(n),style:u?{maxWidth:u}:{}},s))):"")}}]),a}(r.a.Component),be=function(e){Object(X.a)(a,e);var t=Object(K.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.size,n=e.tip,s=e.opacity,c=e.spinning,o=e.wrapperClassName,l=e.children,i=Object(Y.a)(e,["type","size","tip","opacity","spinning","wrapperClassName","children"]),u="",d="";return s?!0===s&&(d="ant-spin-transparent"):d=void 0===s?"":"ant-spin-opaque",u=t?"point"===t?r.a.createElement("div",{className:"loading_mask ".concat(d)},r.a.createElement("div",{className:"loading_point_container"},r.a.createElement("div",{className:"point_container"},r.a.createElement("span",{className:"point1 point"}),r.a.createElement("span",{className:"point2 point"}),r.a.createElement("span",{className:"point3 point"}),r.a.createElement("span",{className:"point4 point"})),r.a.createElement("div",{className:"point_loading_text"},n))):r.a.createElement(re.a,{spinning:c,size:a,tip:n,wrapperClassName:"".concat(o||""," ").concat(d)},l):r.a.createElement(re.a,Object.assign({},i,{size:a,spinning:c,tip:n,wrapperClassName:"".concat(o||""," ").concat(d)}),l),r.a.createElement(r.a.Fragment,null," ",u)}}]),a}(r.a.Component),ge=(r.a.Component,function(e){Object(X.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(Z.a)(this,a),(n=t.call(this,e)).state={selectShow:!1,selectdValue:"",cancleShow:!1,inputFocus:!1,Value:"",SearchBlank:!1},n}return Object(Q.a)(a,[{key:"InputChange",value:function(e){this.setState({Value:e.target.value})}},{key:"componentDidMount",value:function(){var e=this;this.props.select&&document.addEventListener("click",(function(t){return e.outSpanClickHandler({that:e,target:t.target,spanDom:e.refs.search_select_span,ulDom:e.refs.search_select_ul})}))}},{key:"toggleSelectd",value:function(e){var t=this;this.setState({selectShow:!this.state.selectShow},(function(){_()(t.refs.search_select_ul).slideToggle("fast")}))}},{key:"changeSelect",value:function(e){var t=this,a=this.props.selectChange;this.setState({selectdValue:{value:e.value,title:e.title}}),this.setState({selectShow:!this.state.selectShow},(function(){_()(t.refs.search_select_ul).hide(),a(e)}))}},{key:"outSpanClickHandler",value:function(e){var t=e.target,a=e.ulDom,n=e.that,r=e.spanDom;r&&!r.contains(t)&&n.setState({selectShow:!1},(function(){_()(a).hide()}))}},{key:"onInputFocus",value:function(){this.setState({inputFocus:!0})}},{key:"SearchClick",value:function(){var e=this,t=this.props,a=t.onClickSearch,n=t.select,r=t.selectOptions;this.SearchInput.value.trim()?this.setState({cancleShow:!0,SearchBlank:!1},(function(){a&&a({selectdValue:n?e.state.selectdValue?e.state.selectdValue.value:r.selectdValue.value:null,value:e.SearchInput.value})})):(this.setState({SearchBlank:!0}),this.SearchInput.focus())}},{key:"onInputBlur",value:function(){this.setState({inputFocus:!1,SearchBlank:!1})}},{key:"handleEnterKey",value:function(e){var t=this,a=this.props,n=a.select,r=a.selectOptions,s=a.onClickSearch,c=a.onSearchKeyUp;13===e.nativeEvent.keyCode?this.SearchInput.value.trim()?this.setState({cancleShow:!0,SearchBlank:!1},(function(){if(s)return s({selectdValue:n?t.state.selectdValue?t.state.selectdValue.value:r.selectdValue.value:null,value:t.SearchInput.value})})):(this.setState({SearchBlank:!0}),this.SearchInput.focus()):c&&c()}},{key:"render",value:function(){var e=this,t=this.props,a=t.width,n=t.select,s=(t.selectChange,t.placeHolder),c=t.selectOptions,o=(t.onClickSearch,t.onCancelSearch),l=t.className,i=t.CancelBtnShow,u=t.Value,d=t.onChange,m=i?"y"===i?"block":"none":!0===this.state.cancleShow?"block":"none";return r.a.createElement("div",{className:"search_container ".concat(l||"","  ").concat(this.state.SearchBlank?"border":""),style:{width:a||"",borderColor:this.state.SearchBlank?"#ff0000":this.state.inputFocus?"#5897ed":"#bac7d9"}},r.a.createElement("table",{className:"search_wrapper_table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,n?r.a.createElement("td",{style:{width:c&&c.width?c.width:"86px"}},r.a.createElement("div",{className:"search_select_wrapper"},r.a.createElement("span",{className:"search_select_span",ref:"search_select_span",onClick:this.toggleSelectd.bind(this),style:{width:c&&c.width?c.width-14:""}},r.a.createElement("span",{className:"search_select_icon ".concat(!0===this.state.selectShow?"search_slide_icon":"")}),c&&c.selectdValue?r.a.createElement("span",{className:"search_select_text","data-value":c.selectdValue.value,title:c.selectdValue.title},c.selectdValue.title):this.state.selectdValue?r.a.createElement("span",{className:"search_select_text","data-value":this.state.selectdValue.value,title:this.state.selectdValue.title},this.state.selectdValue.title):""),r.a.createElement("ul",{className:"search_select_ul",ref:"search_select_ul"},c&&c.selectList?c.selectList.map((function(t,a){return r.a.createElement("li",{key:a,onClick:e.changeSelect.bind(e,{value:t.value,title:t.title}),className:"search_select_li","data-value":t.value,title:t.title},t.title)})):""),r.a.createElement("span",{className:"search_select_gap"}))):null,r.a.createElement("td",{className:"search_left_td"},r.a.createElement("input",{ref:function(t){return e.SearchInput=t},className:"search_text_input",type:"text",placeholder:s||"\u8f93\u5165\u5173\u952e\u8bcd\u5feb\u901f\u641c\u7d22",onFocus:this.onInputFocus.bind(this),onBlur:this.onInputBlur.bind(this),onKeyUp:this.handleEnterKey.bind(this),value:u||this.state.Value,onChange:d||this.InputChange.bind(this)}),r.a.createElement("input",{className:"search_cancel_input",type:"button",onClick:function(){e.setState({cancleShow:!1,Value:""},(function(){e.SearchInput.value="",o&&o({selectdValue:n?e.state.selectdValue?e.state.selectdValue.value:c.selectdValue.value:null,value:""})}))},style:{display:m}})),r.a.createElement("td",{className:"search_right_td"},r.a.createElement("div",{className:"search_btn_input",onClick:function(t){return e.SearchClick(t)}}))))))}}]),a}(r.a.Component)),ye=function(e){Object(X.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(Z.a)(this,a),(n=t.call(this,e)).selectType=function(e){var t="tips-error-1";switch(e){case"1":n.state.title||n.setState({title:"\u8bf7\u9009\u62e9\u8981\u67e5\u770b\u7684\u5b66\u6821"}),t="tips-error-1";break;case"2":n.state.title||n.setState({title:"\u65e9\u8d77\u7684\u9e1f\u513f\u6709\u866b\u5403~"}),t="tips-error-2";break;case"3":n.state.title||n.setState({title:"\u7a7a\u7a7a\u5982\u4e5f\uff0c\u6682\u65f6\u8fd8\u6ca1\u6709\u8d44\u6e90\uff5e"}),t="tips-error-3";break;case"4":n.state.title||n.setState({title:"\u7a7a\u7a7a\u5982\u4e5f\uff0c\u6682\u65f6\u8fd8\u6ca1\u6709\u8d44\u6599\uff5e"}),t="tips-error-4";break;case"5":n.state.title||n.setState({title:"\u65e0\u641c\u7d22\u7ed3\u679c\uff0c\u6362\u4e2a\u8bcd\u8bd5\u8bd5\u5427~"}),t="tips-error-5";break;default:n.state.title||n.setState({title:"\u8bf7\u9009\u62e9\u8981\u67e5\u770b\u7684\u5b66\u6821"}),t="tips-error-1"}n.setState({className_1:t})},n.state={type:e.type,title:e.title,style:e.style,className:e.className?e.className:"",noTitle:e.noTitle,className_1:"tips-error-1",imageStyle:e.imageStyle,titleStyle:e.noTitle?"noTitle":e.titleStyle?e.titleStyle:""},n}return Object(Q.a)(a,[{key:"componentDidMount",value:function(e){var t=this.props,a=t.style,n=t.title;this.setState({title:n,style:a}),this.selectType(this.state.type)}},{key:"render",value:function(){return r.a.createElement("div",{className:"emptyBox ".concat(this.state.className),style:this.state.style},r.a.createElement("i",{style:this.state.imageStyle,className:"empty ".concat(this.state.className_1)}),r.a.createElement("span",{className:"initTitle ".concat(this.state.titleStyle)},this.state.title))}}]),a}(r.a.Component),ve=function(e){Object(X.a)(a,e);var t=Object(K.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.type,n=Object(Y.a)(e,["children","type"]),s="";switch(a){case"gray":s="ant-radio-gray";break;case"green":s="ant-radio-green";break;default:s=""}return r.a.createElement(ce.a,{locale:ae.a},r.a.createElement(oe.a,Object.assign({className:s},n),t))}}]),a}(r.a.Component),Ee=function(e){Object(X.a)(a,e);var t=Object(K.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=Object(Y.a)(e,["children"]);return r.a.createElement(ce.a,{locale:ae.a},r.a.createElement(oe.a.Group,a,t))}}]),a}(r.a.Component),Ie=function(e){Object(X.a)(a,e);var t=Object(K.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.type,s=Object(Y.a)(e,["children","className","type"]),c="";switch(n){case"gray":c="ant-checkbox-gray";break;case"circle":c="ant-checkbox-circle";break;default:c=""}return r.a.createElement(ce.a,{locale:ae.a},r.a.createElement(le.a,Object.assign({className:"".concat(a||""," ").concat(c)},s),t))}}]),a}(r.a.Component),Se=function(e){Object(X.a)(a,e);var t=Object(K.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=Object(Y.a)(e,["children"]);return r.a.createElement(ce.a,{locale:ae.a},r.a.createElement(le.a.Group,a,t))}}]),a}(r.a.Component),Oe=function(e){Object(X.a)(a,e);var t=Object(K.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=Object(Y.a)(e,["children"]);return r.a.createElement(ce.a,{locale:ae.a},r.a.createElement(ie.a,a,t))}}]),a}(r.a.Component),xe=function(e){Object(X.a)(a,e);var t=Object(K.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.size,n=e.className,s=e.showSizeChanger,c=Object(Y.a)(e,["children","size","className","showSizeChanger"]);return r.a.createElement(ce.a,{locale:ae.a},r.a.createElement(ue.a,Object.assign({className:"".concat(n||""," ").concat(a&&"micro"===a?"micro":""," "),size:a,showSizeChanger:s,showTotal:s?function(e){return r.a.createElement("span",null,"\u5171",r.a.createElement("span",{style:{color:"#ff6600"}},e),"\u6761")}:function(){}},c),t))}}]),a}(r.a.Component),Ne=function(e){Object(X.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(Z.a)(this,a),(n=t.call(this,e)).onOk=function(){var e=n.props.onOk;"function"===typeof e&&e(),n.setState({show:!1})},n.onCancel=function(){var e=n.props.onCancel;"function"===typeof e&&e(),n.setState({show:!1})},n.onClose=function(){var e=n.props.onClose;"function"===typeof e&&e(),n.setState({show:!1})},n.onHide=function(){"function"===typeof n.state.autoHide&&n.state.autoHide(),n.state.autoHide&&n.onClose()},n.state={show:e.show,autoHide:!!e.autoHide&&e.autoHide,type:e.type?e.type:e.autoHide?"warn":"btn-error"},n}return Object(Q.a)(a,[{key:"render",value:function(){return r.a.createElement(Le,{show:this.state.show,type:this.state.type,title:this.props.title,onOk:this.onOk,onCancel:this.onCancel,onClose:this.onClose,cancelShow:this.props.cancelShow?"y":"n",onHide:this.onHide})}}]),a}(r.a.Component);function je(e){var t=e.className,a=e.children,n=Object(Y.a)(e,["className","children"]);return r.a.createElement(de.a,Object.assign({getPopupContainer:function(e){return e.parentNode},placement:"right",overlayClassName:"lg-tip ".concat(t||"")},n),a)}function we(e){var t=e.dropList,a=e.width,n=e.className,s=e.dropdownClassName,c=e.style,o=e.title,l=e.onSelect,i=Object(Y.a)(e,["dropList","width","className","dropdownClassName","style","title","onSelect"]);return r.a.createElement("div",{className:"lg-dropdown ".concat(o?"":"second-level-dropdown"," ").concat(n||"")},o?r.a.createElement("span",{className:"dropdown-title"},o,":"):"",r.a.createElement(ne.a,Object.assign({className:"dropdown-box ".concat(s||""),width:a,style:Object(m.a)({width:(a||200)+"px"},c),onSelect:function(e,a){"function"===typeof l&&l(e,Object(m.a)(Object(m.a)({},a),t.find((function(t){return t.value===e}))))}},i),t instanceof Array&&t.map((function(e,t){return r.a.createElement(pe,{value:e.value,key:t},e.title)}))))}var De=function(e){Object(X.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(Z.a)(this,a),(n=t.call(this,e)).state={afterClose:e.afterClose,bodyStyle:e.bodyStyle,closable:e.closable,footer:e.footer,mask:e.mask,maskClosable:!!e.maskClosable&&e.maskClosable,maskStyle:e.maskStyle,okText:e.okText,okType:e.okType,style:e.style,title:e.title,width:e.width,onCancel:e.onCancel,onOk:e.onOk,visible:e.visible,className:e.className?e.className:"",destroyOnClose:!e.destroyOnClose||e.destroyOnClose,ModalStyle:"Modal-1"},n}return Object(Q.a)(a,[{key:"selectType",value:function(e){var t=810,a="Modal-1";switch(e){case"1":t=810,a="Modal-1";break;case"2":t=810,a="Modal-2",this.setState({footer:null});break;case"3":t=588,a="Modal-3";break;default:t=810,a="Modal-1"}this.setState({width:this.props.width?this.props.width:t,ModalStyle:a})}},{key:"componentWillMount",value:function(){this.selectType(this.props.type)}},{key:"componentDidMount",value:function(){var e=this.props;e.title,e.bodyStyle,e.className,e.footer,e.mask}},{key:"render",value:function(){return r.a.createElement(me.a,{ref:this.Ref,onOk:this.state.onOk,onCancel:this.state.onCancel,title:this.state.title,className:"initModel ".concat(this.state.ModalStyle," ").concat(this.state.className),style:this.state.style,okText:this.state.okText,maskClosable:this.state.maskClosable,mask:this.state.mask,maskStyle:this.props.maskStyle,closable:this.state.closable,destroyOnClose:this.state.destroyOnClose,bodyStyle:this.state.bodyStyle,afterClose:this.state.afterClose,visible:this.props.visible,centered:!this.props.centered||this.props.centered,width:this.state.width,zIndex:this.state.zIndex,closeIcon:"Modal-1"===this.state.ModalStyle?r.a.createElement("i",{className:"modal-close-icon"}):null,footer:null===this.state.footer?null:this.state.footer?this.state.footer:[r.a.createElement(Te,{key:"onOk",type:"primary",size:"small",color:"green",onClick:this.state.onOk},this.props.okText?this.props.okText:"\u786e\u5b9a"),r.a.createElement(Te,{key:"onCancel",size:"small",color:"blue",onClick:this.state.onCancel},this.props.cancelText?this.props.cancelText:"\u53d6\u6d88")],id:"AntdModal"},this.props.children)}}]),a}(r.a.Component),Te=function(e){Object(X.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(Z.a)(this,a),(n=t.call(this,e)).HandleSize=function(e){switch(e){case"large":return"btn-large";case"normal":return"btn-normal";case"small":return"btn-small";default:return"btn-size"}},n.HandleColor=function(e,t,a){if("primary"===a){if(t)return"btn-disabled";switch(e){case"orange":return"btn-orange";case"green":return"btn-green";case"blue":return"btn-blue";case"red":return"btn-red";case"mazarine":return"btn-mazarine";default:return"btn-orange"}}else if("default"===a){if(t)return"btn-disabled-default";switch(e){case"orange":return"btn-orange-default";case"green":return"btn-green-default";case"blue":return"btn-blue-default";case"red":return"btn-red-default";case"mazarine":return"btn-mazarine-default";default:return"btn-orange-default"}}else{if(t)return"btn-disabled";switch(e){case"orange":return"btn-orange";case"green":return"btn-green";case"blue":return"btn-blue";case"red":return"btn-red";case"mazarine":return"btn-mazarine";default:return"btn-orange"}}},n.handleHeight=function(e){return{height:e+"px",lineHeight:e+"px"}},n.handleWidth=function(e){return{width:e+"px"}},n.handleStyle=function(){var e=n.state.style?n.state.style:{};return n.props.height&&(e=Object.assign({},e,n.handleHeight(n.props.height))),n.props.width&&(e=Object.assign({},e,n.handleWidth(n.props.width))),{style:e}},n.state={type:e.type,size:e.size,disabled:!!e.disabled,color:e.color,value:e.value,shape:e.shape,onClick:e.onClick,onChange:e.onChange,style:e.style,className:e.className?e.className:""},n}return Object(Q.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({type:e.type,size:e.size,disabled:!!e.disabled,color:e.color,value:e.value,shape:e.shape,onClick:e.onClick,onChange:e.onChange,style:e.style,className:e.className?e.className:""})}},{key:"render",value:function(){return r.a.createElement(ce.a,{locale:ae.a},r.a.createElement(fe.a,{className:"Button ".concat(this.HandleSize(this.state.size)," ").concat(this.HandleColor(this.state.color,this.state.disabled,this.state.type)," ").concat(this.state.className),shape:this.state.shape,disabled:this.state.disabled,onClick:this.state.onClick,style:this.state.style,block:this.props.block,href:this.props.href,target:this.props.target},this.props.children?this.props.children:this.state.value))}}]),a}(r.a.Component);function ke(e){var t=e.component,a=e.children,n=e.props;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(t,n,a):r.a.createElement(r.a.Fragment,null,a))}var Ce=Object(n.memo)(xe),Le=Object(n.memo)(he),Ae=Object(n.memo)(we);a(1235);function Je(e){return Re(window.location.href,e)}function Re(e,t){if("string"===typeof e&&!e.includes("?"))return!1;for(var a=He(e).urlSearch.split("&"),n=0;n<a.length;n++){var r=a[n].split("=");if(r[0]===t)return r[1]}return!1}function Me(e){var t=decodeURIComponent(e);if(-1===t.indexOf("lg_tk"))return t;var a="";return a=-1===t.indexOf("#")?t.split("lg_tk=")[1].split("&")[0]:t.split("lg_tk=")[1].split("#")[0].split("&")[0],a=t.includes("&lg_tk=")?"&lg_tk="+a:"lg_tk="+a,t.replace(a+"&","").replace(a,"")}function Pe(e,t){for(var a=e.split("&"),n=[],r=0;r<a.length;r++){a[r].split("=")[0]!==t&&n.push(a[r])}return n.join("&")}var We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=He(e),r=n.urlHash,s=n.urlPath,c=n.urlSearch,o=t+"="+a;if(e.indexOf(t)>-1)e=s+"?"+Pe(c,t)+"&"+o+"#/"+r;else{var l=e.indexOf("?");l<0?e=s+"?"+o+"#/"+r:l>=0&&l!==e.length-1&&(e=s+"?"+c+"&"+o+"#/"+r)}return e},He=function(e){var t="",a="",n="",r=e.indexOf("#/"),s=e.indexOf("?");return-1!==r?r<s?(t=e.split("#/")[1].split("?")[1],n=e.split("#/")[0],a=e.split("#/")[1].split("?")[0]):(t=e.split("#/")[0].split("?")[1],n=e.split("#/")[0].split("?")[0],a=e.split("#/")[1]):(t=e.split("?")[1],n=e.split("?")[0]),{urlHash:a,urlPath:n,urlSearch:t}},ze=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];if(!(t instanceof Array))return!1;t.forEach((function(t,l){var i=o.map((function(e){return e}));i.push(l),a({child:t,index:l,indexArray:i,level:s,parent:c}),(!r||isNaN(r)||s<r)&&t[n]instanceof Array&&e(t[n],a,n,r,s+1,[t].concat(c),i)}))};var Ue=function(e,t){var a=[];return e instanceof Array&&e.push(t),e instanceof Array&&e.forEach((function(e){""!==e&&void 0!=e&&(0===a.length?a.push(e):a.some((function(t){return t===e}))||a.push(e))})),a},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=e;return t instanceof Array&&t.forEach((function(e,t){a=Ue(a,e)})),a},Fe=function(e){return Be(e,e)};var Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key is undefined",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=t instanceof Object?JSON.stringify(t):t,sessionStorage.setItem(e,t),a&&localStorage.setItem(e,t)},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===e)return console.log("Storage key is not undefined"),null;var a="";if(null===(a=t?localStorage.getItem(e):sessionStorage.getItem(e)))return console.log(e+" Storage is not exist"),null;try{a=JSON.parse(a)}catch(n){}return a},Ve=function(e){return console.log("pathname",e),e.substr(1).split("/")};function Ye(e){var t=e.value,a=e.regular,n=e.success,r=e.error,s=function(){};(a=a||/^[A-Za-z0-9_()\u4e00-\u9fa5-]{0,100}$/,n=n||s,r=r||s,""!==(t=t||""))?a.test(t)?n():r(!1):r(!0)}function Ze(){var e=document.getElementById("alert");if(!e){var t=document.getElementsByTagName("body")[0],a=document.createElement("div");a.setAttribute("id","alert"),t.appendChild(a),e=document.getElementById("alert")}return e}var Qe=function(e){var t=e.title,a=e.type,n=e.autoHide,s=Object(Y.a)(e,["title","type","autoHide"]);t=t||"\u670d\u52a1\u5668\u51fa\u73b0\u672a\u77e5\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5\u6216\u8054\u7cfb\u7ba1\u7406\u5458";var o=Ze();c.a.render(r.a.createElement(Ne,Object.assign({key:"alert-400-"+Math.round(1e4*Math.random()),show:!0,title:t,type:a,autoHide:n},s)),o)};function Xe(e,t){var a=null;return function(){a&&clearTimeout(a),a=setTimeout(e,t)}}var Ke=function(e){var t="file",a=!1;if("string"===typeof e){var n=e.lastIndexOf(".");if(-1===n)t="unknown";else{var r=e.slice(n+1).toLowerCase();["avi","asf","wmv","avs","flv","mkv","mov","3gp","mp4","mpg","mpeg","dat","ogm","vob","rm","rmvb","ts","tp","ifo","nsv","m4v","m3u8","3gpp","3gpp2","divx","f4v","ram","v8","swf","m2v","asx","ndivx","xvid"].some((function(e){return e===r&&(t="video",a=!0),e===r})),["mp3","aac","wav","cda","flac","m4a","mid","mka","mp2","mpa","mpc","ape","ofr","ogg","ra","wv","tta","ac3","dts","wma","midi"].some((function(e){return e===r?(t="audio",a=!0,e===r):e===r})),["jpeg","jpg","tiff","raw","bmp","gif","png"].some((function(e){return e===r&&(t="pic",a=!0),e===r})),["rar","zip","7z","arj","cab","lzh","ace","gz","uue","bz2","jar","iso"].some((function(e){return e===r&&(t="zip",a=!0),e===r})),a||(t="doc"===r||"docx"===r?"doc":"xls"===r||"xlsx"===r?"excel":"ppt"===r?"ppt":"pdf"===r?"pdf":"html"===r||"xml"===r?"html":"txt"===r?"txt":"unknown")}}return t},qe=function(){return Je("lg_tk")||_e("token")||_e("token",!0)},$e=function(e,t){e&&_()(window).resize((function(){var a=null,n=null;if("function"===typeof t){var r=t();r instanceof Object&&(a=r.height||null,n=r.width||null)}e.resize(n,a)}))};function et(e){return Object.prototype.toString.call(e).slice(8,-1)}function tt(e){var t,a=et(e);if("Object"===a)t={};else{if("Array"!==a)return e;t=[]}for(var n in e){var r=e[n];"Object"===et(r)||"Array"===et(r)?t[n]=tt(r):t[n]=r}return t}var at=function(e){var t=[];if(e instanceof Array)t=e;else if("object"===typeof e)for(var a in e)t.push(e[a]);else t=[e];return t},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"script",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};try{var r=document.createElement(t);for(var s in e)r[s]=e[s];if(e.id&&document.getElementById(e.id))return void n(!1);document[a].appendChild(r),n(!0)}catch(c){n(!1),console.error(c)}},rt=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},a=r.length>1&&void 0!==r[1]?r[1]:"script",n=r.length>2&&void 0!==r[2]?r[2]:"body",e.abrupt("return",new Promise((function(e,r){nt(Object(m.a)(Object(m.a)({type:"text/javascript",charset:"utf-8"},t),{},{onload:function(){e(!0),"function"===typeof t.onLoad&&t.onLoad()}}),a,n,(function(t){e(t)}))})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=function(e){return isNaN(Number(e))?0:Number(e)},ct=function(e,t,a){var n={time:e=isNaN(e)?0:Number(e),unit_zh:"\u5206\u949f",unit_En_Up:"M",unit_En_Low:"m"};return("h"===a||e>=60)&&(n.time=Number((e/60).toFixed(2)),n.unit_zh="\u5c0f\u65f6",n.unit_En_Up="H",n.unit_En_Low="h"),n.Time_zh=n.time+n.unit_zh,n.Time_En=n.time+n.unit_En_Up,n.Time_En_Low=n.time+n.unit_En_Low,n};function ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;e=Number(e);try{var a=parseFloat(e.toPrecision(12));return void 0===t&&"number"===typeof t?a:Number(a.toFixed(t))}catch(n){return console.log(n),0}}var lt={versions:function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1===e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Adr")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1===e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,qq:" qq"===e.match(/\sQQ/i)}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},it=it||function(e){var t=e.document,a=e.navigator.userAgent.toLowerCase(),n=t.documentMode,r=e.chrome||!1,s={agent:a,isIE:/msie/.test(a),isGecko:a.indexOf("gecko")>0&&a.indexOf("like gecko")<0,isWebkit:a.indexOf("webkit")>0,isStrict:"CSS1Compat"===t.compatMode,supportSubTitle:function(){return"track"in t.createElement("track")},supportScope:function(){return"scoped"in t.createElement("style")},ieVersion:function(){try{return a.match(/msie ([\d.]+)/)[1]||0}catch(e){return console.log("error"),n}},operaVersion:function(){try{if(e.opera)return a.match(/opera.([\d.]+)/)[1];if(a.indexOf("opr")>0)return a.match(/opr\/([\d.]+)/)[1]}catch(t){return console.log("error"),0}},versionFilter:function(){if(1===arguments.length&&"string"===typeof arguments[0]){var e=arguments[0];return start=e.indexOf("."),start>0&&(end=e.indexOf(".",start+1),-1!==end)?e.substr(0,end):e}return 1===arguments.length?arguments[0]:0}};try{s.type=s.isIE?"IE":e.opera||a.indexOf("opr")>0?"Opera":a.indexOf("chrome")>0?"Chrome":e.openDatabase?"Safari":a.indexOf("firefox")>0?"Firefox":"unknow",s.version="IE"===s.type?s.ieVersion():"Firefox"===s.type?a.match(/firefox\/([\d.]+)/)[1]:"Chrome"===s.type?a.match(/chrome\/([\d.]+)/)[1]:"Opera"===s.type?s.operaVersion():"Safari"===s.type?a.match(/version\/([\d.]+)/)[1]:"0",s.shell=function(){if(a.indexOf("maxthon")>0)return s.version=a.match(/maxthon\/([\d.]+)/)[1]||s.version,"\u50b2\u6e38\u6d4f\u89c8\u5668";if(a.indexOf("qqbrowser")>0)return s.version=a.match(/qqbrowser\/([\d.]+)/)[1]||s.version,"QQ\u6d4f\u89c8\u5668";if(a.indexOf("se 2.x")>0)return"\u641c\u72d7\u6d4f\u89c8\u5668";if(r&&"Opera"!==s.type){var t=e.external,n=e.clientInformation.languages;if(t&&"LiebaoGetVersion"in t)return"\u730e\u8c79\u6d4f\u89c8\u5668";if(a.indexOf("bidubrowser")>0)return s.version=a.match(/bidubrowser\/([\d.]+)/)[1]||a.match(/chrome\/([\d.]+)/)[1],"\u767e\u5ea6\u6d4f\u89c8\u5668";if(s.supportSubTitle()&&"undefined"===typeof n){var c=Object.keys(r.webstore).length;return c>1?"360\u6781\u901f\u6d4f\u89c8\u5668":"360\u5b89\u5168\u6d4f\u89c8\u5668"}return"Chrome"}return s.type},s.name=s.shell(),s.version=s.versionFilter(s.version)}catch(c){console.log("error")}return{client:s}}(window),ut=function(e){var t=e.split("");return"/"===t[t.length-1]?e.substr(0,t.length-1):e},dt=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,r,s,c,o,u,d,m,f,p,h,b,g,y,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.sysID,n=t.callback,r=t.firstLoad,a=a||"L10",n=n||function(e){},r=r||!1,s=ht(),c=s.SESSION_TOKEN,o=s.URL_TOKEN,u=s.LOCAL_TOKEN,d=JSON.parse(sessionStorage.getItem("BasePlatformMsg")),m=d?d.WebRootUrl:"",f=m,p=function(){It(f)},c||o||u||p(),h=Fe([o,c,u]),b=!1,g=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,r,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:function(){},r=s.length>2&&void 0!==s[2]?s[2]:function(){},e.next=4,vt(f,t,a,(function(){n()}),r);case 4:return b=e.sent,e.abrupt("return",b);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=0,v=!1,h.forEach(function(){var e=Object(i.a)(l.a.mark((function e(t,a){var s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,g(t,(function(){}),(function(){console.log(++y,t)}));case 4:if(!(s=e.sent)){e.next=18;break}if((c=_e("UserInfo"))&&!r){e.next=14;break}return e.next=10,gt();case 10:if(c=e.sent){e.next=14;break}return n(!1),e.abrupt("return");case 14:return n(c,t),bt(),v=!0,e.abrupt("return",!0);case 18:return a===h.length-1&&(n(!1),p()),e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function mt(e){return ft.apply(this,arguments)}function ft(){return(ft=Object(i.a)(l.a.mark((function e(t){var a,n,r,s,c,o,i,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.baseIP,n=t.sysID,r=t.init,s=ht(),c=s.SESSION_TOKEN,o=s.URL_TOKEN,i=s.LOCAL_TOKEN,n&&(n="L10"),a=a||(_e("BasePlatformMsg")instanceof Object?_e("BasePlatformMsg").WebRootUrl:""),u=o||c||i,Ge("LogOuting",!0),pt({token:u,sysID:n,baseIP:a,method:"Logout",success:function(e){e.data.result&&(sessionStorage.setItem("LogOuting",!1),It(a,r||!1))},error:function(e){alert(e)}});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pt=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,r,s,c,o,i,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.baseIP,n=t.token,r=t.method,s=t.sysID,c=t.success,o=t.error,a||(i=JSON.parse(sessionStorage.getItem("BasePlatformMsg")),u=i?i.WebRootUrl:"",a=u),d=_.a.ajax({url:"".concat(a,"/UserMgr/Login/Api/Login.ashx?method=").concat(r,"&params=").concat(s).concat(n?"&token="+n:""),type:"GET",dataType:"jsonp",jsonp:"jsoncallback",success:function(e){"function"===typeof c&&c(e)},error:function(e){"function"===typeof o&&o(e)}}),e.abrupt("return",d);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ht=function(){return{SESSION_TOKEN:_e("token"),URL_TOKEN:Je("lg_tk"),LOCAL_TOKEN:_e("token",!0)}},bt=function(){if(!_e("lastTime")){var e=(new Date).getTime();Ge("lastTime",e)}setTimeout(Object(i.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_e("lastTime"),a=new Date,!(6e4<=(n=a.getTime())-t)){e.next=7;break}return Ge("lastTime",n),e.next=7,dt({});case 7:case"end":return e.stop()}}),e)}))),6e4)},gt=function(){var e=Object(i.a)(l.a.mark((function e(t,a){var n,r,s,c,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:"L10",r=o.length>3&&void 0!==o[3]?o[3]:function(){},a=a||_e("token"),t||(s=JSON.parse(sessionStorage.getItem("BasePlatformMsg")),c=s?s.WebRootUrl:"",t=c),e.abrupt("return",new Promise((function(e){a?pt({token:a,sysID:n,baseIP:t,method:"GetUserInfo",success:function(a){if(a&&a.data){var n=a&&a.data?a.data:{},s={};for(var c in s.TruethUserType=n.UserType,n){var o=n[c];if("PhotoPath"===c)o=o+"?T="+(new Date).getTime();if("LockerState"===c&&1!==parseInt(o))return void(window.location.href=t+"/LockerMgr/ErrorTips.aspx?ErrorCode="+o);s[c]=decodeURIComponent(o)}s.isLogin=!0,Ge("UserInfo",s),r(),e(s)}else e(!1)},error:function(t){e(!1)}}):e(!1)})));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),yt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];window.location.href=e+(t?"/?lg_preurl="+encodeURIComponent(Me(window.location.href)):"")},vt=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};return new Promise((function(s,c){if(!e||!t||!a)return s(!1),void console.error("baseIP or token or sysID is not undefined");pt({token:t,sysID:a,baseIP:e,method:"tokenCheck",success:function(e){e&&e.data&&e.data.result?(Et(t),n(),s(!0)):(r(),s(!1))},error:function(e){r(),c(!1)}})}))},Et=function(e){Ge("token",e),Ge("token",e,!0),window.history.pushState(null,null,We(window.location.href,"lg_tk",e))},It=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];sessionStorage.clear(),localStorage.removeItem("token"),yt(e,t)},St={},Ot=window.location.host,xt=window.location.pathname,Nt=window.location.protocol,jt="";if(xt.includes("/html/"))jt=xt.split("/html/")[0];else if(xt.includes(".html")){var wt=window.location.pathname.split(".html")[0].split("/");wt.pop(),jt=wt.join("/")}else jt=xt;var Dt=Nt+"//"+Ot+jt;St={TokenProxy:"",proxy:"http://192.168.2.202:7300/mock/5d7726e0ed0ccd1564c8df05/webCloudDev",BasicProxy:Dt,LoginProxy:Dt,EditorProxy:"/UEditor/",ErrorProxy:"http://192.168.129.1:30103",HashPrevProxy:Dt,RootProxy:Dt},console.log=function(){};var Tt=St,kt=(a(1246),a(1247),a(203)),Ct=a.n(kt),Lt=a(885),At=a.n(Lt),Jt="123456789",Rt="abcdefgabcdefg12",Mt=0,Pt={fetch:function(e,t,a,n){return a||(a={}),Pt[t.toLowerCase()](e,a,n).catch((function(r){if(console.log("fetchService failed:"+r),"401"===r.code||"403"===r.code)return++Mt>2?void(Mt=0):Pt.fetch(e,t,a,n)}))},get:function(e){var t=e.url,a=e.header,n=e.securityLevel,r=e.config,s=e.advance;a||(a={}),r||(r={}),n||(n=2),void 0===s&&(s=!0);var c=fetch(t,Object(m.a)({method:"GET",headers:Object(m.a)({Accept:"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded",Authorization:Ht(t,Rt,n)},a),redirect:"follow",mode:"cors",cache:"no-cache",credentials:"omit"},r));return c.then((function(e){s&&Wt(e,s)})),c},put:function(e){var t=e.url,a=e.header,n=e.body,r=e.securityLevel,s=e.config,c=e.advance;e.data;a||(a={}),s||(s={}),r||(r=2),void 0===c&&(c=!0);var o=a["Content-Type"]&&"application/json"===a["Content-Type"]?"json":"default",l=fetch(Yt(t,Rt,r),Object(m.a)({method:"PUT",headers:Object(m.a)({Accept:"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded",Authorization:Ht(t,Rt,r)},a),redirect:"follow",mode:"cors",cache:"no-cache",credentials:"omit",body:Vt(n,Rt,r,o)},s));return l.then((function(e){c&&Wt(e,c)})),l},delete:function(e){var t=e.url,a=e.header,n=e.body,r=e.securityLevel,s=e.config,c=e.advance,o=e.data;a||(a={}),s||(s={}),r||(r=2),void 0===c&&(c=!0);var l=a["Content-Type"]&&"application/json"===a["Content-Type"]?"json":"default",i=fetch(Yt(t,Rt,r),Object(m.a)({method:"DELETE",headers:Object(m.a)({Accept:"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded",Authorization:Ht(t,Rt,r)},a),redirect:"follow",mode:"cors",cache:"no-cache",credentials:"omit",body:Vt(n,Rt,r,l),data:JSON.stringify(o)},s));return i.then((function(e){c&&Wt(e,c)})),i},post:function(e){var t=e.url,a=e.header,n=e.body,r=e.securityLevel,s=e.config,c=e.advance;a||(a={}),s||(s={}),r||(r=2),void 0===c&&(c=!0);var o=a["Content-Type"]&&"application/json"===a["Content-Type"]?"json":"default",l=fetch(Yt(t,Rt,r),Object(m.a)({method:"POST",headers:Object(m.a)({Accept:"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded",Authorization:Ht(t,Rt,r)},a),redirect:"follow",mode:"cors",cache:"no-cache",credentials:"omit",body:Vt(n,Rt,r,o)},s));return l.then((function(e){c&&Wt(e,c)})),l},post2:function(e){var t=e.url,a=e.header,n=e.body,r=e.securityLevel,s=e.config,c=e.advance;a||(a={}),s||(s={}),r||(r=2),void 0===c&&(c=!0);var o=a["Content-Type"]&&"application/json"===a["Content-Type"]?"json":"default",l=fetch(Yt(t,Rt,r),Object(m.a)({method:"POST",headers:Object(m.a)({Accept:"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded",Authorization:Ht(t,Rt,r)},a),redirect:"follow",mode:"cors",cache:"no-cache",credentials:"omit",body:Vt(n,Rt,r,o)},s));return l.then((function(e){c&&Wt(e,c)})),l},tranfer:function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,r,s,c,o,i,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.reqUrl,n=t.url,r=t.basicProxy,s=void 0===r?"":r,c=t.token,o=null,c=c||sessionStorage.getItem("token")||_t("lg_tk"),n=n||s+"/Global/GetHttpRequestTransfer?appid=000&token="+c+"&reqUrl="+encodeURIComponent(a),e.prev=4,e.next=7,Pt.get({url:n,securityLevel:2,advance:!1});case 7:return i=e.sent,e.next=10,i.json();case 10:u=e.sent,o=JSON.parse(u),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),o=!1;case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}()};function Wt(e,t){var a=e.clone(),n=Ze();try{a.json().then((function(e){var a="";if(e.status&&(e.StatusCode=e.status),!e)return a="\u670d\u52a1\u5668\u51fa\u73b0\u672a\u77e5\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5\u6216\u8054\u7cfb\u7ba1\u7406\u5458",void c.a.render(r.a.createElement(Ne,{key:"alert-400-"+Math.round(1e4*Math.random()),show:!0,title:a}),n);if(!e.StatusCode)return a="\u670d\u52a1\u5668\u51fa\u73b0\u672a\u77e5\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5\u6216\u8054\u7cfb\u7ba1\u7406\u5458",void c.a.render(r.a.createElement(Ne,{key:"alert-400-"+Math.round(1e4*Math.random()),show:!0,title:a}),n);if(200!==e.StatusCode){var s=!1,o={};if(!0===t)s=!0;else{if(!(t instanceof Array))return void console.log("\u53c2\u6570\u9519\u8bef");t.forEach((function(e){o[e]=!0}))}switch(e.StatusCode){case 400:(s||o[400])&&(a=e.msg,c.a.render(r.a.createElement(Ne,{key:"alert-400-"+Math.round(1e4*Math.random()),show:!0,title:a}),n));break;case 500:(s||o[500])&&(a="\u670d\u52a1\u5668\u51fa\u73b0\u672a\u77e5\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5\u6216\u8054\u7cfb\u7ba1\u7406\u5458",c.a.render(r.a.createElement(Ne,{key:"alert-400-"+Math.round(1e4*Math.random()),show:!0,title:a}),n));break;case 401:s||o[401]}}}))}catch(s){console.error(s)}}function Ht(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=sessionStorage.getItem("token")||_t("lg_tk"),r=null;if(n||1===a){if(1===a)return r;if(2===a)r="X-Token="+n;else if(3===a)r="X-Token="+n+"&sign="+Bt(n,e,t);else if(4===a){var s=Ut("http://192.168.2.248:8075/Global/GetTimestramp"),c=zt(8,s);r="X-Token="+n+"&randomString="+c+"&sign="+Bt(n,e,t,c)}else console.log("SecurityLevel\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u8bbe\u7f6e");return r}console.log("token\u65e0\u6548\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55");var o=sessionStorage.getItem("baseUrl");window.location.href=o}function zt(e,t){e=e||8;for(var a="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=a.length,r="",s=0;s<e;s++)r+=a.charAt(Math.floor(Math.random()*n));return r+t}function Ut(e){var t=new Date,a="yyyyMMddHH",n={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var r in/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(a)&&(a=a.replace(RegExp.$1,1===RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return fetch(e,{method:"get",mode:"no-cors",cache:"no-cache",credentials:"include",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencodeed"},redirect:"follow"})}function Bt(e,t,a,n){try{return Ft(Gt(t),a,e,n)}catch(r){console.log(r)}}function Ft(e,t,a,n){return At()(a+e+t+n)}function Gt(e){var t="";"string"==typeof e?t=e.split("?")[1]:"object"==typeof e?t=_.a.param(e):console.log("\u53c2\u6570\u4e0d\u5408\u6cd5");return t}function _t(e){for(var t=(window.location.search.substring(1)||window.location.href.split("?")[1]||window.location.href).split("&"),a=0;a<t.length;a++){var n=t[a].split("=");if(n[0]===e)return n[1]}return!1}function Vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jt,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if("json"===n){var r=JSON.stringify(e);return 3!==a&&4!==a||(r=JSON.stringify({p:Zt(r,t)})),r}var s=_.a.param(e);return 3!==a&&4!==a||(s=_.a.param({p:Zt(s,t)})),s}function Yt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jt,a=arguments.length>2?arguments[2]:void 0,n=e,r=e.split("?"),s=r[1],c=r[0];return 3!==a&&4!==a||(n=c+"?p="+Zt(s,t)),n}function Zt(e,t){var a={mode:Ct.a.mode.ECB,padding:Ct.a.pad.Pkcs7},n=Ct.a.enc.Utf8.parse(t),r=Ct.a.AES.encrypt(e,n,a).toString().replace(/\//g,"_");return r=r.replace(/\+/g,"-")}var Qt=Pt,Xt=Tt.BasicProxy,Kt=Qt.get,qt=Qt.post,$t=0,ea=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r="",s=!1;t?"string"===typeof t?r=t:"object"===typeof t&&(r=t.moduleID||"",s=t.onlyBase||!1):r="",console.log(t),$t++,ua((function(t){da(t).then((function(t){s?a({basePlatformMsg:t}):t?dt({firstLoad:!0,callback:function(e,n){if(e){var s=na(r),c=ma(e.SchoolID?e.SchoolID:""),o=ta([310,"D21","E34","C10"]);Promise.all([s,c,o]).then((function(r){var s=Object(u.a)(r,3),c=s[0],o=s[1],l=s[2];if(!["IC0001","IC0002","IC0010","IC0012","IC0014","IC0015"].includes(c.IdentityCode)&&c.IsPreset)return alert("\u6682\u4e0d\u652f\u6301\u8be5\u8eab\u4efd\u767b\u5f55\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01"),void mt({init:!1});"IC0015"==c.IdentityCode&&(e.UserID=e.UserID.substr(e.UserID.indexOf("_")+1),sessionStorage.setItem("UserInfo",JSON.stringify(e))),a({identityDetail:c,basePlatformMsg:t,userInfo:e,termInfo:o,systemServer:l,token:n,role:aa(e,c,t)})}))}}}):($t<=2&&e(),n())}))}))},ta=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,r,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_e("BasePlatformMsg")instanceof Object?_e("BasePlatformMsg"):{},n=a.WebRootUrl,t=[400,200].concat(at(t)).join(","),e.next=4,Kt({url:"".concat(n,"/BaseApi/Global/GetSubSystemsMainServerBySubjectID?appid=L10&access_token=7f0fc0ce1335b77b0f3f944003713e09&subjectID=&sysIDs=").concat(t),securityLevel:2});case 4:return r=e.sent,e.next=7,r.json();case 7:if(200!==(s=e.sent).StatusCode){e.next=15;break}return c={},s.Data instanceof Array&&s.Data.forEach((function(e){c[e.SysID]=e})),Ge("SubSystemsMainServer",c),e.abrupt("return",c);case 15:return e.abrupt("return",{});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),aa=function(e,t,a){var n={version:"noPower",identityCode:"",identityName:"",userType:"",userClass:""};try{var r=a.ProductUseRange,s=t.IdentityCode,c=t.IdentityName;n.userType=parseInt(e.UserType),n.userClass=parseInt(e.UserClass),n.identityCode=s,n.identityName=c,r=parseInt(r);var o="noPower",l=e.SchoolID?e.SchoolID:"",i=e.CollegeID?e.CollegeID:"",u=2,d=3;switch(r){case 1:case 2:case 6:case 9:"IC0008"!==s?(o="university",d=2,u=2):"IC0008"===s&&(o="university-academy",d=4,u=3);break;case 3:case 5:o="education-school",u=2,d=3;break;case 4:case 8:o="education-school",u=2,d=3,s.includes("IC000")&&(o="education",u=1,d=1);break;default:o="noPower"}n=Object(m.a)(Object(m.a)({},n),{},{version:o,selectLevel:u,collegeID:i,schoolID:l,productLevel:d,frameType:1===n.userType?"teacher":2===n.userType||3===n.userType?"":"default",level:o.includes("-")?0:1})}catch(f){console.error(f)}return n},na=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.length>0&&void 0!==r[0]?r[0]:"",t=Je("lg_ic"),a=!!_e("IdentityMsg")&&_e("IdentityMsg"),n=[],!t){e.next=15;break}return e.next=7,ia();case 7:if((n=e.sent).forEach((function(e){})),!n.some((function(e){return e.IdentityCode===t}))){e.next=13;break}return e.next=12,sa(t);case 12:n=e.sent;case 13:e.next=26;break;case 15:if(!a||!a.IdentityCode){e.next=19;break}n=[a],e.next=26;break;case 19:if(!(_e("IdentityList")instanceof Array&&_e("IdentityList").length>0)){e.next=23;break}n=_e("IdentityList"),e.next=26;break;case 23:return e.next=25,ia();case 25:n=e.sent;case 26:return e.next=28,ca(n,"");case 28:return(a=e.sent)&&window.history.pushState(null,null,ra(a.IdentityCode)),e.abrupt("return",a);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ra=function(e){return We(window.location.href,"lg_ic",e)},sa=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,r,s,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_e("UserInfo")?_e("UserInfo"):{},n=a.SchoolID,r=_e("BasePlatformMsg")instanceof Object?_e("BasePlatformMsg"):{},s=r.WebRootUrl,e.next=4,Kt({url:"".concat(s,"/UserMgr/PowerMgr/GetIdentityTypeByCode?SchoolID=").concat(n,"&IdentityCodes=").concat(t),securityLevel:2});case 4:return c=e.sent,e.next=7,c.json();case 7:if(200!==(o=e.sent).StatusCode){e.next=10;break}return e.abrupt("return",o.Data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ca=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,r,s,c,o,i,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>1&&void 0!==u[1]?u[1]:"",n=u.length>2&&void 0!==u[2]?u[2]:function(){},t instanceof Array&&0!==t.length){e.next=5;break}return oa("E011"),e.abrupt("return",!1);case 5:if(r={},!a){e.next=15;break}return s=t.map((function(e){return la(e.IdentityCode,a)})),e.next=10,Promise.all(s);case 10:c=e.sent,(o=c.findIndex((function(e){return!0===e})))>=0?(i=t[o],Ge("IdentityMsg",i),"function"===typeof n&&n(i),r=i):(oa("E011"),r=!1),e.next=18;break;case 15:Ge("IdentityMsg",t[0]),"function"===typeof n&&n(t[0]),r=t[0];case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oa=function(e){var t=(_e("BasePlatformMsg")instanceof Object?_e("BasePlatformMsg"):{}).WebRootUrl;window.location.href=t+"/Error.aspx?errcode="+e},la=function(){var e=Object(i.a)(l.a.mark((function e(t,a){var n,r,s,c,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_e("UserInfo")?_e("UserInfo"):{},r=n.UserID,s=_e("BasePlatformMsg")instanceof Object?_e("BasePlatformMsg"):{},c=s.WebRootUrl,e.next=4,qt({url:"".concat(c,"/UserMgr/PowerMgr/ValidateIdentity"),body:{IdentityCode:t,ModuleID:a,UserID:r},securityLevel:2});case 4:return o=e.sent,e.next=7,o.json();case 7:if(200!==(i=e.sent).StatusCode){e.next=10;break}return e.abrupt("return",i.Data);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ia=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n,r,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_e("UserInfo")?_e("UserInfo"):{},a=t.UserID,n=_e("BasePlatformMsg")instanceof Object?_e("BasePlatformMsg"):{},r=n.WebRootUrl,e.next=4,Kt({url:"".concat(r,"/UserMgr/PowerMgr/GetIdentityTypeByUserID?UserID=").concat(a),securityLevel:2});case 4:return s=e.sent,e.next=7,s.json();case 7:if(200!==(c=e.sent).StatusCode){e.next=13;break}return Ge("IdentityList",c.Data),e.abrupt("return",c.Data);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ua=function(e){var t=Xt+"/api/base/getMainServerUrl";Qt.get({url:t}).then((function(e){return e.json()})).then((function(t){200==t.status&&t.data&&(e(t.data),sessionStorage.setItem("baseUrl",t.data))}))},da=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,r,s,c,o,i,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>1&&void 0!==u[1]?u[1]:[],console.log(t),n=t+"/Global/GetBaseInfo",r=_e("BasePlatformMsg"),s="",c=!1,a=a instanceof Array?a:[],r&&r instanceof Object)for(o in a)void 0===r[a[o]]&&(c=!1);else c=!1;if(!c){e.next=14;break}return e.next=11,new Promise((function(e,t){e({StatusCode:200,Data:r})}));case 11:s=e.sent,e.next=20;break;case 14:return e.next=16,Kt({url:n});case 16:return i=e.sent,e.next=19,i.json();case 19:s=e.sent;case 20:return r=200===s.StatusCode?s.Data:a.length>0&&{},Ge("BasePlatformMsg",s.Data),e.abrupt("return",r);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ma=function(){var e=Object(i.a)(l.a.mark((function e(t,a){var n,r,s,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Xt+"/api/base/listTermInfo?schoolId="+t,r=_e("TermInfo"),s="",!(r&&r.TermInfo instanceof Array&&r.length>0)){e.next=9;break}return e.next=6,new Promise((function(e,t){e({StatusCode:200,Data:r})}));case 6:s=e.sent,e.next=15;break;case 9:return e.next=11,Kt({url:n});case 11:return c=e.sent,e.next=14,c.json();case 14:s=e.sent;case 15:return 200==s.status?(o={HasHistory:s.data.length>0,TermInfo:s.data},r=o):r={TermInfo:[],HasHistory:!1},Ge("TermInfo",r),e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),fa=a(63);a(1357);function pa(e,t){var a=e.children,s=e.location,c=e.UserID,o=e.setShowModule;console.log("\u5de6\u8fb9\u83dc\u5355",e);var l=Object(n.useState)(""),i=Object(u.a)(l,2),d=i[0],m=i[1],f=Object(n.useState)(!1),p=Object(u.a)(f,2),h=p[0],b=p[1],g=Object(n.useState)(!0),y=Object(u.a)(g,2),v=(y[0],y[1]),E=Object(n.useState)([]),I=Object(u.a)(E,2),S=I[0],O=I[1];return Object(n.useEffect)((function(){var e=Ve(s.pathname);-1==s.pathname.indexOf("page")?(O(e),ze(a,(function(t){var a=t.child,n=(t.index,t.level),r=t.parent;1===n?(e.some((function(e){return a.key===e}))||h===a.key)&&(b(!1),m(a.key)):2===n&&e.some((function(e){return a.key===e}))&&b(r[n-2].key)}))):window.location.reload()}),[s,a,h]),a instanceof Array&&a.map((function(e,t){var a=e.key,n=e.name,s=e.icon,l=e.children,i=e.params;if(void 0===a)return"";var u=l instanceof Array&&l.length>0,f=d===a;return r.a.createElement("div",{key:t,className:"select-box"},r.a.createElement("div",{className:"select-sub"},r.a.createElement(fa.b,{isActive:function(e,t){if(e||h===a||i instanceof Array&&i.some((function(e){return e.key===S[0]}))||l instanceof Array&&l.some((function(e){return e.params instanceof Array&&e.params.some((function(e){return e.key===S[0]}))})))return!0},to:"/"+(-1==a.indexOf("page")?a:a+"/"+c),activeClassName:"link-select",className:"link-bar ".concat("link-level-1")},!1!==s?r.a.createElement("i",{className:"link-icon ".concat(void 0===s?"dot":""),style:"string"===typeof s?{backgroundImage:"url(".concat(s,")")}:{}}):"",r.a.createElement("span",{className:"link-name",title:n},n)),u?r.a.createElement("i",{className:"link-arrow ".concat(f?"link-arrow-open":""),onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),v(!1),m(!f&&a)}}):""),u?r.a.createElement("div",{className:"link-child-box ".concat(f?"link-child-open":""),style:{height:f?"".concat(44*l.length,"px"):0}},l.map((function(e,t){var a=e.key,n=e.name,s=e.icon,c=e.params;return r.a.createElement(fa.b,{isActive:function(e,t){if(e||c instanceof Array&&c.some((function(e){return e.key===S[0]})))return!0},key:t,to:"/"+a,onClick:function(){o(a);var e=new Event("resize");setTimeout((function(){window.dispatchEvent(e)}),20)},activeClassName:"link-select",className:"link-bar ".concat("link-level-2")},!1!==s?r.a.createElement("i",{className:"link-icon ".concat(void 0===s?"dot":""),style:"string"===typeof s?{backgroundImage:"url(".concat(s,")")}:{}}):"",r.a.createElement("span",{className:"link-name",title:n},n))}))):"")}))}function ha(e,t){var a=e.list,n=e.location,s=e.commonData.userInfo.UserID,c=e.setShowModule;return r.a.createElement("div",{className:"LeftMenu"},r.a.createElement(q.Scrollbars,null,r.a.createElement(pa,{children:a,location:n,UserID:s,setShowModule:c})," "))}var ba=Object(F.g)(Object(n.memo)(Object(n.forwardRef)(ha))),ga="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAARCAYAAADUryzEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpERTFDQzM3QjY1MzcxMUVCOEUwOEU0OEUzMUY1NUU5MiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpERTFDQzM3QzY1MzcxMUVCOEUwOEU0OEUzMUY1NUU5MiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkRFMUNDMzc5NjUzNzExRUI4RTA4RTQ4RTMxRjU1RTkyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkRFMUNDMzdBNjUzNzExRUI4RTA4RTQ4RTMxRjU1RTkyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NjuCUgAAAltJREFUeNpiPHjrHgMO0ArEeUA8CYircSliwsKPBGI2IC4BYp6fv36Vuyem5UDFmfAZoATEp4A4K7u+xe/v3399QM3/th88/JqDnR2kOevLt283vn3/roLNAJDmw89fv1nnlpL1+sV/hub6Szdjcldu+Dd/935Bfh29v/nb9qVt2XfwNdDgi5v3HbCEGcAIDAOQISefvXy1Mrm+NVzd3V1bUluHE4t3PwNxmNm7FwEq8nIROY2tuhtnTH4MMiAK5DyP1OxXRv4B7tLa2lwMuAHIEL0oIZ7tq7fvfLNiy3Z7kO2x+46fPCIqK6OlaajPxcfGwoAH8wJxuSA/X6OjhbkCUK8bC5AwWbB241NTH28hQTY2BiKAFxA3y0tLglzqBTJA5MmLFwpx6ur8nOxEGSABxG/YWFl5gLQayIA3okKCotJC/C+BbFkiDHgBshSI3wIxPygMHN99/Pjm/5cv+4SALiAC7wDqeXn60pVwIP0R5ILIXQtmW/xnZLzxm40VFMq8+GKB7ffv3wz/GT6Y6GpPBvKzQS4oYWRk5Pr961d6Y0fPIn6gIUDMgAWDxMMY//9PBSXxX79/lwFpd5ABPbAke+f+Q2MeVhZdIJ4JxI+B+BeUBvF1f3z5ehZZPZAdAfJCtWdSxlOQV+Z3tvC8ePNuBQsz80QgvwkUwNAAswPiJUD82ikmKRlIP4VmrhWMaNmZaeG6jRstDPT0FGVluIFRBQqPt0DnXjp+7sL55qkzxf79+/du35J5pTANLGiB9A9ogD8Qu4L8B8SaQCwAlWMH4tVAvAtZA0CAAQAhOufsxm5eowAAAABJRU5ErkJggg==",ya="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpENERBRjJBNzY1MzcxMUVCQjE3RkMyRDhENDgwQTI0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpENERBRjJBODY1MzcxMUVCQjE3RkMyRDhENDgwQTI0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQ0REFGMkE1NjUzNzExRUJCMTdGQzJEOEQ0ODBBMjREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQ0REFGMkE2NjUzNzExRUJCMTdGQzJEOEQ0ODBBMjREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+J80QOAAAArxJREFUeNpiPHjrHgMUMANxPhCnA7EcED8C4plAPBGI/zLgAE4xSQwsUDYjEK/4+uev8uS9B3kunT3PKsHJIZse6FPLzcEePnf1eqv63EycBjFB6fif//5pFsxZqHft+g0pJUdHZiEPT86lz99yMzAyqajKy20C2shIyJDk5SfPsf/68oVZ38ubQVhMjIGbjY1BUEyM9cJfxgc2JkYmQDXeQPwAiP8j4YcgzTDvGJ46c5ZN3dycgZedDcWW13//qsvKSIDCK3DWw+cMhxYvZvjx+TNY7t/fvxJAagvMEIbv794xycjJMrCwsqAYwsrIyMDIyAiyVT1NXlIhraYMZ8BeUpeT1uVlYeZBN0Sane3Gv3///kADH+QdeSRpUAzKw3TMivZ07z/0/PUfaUUFuClAXb/1eLk4zl+9vh5k3oEPX2RWzJjF8PnTRwzvgLCWrIS4gPmvX+9+s7K8/sHAoMjFzHRPmZ31Gwsjo9HHz5//c3Fw1DoI8CQ5VBRheAcUO+3//zMErTl45MWRs+fZxP/8lDLgYmdWY2flePT23d8Zaze8V1dSUG0qzMkFamBGiyF47KSsPXj497nLV0SDA/0Zjty4zXD0+EmG9+/fKwgKCipYW5ozvP/7/6GGspI1UG3OK6Anu3onMHz48JHhD5J3BA4fO8GQl5bMICUpwaClqMDgamOFnp7kOX//AtG+Ygz/FXqK8zFj5/evnwxqctIM+MDf32BKAOoFOfTYeScpKsrFwczMwcSIPWX//fv39jcGBmEQm5eP939hUzvD2w8fGP78QXhncWpYcNqLZ89vK8vJqkDTAwz8//3nz40v376zvH73fi2Qr/L502eTpoIcDO+UvXj9xlhDWdHs1fsP6E4B8SWABmyNK6kEeWUDNpeCDPlV1NblBC1LvICYD4s6UIBtA+Lp2AwBCDAAnov81yEcI9wAAAAASUVORK5CYII=",va=(a(1359),a(1787)),Ea=va.a.TabPane;function Ia(e,t){var a=e.componentList,s=e.onContentresize,c=e.tabPorps,o=e.search,l=Object(F.e)(),i=Object(F.f)(),d=Object(n.useState)(""),f=Object(u.a)(d,2),p=f[0],h=f[1],b=Object(n.useState)([]),g=Object(u.a)(b,2),y=g[0],v=g[1],E=Object(n.useState)(y.length),I=Object(u.a)(E,2)[1],S=Object(n.useContext)(Ca),O=(S.state,S.dispatch),x=Object(n.useMemo)((function(){return i&&"string"===typeof i.pathname?Ve(i.pathname):""}),[i]);Object(n.useEffect)((function(){var e="",t=x[0]+(x[1]?"|"+x[1]:"");x instanceof Array&&x.length>0&&a instanceof Array&&a.forEach((function(a,n){var r=a.props;if(e=r.tabid===x[0]&&r.mustparam&&!x[1],x[0]===r.tabid&&!y.some((function(e){return r.tabid===e.props.tabid&&(!r.param||x[1]===e.props.param)}))&&!e){if(y.length>=10)for(var s=y.length,c=0;c<s-9;c++)y.shift();var o={};a.props.param&&(o.param=x[1],o.tabid=x[0]),o.tabkey=t,y.push(Object(m.a)(Object(m.a)({},a),{},{props:Object(m.a)(Object(m.a)({},r),o)})),v(y),I(y.length)}e&&(e=r.redirect)})),e?l.push(e):h(t)}),[x,a]);var N=function(e,t){l.push("/"+e.split("|")[0]+(t?"/"+t:""))},j=Object(n.useCallback)((function(e,t,a,n,r){if(!(y.length<=0)){var s=[],c=0,o=p.split("|")[0],l=p.split("|")[1];if(1!==y.length){if(e||(e=o,t=l),e===o&&t===l){var i={};y.some((function(e,t){return e.props.tabid===o&&e.props.param===l&&(c=t,!0)})),i=c===y.length-1?y[y.length-2]:y[c+1],o=i.props.tabid,l=i.props.param}y.forEach((function(a){a.props.tabid===e&&a.props.param===t||s.push(a)})),v(s),N(a||o,a?n:l)}else"function"===typeof r?(v(s),N(a||o,a?n:l),r(o,l)):N(a||o,a?n:l)}}),[y,p]);return Object(n.useImperativeHandle)(t,(function(){return{activeTab:p,tabList:y,removeTab:j}}),[p,y,j]),Object(n.useLayoutEffect)((function(){var e=_()(".Frame-contain-right  .ant-tabs-content-holder"),t=e.height(),a=e.width();"function"===typeof s&&s(t,a),O({type:"RESIZE_CONTENT",data:t});var n=function(t){var a=e.height(),n=e.width();"function"===typeof s&&s(a,n),O({type:"RESIZE_CONTENT",data:a})};return window.addEventListener("resize",Xe(n,500),!1),function(){window.removeEventListener("resize",Xe(n,500))}}),[]),r.a.createElement(va.a,Object.assign({},c,{animated:!1,activeKey:p,renderTabBar:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(t,Object.assign({},e,{className:"tab-nav-bar ".concat(o?"haveSearch":"")})))}}),y.map((function(e,t){var a=e.children,n=e.props;return r.a.createElement(Ea,{tab:r.a.createElement("div",{className:"tabname",title:n.tabname,onClick:function(t,a){var n=new Event("resize");setTimeout((function(){window.dispatchEvent(n)}),20),N(e.props.tabid,e.props.param)}},n.tabname,r.a.createElement("i",{className:"tab-close-btn",onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),j(n.tabid,n.param)}})),key:n.tabkey},r.a.createElement(q.Scrollbars,null,a))})))}var Sa=Object(n.memo)(r.a.forwardRef(Ia));a(1360),Qt.get,Qt.post;function Oa(e,t){var a=e.userInfo,s=e.basePlatFormMsg,c=(e.platMsg,e.identity),o=e.type,l=(e.systemServer,e.moduleName),i=e.initData,d=Object(n.useState)(""),m=Object(u.a)(d,2),f=m[0],p=m[1],h=Object(n.useState)(!1),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useRef)(null);Object(n.useEffect)((function(){if(i&&i.systemServer&&i.systemServer[200]){var e=i.systemServer[200].WebSvrAddr,t=i.token,a=i.basePlatformMsg.WebRootUrl;nt({rel:"stylesheet",type:"text/css",id:"PsnMgr_link_assistantInfoCenter",href:e+"/PsnMgr/LgAssistant/css/lancoo.cp.assistantInfoCenter.css"},"link","body"),sessionStorage.setItem("PsnMgrToken",t),sessionStorage.setItem("PsnMgrMainServerAddr",a),sessionStorage.setItem("PsnMgrLgAssistantAddr",e),rt({src:e+"/PsnMgr/LgAssistant/js/jquery-1.7.2.min.js",id:"PsnMgr_script_jq"}).then((function(t){t&&rt({src:e+"/PsnMgr/LgAssistant/assets/jquery.pagination.js",id:"PsnMgr_script_pagination"}).then((function(t){t&&rt({src:e+"/PsnMgr/LgAssistant/js/lancoo.cp.assistantInfoCenter.js",id:"PsnMgr_script_assistantInfoCenter"}).then((function(e){e&&y(!0)}))}))}))}}),[i]),Object(n.useEffect)((function(){var e=setInterval((function(){var e=te()(),t=r.a.createElement(r.a.Fragment,null,e.format("YYYY-MM-DD"),r.a.createElement("span",{className:"time-space"}),e.format("dddd"),r.a.createElement("span",{className:"time-space"}),e.format("hh:mm"));p(t)}),1e3);return function(){clearInterval(e)}}),[]);var E=Object(n.useCallback)((function(){_()(v.current).click()}),[g]);return r.a.createElement("div",{className:" Frame-topBar ".concat("teacher"===o?"Frame-topBar-teacher":"Frame-topBar-default")},"default"===o&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("i",{className:"Frame-logo"}),a?r.a.createElement("div",{className:"Frame-userMsg  Frame-devide"},r.a.createElement("i",{className:"user-pic",style:{background:"url(".concat(a.PhotoPath,") no-repeat center center/28px 28px"),cursor:s?"pointer":"auto"},onClick:function(){s&&window.open(s.WebRootUrl+"/html/personalMgr/?lg_tk="+_e("token")+"#/")}}," "),r.a.createElement("span",{onClick:function(){s&&window.open(s.WebRootUrl+"/html/personalMgr/?lg_tk="+_e("token")+"#/")},title:a.UserName,className:"user-name"},a.UserName),r.a.createElement("span",{className:"user-iden",style:{background:"url(".concat(c.IconUrl,") no-repeat center center/contain  ")},title:c.IdentityName},c.IdentityCode&&c.IdentityCode.includes("IC1")?c.IdentityName:""),r.a.createElement("span",{className:"logout",onClick:function(){Qe({title:"\u786e\u5b9a\u8981\u9000\u51fa\u767b\u5f55\u5417?",type:"btn-warn",cancelShow:!0,onOk:function(){mt({})}})}})):"",r.a.createElement("div",{className:"Frame-open Frame-devide"},g?r.a.createElement("span",{className:"open-msg",onClick:E},r.a.createElement("i",{ref:v,className:"msg",id:"Assistant_infoCenter"}),"\u6d88\u606f"):"",r.a.createElement("span",{className:"open-help",onClick:function(){"IC0012"!=c.IdentityCode?"IC0014"!=c.IdentityCode&&"IC0015"!=c.IdentityCode?window.open("/student-growth/UserHelp/270-L.html?lg_tk="+sessionStorage.getItem("token")):window.open("/student-growth/UserHelp/270-S.html?lg_tk="+sessionStorage.getItem("token")):window.open("/student-growth/UserHelp/270-T.html?lg_tk="+sessionStorage.getItem("token"))}},"\u5e2e\u52a9")),f?r.a.createElement("div",{className:"Frame-time  Frame-devide"},f):""),"teacher"===o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tb-bar"},r.a.createElement("i",{className:"tb-logo",style:{background:"url(".concat(s.ProductLogoUrl,") no-repeat center center/contain")}}),r.a.createElement("span",{className:"tb-title"},s.ProductName?s.ProductName:"\u4e00\u4f53\u5316\u667a\u6167\u6821\u56ed"),a?r.a.createElement("div",{className:"Frame-userMsg  Frame-devide"},r.a.createElement("i",{className:"user-pic",style:{background:"url(".concat(a.PhotoPath,") no-repeat center center/28px 28px"),cursor:s?"pointer":"auto"},onClick:function(){s&&window.open(s.WebRootUrl+"/html/personalMgr/?lg_tk="+_e("token")+"#/")}}," "),r.a.createElement("span",{onClick:function(){s&&window.open(s.WebRootUrl+"/html/personalMgr/?lg_tk="+_e("token")+"#/")},title:a.UserName,className:"user-name"},a.UserName),r.a.createElement("span",{className:"user-iden",style:{background:"url(".concat(c.IconUrl,") no-repeat center center/contain  ")},title:c.IdentityName},c.IdentityCode&&c.IdentityCode.includes("IC1")?c.IdentityName:""),r.a.createElement("span",{className:"logout",onClick:function(){}})):"",r.a.createElement("div",{className:"Frame-open Frame-devide"},g?r.a.createElement("span",{className:"open-msg",onClick:E},r.a.createElement("i",{ref:v,className:"msg",id:"Assistant_infoCenter"})):"")),r.a.createElement("div",{className:"tb-name"},l?r.a.createElement("span",{className:"tb-module-name"},l):"")))}var xa=Object(n.memo)(Object(n.forwardRef)(Oa));a(1361);function Na(e,t){e.children;var a=e.routeList,s=e.basePlatFormMsg,c=(e.domList,e.ProVersion),o=e.location,l=e.history;return Object(n.useEffect)((function(){var e=Ve(o.pathname),t=!1;return a.forEach((function(n,r){n.props.routeid===e[0]&&(t=!0,e[1]&&!n.props.param?l.push("/"+n.props.routeid):!e[1]&&n.props.param&&(a[0].props.param?window.location.href=s.BasicWebRootUrl+"/Error.aspx?errcode=E012":l.push("/"+a[0].props.routeid)))})),!t&&a.length>0&&l.push("/"+a[0].props.routeid),function(){}}),[o,a]),r.a.createElement(q.Scrollbars,null,r.a.createElement("div",{className:"lg-route-tab"},r.a.createElement(fa.a,null,a.map((function(e,t){var a=e.props.param?"/:"+e.props.param:"";return r.a.createElement(F.a,{key:t,path:"/"+e.props.routeid+a},e)}))),c))}var ja=Object(F.g)(Object(n.memo)(Object(n.forwardRef)(Na)));a(1362);function wa(e,t){var a=e.className,s=e.basePlatFormMsg,c=e.pageList,o=e.location,l=e.history,i=e.useScrollbars;e.ProVersion,e.domList;return Object(n.useEffect)((function(){var e=Ve(o.pathname),t=!1;if(c.forEach((function(a,n){a.props.pageid===e[1]&&(t=!0,e[2]&&!a.props.param?l.push("/page/"+a.props.pageid):!e[2]&&a.props.param&&(c[0].props.param?window.location.href=s.BasicWebRootUrl+"/Error.aspx?errcode=E012":l.push("/page/"+c[0].props.pageid)))})),!t&&c.length>0){var a=sessionStorage.getItem("UserInfo")?JSON.parse(sessionStorage.getItem("UserInfo")).UserID:"";l.push("/page/"+c[0].props.pageid+"/"+a)}}),[c,o]),r.a.createElement(ke,{component:void 0===i||i?q.Scrollbars:""},r.a.createElement("div",{className:"lg-page ".concat(a||"")},r.a.createElement(fa.a,null,c.map((function(e,t){var a=e.props.param?"/:"+e.props.param:"";return r.a.createElement(F.a,{key:t,path:"/page/"+e.props.pageid+a},e)})))))}var Da=Object(F.g)(Object(n.memo)(Object(n.forwardRef)(wa))),Ta=a(902),ka=Tt.BasicProxy,Ca=Object(n.createContext)(),La={contentHeight:0},Aa=function(e,t){switch(t.type){case"RESIZE_CONTENT":return Object.assign({},e,{contentHeight:t.data});default:return e}};function Ja(e,t){var a=e.type,s=e.pageInit,c=e.className,o=e.moduleID,l=e.platMsg,i=e.leftMenu,f=e.children,p=e.getActiveTab,h=e.tabPorps,b=e.onContentresize,g=e.onlyBase,y=e.search,v=e.commonData,E=e.setShowModule,I=e.commonData.roleMsg.identityCode;console.log("frame",e);var S=Object(n.useState)(!1),O=Object(u.a)(S,2),x=O[0],N=O[1],j=Object(n.useState)(!1),w=Object(u.a)(j,2),D=w[0],T=w[1],k=Object(n.useState)(!1),C=Object(u.a)(k,2),L=C[0],A=C[1],J=Object(n.useState)(!1),R=Object(u.a)(J,2),M=R[0],P=R[1],W=Object(n.useState)(!0),H=Object(u.a)(W,2),z=H[0],B=H[1],G=Object(n.useState)({logo:V}),Y=Object(u.a)(G,2),Z=Y[0],Q=Y[1],X=Object(n.useState)(null),K=Object(u.a)(X,2),q=K[0],$=K[1],ee=Object(n.useState)([]),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useRef)({}),se=Object(n.useReducer)(Aa,La),ce=Object(u.a)(se,2),oe=ce[0],le=ce[1],ie=Object(n.useState)([]),ue=Object(u.a)(ie,2),de=ue[0],me=ue[1],fe=Object(n.useState)([]),pe=Object(u.a)(fe,2),he=pe[0],ge=pe[1],ye=Object(n.useState)([]),ve=Object(u.a)(ye,2),Ee=ve[0],Ie=ve[1],Se=Object(n.useState)(""),Oe=Object(u.a)(Se,2),xe=Oe[0],Ne=Oe[1],je=Object(F.f)(),we=Object(n.useState)(void 0),De=Object(u.a)(we,2),Te=De[0],ke=De[1],Ce=Object(n.useState)([]),Le=Object(u.a)(Ce,2),Ae=Le[0],Je=Le[1],Re=Object(n.useState)(!1),Me=Object(u.a)(Re,2),Pe=Me[0],We=Me[1],He=Object(n.useState)(""),ze=Object(u.a)(He,2),Ue=ze[0],Be=ze[1],Fe="manager";"IC0010"==I&&(Fe="manager"),"IC0013"!=I&&"IC0011"!=I&&"IC0012"!=I||(Fe="teacher"),"IC0014"!=I&&"IC0015"!=I||(Fe="student"),Object(n.useLayoutEffect)((function(){ne([{key:"page/personalDetail",name:"\u667a\u80fd\u753b\u50cf",icon:ya,children:[],params:[{key:"page/personalDetail",title:"\u667a\u80fd\u753b\u50cf"}]},{key:"stuStatusMsg",name:"\u591a\u7ef4\u6863\u6848",icon:ga,children:[{key:"stuStatusMsg",name:"\u5b66\u7c4d\u6863\u6848"},{key:"stuConditionMsg",name:"\u5b66\u60c5\u6863\u6848"},{key:"attendanceMsg",name:"\u8003\u52e4\u6863\u6848"},{key:"healthMsg",name:"\u5065\u5eb7\u6863\u6848"},{key:"awardAndPunish",name:"\u5956\u60e9\u6863\u6848"},{key:"schoolLiveMsg",name:"\u6821\u56ed\u751f\u6d3b\u6863\u6848"}]}])}),[I]),Object(n.useLayoutEffect)((function(){var e=_()(".link-child-box a"),t=1;e.each((function(e,a){_()(a).attr("class")&&-1!=_()(a).attr("class").indexOf("link-select")&&(t=e+1)}));var a=ka+"/cache/time?moduleId="+t;Qt.get({url:a,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&Be(e.data.substr(0,16))}))}),[Fe]),Object(n.useEffect)((function(){a&&ea({moduleID:o,onlyBase:g},(function(e){e.identityDetail&&"noPower"!==e.role.version?(T(e.identityDetail),e.userInfo&&A(e.userInfo),e.basePlatformMsg&&P(e.basePlatformMsg),$(!!e.systemServer&&e.systemServer),We(e),N(!0)):g?(e.basePlatformMsg&&P(e.basePlatformMsg),We(e),N(!0)):document.location.href=e.basePlatformMsg.BasicWebRootUrl+"/Error.aspx?errcode=E011"}),(function(){}))}),[o]),Object(n.useEffect)((function(){x&&z&&"function"===typeof s&&s(Pe).then((function(e){e&&a&&B(!1)}))}),[a,Pe,x,s,z,g]),Object(n.useEffect)((function(){l instanceof Object&&Q(Object(m.a)({logo:l.logo?l.logo:V},l))}),[l]),Object(n.useEffect)((function(){var e=Ve(je.pathname);return he.forEach((function(t,a){t.props.routeid===e[0]&&ke(t.props.routename)})),function(){}}),[je,he]),Object(n.useEffect)((function(){if(Ge("default")){var e=[];f.forEach((function(t){try{if(!t.props||void 0===t.props.tabid||void 0===t.props.tabname)return""}catch(a){return""}e.push({children:t,props:Object(m.a)(Object(m.a)({},t.props),{},{redirect:"/"+(t.props.redirect?t.props.redirect:i[0]?i[0].key:"")})})})),me(e)}if(Ge("teacher")){var t=[],a=[],n=[];f instanceof Array&&f.forEach((function(e){"teacher"===e.props.frametype&&(e.props.routeid?t.push(e):e.props.proversion?n.push(e):a.push(e))})),ge(t),Ne(n),Ie(a)}if(Ge("page")){var r=[],s=[],c=[];f instanceof Array&&f.forEach((function(e){"page"===e.props.frametype&&(e.props.pageid?r.push(e):e.props.proversion?c.push(e):s.push(e))})),console.log(r),Je(r),Ne(c),Ie(s)}return function(){}}),[f,a,i]);var Ge=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"string"===typeof a&&a.includes(e)}),[a]),_e=re.current?re.current:{},Ye=_e.activeTab,Ze=_e.tabList,Qe=_e.removeTab;Object(n.useImperativeHandle)(t,(function(){return{activeTab:Ye,tabList:Ze,removeTab:Qe,contentHeight:oe.contentHeight}}),[Ye,Ze,Qe,oe.contentHeight]),Object(n.useEffect)((function(){"function"===typeof p&&p(Ye)}),[Ye]);var Xe=Object(d.useDispatch)();return r.a.createElement(Ca.Provider,{value:{state:oe,dispatch:le}},r.a.createElement(be,{spinning:z,opacity:!1,tip:"\u52a0\u8f7d\u4e2d..."},r.a.createElement("div",{id:"Frame",style:Ge("page")?{minWidth:"auto"}:{},className:"Frame ".concat(c||"")},Ge("page")?M&&r.a.createElement(Da,{pageList:Ae,useScrollbars:!1,basePlatFormMsg:M,domList:Ee,ProVersion:xe,commonData:v}):r.a.createElement(r.a.Fragment,null,r.a.createElement(xa,{userInfo:L,basePlatFormMsg:M,platMsg:Z,identity:D,type:a,systemServer:q,moduleName:Te,initData:Pe}),a?r.a.createElement("div",{className:"Frame-contain  ".concat(Ge("teacher")?"Frame-contain-2":"")},Ge("default")?r.a.createElement("div",{className:"Frame-contain-left"},r.a.createElement(ba,{list:ae,commonData:v,setShowModule:E}),r.a.createElement("p",{className:"reflash",onClick:function(){var e=_()(".link-child-box a"),t=1;e.each((function(e,a){_()(a).attr("class")&&-1!=_()(a).attr("class").indexOf("link-select")&&(t=e+1)}));var a=ka+"/cache/delete?moduleIds="+t;Qt.get({url:a,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status){Xe({type:U.COMMON_REFLASH,data:!0}),setTimeout((function(){Xe({type:U.COMMON_REFLASH,data:!1})}),2e3);var t=new Date,a=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),s=t.getHours(),c=t.getMinutes();n<10&&(n="0"+n),r<10&&(r="0"+r),s<10&&(s="0"+s),c<10&&(c="0"+c),Be(a+"-"+n+"-"+r+" "+s+":"+c),Ta.b.destroy(),Ta.b.config({rtl:!1,getContainer:function(){return document.body}}),Ta.b.success("\u5237\u65b0\u6210\u529f~")}}))}},"\u6700\u540e\u5237\u65b0: ",Ue,r.a.createElement("i",{className:"reflashlogo"}))):"",r.a.createElement("div",{className:"Frame-contain-right ".concat(Ge("teacher")?"only-center":"")},x?Ge("teacher")?r.a.createElement(ja,{routeList:he,domList:Ee,basePlatFormMsg:M,ProVersion:xe},f):de instanceof Array&&de.length>0?r.a.createElement(Sa,{tabPorps:h,ref:re,componentList:de,search:y,type:a,onContentresize:b},f):"":"")):""))))}var Ra=function(e){return{isReflash:e.commonData.isReflash}},Ma=Object(d.connect)(Ra)(Object(n.memo)(Object(n.forwardRef)(Ja))),Pa=(a(1363),a(632),a(1786)),Wa=Tt.BasicProxy;function Ha(e,t){var a=e.setShowType,s=e.basePlatFormMsg.ProVersion,c=(e.ModuleID,e.currentClass),o=e.currentGrade,l=e.userInfo.SchoolID,i=(e.ModuleType,Object(n.useState)("import")),d=Object(u.a)(i,2),m=d[0],f=d[1],p=Object(n.useState)([]),h=Object(u.a)(p,2),b=h[0],g=h[1],y=Object(n.useState)({}),v=Object(u.a)(y,2),E=v[0],I=v[1],S=Object(n.useState)(1),O=Object(u.a)(S,2),x=O[0],N=O[1],j=Object(n.useState)(1),w=Object(u.a)(j,2),D=w[0],T=w[1],k=Object(n.useState)(""),C=Object(u.a)(k,2),L=C[0],A=(C[1],Object(n.useState)(0)),J=Object(u.a)(A,2),R=J[0],M=J[1],P=Object(n.useState)(0),W=Object(u.a)(P,2),H=W[0],z=W[1],U=Object(n.useState)(0),B=Object(u.a)(U,2),F=B[0],G=B[1];Object(n.useEffect)((function(){if(0==R&&f("import"),1==R&&0==F&&f("preview"),1==R&&1==H&&f("save"),1==R&&1==H&&1==F){b.forEach((function(e){e.extraInfo=JSON.stringify(e.extraInfoJson),e.guardianList=[],e.classId=e.classId?e.classId:"",e.gradeId=e.gradeId?e.gradeId:"",e.schoolId=e.schoolId?e.schoolId:"",e.isPoor=e.isPoor?e.isPoor:"",e.photoPath=e.photoPath?e.photoPath:"",e.errorCorrection=e.errorCorrection?e.errorCorrection:"",e.guardianJson.forEach((function(t){var a={name:t["\u59d3\u540d"],relationship:t["\u5173\u7cfb"],serviceUnit:t["\u5de5\u4f5c\u5355\u4f4d"],tel:t["\u8054\u7cfb\u65b9\u5f0f"],userId:e.studentName,changeItem:1,id:0,address:t["\u73b0\u4f4f\u5740"],censusPlace:t["\u6237\u53e3\u6240\u5728\u5730"],idCardNum:t["\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801"],idCardType:t["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"],isGuardian:t["\u662f\u5426\u76d1\u62a4\u4eba"],nation:t["\u6c11\u65cf"],position:t["\u804c\u52a1"]};e.guardianList.push(a)})),e.resumeList=[],e.resumeJson.forEach((function(t){var a={learningContent:t["\u5b66\u4e60\u5185\u5bb9"],school:t["\u5b66\u4e60\u5355\u4f4d"],semesterStartTime:t["\u5b66\u4e60\u7ed3\u675f\u65f6\u95f4"],certifier:t["\u5b66\u4e60\u8bc1\u660e\u4eba"],semesterEndTime:t["\u5b66\u4e60\u8d77\u59cb\u65f6\u95f4"],duty:t["\u62c5\u4efb\u804c\u52a1"],userId:e.studentName,changeItem:1,id:0};e.resumeList.push(a)}))}));var e=Wa+"/api/status/student";Qt.post({url:e,securityLevel:2,body:b,header:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){200==e.status?(Ta.b.success("\u5bfc\u5165\u6210\u529f~"),a("detail")):Ta.b.error("\u5bfc\u5165\u5931\u8d25\uff01")}))}}),[R,H,F]);return r.a.createElement("div",{className:"import-page"},r.a.createElement("div",{className:"import-top"},"\u5bfc\u5165\u5b66\u7c4d\u4fe1\u606f",r.a.createElement("div",{className:"goback",onClick:function(){return a("detail")}},"\u8fd4\u56de\u8be6\u60c5\u754c\u9762")),r.a.createElement("div",{className:"import-step-list"},r.a.createElement("div",{className:"step-1 "+("import"==m?"active":"prev")},"1.\u5bfc\u5165\u6587\u4ef6"),r.a.createElement("div",{className:"step-2 "+("preview"==m?"active":"save"==m?"prev":"")},"2.\u5185\u5bb9\u9884\u89c8"),r.a.createElement("div",{className:"step-3 "+("save"==m?"active":"")},"3.\u4fdd\u5b58")),"import"==m?r.a.createElement("div",{className:"import-file"},r.a.createElement("p",{className:"import-tip"},r.a.createElement("i",{className:"warnlogo"}),"\u5bfc\u5165\u63d0\u9192:"),r.a.createElement("p",null,'1.\u9009\u62e9\u5bfc\u5165\u7684\u6587\u4ef6\u5fc5\u987b\u4e3a\u6a21\u677f\u6587\u4ef6\u3002\xa0\xa0 "',r.a.createElement("span",{className:"template-download",onClick:function(){var e=Wa+"/api/base/template?schoolId="+l+"&gradeId="+o+"&classId="+c+"&templateType=STATUS_LOGS&blankSheet=0";window.location.href=e}},"\u6a21\u677f\u4e0b\u8f7d"),'"'),r.a.createElement("p",null,"2.\u6a21\u677f\u6587\u4ef6\u5185\u53ef\u4ee5\u540c\u65f6\u6709\u591a\u4e2a\u5b66\u7c4d\u4fe1\u606f\u3002"),r.a.createElement("div",{className:"file-upload"},L,r.a.createElement(Pa.a,{customRequest:function(e){var t=new FormData;t.append("multipartFile",e.file);var a=Wa+"/api/status/import";_.a.ajax({url:a,type:"post",async:!0,data:t,dataType:"json",cache:!1,processData:!1,contentType:!1,headers:{Authorization:"X-Token="+sessionStorage.getItem("token")},success:function(e){if(200==e.status&&Array.isArray(e.data))Ta.b.success("\u5bfc\u5165\u6210\u529f~"),g(e.data),I(e.data[0]),M(1);else{if(e.msg&&-1!=e.msg.indexOf(".xls"))return Ta.b.error("\u6587\u6863\u5185\u6570\u636e\u9519\u8bef\uff0c\u8bf7\u4e0b\u8f7d\u6587\u4ef6\u5e76\u4fee\u6539\u6807\u7ea2\u884c\u7684\u6570\u636e\uff01",3),void(window.location.href=Wa+"/api/base/fileDownload?filePath="+e.msg);Ta.b.error("\u5bfc\u5165\u5931\u8d25\uff01\u8bf7\u5728\u5f53\u524d\u754c\u9762\u4e0b\u8f7d\u6b63\u786e\u7684\u6a21\u677f\u6587\u4ef6~")}},error:function(e){Ta.b.error("\u5bfc\u5165\u5931\u8d25\uff01\u8bf7\u5728\u5f53\u524d\u754c\u9762\u4e0b\u8f7d\u6b63\u786e\u7684\u6a21\u677f\u6587\u4ef6~")}})},showUploadList:!1},r.a.createElement("div",{className:"file-upload-btn"},"\u9009\u62e9\u6587\u4ef6")))):"preview"==m?r.a.createElement("div",{className:"preview-file"},r.a.createElement("div",{className:"preview-top"},r.a.createElement(ce.a,{locale:ae.a},r.a.createElement(ue.a,{className:"preview-pagination",size:"small",total:b.length,current:x,pageSize:1,showQuickJumper:!0,showSizeChanger:!1,hideOnSinglePage:!0,onChange:function(e){I(b[e-1]),N(e)}})),r.a.createElement("div",{className:"btn-group"},b.length>0?r.a.createElement("div",{className:"delete-btn",onClick:function(){var e=b.splice(x,1);if(0==e.length)return Ta.b.warn("\u5f53\u524d\u6682\u65e0\u5bfc\u5165\u6570\u636e\uff0c\u8bf7\u91cd\u65b0\u5bfc\u5165\u6570\u636e~",3),void M(0);g(e),I(e[x-1])}},"\u5220\u9664"):"",r.a.createElement("div",{className:"next-btn",onClick:function(){z(1),f("save")}},"\u4e0b\u4e00\u6b65"))),E?r.a.createElement("div",{className:"stu-status",style:{padding:0}},r.a.createElement("table",{className:"base-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u57fa\u672c\u4fe1\u606f\u53ca\u8f85\u52a9\u4fe1\u606f"),r.a.createElement("tr",null,r.a.createElement("td",null,"\u59d3\u540d"),r.a.createElement("td",{title:E.studentName?E.studentName:"--"},E.studentName?E.studentName:"--"),r.a.createElement("td",null,"\u6027\u522b"),r.a.createElement("td",{title:E.gender?E.gender:"--"},E.gender?E.gender:"--"),r.a.createElement("td",null,"\u51fa\u751f\u65e5\u671f"),r.a.createElement("td",{title:E.dateOfBirth?E.dateOfBirth:"--"},E.dateOfBirth?E.dateOfBirth:"--"),r.a.createElement("td",null,"\u51fa\u751f\u5730"),r.a.createElement("td",{title:E.extraInfoJson&&E.extraInfoJson["\u51fa\u751f\u5730"]?E.extraInfoJson["\u51fa\u751f\u5730"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u51fa\u751f\u5730"]?E.extraInfoJson["\u51fa\u751f\u5730"]:"--"),r.a.createElement("td",{rowSpan:"6",style:{backgroundImage:"url(".concat(E.photoPath,")"),backgroundSize:"100% 100%"}})),r.a.createElement("tr",null,r.a.createElement("td",null,"\u7c4d\u8d2f"),r.a.createElement("td",{title:E.nativePlace?E.nativePlace:"--"},E.nativePlace?E.nativePlace:"--"),r.a.createElement("td",null,"\u6c11\u65cf"),r.a.createElement("td",{title:E.nation?E.nation:"--"},E.nation?E.nation:"--"),r.a.createElement("td",null,"\u56fd\u7c4d/\u5730\u533a"),r.a.createElement("td",{title:E.nationality?E.nationality:"--"},E.nationality?E.nationality:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"),r.a.createElement("td",{title:E.extraInfoJson&&E.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]?E.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]?E.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801"),r.a.createElement("td",{colSpan:"3",title:E.identityNum?E.identityNum:"--"},E.identityNum?E.identityNum:"--"),r.a.createElement("td",null,"\u6e2f\u6fb3\u53f0\u4fa8\u80de"),r.a.createElement("td",{title:E.overseaPeople?E.overseaPeople:"--"},E.overseaPeople?E.overseaPeople:"--"),r.a.createElement("td",null,"\u653f\u6cbb\u9762\u8c8c"),r.a.createElement("td",{title:E.extraInfoJson&&E.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]?E.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]?E.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5065\u5eb7\u72b6\u51b5"),r.a.createElement("td",{title:E.extraInfoJson&&E.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]?E.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]?E.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]:"--"),r.a.createElement("td",null,"\u59d3\u540d\u62fc\u97f3"),r.a.createElement("td",{title:E.extraInfoJson&&E.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]?E.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]?E.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]:"--"),r.a.createElement("td",null,"\u66fe\u7528\u540d"),r.a.createElement("td",{title:E.formerName?E.formerName:"--"},E.formerName?E.formerName:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"),r.a.createElement("td",{title:E.extraInfoJson&&E.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]?E.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]?E.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u6237\u53e3\u6240\u5728\u5730"),r.a.createElement("td",{title:E.censusPlace?E.censusPlace:"--"},E.censusPlace?E.censusPlace:"--"),r.a.createElement("td",null,"\u7279\u957f"),r.a.createElement("td",{colSpan:"5",title:E.extraInfoJson&&E.extraInfoJson["\u7279\u957f"]?E.extraInfoJson["\u7279\u957f"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u7279\u957f"]?E.extraInfoJson["\u7279\u957f"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5b66\u7c4d\u8f85\u53f7"),r.a.createElement("td",{title:E.studentId?E.studentId:"--"},E.studentId?E.studentId:"--"),r.a.createElement("td",null,"\u73ed\u5185\u5b66\u53f7"),r.a.createElement("td",{title:E.extraInfoJson&&E.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]?E.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]?E.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]:"--"),r.a.createElement("td",null,"\u5e74\u7ea7"),r.a.createElement("td",{title:E.gradeName?E.gradeName:"--"},E.gradeName?E.gradeName:"--"),r.a.createElement("td",null,"\u73ed\u7ea7"),r.a.createElement("td",{title:E.className?E.className:"--"},E.className?E.className:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5165\u5b66\u5e74\u6708"),r.a.createElement("td",{title:E.extraInfoJson&&E.extraInfoJson["\u5165\u5b66\u5e74\u6708"]?E.extraInfoJson["\u5165\u5b66\u5e74\u6708"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u5165\u5b66\u5e74\u6708"]?E.extraInfoJson["\u5165\u5b66\u5e74\u6708"]:"--"),r.a.createElement("td",null,"\u5165\u5b66\u65b9\u5f0f"),r.a.createElement("td",{title:E.extraInfoJson&&E.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]?E.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]?E.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]:"--"),r.a.createElement("td",null,"\u5c31\u8bfb\u65b9\u5f0f"),r.a.createElement("td",{title:E.studyingWay?E.studyingWay:"--"},E.studyingWay?E.studyingWay:"--"),r.a.createElement("td",null,"\u5b66\u751f\u6765\u6e90"),r.a.createElement("td",{colSpan:"2",title:E.extraInfoJson&&E.extraInfoJson["\u5b66\u751f\u6765\u6e90"]?E.extraInfoJson["\u5b66\u751f\u6765\u6e90"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u5b66\u751f\u6765\u6e90"]?E.extraInfoJson["\u5b66\u751f\u6765\u6e90"]:"--"))),r.a.createElement("table",{className:"person-link",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u4e2a\u4eba\u8054\u7cfb\u65b9\u5f0f"),r.a.createElement("tr",null,r.a.createElement("td",null,"\u73b0\u4f4f\u5740"),r.a.createElement("td",{colSpan:"3",title:E.extraInfoJson&&E.extraInfoJson["\u73b0\u4f4f\u5740"]?E.extraInfoJson["\u73b0\u4f4f\u5740"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u73b0\u4f4f\u5740"]?E.extraInfoJson["\u73b0\u4f4f\u5740"]:"--"),r.a.createElement("td",null,"\u901a\u4fe1\u5730\u5740"),r.a.createElement("td",{colSpan:"3",title:E.extraInfoJson&&E.extraInfoJson["\u901a\u8baf\u5730\u5740"]?E.extraInfoJson["\u901a\u8baf\u5730\u5740"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u901a\u8baf\u5730\u5740"]?E.extraInfoJson["\u901a\u8baf\u5730\u5740"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u5730\u5740"),r.a.createElement("td",{colSpan:"3",title:E.homeAddress?E.homeAddress:"--"},E.homeAddress?E.homeAddress:"--"),r.a.createElement("td",null,"\u8054\u7cfb\u7535\u8bdd"),r.a.createElement("td",{title:E.extraInfoJson&&E.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]?E.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]?E.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]:"--"),r.a.createElement("td",null,"\u90ae\u653f\u7f16\u7801"),r.a.createElement("td",{title:E.extraInfoJson&&E.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]?E.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]?E.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u7535\u5b50\u90ae\u7bb1"),r.a.createElement("td",{colSpan:"3",title:E.extraInfoJson&&E.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]?E.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]?E.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]:"--"),r.a.createElement("td",null,"\u4e3b\u9875\u5730\u5740"),r.a.createElement("td",{colSpan:"3",title:E.extraInfoJson&&E.extraInfoJson["\u4e3b\u9875\u5730\u5740"]?E.extraInfoJson["\u4e3b\u9875\u5730\u5740"]:"--"},E.extraInfoJson&&E.extraInfoJson["\u4e3b\u9875\u5730\u5740"]?E.extraInfoJson["\u4e3b\u9875\u5730\u5740"]:"--"))),r.a.createElement("table",{className:"person-more-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u4e2a\u4eba\u6269\u5c55\u4fe1\u606f"),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u662f\u5426\u72ec\u751f\u5b50\u5973"),r.a.createElement("td",{width:"85"},E.isOnlychild?E.isOnlychild:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u53d7\u8fc7\u5b66\u524d\u6559\u80b2"),r.a.createElement("td",{width:"85"},E.isAcceptpreschool?E.isAcceptpreschool:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u7559\u5b88\u513f\u7ae5"),r.a.createElement("td",{width:"85"},E.isLeftbehindchild?E.isLeftbehindchild:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"),r.a.createElement("td",{width:"85"},E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"]?E.extraInfoJson["\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u662f\u5426\u5b64\u513f"),r.a.createElement("td",{width:"85"},E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u5b64\u513f"]?E.extraInfoJson["\u662f\u5426\u5b64\u513f"]:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"),r.a.createElement("td",{width:"85"},E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"]?E.extraInfoJson["\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"]:"--"),r.a.createElement("td",{width:"200"},"\u968f\u73ed\u5c31\u8bfb"),r.a.createElement("td",{width:"85"},E.extraInfoJson&&E.extraInfoJson["\u968f\u73ed\u5c31\u8bfb"]?E.extraInfoJson["\u968f\u73ed\u5c31\u8bfb"]:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"),r.a.createElement("td",{width:"85"},E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"]?E.extraInfoJson["\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u662f\u5426\u4eab\u53d7\u4e00\u8865"),r.a.createElement("td",{width:"85"},E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u4eab\u53d7\u4e00\u8865"]?E.extraInfoJson["\u662f\u5426\u4eab\u53d7\u4e00\u8865"]:"--"),r.a.createElement("td",{width:"200"},"\u6b8b\u75be\u4eba\u7c7b\u578b"),r.a.createElement("td",{colSpan:"5"},E.extraInfoJson&&E.extraInfoJson["\u6b8b\u75be\u4eba\u7c7b\u578b"]?E.extraInfoJson["\u6b8b\u75be\u4eba\u7c7b\u578b"]:"--"))),r.a.createElement("table",{className:"study-status",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u5b66\u4e60\u7ecf\u5386"),r.a.createElement("tr",null,r.a.createElement("th",{width:"148"},"\u5b66\u4e60\u8d77\u59cb\u65f6\u95f4"),r.a.createElement("th",{width:"148"},"\u5b66\u4e60\u7ed3\u675f\u65f6\u95f4"),r.a.createElement("th",{width:"395"},"\u5b66\u4e60\u5355\u4f4d"),r.a.createElement("th",{width:"160"},"\u5b66\u4e60\u5185\u5bb9"),r.a.createElement("th",{width:"140"},"\u62c5\u4efb\u804c\u52a1"),r.a.createElement("th",{width:"150"},"\u5b66\u4e60\u8bc1\u660e\u4eba")),Array.isArray(E.resumeJson)&&E.resumeJson.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{width:"148"},e["\u5b66\u4e60\u8d77\u59cb\u65f6\u95f4"]?e["\u5b66\u4e60\u8d77\u59cb\u65f6\u95f4"]:"--"),r.a.createElement("td",{width:"148"},e["\u5b66\u4e60\u7ed3\u675f\u65f6\u95f4"]?e["\u5b66\u4e60\u7ed3\u675f\u65f6\u95f4"]:"--"),r.a.createElement("td",{width:"395"},e["\u5b66\u4e60\u5355\u4f4d"]?e["\u5b66\u4e60\u5355\u4f4d"]:"--"),r.a.createElement("td",{width:"160"},e["\u5b66\u4e60\u5185\u5bb9"]?e["\u5b66\u4e60\u5185\u5bb9"]:"--"),r.a.createElement("td",{width:"140"},e["\u62c5\u4efb\u804c\u52a1"]?e["\u62c5\u4efb\u804c\u52a1"]:"--"),r.a.createElement("td",{width:"150"},e["\u5b66\u4e60\u8bc1\u660e\u4eba"]?e["\u5b66\u4e60\u8bc1\u660e\u4eba"]:"--"))}))),r.a.createElement("table",{className:"transport-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u4e0a\u4e0b\u5b66\u8ddd\u79bb(\u5343\u7c73)"),r.a.createElement("td",{width:"178"},E.extraInfoJson&&E.extraInfoJson["\u4e0a\u4e0b\u5b66\u8ddd\u79bb\uff08\u5343\u7c73\uff09"]?E.extraInfoJson["\u4e0a\u4e0b\u5b66\u8ddd\u79bb\uff08\u5343\u7c73\uff09"]:"--"),r.a.createElement("td",{width:"200"},"\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"),r.a.createElement("td",{width:"178"},E.extraInfoJson&&E.extraInfoJson["\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"]?E.extraInfoJson["\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"]:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"),r.a.createElement("td",{width:"178"},E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"]?E.extraInfoJson["\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"]:"--"))),Array.isArray(E.guardianJson)&&E.guardianJson.map((function(e,t){return r.a.createElement("table",{className:"family-info",border:"1",borderColor:"#b7e1e5"},0==t?r.a.createElement("caption",null,"\u5bb6\u5ead\u6210\u5458\u6216\u76d1\u62a4\u4eba\u4fe1\u606f"):"",r.a.createElement("tr",null,r.a.createElement("td",null,"\u59d3\u540d"),r.a.createElement("td",null,e["\u59d3\u540d"]?e["\u59d3\u540d"]:"--"),r.a.createElement("td",null,"\u5173\u7cfb"),r.a.createElement("td",null,e["\u5173\u7cfb"]?e["\u5173\u7cfb"]:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"),r.a.createElement("td",null,e["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]?e["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801"),r.a.createElement("td",null,e["\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801"]?e["\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u6c11\u65cf"),r.a.createElement("td",null,e["\u6c11\u65cf"]?e["\u6c11\u65cf"]:"--"),r.a.createElement("td",null,"\u662f\u5426\u76d1\u62a4\u4eba"),r.a.createElement("td",null,e["\u662f\u5426\u76d1\u62a4\u4eba"]?e["\u662f\u5426\u76d1\u62a4\u4eba"]:"--"),r.a.createElement("td",null,"\u6237\u53e3\u6240\u5728\u5730"),r.a.createElement("td",null,e["\u6237\u53e3\u6240\u5728\u5730"]?e["\u6237\u53e3\u6240\u5728\u5730"]:"--"),r.a.createElement("td",null,"\u8054\u7cfb\u65b9\u5f0f"),r.a.createElement("td",null,e["\u8054\u7cfb\u65b9\u5f0f"]?e["\u8054\u7cfb\u65b9\u5f0f"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u73b0\u4f4f\u5740"),r.a.createElement("td",{colSpan:"3"},e["\u73b0\u4f4f\u5740"]?e["\u73b0\u4f4f\u5740"]:"--"),r.a.createElement("td",null,"\u5de5\u4f5c\u5355\u4f4d"),r.a.createElement("td",null,e["\u5de5\u4f5c\u5355\u4f4d"]?e["\u5de5\u4f5c\u5355\u4f4d"]:"--"),r.a.createElement("td",null,"\u804c\u52a1"),r.a.createElement("td",null,e["\u804c\u52a1"]?e["\u804c\u52a1"]:"--")))})),r.a.createElement("table",{className:"economic-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u5bb6\u5ead\u7ecf\u6d4e\u60c5\u51b5"),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u4eba\u53e3"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5bb6\u5ead\u4eba\u53e3"]?E.extraInfoJson["\u5bb6\u5ead\u4eba\u53e3"]:"--"),r.a.createElement("td",null,"\u8d61\u517b\u4eba\u53e3"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u8d61\u517b\u4eba\u53e3"]?E.extraInfoJson["\u8d61\u517b\u4eba\u53e3"]:"--"),r.a.createElement("td",null,"\u5bb6\u5ead\u5e74\u6536\u5165"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5bb6\u5ead\u5e74\u6536\u5165"]?E.extraInfoJson["\u5bb6\u5ead\u5e74\u6536\u5165"]:"--"),r.a.createElement("td",null,"\u4e3b\u8981\u6536\u5165\u6765\u6e90"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u4e3b\u8981\u6536\u5165\u6765\u6e90"]?E.extraInfoJson["\u4e3b\u8981\u6536\u5165\u6765\u6e90"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"]?E.extraInfoJson["\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"]:"--"),r.a.createElement("td",null,"\u662f\u5426\u4f4e\u4fdd"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u4f4e\u4fdd"]?E.extraInfoJson["\u662f\u5426\u4f4e\u4fdd"]:"--"),r.a.createElement("td",null,"\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"]?E.extraInfoJson["\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"]:"--"),r.a.createElement("td",null,"\u56f0\u96be\u7a0b\u5ea6"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u56f0\u96be\u7a0b\u5ea6"]?E.extraInfoJson["\u56f0\u96be\u7a0b\u5ea6"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"]?E.extraInfoJson["\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"]:"--"),r.a.createElement("td",null,"\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"]?E.extraInfoJson["\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"]:"--"),r.a.createElement("td",{colSpan:"3"},"\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"]?E.extraInfoJson["\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u662f\u5426\u519b\u70c8\u5c5e"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u519b\u70c8\u5c5e"]?E.extraInfoJson["\u662f\u5426\u519b\u70c8\u5c5e"]:"--"),r.a.createElement("td",null,"\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"]?E.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"]:"--"),r.a.createElement("td",{colSpan:"3"},"\u5bb6\u5ead\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5bb6\u4e2d\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"]?E.extraInfoJson["\u5bb6\u4e2d\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"]?E.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"]:"--"),r.a.createElement("td",{colSpan:"2"},"\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"),r.a.createElement("td",{colSpan:"4"},E.extraInfoJson&&E.extraInfoJson["\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"]?E.extraInfoJson["\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"]?E.extraInfoJson["\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"]:"--"),r.a.createElement("td",null,"\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"]?E.extraInfoJson["\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"]:"--"),r.a.createElement("td",null,"\u6b20\u503a\u539f\u56e0"),r.a.createElement("td",{colSpan:"3"},E.extraInfoJson&&E.extraInfoJson["\u6b20\u503a\u539f\u56e0"]?E.extraInfoJson["\u6b20\u503a\u539f\u56e0"]:"--")))):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})):"save"==m?r.a.createElement("div",{className:"save-file"},r.a.createElement("div",{className:"preview-top"},r.a.createElement(ce.a,{locale:ae.a},r.a.createElement(ue.a,{className:"preview-pagination",size:"small",total:b.length,current:D,pageSize:1,showQuickJumper:!0,showSizeChanger:!1,hideOnSinglePage:!0,onChange:function(e){I(b[e-1]),T(e)}})),r.a.createElement("div",{className:"btn-group"},r.a.createElement("div",{className:"confirm-btn",onClick:function(){M(1),z(1),G(1)}},"\u786e\u8ba4"))),E?r.a.createElement("div",{className:"stu-status"},r.a.createElement("table",{className:"base-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u57fa\u672c\u4fe1\u606f\u53ca\u8f85\u52a9\u4fe1\u606f"),r.a.createElement("tr",null,r.a.createElement("td",null,"\u59d3\u540d"),r.a.createElement("td",null,E.studentName?E.studentName:"--"),r.a.createElement("td",null,"\u6027\u522b"),r.a.createElement("td",null,E.gender?E.gender:"--"),r.a.createElement("td",null,"\u51fa\u751f\u65e5\u671f"),r.a.createElement("td",null,E.dateOfBirth?E.dateOfBirth:"--"),r.a.createElement("td",null,"\u51fa\u751f\u5730"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u51fa\u751f\u5730"]?E.extraInfoJson["\u51fa\u751f\u5730"]:"--"),r.a.createElement("td",{rowSpan:"6",style:{backgroundImage:"url(".concat(E.photoPath,")"),backgroundSize:"100% 100%"}})),r.a.createElement("tr",null,r.a.createElement("td",null,"\u7c4d\u8d2f"),r.a.createElement("td",null,E.nativePlace?E.nativePlace:"--"),r.a.createElement("td",null,"\u6c11\u65cf"),r.a.createElement("td",null,E.nation?E.nation:"--"),r.a.createElement("td",null,"\u56fd\u7c4d/\u5730\u533a"),r.a.createElement("td",null,E.nationality?E.nationality:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]?E.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801"),r.a.createElement("td",{colSpan:"3"},E.identityNum?E.identityNum:"--"),r.a.createElement("td",null,"\u6e2f\u6fb3\u53f0\u4fa8\u80de"),r.a.createElement("td",null,E.overseaPeople?E.overseaPeople:"--"),r.a.createElement("td",null,"\u653f\u6cbb\u9762\u8c8c"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]?E.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5065\u5eb7\u72b6\u51b5"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]?E.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]:"--"),r.a.createElement("td",null,"\u59d3\u540d\u62fc\u97f3"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]?E.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]:"--"),r.a.createElement("td",null,"\u66fe\u7528\u540d"),r.a.createElement("td",null,E.formerName?E.formerName:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]?E.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u6237\u53e3\u6240\u5728\u5730"),r.a.createElement("td",null,E.censusPlace?E.censusPlace:"--"),r.a.createElement("td",null,"\u7279\u957f"),r.a.createElement("td",{colSpan:"5"},E.extraInfoJson&&E.extraInfoJson["\u7279\u957f"]?E.extraInfoJson["\u7279\u957f"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5b66\u7c4d\u8f85\u53f7"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5b66\u7c4d\u8f85\u53f7"]?E.extraInfoJson["\u5b66\u7c4d\u8f85\u53f7"]:"--"),r.a.createElement("td",null,"\u73ed\u5185\u5b66\u53f7"),r.a.createElement("td",null,E.studentId?E.studentId:"--"),r.a.createElement("td",null,"\u5e74\u7ea7"),r.a.createElement("td",null,E.gradeName?E.gradeName:"--"),r.a.createElement("td",null,"\u73ed\u7ea7"),r.a.createElement("td",null,E.className?E.className:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5165\u5b66\u5e74\u6708"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5165\u5b66\u5e74\u6708"]?E.extraInfoJson["\u5165\u5b66\u5e74\u6708"]:"--"),r.a.createElement("td",null,"\u5165\u5b66\u65b9\u5f0f"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]?E.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]:"--"),r.a.createElement("td",null,"\u5c31\u8bfb\u65b9\u5f0f"),r.a.createElement("td",null,E.studyingWay?E.studyingWay:"--"),r.a.createElement("td",null,"\u5b66\u751f\u6765\u6e90"),r.a.createElement("td",{colSpan:"2"},E.extraInfoJson&&E.extraInfoJson["\u5b66\u751f\u6765\u6e90"]?E.extraInfoJson["\u5b66\u751f\u6765\u6e90"]:"--"))),r.a.createElement("table",{className:"person-link",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u4e2a\u4eba\u8054\u7cfb\u65b9\u5f0f"),r.a.createElement("tr",null,r.a.createElement("td",null,"\u73b0\u4f4f\u5740"),r.a.createElement("td",{colSpan:"3"},E.extraInfoJson&&E.extraInfoJson["\u73b0\u4f4f\u5740"]?E.extraInfoJson["\u73b0\u4f4f\u5740"]:"--"),r.a.createElement("td",null,"\u901a\u4fe1\u5730\u5740"),r.a.createElement("td",{colSpan:"3"},E.extraInfoJson&&E.extraInfoJson["\u901a\u8baf\u5730\u5740"]?E.extraInfoJson["\u901a\u8baf\u5730\u5740"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u5730\u5740"),r.a.createElement("td",{colSpan:"3"},E.homeAddress?E.homeAddress:"--"),r.a.createElement("td",null,"\u8054\u7cfb\u7535\u8bdd"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]?E.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]:"--"),r.a.createElement("td",null,"\u90ae\u653f\u7f16\u7801"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]?E.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u7535\u5b50\u90ae\u7bb1"),r.a.createElement("td",{colSpan:"3"},E.extraInfoJson&&E.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]?E.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]:"--"),r.a.createElement("td",null,"\u4e3b\u9875\u5730\u5740"),r.a.createElement("td",{colSpan:"3"},E.extraInfoJson&&E.extraInfoJson["\u4e3b\u9875\u5730\u5740"]?E.extraInfoJson["\u4e3b\u9875\u5730\u5740"]:"--"))),r.a.createElement("table",{className:"person-more-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u4e2a\u4eba\u6269\u5c55\u4fe1\u606f"),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u662f\u5426\u72ec\u751f\u5b50\u5973"),r.a.createElement("td",{width:"85"},E.isOnlychild?E.isOnlychild:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u53d7\u8fc7\u5b66\u524d\u6559\u80b2"),r.a.createElement("td",{width:"85"},E.isAcceptpreschool?E.isAcceptpreschool:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u7559\u5b88\u513f\u7ae5"),r.a.createElement("td",{width:"85"},E.isLeftbehindchild?E.isLeftbehindchild:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"),r.a.createElement("td",{width:"85"},E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"]?E.extraInfoJson["\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u662f\u5426\u5b64\u513f"),r.a.createElement("td",{width:"85"},E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u5b64\u513f"]?E.extraInfoJson["\u662f\u5426\u5b64\u513f"]:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"),r.a.createElement("td",{width:"85"},E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"]?E.extraInfoJson["\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"]:"--"),r.a.createElement("td",{width:"200"},"\u968f\u73ed\u5c31\u8bfb"),r.a.createElement("td",{width:"85"},E.extraInfoJson&&E.extraInfoJson["\u968f\u73ed\u5c31\u8bfb"]?E.extraInfoJson["\u968f\u73ed\u5c31\u8bfb"]:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"),r.a.createElement("td",{width:"85"},E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"]?E.extraInfoJson["\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u662f\u5426\u4eab\u53d7\u4e00\u8865"),r.a.createElement("td",{width:"85"},E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u4eab\u53d7\u4e00\u8865"]?E.extraInfoJson["\u662f\u5426\u4eab\u53d7\u4e00\u8865"]:"--"),r.a.createElement("td",{width:"200"},"\u6b8b\u75be\u4eba\u7c7b\u578b"),r.a.createElement("td",{colSpan:"5"},E.extraInfoJson&&E.extraInfoJson["\u6b8b\u75be\u4eba\u7c7b\u578b"]?E.extraInfoJson["\u6b8b\u75be\u4eba\u7c7b\u578b"]:"--"))),r.a.createElement("table",{className:"study-status",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u5b66\u4e60\u7ecf\u5386"),r.a.createElement("tr",null,r.a.createElement("th",{width:"148"},"\u5b66\u4e60\u8d77\u59cb\u65f6\u95f4"),r.a.createElement("th",{width:"148"},"\u5b66\u4e60\u7ed3\u675f\u65f6\u95f4"),r.a.createElement("th",{width:"395"},"\u5b66\u4e60\u5355\u4f4d"),r.a.createElement("th",{width:"160"},"\u5b66\u4e60\u5185\u5bb9"),r.a.createElement("th",{width:"140"},"\u62c5\u4efb\u804c\u52a1"),r.a.createElement("th",{width:"150"},"\u5b66\u4e60\u8bc1\u660e\u4eba")),Array.isArray(E.resumeJson)&&E.resumeJson.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{width:"148"},e["\u5b66\u4e60\u8d77\u59cb\u65f6\u95f4"]?e["\u5b66\u4e60\u8d77\u59cb\u65f6\u95f4"]:"--"),r.a.createElement("td",{width:"148"},e["\u5b66\u4e60\u7ed3\u675f\u65f6\u95f4"]?e["\u5b66\u4e60\u7ed3\u675f\u65f6\u95f4"]:"--"),r.a.createElement("td",{width:"395"},e["\u5b66\u4e60\u5355\u4f4d"]?e["\u5b66\u4e60\u5355\u4f4d"]:"--"),r.a.createElement("td",{width:"160"},e["\u5b66\u4e60\u5185\u5bb9"]?e["\u5b66\u4e60\u5185\u5bb9"]:"--"),r.a.createElement("td",{width:"140"},e["\u62c5\u4efb\u804c\u52a1"]?e["\u62c5\u4efb\u804c\u52a1"]:"--"),r.a.createElement("td",{width:"150"},e["\u5b66\u4e60\u8bc1\u660e\u4eba"]?e["\u5b66\u4e60\u8bc1\u660e\u4eba"]:"--"))}))),r.a.createElement("table",{className:"transport-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u4e0a\u4e0b\u5b66\u8ddd\u79bb(\u5343\u7c73)"),r.a.createElement("td",{width:"178"},E.extraInfoJson&&E.extraInfoJson["\u4e0a\u4e0b\u5b66\u8ddd\u79bb\uff08\u5343\u7c73\uff09"]?E.extraInfoJson["\u4e0a\u4e0b\u5b66\u8ddd\u79bb\uff08\u5343\u7c73\uff09"]:"--"),r.a.createElement("td",{width:"200"},"\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"),r.a.createElement("td",{width:"178"},E.extraInfoJson&&E.extraInfoJson["\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"]?E.extraInfoJson["\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"]:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"),r.a.createElement("td",{width:"178"},E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"]?E.extraInfoJson["\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"]:"--"))),Array.isArray(E.guardianJson)&&E.guardianJson.map((function(e,t){return r.a.createElement("table",{className:"family-info",border:"1",borderColor:"#b7e1e5"},0==t?r.a.createElement("caption",null,"\u5bb6\u5ead\u6210\u5458\u6216\u76d1\u62a4\u4eba\u4fe1\u606f"):"",r.a.createElement("tr",null,r.a.createElement("td",null,"\u59d3\u540d"),r.a.createElement("td",null,e["\u59d3\u540d"]?e["\u59d3\u540d"]:"--"),r.a.createElement("td",null,"\u5173\u7cfb"),r.a.createElement("td",null,e["\u5173\u7cfb"]?e["\u5173\u7cfb"]:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"),r.a.createElement("td",null,e["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]?e["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801"),r.a.createElement("td",null,e["\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801"]?e["\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u6c11\u65cf"),r.a.createElement("td",null,e["\u6c11\u65cf"]?e["\u6c11\u65cf"]:"--"),r.a.createElement("td",null,"\u662f\u5426\u76d1\u62a4\u4eba"),r.a.createElement("td",null,e["\u662f\u5426\u76d1\u62a4\u4eba"]?e["\u662f\u5426\u76d1\u62a4\u4eba"]:"--"),r.a.createElement("td",null,"\u6237\u53e3\u6240\u5728\u5730"),r.a.createElement("td",null,e["\u6237\u53e3\u6240\u5728\u5730"]?e["\u6237\u53e3\u6240\u5728\u5730"]:"--"),r.a.createElement("td",null,"\u8054\u7cfb\u65b9\u5f0f"),r.a.createElement("td",null,e["\u8054\u7cfb\u65b9\u5f0f"]?e["\u8054\u7cfb\u65b9\u5f0f"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u73b0\u4f4f\u5740"),r.a.createElement("td",{colSpan:"3"},e["\u73b0\u4f4f\u5740"]?e["\u73b0\u4f4f\u5740"]:"--"),r.a.createElement("td",null,"\u5de5\u4f5c\u5355\u4f4d"),r.a.createElement("td",null,e["\u5de5\u4f5c\u5355\u4f4d"]?e["\u5de5\u4f5c\u5355\u4f4d"]:"--"),r.a.createElement("td",null,"\u804c\u52a1"),r.a.createElement("td",null,e["\u804c\u52a1"]?e["\u804c\u52a1"]:"--")))})),r.a.createElement("table",{className:"economic-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u5bb6\u5ead\u7ecf\u6d4e\u60c5\u51b5"),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u4eba\u53e3"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5bb6\u5ead\u4eba\u53e3"]?E.extraInfoJson["\u5bb6\u5ead\u4eba\u53e3"]:"--"),r.a.createElement("td",null,"\u8d61\u517b\u4eba\u53e3"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u8d61\u517b\u4eba\u53e3"]?E.extraInfoJson["\u8d61\u517b\u4eba\u53e3"]:"--"),r.a.createElement("td",null,"\u5bb6\u5ead\u5e74\u6536\u5165"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5bb6\u5ead\u5e74\u6536\u5165"]?E.extraInfoJson["\u5bb6\u5ead\u5e74\u6536\u5165"]:"--"),r.a.createElement("td",null,"\u4e3b\u8981\u6536\u5165\u6765\u6e90"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u4e3b\u8981\u6536\u5165\u6765\u6e90"]?E.extraInfoJson["\u4e3b\u8981\u6536\u5165\u6765\u6e90"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"]?E.extraInfoJson["\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"]:"--"),r.a.createElement("td",null,"\u662f\u5426\u4f4e\u4fdd"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u4f4e\u4fdd"]?E.extraInfoJson["\u662f\u5426\u4f4e\u4fdd"]:"--"),r.a.createElement("td",null,"\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"]?E.extraInfoJson["\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"]:"--"),r.a.createElement("td",null,"\u56f0\u96be\u7a0b\u5ea6"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u56f0\u96be\u7a0b\u5ea6"]?E.extraInfoJson["\u56f0\u96be\u7a0b\u5ea6"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"]?E.extraInfoJson["\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"]:"--"),r.a.createElement("td",null,"\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"]?E.extraInfoJson["\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"]:"--"),r.a.createElement("td",{colSpan:"3"},"\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"]?E.extraInfoJson["\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u662f\u5426\u519b\u70c8\u5c5e"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u662f\u5426\u519b\u70c8\u5c5e"]?E.extraInfoJson["\u662f\u5426\u519b\u70c8\u5c5e"]:"--"),r.a.createElement("td",null,"\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"]?E.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"]:"--"),r.a.createElement("td",{colSpan:"3"},"\u5bb6\u5ead\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5bb6\u4e2d\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"]?E.extraInfoJson["\u5bb6\u4e2d\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"]?E.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"]:"--"),r.a.createElement("td",{colSpan:"2"},"\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"),r.a.createElement("td",{colSpan:"4"},E.extraInfoJson&&E.extraInfoJson["\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"]?E.extraInfoJson["\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"]?E.extraInfoJson["\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"]:"--"),r.a.createElement("td",null,"\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"),r.a.createElement("td",null,E.extraInfoJson&&E.extraInfoJson["\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"]?E.extraInfoJson["\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"]:"--"),r.a.createElement("td",null,"\u6b20\u503a\u539f\u56e0"),r.a.createElement("td",{colSpan:"3"},E.extraInfoJson&&E.extraInfoJson["\u6b20\u503a\u539f\u56e0"]?E.extraInfoJson["\u6b20\u503a\u539f\u56e0"]:"--")))):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})):"",r.a.createElement("p",{className:"ProVersion",style:{marginBottom:0}},s))}var za=function(e){var t=e.commonData;return{roleMsg:t.roleMsg,basePlatFormMsg:t.basePlatFormMsg,contentHW:t.contentHW,termInfo:t.termInfo,levelHash:t.levelHash,userInfo:t.userInfo}},Ua=Object(d.connect)(za)(Object(n.memo)(Object(n.forwardRef)(Ha))),Ba=Tt.BasicProxy;function Fa(e,t){var a=e.setShowType,s=e.basePlatFormMsg.ProVersion,c=(e.ModuleID,e.currentClass,e.currentGrade,e.userInfo.SchoolID,e.ModuleType,e.checkList),o=e.setReflashError,l=e.reflashError,i=Object(n.useState)({}),d=Object(u.a)(i,2),f=d[0],p=d[1],h=Object(n.useState)({}),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useState)([]),E=Object(u.a)(v,2),I=E[0],S=E[1],O=Object(n.useState)([]),x=Object(u.a)(O,2),N=x[0],j=x[1],w=Object(n.useState)(1),D=Object(u.a)(w,2),T=D[0],k=D[1];Object(n.useLayoutEffect)((function(){Array.isArray(c)&&c[T-1]&&(p(c[T-1]),c[T-1].errorCorrection&&y(JSON.parse(c[T-1].errorCorrection)))}),[c,T]);var C=function(e){if(1==e){var t=[];t.push(f);var n=Ba+"/api/status/student";Qt.put({url:n,securityLevel:2,body:t,header:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if(200==e.status){var t=Ba+"/api/status/student/correction?studentIds="+(c[T-1]?c[T-1].studentId:"");Qt.delete({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){Ta.b.success("\u64cd\u4f5c\u6210\u529f~"),a("detail"),o(!l)}))}}))}if(0==e){var r=Ba+"/api/status/student/correction";Qt.delete({url:r,securityLevel:2,body:{studentIds:c[T-1]?c[T-1].studentId:""}}).then((function(e){return e.json()})).then((function(e){if(200==e.status){var t=Ba+"/api/status/student/correction?studentIds="+(c[T-1]?c[T-1].studentId:"");Qt.delete({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){Ta.b.success("\u64cd\u4f5c\u6210\u529f~"),a("detail"),o(!l)}))}}))}};return Object(n.useEffect)((function(){if("{}"!=JSON.stringify(f)){var e=_()(".error-page td"),t=Object.assign({},Object(m.a)({},f));console.log(t);var a=function(a){if("resumeList"!=a&&"guardianList"!=a&&"extraInfo"!=a&&e.each((function(e,n){if(_()(n).attr("data-value")==a){_()(n).css({color:"red",textDecoration:"underline"});var r=_()(n).text();_()(n).attr("title","\u539f\uff1a"+r+"\n\u6539\uff1a"+g[a]),_()(n).text(g[a]),t[a]=g[a]}})),"extraInfo"==a&&function(){var n=g[a],r=Object.assign({},Object(m.a)({},f));r.extraInfo=r.extraInfo?r.extraInfo:{};var s=function(t){e.each((function(e,a){if(_()(a).attr("data-value")==t){_()(a).css({color:"red",textDecoration:"underline"});var s=_()(a).text();_()(a).attr("title","\u539f\uff1a"+s+"\n\u6539\uff1a"+n[t]),_()(a).text(n[t]),r.extraInfo[t]=n[t]}}))};for(var c in n)s(c);t.extraInfo=JSON.stringify(r.extraInfo)}(),"resumeList"==a){var n=JSON.parse(g[a]),r=[];n.forEach((function(e,t){var a={};if(f.resumeJson&&f.resumeJson[t])for(var n in e)e[n]!=f.resumeJson[t][n]&&(a[n]=f.resumeJson[t][n]);else for(var s in a=Object(m.a)({},e))a[s]="\u65e0";r.push(a)})),S(r),t.resume=g[a],t.resumeJson=n}if("guardianList"==a){var s=JSON.parse(g[a]),c=[];s.forEach((function(e,t){var a={};if(f.guardianJson&&f.guardianJson[t])for(var n in e)e[n]!=f.guardianJson[t][n]&&(a[n]=f.guardianJson[t][n]);else for(var r in a=Object(m.a)({},e))a[r]="\u65e0";c.push(a)})),j(c),t.guardian=g[a],t.guardianJson=s}};for(var n in g)a(n);p(t)}}),[g,T,c]),r.a.createElement("div",{className:"error-page"},r.a.createElement("div",{className:"import-top"},"\u5b66\u7c4d\u7ea0\u9519\u5ba1\u6838",r.a.createElement("div",{className:"btn-group"},r.a.createElement("div",{className:"reject-btn",onClick:function(){return C(0)}},"\u4e0d\u901a\u8fc7"),r.a.createElement("div",{className:"agree-btn",onClick:function(){return C(1)}},"\u901a\u8fc7"))),r.a.createElement("div",{className:"preview-file"},r.a.createElement("div",{className:"preview-top"},r.a.createElement(ce.a,{locale:ae.a},r.a.createElement(ue.a,{className:"preview-pagination",size:"small",total:c.length,current:T,pageSize:1,showQuickJumper:!0,showSizeChanger:!1,hideOnSinglePage:!0,onChange:function(e){p(c[e-1]),k(e)}}))),r.a.createElement("div",{className:"stu-status",style:{padding:0}},r.a.createElement("table",{className:"base-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u57fa\u672c\u4fe1\u606f\u53ca\u8f85\u52a9\u4fe1\u606f"),r.a.createElement("tr",null,r.a.createElement("td",null,"\u59d3\u540d"),r.a.createElement("td",{title:f.studentName?f.studentName:"--","data-value":"studentName"},f.studentName?f.studentName:"--"),r.a.createElement("td",null,"\u6027\u522b"),r.a.createElement("td",{title:f.gender?f.gender:"--","data-value":"gender"},f.gender?f.gender:"--"),r.a.createElement("td",null,"\u51fa\u751f\u65e5\u671f"),r.a.createElement("td",{title:f.dateOfBirth?f.dateOfBirth:"--","data-value":"dateOfBirth"},f.dateOfBirth?f.dateOfBirth:"--"),r.a.createElement("td",null,"\u51fa\u751f\u5730"),r.a.createElement("td",{title:f.extraInfoJson&&f.extraInfoJson["\u51fa\u751f\u5730"]?f.extraInfoJson["\u51fa\u751f\u5730"]:"--","data-value":"\u51fa\u751f\u5730"},f.extraInfoJson&&f.extraInfoJson["\u51fa\u751f\u5730"]?f.extraInfoJson["\u51fa\u751f\u5730"]:"--"),r.a.createElement("td",{rowSpan:"6",style:{backgroundImage:"url(".concat(f.photoPath,")"),backgroundSize:"100% 100%"}})),r.a.createElement("tr",null,r.a.createElement("td",null,"\u7c4d\u8d2f"),r.a.createElement("td",{title:f.nativePlace?f.nativePlace:"--","data-value":"nativePlace"},f.nativePlace?f.nativePlace:"--"),r.a.createElement("td",null,"\u6c11\u65cf"),r.a.createElement("td",{title:f.nation?f.nation:"--","data-value":"nation"},f.nation?f.nation:"--"),r.a.createElement("td",null,"\u56fd\u7c4d/\u5730\u533a"),r.a.createElement("td",{title:f.nationality?f.nationality:"--","data-value":"nationality"},f.nationality?f.nationality:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"),r.a.createElement("td",{title:f.extraInfoJson&&f.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]?f.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]:"--","data-value":"\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"},f.extraInfoJson&&f.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]?f.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801"),r.a.createElement("td",{colSpan:"3",title:f.identityNum?f.identityNum:"--","data-value":"identityNum"},f.identityNum?f.identityNum:"--"),r.a.createElement("td",null,"\u6e2f\u6fb3\u53f0\u4fa8\u80de"),r.a.createElement("td",{title:f.overseaPeople?f.overseaPeople:"--","data-value":"overseaPeople"},f.overseaPeople?f.overseaPeople:"--"),r.a.createElement("td",null,"\u653f\u6cbb\u9762\u8c8c"),r.a.createElement("td",{title:f.extraInfoJson&&f.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]?f.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]:"--","data-value":"\u653f\u6cbb\u9762\u8c8c"},f.extraInfoJson&&f.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]?f.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5065\u5eb7\u72b6\u51b5"),r.a.createElement("td",{title:f.extraInfoJson&&f.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]?f.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]:"--","data-value":"\u5065\u5eb7\u72b6\u51b5"},f.extraInfoJson&&f.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]?f.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]:"--"),r.a.createElement("td",null,"\u59d3\u540d\u62fc\u97f3"),r.a.createElement("td",{title:f.extraInfoJson&&f.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]?f.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]:"--","data-value":"\u59d3\u540d\u62fc\u97f3"},f.extraInfoJson&&f.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]?f.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]:"--"),r.a.createElement("td",null,"\u66fe\u7528\u540d"),r.a.createElement("td",{title:f.formerName?f.formerName:"--","data-value":"formerName"},f.formerName?f.formerName:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"),r.a.createElement("td",{title:f.extraInfoJson&&f.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]?f.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]:"--","data-value":"\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"},f.extraInfoJson&&f.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]?f.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u6237\u53e3\u6240\u5728\u5730"),r.a.createElement("td",{title:f.censusPlace?f.censusPlace:"--","data-value":"censusPlace"},f.censusPlace?f.censusPlace:"--"),r.a.createElement("td",null,"\u7279\u957f"),r.a.createElement("td",{colSpan:"5",title:f.extraInfoJson&&f.extraInfoJson["\u7279\u957f"]?f.extraInfoJson["\u7279\u957f"]:"--","data-value":"\u7279\u957f"},f.extraInfoJson&&f.extraInfoJson["\u7279\u957f"]?f.extraInfoJson["\u7279\u957f"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5b66\u7c4d\u8f85\u53f7"),r.a.createElement("td",{title:f.studentId?f.studentId:"--","data-value":"studentId"},f.studentId?f.studentId:"--"),r.a.createElement("td",null,"\u73ed\u5185\u5b66\u53f7"),r.a.createElement("td",{title:f.extraInfoJson&&f.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]?f.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]:"--","data-value":"\u73ed\u5185\u5b66\u53f7"},f.extraInfoJson&&f.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]?f.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]:"--"),r.a.createElement("td",null,"\u5e74\u7ea7"),r.a.createElement("td",{title:f.gradeName?f.gradeName:"--","data-value":"gradeName"},f.gradeName?f.gradeName:"--"),r.a.createElement("td",null,"\u73ed\u7ea7"),r.a.createElement("td",{title:f.className?f.className:"--","data-value":"className"},f.className?f.className:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5165\u5b66\u5e74\u6708"),r.a.createElement("td",{title:f.extraInfoJson&&f.extraInfoJson["\u5165\u5b66\u5e74\u6708"]?f.extraInfoJson["\u5165\u5b66\u5e74\u6708"]:"--","data-value":"\u5165\u5b66\u5e74\u6708"},f.extraInfoJson&&f.extraInfoJson["\u5165\u5b66\u5e74\u6708"]?f.extraInfoJson["\u5165\u5b66\u5e74\u6708"]:"--"),r.a.createElement("td",null,"\u5165\u5b66\u65b9\u5f0f"),r.a.createElement("td",{title:f.extraInfoJson&&f.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]?f.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]:"--","data-value":"\u5165\u5b66\u65b9\u5f0f"},f.extraInfoJson&&f.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]?f.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]:"--"),r.a.createElement("td",null,"\u5c31\u8bfb\u65b9\u5f0f"),r.a.createElement("td",{title:f.studyingWay?f.studyingWay:"--","data-value":"studyingWay"},f.studyingWay?f.studyingWay:"--"),r.a.createElement("td",null,"\u5b66\u751f\u6765\u6e90"),r.a.createElement("td",{colSpan:"2",title:f.extraInfoJson&&f.extraInfoJson["\u5b66\u751f\u6765\u6e90"]?f.extraInfoJson["\u5b66\u751f\u6765\u6e90"]:"--","data-value":"\u5b66\u751f\u6765\u6e90"},f.extraInfoJson&&f.extraInfoJson["\u5b66\u751f\u6765\u6e90"]?f.extraInfoJson["\u5b66\u751f\u6765\u6e90"]:"--"))),r.a.createElement("table",{className:"person-link",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u4e2a\u4eba\u8054\u7cfb\u65b9\u5f0f"),r.a.createElement("tr",null,r.a.createElement("td",null,"\u73b0\u4f4f\u5740"),r.a.createElement("td",{colSpan:"3",title:f.extraInfoJson&&f.extraInfoJson["\u73b0\u4f4f\u5740"]?f.extraInfoJson["\u73b0\u4f4f\u5740"]:"--","data-value":"\u73b0\u4f4f\u5740"},f.extraInfoJson&&f.extraInfoJson["\u73b0\u4f4f\u5740"]?f.extraInfoJson["\u73b0\u4f4f\u5740"]:"--"),r.a.createElement("td",null,"\u901a\u4fe1\u5730\u5740"),r.a.createElement("td",{colSpan:"3",title:f.extraInfoJson&&f.extraInfoJson["\u901a\u8baf\u5730\u5740"]?f.extraInfoJson["\u901a\u8baf\u5730\u5740"]:"--","data-value":"\u901a\u8baf\u5730\u5740"},f.extraInfoJson&&f.extraInfoJson["\u901a\u8baf\u5730\u5740"]?f.extraInfoJson["\u901a\u8baf\u5730\u5740"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u5730\u5740"),r.a.createElement("td",{colSpan:"3",title:f.homeAddress?f.homeAddress:"--","data-value":"censusPlace"},f.homeAddress?f.homeAddress:"--"),r.a.createElement("td",null,"\u8054\u7cfb\u7535\u8bdd"),r.a.createElement("td",{title:f.extraInfoJson&&f.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]?f.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]:"--","data-value":"\u8054\u7cfb\u7535\u8bdd"},f.extraInfoJson&&f.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]?f.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]:"--"),r.a.createElement("td",null,"\u90ae\u653f\u7f16\u7801"),r.a.createElement("td",{title:f.extraInfoJson&&f.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]?f.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]:"--","data-value":"\u90ae\u653f\u7f16\u53f7"},f.extraInfoJson&&f.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]?f.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u7535\u5b50\u90ae\u7bb1"),r.a.createElement("td",{colSpan:"3",title:f.extraInfoJson&&f.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]?f.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]:"--","data-value":"\u7535\u5b50\u90ae\u7bb1"},f.extraInfoJson&&f.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]?f.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]:"--"),r.a.createElement("td",null,"\u4e3b\u9875\u5730\u5740"),r.a.createElement("td",{colSpan:"3",title:f.extraInfoJson&&f.extraInfoJson["\u4e3b\u9875\u5730\u5740"]?f.extraInfoJson["\u4e3b\u9875\u5730\u5740"]:"--","data-value":"\u4e3b\u9875\u5730\u5740"},f.extraInfoJson&&f.extraInfoJson["\u4e3b\u9875\u5730\u5740"]?f.extraInfoJson["\u4e3b\u9875\u5730\u5740"]:"--"))),r.a.createElement("table",{className:"person-more-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u4e2a\u4eba\u6269\u5c55\u4fe1\u606f"),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u662f\u5426\u72ec\u751f\u5b50\u5973"),r.a.createElement("td",{width:"85","data-value":"isOnlychild"},f.isOnlychild?f.isOnlychild:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u53d7\u8fc7\u5b66\u524d\u6559\u80b2"),r.a.createElement("td",{width:"85","data-value":"isAcceptpreschool"},f.isAcceptpreschool?f.isAcceptpreschool:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u7559\u5b88\u513f\u7ae5"),r.a.createElement("td",{width:"85","data-value":"isLeftbehindchild"},f.isLeftbehindchild?f.isLeftbehindchild:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"),r.a.createElement("td",{width:"85","data-value":"\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"},f.extraInfoJson&&f.extraInfoJson["\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"]?f.extraInfoJson["\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u662f\u5426\u5b64\u513f"),r.a.createElement("td",{width:"85","data-value":"\u662f\u5426\u5b64\u513f"},f.extraInfoJson&&f.extraInfoJson["\u662f\u5426\u5b64\u513f"]?f.extraInfoJson["\u662f\u5426\u5b64\u513f"]:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"),r.a.createElement("td",{width:"85","data-value":"\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"},f.extraInfoJson&&f.extraInfoJson["\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"]?f.extraInfoJson["\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"]:"--"),r.a.createElement("td",{width:"200"},"\u968f\u73ed\u5c31\u8bfb"),r.a.createElement("td",{width:"85","data-value":"\u968f\u73ed\u5c31\u8bfb"},f.extraInfoJson&&f.extraInfoJson["\u968f\u73ed\u5c31\u8bfb"]?f.extraInfoJson["\u968f\u73ed\u5c31\u8bfb"]:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"),r.a.createElement("td",{width:"85","data-value":"\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"},f.extraInfoJson&&f.extraInfoJson["\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"]?f.extraInfoJson["\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u662f\u5426\u4eab\u53d7\u4e00\u8865"),r.a.createElement("td",{width:"85","data-value":"\u662f\u5426\u4eab\u53d7\u4e00\u8865"},f.extraInfoJson&&f.extraInfoJson["\u662f\u5426\u4eab\u53d7\u4e00\u8865"]?f.extraInfoJson["\u662f\u5426\u4eab\u53d7\u4e00\u8865"]:"--"),r.a.createElement("td",{width:"200"},"\u6b8b\u75be\u4eba\u7c7b\u578b"),r.a.createElement("td",{colSpan:"5","data-value":"\u6b8b\u75be\u4eba\u7c7b\u578b"},f.extraInfoJson&&f.extraInfoJson["\u6b8b\u75be\u4eba\u7c7b\u578b"]?f.extraInfoJson["\u6b8b\u75be\u4eba\u7c7b\u578b"]:"--"))),r.a.createElement("table",{className:"study-status",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u5b66\u4e60\u7ecf\u5386"),r.a.createElement("tr",null,r.a.createElement("th",{width:"148"},"\u5b66\u4e60\u8d77\u59cb\u65f6\u95f4"),r.a.createElement("th",{width:"148"},"\u5b66\u4e60\u7ed3\u675f\u65f6\u95f4"),r.a.createElement("th",{width:"395"},"\u5b66\u4e60\u5355\u4f4d"),r.a.createElement("th",{width:"160"},"\u5b66\u4e60\u5185\u5bb9"),r.a.createElement("th",{width:"140"},"\u62c5\u4efb\u804c\u52a1"),r.a.createElement("th",{width:"150"},"\u5b66\u4e60\u8bc1\u660e\u4eba")),Array.isArray(f.resumeJson)&&f.resumeJson.map((function(e,t){return console.log(I,f),r.a.createElement("tr",{key:t},r.a.createElement("td",{width:"148",style:{color:I[t]&&I[t].semesterStartTime?"red":""},title:I[t]&&I[t].semesterStartTime?"\u539f\uff1a".concat(I[t].semesterStartTime,"\n\u6539\uff1a").concat(e.semesterStartTime):e.semesterStartTime},e.semesterStartTime?e.semesterStartTime:"--"),r.a.createElement("td",{width:"148",style:{color:I[t]&&I[t].semesterStartTime?"red":""},title:I[t]&&I[t].semesterStartTime?"\u539f\uff1a".concat(I[t].semesterStartTime,"\n\u6539\uff1a").concat(e.semesterStartTime):e.semesterStartTime},e.semesterEndTime?e.semesterEndTime:"--"),r.a.createElement("td",{width:"395",style:{color:I[t]&&I[t].school?"red":""},title:I[t]&&I[t].school?"\u539f\uff1a".concat(I[t].school,"\n\u6539\uff1a").concat(e.school):e.school},e.school?e.school:"--"),r.a.createElement("td",{width:"160",style:{color:I[t]&&I[t].learningContent?"red":""},title:I[t]&&I[t].learningContent?"\u539f\uff1a".concat(I[t].learningContent,"\n\u6539\uff1a").concat(e.learningContent):e.learningContent},e.learningContent?e.learningContent:"--"),r.a.createElement("td",{width:"140",style:{color:I[t]&&I[t].duty?"red":""},title:I[t]&&I[t].duty?"\u539f\uff1a".concat(I[t].duty,"\n\u6539\uff1a").concat(e.duty):e.duty},e.duty?e.duty:"--"),r.a.createElement("td",{width:"150",style:{color:I[t]&&I[t].certifier?"red":""},title:I[t]&&I[t].certifier?"\u539f\uff1a".concat(I[t].certifier,"\n\u6539\uff1a").concat(e.certifier):e.certifier},e.certifier?e.certifier:"--"))}))),r.a.createElement("table",{className:"transport-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u4e0a\u4e0b\u5b66\u8ddd\u79bb(\u5343\u7c73)"),r.a.createElement("td",{width:"178","data-value":"\u4e0a\u4e0b\u5b66\u8ddd\u79bb\uff08\u5343\u7c73\uff09"},f.extraInfoJson&&f.extraInfoJson["\u4e0a\u4e0b\u5b66\u8ddd\u79bb\uff08\u5343\u7c73\uff09"]?f.extraInfoJson["\u4e0a\u4e0b\u5b66\u8ddd\u79bb\uff08\u5343\u7c73\uff09"]:"--"),r.a.createElement("td",{width:"200"},"\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"),r.a.createElement("td",{width:"178","data-value":"\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"},f.extraInfoJson&&f.extraInfoJson["\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"]?f.extraInfoJson["\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"]:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"),r.a.createElement("td",{width:"178","data-value":"\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"},f.extraInfoJson&&f.extraInfoJson["\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"]?f.extraInfoJson["\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"]:"--"))),Array.isArray(f.guardianJson)&&f.guardianJson.map((function(e,t){return r.a.createElement("table",{className:"family-info",border:"1",borderColor:"#b7e1e5"},0==t?r.a.createElement("caption",null,"\u5bb6\u5ead\u6210\u5458\u6216\u76d1\u62a4\u4eba\u4fe1\u606f"):"",r.a.createElement("tr",null,r.a.createElement("td",null,"\u59d3\u540d"),r.a.createElement("td",{style:{color:N[t]&&N[t].name?"red":""},title:N[t]&&N[t].name?"\u539f\uff1a".concat(N[t].name,"\n\u6539\uff1a").concat(e.name):e.name},e.name?e.name:"--"),r.a.createElement("td",null,"\u5173\u7cfb"),r.a.createElement("td",{style:{color:N[t]&&N[t].relationship?"red":""},title:N[t]&&N[t].relationship?"\u539f\uff1a".concat(N[t].relationship,"\n\u6539\uff1a").concat(e.relationship):e.relationship},e.relationship?e.relationship:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"),r.a.createElement("td",{style:{color:N[t]&&N[t].idCardType?"red":""},title:N[t]&&N[t].idCardType?"\u539f\uff1a".concat(N[t].idCardType,"\n\u6539\uff1a").concat(e.idCardType):e.idCardType},e.idCardType?e.idCardType:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801"),r.a.createElement("td",{style:{color:N[t]&&N[t].idCardNum?"red":""},title:N[t]&&N[t].idCardNum?"\u539f\uff1a".concat(N[t].idCardNum,"\n\u6539\uff1a").concat(e.idCardNum):e.idCardNum},e.idCardNum?e.idCardNum:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u6c11\u65cf"),r.a.createElement("td",{style:{color:N[t]&&N[t].nation?"red":""},title:N[t]&&N[t].nation?"\u539f\uff1a".concat(N[t].nation,"\n\u6539\uff1a").concat(e.nation):e.nation},e.nation?e.nation:"--"),r.a.createElement("td",null,"\u662f\u5426\u76d1\u62a4\u4eba"),r.a.createElement("td",{style:{color:N[t]&&N[t].isGuardian?"red":""},title:N[t]&&N[t].isGuardian?"\u539f\uff1a".concat(N[t].isGuardian,"\n\u6539\uff1a").concat(e.isGuardian):e.isGuardian},e.isGuardian?e.isGuardian:"--"),r.a.createElement("td",null,"\u6237\u53e3\u6240\u5728\u5730"),r.a.createElement("td",{style:{color:N[t]&&N[t].censusPlace?"red":""},title:N[t]&&N[t].censusPlace?"\u539f\uff1a".concat(N[t].censusPlace,"\n\u6539\uff1a").concat(e.censusPlace):e.censusPlace},e.censusPlace?e.censusPlace:"--"),r.a.createElement("td",null,"\u8054\u7cfb\u65b9\u5f0f"),r.a.createElement("td",{style:{color:N[t]&&N[t].tel?"red":""},title:N[t]&&N[t].tel?"\u539f\uff1a".concat(N[t].tel,"\n\u6539\uff1a").concat(e.tel):e.tel},e.tel?e.tel:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u73b0\u4f4f\u5740"),r.a.createElement("td",{colSpan:"3",style:{color:N[t]&&N[t].address?"red":""},title:N[t]&&N[t].address?"\u539f\uff1a".concat(N[t].address,"\n\u6539\uff1a").concat(e.address):e.address},e.address?e.address:"--"),r.a.createElement("td",null,"\u5de5\u4f5c\u5355\u4f4d"),r.a.createElement("td",{style:{color:N[t]&&N[t].serviceUnit?"red":""},title:N[t]&&N[t].serviceUnit?"\u539f\uff1a".concat(N[t].serviceUnit,"\n\u6539\uff1a").concat(e.serviceUnit):e.serviceUnit},e.serviceUnit?e.serviceUnit:"--"),r.a.createElement("td",null,"\u804c\u52a1"),r.a.createElement("td",{style:{color:N[t]&&N[t].position?"red":""},title:N[t]&&N[t].position?"\u539f\uff1a".concat(N[t].position,"\n\u6539\uff1a").concat(e.position):e.position},e.position?e.position:"--")))})),r.a.createElement("table",{className:"economic-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u5bb6\u5ead\u7ecf\u6d4e\u60c5\u51b5"),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u4eba\u53e3"),r.a.createElement("td",{"data-value":"\u5bb6\u5ead\u4eba\u53e3"},f.extraInfoJson&&f.extraInfoJson["\u5bb6\u5ead\u4eba\u53e3"]?f.extraInfoJson["\u5bb6\u5ead\u4eba\u53e3"]:"--"),r.a.createElement("td",null,"\u8d61\u517b\u4eba\u53e3"),r.a.createElement("td",{"data-value":"\u8d61\u517b\u4eba\u53e3"},f.extraInfoJson&&f.extraInfoJson["\u8d61\u517b\u4eba\u53e3"]?f.extraInfoJson["\u8d61\u517b\u4eba\u53e3"]:"--"),r.a.createElement("td",null,"\u5bb6\u5ead\u5e74\u6536\u5165"),r.a.createElement("td",{"data-value":"\u5bb6\u5ead\u5e74\u6536\u5165"},f.extraInfoJson&&f.extraInfoJson["\u5bb6\u5ead\u5e74\u6536\u5165"]?f.extraInfoJson["\u5bb6\u5ead\u5e74\u6536\u5165"]:"--"),r.a.createElement("td",null,"\u4e3b\u8981\u6536\u5165\u6765\u6e90"),r.a.createElement("td",{"data-value":"\u4e3b\u8981\u6536\u5165\u6765\u6e90"},f.extraInfoJson&&f.extraInfoJson["\u4e3b\u8981\u6536\u5165\u6765\u6e90"]?f.extraInfoJson["\u4e3b\u8981\u6536\u5165\u6765\u6e90"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"),r.a.createElement("td",{"data-value":"\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"},f.extraInfoJson&&f.extraInfoJson["\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"]?f.extraInfoJson["\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"]:"--"),r.a.createElement("td",null,"\u662f\u5426\u4f4e\u4fdd"),r.a.createElement("td",{"data-value":"\u662f\u5426\u4f4e\u4fdd"},f.extraInfoJson&&f.extraInfoJson["\u662f\u5426\u4f4e\u4fdd"]?f.extraInfoJson["\u662f\u5426\u4f4e\u4fdd"]:"--"),r.a.createElement("td",null,"\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"),r.a.createElement("td",{"data-value":"\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"},f.extraInfoJson&&f.extraInfoJson["\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"]?f.extraInfoJson["\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"]:"--"),r.a.createElement("td",null,"\u56f0\u96be\u7a0b\u5ea6"),r.a.createElement("td",{"data-value":"\u56f0\u96be\u7a0b\u5ea6"},f.extraInfoJson&&f.extraInfoJson["\u56f0\u96be\u7a0b\u5ea6"]?f.extraInfoJson["\u56f0\u96be\u7a0b\u5ea6"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"),r.a.createElement("td",{"data-value":"\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"},f.extraInfoJson&&f.extraInfoJson["\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"]?f.extraInfoJson["\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"]:"--"),r.a.createElement("td",null,"\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"),r.a.createElement("td",{"data-value":"\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"},f.extraInfoJson&&f.extraInfoJson["\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"]?f.extraInfoJson["\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"]:"--"),r.a.createElement("td",{colSpan:"3"},"\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"),r.a.createElement("td",{"data-value":"\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"},f.extraInfoJson&&f.extraInfoJson["\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"]?f.extraInfoJson["\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u662f\u5426\u519b\u70c8\u5c5e"),r.a.createElement("td",{"data-value":"\u662f\u5426\u519b\u70c8\u5c5e"},f.extraInfoJson&&f.extraInfoJson["\u662f\u5426\u519b\u70c8\u5c5e"]?f.extraInfoJson["\u662f\u5426\u519b\u70c8\u5c5e"]:"--"),r.a.createElement("td",null,"\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"),r.a.createElement("td",{"data-value":"\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"},f.extraInfoJson&&f.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"]?f.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"]:"--"),r.a.createElement("td",{colSpan:"3"},"\u5bb6\u4e2d\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"),r.a.createElement("td",{"data-value":"\u5bb6\u4e2d\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"},f.extraInfoJson&&f.extraInfoJson["\u5bb6\u4e2d\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"]?f.extraInfoJson["\u5bb6\u4e2d\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"),r.a.createElement("td",{"data-value":"\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"},f.extraInfoJson&&f.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"]?f.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"]:"--"),r.a.createElement("td",{colSpan:"2"},"\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"),r.a.createElement("td",{colSpan:"4","data-value":"\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"},f.extraInfoJson&&f.extraInfoJson["\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"]?f.extraInfoJson["\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"),r.a.createElement("td",{"data-value":"\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"},f.extraInfoJson&&f.extraInfoJson["\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"]?f.extraInfoJson["\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"]:"--"),r.a.createElement("td",null,"\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"),r.a.createElement("td",{"data-value":"\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"},f.extraInfoJson&&f.extraInfoJson["\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"]?f.extraInfoJson["\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"]:"--"),r.a.createElement("td",null,"\u6b20\u503a\u539f\u56e0"),r.a.createElement("td",{colSpan:"3","data-value":"\u6b20\u503a\u539f\u56e0"},f.extraInfoJson&&f.extraInfoJson["\u6b20\u503a\u539f\u56e0"]?f.extraInfoJson["\u6b20\u503a\u539f\u56e0"]:"--"))))),r.a.createElement("p",{className:"ProVersion",style:{marginBottom:0}},s))}var Ga=function(e){var t=e.commonData;return{roleMsg:t.roleMsg,basePlatFormMsg:t.basePlatFormMsg,contentHW:t.contentHW,termInfo:t.termInfo,levelHash:t.levelHash,userInfo:t.userInfo}},_a=Object(d.connect)(Ga)(Object(n.memo)(Object(n.forwardRef)(Fa))),Va=a(4);a(1636);function Ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(n.useRef)(!1),s=Object(n.useState)({pageIndex:1,pageSize:10}),c=Object(u.a)(s,2),o=c[0],d=c[1],f=Object(n.useState)({List:[],Total:10,PageSize:10,PageIndex:1,IsError:!1}),p=Object(u.a)(f,2),h=p[0],b=p[1],g=Object(n.useState)(!1),y=Object(u.a)(g,2),v=y[0],E=y[1],I=Object(n.useState)(!1),S=Object(u.a)(I,2),O=S[0],x=S[1],N=Object(n.useMemo)((function(){return function(){var a=Object(i.a)(l.a.mark((function a(n){var s;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!O){a.next=2;break}return a.abrupt("return");case 2:if(E(!0),n=n||Object(m.a)(Object(m.a)({},e),o),t){a.next=8;break}return b(Object(m.a)(Object(m.a)({},h),{},{PageSize:n.pageSize,PageIndex:n.pageIndex})),r.current=!0,a.abrupt("return");case 8:return a.next=10,t(n);case 10:200===(s=a.sent).StatusCode?(b(s.data),r.current=!0):b({isError:!0}),E(!1);case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}),[]);Object(n.useEffect)((function(){r.current&&N(Object(m.a)(Object(m.a)({},e),o))}),[o]),Object(n.useEffect)((function(){return a&&N(Object(m.a)(Object(m.a)(Object(m.a)({},o),e),{},{pageIndex:1})),function(){x(!0)}}),[e,a]);var j=Object(n.useMemo)((function(){return function(t){return d(Object(m.a)(Object(m.a)(Object(m.a)({},e),o),t))}}),[o,e]),w=Object(n.useMemo)((function(){return function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=t||{},N(Object(m.a)(Object(m.a)(Object(m.a)({},e),o),{},{pageIndex:a?1:o.pageIndex},t))}}),[o,e,N]);return[h,j,N,v,w]}function Za(e,t){var a=e.className,s=e.loading,c=e.tip,o=e.opacity,l=e.query,i=e.pageProps,d=e.api,m=e.prepare,f=e.onDataChange,p=Object(Y.a)(e,["className","loading","tip","opacity","query","pageProps","api","prepare","onDataChange"]),h=Ya(l,d,m),b=Object(u.a)(h,5),g=b[0],y=b[1],v=b[2],E=b[3],I=b[4],S=g.PageIndex,O=g.PageSize,x=g.Total,N=g.List,j=g.IsError,w=Object(n.useMemo)((function(){return i instanceof Object?i:{}}),[i]);return Object(n.useImperativeHandle)(t,(function(){return{getList:v,reloadList:I,data:g}}),[v,g,I,x]),Object(n.useEffect)((function(){"function"===typeof f&&f(g)}),[g,f]),r.a.createElement(be,{spinning:void 0!==s?s instanceof Boolean&&s:E,tip:c||"\u52a0\u8f7d\u4e2d...",opacity:o||!1},r.a.createElement("div",{className:"lg-table-box ".concat(a||"")},!j&&N instanceof Array&&N.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe,Object.assign({dataSource:N,pagination:!1,showSorterTooltip:!1,onChange:function(e,t,a,n){"sort"===n.action&&y({sortFiled:a.columnKey,sortType:"ascend"===a.order?"ASC":"descend"===a.order?"DESC":""})},className:"lg-table"},p)),r.a.createElement(Ce,Object.assign({showQuickJumper:!0,showSizeChanger:!0,pageSize:O,current:S,hideOnSinglePage:0===x,total:x,onChange:function(e,t){y({pageIndex:e,pageSize:void 0===w.showSizeChanger||w.showSizeChanger?t:O})}},w))):r.a.createElement(ye,{className:"lg-table-empty",type:"4",title:"\u6682\u65e0\u6570\u636e"})))}var Qa=Object(n.memo)(Object(n.forwardRef)(Za));a(1637);function Xa(e){var t=e.tableHeader,a=e.data,s=e.style,c=Object(n.useState)(1),o=Object(u.a)(c,2),l=o[0],i=o[1];if(Array.isArray(t)&&Array.isArray(a)){var d=t.length,m=parseInt(100/d)+"%",f=[];return a.forEach((function(e){var a=!0;t.forEach((function(t){"score"!=t.key||e[t.key]||(a=!1),"useTime"!=t.key||e[t.key]||(a=!1)})),a&&f.push(e)})),r.a.createElement("div",{className:"data-table",style:s||null},r.a.createElement("div",{className:"table-thead"},t.map((function(e,t){return r.a.createElement("div",{className:"table-th",style:{width:m},key:t},e.name)}))),Array.isArray(f)&&f.length>0?f.slice(8*(l-1),8*l).map((function(e,a){var n=[];return t.forEach((function(t,s){"index"===t.key?n.push(r.a.createElement("div",{className:"table-td",style:{width:m},key:s},a+1)):n.push(r.a.createElement("div",{className:"table-td",style:{width:m},key:s},"userName"==t.key?r.a.createElement("img",{className:"user-head",src:e.userImgUrl||e.studentImgUrl,alt:""}):"",e[t.key]?e[t.key]:"--"))})),r.a.createElement("div",{className:"table-tr"},n)})):r.a.createElement(ye,{style:{margin:"183px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}),f.length>8?r.a.createElement(ce.a,{locale:ae.a},r.a.createElement(ue.a,{className:"table-pagination",size:"small",total:f.length,current:l,pageSize:8,showQuickJumper:!0,showSizeChanger:!1,hideOnSinglePage:!0,onChange:function(e){i(e)}})):"")}}var Ka=Xa;a(1638),a(1639);function qa(e,t){var a=e.topContext,s=e.width,c=e.marginLR,o=e.style,l=e.className,i=e.barName,u=e.loading,d=(e.barId,e.children),m=e.isEmpty,f=e.emptyTitle,p=(e.userIdentity,Object(Y.a)(e,["topContext","width","marginLR","style","className","barName","loading","barId","children","isEmpty","emptyTitle","userIdentity"])),h=Object(n.useRef)(null);return Object(n.useImperativeHandle)(t,(function(){return h.current})),r.a.createElement("div",Object.assign({ref:h,style:Object.assign({},{width:"calc(".concat(s||"100%"," - ").concat("number"===typeof c?2*c:32,"px)"),marginLeft:"number"===typeof c?c+"px":"16px",marginRight:"number"===typeof c?c+"px":"16px"},o instanceof Object?o:{}),className:"frame-bar-context ".concat(l||"")},p),r.a.createElement("div",{className:"fbc-top"},r.a.createElement("span",{className:"ftc-bar-name",title:i},i),a?r.a.createElement("span",{className:"ftc-top-custom"},u?r.a.createElement("div",{style:{height:"100%",width:"100%",position:"absolute"}}):"",a.$$typeof?a:a.title?r.a.createElement("span",{className:"ftc-default-btn ".concat(a.className?a.className:""),onClick:function(){"function"===typeof a.onClick&&a.onClick()},style:a.icon?{background:"url(".concat(a.icon,") no-repeat left center/15px 15px")}:{}},a.title):""):""),r.a.createElement("div",{className:"fbc-contain"},r.a.createElement(be,{spinning:u||!1,opacity:!1,tip:"\u52a0\u8f7d\u4e2d..."},void 0!==m&&m?r.a.createElement(ye,{className:"bar-empty",title:f||"\u6682\u65e0\u6570\u636e...",type:"4"}):r.a.createElement("div",{className:"fbc-contain-box"},d))))}var $a=Object(n.memo)(Object(n.forwardRef)(qa));Tt.BasicProxy;a(1640);var en=ne.a.Option;function tn(e){var t=e.title,a=e.type,s=e.data,c=e.list,o=e.width,l=(e.getValue,e.titleWidth),i=e.inputWidth,d=e.inputRef,m=e.className,f=Object(n.useState)(s||""),p=Object(u.a)(f,2),h=p[0],b=p[1],g=Object(n.useState)(!1),y=Object(u.a)(g,2),v=y[0],E=y[1];return Object(n.useEffect)((function(){E(h!=(s||""))}),[h]),Object(n.useImperativeHandle)(d,(function(){return{value:h,isUpdate:v}}),[h,s,a,c,v]),r.a.createElement("div",{ref:d,className:"input-container",style:{width:o}},r.a.createElement("span",{className:"input-title",style:{width:l}},t,":"),r.a.createElement("span",{className:m,style:{display:"none"}},h),"select"==a?r.a.createElement(ne.a,{value:h||"\u5426",onChange:function(e){return b(e)},getPopupContainer:function(){return _()(".body-container")[0]},style:{width:i}},r.a.createElement(en,{value:"\u5426"},"\u5426"),r.a.createElement(en,{value:"\u662f"},"\u662f")):"list"==a?r.a.createElement(ne.a,{value:h,onChange:function(e){return b(e)},getPopupContainer:function(){return _()(".body-container")[0]},style:{width:i}},Array.isArray(c)&&c.map((function(e,t){return r.a.createElement(en,{key:t,value:e},e)}))):"input"==a?r.a.createElement("input",{className:"input-btn",type:"text",value:h,onChange:function(e){b(e.target.value)},style:{width:i}}):r.a.createElement("div",{className:"input-btn",style:{width:i}},h))}var an=Object(n.memo)(Object(n.forwardRef)(tn));a(1641);var nn=a(26);a(87),a(82),a(83),a(80),a(81),a(98),Tt.BasicProxy;function rn(e,t){e.userInfo.UserID;var a=e.userStatus;return r.a.createElement("div",{className:"stu-status"},r.a.createElement("table",{className:"base-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u57fa\u672c\u4fe1\u606f\u53ca\u8f85\u52a9\u4fe1\u606f"),r.a.createElement("tr",null,r.a.createElement("td",null,"\u59d3\u540d"),r.a.createElement("td",{title:a.studentName?a.studentName:"--"},a.studentName?a.studentName:"--"),r.a.createElement("td",null,"\u6027\u522b"),r.a.createElement("td",{title:a.gender?a.gender:"--"},a.gender?a.gender:"--"),r.a.createElement("td",null,"\u51fa\u751f\u65e5\u671f"),r.a.createElement("td",{title:a.dateOfBirth?a.dateOfBirth:"--"},a.dateOfBirth?a.dateOfBirth:"--"),r.a.createElement("td",null,"\u51fa\u751f\u5730"),r.a.createElement("td",{title:a.extraInfoJson&&a.extraInfoJson["\u51fa\u751f\u5730"]?a.extraInfoJson["\u51fa\u751f\u5730"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u51fa\u751f\u5730"]?a.extraInfoJson["\u51fa\u751f\u5730"]:"--"),r.a.createElement("td",{rowSpan:"6",style:{backgroundImage:"url(".concat(a.photoPath,")"),backgroundSize:"calc(100% - 24px) calc(100% - 24px)",backgroundRepeat:"no-repeat",backgroundPosition:"center center"}})),r.a.createElement("tr",null,r.a.createElement("td",null,"\u7c4d\u8d2f"),r.a.createElement("td",{title:a.nativePlace?a.nativePlace:"--"},a.nativePlace?a.nativePlace:"--"),r.a.createElement("td",null,"\u6c11\u65cf"),r.a.createElement("td",{title:a.nation?a.nation:"--"},a.nation?a.nation:"--"),r.a.createElement("td",null,"\u56fd\u7c4d/\u5730\u533a"),r.a.createElement("td",{title:a.nationality?a.nationality:"--"},a.nationality?a.nationality:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"),r.a.createElement("td",{title:a.extraInfoJson&&a.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]?a.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]?a.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801"),r.a.createElement("td",{colSpan:"3",title:a.identityNum?a.identityNum:"--"},a.identityNum?a.identityNum:"--"),r.a.createElement("td",null,"\u6e2f\u6fb3\u53f0\u4fa8\u80de"),r.a.createElement("td",{title:a.overseaPeople?a.overseaPeople:"--"},a.overseaPeople?a.overseaPeople:"--"),r.a.createElement("td",null,"\u653f\u6cbb\u9762\u8c8c"),r.a.createElement("td",{title:a.extraInfoJson&&a.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]?a.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]?a.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5065\u5eb7\u72b6\u51b5"),r.a.createElement("td",{title:a.extraInfoJson&&a.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]?a.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]?a.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]:"--"),r.a.createElement("td",null,"\u59d3\u540d\u62fc\u97f3"),r.a.createElement("td",{title:a.extraInfoJson&&a.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]?a.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]?a.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]:"--"),r.a.createElement("td",null,"\u66fe\u7528\u540d"),r.a.createElement("td",{title:a.formerName?a.formerName:"--"},a.formerName?a.formerName:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"),r.a.createElement("td",{title:a.extraInfoJson&&a.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]?a.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]?a.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u6237\u53e3\u6240\u5728\u5730"),r.a.createElement("td",{title:a.censusPlace?a.censusPlace:"--"},a.censusPlace?a.censusPlace:"--"),r.a.createElement("td",null,"\u7279\u957f"),r.a.createElement("td",{colSpan:"5",title:a.extraInfoJson&&a.extraInfoJson["\u7279\u957f"]?a.extraInfoJson["\u7279\u957f"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u7279\u957f"]?a.extraInfoJson["\u7279\u957f"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5b66\u7c4d\u8f85\u53f7"),r.a.createElement("td",{title:a.studentId?a.studentId:"--"},a.studentId?a.studentId:"--"),r.a.createElement("td",null,"\u73ed\u5185\u5b66\u53f7"),r.a.createElement("td",{title:a.extraInfoJson&&a.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]?a.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]?a.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]:"--"),r.a.createElement("td",null,"\u5e74\u7ea7"),r.a.createElement("td",{title:a.gradeName?a.gradeName:"--"},a.gradeName?a.gradeName:"--"),r.a.createElement("td",null,"\u73ed\u7ea7"),r.a.createElement("td",{title:a.className?a.className:"--"},a.className?a.className:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5165\u5b66\u5e74\u6708"),r.a.createElement("td",{title:a.extraInfoJson&&a.extraInfoJson["\u5165\u5b66\u5e74\u6708"]?a.extraInfoJson["\u5165\u5b66\u5e74\u6708"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u5165\u5b66\u5e74\u6708"]?a.extraInfoJson["\u5165\u5b66\u5e74\u6708"]:"--"),r.a.createElement("td",null,"\u5165\u5b66\u65b9\u5f0f"),r.a.createElement("td",{title:a.extraInfoJson&&a.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]?a.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]?a.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]:"--"),r.a.createElement("td",null,"\u5c31\u8bfb\u65b9\u5f0f"),r.a.createElement("td",{title:a.studyingWay?a.studyingWay:"--"},a.studyingWay?a.studyingWay:"--"),r.a.createElement("td",null,"\u5b66\u751f\u6765\u6e90"),r.a.createElement("td",{colSpan:"2",title:a.extraInfoJson&&a.extraInfoJson["\u5b66\u751f\u6765\u6e90"]?a.extraInfoJson["\u5b66\u751f\u6765\u6e90"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u5b66\u751f\u6765\u6e90"]?a.extraInfoJson["\u5b66\u751f\u6765\u6e90"]:"--"))),r.a.createElement("table",{className:"person-link",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u4e2a\u4eba\u8054\u7cfb\u65b9\u5f0f"),r.a.createElement("tr",null,r.a.createElement("td",null,"\u73b0\u4f4f\u5740"),r.a.createElement("td",{colSpan:"3",title:a.extraInfoJson&&a.extraInfoJson["\u73b0\u4f4f\u5740"]?a.extraInfoJson["\u73b0\u4f4f\u5740"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u73b0\u4f4f\u5740"]?a.extraInfoJson["\u73b0\u4f4f\u5740"]:"--"),r.a.createElement("td",null,"\u901a\u4fe1\u5730\u5740"),r.a.createElement("td",{colSpan:"3",title:a.extraInfoJson&&a.extraInfoJson["\u901a\u8baf\u5730\u5740"]?a.extraInfoJson["\u901a\u8baf\u5730\u5740"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u901a\u8baf\u5730\u5740"]?a.extraInfoJson["\u901a\u8baf\u5730\u5740"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u5730\u5740"),r.a.createElement("td",{colSpan:"3",title:a.homeAddress?a.homeAddress:"--"},a.homeAddress?a.homeAddress:"--"),r.a.createElement("td",null,"\u8054\u7cfb\u7535\u8bdd"),r.a.createElement("td",{title:a.extraInfoJson&&a.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]?a.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]?a.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]:"--"),r.a.createElement("td",null,"\u90ae\u653f\u7f16\u7801"),r.a.createElement("td",{title:a.extraInfoJson&&a.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]?a.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]?a.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u7535\u5b50\u90ae\u7bb1"),r.a.createElement("td",{colSpan:"3",title:a.extraInfoJson&&a.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]?a.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]?a.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]:"--"),r.a.createElement("td",null,"\u4e3b\u9875\u5730\u5740"),r.a.createElement("td",{colSpan:"3",title:a.extraInfoJson&&a.extraInfoJson["\u4e3b\u9875\u5730\u5740"]?a.extraInfoJson["\u4e3b\u9875\u5730\u5740"]:"--"},a.extraInfoJson&&a.extraInfoJson["\u4e3b\u9875\u5730\u5740"]?a.extraInfoJson["\u4e3b\u9875\u5730\u5740"]:"--"))),r.a.createElement("table",{className:"person-more-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u4e2a\u4eba\u6269\u5c55\u4fe1\u606f"),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u662f\u5426\u72ec\u751f\u5b50\u5973"),r.a.createElement("td",{width:"85"},a.isOnlychild?a.isOnlychild:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u53d7\u8fc7\u5b66\u524d\u6559\u80b2"),r.a.createElement("td",{width:"85"},a.isAcceptpreschool?a.isAcceptpreschool:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u7559\u5b88\u513f\u7ae5"),r.a.createElement("td",{width:"85"},a.isLeftbehindchild?a.isLeftbehindchild:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"),r.a.createElement("td",{width:"85"},a.extraInfoJson&&a.extraInfoJson["\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"]?a.extraInfoJson["\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u662f\u5426\u5b64\u513f"),r.a.createElement("td",{width:"85"},a.extraInfoJson&&a.extraInfoJson["\u662f\u5426\u5b64\u513f"]?a.extraInfoJson["\u662f\u5426\u5b64\u513f"]:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"),r.a.createElement("td",{width:"85"},a.extraInfoJson&&a.extraInfoJson["\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"]?a.extraInfoJson["\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"]:"--"),r.a.createElement("td",{width:"200"},"\u968f\u73ed\u5c31\u8bfb"),r.a.createElement("td",{width:"85"},a.extraInfoJson&&a.extraInfoJson["\u968f\u73ed\u5c31\u8bfb"]?a.extraInfoJson["\u968f\u73ed\u5c31\u8bfb"]:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"),r.a.createElement("td",{width:"85"},a.extraInfoJson&&a.extraInfoJson["\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"]?a.extraInfoJson["\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u662f\u5426\u4eab\u53d7\u4e00\u8865"),r.a.createElement("td",{width:"85"},a.extraInfoJson&&a.extraInfoJson["\u662f\u5426\u4eab\u53d7\u4e00\u8865"]?a.extraInfoJson["\u662f\u5426\u4eab\u53d7\u4e00\u8865"]:"--"),r.a.createElement("td",{width:"200"},"\u6b8b\u75be\u4eba\u7c7b\u578b"),r.a.createElement("td",{colSpan:"5"},a.extraInfoJson&&a.extraInfoJson["\u6b8b\u75be\u4eba\u7c7b\u578b"]?a.extraInfoJson["\u6b8b\u75be\u4eba\u7c7b\u578b"]:"--"))),r.a.createElement("table",{className:"study-status",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u5b66\u4e60\u7ecf\u5386"),r.a.createElement("tr",null,r.a.createElement("th",{width:"148"},"\u5b66\u4e60\u8d77\u59cb\u65f6\u95f4"),r.a.createElement("th",{width:"148"},"\u5b66\u4e60\u7ed3\u675f\u65f6\u95f4"),r.a.createElement("th",{width:"395"},"\u5b66\u4e60\u5355\u4f4d"),r.a.createElement("th",{width:"160"},"\u5b66\u4e60\u5185\u5bb9"),r.a.createElement("th",{width:"140"},"\u62c5\u4efb\u804c\u52a1"),r.a.createElement("th",{width:"150"},"\u5b66\u4e60\u8bc1\u660e\u4eba")),Array.isArray(a.resumeJson)&&a.resumeJson.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{width:"148"},e.semesterStartTime?e.semesterStartTime:"--"),r.a.createElement("td",{width:"148"},e.semesterEndTime?e.semesterEndTime:"--"),r.a.createElement("td",{width:"395"},e.school?e.school:"--"),r.a.createElement("td",{width:"160"},e.learningContent?e.learningContent:"--"),r.a.createElement("td",{width:"140"},e.duty?e.duty:"--"),r.a.createElement("td",{width:"150"},e.certifier?e.certifier:"--"))}))),r.a.createElement("table",{className:"transport-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u4e0a\u4e0b\u5b66\u8ddd\u79bb(\u5343\u7c73)"),r.a.createElement("td",{width:"178"},a.extraInfoJson&&a.extraInfoJson["\u4e0a\u4e0b\u5b66\u8ddd\u79bb\uff08\u5343\u7c73\uff09"]?a.extraInfoJson["\u4e0a\u4e0b\u5b66\u8ddd\u79bb\uff08\u5343\u7c73\uff09"]:"--"),r.a.createElement("td",{width:"200"},"\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"),r.a.createElement("td",{width:"178"},a.extraInfoJson&&a.extraInfoJson["\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"]?a.extraInfoJson["\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"]:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"),r.a.createElement("td",{width:"178"},a.extraInfoJson&&a.extraInfoJson["\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"]?a.extraInfoJson["\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"]:"--"))),Array.isArray(a.guardianJson)&&a.guardianJson.map((function(e,t){return r.a.createElement("table",{className:"family-info",border:"1",borderColor:"#b7e1e5"},0==t?r.a.createElement("caption",null,"\u5bb6\u5ead\u6210\u5458\u6216\u76d1\u62a4\u4eba\u4fe1\u606f"):"",r.a.createElement("tr",null,r.a.createElement("td",null,"\u59d3\u540d"),r.a.createElement("td",null,e.name?e.name:"--"),r.a.createElement("td",null,"\u5173\u7cfb"),r.a.createElement("td",null,e.relationship?e.relationship:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"),r.a.createElement("td",null,e.idCardType?e.idCardType:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801"),r.a.createElement("td",null,e.idCardNum?e.idCardNum:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u6c11\u65cf"),r.a.createElement("td",null,e.nation?e.nation:"--"),r.a.createElement("td",null,"\u662f\u5426\u76d1\u62a4\u4eba"),r.a.createElement("td",null,e.isGuardian?e.isGuardian:"--"),r.a.createElement("td",null,"\u6237\u53e3\u6240\u5728\u5730"),r.a.createElement("td",null,e.censusPlace?e.censusPlace:"--"),r.a.createElement("td",null,"\u8054\u7cfb\u65b9\u5f0f"),r.a.createElement("td",null,e.tel?e.tel:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u73b0\u4f4f\u5740"),r.a.createElement("td",{colSpan:"3"},e.address?e.address:"--"),r.a.createElement("td",null,"\u5de5\u4f5c\u5355\u4f4d"),r.a.createElement("td",null,e.serviceUnit?e.serviceUnit:"--"),r.a.createElement("td",null,"\u804c\u52a1"),r.a.createElement("td",null,e.position?e.position:"--")))})),r.a.createElement("table",{className:"economic-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u5bb6\u5ead\u7ecf\u6d4e\u60c5\u51b5"),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u4eba\u53e3"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u5bb6\u5ead\u4eba\u53e3"]?a.extraInfoJson["\u5bb6\u5ead\u4eba\u53e3"]:"--"),r.a.createElement("td",null,"\u8d61\u517b\u4eba\u53e3"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u8d61\u517b\u4eba\u53e3"]?a.extraInfoJson["\u8d61\u517b\u4eba\u53e3"]:"--"),r.a.createElement("td",null,"\u5bb6\u5ead\u5e74\u6536\u5165"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u5bb6\u5ead\u5e74\u6536\u5165"]?a.extraInfoJson["\u5bb6\u5ead\u5e74\u6536\u5165"]:"--"),r.a.createElement("td",null,"\u4e3b\u8981\u6536\u5165\u6765\u6e90"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u4e3b\u8981\u6536\u5165\u6765\u6e90"]?a.extraInfoJson["\u4e3b\u8981\u6536\u5165\u6765\u6e90"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"]?a.extraInfoJson["\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"]:"--"),r.a.createElement("td",null,"\u662f\u5426\u4f4e\u4fdd"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u662f\u5426\u4f4e\u4fdd"]?a.extraInfoJson["\u662f\u5426\u4f4e\u4fdd"]:"--"),r.a.createElement("td",null,"\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"]?a.extraInfoJson["\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"]:"--"),r.a.createElement("td",null,"\u56f0\u96be\u7a0b\u5ea6"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u56f0\u96be\u7a0b\u5ea6"]?a.extraInfoJson["\u56f0\u96be\u7a0b\u5ea6"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"]?a.extraInfoJson["\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"]:"--"),r.a.createElement("td",null,"\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"]?a.extraInfoJson["\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"]:"--"),r.a.createElement("td",{colSpan:"3"},"\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"]?a.extraInfoJson["\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u662f\u5426\u519b\u70c8\u5c5e"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u662f\u5426\u519b\u70c8\u5c5e"]?a.extraInfoJson["\u662f\u5426\u519b\u70c8\u5c5e"]:"--"),r.a.createElement("td",null,"\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"]?a.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"]:"--"),r.a.createElement("td",{colSpan:"3"},"\u5bb6\u5ead\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u5bb6\u4e2d\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"]?a.extraInfoJson["\u5bb6\u4e2d\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"]?a.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"]:"--"),r.a.createElement("td",{colSpan:"2"},"\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"),r.a.createElement("td",{colSpan:"4"},a.extraInfoJson&&a.extraInfoJson["\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"]?a.extraInfoJson["\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"]?a.extraInfoJson["\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"]:"--"),r.a.createElement("td",null,"\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"),r.a.createElement("td",null,a.extraInfoJson&&a.extraInfoJson["\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"]?a.extraInfoJson["\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"]:"--"),r.a.createElement("td",null,"\u6b20\u503a\u539f\u56e0"),r.a.createElement("td",{colSpan:"3"},a.extraInfoJson&&a.extraInfoJson["\u6b20\u503a\u539f\u56e0"]?a.extraInfoJson["\u6b20\u503a\u539f\u56e0"]:"--"))))}var sn=function(e){var t=e.commonData;return{levelHash:t.levelHash,userInfo:t.userInfo}},cn=Object(d.connect)(sn)(Object(n.memo)(Object(n.forwardRef)(rn))),on=Tt.BasicProxy;function ln(e,t){var a=e.currentClass,s=e.currentGrade,c=e.currentTerm,o=e.userIdentity,l=e.userInfo.SchoolID,i=e.reflash,d=Object(n.useState)(["\u7537\u751f","\u8d70\u8bfb\u751f","\u72ec\u751f\u5b50\u5973","\u7559\u5b88\u513f\u7ae5","\u63a5\u53d7\u8fc7\u5b66\u524d\u6559\u80b2","\u8d2b\u56f0\u751f","\u5973\u751f","\u4f4f\u5bbf\u751f","\u975e\u72ec\u751f\u5b50\u5973","\u975e\u7559\u5b88\u513f\u7ae5","\u672a\u63a5\u53d7\u8fc7\u5b66\u524d\u6559\u80b2","\u975e\u8d2b\u56f0\u751f"]),m=Object(u.a)(d,2),f=m[0],p=(m[1],Object(n.useState)([])),h=Object(u.a)(p,2),b=h[0],g=h[1],y=Object(n.useState)(""),v=Object(u.a)(y,2),E=(v[0],v[1],Object(n.useState)({})),I=Object(u.a)(E,2),S=I[0],O=I[1],x=Object(n.useState)({}),N=Object(u.a)(x,2),j=N[0],w=N[1],D=Object(n.useState)(!1),T=Object(u.a)(D,2),k=(T[0],T[1],Object(n.useState)(!0)),C=Object(u.a)(k,2),L=C[0],A=C[1],J=Object(n.useState)(!1),R=Object(u.a)(J,2),M=R[0],P=R[1],W=Object(n.useState)([]),H=Object(u.a)(W,2),z=H[0],U=H[1];Object(n.useLayoutEffect)((function(){var e;("manager"!=o||l)&&("teacher"!=o||a)&&("teacher"==o&&(e=on+"/api/status/class?classId="+a),"manager"==o&&(a&&(e=on+"/api/status/class?classId="+a),!a&&s&&(e=on+"/api/status/grade?gradeId="+s),a||s||(e=on+"/api/status/school?schoolId="+l)),A(!0),Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&e.data){var t=[];f.forEach((function(a){if("\u7537\u751f"==a){var n={key:a,num:e.data.maleNum,dataList:e.data.maleList};t.push(n)}if("\u5973\u751f"==a){var r={key:a,num:e.data.femaleNum,dataList:e.data.femaleList};t.push(r)}if("\u8d70\u8bfb\u751f"==a){var s={key:a,num:e.data.dayNum,dataList:e.data.dayList};t.push(s)}if("\u4f4f\u5bbf\u751f"==a){var c={key:a,num:e.data.boardNum,dataList:e.data.boardList};t.push(c)}if("\u72ec\u751f\u5b50\u5973"==a){var o={key:a,num:e.data.onlyChildNum,dataList:e.data.onlyChildList};t.push(o)}if("\u975e\u72ec\u751f\u5b50\u5973"==a){var l={key:a,num:e.data.notOnlyChildNum,dataList:e.data.notOnlyChildList};t.push(l)}if("\u7559\u5b88\u513f\u7ae5"==a){var i={key:a,num:e.data.leftChildNum,dataList:e.data.leftChildList};t.push(i)}if("\u975e\u7559\u5b88\u513f\u7ae5"==a){var u={key:a,num:e.data.notLeftChildNum,dataList:e.data.notLeftChildList};t.push(u)}if("\u63a5\u53d7\u8fc7\u5b66\u524d\u6559\u80b2"==a){var d={key:a,num:e.data.acceptPreSchoolNum,dataList:e.data.acceptPreSchoolList};t.push(d)}if("\u672a\u63a5\u53d7\u8fc7\u5b66\u524d\u6559\u80b2"==a){var m={key:a,num:e.data.notAcceptPreSchoolNum,dataList:e.data.notAcceptPreSchoolList};t.push(m)}if("\u8d2b\u56f0\u751f"==a){var f={key:a,num:e.data.poorNum,dataList:e.data.poorList};t.push(f)}if("\u975e\u8d2b\u56f0\u751f"==a){var p={key:a,num:e.data.notPoorNum,dataList:e.data.notPoorList};t.push(p)}})),O(e.data),g(t)}A(!1)})))}),[a,s,c,o,l,i]),Object(n.useEffect)((function(){if(document.getElementById("age-position-echart")){var e=[];for(var t in S.ageDistribution){var a={name:t,value:S.ageDistribution[t]};e.push(a)}var n=nn.a.init(document.getElementById("age-position-echart"));n.resize();var r={tooltip:{trigger:"item"},grid:{top:0,right:0,bottom:0,left:0},title:{text:"\u5e74\u9f84\u5206\u5e03\u56fe",left:"center",top:"85%",textStyle:{padding:[0,0,30,0],fontSize:14}},backgroundColor:{type:"radial",x:.5,y:.45,r:.35,colorStops:[{offset:0,color:"white"},{offset:.65,color:"white"},{offset:.66,color:"rgba(0, 0, 0, 0.05)"},{offset:.8,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"transparent"},{offset:1,color:"transparent"}]},color:["#89df89","#f77575","#71add8","#2d3047","#ffb782","pink"],series:[{type:"pie",radius:["25%","60%"],center:["50%","45%"],minAngle:25,avoidLabelOverlap:!1,label:{show:!0},emphasis:{itemStyle:{borderWidth:10,borderColor:"rgba(0, 0, 0, 0.05)"}},data:e}]};n.setOption(r,!0),window.addEventListener("resize",(function(){n.resize()}))}}),[S]),Object(n.useEffect)((function(){if(document.getElementById("native-position-echart")){var e=[];for(var t in S.nativePlaceDistribution){var a={name:t,value:S.nativePlaceDistribution[t]};e.push(a)}var n=nn.a.init(document.getElementById("native-position-echart"));n.resize();var r={tooltip:{trigger:"item"},grid:{top:0,right:0,bottom:0,left:0},title:{text:"\u7c4d\u8d2f\u5206\u5e03\u56fe",left:"center",top:"85%",textStyle:{padding:[0,0,30,0],fontSize:14}},backgroundColor:{type:"radial",x:.5,y:.45,r:.35,colorStops:[{offset:0,color:"white"},{offset:.65,color:"white"},{offset:.66,color:"rgba(0, 0, 0, 0.05)"},{offset:.8,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"transparent"},{offset:1,color:"transparent"}]},color:["#89df89","#f77575","#71add8","#2d3047","#ffb782","pink"],series:[{type:"pie",radius:["25%","60%"],center:["50%","45%"],minAngle:25,avoidLabelOverlap:!1,label:{show:!0},emphasis:{itemStyle:{borderWidth:10,borderColor:"rgba(0, 0, 0, 0.05)"}},data:e}]};n.setOption(r,!0),window.addEventListener("resize",(function(){n.resize()}))}}),[S]),Object(n.useEffect)((function(){if(document.getElementById("nation-position-echart")){var e=[];for(var t in S.nationDistribution){var a={name:t,value:S.nationDistribution[t]};e.push(a)}var n=nn.a.init(document.getElementById("nation-position-echart"));n.resize();var r={tooltip:{trigger:"item"},grid:{top:0,right:0,bottom:0,left:0},title:{text:"\u6c11\u65cf\u5206\u5e03\u56fe",left:"center",top:"85%",textStyle:{padding:[0,0,30,0],fontSize:14}},backgroundColor:{type:"radial",x:.5,y:.45,r:.35,colorStops:[{offset:0,color:"white"},{offset:.65,color:"white"},{offset:.66,color:"rgba(0, 0, 0, 0.05)"},{offset:.8,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"transparent"},{offset:1,color:"transparent"}]},color:["#89df89","#f77575","#71add8","#2d3047","#ffb782","pink"],series:[{type:"pie",radius:["25%","60%"],center:["50%","45%"],minAngle:25,avoidLabelOverlap:!1,label:{show:!0},emphasis:{itemStyle:{borderWidth:10,borderColor:"rgba(0, 0, 0, 0.05)"}},data:e}]};n.setOption(r,!0),window.addEventListener("resize",(function(){n.resize()}))}}),[S]),Object(n.useEffect)((function(){if(document.getElementById("nationality-position-echart")){var e=[];for(var t in S.nationalityDistribution){var a={name:t,value:S.nationalityDistribution[t]};e.push(a)}var n=nn.a.init(document.getElementById("nationality-position-echart"));n.resize();var r={tooltip:{trigger:"item"},grid:{top:0,right:0,bottom:0,left:0},title:{text:"\u56fd\u7c4d\u5206\u5e03\u56fe",left:"center",top:"85%",textStyle:{padding:[0,0,30,0],fontSize:14}},backgroundColor:{type:"radial",x:.5,y:.45,r:.35,colorStops:[{offset:0,color:"white"},{offset:.65,color:"white"},{offset:.66,color:"rgba(0, 0, 0, 0.05)"},{offset:.8,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"transparent"},{offset:1,color:"transparent"}]},color:["#89df89","#f77575","#71add8","#2d3047","#ffb782","pink"],series:[{type:"pie",radius:["25%","60%"],center:["50%","45%"],minAngle:25,avoidLabelOverlap:!1,label:{show:!0},emphasis:{itemStyle:{borderWidth:10,borderColor:"rgba(0, 0, 0, 0.05)"}},data:e}]};n.setOption(r,!0),window.addEventListener("resize",(function(){n.resize()}))}}),[S]);var B=[];for(var F in S.ageDistribution){var G={name:F,value:S.ageDistribution[F]};B.push(G)}var _=[];for(var V in S.nativePlaceDistribution){var Y={name:V,value:S.nativePlaceDistribution[V]};_.push(Y)}var Z=[];for(var Q in S.nationDistribution){var X={name:Q,value:S.nationDistribution[Q]};Z.push(X)}var K=[];for(var $ in S.nationalityDistribution){var ee={name:$,value:S.nationalityDistribution[$]};K.push(ee)}return Object(n.useLayoutEffect)((function(){}),[j]),r.a.createElement("div",{className:"TeacherCount"},r.a.createElement(be,{opacity:!1,tip:"\u52a0\u8f7d\u4e2d...",spinning:L},r.a.createElement("div",{className:"count-status"},r.a.createElement("div",{className:"count-status-left"},r.a.createElement("div",{className:"all-count"},"teacher"==o||a?S.classSize:s?S.gradeSize:S.schoolSize),r.a.createElement("p",null,"\u603b\u4eba\u6570")),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"count-status-right"},Array.isArray(f)&&b.map((function(e,t){return r.a.createElement("div",{className:"count-kind-one "+(t>5?"orange":""),key:t,onClick:function(){w(e),U(e.dataList),P(!0)}},r.a.createElement("p",null,e.key),r.a.createElement("p",{className:"kind-one-num"},e.num))}))))),0==B.length&&0==_.length&&0==K.length&&0==Z.length?"":r.a.createElement("div",{className:"kind-position"},r.a.createElement("div",{className:"x-line"}),r.a.createElement("div",{className:"y-line"}),r.a.createElement("div",{className:"age-position-echart",id:"age-position-echart"}),r.a.createElement("div",{className:"native-position-echart",id:"native-position-echart"}),r.a.createElement("div",{className:"nation-position-echart",id:"nation-position-echart"}),r.a.createElement("div",{className:"nationality-position-echart",id:"nationality-position-echart"})),r.a.createElement(De,{type:"1",title:"\u5b66\u7c4d\u7edf\u8ba1",visible:M,onOk:function(){return P(!0)},onCancel:function(){return P(!1)},footer:null,destroyOnClose:!1,width:576,className:"stu-member-info",bodyStyle:{height:"432px",padding:"20px 36px"}},r.a.createElement("p",{className:"stu-count"},"\u5171",r.a.createElement("span",null,z.length),"\u4eba"),r.a.createElement("ul",{className:"member-list"},r.a.createElement(q.Scrollbars,{autoHeight:!0,autoHeightMax:350},z.length>0?z.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("i",{className:"user-header",style:{backgroundImage:e.photo?e.photo:""}}),r.a.createElement("p",{title:e.studentName},e.studentName))})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"80px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))))}var un=function(e){var t=e.commonData;return{levelHash:t.levelHash,userInfo:t.userInfo}},dn=Object(d.connect)(un)(Object(n.memo)(Object(n.forwardRef)(ln)));a(849);function mn(e){var t=e.type,a=e.left,n=e.direction,s=e.dataType,c=e.data;e.userIdentity,e.dataList;return r.a.createElement("div",{className:"top"==n?"red"==t?"top-flag-red":"green"==t?"top-flag-green":"top-flag-blue":"red"==t?"bottom-flag-red":"green"==t?"bottom-flag-green":"bottom-flag-blue",style:{left:a}},c&&Array.isArray(c)&&c.length>0?c.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"flag-circle"},r.a.createElement("div",{className:"in-circle"})),r.a.createElement("div",{className:"flag-line"}),r.a.createElement("div",{className:"flag-content"},r.a.createElement("p",{className:"content-title"},r.a.createElement("span",{title:e.time},e.time),e.eventType?r.a.createElement("span",{title:"awardAndPunish"==s?1==e.eventType?"\u5956\u52b1\u4fe1\u606f":"\u5904\u7f5a\u4fe1\u606f":1==e.eventType?"\u4e0a\u7f51":2==e.eventType?"\u6d88\u8d39":"\u793e\u4ea4"},"awardAndPunish"==s?1==e.eventType?"\u5956\u52b1\u4fe1\u606f":"\u5904\u7f5a\u4fe1\u606f":1==e.eventType?"\u4e0a\u7f51":2==e.eventType?"\u6d88\u8d39":"\u793e\u4ea4"):""),r.a.createElement("p",{className:"content-details",title:e.content},e.content)))})):"")}var fn=mn;function pn(e){var t=e.type,a=e.userIdentity,s=e.data,c=Object(n.useState)(!1),o=Object(u.a)(c,2);o[0],o[1];s=Array.isArray(s)&&s.slice(s.length-6);for(var l=[],i=[],d=0;d<34;d++)l.push(r.a.createElement("div",{className:"circle-one"}));var m=[];s.forEach((function(e){if("baseMsg"==t){var n={time:e.recordDate,content:e.content};m.push(n)}if("stuConditionMsg"==t){var r="";e.examScore&&(r+="\u8003\u8bd5\u5206\u6570"+e.late+"\u5206\uff0c"),e.homeworkScore&&(r+="\u65e5\u5e38\u4f5c\u4e1a\u5e73\u5747\u5206\u6570"+e.homeworkScore+"\u5206\uff0c"),e.performanceScore&&(r+="\u8bfe\u5802\u8868\u73b0\u603b\u5206\u6570"+e.performanceScore+"\u5206");var s={time:e.date,content:r};m.push(s)}if("attendanceMsg"==t){var c="";"student"!=a?(e.late&&(c+="\u8fdf\u5230\u4eba\u6570"+e.late+"\u4eba\uff0c"),e.absent&&(c+="\u7f3a\u52e4\u4eba\u6570"+e.absent+"\u4eba\uff0c"),e.leaveEarly&&(c+="\u65e9\u9000\u4eba\u6570"+e.leaveEarly+"\u4eba\uff0c"),e.vacate&&(c+="\u8bf7\u5047\u4eba\u6570"+e.vacate+"\u4eba")):(e.late&&(c+="\u8fdf\u5230"+e.late+"\u6b21\uff0c"),e.absent&&(c+="\u7f3a\u52e4"+e.absent+"\u6b21\uff0c"),e.leaveEarly&&(c+="\u65e9\u9000"+e.leaveEarly+"\u6b21\uff0c"),e.vacate&&(c+="\u8bf7\u5047"+e.vacate+"\u6b21")),"\uff0c"==c[c.length-1]&&(c=c.substr(0,c.length-1));var o={time:e.date,content:c};m.push(o)}if("awardAndPunish"==t)if("student"==a){var l={time:e.eventTime,content:e.eventName?1==e.eventType?"\u83b7\u5f97"+e.eventName:(e.eventReason?"\u56e0\u4e3a"+e.eventReason:"")+"\u53d7\u5230"+e.eventName:"",eventType:e.eventType};m.push(l)}else{var i={time:e.eventTime,content:e.eventName?1==e.eventType?e.userName+"\u83b7\u5f97"+e.eventName:e.userName+(e.eventReason?"\u56e0\u4e3a"+e.eventReason:"")+"\u53d7\u5230"+e.eventName:"",eventType:e.eventType};m.push(i)}if("schoolLiveMsg"==t)if("student"==a){var u={time:e.eventTime,content:e.eventName,eventType:e.eventType};m.push(u)}else{var d={time:e.eventTime,content:e.eventName?e.userName+e.eventName:"",eventType:e.eventType};m.push(d)}}));var f=m,p=[];return f.forEach((function(e){e.content&&p.push(e)})),console.log(f,"\u8f68\u8ff9"),Array.isArray(f)&&f.length&&f.forEach((function(e,n){n+=1,i.push(r.a.createElement(fn,{userIdentity:a,dataType:t,direction:n%2==0?"bottom":"top",type:n%3==0?"red":n%3==2?"green":"blue",left:1==n?112*n-5:140*n-33,data:[e]}))})),r.a.createElement("div",{className:"track-show"},p&&Array.isArray(p)&&p.length>0?r.a.createElement("div",{className:"circle-container"},i,l):r.a.createElement(ye,{style:{position:"relative",top:"80px"},title:"\u6682\u65e0\u6570\u636e",type:"4"}))}var hn=pn;function bn(e){var t=e.data,a=Object(n.useState)(t||{}),s=Object(u.a)(a,2),c=s[0];s[1];return r.a.createElement("div",{className:"stu-statistic-template"},r.a.createElement("table",{className:"base-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u57fa\u672c\u4fe1\u606f\u53ca\u8f85\u52a9\u4fe1\u606f"),r.a.createElement("tr",null,r.a.createElement("td",null,"\u59d3\u540d"),r.a.createElement("td",{title:c.studentName?c.studentName:"--"},c.studentName?c.studentName:"--"),r.a.createElement("td",null,"\u6027\u522b"),r.a.createElement("td",{title:c.gender?c.gender:"--"},c.gender?c.gender:"--"),r.a.createElement("td",null,"\u51fa\u751f\u65e5\u671f"),r.a.createElement("td",{title:c.dateOfBirth?c.dateOfBirth:"--"},c.dateOfBirth?c.dateOfBirth:"--"),r.a.createElement("td",null,"\u51fa\u751f\u5730"),r.a.createElement("td",{title:c.extraInfoJson&&c.extraInfoJson["\u51fa\u751f\u5730"]?c.extraInfoJson["\u51fa\u751f\u5730"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u51fa\u751f\u5730"]?c.extraInfoJson["\u51fa\u751f\u5730"]:"--"),r.a.createElement("td",{rowSpan:"6",style:{backgroundImage:"url(".concat(c.photoPath,")"),backgroundSize:"calc(100% - 24px) calc(100% - 24px)",backgroundRepeat:"no-repeat",backgroundPosition:"center center"}})),r.a.createElement("tr",null,r.a.createElement("td",null,"\u7c4d\u8d2f"),r.a.createElement("td",{title:c.nativePlace?c.nativePlace:"--"},c.nativePlace?c.nativePlace:"--"),r.a.createElement("td",null,"\u6c11\u65cf"),r.a.createElement("td",{title:c.nation?c.nation:"--"},c.nation?c.nation:"--"),r.a.createElement("td",null,"\u56fd\u7c4d/\u5730\u533a"),r.a.createElement("td",{title:c.nationality?c.nationality:"--"},c.nationality?c.nationality:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"),r.a.createElement("td",{title:c.extraInfoJson&&c.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]?c.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]?c.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801"),r.a.createElement("td",{colSpan:"3",title:c.identityNum?c.identityNum:"--"},c.identityNum?c.identityNum:"--"),r.a.createElement("td",null,"\u6e2f\u6fb3\u53f0\u4fa8\u80de"),r.a.createElement("td",{title:c.overseaPeople?c.overseaPeople:"--"},c.overseaPeople?c.overseaPeople:"--"),r.a.createElement("td",null,"\u653f\u6cbb\u9762\u8c8c"),r.a.createElement("td",{title:c.extraInfoJson&&c.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]?c.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]?c.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5065\u5eb7\u72b6\u51b5"),r.a.createElement("td",{title:c.extraInfoJson&&c.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]?c.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]?c.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"]:"--"),r.a.createElement("td",null,"\u59d3\u540d\u62fc\u97f3"),r.a.createElement("td",{title:c.extraInfoJson&&c.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]?c.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]?c.extraInfoJson["\u59d3\u540d\u62fc\u97f3"]:"--"),r.a.createElement("td",null,"\u66fe\u7528\u540d"),r.a.createElement("td",{title:c.formerName?c.formerName:"--"},c.formerName?c.formerName:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"),r.a.createElement("td",{title:c.extraInfoJson&&c.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]?c.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]?c.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u6237\u53e3\u6240\u5728\u5730"),r.a.createElement("td",{title:c.censusPlace?c.censusPlace:"--"},c.censusPlace?c.censusPlace:"--"),r.a.createElement("td",null,"\u7279\u957f"),r.a.createElement("td",{colSpan:"5",title:c.extraInfoJson&&c.extraInfoJson["\u7279\u957f"]?c.extraInfoJson["\u7279\u957f"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u7279\u957f"]?c.extraInfoJson["\u7279\u957f"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5b66\u7c4d\u8f85\u53f7"),r.a.createElement("td",{title:c.studentId?c.studentId:"--"},c.studentId?c.studentId:"--"),r.a.createElement("td",null,"\u73ed\u5185\u5b66\u53f7"),r.a.createElement("td",{title:c.extraInfoJson&&c.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]?c.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]?c.extraInfoJson["\u73ed\u5185\u5b66\u53f7"]:"--"),r.a.createElement("td",null,"\u5e74\u7ea7"),r.a.createElement("td",{title:c.gradeName?c.gradeName:"--"},c.gradeName?c.gradeName:"--"),r.a.createElement("td",null,"\u73ed\u7ea7"),r.a.createElement("td",{title:c.className?c.className:"--"},c.className?c.className:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5165\u5b66\u5e74\u6708"),r.a.createElement("td",{title:c.extraInfoJson&&c.extraInfoJson["\u5165\u5b66\u5e74\u6708"]?c.extraInfoJson["\u5165\u5b66\u5e74\u6708"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u5165\u5b66\u5e74\u6708"]?c.extraInfoJson["\u5165\u5b66\u5e74\u6708"]:"--"),r.a.createElement("td",null,"\u5165\u5b66\u65b9\u5f0f"),r.a.createElement("td",{title:c.extraInfoJson&&c.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]?c.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]?c.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"]:"--"),r.a.createElement("td",null,"\u5c31\u8bfb\u65b9\u5f0f"),r.a.createElement("td",{title:c.studyingWay?c.studyingWay:"--"},c.studyingWay?c.studyingWay:"--"),r.a.createElement("td",null,"\u5b66\u751f\u6765\u6e90"),r.a.createElement("td",{colSpan:"2",title:c.extraInfoJson&&c.extraInfoJson["\u5b66\u751f\u6765\u6e90"]?c.extraInfoJson["\u5b66\u751f\u6765\u6e90"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u5b66\u751f\u6765\u6e90"]?c.extraInfoJson["\u5b66\u751f\u6765\u6e90"]:"--"))),r.a.createElement("table",{className:"person-link",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u4e2a\u4eba\u8054\u7cfb\u65b9\u5f0f"),r.a.createElement("tr",null,r.a.createElement("td",null,"\u73b0\u4f4f\u5740"),r.a.createElement("td",{colSpan:"3",title:c.extraInfoJson&&c.extraInfoJson["\u73b0\u4f4f\u5740"]?c.extraInfoJson["\u73b0\u4f4f\u5740"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u73b0\u4f4f\u5740"]?c.extraInfoJson["\u73b0\u4f4f\u5740"]:"--"),r.a.createElement("td",null,"\u901a\u4fe1\u5730\u5740"),r.a.createElement("td",{colSpan:"3",title:c.extraInfoJson&&c.extraInfoJson["\u901a\u8baf\u5730\u5740"]?c.extraInfoJson["\u901a\u8baf\u5730\u5740"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u901a\u8baf\u5730\u5740"]?c.extraInfoJson["\u901a\u8baf\u5730\u5740"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u5730\u5740"),r.a.createElement("td",{colSpan:"3",title:c.homeAddress?c.homeAddress:"--"},c.homeAddress?c.homeAddress:"--"),r.a.createElement("td",null,"\u8054\u7cfb\u7535\u8bdd"),r.a.createElement("td",{title:c.extraInfoJson&&c.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]?c.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]?c.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"]:"--"),r.a.createElement("td",null,"\u90ae\u653f\u7f16\u7801"),r.a.createElement("td",{title:c.extraInfoJson&&c.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]?c.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]?c.extraInfoJson["\u90ae\u653f\u7f16\u53f7"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u7535\u5b50\u90ae\u7bb1"),r.a.createElement("td",{colSpan:"3",title:c.extraInfoJson&&c.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]?c.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]?c.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"]:"--"),r.a.createElement("td",null,"\u4e3b\u9875\u5730\u5740"),r.a.createElement("td",{colSpan:"3",title:c.extraInfoJson&&c.extraInfoJson["\u4e3b\u9875\u5730\u5740"]?c.extraInfoJson["\u4e3b\u9875\u5730\u5740"]:"--"},c.extraInfoJson&&c.extraInfoJson["\u4e3b\u9875\u5730\u5740"]?c.extraInfoJson["\u4e3b\u9875\u5730\u5740"]:"--"))),r.a.createElement("table",{className:"person-more-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u4e2a\u4eba\u6269\u5c55\u4fe1\u606f"),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u662f\u5426\u72ec\u751f\u5b50\u5973"),r.a.createElement("td",{width:"85"},c.isOnlychild?c.isOnlychild:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u53d7\u8fc7\u5b66\u524d\u6559\u80b2"),r.a.createElement("td",{width:"85"},c.isAcceptpreschool?c.isAcceptpreschool:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u7559\u5b88\u513f\u7ae5"),r.a.createElement("td",{width:"85"},c.isLeftbehindchild?c.isLeftbehindchild:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"),r.a.createElement("td",{width:"85"},c.extraInfoJson&&c.extraInfoJson["\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"]?c.extraInfoJson["\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u662f\u5426\u5b64\u513f"),r.a.createElement("td",{width:"85"},c.extraInfoJson&&c.extraInfoJson["\u662f\u5426\u5b64\u513f"]?c.extraInfoJson["\u662f\u5426\u5b64\u513f"]:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"),r.a.createElement("td",{width:"85"},c.extraInfoJson&&c.extraInfoJson["\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"]?c.extraInfoJson["\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"]:"--"),r.a.createElement("td",{width:"200"},"\u968f\u73ed\u5c31\u8bfb"),r.a.createElement("td",{width:"85"},c.extraInfoJson&&c.extraInfoJson["\u968f\u73ed\u5c31\u8bfb"]?c.extraInfoJson["\u968f\u73ed\u5c31\u8bfb"]:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"),r.a.createElement("td",{width:"85"},c.extraInfoJson&&c.extraInfoJson["\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"]?c.extraInfoJson["\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u662f\u5426\u4eab\u53d7\u4e00\u8865"),r.a.createElement("td",{width:"85"},c.extraInfoJson&&c.extraInfoJson["\u662f\u5426\u4eab\u53d7\u4e00\u8865"]?c.extraInfoJson["\u662f\u5426\u4eab\u53d7\u4e00\u8865"]:"--"),r.a.createElement("td",{width:"200"},"\u6b8b\u75be\u4eba\u7c7b\u578b"),r.a.createElement("td",{colSpan:"5"},c.extraInfoJson&&c.extraInfoJson["\u6b8b\u75be\u4eba\u7c7b\u578b"]?c.extraInfoJson["\u6b8b\u75be\u4eba\u7c7b\u578b"]:"--"))),r.a.createElement("table",{className:"study-status",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u5b66\u4e60\u7ecf\u5386"),r.a.createElement("tr",null,r.a.createElement("th",{width:"148"},"\u5b66\u4e60\u8d77\u59cb\u65f6\u95f4"),r.a.createElement("th",{width:"148"},"\u5b66\u4e60\u7ed3\u675f\u65f6\u95f4"),r.a.createElement("th",{width:"395"},"\u5b66\u4e60\u5355\u4f4d"),r.a.createElement("th",{width:"160"},"\u5b66\u4e60\u5185\u5bb9"),r.a.createElement("th",{width:"140"},"\u62c5\u4efb\u804c\u52a1"),r.a.createElement("th",{width:"150"},"\u5b66\u4e60\u8bc1\u660e\u4eba")),Array.isArray(c.resumeJson)&&c.resumeJson.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{width:"148"},e.semesterStartTime?e.semesterStartTime:"--"),r.a.createElement("td",{width:"148"},e.semesterEndTime?e.semesterEndTime:"--"),r.a.createElement("td",{width:"395"},e.school?e.school:"--"),r.a.createElement("td",{width:"160"},e.learningContent?e.learningContent:"--"),r.a.createElement("td",{width:"140"},e.duty?e.duty:"--"),r.a.createElement("td",{width:"150"},e.certifier?e.certifier:"--"))}))),r.a.createElement("table",{className:"transport-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"),r.a.createElement("tr",null,r.a.createElement("td",{width:"200"},"\u4e0a\u4e0b\u5b66\u8ddd\u79bb(\u5343\u7c73)"),r.a.createElement("td",{width:"178"},c.extraInfoJson&&c.extraInfoJson["\u4e0a\u4e0b\u5b66\u8ddd\u79bb\uff08\u5343\u7c73\uff09"]?c.extraInfoJson["\u4e0a\u4e0b\u5b66\u8ddd\u79bb\uff08\u5343\u7c73\uff09"]:"--"),r.a.createElement("td",{width:"200"},"\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"),r.a.createElement("td",{width:"178"},c.extraInfoJson&&c.extraInfoJson["\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"]?c.extraInfoJson["\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"]:"--"),r.a.createElement("td",{width:"200"},"\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"),r.a.createElement("td",{width:"178"},c.extraInfoJson&&c.extraInfoJson["\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"]?c.extraInfoJson["\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"]:"--"))),Array.isArray(c.guardianJson)&&c.guardianJson.map((function(e,t){return r.a.createElement("table",{className:"family-info",border:"1",borderColor:"#b7e1e5"},0==t?r.a.createElement("caption",null,"\u5bb6\u5ead\u6210\u5458\u6216\u76d1\u62a4\u4eba\u4fe1\u606f"):"",r.a.createElement("tr",null,r.a.createElement("td",null,"\u59d3\u540d"),r.a.createElement("td",null,e.name?e.name:"--"),r.a.createElement("td",null,"\u5173\u7cfb"),r.a.createElement("td",null,e.relationship?e.relationship:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"),r.a.createElement("td",null,e.idCardType?e.idCardType:"--"),r.a.createElement("td",null,"\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801"),r.a.createElement("td",null,e.idCardNum?e.idCardNum:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u6c11\u65cf"),r.a.createElement("td",null,e.nation?e.nation:"--"),r.a.createElement("td",null,"\u662f\u5426\u76d1\u62a4\u4eba"),r.a.createElement("td",null,e.isGuardian?e.isGuardian:"--"),r.a.createElement("td",null,"\u6237\u53e3\u6240\u5728\u5730"),r.a.createElement("td",null,e.censusPlace?e.censusPlace:"--"),r.a.createElement("td",null,"\u8054\u7cfb\u65b9\u5f0f"),r.a.createElement("td",null,e.tel?e.tel:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u73b0\u4f4f\u5740"),r.a.createElement("td",{colSpan:"3"},e.address?e.address:"--"),r.a.createElement("td",null,"\u5de5\u4f5c\u5355\u4f4d"),r.a.createElement("td",null,e.serviceUnit?e.serviceUnit:"--"),r.a.createElement("td",null,"\u804c\u52a1"),r.a.createElement("td",null,e.position?e.position:"--")))})),r.a.createElement("table",{className:"economic-info",border:"1",borderColor:"#b7e1e5"},r.a.createElement("caption",null,"\u5bb6\u5ead\u7ecf\u6d4e\u60c5\u51b5"),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u4eba\u53e3"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u5bb6\u5ead\u4eba\u53e3"]?c.extraInfoJson["\u5bb6\u5ead\u4eba\u53e3"]:"--"),r.a.createElement("td",null,"\u8d61\u517b\u4eba\u53e3"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u8d61\u517b\u4eba\u53e3"]?c.extraInfoJson["\u8d61\u517b\u4eba\u53e3"]:"--"),r.a.createElement("td",null,"\u5bb6\u5ead\u5e74\u6536\u5165"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u5bb6\u5ead\u5e74\u6536\u5165"]?c.extraInfoJson["\u5bb6\u5ead\u5e74\u6536\u5165"]:"--"),r.a.createElement("td",null,"\u4e3b\u8981\u6536\u5165\u6765\u6e90"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u4e3b\u8981\u6536\u5165\u6765\u6e90"]?c.extraInfoJson["\u4e3b\u8981\u6536\u5165\u6765\u6e90"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"]?c.extraInfoJson["\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"]:"--"),r.a.createElement("td",null,"\u662f\u5426\u4f4e\u4fdd"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u662f\u5426\u4f4e\u4fdd"]?c.extraInfoJson["\u662f\u5426\u4f4e\u4fdd"]:"--"),r.a.createElement("td",null,"\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"]?c.extraInfoJson["\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"]:"--"),r.a.createElement("td",null,"\u56f0\u96be\u7a0b\u5ea6"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u56f0\u96be\u7a0b\u5ea6"]?c.extraInfoJson["\u56f0\u96be\u7a0b\u5ea6"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"]?c.extraInfoJson["\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"]:"--"),r.a.createElement("td",null,"\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"]?c.extraInfoJson["\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"]:"--"),r.a.createElement("td",{colSpan:"3"},"\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"]?c.extraInfoJson["\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u662f\u5426\u519b\u70c8\u5c5e"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u662f\u5426\u519b\u70c8\u5c5e"]?c.extraInfoJson["\u662f\u5426\u519b\u70c8\u5c5e"]:"--"),r.a.createElement("td",null,"\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"]?c.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"]:"--"),r.a.createElement("td",{colSpan:"3"},"\u5bb6\u5ead\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u5bb6\u4e2d\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"]?c.extraInfoJson["\u5bb6\u4e2d\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"]?c.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"]:"--"),r.a.createElement("td",{colSpan:"2"},"\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"),r.a.createElement("td",{colSpan:"4"},c.extraInfoJson&&c.extraInfoJson["\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"]?c.extraInfoJson["\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"]:"--")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"]?c.extraInfoJson["\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"]:"--"),r.a.createElement("td",null,"\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"),r.a.createElement("td",null,c.extraInfoJson&&c.extraInfoJson["\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"]?c.extraInfoJson["\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"]:"--"),r.a.createElement("td",null,"\u6b20\u503a\u539f\u56e0"),r.a.createElement("td",{colSpan:"3"},c.extraInfoJson&&c.extraInfoJson["\u6b20\u503a\u539f\u56e0"]?c.extraInfoJson["\u6b20\u503a\u539f\u56e0"]:"--"))))}var gn=bn,yn=a(9);a(1780);var vn=Tt.BasicProxy;function En(e,t){var a,s,c,o,l=e.term,i=(e.HasHistory,e.onAnchorComplete),d=(e.schoolID,e.collegeID,e.productMsg),m=e.userIdentity,f=e.userInfo,p=f.UserID,h=f.SchoolID,b=e.currentClass,g=e.currentGrade,y=e.reflash,v=e.setShowType,E=e.setCheckList,I=(e.checkList,e.reflashError),S=Object(n.useState)(!1),O=Object(u.a)(S,2),x=O[0],N=(O[1],Object(n.useState)(!1)),j=Object(u.a)(N,2),w=(j[0],j[1],Object(n.useState)(!1)),D=Object(u.a)(w,2),T=(D[0],D[1],Object(n.useState)(!1)),k=Object(u.a)(T,2),C=(k[0],k[1],Object(n.useState)([])),L=Object(u.a)(C,2),A=L[0],J=L[1],R=Object(n.useState)([]),M=Object(u.a)(R,2),P=M[0],W=M[1],H=Object(n.useState)([]),z=Object(u.a)(H,2),U=z[0],B=z[1],F=Object(n.useState)("student"==m?"detail":"list"),G=Object(u.a)(F,2),V=G[0],Y=G[1],Z=Object(n.useState)(!1),Q=Object(u.a)(Z,2),X=Q[0],K=Q[1],q=Object(n.useState)(!1),ee=Object(u.a)(q,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(u.a)(ne,2),se=re[0],ce=re[1],oe=Object(n.useState)({}),le=Object(u.a)(oe,2),ie=le[0],ue=le[1],de=Object(n.useState)([]),me=Object(u.a)(de,2),fe=me[0],pe=me[1],he=Object(n.useState)([]),be=Object(u.a)(he,2),ge=be[0],ve=be[1],Ee=Object(n.useState)([]),Ie=Object(u.a)(Ee,2),Se=Ie[0],Oe=Ie[1],xe=Object(n.useState)(!0),Ne=Object(u.a)(xe,2),je=Ne[0],we=Ne[1],Te=Object(n.useState)([]),ke=Object(u.a)(Te,2),Ce=ke[0],Le=ke[1],Ae=Object(n.useRef)(null),Je=Object(n.useRef)(null),Re=(Object(n.useRef)(null),Object(n.useRef)(null)),Me=Object(n.useRef)(null),Pe=(Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useRef)(null)),We=Object(n.useRef)(null),He=(Object(n.useRef)(null),Object(n.useRef)(null)),ze=(Object(n.useRef)(null),Object(n.useRef)(null)),Ue=Object(n.useRef)(null),Be=Object(n.useRef)(null),Fe=Object(n.useRef)(null),Ge=Object(n.useRef)(null),_e=(Object(n.useRef)(null),Object(n.useRef)(null)),Ve=Object(n.useRef)(null),Ye=Object(n.useRef)(null),Ze=Object(n.useRef)(null),Qe=(Object(n.useRef)(null),Object(n.useRef)(null)),Xe=(Object(n.useRef)(null),Object(n.useRef)(null)),Ke=Object(n.useRef)(null),qe=Object(n.useRef)(null),$e=Object(n.useRef)(null),et=Object(n.useRef)(null),tt=Object(n.useRef)(null),at=Object(n.useRef)(null),nt=Object(n.useRef)(null),rt=Object(n.useRef)(null),st=Object(n.useRef)(null),ct=(Object(n.useRef)(null),Object(n.useRef)(null)),ot=Object(n.useRef)(null),lt=Object(n.useRef)(null),it=Object(n.useRef)(null),ut=Object(n.useRef)(null),dt=Object(n.useRef)(null),mt=Object(n.useRef)(null),ft=Object(n.useRef)(null),pt=Object(n.useRef)(null),ht=Object(n.useRef)(null),bt=(Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useRef)(null)),gt=Object(n.useRef)(null),yt=Object(n.useRef)(null),vt=Object(n.useRef)(null),Et=Object(n.useRef)(null),It=Object(n.useRef)(null),St=(Object(n.useRef)(null),Object(n.useRef)(null)),Ot=Object(n.useRef)(null),xt=Object(n.useRef)(null),Nt=Object(n.useRef)(null),jt=Object(n.useRef)(null),wt=Object(n.useRef)(null),Dt=Object(n.useRef)(null),Tt=Object(n.useRef)(null),kt=Object(n.useRef)(null),Ct=Object(n.useRef)(null),Lt=Object(n.useRef)(null),At=Object(n.useRef)(null),Jt=Object(n.useRef)(null),Rt=Object(n.useRef)(null),Mt=Object(n.useRef)(null),Pt=Object(n.useRef)(null),Wt=Object(n.useRef)(null),Ht=Object(n.useRef)(null),zt=Object(n.useRef)(null),Ut=Object(n.useRef)(null),Bt=Object(n.useRef)(null),Ft=(Object(n.useRef)(null),Object(n.useRef)(null)),Gt=Object(n.useRef)(null),_t=Object(n.useRef)(null);Object(n.useRef)(null);Object(n.useLayoutEffect)((function(){var e=[];e="student"==m?[{ref:Gt.current,name:"\u6211\u7684\u5b66\u7c4d"},{ref:_t.current,name:"\u5b66\u7c4d\u8f68\u8ff9"}]:[{ref:Ft.current,name:"\u5b66\u7c4d\u7edf\u8ba1"},{ref:_t.current,name:"\u5b66\u7c4d\u8f68\u8ff9"}],"function"===typeof i&&i(e)}),[]),Object(n.useLayoutEffect)((function(){if("teacher"!=m||b){we(!0);var e=vn+"/api/status/record?type="+("student"==m?1:"manager"==m?b?2:g?3:4:2)+"&studentId="+("student"==m?p:"")+"&classId="+b+"&gradeId="+g+"&schoolId="+h;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&Oe(e.data),we(!1)}))}}),[m,g,b,p,h,y]),Object(n.useLayoutEffect)((function(){if("student"==m){var e=vn+"/api/status/student?studentId="+p;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(e.data.resumeJson=JSON.parse(e.data.resume),e.data.guardianJson=JSON.parse(e.data.guardian),e.data.extraInfoJson=JSON.parse(e.data.extraInfo),Array.isArray(e.data.resumeJson)&&pe(e.data.resumeJson),Array.isArray(e.data.guardianJson)&&ve(e.data.guardianJson),ue(e.data))}))}}),[p,m,y]),Object(n.useLayoutEffect)((function(){if("teacher"==m&&b){var e=vn+"/api/base/getStudentInfo?schoolId="+h+"&gradeId="+g+"&classId="+b;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(J(e.data),W(e.data))})),e=vn+"/api/status/student/correction?classId="+b,Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&(Le(e.data),E(e.data))}))}}),[m,p,b,g,l,y,I]),Object(n.useLayoutEffect)((function(){if("student"==m){var e=l&&l.value?JSON.parse(l.value):{},t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],a="";t.forEach((function(e){e.classId==b&&(a=e.gradeId)}));var n=vn+"/api/learning2/exam/scoreRank?type=1&studentId="+p+"&classId="+b+"&gradeId="+a+"&schoolId="+h+"&termId="+e.termId+"&examType=3&start="+(e.startDate?e.startDate.substr(0,10):"")+"&end="+(e.endDate?e.endDate.substr(0,10):"");Qt.get({url:n,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&B(e.data)}))}}),[l,b,g,m,p,y]);var Vt=function(e,t){var a=[];fe.forEach((function(e){a.push(e)})),"add"==e&&a.push({changeItem:1}),"delete"==e&&a.splice(t,1),pe(a)},Yt=function(e,t){var a=[];ge.forEach((function(e){a.push(e)})),"add"==e&&a.push({changeItem:1}),"delete"==e&&a.splice(t,1),ve(a)};return r.a.createElement("div",{className:"BaseMsg",id:"stuStatusMsg"},"teacher"==m||"manager"==m?r.a.createElement("div",null,r.a.createElement($a,{barName:"\u5b66\u7c4d\u7edf\u8ba1",ref:Ft,topContext:"manager"!=m&&r.a.createElement("div",{className:"module-link-group"},r.a.createElement("span",{onClick:function(){Ce.length>0?v("error"):Ta.b.warn("\u6682\u65e0\u5b66\u7c4d\u7ea0\u9519\u5ba1\u6838~")}},Ce.length>0?r.a.createElement("i",{className:"red-dot"}):"","\u5b66\u7c4d\u7ea0\u9519\u5ba1\u6838"),r.a.createElement("span",{className:"status",onClick:function(){return K(!0)}},"\u67e5\u770b\u5b66\u7c4d\u8be6\u60c5\u4fe1\u606f")),loading:!1},r.a.createElement(dn,{data:x,userIdentity:m,productMsg:d,currentClass:b,currentGrade:g,currentTerm:l,reflash:y,statisticCheckList:Ce})),r.a.createElement($a,{loading:je,barName:"\u5b66\u7c4d\u8f68\u8ff9",ref:_t},r.a.createElement(hn,{type:"baseMsg",userIdentity:m,data:Se}))):r.a.createElement("div",null,r.a.createElement($a,{barName:"\u6211\u7684\u5b66\u7c4d",ref:Gt,topContext:r.a.createElement("div",{className:"module-link-group"},r.a.createElement("span",{onClick:function(){return ce(!0)}},r.a.createElement("i",{className:"errorlogo"}),"\u5b66\u7c4d\u7ea0\u9519")),loading:!1},r.a.createElement(cn,{userStatus:ie})),r.a.createElement($a,{loading:je,barName:"\u5b66\u7c4d\u8f68\u8ff9",ref:_t},r.a.createElement(hn,{type:"baseMsg",userIdentity:m,data:Se}))),r.a.createElement(De,{type:"1",title:"\u53d8\u66f4\u6863\u6848\u4fe1\u606f",visible:se,onCancel:function(){return ce(!1)},footer:null,width:1180,className:"change-status",bodyStyle:{height:"650px",padding:0}},r.a.createElement($.a,{autoHeight:!0,autoHeightMax:640},r.a.createElement("div",{className:"body-container"},r.a.createElement("div",null,r.a.createElement(an,{title:"\u5b66\u751f\u59d3\u540d",type:"input",data:ie.studentName,width:"25%",inputRef:Ae,inputWidth:140}),r.a.createElement(an,{title:"\u6027\u522b",type:"list",inputRef:We,data:ie.gender,list:["\u7537","\u5973"],width:"25%",inputWidth:140}),r.a.createElement(an,{title:"\u51fa\u751f\u65e5\u671f",type:"input",width:"25%",inputRef:Me,data:ie.dateOfBirth,inputWidth:140}),r.a.createElement(an,{title:"\u51fa\u751f\u5730",type:"input",width:"25%",inputRef:bt,data:ie.extraInfoJson&&ie.extraInfoJson["\u51fa\u751f\u5730"],inputWidth:140})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u7c4d\u8d2f",type:"input",width:"25%",inputRef:$e,data:ie.nativePlace,inputWidth:140}),r.a.createElement(an,{title:"\u6c11\u65cf",type:"list",width:"25%",list:["\u6c49\u65cf","\u8499\u53e4\u65cf","\u56de\u65cf","\u85cf\u65cf","\u7ef4\u543e\u5c14\u65cf","\u82d7\u65cf","\u5f5d\u65cf","\u58ee\u65cf","\u5e03\u4f9d\u65cf","\u671d\u9c9c\u65cf","\u6ee1\u65cf","\u4f97\u65cf","\u7476\u65cf","\u767d\u65cf","\u571f\u5bb6\u65cf","\u54c8\u5c3c\u65cf","\u54c8\u8428\u514b\u65cf","\u50a3\u65cf","\u9ece\u65cf","\u5088\u50f3\u65cf","\u4f64\u65cf","\u7572\u65cf","\u9ad8\u5c71\u65cf","\u62c9\u795c\u65cf","\u6c34\u65cf","\u4e1c\u4e61\u65cf","\u7eb3\u897f\u65cf","\u666f\u9887\u65cf","\u67ef\u5c14\u514b\u5b5c\u65cf","\u571f\u65cf","\u8fbe\u65a1\u5c14\u65cf","\u4eeb\u4f6c\u65cf","\u7f8c\u65cf","\u5e03\u6717\u65cf","\u6492\u62c9\u65cf","\u6bdb\u5357\u65cf","\u4ee1\u4f6c\u65cf","\u9521\u4f2f\u65cf","\u963f\u660c\u65cf","\u666e\u7c73\u65cf","\u5854\u5409\u514b\u65cf","\u6012\u65cf","\u4e4c\u5b5c\u522b\u514b\u65cf","\u4fc4\u7f57\u65af\u65cf","\u9102\u6e29\u514b\u65cf","\u5fb7\u6602\u65cf","\u4fdd\u5b89\u65cf","\u88d5\u56fa\u65cf","\u4eac\u65cf","\u5854\u5854\u5c14\u65cf","\u72ec\u9f99\u65cf","\u9102\u4f26\u6625\u65cf","\u8d6b\u54f2\u65cf","\u95e8\u5df4\u65cf","\u73de\u5df4\u65cf","\u57fa\u8bfa\u65cf","\u5176\u5b83\u56fd\u5916\u6c11\u65cf"],inputRef:_e,data:ie.nation,inputWidth:140}),r.a.createElement(an,{title:"\u56fd\u5bb6/\u5730\u533a",type:"list",width:"25%",list:["\u4e2d\u56fd","\u7f8e\u56fd","\u4fc4\u7f57\u65af","\u65e5\u672c","\u82f1\u56fd","\u97e9\u56fd","\u6cd5\u56fd","\u5fb7\u56fd","\u5176\u5b83\u56fd\u5bb6"],inputRef:Ve,data:ie.nationality,inputWidth:140}),r.a.createElement(an,{title:"\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b",type:"input",width:"25%",inputRef:mt,data:ie.extraInfoJson&&ie.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b"],inputWidth:140})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801",type:"input",width:"50%",inputRef:Ue,data:ie.identityNum,inputWidth:421}),r.a.createElement(an,{title:"\u6e2f\u6fb3\u53f0\u4fa8\u80de",type:"select",width:"25%",inputRef:Ye,data:ie.overseaPeople,inputWidth:140}),r.a.createElement(an,{title:"\u653f\u6cbb\u9762\u8c8c",type:"input",width:"25%",inputRef:it,data:ie.extraInfoJson&&ie.extraInfoJson["\u653f\u6cbb\u9762\u8c8c"],inputWidth:140})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u5065\u5eb7\u72b6\u51b5",type:"input",width:"25%",inputRef:xt,data:ie.extraInfoJson&&ie.extraInfoJson["\u5065\u5eb7\u72b6\u51b5"],inputWidth:140}),r.a.createElement(an,{title:"\u59d3\u540d\u62fc\u97f3",type:"input",width:"25%",inputRef:Nt,data:ie.extraInfoJson&&ie.extraInfoJson["\u59d3\u540d\u62fc\u97f3"],inputWidth:140}),r.a.createElement(an,{title:"\u66fe\u7528\u540d",type:"input",width:"25%",inputRef:Pe,data:ie.formerName,inputWidth:140}),r.a.createElement(an,{title:"\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f",type:"input",width:"25%",inputRef:gt,data:ie.extraInfoJson&&ie.extraInfoJson["\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f"],inputWidth:140})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u6237\u53e3\u6240\u5728\u5730",type:"input",width:"25%",inputRef:Je,data:ie.censusPlace,inputWidth:140}),r.a.createElement(an,{title:"\u7279\u957f",type:"input",width:"75%",inputRef:st,data:ie.extraInfoJson&&ie.extraInfoJson["\u7279\u957f"],inputWidth:702})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u5b66\u7c4d\u7f16\u53f7",type:"input",width:"25%",inputRef:Ze,data:ie.studentId?ie.studentId:"--",inputWidth:140}),r.a.createElement(an,{title:"\u73ed\u5185\u5b66\u53f7",type:"input",width:"25%",inputRef:rt,data:ie.extraInfoJson&&ie.extraInfoJson["\u73ed\u5185\u5b66\u53f7"],inputWidth:140}),r.a.createElement(an,{title:"\u5e74\u7ea7",type:"input",width:"25%",inputRef:He,data:ie.gradeName,inputWidth:140}),r.a.createElement(an,{title:"\u73ed\u7ea7",type:"input",width:"25%",inputRef:Re,data:ie.className,inputWidth:140})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u5165\u5b66\u5e74\u6708",type:"input",width:"25%",inputRef:Ut,data:ie.extraInfoJson&&ie.extraInfoJson["\u5165\u5b66\u5e74\u6708"],inputWidth:140}),r.a.createElement(an,{title:"\u5165\u5b66\u65b9\u5f0f",type:"input",width:"25%",inputRef:lt,data:ie.extraInfoJson&&ie.extraInfoJson["\u5165\u5b66\u65b9\u5f0f"],inputWidth:140}),r.a.createElement(an,{title:"\u5c31\u8bfb\u65b9\u5f0f",type:"list",width:"25%",list:["\u5bc4\u5bbf","\u8d70\u8bfb"],inputRef:Qe,data:ie.studyingWay,inputWidth:140}),r.a.createElement(an,{title:"\u5b66\u751f\u6765\u6e90",type:"input",width:"25%",inputRef:Mt,data:ie.extraInfoJson&&ie.extraInfoJson["\u5b66\u751f\u6765\u6e90"],inputWidth:140})),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u73b0\u4f4f\u5740",type:"input",width:"50%",inputRef:ft,data:ie.extraInfoJson&&ie.extraInfoJson["\u73b0\u4f4f\u5740"],inputWidth:421}),r.a.createElement(an,{title:"\u901a\u4fe1\u5730\u5740",type:"input",width:"50%",inputRef:pt,data:ie.extraInfoJson&&ie.extraInfoJson["\u901a\u8baf\u5730\u5740"],inputWidth:421})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u5bb6\u5ead\u5730\u5740",type:"input",width:"50%",inputRef:ze,data:ie.homeAddress,inputWidth:421}),r.a.createElement(an,{title:"\u8054\u7cfb\u7535\u8bdd",type:"input",width:"25%",inputRef:Wt,data:ie.extraInfoJson&&ie.extraInfoJson["\u8054\u7cfb\u7535\u8bdd"],inputWidth:140}),r.a.createElement(an,{title:"\u90ae\u653f\u7f16\u7801",type:"input",width:"25%",inputRef:qe,data:ie.extraInfoJson&&ie.extraInfoJson["\u90ae\u653f\u7f16\u53f7"],inputWidth:140})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u7535\u5b50\u90ae\u7bb1",type:"input",width:"50%",inputRef:wt,data:ie.extraInfoJson&&ie.extraInfoJson["\u7535\u5b50\u90ae\u7bb1"],inputWidth:421}),r.a.createElement(an,{title:"\u4e3b\u9875\u5730\u5740",type:"input",width:"50%",inputRef:ut,data:ie.extraInfoJson&&ie.extraInfoJson["\u4e3b\u9875\u5730\u5740"],inputWidth:421})),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u662f\u5426\u72ec\u751f\u5b50\u5973",type:"select",inputRef:Ge,data:ie.isOnlychild,width:"22%",titleWidth:169,inputWidth:70}),r.a.createElement(an,{title:"\u662f\u5426\u53d7\u8fc7\u5b66\u524d\u6559\u80b2",type:"select",inputRef:Be,data:ie.isAcceptpreschool,width:"25%",titleWidth:203,inputWidth:70}),r.a.createElement(an,{title:"\u662f\u5426\u7559\u5b88\u513f\u7ae5",type:"select",inputRef:Fe,data:ie.isLeftbehindchild,width:"25%",titleWidth:203,inputWidth:70}),r.a.createElement(an,{title:"\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973",type:"select",inputRef:jt,data:ie.extraInfoJson&&ie.extraInfoJson["\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973"],width:"25%",titleWidth:203,inputWidth:70})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u662f\u5426\u5b64\u513f",type:"select",inputRef:St,data:ie.extraInfoJson&&ie.extraInfoJson["\u662f\u5426\u5b64\u513f"],width:"22%",titleWidth:169,inputWidth:70}),r.a.createElement(an,{title:"\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973",type:"select",inputRef:Xe,data:ie.extraInfoJson&&ie.extraInfoJson["\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973"],width:"25%",titleWidth:203,inputWidth:70}),r.a.createElement(an,(a={title:"\u662f\u5426\u968f\u73ed\u5c31\u8bfb",type:"select",data:"\u5f20\u4e09",width:"25%",inputRef:kt},Object(Va.a)(a,"data",ie.extraInfoJson&&ie.extraInfoJson["\u662f\u5426\u968f\u73ed\u5c31\u8bfb"]),Object(Va.a)(a,"titleWidth",203),Object(Va.a)(a,"inputWidth",70),a)),r.a.createElement(an,(s={title:"\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9",type:"select",data:"\u5f20\u4e09",width:"25%",inputRef:Dt},Object(Va.a)(s,"data",ie.extraInfoJson&&ie.extraInfoJson["\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9"]),Object(Va.a)(s,"titleWidth",203),Object(Va.a)(s,"inputWidth",70),s))),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,(c={title:"\u662f\u5426\u4eab\u53d7\u4e00\u8865",type:"select",data:"\u5f20\u4e09",width:"22%",inputRef:At},Object(Va.a)(c,"data",ie.extraInfoJson&&ie.extraInfoJson["\u662f\u5426\u4eab\u53d7\u4e00\u8865"]),Object(Va.a)(c,"titleWidth",169),Object(Va.a)(c,"inputWidth",70),c)),r.a.createElement(an,(o={title:"\u6b8b\u75be\u4eba\u7c7b\u578b",type:"input",data:"\u5f20\u4e09",width:"78%",inputRef:yt},Object(Va.a)(o,"data",ie.extraInfoJson&&ie.extraInfoJson["\u6b8b\u75be\u4eba\u7c7b\u578b"]),Object(Va.a)(o,"titleWidth",203),Object(Va.a)(o,"inputWidth",632),o))),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"study-record"},r.a.createElement("div",{className:"record-title"},"\u5b66\u4e60\u7ecf\u5386:"),r.a.createElement("div",{className:"list-container studyList",style:{width:0==fe.length?"0":""}},fe.map((function(e,t){return r.a.createElement("div",{className:"record-list",key:t},r.a.createElement("i",{className:"deletelogo",onClick:function(){return Vt("delete",t)}}),r.a.createElement("div",null,r.a.createElement(an,{title:"\u5b66\u4e60\u8d77\u59cb\u65f6\u95f4",type:"input",width:"28%",className:"semesterEndTime",data:e.semesterEndTime,inputWidth:140}),r.a.createElement(an,{title:"\u5b66\u4e60\u7ed3\u675f\u65f6\u95f4",type:"input",width:"28%",className:"semesterStartTime",data:e.semesterStartTime,inputWidth:140}),r.a.createElement(an,{title:"\u5b66\u4e60\u5355\u4f4d",type:"input",width:"44%",className:"school",data:e.school,inputWidth:240})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u5b66\u4e60\u5185\u5bb9",type:"input",width:"28%",className:"learningContent",data:e.learningContent,inputWidth:140}),r.a.createElement(an,{title:"\u62c5\u4efb\u804c\u52a1",type:"input",width:"28%",className:"duty",data:e.duty,inputWidth:140}),r.a.createElement(an,{title:"\u5b66\u4e60\u8bc1\u660e\u4eba",type:"input",width:"44%",className:"certifier",data:e.certifier,inputWidth:140})))}))),r.a.createElement("div",{className:"add-record",onClick:function(){return Vt("add")},style:{margin:0==fe.length?"0":""}},"\u65b0\u589e\u5b66\u4e60\u7ecf\u5386")),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",null,r.a.createElement(an,{title:"\u4e0a\u4e0b\u5b66\u8ddd\u79bb(\u5343\u7c73)",type:"input",titleWidth:155,inputRef:Bt,data:ie.extraInfoJson&&ie.extraInfoJson["\u4e0a\u4e0b\u5b66\u8ddd\u79bb\uff08\u5343\u7c73\uff09"],inputWidth:140}),r.a.createElement(an,{title:"\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f",type:"input",titleWidth:155,inputRef:vt,data:ie.extraInfoJson&&ie.extraInfoJson["\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f"],inputWidth:140}),r.a.createElement(an,{title:"\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66",type:"input",titleWidth:155,inputRef:Tt,data:ie.extraInfoJson&&ie.extraInfoJson["\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66"],inputWidth:140})),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"family-info"},r.a.createElement("div",{className:"family-title"},"\u5bb6\u5ead\u6210\u5458\u6216\u76d1\u62a4\u4eba\u4fe1\u606f:"),r.a.createElement("div",{className:"info-list-container familyList",style:{width:0==ge.length?"0":""}},ge.map((function(e,t){return r.a.createElement("div",{className:"family-list",key:t},r.a.createElement("i",{className:"deletelogo",onClick:function(){return Yt("delete",t)}}),r.a.createElement("div",null,r.a.createElement(an,{title:"\u59d3\u540d",type:"input",className:"name",data:e.name,titleWidth:110,inputWidth:140}),r.a.createElement(an,{title:"\u5173\u7cfb",type:"input",className:"relationship",data:e.relationship,titleWidth:118,inputWidth:140}),r.a.createElement(an,{title:"\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b",type:"input",className:"idCardType",data:e.idCardType,titleWidth:118,inputWidth:240})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u8eab\u4efd\u8bc1\u4ef6\u53f7\u7801",type:"input",className:"idCardNum",data:e.idCardNum,titleWidth:110,inputWidth:406}),r.a.createElement(an,{title:"\u6c11\u65cf",type:"list",className:"nation",list:["\u6c49\u65cf","\u8499\u53e4\u65cf","\u56de\u65cf","\u85cf\u65cf","\u7ef4\u543e\u5c14\u65cf","\u82d7\u65cf","\u5f5d\u65cf","\u58ee\u65cf","\u5e03\u4f9d\u65cf","\u671d\u9c9c\u65cf","\u6ee1\u65cf","\u4f97\u65cf","\u7476\u65cf","\u767d\u65cf","\u571f\u5bb6\u65cf","\u54c8\u5c3c\u65cf","\u54c8\u8428\u514b\u65cf","\u50a3\u65cf","\u9ece\u65cf","\u5088\u50f3\u65cf","\u4f64\u65cf","\u7572\u65cf","\u9ad8\u5c71\u65cf","\u62c9\u795c\u65cf","\u6c34\u65cf","\u4e1c\u4e61\u65cf","\u7eb3\u897f\u65cf","\u666f\u9887\u65cf","\u67ef\u5c14\u514b\u5b5c\u65cf","\u571f\u65cf","\u8fbe\u65a1\u5c14\u65cf","\u4eeb\u4f6c\u65cf","\u7f8c\u65cf","\u5e03\u6717\u65cf","\u6492\u62c9\u65cf","\u6bdb\u5357\u65cf","\u4ee1\u4f6c\u65cf","\u9521\u4f2f\u65cf","\u963f\u660c\u65cf","\u666e\u7c73\u65cf","\u5854\u5409\u514b\u65cf","\u6012\u65cf","\u4e4c\u5b5c\u522b\u514b\u65cf","\u4fc4\u7f57\u65af\u65cf","\u9102\u6e29\u514b\u65cf","\u5fb7\u6602\u65cf","\u4fdd\u5b89\u65cf","\u88d5\u56fa\u65cf","\u4eac\u65cf","\u5854\u5854\u5c14\u65cf","\u72ec\u9f99\u65cf","\u9102\u4f26\u6625\u65cf","\u8d6b\u54f2\u65cf","\u95e8\u5df4\u65cf","\u73de\u5df4\u65cf","\u57fa\u8bfa\u65cf","\u5176\u5b83\u56fd\u5916\u6c11\u65cf"],data:e.nation,titleWidth:118,inputWidth:140})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u662f\u5426\u76d1\u62a4\u4eba",type:"select",className:"isGuardian",data:e.isGuardian,titleWidth:110,inputWidth:140}),r.a.createElement(an,{title:"\u6237\u53e3\u6240\u5728\u5730",type:"input",className:"censusPlace",data:e.censusPlace,titleWidth:118,inputWidth:140}),r.a.createElement(an,{title:"\u8054\u7cfb\u65b9\u5f0f",type:"input",className:"tel",data:e.tel,titleWidth:118,inputWidth:240})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u73b0\u4f4f\u5740",type:"input",className:"address",data:e.address,titleWidth:110,inputWidth:773})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u5de5\u4f5c\u5355\u4f4d",type:"input",className:"serviceUnit",data:e.serviceUnit,titleWidth:110,inputWidth:406}),r.a.createElement(an,{title:"\u804c\u52a1",type:"input",className:"position",data:e.position,titleWidth:118,inputWidth:240})))}))),r.a.createElement("div",{className:"add-family-info",onClick:function(){return Yt("add")},style:{margin:0==ge.length?"0":""}},"\u65b0\u589e\u5bb6\u5ead\u6210\u5458\u6216\u76d1\u62a4\u4eba\u4fe1\u606f")),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",null,r.a.createElement(an,{title:"\u5bb6\u5ead\u4eba\u53e3",type:"input",inputRef:ht,data:ie.extraInfoJson&&ie.extraInfoJson["\u5bb6\u5ead\u4eba\u53e3"],titleWidth:137,inputWidth:120}),r.a.createElement(an,{title:"\u8d61\u517b\u4eba\u53e3",type:"input",inputRef:tt,data:ie.extraInfoJson&&ie.extraInfoJson["\u8d61\u517b\u4eba\u53e3"],titleWidth:123,inputWidth:120}),r.a.createElement(an,{title:"\u5bb6\u5ead\u5e74\u6536\u5165",type:"input",inputRef:Pt,data:ie.extraInfoJson&&ie.extraInfoJson["\u5bb6\u5ead\u5e74\u6536\u5165"],titleWidth:123,inputWidth:120}),r.a.createElement(an,{title:"\u4e3b\u8981\u6536\u5165\u6765\u6e90",type:"input",inputRef:dt,data:ie.extraInfoJson&&ie.extraInfoJson["\u4e3b\u8981\u6536\u5165\u6765\u6e90"],titleWidth:123,inputWidth:120})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570",type:"input",inputRef:Ht,data:ie.extraInfoJson&&ie.extraInfoJson["\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570"],titleWidth:137,inputWidth:120}),r.a.createElement(an,{title:"\u662f\u5426\u4f4e\u4fdd",type:"select",inputRef:Ke,data:ie.extraInfoJson&&ie.extraInfoJson["\u662f\u5426\u4f4e\u4fdd"],titleWidth:123,inputWidth:120}),r.a.createElement(an,{title:"\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf",type:"input",inputRef:ct,data:ie.extraInfoJson&&ie.extraInfoJson["\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf"],titleWidth:123,inputWidth:120}),r.a.createElement(an,{title:"\u56f0\u96be\u7a0b\u5ea6",type:"input",inputRef:It,data:ie.extraInfoJson&&ie.extraInfoJson["\u56f0\u96be\u7a0b\u5ea6"],titleWidth:123,inputWidth:120})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b",type:"select",inputRef:et,data:ie.extraInfoJson&&ie.extraInfoJson["\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b"],titleWidth:179,inputWidth:90}),r.a.createElement(an,{title:"\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead",type:"select",inputRef:at,data:ie.extraInfoJson&&ie.extraInfoJson["\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead"],titleWidth:175,inputWidth:90}),r.a.createElement(an,{title:"\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973",type:"select",inputRef:Ot,data:ie.extraInfoJson&&ie.extraInfoJson["\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973"],titleWidth:357,inputWidth:90})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u662f\u5426\u519b\u70c8\u5c5e",type:"select",inputRef:Ct,data:ie.extraInfoJson&&ie.extraInfoJson["\u662f\u5426\u519b\u70c8\u5c5e"],titleWidth:179,inputWidth:90}),r.a.createElement(an,{title:"\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237",type:"select",inputRef:nt,data:ie.extraInfoJson&&ie.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237"],titleWidth:175,inputWidth:90}),r.a.createElement(an,{title:"\u5bb6\u4e2d\u662f\u5426\u6709\u91cd\u5927\u75c5\u60a3\u8005",type:"select",inputRef:Jt,data:ie.extraInfoJson&&ie.extraInfoJson["\u5bb6\u4e2d\u662f\u5426\u6709\u91cd\u5927\u75c5\u60a3\u8005"],titleWidth:357,inputWidth:90})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3",type:"select",inputRef:Lt,data:ie.extraInfoJson&&ie.extraInfoJson["\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3"],titleWidth:179,inputWidth:90}),r.a.createElement(an,{title:"\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0",type:"input",inputRef:ot,data:ie.extraInfoJson&&ie.extraInfoJson["\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0"],titleWidth:175,inputWidth:545})),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(an,{title:"\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570",type:"input",inputRef:Et,data:ie.extraInfoJson&&ie.extraInfoJson["\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570"],titleWidth:179,inputWidth:90}),r.a.createElement(an,{title:"\u5bb6\u5ead\u6b20\u503a\u91d1\u989d",type:"input",inputRef:zt,data:ie.extraInfoJson&&ie.extraInfoJson["\u5bb6\u5ead\u6b20\u503a\u91d1\u989d"],titleWidth:175,inputWidth:90}),r.a.createElement(an,{title:"\u5bb6\u5ead\u6b20\u503a\u539f\u56e0",type:"input",inputRef:Rt,data:ie.extraInfoJson&&ie.extraInfoJson["\u6b20\u503a\u539f\u56e0"],titleWidth:175,inputWidth:272})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("div",{className:"cancel-btn",onClick:function(){return ce(!1)}},"\u53d6\u6d88"),r.a.createElement("div",{className:"confirm-btn",onClick:function(){var e=Ae.current.isUpdate?Ae.current.value:void 0,t=Je.current.isUpdate?Je.current.value:void 0,a=(Re.current.isUpdate&&Re.current.value,Me.current.isUpdate?Me.current.value:void 0),n={"\u8eab\u4efd\u8bc1\u4ef6\u6709\u6548\u671f":gt.current.isUpdate?gt.current.value:void 0,"\u6b8b\u75be\u4eba\u7c7b\u578b":yt.current.isUpdate?yt.current.value:void 0,"\u4e0a\u4e0b\u5b66\u4ea4\u901a\u65b9\u5f0f":vt.current.isUpdate?vt.current.value:void 0,"\u5bb6\u5ead\u5931\u4e1a\u4eba\u6570":Et.current.isUpdate?Et.current.value:void 0,"\u56f0\u96be\u7a0b\u5ea6":It.current.isUpdate?It.current.value:void 0,"\u662f\u5426\u968f\u73ed\u5c31\u8bfb":kt.current.isUpdate?kt.current.value:void 0,"\u662f\u5426\u5b64\u513f":St.current.isUpdate?St.current.value:void 0,"\u662f\u5426\u7ecf\u6c11\u653f\u90e8\u95e8\u786e\u8ba4\u7684\u519c\u6751\u7279\u56f0\u6551\u52a9\u8303\u56f4\u7684\u5bb6\u5ead\u5b50\u5973":Ot.current.isUpdate?Ot.current.value:void 0,"\u5065\u5eb7\u72b6\u51b5":xt.current.isUpdate?xt.current.value:void 0,"\u59d3\u540d\u62fc\u97f3":Nt.current.isUpdate?Nt.current.value:void 0,"\u662f\u5426\u8fdb\u57ce\u52a1\u5de5\u4eba\u5458\u968f\u8fc1\u5b50\u5973":jt.current.isUpdate?jt.current.value:void 0,"\u7535\u5b50\u90ae\u7bb1":wt.current.isUpdate?wt.current.value:void 0,"\u662f\u5426\u9700\u8981\u7533\u8bf7\u8d44\u52a9":Dt.current.isUpdate?Dt.current.value:void 0,"\u662f\u5426\u9700\u8981\u4e58\u5750\u6821\u8f66":Tt.current.isUpdate?Tt.current.value:void 0,"\u662f\u5426\u519b\u70c8\u5c5e":Ct.current.isUpdate?Ct.current.value:void 0,"\u5bb6\u5ead\u662f\u5426\u906d\u53d7\u81ea\u7136\u707e\u5bb3":Lt.current.isUpdate?Lt.current.value:void 0,"\u662f\u5426\u4eab\u53d7\u4e00\u8865":At.current.isUpdate?At.current.value:void 0,"\u5bb6\u4e2d\u662f\u5426\u6709\u5927\u75c5\u60a3\u8005":Jt.current.isUpdate?Jt.current.value:void 0,"\u6b20\u503a\u539f\u56e0":Rt.current.isUpdate?Rt.current.value:void 0,"\u5b66\u751f\u6765\u6e90":Mt.current.isUpdate?Mt.current.value:void 0,"\u5bb6\u5ead\u5e74\u6536\u5165":Pt.current.isUpdate?Pt.current.value:void 0,"\u8054\u7cfb\u7535\u8bdd":Wt.current.isUpdate?Wt.current.value:void 0,"\u5177\u5907\u52b3\u52a8\u529b\u4eba\u6570":Ht.current.isUpdate?Ht.current.value:void 0,"\u5bb6\u5ead\u6b20\u503a\u91d1\u989d":zt.current.isUpdate?zt.current.value:void 0,"\u5165\u5b66\u5e74\u6708":Ut.current.isUpdate?Ut.current.value:void 0,"\u4e0a\u4e0b\u5b66\u8ddd\u79bb\uff08\u5343\u7c73\uff09":Bt.current.isUpdate?Bt.current.value:void 0,"\u662f\u5426\u70c8\u58eb\u6216\u4f18\u629a\u5b50\u5973":Xe.current.isUpdate?Xe.current.value:void 0,"\u662f\u5426\u4f4e\u4fdd":Ke.current.isUpdate?Ke.current.value:void 0,"\u90ae\u653f\u7f16\u53f7":qe.current.isUpdate?qe.current.value:void 0,"\u662f\u5426\u7236\u6bcd\u4e27\u5931\u52b3\u52a8\u80fd\u529b":et.current.isUpdate?et.current.value:void 0,"\u8d61\u517b\u4eba\u53e3":tt.current.isUpdate?tt.current.value:void 0,"\u662f\u5426\u519c\u6751\u7edd\u5bf9\u8d2b\u56f0\u5bb6\u5ead":at.current.isUpdate?at.current.value:void 0,"\u5bb6\u5ead\u662f\u5426\u4e94\u4fdd\u6237":nt.current.isUpdate?nt.current.value:void 0,"\u73ed\u5185\u5b66\u53f7":rt.current.isUpdate?rt.current.value:void 0,"\u7279\u957f":st.current.isUpdate?st.current.value:void 0,"\u51fa\u751f\u5730":bt.current.isUpdate?bt.current.value:void 0,"\u5c31\u5b66\u5730\u4f4e\u4fdd\u7ebf":ct.current.isUpdate?ct.current.value:void 0,"\u81ea\u7136\u707e\u5bb3\u5177\u4f53\u60c5\u51b5\u63cf\u8ff0":ot.current.isUpdate?ot.current.value:void 0,"\u5165\u5b66\u65b9\u5f0f":lt.current.isUpdate?lt.current.value:void 0,"\u653f\u6cbb\u9762\u8c8c":it.current.isUpdate?it.current.value:void 0,"\u4e3b\u9875\u5730\u5740":ut.current.isUpdate?ut.current.value:void 0,"\u4e3b\u8981\u6536\u5165\u6765\u6e90":dt.current.isUpdate?dt.current.value:void 0,"\u8eab\u4efd\u8bc1\u4ef6\u7c7b\u578b":mt.current.isUpdate?mt.current.value:void 0,"\u73b0\u4f4f\u5740":ft.current.isUpdate?ft.current.value:void 0,"\u901a\u8baf\u5730\u5740":pt.current.isUpdate?pt.current.value:void 0,"\u5bb6\u5ead\u4eba\u53e3":ht.current.isUpdate?ht.current.value:void 0},r=Pe.current.isUpdate?Pe.current.value:void 0,s=(We.current.isUpdate&&We.current.value,He.current.isUpdate&&He.current.value,ze.current.isUpdate?ze.current.value:void 0),c=Ue.current.isUpdate?Ue.current.value:void 0,o=Be.current.isUpdate?Be.current.value:void 0,l=Fe.current.isUpdate?Fe.current.value:void 0,i=Ge.current.isUpdate?Ge.current.value:void 0,u=_e.current.isUpdate?_e.current.value:void 0,d=Ve.current.isUpdate?Ve.current.value:void 0,m=$e.current.isUpdate?$e.current.value:void 0,f=Ye.current.isUpdate?Ye.current.value:void 0,h=Ze.current.isUpdate?Ze.current.value:void 0,b=Qe.current.isUpdate?Qe.current.value:void 0,g=[],y=[];_()(".studyList>div").each((function(e,t){var a={};a.certifier=_()(t).find(".certifier").text(),a.duty=_()(t).find(".duty").text(),a.learningContent=_()(t).find(".learningContent").text(),a.semesterEndTime=_()(t).find(".semesterEndTime").text(),a.semesterStartTime=_()(t).find(".semesterStartTime").text(),a.school=_()(t).find(".school").text(),y.push(a)})),_()(".familyList>div").each((function(e,t){var a={};a.address=_()(t).children(".address").text(),a.censusPlace=_()(t).children(".censusPlace").text(),a.idCardNum=_()(t).children(".idCardNum").text(),a.idCardType=_()(t).children(".idCardType").text(),a.isGuardian=_()(t).children(".isGuardian").text(),a.name=_()(t).children(".name").text(),a.nation=_()(t).children(".nation").text(),a.position=_()(t).children(".position").text(),a.relationship=_()(t).children(".relationship").text(),a.serviceUnit=_()(t).children(".serviceUnit").text(),a.tel=_()(t).children(".tel").text(),g.push(a)}));var v={censusPlace:t,dateOfBirth:a,extraInfo:n,formerName:r,guardianList:JSON.stringify(g),homeAddress:s,identityNum:c,isAcceptpreschool:o,isLeftbehindchild:l,isOnlychild:i,nation:u,nationality:d,nativePlace:m,overseaPeople:f,resumeList:JSON.stringify(y),studentId:h,studentName:e,studyingWay:b},E=0,I=0;for(var S in n)"undefined"==typeof n[S]?delete n[S]:E++;for(var O in E<1&&(v.extraInfo=void 0),v)"undefined"==typeof v[O]?delete v[O]:I++;if(I<3&&0==g.length&&0==y.length)return Ta.b.destroy(),Ta.b.config({rtl:!1,getContainer:function(){return _()(".body-container")[0]}}),void Ta.b.warn("\u53d1\u8d77\u7ea0\u9519\u7533\u8bf7\u5931\u8d25\uff0c\u5e76\u672a\u4fee\u6539\u6570\u636e~");console.log(v);var x=vn+"/api/status/student/correction";Qt.put({url:x,body:{studentId:p,jsonString:JSON.stringify(v)},securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&(Ta.b.destroy(),Ta.b.config({rtl:!1,getContainer:function(){return document.body}}),Ta.b.success("\u7ea0\u9519\u7533\u8bf7\u53d1\u8d77\u6210\u529f~"),ce(!1))}))}},"\u786e\u5b9a"))),r.a.createElement(De,{type:"1",title:"\u8bfe\u5802\u8be6\u60c5\u4fe1\u606f",visible:te,onOk:function(){return ae(!0)},onCancel:function(){return ae(!1)},footer:null,width:1e3,className:"course-status",bodyStyle:{height:"617px",padding:0}},r.a.createElement("div",{className:"search-container"},r.a.createElement("span",{className:"list-count"},"\u5171",r.a.createElement("span",null,"30\u4f4d"),"\u5b66\u751f"),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{className:"search-input",type:"text",placeholder:"\u8bf7\u8f93\u5165\u5b66\u751f\u59d3\u540d\u8fdb\u884c\u641c\u7d22..."}),r.a.createElement("i",{className:"searchlogo",onClick:function(){_()(".search-input").val()}}))),r.a.createElement(Ka,null)),r.a.createElement(De,{type:"1",title:"\u5b66\u7c4d\u8be6\u60c5",visible:X,onOk:function(){return K(!0)},onCancel:function(){"student"!=m&&Y("list"),K(!1)},footer:null,width:1300,className:"height-weight-modal",bodyStyle:{height:"632px",padding:"20px 0 20px 20px"}},r.a.createElement($.a,{autoHeight:!0,autoHeightMax:590},"list"==V?r.a.createElement("div",null,r.a.createElement("p",{className:"stu-count"},"\u5171",r.a.createElement("span",null,A.length),"\u4eba"),r.a.createElement("ul",{className:"member-list"},r.a.createElement($.a,{autoHeight:!0,autoHeightMax:550},P.length>0?P.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return function(e){var t=vn+"/api/status/student?type=1&studentId="+e.userId;Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(e.data.resumeJson=JSON.parse(e.data.resume),e.data.guardianJson=JSON.parse(e.data.guardian),e.data.extraInfoJson=JSON.parse(e.data.extraInfo),B(e.data),Y("detail"))}))}(e)}},r.a.createElement("i",{className:"user-header",style:{backgroundImage:e.photoPath?e.photoPath:""}}),r.a.createElement("p",{title:e.userName},e.userName))})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"150px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))):r.a.createElement("div",null,"student"!=m?r.a.createElement("span",{className:"reback-prev",onClick:function(){return Y("list")}},"\u8fd4\u56de\u5b66\u751f\u5217\u8868"):"",r.a.createElement(gn,{data:U})))))}var In=function(e){var t=e.commonData;return{HasHistory:t.termInfo.HasHistory,userInfo:t.userInfo}},Sn=Object(d.connect)(In)(Object(n.memo)(Object(n.forwardRef)(En))),On=(a(234),Tt.BasicProxy);function xn(e,t){var a=e.currentTerm,s=e.userIdentity,c=e.currentClass,o=e.currentGrade,l=e.userInfo.SchoolID,i=e.reflash,d=Object(n.useState)({}),m=Object(u.a)(d,2),f=m[0],p=m[1],h=Object(n.useState)(!0),b=Object(u.a)(h,2),g=b[0],y=b[1];Object(n.useLayoutEffect)((function(){if("student"!=s&&("teacher"!=s||c)){y(!0);var e=a.value?JSON.parse(a.value):{},t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";t.forEach((function(e){e.classId==c&&(n=e.gradeId)}));var r=On+"/api/learning2/rank?type="+("manager"==s?c?2:o?3:4:"teacher"==s?2:"")+"&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+l+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&p(e.data),y(!1)}))}}),[s,o,c,a,i]);var v=[],E=[],I=[],S=[];return Array.isArray(f)&&f.forEach((function(e){-1!=e.rankType.indexOf("\u8bfe\u5802")&&(v=e.learningRankListList.slice(0,5)),-1!=e.rankType.indexOf("\u65e5\u5e38")&&(E=e.learningRankListList.slice(0,5)),-1!=e.rankType.indexOf("\u81ea\u5b66")&&(I=e.learningRankListList.slice(0,5)),-1!=e.rankType.indexOf("\u8003\u8bd5")&&(S=e.learningRankListList.slice(0,5))})),r.a.createElement("div",{className:"condition-rank"},r.a.createElement(be,{opacity:!1,tip:"\u52a0\u8f7d\u4e2d...",spinning:g},0==v.length&&0==E.length&&0==I.length&&0==S.length?r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}):r.a.createElement("div",null,r.a.createElement("div",{className:"course-show-rank"},r.a.createElement("i",{className:"course-show-logo"}),r.a.createElement("ul",{className:"rank-list"},v.length>0?v.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("i",{className:"ranklogo "+(0==t?"one":1==t?"two":2==t?"three":"")}),r.a.createElement("img",{src:e.photo}),r.a.createElement("span",{className:"rank-name",title:e.name},e.name),r.a.createElement("span",{className:"rank-grade "+(0==t?"one":1==t?"two":2==t?"three":""),title:"number"==typeof e.score?parseInt(e.score)+"\u5206":"--"},"number"==typeof e.score?parseInt(e.score):"--","\u5206"))})):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}))),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"detail-work-rank"},r.a.createElement("i",{className:"detail-work-logo"}),r.a.createElement("ul",{className:"rank-list"},E.length>0?E.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("i",{className:"ranklogo "+(0==t?"one":1==t?"two":2==t?"three":"")}),r.a.createElement("img",{src:e.photo}),r.a.createElement("span",{className:"rank-name",title:e.name},e.name),r.a.createElement("span",{className:"rank-grade "+(0==t?"one":1==t?"two":2==t?"three":""),title:"number"==typeof e.score?parseInt(e.score)+"\u5206":"--"},"number"==typeof e.score?parseInt(e.score):"--","\u5206"))})):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}))),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"person-study-rank"},r.a.createElement("i",{className:"person-study-logo"}),r.a.createElement("ul",{className:"rank-list"},I.length>0?I.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("i",{className:"ranklogo "+(0==t?"one":1==t?"two":2==t?"three":"")}),r.a.createElement("img",{src:e.photo}),r.a.createElement("span",{className:"rank-name",title:e.name},e.name),r.a.createElement("span",{className:"rank-grade "+(0==t?"one":1==t?"two":2==t?"three":""),title:"number"==typeof e.score?e.score+"h":"--"},"number"==typeof e.score?e.score:"--","h"))})):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}))),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"test-grade-rank"},r.a.createElement("i",{className:"test-grade-logo"}),r.a.createElement("ul",{className:"rank-list"},S.length>0?S.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("i",{className:"ranklogo "+(0==t?"one":1==t?"two":2==t?"three":"")}),r.a.createElement("img",{src:e.photo}),r.a.createElement("span",{className:"rank-name",title:e.name},e.name),r.a.createElement("span",{className:"rank-grade "+(0==t?"one":1==t?"two":2==t?"three":""),title:"number"==typeof e.score?e.score+"\u5206":"--"},"number"==typeof e.score?e.score:"--","\u5206"))})):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}))),r.a.createElement("p",{className:"tip"},r.a.createElement("i",{className:"tiplogo"}),"\u8bfe\u5802\u8868\u73b0\u4e3a\u672c\u672c\u5b66\u671f\u8bfe\u5802\u8868\u73b0\u603b\u5206\u6392\u884c\uff1b\u65e5\u5e38\u4f5c\u4e1a\u4e3a\u6700\u8fd1\u4e00\u6b21\u4f5c\u4e1a\u6210\u7ee9\u6392\u884c\uff1b \u8bfe\u5916\u81ea\u5b66\u4e3a\u672c\u5b66\u671f\u7d2f\u8ba1\u65f6\u957f\u6392\u884c\uff1b\u8003\u8bd5\u6210\u7ee9\u4e3a\u672c\u5b66\u671f\u6700\u8fd1\u4e00\u6b21\u8003\u8bd5\u6210\u7ee9\u6392\u884c"))))}var Nn=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},jn=Object(d.connect)(Nn)(Object(n.memo)(Object(n.forwardRef)(xn))),wn=Tt.BasicProxy;function Dn(e,t){var a=e.currentTerm,s=e.userIdentity,c=e.currentClass,o=e.currentGrade,l=e.userInfo.SchoolID,i=e.reflash,d=Object(n.useState)({}),m=Object(u.a)(d,2),f=m[0],p=m[1],h=Object(n.useState)({}),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useState)({}),E=Object(u.a)(v,2),I=E[0],S=E[1],O=Object(n.useState)(!0),x=Object(u.a)(O,2),N=x[0],j=x[1];Object(n.useLayoutEffect)((function(){if("teacher"!=s||c){j(!0);var e=a.value?JSON.parse(a.value):{},t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";t.forEach((function(e){e.classId==c&&(n=e.gradeId)}));var r=wn+"/api/learning2/rank?type="+("manager"==s?c?2:o?3:4:"teacher"==s?2:"")+"&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+l+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&p(e.data),j(!1)}))}}),[s,o,c,a,i]),Object(n.useLayoutEffect)((function(){if(l&&a.value){var e=a.value?JSON.parse(a.value):{},t=wn+"/api/learning2/school/sum?schoolId="+l+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&y(e.data)})),t=wn+"/api/learning2/homework/rate?type=4&studentId=&classId=&gradeId=&schoolId="+l+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&S(e.data)}))}}),[s,l,a,i]);var w=[],D=[],T=[];Array.isArray(f)&&f.forEach((function(e){-1!=e.rankType.indexOf("\u8bfe\u5802")&&(w=e.learningRankListList.slice(0,5)),-1!=e.rankType.indexOf("\u65e5\u5e38")&&(D=e.learningRankListList.slice(0,5)),-1!=e.rankType.indexOf("\u81ea\u5b66")&&(T=e.learningRankListList.slice(0,5)),-1!=e.rankType.indexOf("\u8003\u8bd5")&&e.learningRankListList.slice(0,5)}));var k="--",C="--";return Array.isArray(g)&&g.forEach((function(e){-1!=e.type.indexOf("\u8bfe\u5802")&&"number"==typeof e.socre&&(k=e.socre.toFixed(1)),-1!=e.type.indexOf("\u81ea\u5b66")&&e.times&&(C=e.times)})),r.a.createElement("div",{className:"leader-condition-rank"},r.a.createElement(be,{opacity:!1,tip:"\u52a0\u8f7d\u4e2d...",spinning:N},r.a.createElement("div",{className:"condition-rank-top"},r.a.createElement("div",{className:"circle-container"},r.a.createElement("div",{className:"circle-violet",title:k},k),r.a.createElement("p",null,"\u5168\u6821\u73ed\u7ea7\u8bfe\u5802\u5e73\u5747\u5206")),r.a.createElement("div",{className:"circle-container"},r.a.createElement("div",{className:"circle-orange",title:I.finishRate?Number(100*I.finishRate).toFixed(1)+"%":""},I.finishRate?Number(100*I.finishRate).toFixed(1)+"%":""),r.a.createElement("p",null,"\u5168\u6821\u65e5\u5e38\u4f5c\u4e1a\u5b8c\u6210\u7387")),r.a.createElement("div",{className:"circle-container"},r.a.createElement("div",{className:"circle-red",title:C},C),r.a.createElement("p",null,"\u5168\u6821\u73ed\u7ea7\u5e73\u5747\u81ea\u5b66\u65f6\u957f"))),r.a.createElement("div",{className:"condition-rank-bottom"},r.a.createElement("div",{className:"course-show-rank"},r.a.createElement("i",{className:"course-show-logo"}),r.a.createElement("ul",{className:"rank-list"},w.length>0?w.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("i",{className:"ranklogo "+(0==t?"one":1==t?"two":2==t?"three":"")}),e.name?r.a.createElement("img",{src:e.photo}):"",r.a.createElement("span",{className:"rank-name",title:e.name||e.className},e.name||e.className),r.a.createElement("span",{className:"rank-grade "+(0==t?"one":1==t?"two":2==t?"three":""),title:"number"==typeof e.score?e.score+"h":"--"},"number"==typeof e.score?e.score:"--","\u5206"))})):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}))),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"detail-work-rank"},r.a.createElement("i",{className:"detail-work-logo"}),r.a.createElement("ul",{className:"rank-list"},D.length>0?D.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("i",{className:"ranklogo "+(0==t?"one":1==t?"two":2==t?"three":"")}),e.name?r.a.createElement("img",{src:e.photo}):"",r.a.createElement("span",{className:"rank-name",title:e.name||e.className},e.name||e.className),r.a.createElement("span",{className:"rank-grade "+(0==t?"one":1==t?"two":2==t?"three":""),title:"number"==typeof e.score?e.score+"\u5206":"--"},"number"==typeof e.score?e.score:"--","\u5206"))})):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}))),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"person-study-rank"},r.a.createElement("i",{className:"person-study-logo"}),r.a.createElement("ul",{className:"rank-list"},T.length>0?T.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("i",{className:"ranklogo "+(0==t?"one":1==t?"two":2==t?"three":"")}),e.name?r.a.createElement("img",{src:e.photo}):"",r.a.createElement("span",{className:"rank-name",title:e.name||e.className},e.name||e.className),r.a.createElement("span",{className:"rank-grade "+(0==t?"one":1==t?"two":2==t?"three":""),title:"number"==typeof e.score?e.score+"h":"--"},"number"==typeof e.score?e.score:"--","h"))})):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}))))))}var Tn=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},kn=Object(d.connect)(Tn)(Object(n.memo)(Object(n.forwardRef)(Dn))),Cn=a(1788),Ln=(a(115),a(848)),An=Tt.BasicProxy;function Jn(e,t){var a=e.currentTerm,s=e.userIdentity,c=e.currentClass,o=e.currentGrade,l=e.userInfo,i=l.SchoolID,d=l.UserID,m=e.reflash,f=Object(n.useState)({}),p=Object(u.a)(f,2),h=p[0],b=p[1],g=Object(n.useState)([]),y=Object(u.a)(g,2),v=y[0],E=y[1],I=Object(n.useState)([]),S=Object(u.a)(I,2),O=S[0],x=S[1],N=Object(n.useState)(!0),j=Object(u.a)(N,2),w=j[0],D=j[1],T=Object(n.useState)([]),k=Object(u.a)(T,2),C=k[0],L=k[1],A=Object(n.useState)({}),J=Object(u.a)(A,2),R=J[0],M=J[1],P=Object(n.useState)({}),W=Object(u.a)(P,2),H=W[0],z=W[1],U=Object(n.useState)([]),B=Object(u.a)(U,2),F=B[0],G=B[1],_=Object(n.useState)(""),V=Object(u.a)(_,2),Y=V[0],Z=V[1],Q=function(e){var t="";switch(e){case"01":t="\u4e00\u6708\u4efd";break;case"02":t="\u4e8c\u6708\u4efd";break;case"03":t="\u4e09\u6708\u4efd";break;case"04":t="\u56db\u6708\u4efd";break;case"05":t="\u4e94\u6708\u4efd";break;case"06":t="\u516d\u6708\u4efd";break;case"07":t="\u4e03\u6708\u4efd";break;case"08":t="\u516b\u6708\u4efd";break;case"09":t="\u4e5d\u6708\u4efd";break;case"10":t="\u5341\u6708\u4efd";break;case"11":t="\u5341\u4e00\u6708\u4efd";break;case"12":t="\u5341\u4e8c\u6708\u4efd";break;default:t=""}return t},X=[new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#F79750"},{offset:1,color:"#FFB681"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#2D3149"},{offset:1,color:"#363D71"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#E84956"},{offset:1,color:"#E9707A"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#6E54CC"},{offset:1,color:"#7E90E9"}])];Object(n.useLayoutEffect)((function(){if("manager"!=s&&o&&("student"!=s||d&&c&&o)&&("teacher"!=s||c)){var e=a.value&&JSON.parse(a.value),t=An+"/api/learning2/performance/statistics?type=3&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&z(e.data)}))}}),[s,o,c,a,m]),Object(n.useLayoutEffect)((function(){if("student"==s&&d&&c&&o){var e=a.value&&JSON.parse(a.value),t=An+"/api/learning2/performance/statistics?type=2&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&M(e.data)}))}}),[s,o,c,a,m]),Object(n.useLayoutEffect)((function(){if(D(!0),("manager"!=s||c||o)&&("student"!=s||d&&c&&o)&&("teacher"!=s||c)){var e=a.value&&JSON.parse(a.value),t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";t.forEach((function(e){e.classId==c&&(n=e.gradeId)}));var r=An+"/api/learning2/performance/statistics?type="+("student"==s?1:"teacher"==s||c?2:o?3:4)+"&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&b(e.data),D(!1)}))}}),[s,o,c,a,m]),Object(n.useLayoutEffect)((function(){if(("manager"!=s||c||o)&&("student"!=s||d&&c&&o)&&("teacher"!=s||c)){var e=a.value&&JSON.parse(a.value),t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";t.forEach((function(e){e.classId==c&&(n=e.gradeId)}));var r=An+"/api/learning2/performance/subject?type="+("student"==s?1:"teacher"==s||c?2:o?3:4)+"&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&L(e.data)}))}}),[s,o,c,a,m]),Object(n.useLayoutEffect)((function(){if(D(!0),"manager"==s&&!o&&!c){var e=a.value&&JSON.parse(a.value),t=An+"/api/learning2/performance/statistics/batch?type=4&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&E(e.data)})),t=An+"/api/learning2/performance/statistics?type=3&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&b(e.data),D(!1)}))}}),[s,o,c,i,a,m]),Object(n.useLayoutEffect)((function(){if("manager"==s&&!o&&!c){var e=a.value&&JSON.parse(a.value),t=An+"/api/learning2/performance/subject/batch?type=3&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&x(e.data)}))}}),[s,o,c,a,i,m]),Object(n.useEffect)((function(){if(("manager"!=s||c||o)&&h.lessonBonusRateDataList&&0!=h.lessonBonusRateDataList.length){var e=[],t=[],a=[],n=[],r=[];h.lessonBonusRateDataList&&h.lessonBonusRateDataList.forEach((function(e){t.push(e.subjectName),a.push(parseInt(100*e.rate).toFixed(1))})),t.forEach((function(e){H.lessonBonusRateDataList&&H.lessonBonusRateDataList.forEach((function(t){t.subjectName==e&&r.push((100*t.rate).toFixed(1))})),R.lessonBonusRateDataList&&R.lessonBonusRateDataList.forEach((function(t){t.subjectName==e&&n.push((100*t.rate).toFixed(1))}))})),"teacher"==s&&(e=[{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:r}]),"student"==s&&(e=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:a},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:n},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:r}]);var l=nn.b(document.getElementById("grade-compare-echart"));l.resize();var i={title:{text:"\u5404\u5b66\u79d1\u52a0\u5206\u7387\u767e\u5206\u6bd4",left:"center",top:"10px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:75,bottom:t.length>6?100:90},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"%</span><br/>")})),t}},legend:{top:"40px",right:"10%",textStyle:{color:"#999999"}},xAxis:{type:"category",name:"\u5b66\u79d1",nameTextStyle:{color:"#999999"},data:t,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"},formatter:function(e){return e.length>4?e.substr(0,4)+"...":e}}},dataZoom:{show:t.length>6,maxValueSpan:6,height:2,showDetail:!1,moveHandSize:6,bottom:70},yAxis:{type:"value",name:"\u767e\u5206\u6bd4",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},min:0,max:100,splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:e};l.setOption(i,!0),window.addEventListener("resize",(function(){l.resize()}))}}),[h,v,s]),Object(n.useEffect)((function(){if(("manager"!=s||c||o)&&0!=C.length){var e=[],t=[],a=[],n=[],r=[];C.forEach((function(e){n.push(e.subjectName)})),n=Object(yn.a)(new Set(n)),0==F.length&&G(n),!Y&&Z(n[0]),C.forEach((function(e){e.subjectName==Y&&(r.push(e),t.push(Q(e.date.substr(5,2))))})),(t=Object(yn.a)(new Set(t))).forEach((function(e){var t=0;r.forEach((function(a){Q(a.date.substr(5,2))==e&&(t+=a.score)})),a.push(t)})),"teacher"==s&&(e=[{name:"\u52a0\u5206",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:a}]),"student"==s&&(e=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:a},{name:"\u52a0\u5206",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:a}]);var l=nn.b(document.getElementById("grade-statistic-echart"));l.resize();var i={title:{text:"\u8bfe\u5802\u5206\u6570\u7edf\u8ba1\u4fe1\u606f",left:"center",top:"10px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:75,bottom:t.length>6?100:90},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"\u5206</span><br/>")})),t}},legend:{top:"40px",right:"10%",textStyle:{color:"#999999"}},dataZoom:{show:t.length>6,maxValueSpan:6,height:2,showDetail:!1,moveHandSize:6,bottom:70},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999",padding:[1e4,0,0,0]},data:t,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#7c7c7c"}}},yAxis:[{type:"value",name:"\u5206\u6570",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},minInterval:1,axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}}],series:e};l.setOption(i,!0),window.addEventListener("resize",(function(){l.resize()}))}}),[Y,s,C,O,F]),Object(n.useEffect)((function(){if("manager"==s&&!c&&!o&&0!=v.length){var e=[],t=[];v.forEach((function(t){t.performanceStatistics&&Array.isArray(t.performanceStatistics.lessonBonusRateDataList)&&t.performanceStatistics.lessonBonusRateDataList.forEach((function(t){e.push(t.subjectName)}))})),e=Object(yn.a)(new Set(e)),v.forEach((function(a,n){var r=[];e.forEach((function(e){var t=!1;a.performanceStatistics&&Array.isArray(a.performanceStatistics.lessonBonusRateDataList)&&a.performanceStatistics.lessonBonusRateDataList.forEach((function(a){a.subjectName==e&&(r.push((100*a.rate).toFixed(1)),t=!0)})),t||r.push("")})),t.push({name:a.gradeName,type:"bar",itemStyle:{color:X[n%6]},data:r})}));var a=nn.b(document.getElementById("grade-compare-echart"));a.resize();var n={title:{text:"\u5404\u5b66\u79d1\u52a0\u5206\u7387\u767e\u5206\u6bd4",left:"center",top:"10px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:75,bottom:e.length>6?100:90},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"%</span><br/>")})),t}},legend:{width:"62%",type:"scroll",top:"40px",right:"center",textStyle:{color:"#999999"}},xAxis:{type:"category",name:"\u5b66\u79d1",nameTextStyle:{color:"#999999"},data:e,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"},formatter:function(e){return e.length>4?e.substr(0,4)+"...":e}}},dataZoom:{show:e.length>6,maxValueSpan:6,height:2,showDetail:!1,moveHandSize:6,bottom:70},yAxis:{type:"value",name:"\u767e\u5206\u6bd4",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},min:0,max:100,splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:t};a.setOption(n,!0),window.addEventListener("resize",(function(){a.resize()}))}}),[h,v,s]),Object(n.useEffect)((function(){if("manager"==s&&!c&&!o&&0!=O.length){var e,t=[],a=[],n=[],r=[];if(O.forEach((function(e){e.everydayLessonScoreDataList.forEach((function(e){n.push(e.subjectName)}))})),0!=(n=Object(yn.a)(new Set(n))).length){0==F.length&&G(n),!Y&&Z(n[0]),O.forEach((function(e){e.everydayLessonScoreDataList.forEach((function(e){e.subjectName==Y&&(r.push(e),t.push(e.date))}))})),(t=Object(yn.a)(new Set(t))).forEach((function(e){var t=0;r.forEach((function(a){a.date==e&&(t+=a.score)})),a.push(t)})),e=[{name:"\u52a0\u5206",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:a}];var l=nn.b(document.getElementById("grade-statistic-echart"));l.resize();var i={title:{text:"\u8bfe\u5802\u5206\u6570\u7edf\u8ba1\u4fe1\u606f",left:"center",top:"10px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:75,bottom:t.length>6?100:90},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"\u5206</span><br/>")})),t}},legend:{top:"40px",right:"10%",textStyle:{color:"#999999"}},dataZoom:{show:t.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:70},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999",padding:[1e4,0,0,0]},data:t,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"}}},yAxis:[{type:"value",name:"\u5206\u6570",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},minInterval:1,axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}}],series:e};l.setOption(i,!0),window.addEventListener("resize",(function(){l.resize()}))}}}),[Y,s,C,O,F]);var K=[],q=[];return Array.isArray(F)&&F.forEach((function(e,t){q.push(e),(t+1)%7!=0&&t!=F.length-1||(K.push(q),q=[])})),r.a.createElement("div",{className:"course-show"},r.a.createElement(be,{opacity:!1,tip:"\u52a0\u8f7d\u4e2d...",spinning:w},"teacher"==s||"manager"==s?r.a.createElement("div",{className:"show-top"},r.a.createElement("div",{className:"course-add",style:{marginRight:107}},r.a.createElement("div",{className:"circle-violet"},"number"==typeof h.addAll&&"number"==typeof h.subtractAll?(h.addAll-h.subtractAll).toFixed(1):"--"),r.a.createElement("p",null,"\u8bfe\u5802\u5e73\u5747\u5206")),r.a.createElement("div",{className:"course-reduce",style:{marginRight:107}},r.a.createElement("div",{className:"circle-orange"},"number"==typeof h.addAll?h.addAll.toFixed(1):"--"),r.a.createElement("p",null,"\u8bfe\u5802\u5e73\u5747\u52a0\u5206")),r.a.createElement("div",{className:"raise-hand"},r.a.createElement("div",{className:"circle-green"},"number"==typeof h.raiseAll?h.raiseAll.toFixed(1):"--"),r.a.createElement("p",null,"\u5e73\u5747\u4e3e\u624b\u6b21\u6570"))):r.a.createElement("div",{className:"show-top"},r.a.createElement("div",{className:"course-add"},r.a.createElement("div",{className:"circle-orange"},h.addAll),r.a.createElement("p",null,"\u8bfe\u5802\u52a0\u5206")),r.a.createElement("div",{className:"raise-hand"},r.a.createElement("div",{className:"circle-green"},h.raiseAll),r.a.createElement("p",null,"\u4e3e\u624b\u6b21\u6570"))),r.a.createElement("div",{className:"show-bottom"},r.a.createElement("div",{className:"grade-compare-status"},"manager"!=s||c||o?h.lessonBonusRateDataList&&0!=h.lessonBonusRateDataList.length?r.a.createElement("div",{className:"grade-compare-echart",style:{marginTop:45},id:"grade-compare-echart"}):r.a.createElement(ye,{className:"bar-empty",style:{margin:"80px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}):0==v.length?r.a.createElement(ye,{className:"bar-empty",style:{margin:"80px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}):r.a.createElement("div",{className:"grade-compare-echart",style:{marginTop:45},id:"grade-compare-echart"})),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"subject-grade-statistic"},F.length>0?r.a.createElement("div",{className:"kind-list",style:{margin:"24px 0 0 67px"}},r.a.createElement("span",null,"\u5b66\u79d1:"),r.a.createElement(Cn.a,{dots:{className:"award-dot"}},K.map((function(e,t){return r.a.createElement("span",{className:"span-container",key:t},e.map((function(t,a){return r.a.createElement("span",{className:"span-container",key:a},r.a.createElement("span",{className:"list-one "+(Y==t?"active":""),onClick:function(){return Z(t)}},t),a!=e.length-1?r.a.createElement("span",{className:"list-slice-line"}):"")})))})))):"","manager"!=s||c||o?C.length>0?r.a.createElement("div",{className:"grade-statistic-echart",id:"grade-statistic-echart"}):r.a.createElement(ye,{className:"bar-empty",style:{margin:"80px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}):O.length>0?r.a.createElement("div",{className:"grade-statistic-echart",id:"grade-statistic-echart"}):r.a.createElement(ye,{className:"bar-empty",style:{margin:"80px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))))}var Rn=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},Mn=Object(d.connect)(Rn)(Object(n.memo)(Object(n.forwardRef)(Jn))),Pn=a(1791),Wn=a(899),Hn=Tt.BasicProxy,zn=ne.a.Option;function Un(e,t){var a=e.currentTerm,s=e.userIdentity,c=e.currentClass,o=e.currentGrade,l=e.userInfo,i=l.SchoolID,d=l.UserID,m=Object(n.useState)([]),f=Object(u.a)(m,2),p=f[0],h=f[1],b=Object(n.useState)([]),g=Object(u.a)(b,2),y=g[0],v=g[1],E=Object(n.useState)([]),I=Object(u.a)(E,2),S=I[0],O=I[1],x=Object(n.useState)([]),N=Object(u.a)(x,2),j=N[0],w=N[1],D=Object(n.useState)([]),T=Object(u.a)(D,2),k=T[0],C=T[1],L=Object(n.useState)([]),A=Object(u.a)(L,2),J=A[0],R=A[1],M=Object(n.useState)([]),P=Object(u.a)(M,2),W=P[0],H=P[1],z=Object(n.useState)([]),U=Object(u.a)(z,2),B=U[0],F=U[1],G=Object(n.useState)({}),_=Object(u.a)(G,2),V=_[0],Y=_[1],Z=Object(n.useState)({}),Q=Object(u.a)(Z,2),X=(Q[0],Q[1],Object(n.useState)({})),K=Object(u.a)(X,2),q=(K[0],K[1]),$=Object(n.useState)([]),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],re=Object(n.useState)([]),se=Object(u.a)(re,2),ce=se[0],oe=se[1],le=Object(n.useState)([]),ie=Object(u.a)(le,2),ue=ie[0],de=ie[1],me=Object(n.useState)(!0),fe=Object(u.a)(me,2),pe=fe[0],he=fe[1],ge=Object(n.useState)(!0),ve=Object(u.a)(ge,2),Ee=ve[0],Ie=ve[1],Se=Object(n.useState)(!0),Oe=Object(u.a)(Se,2),xe=Oe[0],Ne=Oe[1],je=Object(n.useState)(!0),we=Object(u.a)(je,2),De=we[0],Te=we[1],ke=Object(n.useState)("day"),Ce=Object(u.a)(ke,2),Le=Ce[0],Ae=Ce[1],Je=Object(n.useState)("day"),Re=Object(u.a)(Je,2),Me=Re[0],Pe=Re[1],We=Object(n.useState)([]),He=Object(u.a)(We,2),ze=He[0],Ue=He[1],Be=Object(n.useState)([]),Fe=Object(u.a)(Be,2),Ge=Fe[0],_e=(Fe[1],Object(n.useState)("")),Ve=Object(u.a)(_e,2),Ye=Ve[0],Ze=Ve[1],Qe=[new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#F79750"},{offset:1,color:"#FFB681"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#2D3149"},{offset:1,color:"#363D71"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#E84956"},{offset:1,color:"#E9707A"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#6E54CC"},{offset:1,color:"#7E90E9"}])];Object(n.useLayoutEffect)((function(){if(a&&("manager"!=s||o||c)){var e=a.value&&JSON.parse(a.value),t=Hn+"/api/learning2/homework/avgScore?type=3&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&O(e.data)})),t=Hn+"/api/learning2/homework/score?type=3&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&w(e.data)}))}}),[s,o,c,a]),Object(n.useLayoutEffect)((function(){if("manager"!=s||o||c){var e=a.value&&JSON.parse(a.value),t=Hn+"/api/learning2/homework/rate/date?type=3&statisticalType="+("day"==Le?1:"week"==Le?2:"month"==Le?3:1)+"&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&h(e.data)}))}}),[Le,a,o,c]),Object(n.useLayoutEffect)((function(){if("manager"!=s||o||c){var e=a.value&&JSON.parse(a.value),t=Hn+"/api/learning2/homework/rate/date?type=3&statisticalType="+("day"==Me?1:"week"==Me?2:"month"==Me?3:1)+"&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&v(e.data)}))}}),[Me,a,o,c]),Object(n.useLayoutEffect)((function(){if(a&&"student"==s&&("student"!=s||d&&c&&o)){var e=a.value&&JSON.parse(a.value),t=Hn+"/api/learning2/homework/avgScore?type=2&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&H(e.data)})),t=Hn+"/api/learning2/homework/score?type=2&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&F(e.data)}))}}),[s,o,c,a]),Object(n.useLayoutEffect)((function(){if("student"==s&&("student"!=s||d&&c&&o)){var e=a.value&&JSON.parse(a.value),t=Hn+"/api/learning2/homework/rate/date?type=2&statisticalType="+("day"==Le?1:"week"==Le?2:"month"==Le?3:1)+"&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&C(e.data)}))}}),[Le,a,o,c]),Object(n.useLayoutEffect)((function(){if("student"==s&&("student"!=s||d&&c&&o)){var e=a.value&&JSON.parse(a.value),t=Hn+"/api/learning2/homework/rate/date?type=2&statisticalType="+("day"==Me?1:"week"==Me?2:"month"==Me?3:1)+"&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&R(e.data)}))}}),[Me,a,o,c]),Object(n.useLayoutEffect)((function(){var e=a.value&&JSON.parse(a.value);if(("manager"!=s||o||c)&&("student"!=s||d&&c&&o)&&("teacher"!=s||c)){var t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";t.forEach((function(e){e.classId==c&&(n=e.gradeId)}));var r=Hn+"/api/learning2/homework/rate?type="+("student"==s?1:"teacher"==s||c?2:o?3:4)+"&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&Y(e.data)})),r=Hn+"/api/learning2/homework/rate?type=3&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&q(e.data)})),Ne(!0),r=Hn+"/api/learning2/homework/avgScore?type="+("manager"==s?c?2:o?3:4:"teacher"==s?2:1)+"&studentId="+d+"&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&de(e.data),Ne(!1)})),Te(!0),r=Hn+"/api/learning2/homework/score?type="+("manager"==s?c?2:o?3:4:"teacher"==s?2:1)+"&studentId="+d+"&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&Ue(e.data),Te(!1)}))}}),[s,o,c,a]),Object(n.useLayoutEffect)((function(){if(("manager"!=s||o||c)&&("student"!=s||d&&c&&o)&&("teacher"!=s||c)){he(!0);var e=a.value&&JSON.parse(a.value),t=Hn+"/api/learning2/homework/rate/date?type="+("student"==s?1:"teacher"==s||c?2:o?3:4)+"&statisticalType="+("day"==Le?1:"week"==Le?2:"month"==Le?3:1)+"&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&ae(e.data),he(!1)}))}}),[Le,a,o,c]),Object(n.useLayoutEffect)((function(){if(("manager"!=s||o||c)&&("student"!=s||d&&c&&o)&&("teacher"!=s||c)){Ie(!0);var e=a.value&&JSON.parse(a.value),t=Hn+"/api/learning2/homework/rate/date?type="+("student"==s?1:"teacher"==s||c?2:o?3:4)+"&statisticalType="+("day"==Me?1:"week"==Me?2:"month"==Me?3:1)+"&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&oe(e.data),Ie(!1)}))}}),[Me,a,o,c]),Object(n.useLayoutEffect)((function(){if("manager"==s&&!o&&!c){var e=a.value&&JSON.parse(a.value),t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";t.forEach((function(e){e.classId==c&&(n=e.gradeId)}));var r=Hn+"/api/learning2/homework/rate?type=4&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&Y(e.data)})),Ne(!0),r=Hn+"/api/learning2/homework/avgScore/batch?type=3&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&de(e.data),Ne(!1)})),Te(!0),r=Hn+"/api/learning2/homework/score/batch?type=3&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&Ue(e.data),Te(!1)}))}}),[s,o,c,a]),Object(n.useLayoutEffect)((function(){if(he(!0),"manager"==s&&!o&&!c){var e=a.value&&JSON.parse(a.value),t=Hn+"/api/learning2/homework/rate/date/batch?type=3&statisticalType="+("day"==Le?1:"week"==Le?2:"month"==Le?3:1)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&ae(e.data),he(!1)}))}}),[Le,a,o,c,s,i]),Object(n.useLayoutEffect)((function(){if(Ie(!0),"manager"==s&&!o&&!c){var e=a.value&&JSON.parse(a.value),t=Hn+"/api/learning2/homework/rate/date/batch?type=3&statisticalType="+("day"==Me?1:"week"==Me?2:"month"==Me?3:1)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&oe(e.data),Ie(!1)}))}}),[Me,a,o,c,s,i]),Object(n.useEffect)((function(){if(0!=te.length){var e=[],t=[],a=[],n=[],r=[];"manager"!=s||c||o?"student"==s?(te.forEach((function(a){e.push(a.time&&a.time.substr(5,5)),t.push(parseFloat(100*a.finishRate).toFixed(1))})),k.forEach((function(t){e.push(t.time&&t.time.substr(5,5)),a.push(parseFloat(100*t.finishRate).toFixed(1))})),p.forEach((function(e){n.push(parseFloat(100*e.finishRate).toFixed(1))})),r=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:t},{type:"bar",name:"\u73ed\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a},{type:"bar",name:"\u5e74\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]):c?(te.forEach((function(t){e.push(t.time&&t.time.substr(5,5)),a.push(parseFloat(100*t.finishRate).toFixed(1))})),p.forEach((function(e){n.push(parseFloat(100*e.finishRate).toFixed(1))})),r=[{type:"bar",name:"\u73ed\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a},{type:"bar",name:"\u5e74\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]):o&&(te.forEach((function(a){e.push(a.time&&a.time.substr(5,5)),t.push(parseFloat(100*a.finishRate).toFixed(1))})),r=[{type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:t}]):(te.forEach((function(t,a){t.homeworkRateList&&t.homeworkRateList.forEach((function(t){e.push(t.time&&t.time.substr(5,5))}))})),e=Object(yn.a)(new Set(e)),te.forEach((function(t,a){var n=[];e.forEach((function(e){t.homeworkRateList&&t.homeworkRateList.forEach((function(t){t.time.substr(5,5)==e&&n.push(parseFloat(100*t.finishRate).toFixed(1))}))})),r.push({type:"bar",name:t.gradeName,itemStyle:{color:Qe[a%6]},data:n})})));var l=nn.a.init(document.getElementById("complete-rate-echart"));l.resize();var i={legend:"manager"!=s||o||c?{right:"10%",top:5}:{type:"scroll",width:"62%",left:"center",top:5},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"%</span><br/>")})),t}},grid:{top:40,bottom:e.length>6?40:20},dataZoom:{show:e.length>6,maxValueSpan:5,minValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:10},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999"},axisLabel:{color:"#999999"},axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},splitLine:{lineStyle:{color:"#e6e6e6"}},data:e},yAxis:{name:"\u767e\u5206\u6bd4",nameTextStyle:{color:"#999999",padding:[0,0,0,40]},axisLabel:{color:"#999999"},axisTick:{show:!1},min:0,max:100,axisLine:{lineStyle:{color:"#e6e6e6"}},splitLine:{lineStyle:{color:"#e6e6e6"}}},series:r};l.setOption(i,!0),window.addEventListener("resize",(function(){l.resize()}))}}),[te,Le]),Object(n.useEffect)((function(){if(0!=ce.length){var e=[],t=[],a=[],n=[],r=[];"manager"!=s||o||c?"student"==s?(ce.forEach((function(t){e.push(t.time&&t.time.substr(5,5)),r.push(parseFloat(100*t.passRate).toFixed(1))})),J.forEach((function(e){t.push(parseFloat(100*e.passRate).toFixed(1))})),y.forEach((function(e){a.push(parseFloat(100*e.passRate).toFixed(1))})),n=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:r},{type:"bar",name:"\u73ed\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:t},{type:"bar",name:"\u5e74\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:a}]):c?(ce.forEach((function(a){e.push(a.time&&a.time.substr(5,5)),t.push(parseFloat(100*a.passRate).toFixed(1))})),y.forEach((function(e){a.push(parseFloat(100*e.passRate).toFixed(1))})),n=[{type:"bar",name:"\u73ed\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:t},{type:"bar",name:"\u5e74\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:a}]):(ce.forEach((function(t){e.push(t.time&&t.time.substr(5,5)),r.push(parseFloat(100*t.passRate).toFixed(1))})),n=[{type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:r}]):(ce.forEach((function(t,a){t.homeworkRateList&&t.homeworkRateList.forEach((function(t){e.push(t.time&&t.time.substr(5,5))}))})),e=Object(yn.a)(new Set(e)),ce.forEach((function(t,a){var r=[];e.forEach((function(e){t.homeworkRateList&&t.homeworkRateList.forEach((function(t){t.time.substr(5,5)==e&&r.push((100*parseFloat(t.passRate)).toFixed(1))}))})),n.push({type:"bar",name:t.gradeName,itemStyle:{color:Qe[a%6]},data:r})})));var l=nn.a.init(document.getElementById("pass-rate-echart"));l.resize();var i={legend:"manager"!=s||o||c?{right:"10%",top:5}:{type:"scroll",width:"62%",left:"center",top:5},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"%</span><br/>")})),t}},grid:{top:40,bottom:e.length>6?40:20},dataZoom:{show:e.length>6,maxValueSpan:5,minValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:10},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999"},axisLabel:{color:"#999999"},axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},splitLine:{lineStyle:{color:"#e6e6e6"}},data:e},yAxis:{name:"\u767e\u5206\u6bd4",nameTextStyle:{color:"#999999",padding:[0,0,0,40]},axisLabel:{color:"#999999"},axisTick:{show:!1},min:0,max:100,axisLine:{lineStyle:{color:"#e6e6e6"}},splitLine:{lineStyle:{color:"#e6e6e6"}}},series:n};l.setOption(i,!0),window.addEventListener("resize",(function(){l.resize()}))}}),[ce,Me]),Object(n.useEffect)((function(){if(0!=ue.length){var e=[],t=[],a=[],n=[],r=[];"manager"!=s||o||c?"student"==s?(ue.forEach((function(t){e.push(t.subjectName),r.push(t.score.toFixed(1))})),W.forEach((function(e){t.push(e.score.toFixed(1))})),S.forEach((function(e){a.push(e.score.toFixed(1))})),n=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:r},{type:"bar",name:"\u73ed\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:t},{type:"bar",name:"\u5e74\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:a}]):c?(ue.forEach((function(t){e.push(t.subjectName),r.push(t.score.toFixed(1))})),S.forEach((function(e){a.push(e.score.toFixed(1))})),n=[{type:"bar",name:"\u73ed\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:r},{type:"bar",name:"\u5e74\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:a}]):(ue.forEach((function(t){e.push(t.subjectName),r.push(t.score.toFixed(1))})),n=[{type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:r}]):(ue.forEach((function(t,a){t.homeworkScore2List&&t.homeworkScore2List.forEach((function(t){e.push(t.subject)}))})),e=Object(yn.a)(new Set(e)),ue.forEach((function(t,a){var r=[];e.forEach((function(e){t.homeworkScore2List&&t.homeworkScore2List.forEach((function(t){t.subject==e&&r.push(t.score.toFixed(1))}))})),n.push({type:"bar",name:t.gradeName,itemStyle:{color:Qe[a%6]},data:r})})));var l=nn.a.init(document.getElementById("work-avg-echart"));l.resize();var i={legend:"manager"!=s||o||c?{right:"10%",top:5}:{type:"scroll",width:"62%",left:"center",top:5},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"\u5206</span><br/>")})),t}},grid:{top:40,bottom:e.length>5?40:20},dataZoom:{show:e.length>5,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:10},xAxis:{type:"category",name:"\u5b66\u79d1",nameTextStyle:{color:"#999999"},axisLabel:{interval:0,color:"#999999"},axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},splitLine:{lineStyle:{color:"#e6e6e6"}},data:e},yAxis:{name:"\u5f97\u5206",nameTextStyle:{color:"#999999",padding:[0,0,0,40]},axisLabel:{color:"#999999"},axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},splitLine:{lineStyle:{color:"#e6e6e6"}}},series:n};l.setOption(i,!0),window.addEventListener("resize",(function(){l.resize()}))}}),[ue]),Object(n.useEffect)((function(){if(0!=ze.length||0!=j.length){var e=[],t=[],a=[],n=[],r=[],l=[];"manager"!=s||o||c?"student"==s?(ze.forEach((function(a){e.push(a.date),(Ye&&a.subjectName==Ye||!Ye&&a.subjectName==ze[0].subjectName)&&t.push(a.score),n.push(a.subjectName)})),B.forEach((function(e){(Ye&&e.subjectName==Ye||!Ye&&e.subjectName==B[0].subjectName)&&a.push(e.score)})),j.forEach((function(e){(Ye&&e.subjectName==Ye||!Ye&&e.subjectName==j[0].subjectName)&&r.push(e.score)})),!Ye&&Ze(n[0]),l=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:t},{type:"bar",name:"\u73ed\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a},{type:"bar",name:"\u5e74\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:r}]):c?(ze.forEach((function(a){e.push(a.date),(Ye&&a.subjectName==Ye||!Ye&&a.subjectName==ze[0].subjectName)&&t.push(a.score),n.push(a.subjectName)})),j.forEach((function(e){(Ye&&e.subjectName==Ye||!Ye&&e.subjectName==j[0].subjectName)&&r.push(e.score)})),!Ye&&Ze(n[0]),l=[{type:"bar",name:"\u73ed\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:t},{type:"bar",name:"\u5e74\u7ea7",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:r}]):(ze.forEach((function(a){e.push(a.date),(Ye&&a.subjectName==Ye||!Ye&&a.subjectName==ze[0].subjectName)&&t.push(a.score),n.push(a.subjectName)})),!Ye&&Ze(n[0]),l=[{type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:t}]):(ze.forEach((function(t,a){t.everydayLessonScoreDataList&&t.everydayLessonScoreDataList.forEach((function(t){n.push(t.subjectName),e.push(t.date)}))})),n=Object(yn.a)(new Set(n)),ze.forEach((function(t,a){var n=[];e.forEach((function(e){t.everydayLessonScoreDataList&&t.everydayLessonScoreDataList.forEach((function(a){(Ye&&a.date==e&&a.subjectName==Ye||!Ye&&a.date==e&&a.subjectName==t.everydayLessonScoreDataList[0].subjectName)&&n.push(a.score.toFixed(1))}))})),l.push({type:"bar",name:t.gradeName,itemStyle:{color:Qe[a%6]},data:n})})));var i=nn.a.init(document.getElementById("detail-grade-echart"));i.resize();var u={legend:"manager"!=s||o||c?{right:"10%",top:5}:{type:"scroll",width:"62%",left:"center",top:5},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"\u5206</span><br/>")})),t}},grid:{top:40,bottom:e.length>5?40:20},dataZoom:{show:e.length>5,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:10},xAxis:{type:"category",name:"\u6708\u4efd",nameTextStyle:{color:"#999999"},axisLabel:{color:"#999999"},axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},splitLine:{lineStyle:{color:"#e6e6e6"}},data:e},yAxis:{name:"\u767e\u5206\u6bd4",nameTextStyle:{color:"#999999",padding:[0,0,0,40]},axisLabel:{color:"#999999"},axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},splitLine:{lineStyle:{color:"#e6e6e6"}}},series:l};i.setOption(u,!0),window.addEventListener("resize",(function(){i.resize()}))}}),[ze,Ye]);var Xe=[],Ke=[];Array.isArray(ue)&&ue.forEach((function(e,t){Ke.push(e),(t+1)%5!=0&&t!=ue.length-1||(Xe.push(Ke),Ke=[])}));var qe=[],$e=[];return Array.isArray(Ge)&&Ge.forEach((function(e,t){$e.push(e),(t+1)%7!=0&&t!=Ge.length-1||(qe.push(Ke),$e=[])})),r.a.createElement("div",{className:"detail-work"},r.a.createElement("div",{className:"detail-work-top"},r.a.createElement("div",{className:"rate-echart-container"},r.a.createElement("div",{className:"complete-rate"},r.a.createElement(Pn.a,{placement:"bottomLeft",content:r.a.createElement("div",{className:"circle-tootip"})},r.a.createElement(Wn.a,{type:"circle",percent:V.finishRate?parseInt(100*V.finishRate):"--",format:function(e){return e},width:92,showInfo:!0,className:"progress work-complete",strokeColor:"#8fdb66"})),r.a.createElement("p",null,"\u5b8c\u6210\u7387")),r.a.createElement("div",{className:"pass-rate"},r.a.createElement(Pn.a,{placement:"bottomLeft",content:r.a.createElement("div",{className:"circle-tootip"})},r.a.createElement(Wn.a,{type:"circle",percent:V.passRate?parseInt(100*V.passRate):"--",format:function(e){return e},width:92,className:"progress work-pass",strokeColor:"#49aaea"})),r.a.createElement("p",null,"\u53ca\u683c\u7387"))),r.a.createElement("div",{className:"slice-line"}),ue.length>0?r.a.createElement(Cn.a,{dots:{className:"award-dot"}},Xe.map((function(e,t){return r.a.createElement("div",{className:"subject-grade-list",key:t},e.map((function(e,t){return r.a.createElement("div",{className:"grade-list-one",key:t},r.a.createElement("p",{className:"grade-num "+(e.score>=90?"orange":e.score>=80&&e.score<90?"violet":e.score>=75&&e.score<80?"blue":e.score>=70&&e.score<75?"green":"red")},"number"==typeof e.score?e.score:"--"),r.a.createElement("p",null,e.subjectName,"\u4f5c\u4e1a"),r.a.createElement("p",null,"\u5e73\u5747\u5206"))})))}))):r.a.createElement(ye,{className:"bar-empty",style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})),r.a.createElement("div",{className:"work-echart-container"},r.a.createElement("div",{className:"x-line"}),r.a.createElement("div",{className:"y-line"}),r.a.createElement("div",{className:"work-complete-rate"},r.a.createElement("div",{className:"echart-title"},r.a.createElement("span",null,"\u4f5c\u4e1a\u5b8c\u6210\u7387"),r.a.createElement(ne.a,{defaultValue:"day",className:"select",onChange:function(e){return Ae(e)}},r.a.createElement(zn,{value:"day"},"\u6309\u5929\u6570"),r.a.createElement(zn,{value:"week"},"\u6309\u5468\u6b21"),r.a.createElement(zn,{value:"month"},"\u6309\u6708\u4efd"))),r.a.createElement(be,{opacity:!1,tip:"\u52a0\u8f7d\u4e2d...",spinning:pe},r.a.createElement("div",{className:"complete-rate-echart",id:"complete-rate-echart"}))),r.a.createElement("div",{className:"work-pass-rate"},r.a.createElement("div",{className:"echart-title"},r.a.createElement("span",null,"\u4f5c\u4e1a\u53ca\u683c\u7387"),r.a.createElement(ne.a,{defaultValue:"day",className:"select",onChange:function(e){Pe(e)}},r.a.createElement(zn,{value:"day"},"\u6309\u5929\u6570"),r.a.createElement(zn,{value:"week"},"\u6309\u5468\u6b21"),r.a.createElement(zn,{value:"month"},"\u6309\u6708\u4efd"))),r.a.createElement(be,{opacity:!1,tip:"\u52a0\u8f7d\u4e2d...",spinning:Ee},r.a.createElement("div",{className:"pass-rate-echart",id:"pass-rate-echart"}))),r.a.createElement("div",{className:"allsubject-work-avg"},r.a.createElement("div",{className:"echart-title"},r.a.createElement("span",null,"\u5404\u5b66\u79d1\u65e5\u5e38\u4f5c\u4e1a\u5e73\u5747\u5206")),r.a.createElement(be,{opacity:!1,tip:"\u52a0\u8f7d\u4e2d...",spinning:xe},ue.length>0?r.a.createElement("div",{className:"work-avg-echart",id:"work-avg-echart"}):r.a.createElement(ye,{className:"bar-empty",style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}))),r.a.createElement("div",{className:"subject-detail-grade"},Ge.length>0?r.a.createElement("div",{className:"kind-list"},r.a.createElement("span",null,"\u5b66\u79d1:"),r.a.createElement(Cn.a,{dots:{className:"award-dot"}},qe.map((function(e,t){return r.a.createElement("span",{className:"span-container",key:t},e.map((function(t,a){return r.a.createElement("span",{className:"span-container",key:a},r.a.createElement("span",{className:"list-one "+(Ye==t?"active":""),onClick:function(){return Ze(t)}},t),a!=e.length-1?r.a.createElement("span",{className:"list-slice-line"}):"")})))})))):"",r.a.createElement("div",{className:"echart-title"},r.a.createElement("span",null,Ye,"\u65e5\u5e38\u4f5c\u4e1a\u5206\u6570")),r.a.createElement(be,{opacity:!1,tip:"\u52a0\u8f7d\u4e2d...",spinning:De},ze.length>0||S>0?r.a.createElement("div",{className:"detail-grade-echart",id:"detail-grade-echart"}):r.a.createElement(ye,{className:"bar-empty",style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))))}var Bn=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},Fn=Object(d.connect)(Bn)(Object(n.memo)(Object(n.forwardRef)(Un))),Gn=Tt.BasicProxy;function _n(e,t){var a=e.currentTerm,s=e.userIdentity,c=e.currentClass,o=e.currentGrade,l=(e.reflash,e.userInfo),i=l.SchoolID,d=l.UserID,m=Object(n.useState)({}),f=Object(u.a)(m,2),p=f[0],h=f[1],b=Object(n.useState)({}),g=Object(u.a)(b,2),y=g[0],v=g[1],E=Object(n.useState)({}),I=Object(u.a)(E,2),S=I[0],O=I[1],x=Object(n.useState)({}),N=Object(u.a)(x,2),j=N[0],w=N[1],D=Object(n.useState)({}),T=Object(u.a)(D,2),k=T[0],C=T[1],L=Object(n.useState)({}),A=Object(u.a)(L,2),J=A[0],R=A[1],M=Object(n.useState)([]),P=Object(u.a)(M,2),W=P[0],H=P[1],z=Object(n.useState)([]),U=Object(u.a)(z,2),B=U[0],F=U[1],G=Object(n.useState)(""),_=Object(u.a)(G,2),V=_[0],Y=_[1],Z=[new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#F79750"},{offset:1,color:"#FFB681"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#2D3149"},{offset:1,color:"#363D71"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#E84956"},{offset:1,color:"#E9707A"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#6E54CC"},{offset:1,color:"#7E90E9"}])];Object(n.useLayoutEffect)((function(){if("student"==s&&("student"!=s||d&&c&&o)){var e=a.value&&JSON.parse(a.value),t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";t.forEach((function(e){e.classId==c&&(n=e.gradeId)}));var r=Gn+"/api/learning2/selfStudy/detail?type=2&studentId=&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&v(e.data)})),r=Gn+"/api/learning2/selfStudy/statistics?type=2&studentId=&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&C(e.data)})),r=Gn+"/api/learning2/selfStudy/detail?type=3&studentId=&classId=&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&O(e.data)})),r=Gn+"/api/learning2/selfStudy/statistics?type=3&studentId=&classId=&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&R(e.data)}))}}),[s,o,c,a]),Object(n.useLayoutEffect)((function(){if("teacher"==s&&("teacher"!=s||c)){var e=a.value&&JSON.parse(a.value),t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";t.forEach((function(e){e.classId==c&&(n=e.gradeId)}));var r=Gn+"/api/learning2/selfStudy/detail?type=3&studentId=&classId=&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&O(e.data)})),r=Gn+"/api/learning2/selfStudy/statistics?type=3&studentId=&classId=&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&R(e.data)}))}}),[s,o,c,a]),Object(n.useLayoutEffect)((function(){if(a.value&&("manager"!=s||o||c)&&("student"!=s||d&&c&&o)&&("teacher"!=s||c)){var e=a.value&&JSON.parse(a.value),t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";t.forEach((function(e){e.classId==c&&(n=e.gradeId)}));var r=Gn+"/api/learning2/selfStudy/detail?type="+("student"==s?1:"teacher"==s||c?2:o?3:4)+"&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&e.data){h(e.data);var t=[];e.data.selfStudyDaysList.forEach((function(e){e.selfStudySubjectList.forEach((function(e){t.push(e.subjectName)}))})),t=Object(yn.a)(new Set(t)),F(t),Y(t[0])}})),r=Gn+"/api/learning2/selfStudy/statistics?type="+("student"==s?1:"teacher"==s||c?2:o?3:4)+"&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&w(e.data)}))}}),[s,o,c,a]),Object(n.useLayoutEffect)((function(){if(a.value&&"manager"==s&&!c&&!o){var e=a.value&&JSON.parse(a.value),t=Gn+"/api/learning2/selfStudy/detail/batch?type=3&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&e.data){h(e.data);var t=[];Array.isArray(e.data)&&e.data.forEach((function(e){e.selfStudyDetails&&Array.isArray(e.selfStudyDetails.selfStudyDaysList)&&e.selfStudyDetails.selfStudyDaysList.forEach((function(e){Array.isArray(e.selfStudySubjectList)&&e.selfStudySubjectList.forEach((function(e){t.push(e.subjectName)}))}))})),t=Object(yn.a)(new Set(t)),F(t),Y(t[0])}})),t=Gn+"/api/learning2/selfStudy/statistics/batch?type=3&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&H(e.data)})),t=Gn+"/api/learning2/selfStudy/statistics?type=4&studentId=&classId=&gradeId=&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&w(e.data)}))}}),[s,o,c,a]),Object(n.useEffect)((function(){var e=[],t=[],a=[],n=[],r=[];if("manager"!=s||o||c){if("student"==s){if(!Array.isArray(j.selfStudySubjectList))return;j.selfStudySubjectList.forEach((function(a){e.push(a.subjectName),t.push(a.useTime)})),Array.isArray(k.selfStudySubjectList)&&k.selfStudySubjectList.forEach((function(e){a.push(e.useTime)})),Array.isArray(J.selfStudySubjectList)&&J.selfStudySubjectList.forEach((function(e){n.push(e.useTime)})),r=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:t},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]}else if(c){if(!Array.isArray(j.selfStudySubjectList))return;j.selfStudySubjectList.forEach((function(a){e.push(a.subjectName),t.push(a.useTime)})),Array.isArray(J.selfStudySubjectList)&&J.selfStudySubjectList.forEach((function(e){n.push(e.useTime)})),r=[{name:"\u73ed\u7ea7\u603b\u65f6\u957f",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:t},{name:"\u5e74\u7ea7\u5e73\u5747\u603b\u65f6\u957f",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]}else if(o){if(!Array.isArray(j.selfStudySubjectList))return;j.selfStudySubjectList.forEach((function(a){e.push(a.subjectName),t.push(a.useTime)})),r=[{type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:t}]}}else{if(!Array.isArray(W))return;W.forEach((function(t,a){var n=[];t.selfStudy&&Array.isArray(t.selfStudy.selfStudySubjectList)&&t.selfStudy.selfStudySubjectList.forEach((function(t){e.push(t.subjectName),n.push(t.useTime)})),r.push({name:t.gradeName,type:"bar",itemStyle:{color:Z[a%6]},data:n})})),e=Object(yn.a)(new Set(e))}var l=nn.a.init(document.getElementById("time-sum-echart"));l.resize();var i={title:{text:"\u7d2f\u8ba1\u81ea\u5b66\u65f6\u957f",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:e.length>6?55:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">\n                        ".concat(e.seriesName&&-1==e.seriesName.indexOf("series")?e.seriesName+":":"",'</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"h</span><br/>")})),t}},legend:"manager"!=s||o||c?{top:"50px",right:"10%",textStyle:{color:"#999999"}}:{type:"scroll",width:"62%",left:"center",top:50},dataZoom:{show:e.length>6,maxValueSpan:5,minValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:30},xAxis:{type:"category",name:"\u5b66\u79d1",nameTextStyle:{color:"#999999"},data:e,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u65f6\u957f/h",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},min:0,max:100,splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:r};l.setOption(i,!0),window.addEventListener("resize",(function(){l.resize()}))}),[j,W,s]),Object(n.useEffect)((function(){var e=[],t=[],a=[],n=[],r=[];if("manager"!=s||o||c){if("student"==s){if(!Array.isArray(p.selfStudyDaysList))return;p.selfStudyDaysList.forEach((function(a){e.push(a.date),a.selfStudySubjectList.forEach((function(e){e.subjectName==V&&t.push(e.useTime)}))})),Array.isArray(y.selfStudyDaysList)&&y.selfStudyDaysList.forEach((function(e){e.selfStudySubjectList.forEach((function(e){e.subjectName==V&&a.push(e.useTime)}))})),Array.isArray(S.selfStudyDaysList)&&S.selfStudyDaysList.forEach((function(e){e.selfStudySubjectList.forEach((function(e){e.subjectName==V&&n.push(e.useTime)}))})),r=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:t},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]}else if(c){if(!Array.isArray(p.selfStudyDaysList))return;p.selfStudyDaysList.forEach((function(a){e.push(a.date),a.selfStudySubjectList.forEach((function(e){e.subjectName==V&&t.push(e.useTime)}))})),Array.isArray(S.selfStudyDaysList)&&S.selfStudyDaysList.forEach((function(e){e.selfStudySubjectList.forEach((function(e){e.subjectName==V&&n.push(e.useTime)}))})),r=[{name:"\u73ed\u7ea7\u603b\u65f6\u957f",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:t},{name:"\u5e74\u7ea7\u5e73\u5747\u603b\u65f6\u957f",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]}else if(o){if(!Array.isArray(p.selfStudyDaysList))return;p.selfStudyDaysList.forEach((function(a){e.push(a.date),a.selfStudySubjectList.forEach((function(e){e.subjectName==V&&t.push(e.useTime)}))})),r=[{type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:t}]}}else{if(!Array.isArray(j))return;j.forEach((function(t,a){var n=[];t.selfStudy&&Array.isArray(t.selfStudy.selfStudySubjectList)&&t.selfStudy.selfStudySubjectList.forEach((function(t){e.push(t.subjectName),n.push(t.useTime)})),r.push({name:t.gradeName,type:"bar",itemStyle:{color:Z[a%6]},data:n})})),e=Object(yn.a)(new Set(e))}var l=nn.a.init(document.getElementById("detail-study-echart"));l.resize();var i={title:{text:"\u6bcf\u65e5\u81ea\u5b66\u65f6\u957f",left:"center",top:"10px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:75,bottom:e.length>6?100:90},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">\n                        ".concat(e.seriesName&&-1==e.seriesName.indexOf("series")?e.seriesName+":":"",'</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"h</span><br/>")})),t}},legend:"manager"!=s||o||c?{top:"40px",right:"10%",textStyle:{color:"#999999"}}:{type:"scroll",width:"62%",left:"center",top:40},dataZoom:{show:e.length>6,maxValueSpan:5,minValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:70},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999"},data:e,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u65f6\u957f/h",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},min:0,max:100,splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:r};l.setOption(i,!0),window.addEventListener("resize",(function(){l.resize()}))}),[p,s,V]);var Q=[],X=[];return Array.isArray(B)&&B.forEach((function(e,t){X.push(e),(t+1)%7!=0&&t!=B.length-1||(Q.push(X),X=[])})),r.a.createElement("div",{className:"course-show"},"student"==s?r.a.createElement("div",{className:"show-top"},r.a.createElement("div",{className:"course-liveness"},r.a.createElement("div",{className:"circle-blue"},"number"==typeof j.total?parseInt(j.total):"--"),r.a.createElement("p",null,"\u81ea\u5b66\u603b\u65f6\u957f")),r.a.createElement("div",{className:"course-add"},r.a.createElement("div",{className:"circle-orange"},j.maxSubject?j.maxSubject:"--"),r.a.createElement("p",null,"\u6700\u591a\u81ea\u5b66\u5b66\u79d1")),r.a.createElement("div",{className:"course-reduce"},r.a.createElement("div",{className:"circle-red"},"number"==typeof j.maxTime?parseInt(j.maxTime):"--"),r.a.createElement("p",null,"\u6700\u5927\u8fde\u7eed\u81ea\u5b66\u65f6\u957f")),r.a.createElement("div",{className:"raise-hand"},r.a.createElement("div",{className:"circle-green"},"number"==typeof j.avgTime?parseInt(j.avgTime):"--"),r.a.createElement("p",null,"\u5e73\u5747\u81ea\u5b66\u65f6\u957f"))):"teacher"==s?r.a.createElement("div",{className:"show-top"},r.a.createElement("div",{className:"course-liveness"},r.a.createElement("div",{className:"circle-blue"},"number"==typeof j.total?parseInt(j.total):"--"),r.a.createElement("p",null,"\u73ed\u7ea7\u603b\u81ea\u5b66\u65f6\u957f")),r.a.createElement("div",{className:"course-add"},r.a.createElement("div",{className:"circle-orange"},j.maxSubject?j.maxSubject:"--"),r.a.createElement("p",null,"\u6700\u591a\u81ea\u5b66\u5b66\u79d1")),r.a.createElement("div",{className:"course-reduce"},r.a.createElement("div",{className:"circle-red"},"number"==typeof j.maxTime?parseInt(j.maxTime):"--"),r.a.createElement("p",null,"\u73ed\u7ea7\u5185\u6700\u5927\u8fde\u7eed",r.a.createElement("br",null),"\u81ea\u5b66\u65f6\u957f")),r.a.createElement("div",{className:"raise-hand"},r.a.createElement("div",{className:"circle-green"},"number"==typeof j.avgTime?parseInt(j.avgTime):"--"),r.a.createElement("p",null,"\u73ed\u7ea7\u5185\u4e2a\u4eba\u5e73\u5747",r.a.createElement("br",null),"\u81ea\u5b66\u65f6\u957f"))):"manager"!=s||c||o?"":r.a.createElement("div",{className:"show-top"},r.a.createElement("div",{className:"course-liveness"},r.a.createElement("div",{className:"circle-blue"},"number"==typeof j.total?parseInt(j.total):"--"),r.a.createElement("p",null,"\u81ea\u5b66\u603b\u65f6\u957f")),r.a.createElement("div",{className:"course-add"},r.a.createElement("div",{className:"circle-orange"},j.maxSubject?j.maxSubject:"--"),r.a.createElement("p",null,"\u6700\u591a\u81ea\u5b66\u5b66\u79d1")),r.a.createElement("div",{className:"course-reduce"},r.a.createElement("div",{className:"circle-red"},"number"==typeof j.maxTime?parseInt(j.maxTime):"--"),r.a.createElement("p",null,"\u6700\u5927\u8fde\u7eed\u81ea\u5b66\u65f6\u957f")),r.a.createElement("div",{className:"raise-hand"},r.a.createElement("div",{className:"circle-green"},"number"==typeof j.avgTime?parseInt(j.avgTime):"--"),r.a.createElement("p",null,"\u5e73\u5747\u81ea\u5b66\u65f6\u957f"))),r.a.createElement("div",{className:"show-bottom"},r.a.createElement("div",{className:"grade-compare-status"},r.a.createElement("div",{className:"grade-compare-echart",id:"time-sum-echart"})),r.a.createElement("div",{className:"subject-grade-statistic"},r.a.createElement("div",{className:"kind-list",style:{margin:"24px 0 0 67px"}},r.a.createElement("span",null,"\u7c7b\u578b:"),r.a.createElement(Cn.a,{dots:{className:"award-dot"}},Q.map((function(e,t){return r.a.createElement("span",{className:"span-container",key:t},e.map((function(t,a){return r.a.createElement("span",{className:"span-container",key:a},r.a.createElement("span",{className:"list-one "+(V==t?"active":""),onClick:function(){return Y(t)}},t),a!=e.length-1?r.a.createElement("span",{className:"list-slice-line"}):"")})))})))),r.a.createElement("div",{className:"grade-statistic-echart",id:"detail-study-echart"}))))}var Vn=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},Yn=Object(d.connect)(Vn)(Object(n.memo)(Object(n.forwardRef)(_n))),Zn=Tt.BasicProxy;function Qn(e,t){var a=e.currentTerm,s=e.userIdentity,c=e.currentClass,o=e.currentGrade,l=e.userInfo,i=l.SchoolID,d=l.UserID,m=Object(n.useState)({}),f=Object(u.a)(m,2),p=f[0],h=f[1];return Object(n.useLayoutEffect)((function(){if(("manager"!=s||c||o)&&("student"!=s||d&&c&&o)&&("teacher"!=s||c)){var e=a.value&&JSON.parse(a.value),t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";t.forEach((function(e){e.classId==c&&(n=e.gradeId)}));var r=Zn+"/api/learning2/overall/score?type="+("manager"==s?c?2:o?3:4:"teacher"==s?2:1)+"&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&h(e.data)})),r=Zn+"/api/learning2/overall/score?type="+("manager"==s?c?2:o?3:4:"teacher"==s?2:1)+"&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&h(e.data)})),r=Zn+"/api/learning2/overall/score?type="+("manager"==s?c?2:o?3:4:"teacher"==s?2:1)+"&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&h(e.data)}))}}),[s,o,c,a]),Object(n.useLayoutEffect)((function(){if("manager"==s&&!c&&!o){var e=a.value&&JSON.parse(a.value),t=Zn+"/api/learning2/overall/score/batch?type=3&schoolId="+i+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&Array.isArray(e.data)){var t=[];e.data.forEach((function(e){Array.isArray(e.overallScore2)&&e.overallScore2.overallSubjectList.forEach((function(e){t.push(e.subject)}))})),t=Object(yn.a)(new Set(t));var a=[];t.forEach((function(t){var n=[];e.data.forEach((function(e){Array.isArray(e.overallScore2)&&e.overallScore2.overallSubjectList.forEach((function(a){if(a.subject==t){var r={grade:e.gradeName,score:a.score};n.push(r)}}))})),a.push({subject:t,gradeList:n})})),h(a)}}))}}),[s,o,c,a]),r.a.createElement("div",{className:"grade-statistic"},"student"==s?r.a.createElement("p",{className:"course-count"},"\u5171\u9009\u4fee",r.a.createElement("span",null,"number"==typeof p.courseCount?p.courseCount:"--"),"\u95e8\u8bfe\u7a0b\uff0c\u5e73\u5747\u5206",r.a.createElement("span",null,"number"==typeof p.avgScore?p.avgScore.toFixed(1):"--"),"\u5206"):r.a.createElement("p",{className:"course-count"},"\u5171\u6709",r.a.createElement("span",null,"manager"!=s||c||o?Array.isArray(p.overallSubjectList)?p.overallSubjectList.length:"--":p.length),"\u95e8\u8bfe\u7a0b"),r.a.createElement($.a,{autoHeight:!0,autoHeightMax:450},"manager"!=s||o||c?"teacher"==s?r.a.createElement("div",null,Array.isArray(p.overallSubjectList)&&p.overallSubjectList.length>0?p.overallSubjectList.map((function(e,t){return r.a.createElement("div",{className:"course-grade-one "+(e.classAvgScore>=90?"A":e.classAvgScore>=80&&e.classAvgScore<90?"B":e.classAvgScore>=70&&e.classAvgScore<80?"C":"D"),key:t},r.a.createElement("p",{className:"course-name"},r.a.createElement("span",null,e.subject)),r.a.createElement("div",{className:"course-grade-statistic"},r.a.createElement("div",{className:"grade-sum"},r.a.createElement("p",{className:"grade-num",title:"number"==typeof e.classAvgScore?e.classAvgScore.toFixed(1):"--"},r.a.createElement("span",null,"number"==typeof e.classAvgScore?e.classAvgScore.toFixed(1):"--")),r.a.createElement("p",null,r.a.createElement("span",null,"\u73ed\u7ea7\u5e73\u5747\u5206"))),r.a.createElement("div",{className:"grade-avg",style:{paddingTop:32}},r.a.createElement("p",null,r.a.createElement("span",null,"\u5e74\u7ea7\u5747\u5206:",r.a.createElement("span",{className:"compare-score",title:"number"==typeof e.gradeAvgScore?e.gradeAvgScore.toFixed(1):"--"},"number"==typeof e.gradeAvgScore?e.gradeAvgScore.toFixed(1):"--","\u5206"))))))})):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})):r.a.createElement("div",null,Array.isArray(p.overallSubjectList)&&p.overallSubjectList.length>0?p.overallSubjectList.map((function(e,t){return r.a.createElement("div",{className:"course-grade-one "+("student"==s?e.score>=90?"A":e.score>=80&&e.score<90?"B":e.score>=70&&e.score<80?"C":"D":c?e.classAvgScore>=90?"A":e.classAvgScore>=80&&e.classAvgScore<90?"B":e.classAvgScore>=70&&e.classAvgScore<80?"C":"D":o?e.gradeAvgScore>=90?"A":e.gradeAvgScore>=80&&e.gradeAvgScore<90?"B":e.gradeAvgScore>=70&&e.gradeAvgScore<80?"C":"D":e.schoolAvgScore>=90?"A":e.schoolAvgScore>=80&&e.schoolAvgScore<90?"B":e.schoolAvgScore>=70&&e.schoolAvgScore<80?"C":"D"),key:t},r.a.createElement("p",{className:"course-name"},r.a.createElement("span",null,e.subject)),r.a.createElement("div",{className:"course-grade-statistic"},r.a.createElement("div",{className:"grade-sum"},r.a.createElement("p",{className:"grade-num"},r.a.createElement("span",null,"student"==s?e.score?e.score.toFixed(1):"--":"teacher"==s||c?e.classAvgScore?e.classAvgScore.toFixed(1):"--":o?e.gradeAvgScore?e.gradeAvgScore.toFixed(1):"--":e.schoolAvgScore?e.schoolAvgScore.toFixed(1):"--")),r.a.createElement("p",null,"\u603b\u8bc4\u5206")),r.a.createElement("div",{className:"grade-avg"},r.a.createElement("p",null,"\u73ed\u7ea7\u5747\u5206:",r.a.createElement("span",null,"number"==typeof e.classAvgScore?e.classAvgScore.toFixed(1):"--","\u5206")),r.a.createElement("p",null,"\u5e74\u7ea7\u5747\u5206:",r.a.createElement("span",null,"number"==typeof e.classAvgScore?e.gradeAvgScore.toFixed(1):"--","\u5206")))))})):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})):r.a.createElement("div",null,Array.isArray(p)&&p.length>0?p.forEach((function(e,t){return r.a.createElement("div",{className:"course-grade-one "+["A","B","C","D"][parseInt(4*Math.random())],key:t},r.a.createElement("p",{className:"course-name"},e.subject),r.a.createElement("div",{className:"course-grade-statistic leader-statistic"},e.gradeList.map((function(e,t){return r.a.createElement("p",{className:"grade-avg-one",key:t},r.a.createElement("span",null,e.grade,"\u5747\u5206:",r.a.createElement("span",null,"number"==typeof e.score?e.score.toFixed(1):"--","\u5206")))}))))})):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}))),"student"==s?r.a.createElement("div",{className:"teacher-remark"},r.a.createElement("span",{className:"remark-name"},"\u73ed\u4e3b\u4efb\u8bc4\u8bed:"),r.a.createElement("span",{className:"remark-content"},p.comment?p.comment:"\u6682\u65e0\u8bc4\u8bed~")):"")}var Xn=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},Kn=Object(d.connect)(Xn)(Object(n.memo)(Object(n.forwardRef)(Qn))),qn=Tt.BasicProxy,$n=ne.a.Option;function er(e,t){var a=e.currentTerm,s=e.userIdentity,c=e.currentClass,o=e.currentGrade,l=e.userInfo,i=l.SchoolID,d=l.UserID,m=Object(n.useState)("common"),f=Object(u.a)(m,2),p=f[0],h=f[1],b=Object(n.useState)([]),g=Object(u.a)(b,2),y=g[0],v=g[1],E=Object(n.useState)(""),I=Object(u.a)(E,2),S=I[0],O=I[1],x=Object(n.useState)([]),N=Object(u.a)(x,2),j=N[0],w=N[1],D=Object(n.useState)([]),T=Object(u.a)(D,2),k=T[0],C=T[1],L=Object(n.useState)([]),A=Object(u.a)(L,2),J=A[0],R=A[1],M=[new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#F79750"},{offset:1,color:"#FFB681"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#2D3149"},{offset:1,color:"#363D71"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#E84956"},{offset:1,color:"#E9707A"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#6E54CC"},{offset:1,color:"#7E90E9"}])],P={common:"\u5e73\u65f6\u8003\u8bd5",termCenter:"\u671f\u4e2d\u8003\u8bd5",termEnd:"\u671f\u672b\u8003\u8bd5"};return Object(n.useLayoutEffect)((function(){if("student"==s&&("student"!=s||d&&c&&o)){var e=a.value&&JSON.parse(a.value),t=qn+"/api/learning2/exam/scoreRank?type=2&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&examType="+("common"==p?1:2)+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&C(e.data)}))}}),[p,s,o,c,a]),Object(n.useLayoutEffect)((function(){if("manager"!=s&&("student"!=s||d&&c&&o)&&("teacher"!=s||c)){var e=a.value&&JSON.parse(a.value),t=qn+"/api/learning2/exam/scoreRank?type=3&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&examType="+("common"==p?1:2)+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&R(e.data)}))}}),[p,s,o,c,a]),Object(n.useLayoutEffect)((function(){if(("manager"!=s||c||o)&&("student"!=s||d&&c&&o)&&("teacher"!=s||c)){var e=a.value&&JSON.parse(a.value),t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";t.forEach((function(e){e.classId==c&&(n=e.gradeId)}));var r=qn+"/api/learning2/exam/scoreRank?type="+("student"==s?1:"teacher"==s||c?2:o?3:4)+"&studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+("teacher"!=s||o?o:n)+"&schoolId="+i+"&examType="+("common"==p?1:2)+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&Array.isArray(e.data)){w(e.data);var t=[];e.data.map((function(e){e.examType==P[p]&&t.push(e.subject)})),t=Object(yn.a)(new Set(t)),v(t),e.data[0]&&O(t[0])}}))}}),[p,s,o,c,a]),Object(n.useLayoutEffect)((function(){if("manager"==s&&!o&&!c){var e=a.value&&JSON.parse(a.value),t=qn+"/api/learning2/exam/scoreRank/batch?type=3&schoolId="+i+"&examType="+("common"==p?1:2)+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&Array.isArray(e.data)){w(e.data);var t=[];e.data.map((function(e){e.examScoreAndRankList.forEach((function(e){e.examType==P[p]&&t.push(e.subject)}))})),t=Object(yn.a)(new Set(t)),v(t),e.data[0]&&O(t[0])}}))}}),[p,s,o,c,a]),Object(n.useEffect)((function(){if(("manager"!=s||c||o)&&0!=j.length){var e=[];"common"==p&&(e=j),"termCenter"==p&&j.forEach((function(t){"\u671f\u4e2d\u8003\u8bd5"==t.examType&&t.subject==S&&e.push(t)})),"termEnd"==p&&j.forEach((function(t){"\u671f\u672b\u8003\u8bd5"==t.examType&&t.subject==S&&e.push(t)}));var t=[],a=[],n=[],r=[],l=[];e.forEach((function(e){t.push(e.examName),r.push(e.score),l.push(e.maxScore)})),J.forEach((function(e){n.push(e.score)})),k.forEach((function(e){a.push(e.score)}));var i=[];"teacher"==s&&(i=[{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:r},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]),"student"==s&&(i=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:r},{name:"\u6700\u9ad8\u5206",type:"line",lineStyle:{color:"#f18a1a",width:1,borderColor:"#f18a1a",emphasis:{width:1}},itemStyle:{color:"#f18a1a"},data:l},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]);var u=nn.a.init(document.getElementById("common-grade-echart"));u.resize();var d={title:{text:"".concat("common"==p?"\u5e73\u65f6":"termCenter"==p?"\u671f\u4e2d":"termEnd"==p?"\u671f\u672b":"","\u8003\u8bd5\u6210\u7ee9(").concat(S,")"),left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:t.length>6?65:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"\u5206</span><br/>")})),t}},dataZoom:{show:t.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:70},legend:{top:"50px",right:"10%",textStyle:{color:"#999999"}},xAxis:{type:"category",name:"\u8003\u8bd5",nameTextStyle:{color:"#999999"},data:t,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u5206\u6570",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},min:0,max:100,splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:i};u.setOption(d,!0),window.addEventListener("resize",(function(){u.resize()}))}}),[j,s,S,p]),Object(n.useEffect)((function(){if(("manager"!=s||c||o)&&0!=j.length){var e=[];"common"==p&&(e=j),"termCenter"==p&&j.forEach((function(t){"\u671f\u4e2d\u8003\u8bd5"==t.examType&&t.subject==S&&e.push(t)})),"termEnd"==p&&j.forEach((function(t){"\u671f\u672b\u8003\u8bd5"==t.examType&&t.subject==S&&e.push(t)}));var t=[],a=[],n=[];e.forEach((function(e){t.push(e.examName),a.push(e.classRank?e.classRank:0),n.push(e.gradeRank?e.gradeRank:0)}));var r=[];"teacher"==s&&(r=[{name:"\u6392\u540d",type:"line",lineStyle:{color:"#0099ff",width:1,borderColor:"#0099ff",emphasis:{width:1}},itemStyle:{color:"#0099ff"},data:a}]),"student"==s&&(r=[{name:"\u73ed\u7ea7\u6392\u540d",type:"line",lineStyle:{color:"#0099ff",width:1,borderColor:"#0099ff",emphasis:{width:1}},itemStyle:{color:"#0099ff"},data:a},{name:"\u5e74\u7ea7\u6392\u540d",type:"line",lineStyle:{color:"#22a814",width:1,borderColor:"#22a814",emphasis:{width:1}},itemStyle:{color:"#22a814"},data:n}]);var l=nn.a.init(document.getElementById("common-rank-echart"));l.resize();var i={title:{text:"".concat("common"==p?"\u5e73\u65f6":"termCenter"==p?"\u671f\u4e2d":"termEnd"==p?"\u671f\u672b":"","\u8003\u8bd5\u73ed\u7ea7\u6392\u540d(").concat(S,")"),left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"\u540d</span><br/>")})),t}},legend:{top:"50px",right:"10%",textStyle:{color:"#999999"}},dataZoom:{show:t.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:70},xAxis:{type:"category",name:"\u8003\u8bd5",nameTextStyle:{color:"#999999"},data:t,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u540d\u6b21",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},min:0,max:100,splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:r};l.setOption(i,!0),window.addEventListener("resize",(function(){l.resize()}))}}),[j,s,S,p]),Object(n.useEffect)((function(){if("manager"==s&&!c&&!o){var e=[],t=[],a=[];if(c||o){var n=[];"common"==p&&(n=j),"termCenter"==p&&j.forEach((function(e){"\u671f\u4e2d\u8003\u8bd5"==e.examType&&e.subject==S&&n.push(e)})),"termEnd"==p&&j.forEach((function(e){"\u671f\u672b\u8003\u8bd5"==e.examType&&e.subject==S&&n.push(e)})),n.forEach((function(a){e.push(a.examName?a.examName:""),t.push(a.score)})),e=Object(yn.a)(new Set(e)),a=[{name:c?"\u73ed\u7ea7":"\u5e74\u7ea7",type:"bar",itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:t}]}else{var r=[];"common"==p&&j.forEach((function(e){e.examScoreAndRankList.forEach((function(t){"\u5e73\u65f6\u8003\u8bd5"==t.examType&&t.subject==S&&r.push(e)}))})),"termCenter"==p&&j.forEach((function(e){e.examScoreAndRankList.forEach((function(t){"\u671f\u4e2d\u8003\u8bd5"==t.examType&&t.subject==S&&r.push(e)}))})),"termEnd"==p&&j.forEach((function(e){e.examScoreAndRankList.forEach((function(t){"\u671f\u672b\u8003\u8bd5"==t.examType&&t.subject==S&&r.push(e)}))})),r.forEach((function(t){t.examScoreAndRankList.forEach((function(t){t.subject==S&&P[p]==t.examType&&e.push(t.examName?t.examName:"")}))})),e=Object(yn.a)(new Set(e)),j.forEach((function(t,n){var r=[];e.forEach((function(e){var a=0;t.examScoreAndRankList.forEach((function(t){t.examName==e&&e.subject==S&&(a+=t.score)})),r.push(parseInt(a/t.examScoreAndRankList.length))})),a.push({name:t.gradeName,type:"bar",itemStyle:M[n%6],data:r})}))}var l=nn.a.init(document.getElementById("manager-grade-echart"));l.resize();var i={title:{text:"".concat("common"==p?"\u5e73\u65f6":"termCenter"==p?"\u671f\u4e2d":"termEnd"==p?"\u671f\u672b":"","\u8003\u8bd5\u6210\u7ee9").concat(S?"("+S+")":""),left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:e.length>6?40:30},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value?e.value:"--","\u5206</span><br/>")})),t}},dataZoom:{show:e.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:70},legend:{width:"70%",type:"scroll",top:"50px",left:"center",textStyle:{color:"#999999"}},xAxis:{type:"category",name:"\u8003\u8bd5",nameTextStyle:{color:"#999999"},data:e,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u5206\u6570",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:a};l.setOption(i,!0),window.addEventListener("resize",(function(){l.resize()}))}}),[j,s,S,p]),r.a.createElement("div",{className:"test-grade"},r.a.createElement("div",{className:"test-grade-top"},r.a.createElement("div",{className:"kind-list"},r.a.createElement("span",null,"\u7c7b\u578b:"),r.a.createElement("span",{className:"list-one "+("common"==p?"active":""),onClick:function(){return h("common")}},"\u5e73\u65f6\u8003\u8bd5"),r.a.createElement("span",{className:"list-slice-line"}),r.a.createElement("span",{className:"list-one "+("termCenter"==p?"active":""),onClick:function(){return h("termCenter")}},"\u671f\u4e2d\u8003\u8bd5"),r.a.createElement("span",{className:"list-slice-line"}),r.a.createElement("span",{className:"list-one "+("termEnd"==p?"active":""),onClick:function(){return h("termEnd")}},"\u671f\u672b\u8003\u8bd5")),y.length>0?r.a.createElement("div",{className:"select-container"},r.a.createElement("span",null,"\u5b66\u79d1:"),r.a.createElement(ne.a,{value:S,className:"select",onChange:function(e){return O(e)}},y.map((function(e,t){return r.a.createElement($n,{key:t,value:e},e)})))):""),"manager"!=s||o||c?j.length>0?r.a.createElement("div",{className:"test-grade-bottom"},r.a.createElement("div",{className:"common-grade-echart",id:"common-grade-echart"}),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"common-rank-echart",id:"common-rank-echart"})):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}):r.a.createElement("div",{className:"manager-grade-bottom"},r.a.createElement("div",{className:"manager-grade-echart",id:"manager-grade-echart"})))}var tr=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},ar=Object(d.connect)(tr)(Object(n.memo)(Object(n.forwardRef)(er))),nr=Tt.BasicProxy;function rr(e,t){var a=e.term,s=(e.HasHistory,e.onAnchorComplete),c=(e.schoolID,e.collegeID,e.productMsg,e.userIdentity),o=e.currentClass,l=e.currentGrade,i=e.userInfo,d=i.UserID,m=i.SchoolID,f=e.reflash,p=Object(n.useState)(!1),h=Object(u.a)(p,2),b=h[0],g=h[1],y=Object(n.useState)(!1),v=Object(u.a)(y,2),E=v[0],I=v[1],S=Object(n.useState)(!1),O=Object(u.a)(S,2),x=O[0],N=O[1],j=Object(n.useState)(!1),w=Object(u.a)(j,2),D=w[0],T=w[1],k=Object(n.useState)([]),C=Object(u.a)(k,2),L=C[0],A=C[1],J=Object(n.useState)([]),R=Object(u.a)(J,2),M=R[0],P=R[1],W=Object(n.useState)([]),H=Object(u.a)(W,2),z=H[0],U=H[1],B=Object(n.useState)(""),F=Object(u.a)(B,2),G=(F[0],F[1],Object(n.useState)([])),_=Object(u.a)(G,2),V=_[0],Y=_[1],Z=Object(n.useState)([]),Q=Object(u.a)(Z,2),X=Q[0],K=Q[1],$=Object(n.useState)([]),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)([]),re=Object(u.a)(ne,2),se=re[0],ce=re[1],oe=Object(n.useState)("student"==c?"course":"list"),le=Object(u.a)(oe,2),ie=le[0],ue=le[1],de=Object(n.useRef)(null),me=Object(n.useRef)(null),fe=Object(n.useRef)(null),pe=Object(n.useRef)(null),he=Object(n.useRef)(null),be=Object(n.useRef)(null),ge=Object(n.useRef)(null);Object(n.useEffect)((function(){e.userIdentity;"function"===typeof s&&s([{ref:de.current,name:"\u5b66\u60c5\u6392\u884c"},{ref:me.current,name:"\u8bfe\u5802\u8868\u73b0"},{ref:fe.current,name:"\u65e5\u5e38\u4f5c\u4e1a"},{ref:pe.current,name:"\u8bfe\u5916\u81ea\u5b66"},{ref:he.current,name:"\u8003\u8bd5\u6210\u7ee9"},{ref:be.current,name:"\u6210\u7ee9\u603b\u8bc4"},{ref:ge.current,name:"\u5b66\u60c5\u8f68\u8ff9"}])}),[]),Object(n.useLayoutEffect)((function(){if(("student"!=c||d&&o&&l)&&("teacher"!=c||o)){var e=a.value&&JSON.parse(a.value),t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";t.forEach((function(e){e.classId==o&&(n=e.gradeId)}));var r=nr+"/api/learning2/path?type="+("student"==c?1:"teacher"==c?2:l?3:4)+"&studentId="+("student"==c?d:"")+"&classId="+o+"&gradeId="+("teacher"!=c||l?l:n)+"&schoolId="+m+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&A(e.data)}))}}),[l,o,c,a,d,f]),Object(n.useLayoutEffect)((function(){if("teacher"==c&&o){var e=nr+"/api/base/getStudentInfo?schoolId="+m+"&gradeId="+l+"&classId="+o;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(P(e.data),U(e.data))}))}}),[c,d,o,l,a,f]),Object(n.useLayoutEffect)((function(){if("student"==c&&("student"!=c||d&&o&&l)){var e=a&&a.value&&JSON.parse(a.value),t=nr+"/api/learning2/exam/scoreRank?type=1&studentId="+d+"&classId="+o+"&gradeId="+l+"&schoolId="+m+"&termId="+e.termId+"&examType=3&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&Y(e.data)})),t=nr+"/api/learning2/performance/subject?type=1&studentId="+d+"&classId="+o+"&gradeId="+l+"&schoolId="+m+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&ce(e.data)})),t=nr+"/api/learning2/homework/details?type=1&studentId="+d+"&classId="+o+"&gradeId="+l+"&schoolId="+m+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&K(e.data)})),t=nr+"/api/learning2/selfStudy/detail?type=1&studentId="+d+"&classId="+o+"&gradeId="+l+"&schoolId="+m+"&termId="+e.termId+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&e.data){var t=[];Array.isArray(e.data.selfStudyDaysList)&&e.data.selfStudyDaysList.forEach((function(e){var a={date:e.date};e.selfStudySubjectList.forEach((function(e){a.subjectName=e.subjectName,a.useTime=e.useTime})),t.push(a)})),ae(t)}}))}}),[a,o,l,c,d,f]);var ve=function(e,t){var n=a&&a.value&&JSON.parse(a.value),r=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],s="";if(r.forEach((function(e){e.classId==o&&(s=e.gradeId)})),console.log(e),"course"==t){var c=nr+"/api/learning2/performance/subject?type=1&studentId="+e.userId+"&classId="+o+"&gradeId="+s+"&schoolId="+m+"&termId="+n.termId+"&start="+n.startDate.substr(0,10)+"&end="+n.endDate.substr(0,10);Qt.get({url:c,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(ce(e.data),ue("detail"))}))}if("work"==t){var l=nr+"/api/learning2/homework/details?type=1&studentId="+e.userId+"&classId="+o+"&gradeId="+s+"&schoolId="+m+"&termId="+n.termId+"&start="+n.startDate.substr(0,10)+"&end="+n.endDate.substr(0,10);Qt.get({url:l,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(K(e.data),ue("detail"))}))}if("study"==t){var i=nr+"/api/learning2/selfStudy/detail?type=1&studentId="+e.userId+"&classId="+o+"&gradeId="+s+"&schoolId="+m+"&termId="+n.termId+"&start="+n.startDate.substr(0,10)+"&end="+n.endDate.substr(0,10);Qt.get({url:i,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&e.data){var t=[];Array.isArray(e.data.selfStudyDaysList)&&e.data.selfStudyDaysList.forEach((function(e){var a={date:e.date};e.selfStudySubjectList.forEach((function(e){a.subjectName=e.subjectName,a.useTime=e.useTime})),t.push(a)})),ae(t),ue("detail")}}))}if("exam"==t){var u=nr+"/api/learning2/exam/scoreRank?type=1&studentId="+e.userId+"&classId="+o+"&gradeId="+s+"&schoolId="+m+"&termId="+n.termId+"&examType=3&start="+n.startDate.substr(0,10)+"&end="+n.endDate.substr(0,10);Qt.get({url:u,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(Y(e.data),ue("detail"))}))}};return r.a.createElement("div",{className:"stu-condition",id:"stuConditionMsg"},"manager"!=c||o||l?o&&"student"!=c?r.a.createElement($a,{loading:!1,barName:"\u5b66\u60c5\u6392\u884c",ref:de},r.a.createElement(jn,{userIdentity:c,currentTerm:a,currentGrade:l,currentClass:o,reflash:f})):"":r.a.createElement($a,{loading:!1,barName:"\u5b66\u60c5\u6392\u884c",ref:de},r.a.createElement(kn,{userIdentity:c,currentTerm:a,currentGrade:l,currentClass:o,reflash:f})),r.a.createElement($a,{barName:"\u8bfe\u5802\u8868\u73b0",ref:me,topContext:"manager"!=c&&r.a.createElement("div",{className:"module-link-group"},r.a.createElement("span",{className:"status",onClick:function(){return g(!0)}},"\u67e5\u770b\u8bfe\u5802\u8be6\u60c5\u4fe1\u606f")),loading:!1},r.a.createElement(Mn,{userIdentity:c,currentTerm:a,currentGrade:l,currentClass:o,reflash:f})),r.a.createElement($a,{loading:!1,barName:"\u65e5\u5e38\u4f5c\u4e1a",ref:fe,topContext:"manager"!=c&&r.a.createElement("div",{className:"module-link-group"},r.a.createElement("span",{className:"status",onClick:function(){return I(!0)}},"\u67e5\u770b\u4f5c\u4e1a\u8be6\u60c5\u4fe1\u606f"))},r.a.createElement(Fn,{userIdentity:c,currentTerm:a,currentGrade:l,currentClass:o,reflash:f})),r.a.createElement($a,{loading:!1,barName:"\u8bfe\u5916\u81ea\u5b66",ref:pe,topContext:"manager"!=c&&r.a.createElement("div",{className:"module-link-group"},r.a.createElement("span",{className:"status",onClick:function(){return N(!0)}},"\u67e5\u770b\u81ea\u5b66\u8be6\u60c5\u4fe1\u606f"))},r.a.createElement(Yn,{userIdentity:c,currentTerm:a,currentGrade:l,currentClass:o,reflash:f})),r.a.createElement($a,{loading:!1,barName:"\u8003\u8bd5\u6210\u7ee9",ref:he,topContext:"manager"!=c&&r.a.createElement("div",{className:"module-link-group"},r.a.createElement("span",{className:"status",onClick:function(){return T(!0)}},"\u67e5\u770b\u8003\u8bd5\u8be6\u60c5\u4fe1\u606f"))},r.a.createElement(ar,{userIdentity:c,currentTerm:a,currentGrade:l,currentClass:o,reflash:f})),r.a.createElement($a,{loading:!1,barName:"\u6210\u7ee9\u603b\u8bc4",ref:be},r.a.createElement(Kn,{userIdentity:c,currentTerm:a,currentGrade:l,currentClass:o,reflash:f})),r.a.createElement($a,{loading:!1,barName:"\u5b66\u60c5\u8f68\u8ff9",ref:ge},r.a.createElement(hn,{type:"stuConditionMsg",userIdentity:c,data:L})),r.a.createElement(De,{type:"1",title:"\u8bfe\u5802\u8868\u73b0\u8be6\u60c5",visible:b,onOk:function(){return g(!0)},onCancel:function(){"student"!=c&&ue("list"),g(!1)},footer:null,width:1e3,className:"height-weight-modal",bodyStyle:{height:"632px",padding:20}},"list"==ie?r.a.createElement("div",null,r.a.createElement("p",{className:"stu-count"},"\u5171",r.a.createElement("span",null,M.length),"\u4eba"),r.a.createElement("ul",{className:"member-list"},r.a.createElement(q.Scrollbars,{autoHeight:!0,autoHeightMax:550},z.length>0?z.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return ve(e,"course")}},r.a.createElement("i",{className:"user-header",style:{backgroundImage:e.photoPath?e.photoPath:""}}),r.a.createElement("p",{title:e.userName},e.userName))})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"150px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))):r.a.createElement("div",null,"student"!=c?r.a.createElement("span",{className:"reback-prev",onClick:function(){return ue("list")}},"\u8fd4\u56de\u5b66\u751f\u5217\u8868"):"",r.a.createElement(Ka,{style:{marginTop:20},tableHeader:[{key:"date",name:"\u65e5\u671f"},{key:"subjectName",name:"\u5b66\u79d1\u540d\u79f0"},{key:"score",name:"\u8bfe\u5802\u8868\u73b0\u5206\u6570"}],data:se}))),r.a.createElement(De,{type:"1",title:"\u4f5c\u4e1a\u8be6\u60c5",visible:E,onOk:function(){return I(!0)},onCancel:function(){"student"!=c&&ue("list"),I(!1)},footer:null,width:1e3,className:"height-weight-modal",bodyStyle:{height:"632px",padding:20}},"list"==ie?r.a.createElement("div",null,r.a.createElement("p",{className:"stu-count"},"\u5171",r.a.createElement("span",null,M.length),"\u4eba"),r.a.createElement("ul",{className:"member-list"},r.a.createElement(q.Scrollbars,{autoHeight:!0,autoHeightMax:550},z.length>0?z.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return ve(e,"work")}},r.a.createElement("i",{className:"user-header",style:{backgroundImage:e.photoPath?e.photoPath:""}}),r.a.createElement("p",{title:e.userName},e.userName))})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"150px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))):r.a.createElement("div",null,"student"!=c?r.a.createElement("span",{className:"reback-prev",onClick:function(){return ue("list")}},"\u8fd4\u56de\u5b66\u751f\u5217\u8868"):"",r.a.createElement(Ka,{style:{marginTop:20},tableHeader:[{key:"homeworkName",name:"\u4f5c\u4e1a\u540d\u79f0"},{key:"subject",name:"\u4f5c\u4e1a\u6240\u5c5e\u5b66\u79d1"},{key:"score",name:"\u5206\u6570"},{key:"startDate",name:"\u53d1\u5e03\u65e5\u671f"},{key:"endDate",name:"\u5b8c\u6210\u65e5\u671f"}],data:X}))),r.a.createElement(De,{type:"1",title:"\u81ea\u5b66\u8be6\u60c5",visible:x,onOk:function(){return N(!0)},onCancel:function(){"student"!=c&&ue("list"),N(!1)},footer:null,width:1e3,className:"height-weight-modal",bodyStyle:{height:"632px",padding:20}},"list"==ie?r.a.createElement("div",null,r.a.createElement("p",{className:"stu-count"},"\u5171",r.a.createElement("span",null,M.length),"\u4eba"),r.a.createElement("ul",{className:"member-list"},r.a.createElement(q.Scrollbars,{autoHeight:!0,autoHeightMax:550},z.length>0?z.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return ve(e,"study")}},r.a.createElement("i",{className:"user-header",style:{backgroundImage:e.photoPath?e.photoPath:""}}),r.a.createElement("p",{title:e.userName},e.userName))})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"150px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))):r.a.createElement("div",null,"student"!=c?r.a.createElement("span",{className:"reback-prev",onClick:function(){return ue("list")}},"\u8fd4\u56de\u5b66\u751f\u5217\u8868"):"",r.a.createElement(Ka,{style:{marginTop:20},tableHeader:[{key:"date",name:"\u65f6\u95f4"},{key:"subjectName",name:"\u5b66\u79d1\u540d\u79f0"},{key:"useTime",name:"\u5b66\u79d1\u81ea\u5b66\u65f6\u957f"}],data:te}))),r.a.createElement(De,{type:"1",title:"\u8003\u8bd5\u8be6\u60c5",visible:D,onOk:function(){return T(!0)},onCancel:function(){"student"!=c&&ue("list"),T(!1)},footer:null,width:1e3,className:"height-weight-modal",bodyStyle:{height:"632px",padding:20}},"list"==ie?r.a.createElement("div",null,r.a.createElement("p",{className:"stu-count"},"\u5171",r.a.createElement("span",null,M.length),"\u4eba"),r.a.createElement("ul",{className:"member-list"},r.a.createElement(q.Scrollbars,{autoHeight:!0,autoHeightMax:550},z.length>0?z.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return ve(e,"exam")}},r.a.createElement("i",{className:"user-header",style:{backgroundImage:e.photoPath?e.photoPath:""}}),r.a.createElement("p",{title:e.userName},e.userName))})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"150px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))):r.a.createElement("div",null,"student"!=c?r.a.createElement("span",{className:"reback-prev",onClick:function(){return ue("list")}},"\u8fd4\u56de\u5b66\u751f\u5217\u8868"):"",r.a.createElement(Ka,{style:{marginTop:20},tableHeader:[{key:"subject",name:"\u8003\u8bd5\u5b66\u79d1"},{key:"examName",name:"\u8003\u8bd5\u540d\u79f0"},{key:"score",name:"\u5206\u6570"},{key:"maxScore",name:"\u6700\u9ad8\u5206"},{key:"classRank",name:"\u73ed\u7ea7\u6392\u540d"},{key:"gradeRank",name:"\u5e74\u7ea7\u6392\u540d"}],data:V}))))}var sr=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},cr=Object(d.connect)(sr)(Object(n.memo)(Object(n.forwardRef)(rr))),or=(a(375),Tt.BasicProxy);function lr(e){var t=e.currentTerm,a=e.userIdentity,s=e.currentClass,c=e.currentGrade,o=e.userInfo,l=o.SchoolID,i=o.UserID,d=e.reflash,m=Object(n.useState)(1),f=Object(u.a)(m,2),p=f[0],h=f[1],b=Object(n.useState)([]),g=Object(u.a)(b,2),y=g[0],v=g[1],E=Object(n.useState)([]),I=Object(u.a)(E,2),S=I[0],O=I[1],x=Object(n.useState)(!0),N=Object(u.a)(x,2),j=N[0],w=N[1];Object(n.useLayoutEffect)((function(){if(("student"!=a||i&&s&&c)&&("teacher"!=a||s)){w(!0);var e=t.value?JSON.parse(t.value):{},n=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[];n.forEach((function(e){e.classId==s&&e.gradeId}));var r=or+"/api/attendance/attendance/details?studentId="+("student"==a?i:"")+"&classId="+("teacher"==a||"manager"==a&&s?s:"")+"&gradeId="+("manager"!=a||s?"":c)+"&schoolId="+(s||c?"":l)+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&v(e.data)})),r=or+"/api/attendance/attendance/times?type=4&studentId="+("student"==a?i:"")+"&classId="+s+"&gradeId="+c+"&schoolId="+l+"&statisticalType=1&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&O(e.data),w(!1)}))}}),[a,c,s,t,d]);var D=[{title:"\u5e8f\u53f7",key:"index",dataIndex:"index",width:128,ellipsis:!0},{title:"teacher"==a?"\u59d3\u540d":"\u73ed\u7ea7",key:"teacher"==a?"studentName":"className",dataIndex:"teacher"==a?"studentName":"className",width:309,ellipsis:!0},{title:"\u8fdf\u5230\u6b21\u6570",key:"askleave",dataIndex:"askleave",width:176,ellipsis:!0},{title:"\u65e9\u9000\u6b21\u6570",key:"out",dataIndex:"out",width:176,ellipsis:!0},{title:"\u7f3a\u52e4\u6b21\u6570",key:"absence",dataIndex:"absence",width:176,ellipsis:!0},{title:"\u665a\u5f52\u6b21\u6570",key:"lateback",dataIndex:"lateback",width:176,ellipsis:!0}],T=y.length,k=T>8&&{total:T,showQuickJumper:!1,showSizeChanger:!1,current:p,position:["bottomCenter"],pageSize:8,onChange:function(e){return h(e)}};return r.a.createElement("div",{className:"all-attendance-status"},r.a.createElement(be,{opacity:!1,tip:"\u52a0\u8f7d\u4e2d...",spinning:j},"manager"==a?r.a.createElement("div",{className:"attendance-status-top"},r.a.createElement("div",{className:"progress-container"},r.a.createElement(Wn.a,{type:"circle",percent:parseInt(100*Number(S.avgAttendanceRate)),format:function(e){return e},width:92,className:"progress attendance-rate",strokeColor:"#9780F8"}),r.a.createElement("p",null,"\u5168\u6821\u51fa\u52e4\u7387")),r.a.createElement("div",{className:"progress-container"},r.a.createElement(Wn.a,{type:"circle",percent:S.vacateTimes,format:function(e){return e},width:92,className:"progress askleave-rate",strokeColor:"#FFAF54"}),r.a.createElement("p",null,"\u8bf7\u5047\u4eba\u6570")),r.a.createElement("div",{className:"progress-container"},r.a.createElement(Wn.a,{type:"circle",percent:S.lateTimes,format:function(e){return e},width:92,className:"progress late-rate",strokeColor:"#FD8276"}),r.a.createElement("p",null,"\u8fdf\u5230\u4eba\u6570"))):"","manager"!=a||c||s?r.a.createElement(ie.a,{dataSource:y,columns:D,rowClassName:"rows",pagination:k,className:"attendance-table "+(T>8?"table-min":"")}):""))}var ir=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},ur=Object(d.connect)(ir)(Object(n.memo)(Object(n.forwardRef)(lr))),dr=Tt.BasicProxy,mr=ne.a.Option;function fr(e){var t=e.currentTerm,a=e.userIdentity,s=e.currentClass,c=e.currentGrade,o=e.userInfo,l=o.SchoolID,i=o.UserID,d=e.reflash,m=Object(n.useState)("1"),f=Object(u.a)(m,2),p=f[0],h=f[1],b=Object(n.useState)({}),g=Object(u.a)(b,2),y=(g[0],g[1],Object(n.useState)({})),v=Object(u.a)(y,2),E=v[0],I=v[1],S=Object(n.useState)({}),O=Object(u.a)(S,2),x=O[0],N=O[1],j=Object(n.useState)({}),w=Object(u.a)(j,2),D=w[0],T=w[1],k=Object(n.useState)(!0),C=Object(u.a)(k,2),L=C[0],A=C[1];new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#F79750"},{offset:1,color:"#FFB681"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#2D3149"},{offset:1,color:"#363D71"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#E84956"},{offset:1,color:"#E9707A"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#6E54CC"},{offset:1,color:"#7E90E9"}]);return Object(n.useLayoutEffect)((function(){if(("manager"!=a||s||c)&&("student"!=a||i&&s&&c)&&("teacher"!=a||s)){var e=t.value?JSON.parse(t.value):{},n=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],r="";n.forEach((function(e){e.classId==s&&(r=e.gradeId)}));var o=dr+"/api/attendance/attendance/times?type=2&studentId="+("student"==a?i:"")+"&classId="+s+"&gradeId="+("teacher"!=a||c?c:r)+"&schoolId="+l+"&statisticalType="+p+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:o,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&N(e.data)})),o=dr+"/api/attendance/attendance/times?type=3&studentId="+("student"==a?i:"")+"&classId="+s+"&gradeId="+("teacher"!=a||c?c:r)+"&schoolId="+l+"&statisticalType="+p+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10),Qt.get({url:o,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&T(e.data)}))}}),[a,c,s,t,p,d]),Object(n.useLayoutEffect)((function(){if(("student"!=a||i&&s&&c)&&("teacher"!=a||s)){A(!0);var e=t.value?JSON.parse(t.value):{},n=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],r="";n.forEach((function(e){e.classId==s&&(r=e.gradeId)}));var o=dr+"/api/attendance/attendance/times?type="+("student"==a?1:"teacher"==a||s?2:c?3:4)+"&studentId="+("student"==a?i:"")+"&classId="+s+"&gradeId="+("teacher"!=a||c?c:r)+"&schoolId="+l+"&statisticalType="+p+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:o,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&I(e.data),A(!1)}))}}),[a,c,s,t,p,d]),Object(n.useEffect)((function(){if(E.absentRateDetailList&&0!=E.absentRateDetailList.length){var e=nn.b(document.getElementById("attendance-rate-echart"));e.resize();var t=[],n=[];if("manager"!=a||s||c)if("student"==a){var r=[],o=[],l=[];E.absentRateDetailList&&E.absentRateDetailList.forEach((function(e){n.push(e.times),r.push(e.absentRate)})),x.absentRateDetailList&&x.absentRateDetailList.forEach((function(e){o.push(e.absentRate)})),D.absentRateDetailList&&D.absentRateDetailList.forEach((function(e){l.push(e.absentRate)})),t=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:r},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:o},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:l}]}else if("teacher"==a||s){var i=[],u=[],d=[];E.absentRateDetailList&&E.absentRateDetailList.forEach((function(e){n.push(e.times),i.push(e.absentRate)})),x.absentRateDetailList&&x.absentRateDetailList.forEach((function(e){u.push(e.absentRate)})),D.absentRateDetailList&&D.absentRateDetailList.forEach((function(e){d.push(e.absentRate)})),t=[{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:u},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:d}]}else{var m=[],f=[],h=[];E.absentRateDetailList&&E.absentRateDetailList.forEach((function(e){n.push(e.times),m.push(e.absentRate)})),x.absentRateDetailList&&x.absentRateDetailList.forEach((function(e){f.push(e.absentRate)})),D.absentRateDetailList&&D.absentRateDetailList.forEach((function(e){h.push(e.absentRate)})),t=[{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:m}]}else{var b=[];E.absentRateDetailList&&E.absentRateDetailList.forEach((function(e){n.push(e.times),b.push(e.absentRate)})),t=[{name:"\u5168\u6821",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:b}]}var g={title:{text:"\u5404"+("teacher"==a?"\u5b66\u79d1":"\u5e74\u7ea7")+("attendance"==p?"\u51fa\u52e4":"\u7f3a\u52e4")+"\u7387\u5bf9\u6bd4",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:n.length>8?55:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,'\u7f3a\u52e4\u7387:</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"%</span><br/>")})),t}},legend:{top:"50px",left:"center",textStyle:{color:"#999999"}},dataZoom:{show:n.length>8,maxValueSpan:7,height:2,showDetail:!1,moveHandSize:6,bottom:10},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999"},data:n,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u767e\u5206\u6bd4",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},min:0,max:100,splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:t};e.setOption(g,!0),window.addEventListener("resize",(function(){e.resize()}))}}),[a,E,p]),r.a.createElement("div",{className:"course-attendance"},r.a.createElement("div",{className:"course-attendance-top"},r.a.createElement("div",{className:"attendance-rate-container"},r.a.createElement("div",{className:"attendance-rate"},r.a.createElement(Wn.a,{type:"circle",percent:E.avgAttendanceRateResult?parseInt(E.avgAttendanceRateResult):"--",width:92,format:function(e){return e},className:"progress",strokeColor:"#49aaea"}),r.a.createElement("p",null,"\u51fa\u52e4\u7387"))),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"attendance-status"},r.a.createElement("div",{className:"askleave-count"},r.a.createElement("p",{className:"count-num blue"},"number"==typeof E.vacateTimes?E.vacateTimes:"--"),r.a.createElement("p",null,"\u8bf7\u5047\u6b21\u6570")),r.a.createElement("div",{className:"askleave-count"},r.a.createElement("p",{className:"count-num red"},"number"==typeof E.lateTimes?E.lateTimes:"--"),r.a.createElement("p",null,"\u8fdf\u5230\u6b21\u6570")),r.a.createElement("div",{className:"askleave-count"},r.a.createElement("p",{className:"count-num green"},"number"==typeof E.leaveEarlyTimes?E.leaveEarlyTimes:"--"),r.a.createElement("p",null,"\u65e9\u9000\u6b21\u6570")),r.a.createElement("div",{className:"askleave-count"},r.a.createElement("p",{className:"count-num violet"},"number"==typeof E.absentTimes?E.absentTimes:"--"),r.a.createElement("p",null,"\u7f3a\u52e4\u6b21\u6570")))),r.a.createElement("div",{className:"select-container"},r.a.createElement("span",null,"\u65f6\u95f4:"),r.a.createElement(ne.a,{value:p,className:"select",onChange:function(e){return h(e)}},r.a.createElement(mr,{value:"1"},"\u6309\u5929\u6570"),r.a.createElement(mr,{value:"2"},"\u6309\u5468\u6b21"),r.a.createElement(mr,{value:"3"},"\u6309\u6708\u4efd"))),r.a.createElement(be,{opacity:!1,tip:"\u52a0\u8f7d\u4e2d...",spinning:L},E&&Array.isArray(E.absentRateDetailList)&&E.absentRateDetailList.length>0?r.a.createElement("div",{className:"attendance-rate-echart",id:"attendance-rate-echart"}):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))}var pr=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},hr=Object(d.connect)(pr)(Object(n.memo)(Object(n.forwardRef)(fr)));a(376),a(1643);function br(e,t){var a=e.className,s=e.publish,c=(e.children,e.draft),o=e.search,l=(e.tableProps,Object(Y.a)(e,["className","publish","children","draft","search","tableProps"])),i=Object(n.useState)(""),d=Object(u.a)(i,2),m=d[0],f=d[1],p=Object(n.useState)(!1),h=Object(u.a)(p,2),b=h[0],g=h[1],y=Object(n.useRef)({});return Object(n.useEffect)((function(){void 0!==o.value&&f(o.value)}),[o]),Object(n.useImperativeHandle)(t,(function(){return{reloadDraft:function(){y.current.reloadList()}}})),r.a.createElement("div",Object.assign({className:"home-top ".concat(a||"")},l),s?r.a.createElement("span",{className:"lg-btn  btn-publish",onClick:function(e){"function"===typeof s.onClick&&s.onClick()}},s.title?s.title:"\u53d1\u5e03\u8ba1\u5212"):"",c?r.a.createElement(de.a,{getPopupContainer:function(e){return e.parentNode},placement:"bottomRight",color:"#fff",overlayClassName:"draft-box",trigger:"click",onVisibleChange:function(e){g(e)},title:r.a.createElement("div",{style:{width:"984px",minHeight:"400px"}},r.a.createElement(Qa,{style:{minWidth:"884px"},className:"Reacruit-table",columns:c.columns,prepare:!!c.query.selectLevel,query:c.query,onDataChange:function(e){},ref:y,api:c.api,pageProps:{showSizeChanger:!1}}))},r.a.createElement("span",{className:"lg-btn  btn-draft",onClick:function(e){b||y.current.reloadList&&y.current.reloadList(),"function"===typeof c.onClick&&s.onClick()}},c.title?c.title:"\u8349\u7a3f\u7bb1",c.count||0===c.count?r.a.createElement(r.a.Fragment,null,"[",c.count,"]"):"")):"",o?r.a.createElement(ge,{placeHolder:"\u8f93\u5165\u5173\u952e\u8bcd\u641c\u7d22...",className:"home-search",Value:m,onChange:function(e){f(e.target.value)},onClickSearch:function(e){"function"===typeof o.onSearch&&o.onSearch(m)},onCancelSearch:function(e){f(""),"function"===typeof o.onSearch&&o.onSearch("")}}):"")}var gr=Object(n.memo)(Object(n.forwardRef)(br)),yr=Object(n.createContext)(),vr={keyword:"",compoent:"1"},Er=function(e,t){switch(t.type){case"SET_KEY_WORD":return Object.assign({},e,{keyword:t.data});default:return e}},Ir=Tt.BasicProxy;function Sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageIndex,a=e.pageSize,n=e.keyword,r=e.schoolID,s=e.collegeID,c=e.selectLevel,o=e.rStatus,l=Ir+"/Train/List?SchoolID=".concat(r||"","&TStatus=").concat(0===parseInt(o)?0:1,"&PageIndex=").concat(t||1,"&PageSize=").concat(a||10,"&Keyword=").concat(n||"","&CollegeID=").concat(s||"","&SelectLevel=").concat(c||"");return Qt.get({url:l,securityLevel:2}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode?{StatusCode:e.StatusCode,data:Object(m.a)(Object(m.a)({},e.Data),{},{List:e.Data.List instanceof Array?e.Data.List.map((function(t,a){var n=10*(e.Data.PageIndex-1)+a+1;return n=n>=10?n:"0"+n,Object(m.a)(Object(m.a)({},t),{},{key:a,index:n,title:t.Title,source:t.Issue,publisher:t.CreatorName,time:t.ReleaseTime})})):[],PageSize:a})}:{StatusCode:e.StatusCode}}))}function Or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageIndex,a=e.pageSize,n=e.keyword,r=e.schoolID,s=e.collegeID,c=e.selectLevel,o=e.rStatus,l=Ir+"/Train/Teacher/List?SchoolID=".concat(r||"","&TStatus=").concat(0===parseInt(o)?0:1,"&PageIndex=").concat(t||1,"&PageSize=").concat(a||10,"&Keyword=").concat(n||"","&CollegeID=").concat(s||"","&SelectLevel=").concat(c||"");return Qt.get({url:l,securityLevel:2}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode?{StatusCode:e.StatusCode,data:Object(m.a)(Object(m.a)({},e.Data),{},{List:e.Data.List instanceof Array?e.Data.List.map((function(t,a){var n=10*(e.Data.PageIndex-1)+a+1;return n=n>=10?n:"0"+n,Object(m.a)(Object(m.a)({},t),{},{key:a,index:n,title:t.Title,source:t.Issue,publisher:t.CreatorName,time:t.ReleaseTime})})):[],PageSize:a})}:{StatusCode:e.StatusCode}}))}function xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,a=Ir+"/Train/Detail?TID=".concat(t);return Qt.get({url:a,securityLevel:2,advance:!1}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode?{StatusCode:e.StatusCode,ErrCode:e.ErrCode,data:Object(m.a)(Object(m.a)({},e.Data),{},{ID:e.Data.TID})}:{StatusCode:e.StatusCode,ErrCode:e.ErrCode}}))}function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.SchoolID,a=e.CollegeID,n=e.SelectLevel,r=e.TStatus,s=e.Title,c=e.Issue,o=e.ReleaseTime,l=e.Content,i=e.FileList,u=e.Limit,d=e.ApplyBeginTime,m=e.ApplyEndTime,f=e.ActivityFlag,p=e.ApplyFlag,h=Ir+"/Train/Add";return Qt.post({url:h,securityLevel:2,header:{"Content-Type":"application/json"},body:{SchoolID:t,CollegeID:a,SelectLevel:n,TStatus:r,Title:s,Issue:c,ReleaseTime:o,Content:l,FileList:i,Limit:u,ApplyBeginTime:d,ApplyEndTime:m,ActivityFlag:f,ApplyFlag:p}}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode?{result:!0}:{result:!1}}))}function jr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TStatus,a=e.Title,n=e.Issue,r=e.TID,s=e.Content,c=e.Limit,o=e.ApplyBeginTime,l=e.ApplyEndTime,i=e.ActivityFlag,u=e.ApplyFlag,d=e.FileList,m=Ir+"/Train/Edit";return Qt.post({url:m,securityLevel:2,header:{"Content-Type":"application/json"},body:{TStatus:t,Title:a,TID:r,Issue:n,Content:s,Limit:c,ApplyBeginTime:o,ApplyEndTime:l,ActivityFlag:i,ApplyFlag:u,FileList:d}}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode?{result:!0}:{result:!1}}))}function wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TIDs,a=Ir+"/Train/Delete";return Qt.post({url:a,securityLevel:2,body:{TIDs:t}}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode?{result:!0}:{result:!1}}))}function Dr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TID,a=e.Action,n=Ir+"/Train/Teacher/Apply";return Qt.post({url:n,securityLevel:2,body:{TID:t,Action:a}}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode?{result:!0}:{result:!1}}))}function Tr(e,t){var a=this,s=e.roleMsg,c=s.schoolID,o=s.collegeID,l=s.selectLevel,i=(e.activeTab,e.dispatch,Object(F.e)()),d=Object(F.f)(),m=Object(n.useContext)(yr),f=m.state.keyword,p=m.setDispatch,h=Object(n.useState)({keyword:f,schoolID:c,collegeID:o,selectLevel:l}),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useRef)({}),E=Object(n.useState)(0),I=Object(u.a)(E,2),S=I[0],O=I[1],x=Object(n.useRef)(!1),N=1040/1200,j=[{title:"\u5e8f\u53f7",dataIndex:"index",align:"center",width:88.4,textWrap:"word-break",render:function(e){return r.a.createElement("span",{className:"table-index",title:e},e)}},{title:"\u6807\u9898",width:404*N,render:function(e){var t=e.title,a=e.TID;return r.a.createElement("span",{onClick:function(){i.push("/trainDetail/"+a)},className:"table-title",title:t},t||"--")}},{title:"\u6765\u6e90",align:"center",width:128*N,dataIndex:"source",render:function(e){return r.a.createElement("span",{className:"table-source",title:e},e)}},{title:"\u62a5\u540d\u622a\u6b62\u65f6\u95f4",align:"center",width:172*N,render:function(e){var t=e.ApplyFlag,a=e.ApplyEndTime;return r.a.createElement("span",{className:"table-time",title:a},t&&a?a:"--")}},{title:"\u62a5\u540d\u4eba\u6570/\u9650\u989d",align:"center",width:78,render:function(e){var t=e.Limit,a=e.ApplyCount,n=e.ApplyFlag,s=(a||0)+"/"+(t||"--");return r.a.createElement("span",{className:"table-limit",title:s},n?s:"--")}},{title:"\u57f9\u8bad\u65b9\u5f0f",align:"center",width:78,dataIndex:"ActivityFlag",render:function(e){var t=[{value:1,title:"\u7ebf\u4e0a"},{value:0,title:"\u7ebf\u4e0b"}],a=t[parseInt(e)]?t[parseInt(e)].title:"--";return r.a.createElement("span",{className:"table-activity table-activity-".concat(e),title:a},a)}},{title:"\u64cd\u4f5c",align:"center",width:200*N,render:function(e){return r.a.createElement("span",{className:"table-handle"},r.a.createElement("span",{className:"table-btn btn-edit",onClick:function(){i.push("/editTrain/"+e.TID)}},"\u7f16\u8f91"),r.a.createElement("span",{className:"table-btn btn-delete",onClick:function(){Qe({title:"\u786e\u5b9a\u5220\u9664\u8be5\u57f9\u8bad\u8ba1\u5212?",type:"btn-warn",cancelShow:!0,onOk:function(){D({TIDs:e.TID},v.current.reloadList.bind(a,{},!1))}})}},"\u5220\u9664"))}}],w=[{title:"\u5e8f\u53f7",dataIndex:"index",align:"center",width:88.4,textWrap:"word-break",render:function(e){return r.a.createElement("span",{className:"table-index",title:e},e)}},{title:"\u6807\u9898",width:260,render:function(e){var t=e.title;e.TID;return r.a.createElement("span",{onClick:function(){},className:"table-title",title:t},t||"--")}},{title:"\u6700\u540e\u4e00\u6b21\u7f16\u8f91\u65f6\u95f4",align:"center",width:172*N,dataIndex:"UpdateTime",render:function(e){return r.a.createElement("span",{className:"table-time",title:e},e||"--")}},{title:"\u64cd\u4f5c",align:"center",width:200*N,render:function(e){return r.a.createElement("span",{className:"table-handle"},r.a.createElement("span",{className:"table-btn btn-edit",onClick:function(){i.push("/editTrain/"+e.TID)}},"\u7f16\u8f91"),r.a.createElement("span",{className:"table-btn btn-delete",onClick:function(){D({TIDs:e.TID},(function(){v.current.reloadList({},!1),k.current.reloadDraft()}))}},"\u5220\u9664"))}}],D=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};wr(e).then((function(e){e.result?t():a()}))}),[]);Object(n.useLayoutEffect)((function(){var e=d.pathname;x.current?"/teacherTrain"===e&&v.current.reloadList():x.current=!0}),[d]);var T=Object(n.useMemo)((function(){return{title:"\u8349\u7a3f\u7bb1",count:S,query:{selectLevel:l,schoolID:c,collegeID:o,rStatus:0},api:Sr,columns:w}}),[l,c,o,S]);Object(n.useImperativeHandle)(t,(function(){return{reloadList:v.current.reloadList}}));var k=Object(n.useRef)(null);return r.a.createElement("div",{className:"Reacruit-context Train-home"},r.a.createElement(gr,{ref:k,publish:{title:"\u53d1\u5e03\u57f9\u8bad\u8ba1\u5212",onClick:function(){i.push("/publishTrain")}},draft:T,search:{onSearch:function(e){p({type:"SET_KEY_WORD",data:e}),y({schoolID:c,collegeID:o,keyword:e,selectLevel:l})}}}),r.a.createElement(Qa,{className:"Reacruit-table",columns:j,prepare:!!g.selectLevel,query:g,onDataChange:function(e){O(e&&e.Draft?e.Draft:0)},ref:v,api:Sr}))}var kr=function(e){var t=e.handleData,a=t.teacherTrainMsg,n=t.activeTab;return{teacherTrainMsg:a,roleMsg:e.commonData.roleMsg,activeTab:n}},Cr=Object(d.connect)(kr,null,null,{forwardRef:!0})(Object(n.memo)(Object(n.forwardRef)(Tr))),Lr=Tt.BasicProxy,Ar=ne.a.Option;function Jr(e){var t=e.currentTerm,a=e.userIdentity,s=e.currentClass,c=e.currentGrade,o=e.userInfo,l=o.SchoolID,i=o.UserID,d=e.reflash,m=Object(n.useState)(!0),f=Object(u.a)(m,2),p=f[0],h=f[1],b=Object(n.useState)({}),g=Object(u.a)(b,2),y=g[0],v=g[1],E=Object(n.useState)({}),I=Object(u.a)(E,2),S=I[0],O=I[1],x=Object(n.useState)("\u4e0a\u5348"),N=Object(u.a)(x,2),j=N[0],w=N[1],D=Object(n.useState)({}),T=Object(u.a)(D,2),k=T[0],C=T[1],L=Object(n.useState)({}),A=Object(u.a)(L,2),J=A[0],R=A[1],M=[new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#F79750"},{offset:1,color:"#FFB681"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#2D3149"},{offset:1,color:"#363D71"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#E84956"},{offset:1,color:"#E9707A"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#6E54CC"},{offset:1,color:"#7E90E9"}])];return Object(n.useLayoutEffect)((function(){if(("manager"!=a||s||c)&&(c||s)){var e=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";s&&e.forEach((function(e){e.classId==s&&(n=e.gradeId)}));var r=t.value?JSON.parse(t.value):{},o=Lr+"/api/attendance/dormitory?type=3&studentId=&classId=&gradeId="+(c||n)+"&schoolId="+l+"&start="+(r.startDate?r.startDate.substr(0,10):"")+"&end="+(r.endDate?r.endDate.substr(0,10):"");Qt.get({url:o,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&C(e.data)}))}}),[a,c,s,t,d]),Object(n.useLayoutEffect)((function(){if(("manager"!=a||s||c)&&"student"==a){var e=t.value?JSON.parse(t.value):{},n=Lr+"/api/attendance/dormitory?type=2&studentId=&classId="+s+"&gradeId="+c+"&schoolId="+l+"&start="+(e.startDate?e.startDate.substr(0,10):"")+"&end="+(e.endDate?e.endDate.substr(0,10):"");Qt.get({url:n,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&R(e.data)}))}}),[a,c,s,t,d]),Object(n.useLayoutEffect)((function(){if(("student"!=a||i&&s&&c)&&("teacher"!=a||s)){h(!0);var e=t.value?JSON.parse(t.value):{},n=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],r="";n.forEach((function(e){e.classId==s&&(r=e.gradeId)}));var o=Lr+"/api/attendance/dormitory?type="+("student"==a?1:"teacher"==a||s?2:c?3:4)+"&studentId="+("student"==a?i:"")+"&classId="+s+"&gradeId="+("teacher"!=a||c?c:r)+"&schoolId="+l+"&start="+(e.startDate?e.startDate.substr(0,10):"")+"&end="+(e.endDate?e.endDate.substr(0,10):"");Qt.get({url:o,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&v(e.data),h(!1)}))}}),[a,c,s,t,d]),Object(n.useLayoutEffect)((function(){if("manager"==a&&!s&&!c){h(!0);var e=t.value?JSON.parse(t.value):{},n=Lr+"/api/attendance/dormitory/batch?type=3&schoolId="+l+"&start="+(e.startDate?e.startDate.substr(0,10):"")+"&end="+(e.endDate?e.endDate.substr(0,10):"");Qt.get({url:n,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&O(e.data),h(!1)}))}}),[a,c,s,t,d]),Object(n.useEffect)((function(){var e=nn.b(document.getElementById("out-time-echart"));e.resize();var t=[],n=[],r=[],o=[],l=[];"student"==a?(Array.isArray(y.attendanceGateDayList)&&y.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.outTime)})),r.push(t)})),Array.isArray(J.attendanceGateDayList)&&J.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.outTime)})),o.push(t)})),Array.isArray(k.attendanceGateDayList)&&k.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.outTime)})),l.push(t)})),t=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:n},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:o},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:l}]):s?(Array.isArray(y.attendanceGateDayList)&&y.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.outTime)})),r.push(t)})),Array.isArray(J.attendanceGateDayList)&&J.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.outTime)})),o.push(t)})),Array.isArray(k.attendanceGateDayList)&&k.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.outTime)})),l.push(t)})),t=[{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:r},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:l}]):c?(Array.isArray(y.attendanceGateDayList)&&y.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.outTime)})),r.push(t)})),Array.isArray(J.attendanceGateDayList)&&J.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.outTime)})),o.push(t)})),Array.isArray(k.attendanceGateDayList)&&k.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.outTime)})),l.push(t)})),t=[{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:r}]):Array.isArray(S)&&S.forEach((function(e,a){var r=[];e.attendanceDormitory&&Array.isArray(e.attendanceDormitory.attendanceGateDayList)&&e.attendanceDormitory.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&e.outTime&&(t=e.outTime)})),r.push(t)})),t.push({name:e.gradeName,type:"bar",itemStyle:{color:M[a%5]},data:r})}));var i={title:{text:"\u51fa\u5bdd\u65f6\u95f4",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:n.length>6?55:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6);",formatter:function(e){var t='<span style="color: #fffd64">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"</span><br/>")})),t}},legend:"manager"!=a||c||s?{top:"50px",right:"10%",textStyle:{color:"#999999"}}:{type:"scroll",width:"62%",top:"50px",left:"center",textStyle:{color:"#999999"}},dataZoom:{show:n.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:10},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999"},data:n,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u65f6\u95f4",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:function(e){var t=new Date(e);return t.getHours()+":"+t.getMinutes()}}},series:t};e.setOption(i,!0),window.addEventListener("resize",(function(){e.resize()}))}),[j,S,y]),Object(n.useEffect)((function(){var e=nn.b(document.getElementById("in-time-echart"));e.resize();var t=[],n=[],r=[],o=[],l=[];if("student"==a)Array.isArray(y.attendanceGateDayList)&&y.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.inTime)})),r.push(t)})),Array.isArray(J.attendanceGateDayList)&&J.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.inTime)})),o.push(t)})),Array.isArray(k.attendanceGateDayList)&&k.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.inTime)})),l.push(t)})),t=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:n},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:o},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:l}];else if(s)Array.isArray(y.attendanceGateDayList)&&y.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.inTime)})),r.push(t)})),Array.isArray(J.attendanceGateDayList)&&J.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.inTime)})),o.push(t)})),Array.isArray(k.attendanceGateDayList)&&k.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.inTime)})),l.push(t)})),t=[{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:r},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:l}];else if(!s&&c){if(Array.isArray(y.attendanceGateDayList)&&0==y.attendanceGateDayList.length)return;Array.isArray(y.attendanceGateDayList)&&y.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.inTime)})),r.push(t)})),Array.isArray(J.attendanceGateDayList)&&J.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.inTime)})),o.push(t)})),Array.isArray(k.attendanceGateDayList)&&k.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.inTime)})),l.push(t)})),t=[{type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:r}]}else Array.isArray(S)&&S.forEach((function(e,a){var r=[];e.attendanceDormitory&&Array.isArray(e.attendanceDormitory.attendanceGateDayList)&&e.attendanceDormitory.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&e.inTime&&(t=e.inTime)})),r.push(t)})),t.push({name:e.gradeName,type:"bar",itemStyle:{color:M[a%5]},data:r})}));var i={title:{text:"\u5f52\u5bdd\u65f6\u95f4",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:n.length>6?55:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6);",formatter:function(e){var t='<span style="color: #fffd64">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"</span><br/>")})),t}},legend:"manager"!=a||s||c?{top:"50px",right:"10%",textStyle:{color:"#999999"}}:{top:"50px",left:"center",type:"scroll",width:"62%",textStyle:{color:"#999999"}},dataZoom:{show:n.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:10},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999"},data:n,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u65f6\u95f4",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:function(e){var t=new Date(e);return t.getHours()+":"+t.getMinutes()}}},series:t};e.setOption(i,!0),window.addEventListener("resize",(function(){e.resize()}))}),[j,S,y]),r.a.createElement("div",{className:"home-attendance"},r.a.createElement(be,{opacity:!1,tip:"\u52a0\u8f7d\u4e2d...",spinning:p},r.a.createElement("div",{className:"home-attendance-top"},r.a.createElement("div",{className:"mornning-card"},r.a.createElement("div",{className:"card-title"},"\u4e0a\u5348"),r.a.createElement("div",{className:"time-container",style:{marginTop:"manager"==a?"20px":""}},r.a.createElement("div",{className:"pre-time"},r.a.createElement("p",{className:"time-num"},y.avgOutTime1?y.avgOutTime1:"--"),r.a.createElement("p",null,"\u51fa\u5bdd\u65f6\u95f4")),r.a.createElement("span",null,"-"),r.a.createElement("div",{className:"next-time"},r.a.createElement("p",{className:"time-num"},y.avgInTime1?y.avgInTime1:"--"),r.a.createElement("p",null,"\u5f52\u5bdd\u65f6\u95f4"))),"student"==a?r.a.createElement("div",{className:"class-time-avg"},r.a.createElement("p",null,r.a.createElement("span",null,"\u51fa\u5bdd:\xa0"),r.a.createElement("span",{className:"class-avg"},"\u73ed\u7ea7\u5e73\u5747:",J.avgOutTime1?J.avgOutTime1:"--"),r.a.createElement("span",{className:"grade-avg"},"\u5e74\u7ea7\u5e73\u5747:",k.avgOutTime1?k.avgOutTime1:"--")),r.a.createElement("p",null,r.a.createElement("span",null,"\u5f52\u5bdd:\xa0"),r.a.createElement("span",{className:"class-avg"},"\u73ed\u7ea7\u5e73\u5747:",J.avgInTime1?J.avgInTime1:"--"),r.a.createElement("span",{className:"grade-avg"},"\u5e74\u7ea7\u5e73\u5747:",k.avgInTime1?k.avgInTime1:"--"))):"teacher"==a?r.a.createElement("div",{className:"class-time-avg"},r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("span",null,"\u5e74\u7ea7\u5e73\u5747:\xa0"),r.a.createElement("span",{className:"grade-avg"},k.avgOutTime1?k.avgOutTime1:"--"),"-",r.a.createElement("span",null,k.avgInTime1?k.avgInTime1:"--"))):""),r.a.createElement("div",{className:"afternoon-card"},r.a.createElement("div",{className:"card-title"},"\u4e0b\u5348"),r.a.createElement("div",{className:"time-container",style:{marginTop:"manager"==a?"20px":""}},r.a.createElement("div",{className:"pre-time"},r.a.createElement("p",{className:"time-num"},y.avgOutTime2?y.avgOutTime2:"--"),r.a.createElement("p",null,"\u51fa\u5bdd\u65f6\u95f4")),r.a.createElement("span",null,"-"),r.a.createElement("div",{className:"next-time"},r.a.createElement("p",{className:"time-num"},y.avgInTime2?y.avgInTime2:"--"),r.a.createElement("p",null,"\u5f52\u5bdd\u65f6\u95f4"))),"student"==a?r.a.createElement("div",{className:"class-time-avg"},r.a.createElement("p",null,r.a.createElement("span",null,"\u51fa\u5bdd:\xa0"),r.a.createElement("span",{className:"class-avg"},"\u73ed\u7ea7\u5e73\u5747:",J.avgOutTime2?J.avgOutTime2:"--"),r.a.createElement("span",{className:"grade-avg"},"\u5e74\u7ea7\u5e73\u5747:",k.avgOutTime2?k.avgOutTime2:"--")),r.a.createElement("p",null,r.a.createElement("span",null,"\u5f52\u5bdd:\xa0"),r.a.createElement("span",{className:"class-avg"},"\u73ed\u7ea7\u5e73\u5747:",J.avgInTime2?J.avgInTime2:"--"),r.a.createElement("span",{className:"grade-avg"},"\u5e74\u7ea7\u5e73\u5747:",k.avgInTime2?k.avgInTime2:"--"))):"teacher"==a?r.a.createElement("div",{className:"class-time-avg"},r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("span",null,"\u5e74\u7ea7\u5e73\u5747:\xa0"),r.a.createElement("span",{className:"grade-avg"},k.avgOutTime2?k.avgOutTime2:"--"),"-",r.a.createElement("span",{className:"grade-avg"},k.avgInTime2?k.avgInTime2:"--"))):""),r.a.createElement("div",{className:"night-card"},r.a.createElement("div",{className:"card-title"},"\u665a\u4e0a"),r.a.createElement("div",{className:"time-container",style:{marginTop:"manager"==a?"20px":""}},r.a.createElement("div",{className:"pre-time"},r.a.createElement("p",{className:"time-num"},y.avgOutTime3?y.avgOutTime3:"--"),r.a.createElement("p",null,"\u51fa\u5bdd\u65f6\u95f4")),r.a.createElement("span",null,"-"),r.a.createElement("div",{className:"next-time"},r.a.createElement("p",{className:"time-num"},y.avgInTime3?y.avgInTime3:"--"),r.a.createElement("p",null,"\u5f52\u5bdd\u65f6\u95f4"))),"student"==a?r.a.createElement("div",{className:"class-time-avg"},r.a.createElement("p",null,r.a.createElement("span",null,"\u51fa\u5bdd:\xa0"),r.a.createElement("span",{className:"class-avg"},"\u73ed\u7ea7\u5e73\u5747:",J.avgOutTime3?J.avgOutTime3:"--"),r.a.createElement("span",{className:"grade-avg"},"\u5e74\u7ea7\u5e73\u5747:",k.avgOutTime3?k.avgOutTime3:"--")),r.a.createElement("p",null,r.a.createElement("span",null,"\u5f52\u5bdd:\xa0"),r.a.createElement("span",{className:"class-avg"},"\u73ed\u7ea7\u5e73\u5747:",J.avgInTime3?J.avgInTime3:"--"),r.a.createElement("span",{className:"grade-avg"},"\u5e74\u7ea7\u5e73\u5747:",k.avgInTime3?k.avgInTime3:"--"))):"teacher"==a?r.a.createElement("div",{className:"class-time-avg"},r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("span",null,"\u5e74\u7ea7\u5e73\u5747:\xa0"),r.a.createElement("span",{className:"grade-avg"},k.avgOutTime3?k.avgOutTime3:"--"),"-",r.a.createElement("span",{className:"grade-avg"},k.avgInTime3?k.avgInTime3:"--"))):""),r.a.createElement("div",{className:"deepnight-card"},r.a.createElement("div",{className:"card-title"},"\u6df1\u591c"),r.a.createElement("div",{className:"time-container",style:{marginTop:"manager"==a?"20px":""}},r.a.createElement("div",{className:"pre-time"},r.a.createElement("p",{className:"time-num"},y.lateTimes?y.lateTimes:"--"),r.a.createElement("p",null,"\u6b21\u6570"))),"student"==a?r.a.createElement("div",{className:"class-time-avg"},r.a.createElement("p",null,r.a.createElement("span",{className:"class-avg"},"\u73ed\u7ea7\u5e73\u5747:",J.lateTimes?J.lateTimes:"--"),r.a.createElement("span",{className:"grade-avg"},"\u5e74\u7ea7\u5e73\u5747:",k.lateTimes?k.lateTimes:"--"))):"teacher"==a?r.a.createElement("div",{className:"class-time-avg"},r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("span",{className:"grade-avg"},"\u5e74\u7ea7\u5e73\u5747:",k.lateTimes?k.lateTimes:"--"))):"")),r.a.createElement("div",{className:"select-container"},r.a.createElement("span",null,"\u8303\u56f4:"),r.a.createElement(ne.a,{defaultValue:"\u4e0a\u5348",className:"select",onChange:function(e){return w(e)}},r.a.createElement(Ar,{value:"\u4e0a\u5348"},"\u4e0a\u5348"),r.a.createElement(Ar,{value:"\u4e0b\u5348"},"\u4e0b\u5348"),r.a.createElement(Ar,{value:"\u665a\u4e0a"},"\u665a\u4e0a"))),r.a.createElement("div",{className:"home-attendance-bottom"},r.a.createElement("div",{className:"out-time-echart",id:"out-time-echart"}),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"in-time-echart",id:"in-time-echart"}))))}var Rr=function(e){var t=e.commonData;return{HasHistory:t.termInfo.HasHistory,userInfo:t.userInfo}},Mr=Object(d.connect)(Rr)(Object(n.memo)(Object(n.forwardRef)(Jr))),Pr=Tt.BasicProxy,Wr=ne.a.Option;function Hr(e){var t=e.currentTerm,a=e.userIdentity,s=e.currentClass,c=e.currentGrade,o=e.userInfo,l=o.SchoolID,i=o.UserID,d=e.reflash,m=Object(n.useState)(!0),f=Object(u.a)(m,2),p=f[0],h=f[1],b=Object(n.useState)({}),g=Object(u.a)(b,2),y=g[0],v=g[1],E=Object(n.useState)({}),I=Object(u.a)(E,2),S=I[0],O=I[1],x=Object(n.useState)("\u4e0a\u5348"),N=Object(u.a)(x,2),j=N[0],w=N[1],D=Object(n.useState)({}),T=Object(u.a)(D,2),k=T[0],C=T[1],L=Object(n.useState)({}),A=Object(u.a)(L,2),J=A[0],R=A[1],M=[new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#F79750"},{offset:1,color:"#FFB681"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#2D3149"},{offset:1,color:"#363D71"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#E84956"},{offset:1,color:"#E9707A"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#6E54CC"},{offset:1,color:"#7E90E9"}])];return Object(n.useLayoutEffect)((function(){if(("manager"!=a||s||c)&&(c||s)){var e=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";s&&e.forEach((function(e){e.classId==s&&(n=e.gradeId)}));var r=t.value?JSON.parse(t.value):{},o=Pr+"/api/attendance/gate?type=3&studentId=&classId=&gradeId="+(c||n)+"&schoolId="+l+"&start="+(r.startDate?r.startDate.substr(0,10):"")+"&end="+(r.endDate?r.endDate.substr(0,10):"");Qt.get({url:o,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&C(e.data)}))}}),[a,c,s,t,d]),Object(n.useLayoutEffect)((function(){if(("manager"!=a||s||c)&&"student"==a){var e=t.value?JSON.parse(t.value):{},n=Pr+"/api/attendance/gate?type=2&studentId=&classId="+s+"&gradeId="+c+"&schoolId="+l+"&start="+(e.startDate?e.startDate.substr(0,10):"")+"&end="+(e.endDate?e.endDate.substr(0,10):"");Qt.get({url:n,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&R(e.data)}))}}),[a,c,s,t,d]),Object(n.useLayoutEffect)((function(){if(("student"!=a||i&&s&&c)&&("teacher"!=a||s)){h(!0);var e=t.value?JSON.parse(t.value):{},n=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],r="";n.forEach((function(e){e.classId==s&&(r=e.gradeId)}));var o=Pr+"/api/attendance/gate?type="+("student"==a?1:"teacher"==a||s?2:c?3:4)+"&studentId="+("student"==a?i:"")+"&classId="+s+"&gradeId="+("teacher"!=a||c?c:r)+"&schoolId="+l+"&start="+(e.startDate?e.startDate.substr(0,10):"")+"&end="+(e.endDate?e.endDate.substr(0,10):"");Qt.get({url:o,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&v(e.data),h(!1)}))}}),[a,c,s,t,d]),Object(n.useLayoutEffect)((function(){if("manager"==a&&!s&&!c){h(!0);var e=t.value?JSON.parse(t.value):{},n=Pr+"/api/attendance/gate/batch?type=3&schoolId="+l+"&start="+(e.startDate?e.startDate.substr(0,10):"")+"&end="+(e.endDate?e.endDate.substr(0,10):"");Qt.get({url:n,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&O(e.data),h(!1)}))}}),[a,c,s,t,d]),Object(n.useEffect)((function(){var e=nn.b(document.getElementById("school-out-time-echart"));e.resize();var t=[],n=[],r=[],o=[],l=[];"student"==a?(Array.isArray(y.attendanceGateDayList)&&y.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&e.timeDetailName==j&&(t=e.outTime)})),r.push(t)})),Array.isArray(J.attendanceGateDayList)&&J.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&e.timeDetailName==j&&(t=e.outTime)})),o.push(t)})),Array.isArray(k.attendanceGateDayList)&&k.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&e.timeDetailName==j&&(t=e.outTime)})),l.push(t)})),t=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:n},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:o},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:l}]):s?(Array.isArray(y.attendanceGateDayList)&&y.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.outTime)})),r.push(t)})),Array.isArray(J.attendanceGateDayList)&&J.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.outTime)})),o.push(t)})),Array.isArray(k.attendanceGateDayList)&&k.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.outTime)})),l.push(t)})),t=[{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:r},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:l}]):c?(Array.isArray(y.attendanceGateDayList)&&y.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.outTime)})),r.push(t)})),Array.isArray(J.attendanceGateDayList)&&J.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.outTime)})),o.push(t)})),Array.isArray(k.attendanceGateDayList)&&k.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.outTime)})),l.push(t)})),t=[{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:r}]):Array.isArray(S)&&S.forEach((function(e,a){var r=[];e.attendanceGate&&Array.isArray(e.attendanceGate.attendanceGateDayList)&&e.attendanceGate.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&e.outTime&&(t=e.outTime)})),r.push(t)})),t.push({name:e.gradeName,type:"bar",itemStyle:{color:M[a%5]},data:r})}));var i={title:{text:"\u79bb\u6821\u65f6\u95f4",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:n.length>6?55:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6);",formatter:function(e){var t='<span style="color: #fffd64">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"</span><br/>")})),t}},legend:"manager"!=a||c||s?{top:"50px",right:"10%",textStyle:{color:"#999999"}}:{type:"scroll",width:"62%",top:"50px",left:"center",textStyle:{color:"#999999"}},dataZoom:{show:n.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:10},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999"},data:n,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u65f6\u95f4",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:function(e){var t=new Date(e);return t.getHours()+":"+t.getMinutes()}}},series:t};e.setOption(i,!0),window.addEventListener("resize",(function(){e.resize()}))}),[j,S,y]),Object(n.useEffect)((function(){var e=nn.b(document.getElementById("school-in-time-echart"));e.resize();var t=[],n=[],r=[],o=[],l=[];"student"==a?(Array.isArray(y.attendanceGateDayList)&&y.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&e.timeDetailName==j&&(t=e.inTime)})),r.push(t)})),Array.isArray(J.attendanceGateDayList)&&J.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&e.timeDetailName==j&&(t=e.inTime)})),o.push(t)})),Array.isArray(k.attendanceGateDayList)&&k.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&e.timeDetailName==j&&(t=e.inTime)})),l.push(t)})),t=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:n},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:o},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:l}]):s?(Array.isArray(y.attendanceGateDayList)&&y.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.inTime)})),r.push(t)})),Array.isArray(J.attendanceGateDayList)&&J.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.inTime)})),o.push(t)})),Array.isArray(k.attendanceGateDayList)&&k.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.inTime)})),l.push(t)})),t=[{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:r},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:l}]):!s&&c?(Array.isArray(y.attendanceGateDayList)&&y.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.inTime)})),r.push(t)})),Array.isArray(J.attendanceGateDayList)&&J.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.inTime)})),o.push(t)})),Array.isArray(k.attendanceGateDayList)&&k.attendanceGateDayList.forEach((function(e){n.push(e.dayDate&&e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&(t=e.inTime)})),l.push(t)})),t=[{type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:r}]):Array.isArray(S)&&S.forEach((function(e,a){var r=[];e.attendanceGate&&Array.isArray(e.attendanceGate.attendanceGateDayList)&&e.attendanceGate.attendanceGateDayList.forEach((function(e){n.push(e.dayDate);var t=0;e.detailDataList.forEach((function(e){e.timeDetailName==j&&e.inTime&&(t=e.inTime)})),r.push(t)})),t.push({name:e.gradeName,type:"bar",itemStyle:{color:M[a%5]},data:r})}));var i={title:{text:"\u5230\u6821\u65f6\u95f4",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:n.length>6?55:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6);",formatter:function(e){var t='<span style="color: #fffd64">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"</span><br/>")})),t}},legend:"manager"!=a||c||s?{top:"50px",right:"10%",textStyle:{color:"#999999"}}:{type:"scroll",width:"62%",top:"50px",left:"center",textStyle:{color:"#999999"}},dataZoom:{show:n.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:10},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999"},data:n,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u65f6\u95f4",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:function(e){var t=new Date(e);return t.getHours()+":"+t.getMinutes()}}},series:t};e.setOption(i,!0),window.addEventListener("resize",(function(){e.resize()}))}),[j,y,S]),r.a.createElement("div",{className:"school-attendance"},r.a.createElement(be,{opacity:!1,tip:"\u52a0\u8f7d\u4e2d...",spinning:p},r.a.createElement("div",{className:"home-attendance-top"},r.a.createElement("div",{className:"mornning-card"},r.a.createElement("div",{className:"card-title"},"\u4e0a\u5348"),r.a.createElement("div",{className:"time-container",style:{marginTop:"manager"==a?"20px":""}},r.a.createElement("div",{className:"next-time"},r.a.createElement("p",{className:"time-num"},y.avgInTime1?y.avgInTime1:"--"),r.a.createElement("p",null,"\u5230\u6821\u65f6\u95f4")),r.a.createElement("span",null,"-"),r.a.createElement("div",{className:"pre-time"},r.a.createElement("p",{className:"time-num"},y.avgOutTime1?y.avgOutTime1:"--"),r.a.createElement("p",null,"\u79bb\u6821\u65f6\u95f4"))),"student"==a?r.a.createElement("div",{className:"class-time-avg"},r.a.createElement("p",null,r.a.createElement("span",null,"\u5230\u6821:\xa0"),r.a.createElement("span",{className:"class-avg"},"\u73ed\u7ea7\u5e73\u5747:",J.avgInTime1?J.avgInTime1:"--"),r.a.createElement("span",{className:"grade-avg"},"\u5e74\u7ea7\u5e73\u5747:",k.avgInTime1?k.avgInTime1:"--")),r.a.createElement("p",null,r.a.createElement("span",null,"\u79bb\u6821:\xa0"),r.a.createElement("span",{className:"class-avg"},"\u73ed\u7ea7\u5e73\u5747:",J.avgOutTime1?J.avgOutTime1:"--"),r.a.createElement("span",{className:"grade-avg"},"\u5e74\u7ea7\u5e73\u5747:",k.avgOutTime1?k.avgOutTime1:"--"))):"teacher"==a?r.a.createElement("div",{className:"class-time-avg"},r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("span",null,"\u5e74\u7ea7\u5e73\u5747:\xa0"),r.a.createElement("span",null,k.avgInTime1?k.avgInTime1:"--"),"-",r.a.createElement("span",{className:"grade-avg"},k.avgOutTime1?k.avgOutTime1:"--"))):""),r.a.createElement("div",{className:"afternoon-card"},r.a.createElement("div",{className:"card-title"},"\u4e0b\u5348"),r.a.createElement("div",{className:"time-container",style:{marginTop:"manager"==a?"20px":""}},r.a.createElement("div",{className:"next-time"},r.a.createElement("p",{className:"time-num"},y.avgInTime2?y.avgInTime2:"--"),r.a.createElement("p",null,"\u5230\u6821\u65f6\u95f4")),r.a.createElement("span",null,"-"),r.a.createElement("div",{className:"pre-time"},r.a.createElement("p",{className:"time-num"},y.avgOutTime2?y.avgOutTime2:"--"),r.a.createElement("p",null,"\u79bb\u6821\u65f6\u95f4"))),"student"==a?r.a.createElement("div",{className:"class-time-avg"},r.a.createElement("p",null,r.a.createElement("span",null,"\u5230\u6821:\xa0"),r.a.createElement("span",{className:"class-avg"},"\u73ed\u7ea7\u5e73\u5747:",J.avgInTime2?J.avgInTime2:"--"),r.a.createElement("span",{className:"grade-avg"},"\u5e74\u7ea7\u5e73\u5747:",k.avgInTime2?k.avgInTime2:"--")),r.a.createElement("p",null,r.a.createElement("span",null,"\u79bb\u6821:\xa0"),r.a.createElement("span",{className:"class-avg"},"\u73ed\u7ea7\u5e73\u5747:",J.avgOutTime2?J.avgOutTime2:"--"),r.a.createElement("span",{className:"grade-avg"},"\u5e74\u7ea7\u5e73\u5747:",k.avgOutTime2?k.avgOutTime2:"--"))):"teacher"==a?r.a.createElement("div",{className:"class-time-avg"},r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("span",null,"\u5e74\u7ea7\u5e73\u5747:\xa0"),r.a.createElement("span",{className:"grade-avg"},k.avgInTime2?k.avgInTime2:"--"),"-",r.a.createElement("span",{className:"grade-avg"},k.avgOutTime2?k.avgOutTime2:"--"))):""),r.a.createElement("div",{className:"night-card"},r.a.createElement("div",{className:"card-title"},"\u665a\u4e0a"),r.a.createElement("div",{className:"time-container",style:{marginTop:"manager"==a?"20px":""}},r.a.createElement("div",{className:"next-time"},r.a.createElement("p",{className:"time-num"},y.avgInTime3?y.avgInTime3:"--"),r.a.createElement("p",null,"\u5230\u6821\u65f6\u95f4")),r.a.createElement("span",null,"-"),r.a.createElement("div",{className:"pre-time"},r.a.createElement("p",{className:"time-num"},y.avgOutTime3?y.avgOutTime3:"--"),r.a.createElement("p",null,"\u79bb\u6821\u65f6\u95f4"))),"student"==a?r.a.createElement("div",{className:"class-time-avg"},r.a.createElement("p",null,r.a.createElement("span",null,"\u5230\u6821:\xa0"),r.a.createElement("span",{className:"class-avg"},"\u73ed\u7ea7\u5e73\u5747:",J.avgInTime3?J.avgInTime3:"--"),r.a.createElement("span",{className:"grade-avg"},"\u5e74\u7ea7\u5e73\u5747:",k.avgInTime3?k.avgInTime3:"--")),r.a.createElement("p",null,r.a.createElement("span",null,"\u79bb\u6821:\xa0"),r.a.createElement("span",{className:"class-avg"},"\u73ed\u7ea7\u5e73\u5747:",J.avgOutTime3?J.avgOutTime3:"--"),r.a.createElement("span",{className:"grade-avg"},"\u5e74\u7ea7\u5e73\u5747:",k.avgOutTime3?k.avgOutTime3:"--"))):"teacher"==a?r.a.createElement("div",{className:"class-time-avg"},r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("span",null,"\u5e74\u7ea7\u5e73\u5747:\xa0"),r.a.createElement("span",{className:"grade-avg"},k.avgInTime3?k.avgInTime3:"--"),"-",r.a.createElement("span",{className:"grade-avg"},k.avgOutTime3?k.avgOutTime3:"--"))):"")),r.a.createElement("div",{className:"select-container"},r.a.createElement("span",null,"\u8303\u56f4:"),r.a.createElement(ne.a,{defaultValue:"\u4e0a\u5348",className:"select",onChange:function(e){return w(e)}},r.a.createElement(Wr,{value:"\u4e0a\u5348"},"\u4e0a\u5348"),r.a.createElement(Wr,{value:"\u4e0b\u5348"},"\u4e0b\u5348"),r.a.createElement(Wr,{value:"\u665a\u4e0a"},"\u665a\u4e0a"))),r.a.createElement("div",{className:"home-attendance-bottom"},r.a.createElement("div",{className:"out-school-echart",id:"school-out-time-echart"}),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"in-school-echart",id:"school-in-time-echart"}))))}var zr=function(e){var t=e.commonData;return{HasHistory:t.termInfo.HasHistory,userInfo:t.userInfo}},Ur=Object(d.connect)(zr)(Object(n.memo)(Object(n.forwardRef)(Hr))),Br=Tt.BasicProxy;function Fr(e,t){var a=e.term,s=(e.HasHistory,e.onAnchorComplete),c=(e.schoolID,e.collegeID,e.productMsg,e.userIdentity),o=e.currentClass,l=e.currentGrade,i=e.userInfo,d=i.SchoolID,m=i.UserID,f=e.reflash,p=Object(n.useState)(!1),h=Object(u.a)(p,2),b=h[0],g=h[1],y=Object(n.useState)([]),v=Object(u.a)(y,2),E=v[0],I=v[1],S=Object(n.useState)([]),O=Object(u.a)(S,2),x=O[0],N=O[1],j=Object(n.useState)([]),w=Object(u.a)(j,2),D=w[0],T=w[1],k=Object(n.useState)(""),C=Object(u.a)(k,2),L=(C[0],C[1],Object(n.useState)([])),A=Object(u.a)(L,2),J=A[0],R=A[1],M=Object(n.useState)("student"==c?"detail":"list"),P=Object(u.a)(M,2),W=P[0],H=P[1],z=Object(n.useRef)(null),U=Object(n.useRef)(null),B=Object(n.useRef)(null),F=Object(n.useRef)(null),G=Object(n.useRef)(null);Object(n.useLayoutEffect)((function(){"function"===typeof s&&s([{ref:z.current,name:"\u8003\u52e4\u60c5\u51b5"},{ref:U.current,name:"\u8bfe\u5802\u51fa\u52e4"},{ref:B.current,name:"\u5bbf\u820d\u8003\u52e4"},{ref:F.current,name:"\u5b66\u6821\u8003\u52e4"},{ref:G.current,name:"\u8003\u52e4\u8f68\u8ff9"}])}),[]),Object(n.useLayoutEffect)((function(){var e=a.value?JSON.parse(a.value):{},t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";t.forEach((function(e){e.classId==o&&(n=e.gradeId)}));var r=Br+"/api/attendance/attendance/path?type="+("manager"==c?o?2:l?3:4:"teacher"==c?2:1)+"&studentId="+m+"&classId="+o+"&gradeId="+("teacher"!=c||l?l:n)+"&schoolId="+d+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&I(e.data)}))}),[o,l,c,f]),Object(n.useLayoutEffect)((function(){if("teacher"==c&&o){var e=Br+"/api/base/getStudentInfo?schoolId="+d+"&gradeId="+l+"&classId="+o;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(N(e.data),T(e.data))}))}}),[c,m,o,l,a]),Object(n.useLayoutEffect)((function(){if("student"==c){var e=a&&a.value&&JSON.parse(a.value),t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[];t.forEach((function(e){e.classId==o&&e.gradeId}));var n=Br+"/api/attendance/attendance/details?studentId="+("student"==c?m:"")+"&classId="+("teacher"==c||"manager"==c&&o?o:"")+"&gradeId="+("manager"!=c||o?"":l)+"&schoolId="+(o||l?"":d)+"&start="+e.startDate.substr(0,10)+"&end="+e.endDate.substr(0,10);Qt.get({url:n,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&R(e.data)}))}}),[a,o,l,c,m,f]);return r.a.createElement("div",{className:"stu-condition",id:"attendanceMsg"},"manager"!=c||o||l?"":r.a.createElement($a,{loading:!1,barName:"\u8003\u52e4\u60c5\u51b5",ref:z},r.a.createElement(ur,{currentClass:o,currentGrade:l,currentTerm:a,userIdentity:c,reflash:f})),r.a.createElement($a,{barName:"\u8bfe\u5802\u51fa\u52e4",ref:U,topContext:"manager"!=c&&r.a.createElement("div",{className:"module-link-group"},r.a.createElement("span",{className:"status",onClick:function(){return g(!0)}},"\u67e5\u770b\u8bfe\u5802\u8be6\u60c5\u4fe1\u606f")),loading:!1},r.a.createElement(hr,{currentClass:o,currentGrade:l,currentTerm:a,userIdentity:c,reflash:f})),r.a.createElement($a,{loading:!1,barName:"\u5bbf\u820d\u8003\u52e4",ref:B},r.a.createElement(Mr,{currentClass:o,currentGrade:l,currentTerm:a,userIdentity:c,reflash:f})),"student"!=c?r.a.createElement($a,{loading:!1,barName:"\u5b66\u6821\u8003\u52e4",ref:F},r.a.createElement(Ur,{currentClass:o,currentGrade:l,currentTerm:a,userIdentity:c,reflash:f})):"",r.a.createElement($a,{loading:!1,barName:"\u8003\u52e4\u8f68\u8ff9",ref:G},r.a.createElement(hn,{type:"attendanceMsg",userIdentity:c,data:E})),r.a.createElement(De,{type:"1",title:"\u8bfe\u5802\u51fa\u52e4\u8be6\u60c5",visible:b,onOk:function(){return g(!0)},onCancel:function(){"student"!=c&&H("list"),g(!1)},footer:null,width:1e3,className:"height-weight-modal",bodyStyle:{height:"632px",padding:20}},"list"==W?r.a.createElement("div",null,r.a.createElement("p",{className:"stu-count"},"\u5171",r.a.createElement("span",null,x.length),"\u4eba"),r.a.createElement("ul",{className:"member-list"},r.a.createElement(q.Scrollbars,{autoHeight:!0,autoHeightMax:580},D.length>0?D.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return function(e){var t=a&&a.value&&JSON.parse(a.value);(sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[]).forEach((function(e){e.classId==o&&e.gradeId}));var n=Br+"/api/attendance/attendance/details?studentId="+e.userId+"&classId=&gradeId=&schoolId=&start="+t.startDate.substr(0,10)+"&end="+t.endDate.substr(0,10);Qt.get({url:n,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(R(e.data),H("detail"))}))}(e)}},r.a.createElement("i",{className:"user-header",style:{backgroundImage:e.photoPath?e.photoPath:""}}),r.a.createElement("p",{title:e.userName},e.userName))})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"80px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))):r.a.createElement("div",null,"student"!=c?r.a.createElement("span",{className:"reback-prev",onClick:function(){return H("list")}},"\u8fd4\u56de\u5b66\u751f\u5217\u8868"):"",r.a.createElement(Ka,{style:{marginTop:20},tableHeader:[{key:"subject",name:"\u5b66\u79d1"},{key:"courseNum",name:"\u8282\u6570"},{key:"isAbsent",name:"\u662f\u5426\u7f3a\u52e4"},{key:"isLate",name:"\u662f\u5426\u8fdf\u5230"},{key:"isLeaveEarly",name:"\u662f\u5426\u65e9\u9000"},{key:"isVacate",name:"\u662f\u5426\u8bf7\u5047"},{key:"courseDate",name:"\u4e0a\u8bfe\u65e5\u671f"}],data:J}))))}var Gr=function(e){var t=e.commonData;return{HasHistory:t.termInfo.HasHistory,userInfo:t.userInfo}},_r=Object(d.connect)(Gr)(Object(n.memo)(Object(n.forwardRef)(Fr))),Vr=(a(1644),a(651),a(1781),Tt.BasicProxy),Yr=ne.a.Option;function Zr(e,t){var a=e.userIdentity,s=e.currentClass,c=e.currentGrade,o=e.currentTerm,l=e.data,i=e.userInfo,d=i.UserID,m=i.SchoolID,f=e.reflash,p=Object(n.useState)(1),h=Object(u.a)(p,2),b=h[0],g=h[1],y=Object(n.useState)([]),v=Object(u.a)(y,2),E=v[0],I=v[1],S=Object(n.useState)([]),O=Object(u.a)(S,2),x=O[0],N=O[1],j=Object(n.useState)([]),w=Object(u.a)(j,2),D=w[0],T=w[1],k=Object(n.useState)([]),C=Object(u.a)(k,2),L=C[0],A=C[1],J=Object(n.useState)(-1),R=Object(u.a)(J,2),M=R[0],P=R[1],W=Object(n.useState)([]),H=Object(u.a)(W,2),z=(H[0],H[1]),U=Object(n.useState)([]),B=Object(u.a)(U,2),F=(B[0],B[1]);Object(n.useLayoutEffect)((function(){if(("student"!=a||d&&s&&c)&&("teacher"!=a||s)&&o){var e=o&&o.value?JSON.parse(o.value):{},t=Vr+"/api/healthy/studentHealthInfo/distribution?id="+("student"==a?d:"teacher"==a?s:s||(c||m))+"&queryType="+("student"==a?1:"teacher"==a||s?2:c?3:4)+"&periodType=1&startDate="+(e.startDate?e.startDate.substr(0,10):"")+"&endDate="+(e.endDate?e.endDate.substr(0,10):"");Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&I(e.data)})),t=Vr+"/api/healthy/studentHealthInfo/leader/distribution?classId=&gradeId=&periodType=1&gender="+M+"&startDate="+(e.startDate?e.startDate.substr(0,10):"")+"&endDate="+(e.endDate?e.endDate.substr(0,10):""),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&F(e.data)})),t=Vr+"/api/healthy/studentHealthInfo/leader/listLatest?classId=&gradeId=&gender="+M+"&schoolId="+m+"&startDate="+(e.startDate?e.startDate.substr(0,10):"")+"&endDate="+(e.endDate?e.endDate.substr(0,10):""),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&z(e.data)}))}}),[o,s,c,a,f]),Object(n.useLayoutEffect)((function(){if("manager"==a&&!s&&!c&&o){var e=o&&o.value?JSON.parse(o.value):{},t=Vr+"/api/healthy/studentHealthInfo/leader/all?classId=&gradeId=&startDate="+(e.startDate?e.startDate.substr(0,10):"")+"&endDate="+(e.endDate?e.endDate.substr(0,10):"");Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&Array.isArray(e.data)){var t=[];e.data.forEach((function(e){var a={gradeName:e.gradeInfo?e.gradeInfo.gradeName:"",maleHeight:e.male?e.male.height:"",maleWeight:e.male?e.male.weight:"",maleBMI:e.male?e.male.bmiIndex:"",femaleHeight:e.female?e.female.height:"",femaleWeight:e.female?e.female.weight:"",femaleBMI:e.female?e.female.bmiIndex:""};t.push(a)})),A(e.data)}}))}}),[o,s,c,a,f]),Object(n.useLayoutEffect)((function(){if("manager"==a&&!c&&!s&&o){var e=o&&o.value?JSON.parse(o.value):{},t=Vr+"/api/healthy/studentHealthInfo/leader/distribution?classId=&gradeId=&periodType=1&gender="+M+"&startDate="+(e.startDate?e.startDate.substr(0,10):"")+"&endDate="+(e.endDate?e.endDate.substr(0,10):"");Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&N(e.data)})),t=Vr+"/api/healthy/studentHealthInfo/leader/listLatest?classId=&gradeId=&gender="+M+"&schoolId="+m+"&startDate="+(e.startDate?e.startDate.substr(0,10):"")+"&endDate="+(e.endDate?e.endDate.substr(0,10):""),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&T(e.data)}))}}),[o,s,c,a,M,m,f]),Object(n.useEffect)((function(){if("student"!=a&&(!s&&!c||l.avgInfo&&Array.isArray(l.avgInfo.healthyInfoList)&&0!=l.avgInfo.healthyInfoList.length)&&(c||s||0!=D.length)){var e=[];s||c?l.avgInfo&&Array.isArray(l.avgInfo.healthyInfoList)&&l.avgInfo.healthyInfoList.length>0&&l.avgInfo.healthyInfoList.forEach((function(t){var a=[t.height.toFixed(1),t.weight.toFixed(1),t.userName];e.push(a)})):D.forEach((function(t){var a=[t.height.toFixed(1),t.weight.toFixed(1),t.userName];e.push(a)}));var t=nn.a.init(document.getElementById("class-position-echart"));t.resize();var n={title:{text:"\u73ed\u7ea7\u5b66\u751f\u8eab\u9ad8\u4f53\u91cd\u5206\u5e03\u56fe",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:40},tooltip:{trigger:"axis",appendToBody:!0,extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t="";return e.forEach((function(e){var a=e.value;t+='\n                        <span \n                        style="\n                        display: inline-block; \n                        width: 100%; \n                        color: #fffd64; \n                        margin-bottom: -5px;\n                        text-overflow: ellipsis; \n                        overflow: hidden; \n                        white-space: nowrap;">'.concat(a[2],"</span><br/>"),t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">\u8eab\u9ad8: ".concat(a[0],'cm, </span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">\u4f53\u91cd: ').concat(a[1],"kg</span><br/>")})),t}},xAxis:{name:"\u4f53\u91cdkg",nameTextStyle:{color:"#999999"},axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#7c7c7c"}}},yAxis:{name:"\u8eab\u9ad8cm",nameTextStyle:{color:"#999999",padding:[0,0,0,40]},axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#7c7c7c"}}},series:[{symbolSize:11,itemStyle:{color:"#04c8a1"},data:e,type:"scatter"}]};t.setOption(n,!0),window.addEventListener("resize",(function(){t.resize()}))}}),[a,l,D]),Object(n.useEffect)((function(){if(0!=E.length||0!=x.length){var e=[],t=[],a=[];s||c?E.forEach((function(n){e.push(n.recordTime&&n.recordTime.substr(0,10)),t.push("number"==typeof n.height?n.height.toFixed(1):"--"),a.push("number"==typeof n.weight?n.weight.toFixed(1):"--")})):x.forEach((function(n){e.push(n.date),t.push("number"==typeof n.averageHeight?n.averageHeight.toFixed(1):"--"),a.push("number"==typeof n.averageWeight?n.averageWeight.toFixed(1):"--")}));var n=nn.a.init(document.getElementById("high-weight-echart"));n.resize();var r={title:{text:"\u8eab\u9ad8\u4f53\u91cd\u53d8\u5316",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:115,bottom:e.length>6?55:45},tooltip:{trigger:"axis",appendToBody:!0,extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"</span><br/>")})),t}},dataZoom:{show:e.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:10},legend:{top:"50px",left:"center",data:["\u8eab\u9ad8","\u4f53\u91cd"],textStyle:{color:"#999999"}},xAxis:{type:"category",data:e,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"}}},yAxis:[{type:"value",name:"\u8eab\u9ad8cm",nameTextStyle:{color:"#999999",padding:[0,0,0,40]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"}}},{type:"value",name:"\u4f53\u91cdkg",nameTextStyle:{color:"#999999",padding:[0,40,0,0]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}}],series:[{name:"\u8eab\u9ad8",type:"line",lineStyle:{color:"#358bff",width:1},itemStyle:{normal:{color:"#358bff",opacity:0},emphasis:{color:"white",borderWidth:3,borderColor:"#358bff",opacity:1}},symbolSize:8,symbol:"circle",data:t},{name:"\u4f53\u91cd",type:"line",lineStyle:{color:"#009900",width:1},itemStyle:{normal:{color:"#009900",opacity:0},emphasis:{color:"white",borderWidth:3,borderColor:"#009900",opacity:1}},symbolSize:8,symbol:"circle",data:a}]};n.setOption(r,!0),window.addEventListener("resize",(function(){n.resize()}))}}),[E,x]),Object(n.useEffect)((function(){if(0!=E.length||0!=x.length){var e=[],t=[];s||c?E.forEach((function(a){e.push(a.recordTime&&a.recordTime.substr(0,10)),t.push(a.bmiIndex.toFixed(1))})):x.forEach((function(a){e.push(a.date),t.push(a.bmiIndex.toFixed(1))}));var n=nn.a.init(document.getElementById("BMI-echart"));n.resize();var r={title:{text:"BMI\u6ce2\u52a8\u60c5\u51b5",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:115,bottom:e.length>6?55:45},tooltip:{trigger:"axis",appendToBody:!0,extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"</span><br/>")})),t}},dataZoom:{show:e.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:10},legend:{top:"50px",left:"center",textStyle:{color:"#999999"}},xAxis:{type:"category",name:"\u65f6\u95f4",nameTextStyle:{color:"#999999"},data:e,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"BMI\u503c",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:[{name:"student"==a?"\u4e2a\u4eba":s?"\u73ed\u7ea7":"\u5e74\u7ea7",type:"line",lineStyle:{color:"#358bff",width:1},itemStyle:{normal:{color:"#358bff",opacity:0},emphasis:{color:"white",borderWidth:3,borderColor:"#358bff",opacity:1}},symbolSize:8,symbol:"circle",data:t}]};n.setOption(r,!0),window.addEventListener("resize",(function(){n.resize()}))}}),[E,x]);var G=L.length,_=G>8&&{total:G,showQuickJumper:!1,showSizeChanger:!1,current:b,position:["bottomCenter"],pageSize:8,onChange:function(e){return g(e)}};return r.a.createElement("div",{className:"health-base-info"},"manager"!=a||s||c?r.a.createElement("div",{className:"show-top"},r.a.createElement("div",{className:"info-show-one blue"},r.a.createElement("i",{className:"cardlogo"}),r.a.createElement("p",{className:"info-status"},"\u8eab\u9ad8:",r.a.createElement("span",null,l.baseInfo?"manager"==a?s?l.avgInfo.classAverageHeight?l.avgInfo.classAverageHeight.toFixed(1)+"cm":"--":l.avgInfo.gradeAverageHeight?l.avgInfo.gradeAverageHeight.toFixed(1)+"cm":"--":"teacher"==a?l.avgInfo.classAverageHeight?l.avgInfo.classAverageHeight.toFixed(1)+"cm":"--":l.baseInfo.height?l.baseInfo.height.toFixed(1)+"cm":"--":"--")),"student"==a?r.a.createElement("p",{className:"info-avg"},"\u73ed\u7ea7\u5e73\u5747:",r.a.createElement("span",null,l.avgInfo?l.avgInfo.classAverageHeight.toFixed(1)+"cm":"--"),"; \u5e74\u7ea7\u5e73\u5747:",r.a.createElement("span",null,l.avgInfo?l.avgInfo.gradeAverageHeight.toFixed(1)+"cm":"--")):"teacher"==a||s?r.a.createElement("p",{className:"info-avg"},"\u5e74\u7ea7\u5e73\u5747:",r.a.createElement("span",null,l.avgInfo?l.avgInfo.gradeAverageHeight.toFixed(1)+"cm":"--")):""),r.a.createElement("div",{className:"info-show-one green"},r.a.createElement("i",{className:"cardlogo"}),r.a.createElement("p",{className:"info-status"},"\u4f53\u91cd:",r.a.createElement("span",null,l.baseInfo?"manager"==a?s?l.avgInfo.classAverageWeight?l.avgInfo.classAverageWeight.toFixed(1)+"kg":"--":l.avgInfo.gradeAverageWeight?l.avgInfo.gradeAverageWeight.toFixed(1)+"kg":"--":"teacher"==a?l.avgInfo.classAverageWeight?l.avgInfo.classAverageWeight.toFixed(1)+"kg":"--":l.baseInfo.weight?l.baseInfo.weight.toFixed(1)+"kg":"--":"--")),"student"==a?r.a.createElement("p",{className:"info-avg"},"\u73ed\u7ea7\u5e73\u5747:",r.a.createElement("span",null,l.avgInfo?l.avgInfo.classAverageWeight.toFixed(1)+"kg":"--"),"; \u5e74\u7ea7\u5e73\u5747:",r.a.createElement("span",null,l.avgInfo?l.avgInfo.gradeAverageWeight.toFixed(1)+"kg":"--")):"teacher"==a||s?r.a.createElement("p",{className:"info-avg"},"\u5e74\u7ea7\u5e73\u5747:",r.a.createElement("span",null,l.avgInfo?l.avgInfo.gradeAverageWeight.toFixed(1)+"kg":"--")):""),r.a.createElement("div",{className:"info-show-one orange"},r.a.createElement("i",{className:"cardlogo"}),r.a.createElement("p",{className:"info-status"},"BMI:",r.a.createElement("span",null,l.baseInfo?"manager"==a?s?l.avgInfo.classAverageHeight?(l.avgInfo.classAverageWeight/l.avgInfo.classAverageHeight*2).toFixed(1):"0.0":l.avgInfo.gradeAverageHeight?(l.avgInfo.gradeAverageWeight/l.avgInfo.gradeAverageHeight*2).toFixed(1):"0.0":"teacher"==a?l.avgInfo.classAverageHeight?(l.avgInfo.classAverageWeight/l.avgInfo.classAverageHeight*2).toFixed(1):"0.0":l.baseInfo.bmiIndex.toFixed(1):"--"),r.a.createElement("i",{className:"querylogo",title:"\u4f53\u8d28\u6307\u6570(BMI)=\u4f53\u91cd(kg)/\u8eab\u9ad8*2(m)"})),"student"==a?r.a.createElement("p",{className:"info-avg"},"\u73ed\u7ea7\u5e73\u5747:",r.a.createElement("span",null,l.avgInfo?l.avgInfo.classAverageHeight?(l.avgInfo.classAverageWeight/(l.avgInfo.classAverageHeight/100*2)).toFixed(1):"0.0":"--"),"; \u5e74\u7ea7\u5e73\u5747:",r.a.createElement("span",null,l.avgInfo?l.avgInfo.gradeAverageHeight?(l.avgInfo.gradeAverageWeight/(l.avgInfo.gradeAverageHeight/100*2)).toFixed(1):"0.0":"--")):"teacher"==a||s?r.a.createElement("p",{className:"info-avg"},"\u5e74\u7ea7\u5e73\u5747:",r.a.createElement("span",null,l.avgInfo?l.avgInfo.gradeAverageHeight?(l.avgInfo.gradeAverageWeight/(l.avgInfo.gradeAverageHeight/100*2)).toFixed(1):"0.0":"--")):"")):r.a.createElement(ie.a,{dataSource:L,columns:[{title:"\u5e74\u7ea7",key:"gradeName",dataIndex:"gradeName",width:"14.4%",ellipsis:!0},{title:"\u7537\u751f\u5e73\u5747\u8eab\u9ad8(cm)",key:"maleHeight",dataIndex:"maleHeight",width:"14.4%",ellipsis:!0},{title:"\u7537\u751f\u5e73\u5747\u4f53\u91cd(kg)",key:"maleWeight",dataIndex:"maleWeight",width:"14.4%",ellipsis:!0},{title:"BMI(\u7537)",key:"maleBMI",dataIndex:"maleBMI",width:"14.4%",ellipsis:!0},{title:"\u5973\u751f\u5e73\u5747\u8eab\u9ad8(cm)",key:"femaleHeight",dataIndex:"femaleHeight",width:"14.4%",ellipsis:!0},{title:"\u5973\u751f\u5e73\u5747\u4f53\u91cd(kg)",key:"femaleWeight",dataIndex:"femaleWeight",width:"14.4%",ellipsis:!0},{title:"BMI(\u5973)",key:"femaleBMI",dataIndex:"femaleBMI",width:"14.4%",ellipsis:!0}],rowClassName:"rows",pagination:_,className:"health-table "+(G>8?"table-min":"")}),"manager"!=a||s||c?"":r.a.createElement("div",null,r.a.createElement("div",{className:"select-container"},r.a.createElement("span",null,"\u6027\u522b:"),r.a.createElement(ne.a,{defaultValue:"-1",className:"select",onChange:function(e){return P(e)}},r.a.createElement(Yr,{value:"-1"},"\u5168\u90e8"),r.a.createElement(Yr,{value:"0"},"\u7537"),r.a.createElement(Yr,{value:"1"},"\u5973")))),E.length>0||x.length>0?r.a.createElement("div",{className:"show-bottom",style:{backgroundColor:"student"==a?"#f5f5f5":"white"}},r.a.createElement("div",{className:"high-weight-echart",id:"high-weight-echart"}),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"BMI-echart",id:"BMI-echart"})):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}),"student"==a?"":l.avgInfo&&Array.isArray(l.avgInfo.healthyInfoList)&&l.avgInfo.healthyInfoList.length>0||D.length>0?r.a.createElement("div",{className:"class-position-echart",id:"class-position-echart"}):E.length>0||x.length>0?r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}):"")}var Qr=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},Xr=Object(d.connect)(Qr)(Object(n.memo)(Object(n.forwardRef)(Zr))),Kr=Tt.BasicProxy,qr=ne.a.Option;function $r(e,t){var a=e.sickInfo,s=e.userIdentity,c=e.currentClass,o=e.currentGrade,l=e.currentTerm,i=e.userInfo,d=i.UserID,m=i.SchoolID,f=e.temperatureInfo,p=e.reflash,h=Object(n.useState)("3"),b=Object(u.a)(h,2),g=(b[0],b[1],Object(n.useState)(1)),y=Object(u.a)(g,2),v=y[0],E=y[1],I=Object(n.useState)([]),S=Object(u.a)(I,2),O=S[0],x=S[1],N=Object(n.useState)([]),j=Object(u.a)(N,2),w=j[0],D=j[1];return Object(n.useLayoutEffect)((function(){if(l&&("student"!=s||d)&&("teacher"!=s||c)){var e=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[];e.forEach((function(e){e.classId==c&&e.gradeId}));var t=l&&l.value&&JSON.parse(l.value),a=Kr+"/api/healthy/temperature/abnormalCountWithPeriod?id="+("student"==s?d:"teacher"==s?c:"manager"==s?c||(o||m):"")+"&queryType="+("student"==s?1:"teacher"==s||c?2:o?3:4)+"&periodType="+v+"&startDate="+t.startDate.substr(0,10)+"&endDate="+t.endDate.substr(0,10);Qt.get({url:a,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&D(e.data)}))}}),[o,c,l,s,p,v]),Object(n.useLayoutEffect)((function(){if(l&&("student"!=s||d)&&("teacher"!=s||c)){var e=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[];e.forEach((function(e){e.classId==c&&e.gradeId}));var t=l&&l.value&&JSON.parse(l.value),a=Kr+"/api/healthy/leave/distribution?id="+("student"==s?d:"teacher"==s?c:"manager"==s?c||(o||m):"")+"&queryType="+("student"==s?1:"teacher"==s||c?2:o?3:4)+"&periodType=1&startDate="+t.startDate.substr(0,10)+"&endDate="+t.endDate.substr(0,10);Qt.get({url:a,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&x(e.data)}))}}),[o,c,l,s,p]),Object(n.useEffect)((function(){if(0!=w.length){var e=[],t=[];w.forEach((function(a){e.push(a.date),t.push(a.averageTemperature.toFixed(1))}));var a=nn.a.init(document.getElementById("temperature-echart"));a.resize();var n={title:{text:"\u4f53\u6e29\u8bb0\u5f55",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:80,bottom:e.length>6?55:45},tooltip:{trigger:"axis"},dataZoom:{show:e.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:25},xAxis:{type:"category",data:e,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"}}},yAxis:[{type:"value",name:"\u4f53\u6e29/\u2103",nameTextStyle:{color:"#999999",padding:[0,0,0,40]},min:35,max:42,splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"}}},{type:"value",axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}}],series:[{name:"\u4f53\u6e29",type:"line",lineStyle:{color:"#358bff",width:1},itemStyle:{normal:{color:"#358bff",opacity:0},emphasis:{color:"white",borderWidth:3,borderColor:"#358bff",opacity:1}},symbolSize:8,symbol:"circle",data:t}]};a.setOption(n,!0),window.addEventListener("resize",(function(){a.resize()}))}}),[w,s]),Object(n.useEffect)((function(){if(0!=O.length){var e=[],t=[],a=[];O.forEach((function(n){e.push(n.date),"student"==s&&(t.push(n.studentAverageDuration),a.push(n.studentAverageCount)),"teacher"==s&&(t.push(n.classAverageDuration),a.push(n.classAverageCount)),"manager"==s&&(t.push(n.gradeAverageDuration),a.push(n.gradeAverageCount))}));var n=nn.a.init(document.getElementById("askleave-echart"));n.resize();var r={title:{text:"\u75c5\u5047\u6b21\u6570\u4e0e\u65f6\u957f",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:115,bottom:e.length>6?55:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6);",formatter:function(e){var t='<span style="color: #fffd64">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">\n                        ').concat(e.value).concat("\u6b21\u6570"==e.seriesName?"\u6b21":"h","\n                        </span><br/>")})),t}},legend:{top:"50px",left:"center",data:["\u6b21\u6570","\u65f6\u957f"],textStyle:{color:"#999999"}},dataZoom:{show:e.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:25},xAxis:{type:"category",data:e,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"}}},yAxis:[{type:"value",name:"\u6b21\u6570",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},{type:"value",name:"\u65f6\u957f/h",nameTextStyle:{color:"#999999",padding:[0,40,0,0]},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}}],series:[{name:"\u65f6\u957f",type:"line",lineStyle:{color:"#22a814",width:1,borderColor:"#22a814",emphasis:{width:1}},itemStyle:{color:"#22a814"},data:t},{name:"\u6b21\u6570",type:"bar",barWidth:24,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a}]};n.setOption(r,!0),window.addEventListener("resize",(function(){n.resize()}))}}),[s,O]),r.a.createElement("div",{className:"detail-health"},r.a.createElement("div",{className:"show-top"},r.a.createElement("div",{className:"temperature-info"},r.a.createElement("div",{className:"temperature-avg"},r.a.createElement("div",{className:"circle blue",title:"number"==typeof f.averageTemperature?f.averageTemperature.toFixed(1)+"\u2103":"--"},"number"==typeof f.averageTemperature?f.averageTemperature.toFixed(1)+"\u2103":"--"),r.a.createElement("p",null,"\u5e73\u5747\u4f53\u6e29")),r.a.createElement("div",{className:"temperature-warn-count"},r.a.createElement("div",{className:"circle orange",title:"number"==typeof f.abNormalCount?f.abNormalCount:"--"},"number"==typeof f.abNormalCount?f.abNormalCount:"--"),r.a.createElement("p",null,"\u5f02\u5e38\u4f53\u6e29\u6b21\u6570")),r.a.createElement("div",{className:"temperature-warn-rate"},r.a.createElement("div",{className:"circle red",title:"number"==typeof f.abNormalRate?parseInt(100*f.abNormalRate)+"%":"--"},"number"==typeof f.abNormalRate?parseInt(100*f.abNormalRate)+"%":"--"),r.a.createElement("p",null,"\u5f02\u5e38\u4f53\u6e29\u7387"))),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"askleave-info"},r.a.createElement("div",{className:"askleave-count"},r.a.createElement("div",{className:"circle violet",title:"number"==typeof a.sickRecordCount?a.sickRecordCount:"--"},"number"==typeof a.sickRecordCount?a.sickRecordCount:"--"),r.a.createElement("p",null,"\u75c5\u5047\u6b21\u6570")),r.a.createElement("div",{className:"askleave-time"},r.a.createElement("div",{className:"circle pink",title:"number"==typeof a.sickRecordDuration?a.sickRecordDuration+"h":"--"},"number"==typeof a.sickRecordDuration?a.sickRecordDuration+"h":"--"),r.a.createElement("p",null,"\u75c5\u5047\u65f6\u957f")),r.a.createElement("div",{className:"askleave-rate"},r.a.createElement("div",{className:"circle green",title:"number"==typeof a.sickRecordCount?a.totalCount?100*parseInt(a.sickRecordCount/a.totalCount)+"%":0:"--"},"number"==typeof a.sickRecordCount?a.totalCount?100*parseInt(a.sickRecordCount/a.totalCount)+"%":0:"--"),r.a.createElement("p",null,"\u75c5\u5047\u7387")))),r.a.createElement("div",{className:"show-bottom"},w.length>0?r.a.createElement("div",{className:"echart-container"},r.a.createElement(ne.a,{defaultValue:"1",className:"select",onChange:function(e){E(e)}},r.a.createElement(qr,{value:"3"},"\u6309\u5929\u6570"),r.a.createElement(qr,{value:"2"},"\u6309\u5468\u6b21"),r.a.createElement(qr,{value:"1"},"\u6309\u6708\u4efd")),r.a.createElement("div",{className:"temperature-echart",id:"temperature-echart"})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"20px 0",width:"calc(50% - 1px)",display:"inline-block"},title:"\u6682\u65e0\u6570\u636e",type:"4"}),r.a.createElement("div",{className:"slice-line"}),O.length>0?r.a.createElement("div",{className:"askleave-echart",id:"askleave-echart"}):r.a.createElement(ye,{className:"bar-empty",style:{margin:"20px 0",width:"calc(50% - 1px)",display:"inline-block"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))}var es=function(e){var t=e.commonData;return{levelHash:t.levelHash,userInfo:t.userInfo}},ts=Object(d.connect)(es)(Object(n.memo)(Object(n.forwardRef)($r))),as=Tt.BasicProxy;function ns(e,t){var a=e.userIdentity,s=e.testAvg,c=e.projectList,o=e.currentTerm,l=e.currentClass,i=e.currentGrade,d=e.reflash,m=e.userInfo,f=m.UserID,p=m.SchoolID,h=Object(n.useState)([]),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useState)({}),E=Object(u.a)(v,2),I=E[0],S=E[1],O=Object(n.useState)([]),x=Object(u.a)(O,2),N=x[0],j=x[1],w=[new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#F79750"},{offset:1,color:"#FFB681"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#2D3149"},{offset:1,color:"#363D71"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#E84956"},{offset:1,color:"#E9707A"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#6E54CC"},{offset:1,color:"#7E90E9"}])];return Object(n.useLayoutEffect)((function(){if(o&&("student"!=a||f)&&("teacher"!=a||l)){var e=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[];e.forEach((function(e){e.classId==l&&e.gradeId}));o&&o.value&&JSON.parse(o.value);var t=as+"/api/healthy/physicalTest/project/list";Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(y(e.data),e.data[0]&&S(e.data[0]))}))}}),[o,l,i,a,f,d]),Object(n.useLayoutEffect)((function(){if(("manager"!=a||i||l)&&o&&("student"!=a||f)&&("teacher"!=a||l)){var e=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[];e.forEach((function(e){e.classId==l&&e.gradeId}));var t=o&&o.value?JSON.parse(o.value):{},n=as+"/api/healthy/physicalTest/score/distribution?id="+("student"==a?f:"teacher"==a?l:i)+"&queryType="+("student"==a?1:"teacher"==a?2:3)+"&projectId="+(I.subjectId?I.subjectId:"")+"&periodType=1&startDate="+(t.startDate?t.startDate.substr(0,10):"")+"&endDate="+(t.endDate?t.endDate.substr(0,10):"");Qt.get({url:n,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&j(e.data)}))}}),[I,a,o,l,i,f,d]),Object(n.useLayoutEffect)((function(){if("manager"==a&&!i&&!l&&o){var e=o&&o.value&&JSON.parse(o.value),t=as+"/api/healthy/physicalTest/leader/score/totalScore?schoolId="+p+"&classId=&gradeId=&subjectId="+(I.subjectId?I.subjectId:"")+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&j(e.data)}))}}),[I,a,o,l,i,d]),Object(n.useEffect)((function(){if(0!=N.length&&0!=g.length){var e=[],t=nn.a.init(document.getElementById("test-kind-echart"));t.resize();var n=[],r=[];if("manager"!=a||i||l){var s=[],c=[],o=[];N.forEach((function(t){e.push(t.date),s.push(t.classAverage.toFixed(1)),c.push(t.gradeAverage.toFixed(1)),o.push(t.studentScore.toFixed(1))})),n=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:o},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:s},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:c}]}else N.forEach((function(t,a){e.push(t.subject?t.subject.subjectName:"");var s=[];Array.isArray(t.gradeSubjectScoreList)&&t.gradeSubjectScoreList.forEach((function(e){r.push(e.gradeInfo?e.gradeInfo.gradeName:""),s.push(e.average)})),n=[{type:"bar",itemStyle:{color:w[a%6]},data:s}]}));var u={title:{text:"\u4f53\u6d4b\u9879\u76ee\u5bf9\u6bd4",left:"center",top:"35px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:110,bottom:e.length>8?55:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6);",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"</span><br/>")})),t}},legend:{top:"65px",left:"center",data:"manager"!=a||i||l?[]:r,textStyle:{color:"#999999"}},xAxis:{type:"category",name:"\u5b66\u79d1",nameTextStyle:{color:"#999999"},data:e,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"}}},dataZoom:{show:e.length>8,maxValueSpan:7,height:2,showDetail:!1,moveHandSize:6,bottom:10},yAxis:{type:"value",name:"\u5206\u6570",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:n};t.setOption(u,!0),window.addEventListener("resize",(function(){t.resize()}))}}),[I,o,l,i,a,N]),r.a.createElement("div",{className:"test-status"},r.a.createElement("div",{className:"show-top"},r.a.createElement("div",{className:"test-avg"},r.a.createElement(Wn.a,{type:"circle",percent:"student"==a?s.averageScore:"teacher"==a||l?s.classAverageScore:i?s.gradeAverageScore:s.schoolAverageScore,format:function(e){return e},width:92,className:"progress",strokeColor:"#8fdb66"}),r.a.createElement("p",null,"\u4f53\u6d4b\u5e73\u5747\u5206")),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"test-kind-list"},r.a.createElement(q.Scrollbars,null,Array.isArray(c)&&c.map((function(e,t){var n="student"==a?e.studentAverageScore:"teacher"==a||l?e.classAverageScore:i?e.gradeAverageScore:e.schoolAverageScore;return r.a.createElement("div",{className:n>=90?"good":n>=80&&n<90?"common":n>=70&&n<80?"pass":"bad",key:t},r.a.createElement("i",{className:"test-kind-rank"}),r.a.createElement("p",null,"\u8bc4\u5206: ",n.toFixed(1)),r.a.createElement("p",{className:"test-kind-name",title:e.testProject.subjectName},e.testProject.subjectName))}))))),g.length>0?r.a.createElement("div",{className:"show-bottom"},r.a.createElement("div",{className:"kind-list"},r.a.createElement("span",null,"\u9879\u76ee:"),g.map((function(e,t){return r.a.createElement("span",{key:t,onClick:function(){return S(e.subjectId)}},r.a.createElement("span",{className:"list-one "+(I==e.subjectId?"active":"")},e.subjectName),t!=g.length-1?r.a.createElement("span",{className:"list-slice-line"}):"")}))),r.a.createElement("div",{className:"test-kind-echart",id:"test-kind-echart"})):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}))}var rs=function(e){var t=e.commonData;return{levelHash:t.levelHash,userInfo:t.userInfo}},ss=Object(d.connect)(rs)(Object(n.memo)(Object(n.forwardRef)(ns))),cs=Tt.BasicProxy;function os(e,t){var a=e.userIdentity,s=(e.testAvg,e.projectList,e.currentTerm),c=e.currentClass,o=e.currentGrade,l=e.reflash,i=e.userInfo,d=i.UserID,m=i.SchoolID,f=Object(n.useState)([]),p=Object(u.a)(f,2),h=p[0],b=p[1],g=Object(n.useState)(0),y=Object(u.a)(g,2),v=y[0],E=y[1];return Object(n.useLayoutEffect)((function(){if(s&&("teacher"!=a||c)&&("student"!=a||d)){var e=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],t="";e.forEach((function(e){e.classId==c&&(t=e.gradeId)}));var n=s&&s.value?JSON.parse(s.value):{},r=cs+"/api/healthy/hee/highSchoolEntranceExaminationSportsResults?studentId="+("student"==a?d:"")+"&classId="+c+"&gradeId="+("teacher"!=a||o?o:t)+"&schoolId="+m+"&startDate="+(n.startDate?n.startDate.substr(0,10):"")+"&endDate="+(n.endDate?n.endDate.substr(0,10):"");Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&b(e.data)})),r=cs+"/api/healthy/hee/totalScoreAverage?studentId="+("student"==a?d:"")+"&classId="+c+"&gradeId="+("teacher"!=a||o?o:t)+"&schoolId="+m+"&startDate="+(n.startDate?n.startDate.substr(0,10):"")+"&endDate="+(n.endDate?n.endDate.substr(0,10):""),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&E(e.data)}))}}),[s,c,o,a,d,m,l]),r.a.createElement("div",{className:"sport-test"},r.a.createElement("div",{className:"test-sum"},r.a.createElement(Wn.a,{type:"circle",percent:v||0,width:92,format:function(e){return e},className:"progress",strokeColor:"#8fdb66"}),r.a.createElement("p",null,"\u4f53\u80b2\u8003\u8bd5\u603b\u5206")),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"sport-project-list"},r.a.createElement(q.Scrollbars,null,h.map((function(e,t){return r.a.createElement("div",{className:"project-list-one",key:t},r.a.createElement("span",{className:"sport-project-name"},e.testName?e.testName:"--"),r.a.createElement(Wn.a,{status:"active",percent:"number"==typeof e.totalScore?parseInt(e.averageScore/e.totalScore*100):0,strokeWidth:12,showInfo:!1,className:"sport-project-progress",strokeColor:"#49aaea"}),r.a.createElement("span",{className:"sport-project-grade",style:{color:"#eb7833"}},"number"==typeof e.averageScore?e.averageScore:"--","\u5206"))})))))}var ls=function(e){var t=e.commonData;return{levelHash:t.levelHash,userInfo:t.userInfo}},is=Object(d.connect)(ls)(Object(n.memo)(Object(n.forwardRef)(os))),us=Tt.BasicProxy,ds=ne.a.Option;function ms(e,t){var a=e.userIdentity,s=(e.testAvg,e.projectList,e.currentTerm),c=e.currentClass,o=e.currentGrade,l=e.userInfo,i=l.UserID,d=l.SchoolID,m=Object(n.useState)({}),f=Object(u.a)(m,2),p=f[0],h=f[1],b=Object(n.useState)("month"),g=Object(u.a)(b,2),y=(g[0],g[1]);return Object(n.useLayoutEffect)((function(){if(s&&("teacher"!=a||c)&&("student"!=a||i)){var e=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],t="";e.forEach((function(e){e.classId==c&&(t=e.gradeId)}));var n=s&&s.value?JSON.parse(s.value):{},r=us+"/api/healthy/sports/dallySportsResults?studentId="+("student"==a?i:"")+"&classId="+c+"&gradeId="+("teacher"!=a||o?o:t)+"&schoolId="+d+"&startDate="+(n.startDate?n.startDate.substr(0,10):"")+"&endDate="+(n.endDate?n.endDate.substr(0,10):"");Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&h(e.data)}))}}),[s,c,o,a,i,d]),Object(n.useEffect)((function(){var e=nn.b(document.getElementById("time-position-echart"));e.resize();e.setOption({tooltip:{trigger:"item"},grid:{top:10,right:0,bottom:0,left:0},title:{text:"\u8fd0\u52a8\u65f6\u95f4\u5206\u5e03\u56fe",left:"center",top:"bottom",textStyle:{padding:[0,0,30,0],fontSize:14,fontWeight:"bold"}},backgroundColor:{type:"radial",x:.5,y:.5,r:.35,colorStops:[{offset:0,color:"white"},{offset:.65,color:"white"},{offset:.66,color:"rgba(0, 0, 0, 0.05)"},{offset:.8,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"white"},{offset:1,color:"white"}]},color:["#89df89","#e84855","#36afd2","#2d3047","#ffb782","pink"],series:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:["25%","60%"],minAngle:25,avoidLabelOverlap:!1,label:{show:!0},emphasis:{itemStyle:{borderWidth:10,borderColor:"rgba(0, 0, 0, 0.05)"}},data:[1,2,3,4,5]}]},!0),window.addEventListener("resize",(function(){e.resize()}))}),[]),Object(n.useEffect)((function(){var e=nn.b(document.getElementById("place-position-echart"));e.resize();e.setOption({tooltip:{trigger:"item"},grid:{top:10,right:0,bottom:0,left:0},title:{text:"\u8fd0\u52a8\u65f6\u95f4\u5206\u5e03\u56fe",left:"center",top:"bottom",textStyle:{padding:[0,0,30,0],fontSize:14,fontWeight:"bold"}},backgroundColor:{type:"radial",x:.5,y:.5,r:.35,colorStops:[{offset:0,color:"white"},{offset:.65,color:"white"},{offset:.66,color:"rgba(0, 0, 0, 0.05)"},{offset:.8,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"white"},{offset:1,color:"white"}]},color:["#89df89","#e84855","#36afd2","#2d3047","#ffb782","pink"],series:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:["25%","60%"],minAngle:25,avoidLabelOverlap:!1,label:{show:!0},emphasis:{itemStyle:{borderWidth:10,borderColor:"rgba(0, 0, 0, 0.05)"}},data:[1,2,3,4,5]}]},!0),window.addEventListener("resize",(function(){e.resize()}))}),[]),Object(n.useEffect)((function(){var e=nn.b(document.getElementById("exercise-count-echart"));e.resize();var t={title:{text:"\u8fd0\u52a8\u6b21\u6570",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6);",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"</span><br/>")})),t}},legend:{top:"50px",left:"58%",data:["\u4e2a\u4eba","\u73ed\u7ea7","\u5e74\u7ea7"],textStyle:{color:"#999999"}},xAxis:{type:"category",name:"\u6708\u4efd",nameTextStyle:{color:"#999999"},data:["\u4e00\u6708\u4efd","\u4e8c\u6708\u4efd","\u4e09\u6708\u4efd","\u56db\u6708\u4efd","\u4e94\u6708\u4efd"],axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u6b21\u6570",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:[1,1,1,0,3]},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:[1,2,0,1,5]},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:[1,2,0,1,5]}]};e.setOption(t,!0),window.addEventListener("resize",(function(){e.resize()}))}),[]),Object(n.useEffect)((function(){var e=nn.b(document.getElementById("exercise-time-echart"));e.resize();var t={title:{text:"\u8fd0\u52a8\u65f6\u957f",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6);",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"</span><br/>")})),t}},legend:{top:"50px",left:"58%",data:["\u4e2a\u4eba","\u73ed\u7ea7","\u5e74\u7ea7"],textStyle:{color:"#999999"}},xAxis:{type:"category",name:"\u6708\u4efd",nameTextStyle:{color:"#999999"},data:["\u4e00\u6708\u4efd","\u4e8c\u6708\u4efd","\u4e09\u6708\u4efd","\u56db\u6708\u4efd","\u4e94\u6708\u4efd"],axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u65f6\u957f/h",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:[1,1,1,0,3]},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:[1,2,0,1,5]},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:[1,2,0,1,5]}]};e.setOption(t,!0),window.addEventListener("resize",(function(){e.resize()}))}),[]),r.a.createElement("div",{className:"detail-exercise"},r.a.createElement("span",{className:"exercise-info"},"\u4f53\u80b2\u8bfe\u7a0b:",r.a.createElement("span",null,"number"==typeof p.classPerWeek?parseInt(p.classPerWeek)+"\u6b21/\u5468":"--")),r.a.createElement("span",{className:"exercise-info"},"\u4f53\u80b2\u8fd0\u52a8\u4f1a:",r.a.createElement("span",null,"number"==typeof p.schoolSportsMettingTimes?p.schoolSportsMettingTimes+"\u6b21":"--")),r.a.createElement("div",{className:"exercise-card-container"},r.a.createElement("div",{className:"exercise-card time"},r.a.createElement("i",{className:"exerciselogo"}),r.a.createElement("p",null,"\u8fd0\u52a8\u65f6\u957f:",r.a.createElement("span",null,r.a.createElement("span",{className:"number-font"},"number"==typeof p.sportTimeDayAVG&&p.sportTimeDayAVG/60>60?parseInt(p.sportTimeDayAVG/60/60):""),r.a.createElement("span",null,"number"==typeof p.sportTimeDayAVG&&p.sportTimeDayAVG/60>60?"h":""),r.a.createElement("span",{className:"number-font"},"number"==typeof p.sportTimeDayAVG?p.sportTimeDayAVG/60>60?parseInt(p.sportTimeDayAVG%60/60):p.sportTimeDayAVG/60>1?parseInt(p.sportTimeDayAVG/60):"":""),r.a.createElement("span",null,"number"==typeof p.sportTimeDayAVG&&p.sportTimeDayAVG/60>1?"min":""),r.a.createElement("span",{className:"number-font"},"number"==typeof p.sportTimeDayAVG?p.sportTimeDayAVG/3600>1?p.sportTimeDayAVG%3600>60?parseInt(p.sportTimeDayAVG%3600/60):parseInt(p.sportTimeDayAVG%3600):p.sportTimeDayAVG/60>1?parseInt(p.sportTimeDayAVG/60):parseInt(p.sportTimeDayAVG):"--"),"s")),r.a.createElement("p",{className:"exercise-avg"},"\u73ed\u7ea7\u5e73\u5747:10h; \u5e74\u7ea7\u5e73\u5747:9h")),r.a.createElement("div",{className:"exercise-card count"},r.a.createElement("i",{className:"exerciselogo"}),r.a.createElement("p",null,"\u8fd0\u52a8\u6b21\u6570:",r.a.createElement("span",null,"10h")),r.a.createElement("p",{className:"exercise-avg"},"\u73ed\u7ea7\u5e73\u5747:10h; \u5e74\u7ea7\u5e73\u5747:9h")),r.a.createElement("div",{className:"exercise-card frequency"},r.a.createElement("i",{className:"exerciselogo"}),r.a.createElement("p",null,"\u8fd0\u52a8\u9891\u7387:",r.a.createElement("span",null,"10h")),r.a.createElement("p",{className:"exercise-avg"},"\u73ed\u7ea7\u5e73\u5747:10h; \u5e74\u7ea7\u5e73\u5747:9h"))),r.a.createElement("div",{className:"exercise-pie-echart"},r.a.createElement("div",{className:"time-position-echart",id:"time-position-echart"}),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"place-position-echart",id:"place-position-echart"})),r.a.createElement("div",{className:"select-container"},r.a.createElement("span",null,"\u65f6\u95f4:"),r.a.createElement(ne.a,{defaultValue:"month",className:"select",onChange:function(e){return y(e)}},r.a.createElement(ds,{value:"day"},"\u6309\u5929\u6570"),r.a.createElement(ds,{value:"week"},"\u6309\u5468\u6b21"),r.a.createElement(ds,{value:"month"},"\u6309\u6708\u4efd"))),r.a.createElement("div",{className:"exercise-bar-container"},r.a.createElement("div",{className:"exercise-count-echart",id:"exercise-count-echart"}),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"exercise-time-echart",id:"exercise-time-echart"})))}var fs=function(e){var t=e.commonData;return{levelHash:t.levelHash,userInfo:t.userInfo}},ps=Object(d.connect)(fs)(Object(n.memo)(Object(n.forwardRef)(ms))),hs=Tt.BasicProxy;function bs(e,t){var a=e.userIdentity,s=e.currentClass,c=e.currentGrade,o=e.currentTerm,l=e.userInfo,i=l.UserID,d=l.SchoolID,f=e.reflash,p=Object(n.useState)("test"),h=Object(u.a)(p,2),b=h[0],g=h[1],y=Object(n.useState)("--"),v=Object(u.a)(y,2),E=v[0],I=v[1],S=Object(n.useState)({}),O=Object(u.a)(S,2),x=O[0],N=O[1],j=Object(n.useState)({}),w=Object(u.a)(j,2),D=(w[0],w[1],Object(n.useState)({})),T=Object(u.a)(D,2),k=T[0],C=T[1],L=Object(n.useState)({}),A=Object(u.a)(L,2),J=A[0],R=A[1],M=Object(n.useState)(!1),P=Object(u.a)(M,2),W=P[0],H=P[1],z=Object(n.useState)(!1),U=Object(u.a)(z,2),B=U[0],F=U[1],G=Object(n.useState)(!1),_=Object(u.a)(G,2),V=_[0],Y=_[1],Z=Object(n.useState)([]),Q=Object(u.a)(Z,2),X=Q[0],K=Q[1],$=Object(n.useState)([]),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)([]),re=Object(u.a)(ne,2),se=re[0],ce=re[1],oe=Object(n.useState)([]),le=Object(u.a)(oe,2),ie=le[0],ue=le[1],de=Object(n.useState)([]),me=Object(u.a)(de,2),fe=me[0],pe=me[1],he=Object(n.useState)("student"==a?"course":"list"),be=Object(u.a)(he,2),ge=be[0],ve=be[1];Object(n.useLayoutEffect)((function(){if(o&&("teacher"!=a||s)){var e=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],t="";e.forEach((function(e){e.classId==s&&(t=e.gradeId)}));var n=o&&o.value&&JSON.parse(o.value),r=hs+"/api/healthy/physicalTest/averageScore?studentId="+("student"==a?i:"")+"&classId="+s+"&gradeId="+("teacher"!=a||c?c:t)+"&startDate="+n.startDate.substr(0,10)+"&endDate="+n.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&I(e.data)})),r=hs+"/api/healthy/physicalTest/score/list?studentId="+("student"==a?i:"")+"&classId="+s+"&gradeId="+("teacher"!=a||c?c:t)+"&startDate="+n.startDate.substr(0,10)+"&endDate="+n.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&N(e.data)})),r=hs+"/api/healthy/physicalTest/score/list?studentId="+("student"==a?i:"")+"&classId="+s+"&gradeId="+("teacher"!=a||c?c:t)+"&startDate="+n.startDate.substr(0,10)+"&endDate="+n.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&N(e.data)}))}}),[o,s,c,a,f]),Object(n.useLayoutEffect)((function(){if(o){var e=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],t="";e.forEach((function(e){e.classId==s&&(t=e.gradeId)}));var n=o&&o.value&&JSON.parse(o.value),r=hs+"/api/healthy/leave/sickRecord?studentId="+("student"==a?i:"")+"&classId="+s+"&gradeId="+("teacher"!=a||c?c:t)+"&startDate="+n.startDate.substr(0,10)+"&endDate="+n.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&C(e.data)})),r=hs+"/api/healthy/temperature/dallyHealthyInfo?studentId="+("student"==a?i:"")+"&classId="+s+"&gradeId="+("teacher"!=a||c?c:t)+"&startDate="+n.startDate.substr(0,10)+"&endDate="+n.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&R(e.data)}))}}),[o,s,c,a,f]);var Ee={1:"\u75c5\u5047",2:"\u4e8b\u5047",0:"\u5176\u4ed6"},Ie=[{key:"test",name:"\u4f53\u6d4b\u60c5\u51b5"},{key:"exam",name:"\u4f53\u80b2\u4e2d\u8003"},{key:"health",name:"\u65e5\u5e38\u5065\u5eb7"}];Object(n.useLayoutEffect)((function(){if("teacher"==a&&s){var e=hs+"/api/base/getStudentInfo?schoolId="+d+"&gradeId="+c+"&classId="+s;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(K(e.data),ae(e.data))}))}}),[a,i,s,c,o,f]),Object(n.useLayoutEffect)((function(){if("student"==a){var e=o&&o.value&&JSON.parse(o.value),t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";t.forEach((function(e){e.classId==s&&(n=e.gradeId)}));var r=hs+"/api/healthy/physicalTest/score/list?studentId="+i+"&classId="+s+"&gradeId="+n+"&schoolId="+d+"&termId="+e.termId+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&Array.isArray(e.data)){var t=[];e.data.forEach((function(e){var a=Object(m.a)({},e);a.subjectName=e.subjectName,a.subjectTotalScore=e.subjectTotalScore,t.push(a)})),ce(t)}})),r=hs+"/api/healthy/temperature/list?studentId="+i+"&classId="+s+"&gradeId="+c+"&schoolId="+d+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&(e.data.forEach((function(e){e.normal=e.normal?"\u662f":"\u5426"})),ue(e.data))})),r=hs+"/api/healthy/leave/list?studentId="+i+"&classId="+s+"&gradeId="+n+"&schoolId="+d+"&type=0&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&(e.data.forEach((function(e){e.offworkType=Ee[e.offworkType]})),pe(e.data))}))}}),[o,s,c,a,i,f]);var Se=function(e,t){var a=o&&o.value&&JSON.parse(o.value),n=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],r="";if(n.forEach((function(e){e.classId==s&&(r=e.gradeId)})),"test"==t){var l=hs+"/api/healthy/physicalTest/score/list?studentId="+e.userId+"&classId="+s+"&gradeId="+r+"&schoolId="+d+"&termId="+a.termId+"&startDate="+a.startDate.substr(0,10)+"&endDate="+a.endDate.substr(0,10);Qt.get({url:l,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&Array.isArray(e.data)){var t=[];e.data.forEach((function(e){var a=Object(m.a)({},e);a.subjectName=e.subjectName,a.subjectTotalScore=e.subjectTotalScore,t.push(a)})),ce(t),ve("detail")}}))}if("tem"==t){var i=hs+"/api/healthy/temperature/list?studentId="+e.userId+"&classId="+s+"&gradeId="+c+"&schoolId="+d+"&startDate="+a.startDate.substr(0,10)+"&endDate="+a.endDate.substr(0,10);Qt.get({url:i,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&(e.data.forEach((function(e){e.normal=e.normal?"\u662f":"\u5426"})),ue(e.data),ve("detail"))}))}if("sick"==t){var u=hs+"/api/healthy/leave/list?studentId="+e.userId+"&classId="+s+"&gradeId="+r+"&schoolId="+d+"&type=0&startDate="+a.startDate.substr(0,10)+"&endDate="+a.endDate.substr(0,10);Qt.get({url:u,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&(e.data.forEach((function(e){e.offworkType=Ee[e.offworkType]})),pe(e.data),ve("detail"))}))}};return r.a.createElement("div",{className:"body-health"},r.a.createElement("div",{className:"kind-list"},r.a.createElement("span",null,"\u7c7b\u578b:"),Ie.map((function(e,t){return r.a.createElement("div",{style:{margin:0},key:t,onClick:function(){return g(e.key)}},r.a.createElement("span",{className:"list-one "+(b==e.key?"active":"")},e.name),t!=Ie.length-1?r.a.createElement("span",{className:"list-slice-line"}):"")})),"manager"!=a?"test"==b?r.a.createElement("div",{className:"status-btn"},r.a.createElement("span",{className:"test-status-info",onClick:function(){return H(!0)}},"\u67e5\u770b\u4f53\u6d4b\u8be6\u7ec6\u4fe1\u606f")):"health"==b?r.a.createElement("div",{className:"status-btn"},r.a.createElement("span",{className:"test-status-info",onClick:function(){return F(!0)}},"\u67e5\u770b\u4f53\u6e29\u8be6\u7ec6\u4fe1\u606f"),r.a.createElement("span",{className:"test-status-info",onClick:function(){return Y(!0)}},"\u67e5\u770b\u75c5\u5047\u8be6\u7ec6\u4fe1\u606f")):"":""),"exam"==b?r.a.createElement(is,{userIdentity:a,currentKind:b,currentClass:s,currentGrade:c,reflash:f,currentTerm:o}):"sport"==b?r.a.createElement(ps,{userIdentity:a,currentKind:b,currentClass:s,currentGrade:c,reflash:f,currentTerm:o}):"health"==b?r.a.createElement(ts,{userIdentity:a,currentKind:b,currentClass:s,currentGrade:c,reflash:f,currentTerm:o,sickInfo:k,temperatureInfo:J}):r.a.createElement(ss,{userIdentity:a,currentClass:s,currentGrade:c,currentTerm:o,reflash:f,currentKind:b,testAvg:E,projectList:x}),r.a.createElement(De,{type:"1",title:"\u4f53\u6d4b\u8be6\u60c5",visible:W,onOk:function(){return H(!0)},onCancel:function(){"student"!=a&&ve("list"),H(!1)},footer:null,width:1e3,className:"height-weight-modal",bodyStyle:{height:"632px",padding:20}},"list"==ge?r.a.createElement("div",null,r.a.createElement("p",{className:"stu-count"},"\u5171",r.a.createElement("span",null,X.length),"\u4eba"),r.a.createElement("ul",{className:"member-list"},r.a.createElement(q.Scrollbars,{autoHeight:!0,autoHeightMax:550},te.length>0?te.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return Se(e,"test")}},r.a.createElement("i",{className:"user-header",style:{backgroundImage:e.photoPath?e.photoPath:""}}),r.a.createElement("p",{title:e.userName},e.userName))})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"150px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))):r.a.createElement("div",null,"student"!=a?r.a.createElement("span",{className:"reback-prev",onClick:function(){return ve("list")}},"\u8fd4\u56de\u5b66\u751f\u5217\u8868"):"",r.a.createElement(Ka,{style:{marginTop:20},tableHeader:[{key:"subjectName",name:"\u4f53\u6d4b\u9879\u76ee\u540d\u79f0"},{key:"subjectTotalScore",name:"\u9879\u76ee\u603b\u5206"},{key:"studentAverageScore",name:"\u4e2a\u4eba\u5e73\u5747\u6210\u7ee9"},{key:"maxScore",name:"\u6700\u9ad8\u6210\u7ee9"}],data:se}))),r.a.createElement(De,{type:"1",title:"\u4f53\u6e29\u8be6\u60c5",visible:B,onOk:function(){return F(!0)},onCancel:function(){"student"!=a&&ve("list"),F(!1)},footer:null,width:1e3,className:"height-weight-modal",bodyStyle:{height:"632px",padding:20}},"list"==ge?r.a.createElement("div",null,r.a.createElement("p",{className:"stu-count"},"\u5171",r.a.createElement("span",null,X.length),"\u4eba"),r.a.createElement("ul",{className:"member-list"},r.a.createElement(q.Scrollbars,{autoHeight:!0,autoHeightMax:550},te.length>0?te.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return Se(e,"tem")}},r.a.createElement("i",{className:"user-header",style:{backgroundImage:e.photoPath?e.photoPath:""}}),r.a.createElement("p",{title:e.userName},e.userName))})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"150px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))):r.a.createElement("div",null,"student"!=a?r.a.createElement("span",{className:"reback-prev",onClick:function(){return ve("list")}},"\u8fd4\u56de\u5b66\u751f\u5217\u8868"):"",r.a.createElement(Ka,{style:{marginTop:20},tableHeader:[{key:"createTime",name:"\u65e5\u671f"},{key:"temperature",name:"\u5e73\u5747\u4f53\u6e29\u6e29\u5ea6/\u2103"},{key:"normal",name:"\u4f53\u6e29\u662f\u5426\u6b63\u5e38"}],data:ie}))),r.a.createElement(De,{type:"1",title:"\u75c5\u5047\u8be6\u60c5",visible:V,onOk:function(){return Y(!0)},onCancel:function(){"student"!=a&&ve("list"),Y(!1)},footer:null,width:1e3,className:"height-weight-modal",bodyStyle:{height:"632px",padding:20}},"list"==ge?r.a.createElement("div",null,r.a.createElement("p",{className:"stu-count"},"\u5171",r.a.createElement("span",null,X.length),"\u4eba"),r.a.createElement("ul",{className:"member-list"},r.a.createElement(q.Scrollbars,{autoHeight:!0,autoHeightMax:550},te.length>0?te.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return Se(e,"sick")}},r.a.createElement("i",{className:"user-header",style:{backgroundImage:e.photoPath?e.photoPath:""}}),r.a.createElement("p",{title:e.userName},e.userName))})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"150px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))):r.a.createElement("div",null,"student"!=a?r.a.createElement("span",{className:"reback-prev",onClick:function(){return ve("list")}},"\u8fd4\u56de\u5b66\u751f\u5217\u8868"):"",r.a.createElement(Ka,{style:{marginTop:20},tableHeader:[{key:"fromTime",name:"\u8bf7\u5047\u65e5\u671f"},{key:"offworkType",name:"\u8bf7\u5047\u7c7b\u578b"},{key:"reason",name:"\u8bf7\u5047\u539f\u56e0"},{key:"dayNumber",name:"\u8bf7\u5047\u65f6\u957f(\u5929)"},{key:"applierName",name:"\u6279\u51c6\u4eba\u59d3\u540d"}],data:fe}))))}var gs=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},ys=Object(d.connect)(gs)(Object(n.memo)(Object(n.forwardRef)(bs))),vs=Tt.BasicProxy;function Es(e,t){var a=e.userIdentity,s=(e.testAvg,e.projectList,e.currentTerm),c=e.currentClass,o=e.currentGrade,l=e.reflash,i=e.userInfo,d=i.UserID,m=i.SchoolID,f=Object(n.useState)({}),p=Object(u.a)(f,2),h=p[0],b=p[1];return Object(n.useLayoutEffect)((function(){if(s&&("student"!=a||d)&&("teacher"!=a||c)){var e=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],t="";e.forEach((function(e){e.classId==c&&(t=e.gradeId)}));var n=s&&s.value?JSON.parse(s.value):{},r=vs+"/api/healthy/mentalHealthy/mentalHealthyInfo?classId="+c+"&gradeId="+("teacher"!=a||o?o:t)+"&schoolId="+m+"&startDate="+(n.startDate?n.startDate.substr(0,10):"")+"&endDate="+(n.endDate?n.endDate.substr(0,10):"");Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&b(e.data)}))}}),[s,c,o,a,d,l]),r.a.createElement("div",{className:"mind-health"},r.a.createElement("div",{className:"show-top"},Array.isArray(h.mentalHealthTestList)&&h.mentalHealthTestList.length>0?h.mentalHealthTestList.map((function(e,t){return r.a.createElement("div",{className:"test-info-one "+("\u8f7b\u5ea6\u6291\u90c1"==e.testResult?"orange":"\u6b63\u5e38"==e.testResult?"green":"\u5f02\u5e38"==e.testResult?"red":"green"),key:t},r.a.createElement("i",{className:"cardlogo"}),r.a.createElement("p",{className:"test-name"},r.a.createElement("i",{className:"dotlogo"}),e.testName?e.testName:"--"),"manager"==a?r.a.createElement("p",{className:"test-num"},r.a.createElement("span",null,"\u6b63\u5e38\u4eba\u6570:",r.a.createElement("span",{style:{color:"green"}},e.normalNumber)),r.a.createElement("span",null,"\u5f02\u5e38\u4eba\u6570:",r.a.createElement("span",{style:{color:"#ff0000"}},e.normalNumber))):"",r.a.createElement("p",{className:"test-time"},"\u6d4b\u8bd5\u65f6\u95f4: ",e.testDate))})):r.a.createElement(ye,{style:{margin:"40px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))}var Is=function(e){var t=e.commonData;return{levelHash:t.levelHash,userInfo:t.userInfo}},Ss=Object(d.connect)(Is)(Object(n.memo)(Object(n.forwardRef)(Es))),Os=Tt.BasicProxy;function xs(e,t){var a=e.term,s=(e.HasHistory,e.onAnchorComplete),c=(e.schoolID,e.collegeID,e.productMsg,e.currentClass),o=e.currentGrade,l=e.userIdentity,i=e.userInfo,d=i.SchoolID,f=i.UserID,p=e.reflash,h=Object(n.useState)({}),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useState)(!1),E=Object(u.a)(v,2),I=E[0],S=E[1],O=Object(n.useState)(!1),x=Object(u.a)(O,2),N=x[0],j=x[1],w=Object(n.useState)(!1),D=Object(u.a)(w,2),T=(D[0],D[1],Object(n.useState)([])),k=Object(u.a)(T,2),C=k[0],L=k[1],A=Object(n.useState)([]),J=Object(u.a)(A,2),R=J[0],M=J[1],P=Object(n.useState)([]),W=Object(u.a)(P,2),H=W[0],z=W[1],U=Object(n.useState)([]),B=Object(u.a)(U,2),F=B[0],G=B[1],_=Object(n.useState)(""),V=Object(u.a)(_,2),Y=(V[0],V[1],Object(n.useState)("student"==l?"detail":"list")),Z=Object(u.a)(Y,2),Q=Z[0],X=Z[1],K=Object(n.useRef)(null),q=Object(n.useRef)(null),ee=Object(n.useRef)(null);Object(n.useLayoutEffect)((function(){"function"===typeof s&&s([{ref:K.current,name:"\u57fa\u672c\u60c5\u51b5"},{ref:q.current,name:"\u8eab\u4f53\u5065\u5eb7"},{ref:ee.current,name:"\u5fc3\u7406\u5065\u5eb7"}])}),[]),Object(n.useLayoutEffect)((function(){if(("teacher"!=l||c)&&("student"!=l||f&&c&&o)&&a){var e=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],t="";e.forEach((function(e){e.classId==c&&(t=e.gradeId)}));var n=a.value&&JSON.parse(a.value);if("student"!=l&&(c||o)){var r=Os+"/api/healthy/overview?classId="+c+"&gradeId="+("teacher"==l?t:o)+"&studentId="+("student"==l?f:"")+"&startDate="+n.startDate.substr(0,10)+"&endDate="+n.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&e.data){var t=Object(m.a)(Object(m.a)({},K),{},{baseInfo:e.data,avgInfo:e.data});y(t)}}))}if("student"==l){var s=Os+"/api/healthy/overview?classId="+c+"&gradeId="+o+"&studentId="+("student"==l?f:"")+"&startDate="+n.startDate.substr(0,10)+"&endDate="+n.endDate.substr(0,10);Qt.get({url:s,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&e.data){var t={avgInfo:e.data};s=Os+"/api/healthy/studentHealthInfo?studentId="+f,Qt.get({url:s,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(t.baseInfo=e.data,y(t))}))}}))}}}),[a,c,o,l,p]),Object(n.useLayoutEffect)((function(){if("teacher"==l&&c){var e=Os+"/api/base/getStudentInfo?schoolId="+d+"&gradeId="+o+"&classId="+c;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(z(e.data),G(e.data))}))}}),[l,f,c,o,a,p]),Object(n.useLayoutEffect)((function(){if("student"==l&&f&&a){var e=a&&a.value&&JSON.parse(a.value),t=Os+"/api/healthy/studentHealthInfoLogs?studentId="+f+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&L(e.data)})),t=Os+"/api/healthy/mentalHealthy/student/testResult?studentId="+f+"&schoolId="+d+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&M(e.data.testResults)}))}}),[a,c,o,l,p]);var te=function(e,t){var n=a&&a.value&&JSON.parse(a.value);if("base"==t){var r=Os+"/api/healthy/studentHealthInfoLogs?studentId="+e.userId+"&startDate="+n.startDate.substr(0,10)+"&endDate="+n.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(L(e.data),X("detail"))}))}if("mind"==t){var s=Os+"/api/healthy/mentalHealthy/student/testResult?studentId="+e.userId+"&schoolId="+d+"&startDate="+n.startDate.substr(0,10)+"&endDate="+n.endDate.substr(0,10);Qt.get({url:s,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(M(e.data.testResults),X("detail"))}))}};return r.a.createElement("div",{className:"stu-condition",id:"healthMsg"},r.a.createElement($a,{barName:"\u57fa\u672c\u60c5\u51b5",ref:K,topContext:("student"==l||"teacher"==l)&&r.a.createElement("div",{className:"module-link-group"},r.a.createElement("span",{className:"status",onClick:function(){S(!0)}},"\u67e5\u770b\u8eab\u9ad8\u4f53\u91cd\u8be6\u60c5\u4fe1\u606f")),loading:!1},r.a.createElement(Xr,{userIdentity:l,currentClass:c,currentGrade:o,currentTerm:a,reflash:p,data:g})),r.a.createElement($a,{loading:!1,barName:"\u8eab\u4f53\u5065\u5eb7",ref:q},r.a.createElement(ys,{currentClass:c,currentGrade:o,currentTerm:a,reflash:p,userIdentity:l})),r.a.createElement($a,{loading:!1,barName:"\u5fc3\u7406\u5065\u5eb7",ref:ee,topContext:("student"==l||"teacher"==l)&&r.a.createElement("div",{className:"module-link-group"},r.a.createElement("span",{className:"status",onClick:function(){j(!0)}},"\u67e5\u770b\u8bc4\u6d4b\u8be6\u60c5\u4fe1\u606f"))},r.a.createElement(Ss,{currentClass:c,currentGrade:o,currentTerm:a,reflash:p,userIdentity:l})),r.a.createElement(De,{type:"1",title:"\u57fa\u672c\u60c5\u51b5\u8be6\u60c5",visible:I,onOk:function(){return S(!0)},onCancel:function(){"student"!=l&&X("list"),S(!1)},footer:null,width:1e3,className:"height-weight-modal",bodyStyle:{height:"632px",padding:20}},"list"==Q?r.a.createElement("div",null,r.a.createElement("p",{className:"stu-count"},"\u5171",r.a.createElement("span",null,H.length),"\u4eba"),r.a.createElement("ul",{className:"member-list"},r.a.createElement($.a,{autoHeight:!0,autoHeightMax:580},F.length>0?F.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return te(e,"base")}},r.a.createElement("i",{className:"user-header",style:{backgroundImage:e.photoPath?e.photoPath:""}}),r.a.createElement("p",{title:e.userName},e.userName))})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"80px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))):r.a.createElement("div",null,"student"!=l?r.a.createElement("span",{className:"reback-prev",onClick:function(){return X("list")}},"\u8fd4\u56de\u5b66\u751f\u5217\u8868"):"",r.a.createElement(Ka,{style:{marginTop:20},tableHeader:[{key:"userName",name:"\u59d3\u540d"},{key:"height",name:"\u8eab\u9ad8"},{key:"weight",name:"\u4f53\u91cd"},{key:"bmiIndex",name:"BMI"},{key:"recordTime",name:"\u8bb0\u5f55\u65f6\u95f4"}],data:C}))),r.a.createElement(De,{type:"1",title:"\u57fa\u672c\u60c5\u51b5\u8be6\u60c5",visible:N,onOk:function(){return j(!0)},onCancel:function(){"student"!=l&&X("list"),j(!1)},footer:null,width:1e3,className:"height-weight-modal",bodyStyle:{height:"632px",padding:20}},"list"==Q?r.a.createElement("div",null,r.a.createElement("p",{className:"stu-count"},"\u5171",r.a.createElement("span",null,H.length),"\u4eba"),r.a.createElement("ul",{className:"member-list"},r.a.createElement($.a,{autoHeight:!0,autoHeightMax:580},F.length>0?F.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return te(e,"mind")}},r.a.createElement("i",{className:"user-header",style:{backgroundImage:e.photoPath?e.photoPath:""}}),r.a.createElement("p",{title:e.userName},e.userName))})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"80px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))):r.a.createElement("div",null,"student"!=l?r.a.createElement("span",{className:"reback-prev",onClick:function(){return X("list")}},"\u8fd4\u56de\u5b66\u751f\u5217\u8868"):"",r.a.createElement(Ka,{style:{marginTop:20},tableHeader:[{key:"testDate",name:"\u6d4b\u8bd5\u65e5\u671f"},{key:"projectName",name:"\u6d4b\u8bd5\u9879\u76ee\u540d\u79f0"},{key:"normal",name:"\u662f\u5426\u6b63\u5e38"},{key:"conclusion",name:"\u7ed3\u8bba"}],data:R}))))}var Ns=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},js=Object(d.connect)(Ns)(Object(n.memo)(Object(n.forwardRef)(xs))),ws=(a(852),Tt.BasicProxy);function Ds(e,t){var a=e.currentTerm,s=e.currentGrade,c=e.currentClass,o=e.reflash,l=e.userIdentity,i=e.userInfo.SchoolID,d=Object(n.useState)([]),f=Object(u.a)(d,2),p=f[0],h=f[1],b=Object(n.useState)([]),g=Object(u.a)(b,2),y=g[0],v=g[1];return Object(n.useLayoutEffect)((function(){var e=a.value?JSON.parse(a.value):{};if(("manager"!=l||c)&&("teacher"!=l||c)){var t=ws+"/api/punishAndReward/rewards/rank?classId="+c+"&startDate="+(e.startDate?e.startDate.substr(0,10):"")+"&endDate="+(e.endDate?e.endDate.substr(0,10):"");Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&Array.isArray(e.data)){var t=e.data.splice(0,5);h(t)}})),t=ws+"/api/punishAndReward/punishment/rank?classId="+c+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&Array.isArray(e.data)){var t=e.data.splice(0,5);v(t)}}))}}),[a,s,c,o]),Object(n.useLayoutEffect)((function(){var e=a.value?JSON.parse(a.value):{};if("manager"==l&&!c){var t=ws+"/api/punishAndReward/rewards/leader/classRank?classId=&gradeId="+s+"&schoolId="+i+"&startDate="+(e.startDate?e.startDate.substr(0,10):"")+"&endDate="+(e.endDate?e.endDate.substr(0,10):"");Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&Array.isArray(e.data)){var t=[];e.data.forEach((function(e){var a=Object(m.a)(Object(m.a)({},e.classInfo),{},{rewardsCount:e.rewardsCount});t.push(a)}));var a=t.splice(0,5);h(a)}})),t=ws+"/api/punishAndReward/punishment/leader/classRank?classId=&gradeId="+s+"&schoolId="+i+"&startDate="+(e.startDate?e.startDate.substr(0,10):"")+"&endDate="+(e.endDate?e.endDate.substr(0,10):""),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&Array.isArray(e.data)){var t=[];e.data.forEach((function(e){var a=Object(m.a)(Object(m.a)({},e.classInfo),{},{punishCount:e.punishCount});t.push(a)}));var a=t.splice(0,5);v(a)}}))}}),[a,s,c,o]),r.a.createElement("div",{className:"award-punish-rank"},r.a.createElement("div",{className:"award-rank"},r.a.createElement("i",{className:"award-logo"}),r.a.createElement("ul",{className:"rank-list"},p.length>0?p.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("i",{className:"ranklogo "+(0==t?"one":1==t?"two":2==t?"three":"")}),e.userImageUrl?r.a.createElement("img",{src:e.userImageUrl}):"",r.a.createElement("span",{className:"rank-name",title:e.username||e.className},e.username||e.className),r.a.createElement("span",{className:"rank-grade "+(0==t?"one":1==t?"two":2==t?"three":""),title:e.rewardsCount},"\u83b7\u5f97",e.rewardsCount,"\u4e2a\u5956\u9879"))})):r.a.createElement(ye,{className:"bar-empty",title:"\u6682\u65e0\u6570\u636e",type:"4"}))),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"punish-rank"},r.a.createElement("i",{className:"punish-logo"}),r.a.createElement("ul",{className:"rank-list"},y.length>0?y.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("i",{className:"ranklogo"}),e.userImageUrl?r.a.createElement("img",{src:e.userImageUrl}):"",r.a.createElement("span",{className:"rank-name",title:e.username||e.className},e.username||e.className),r.a.createElement("span",{className:"rank-grade "+(0==t?"one":1==t?"two":2==t?"three":""),title:e.punishCount},"\u53d7\u5230",e.punishCount,"\u4e2a\u5904\u7f5a"))})):r.a.createElement(ye,{className:"bar-empty",title:"\u6682\u65e0\u6570\u636e",type:"4"}))))}var Ts=function(e){var t=e.commonData;return{levelHash:t.levelHash,userInfo:t.userInfo}},ks=Object(d.connect)(Ts)(Object(n.memo)(Object(n.forwardRef)(Ds))),Cs=Tt.BasicProxy,Ls=ne.a.Option;function As(e,t){var a=e.userIdentity,s=e.currentTerm,c=e.currentGrade,o=e.currentClass,l=e.userInfo,i=l.UserID,d=l.SchoolID,m=e.reflash,f=Object(n.useState)([]),p=Object(u.a)(f,2),h=p[0],b=p[1],g=Object(n.useState)([]),y=Object(u.a)(g,2),v=y[0],E=y[1],I=Object(n.useState)([]),S=Object(u.a)(I,2),O=(S[0],S[1]),x=Object(n.useState)("1"),N=Object(u.a)(x,2),j=N[0],w=N[1],D={1:"\u4e00\u7b49\u5956",2:"\u4e8c\u7b49\u5956",3:"\u4e09\u7b49\u5956","-1":"\u5176\u4ed6"},T=[new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#F79750"},{offset:1,color:"#FFB681"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#2D3149"},{offset:1,color:"#363D71"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#E84956"},{offset:1,color:"#E9707A"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#6E54CC"},{offset:1,color:"#7E90E9"}])];Object(n.useLayoutEffect)((function(){var e,t=s.value&&JSON.parse(s.value);("manager"!=a||c||o)&&(("student"!=a||i&&o&&c)&&t.startDate&&t.endDate&&("teacher"!=a||o)&&(e=Cs+"/api/punishAndReward/rewards/list?studentId=&classId=&gradeId="+c+"&startDate="+t.startDate.substr(0,10)+"&endDate="+t.endDate.substr(0,10),Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&O(e.data)}))))}),[s,o,c,m]),Object(n.useLayoutEffect)((function(){var e=s.value&&JSON.parse(s.value);if(e.startDate&&e.endDate&&("student"!=a||i&&o&&c)&&("manager"!=a||c||o)&&("teacher"!=a||o)){var t;if("student"==a){if(!i)return;t=Cs+"/api/punishAndReward/rewards/list?studentId="+("student"==a?i:"")+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10)}else{if("teacher"==a&&!o)return;t=Cs+"/api/punishAndReward/rewards/list?studentId=&classId="+o+"&gradeId="+c+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10)}Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)?b(e.data):b(!1)}))}}),[s,o,c,m]),Object(n.useLayoutEffect)((function(){var e=s.value&&JSON.parse(s.value);if(e.startDate&&e.endDate&&("manager"!=a||c||o)&&("student"!=a||i&&o&&c)&&("teacher"!=a||o)){var t=Cs+"/api/punishAndReward/rewards/distribution?id="+("student"==a?i:"teacher"==a?o:"manager"==a?o||(c||""):"")+"&queryType="+("student"==a?1:"teacher"==a||o?2:c?3:"")+"&periodType="+j+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&E(e.data)}))}}),[s,o,c,i,a,j,m]),Object(n.useLayoutEffect)((function(){var e=s.value?JSON.parse(s.value):{};if(e.startDate&&e.endDate&&"manager"==a&&!o&&!c){var t=Cs+"/api/punishAndReward/rewards/leader/list?classId=&gradeId=&schoolId="+d+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10)+"&page=1&pageSize=100";Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data?b(e.data.records):b(!1)}))}}),[s,o,c,m,d]),Object(n.useLayoutEffect)((function(){var e=s.value?JSON.parse(s.value):{};if(e.startDate&&e.endDate&&"manager"==a&&!o&&!c){var t=Cs+"/api/punishAndReward/rewards/leader/distribution?classId=&gradeId=&schoolId="+d+"&periodType="+j+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&E(e.data)}))}}),[s,o,c,i,a,j,m]),Object(n.useEffect)((function(){if(h&&0!=h.length){var e=h.map((function(e){return e.awardLevelName}));e=Object(yn.a)(new Set(e));var t=[];e.forEach((function(e){var a=[];h.forEach((function(t){t.awardLevelName==e&&a.push(a)}));var n={name:e,value:a.length};t.push(n)}));var a=nn.b(document.getElementById("rank-position-echart"));a.resize();var n={tooltip:{trigger:"item"},grid:{top:0,right:0,bottom:0,left:0},title:{text:"\u83b7\u5956\u7b49\u7ea7\u5206\u5e03\u56fe",left:"center",top:"80%",textStyle:{padding:[0,0,30,0],fontSize:14,fontWeight:"bold"}},backgroundColor:{type:"radial",x:.5,y:.45,r:.32,colorStops:[{offset:0,color:"white"},{offset:.65,color:"white"},{offset:.66,color:"rgba(0, 0, 0, 0.05)"},{offset:.8,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0)"},{offset:1,color:"rgba(0, 0, 0, 0)"}]},color:["#89df89","#e84855","#36afd2","#2d3047","#ffb782","pink"],series:[{name:"\u83b7\u5956\u7b49\u7ea7",type:"pie",radius:["25%","55%"],center:["50%","45%"],minAngle:25,avoidLabelOverlap:!1,label:{show:!0,color:"auto",formatter:"{b}  {d}%"},emphasis:{itemStyle:{borderWidth:10,borderColor:"rgba(0, 0, 0, 0.05)"}},data:t}]};a.setOption(n,!0),window.addEventListener("resize",(function(){a.resize()}))}}),[h]),Object(n.useEffect)((function(){if(h&&0!=h.length){var e=h.map((function(e){return D[e.awardClass]?D[e.awardClass]:"\u5176\u4ed6"}));e=Object(yn.a)(new Set(e));var t=[];e.forEach((function(e){var a=[];h.forEach((function(t){t.awardClass=t.awardClass?t.awardClass:"-1",D[t.awardClass]==e&&a.push(a)}));var n={name:e,value:a.length};t.push(n)}));var a=nn.b(document.getElementById("level-position-echart"));a.resize();var n={tooltip:{trigger:"item"},grid:{top:0,right:0,bottom:0,left:0},title:{text:"\u83b7\u5956\u7b49\u7ea7\u5206\u5e03\u56fe",left:"center",top:"80%",textStyle:{padding:[0,0,30,0],fontSize:14,fontWeight:"bold"}},backgroundColor:{type:"radial",x:.5,y:.45,r:.32,colorStops:[{offset:0,color:"white"},{offset:.65,color:"white"},{offset:.66,color:"rgba(0, 0, 0, 0.05)"},{offset:.8,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0)"},{offset:1,color:"rgba(0, 0, 0, 0)"}]},color:["#89df89","#e84855","#36afd2","#2d3047","#ffb782","pink"],series:[{name:"\u83b7\u5956\u7b49\u7ea7",type:"pie",radius:["25%","55%"],center:["50%","45%"],minAngle:25,avoidLabelOverlap:!1,label:{show:!0,color:"auto",formatter:"{b}  {d}%"},emphasis:{itemStyle:{borderWidth:10,borderColor:"rgba(0, 0, 0, 0.05)"}},data:t}]};a.setOption(n,!0),window.addEventListener("resize",(function(){a.resize()}))}}),[h]),Object(n.useEffect)((function(){if(v&&0!=v.length){var e=[],t=[],n=[],r=[],s=[],l=[],i=nn.b(document.getElementById("award-statistic-echart"));i.resize();var u=[],d=[];if("manager"!=a||o||c)o&&!c?(v.forEach((function(a){e.push(a.month),t.push("number"==typeof a.personalTimes?a.personalTimes.toFixed(1):"--"),n.push("number"==typeof a.classTimes?a.classTimes.toFixed(1):"--"),r.push("number"==typeof a.gradeTimes?a.gradeTimes.toFixed(1):"--"),s.push("number"==typeof a.classCount?a.classCount:"--"),l.push("number"==typeof a.totalCount?a.totalCount:"--")})),u=[{name:"\u73ed\u7ea7\u5956\u9879",type:"line",lineStyle:{color:"#2d3047",width:1,borderColor:"#2d3047",emphasis:{width:1}},itemStyle:{color:"#2d3047"},data:n},{name:"\u73ed\u7ea7\u603b\u6570",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:s},{name:"\u5e74\u7ea7\u5e73\u5747",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:r}]):!o&&c?(v.forEach((function(a){e.push(a.month),t.push("number"==typeof a.personalTimes?a.personalTimes.toFixed(1):"--"),n.push("number"==typeof a.classTimes?a.classTimes.toFixed(1):"--"),r.push("number"==typeof a.gradeTimes?a.gradeTimes.toFixed(1):"--"),s.push("number"==typeof a.classCount?a.classCount:"--"),l.push("number"==typeof a.totalCount?a.totalCount:"--")})),u=[{name:"\u5e74\u7ea7\u5e73\u5747",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:r},{name:"\u5e74\u7ea7\u603b\u6570",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:l}]):"student"==a&&(v.forEach((function(a){e.push(a.month),t.push("number"==typeof a.personalTimes?a.personalTimes.toFixed(1):"--"),n.push("number"==typeof a.classTimes?a.classTimes.toFixed(1):"--"),r.push("number"==typeof a.gradeTimes?a.gradeTimes.toFixed(1):"--"),s.push("number"==typeof a.classCount?a.classCount:"--"),l.push("number"==typeof a.totalCount?a.totalCount:"--")})),u=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:t},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:n},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:r}]);else{var m=[];v.forEach((function(e){m.push(e.totalTimes)})),u.push({name:"\u603b\u6570",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:m}),v.forEach((function(t,a){e.push(t.date);var n=[];Array.isArray(t.classTimes)&&t.classTimes.forEach((function(e){n.push(e.rewardsCount),d.push(e.classInfo?e.classInfo.gradeName:"")})),u.push({type:"bar",itemStyle:{color:T[a%6]},data:n})})),(d=Object(yn.a)(new Set(d))).unshift("\u603b\u6570")}var f={title:{text:"\u83b7\u5956\u7edf\u8ba1",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:e.length>6?55:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6);",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"</span><br/>")})),t}},legend:{type:"scroll",width:"80%",top:"50px",left:"center",data:"manager"!=a||o||c?"":d,textStyle:{color:"#999999"}},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999"},data:e,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"}}},dataZoom:{show:e.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:25},yAxis:{type:"value",name:"\u6b21\u6570",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:u};i.setOption(f,!0),window.addEventListener("resize",(function(){i.resize()}))}}),[v,a]);var k=[],C=[];return Array.isArray(h)&&h.forEach((function(e,t){C.push(e),(t+1)%9!=0&&t!=h.length-1||(k.push(C),C=[])})),r.a.createElement("div",{className:"award-info"},Array.isArray(h)&&h.length>0?r.a.createElement("div",null,r.a.createElement("div",{className:"award-info-top"},r.a.createElement("div",{className:"award-sum"},r.a.createElement("div",{className:"circle"},Array.isArray(h)?h.length:"--"),r.a.createElement("p",null,"teacher"==a?"\u73ed\u7ea7":"manager"==a?"\u5168\u6821":"\u4e2a\u4eba","\u83b7\u5956\u603b\u6570")),r.a.createElement("div",{className:"slice-line"}),r.a.createElement(Cn.a,{dots:{className:"award-dot"}},k.map((function(e,t){return r.a.createElement("div",{className:"award-list",key:t},e.map((function(e,t){return r.a.createElement("div",{className:"award-one",key:t},r.a.createElement("i",{className:"awardlogo "+(5==e.awardLevel||1==e.awardClass?"award-1":4==e.awardLevel||2==e.awardClass?"award-2":3==e.awardLevel||3==e.awardClass?"award-3":"")}),r.a.createElement("p",{title:e.awardLevelName+e.awardName},e.awardLevelName+e.awardName),r.a.createElement("p",{title:D[e.awardClass]},D[e.awardClass]),"manager"==a?r.a.createElement("p",{title:e.studentName,style:{color:"#ff6600"}},"[",e.studentName,"]"):"")})))})))),r.a.createElement("div",{className:"award-pie-echart"},r.a.createElement("div",{className:"rank-position-echart",id:"rank-position-echart"}),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"level-position-echart",id:"level-position-echart"}))):r.a.createElement(ye,{style:{margin:"40px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}),v.length>0?r.a.createElement("div",{className:"award-bar-container"},r.a.createElement("div",{className:"select-container"},r.a.createElement("span",null,"\u65f6\u95f4:"),r.a.createElement(ne.a,{defaultValue:"1",className:"select",onChange:function(e){return w(e)}},r.a.createElement(Ls,{value:"3"},"\u6309\u5929\u6570"),r.a.createElement(Ls,{value:"2"},"\u6309\u5468\u6b21"),r.a.createElement(Ls,{value:"1"},"\u6309\u6708\u4efd"))),r.a.createElement("div",{className:"award-statistic-echart",id:"award-statistic-echart"})):Array.isArray(h)&&h.length>0?r.a.createElement(ye,{style:{margin:"40px 0",paddingBottom:20},title:"\u6682\u65e0\u6570\u636e",type:"4"}):"")}var Js=function(e){var t=e.commonData;return{levelHash:t.levelHash,userInfo:t.userInfo}},Rs=Object(d.connect)(Js)(Object(n.memo)(Object(n.forwardRef)(As))),Ms=Tt.BasicProxy,Ps=ne.a.Option;function Ws(e,t){var a=e.userIdentity,s=e.currentTerm,c=e.currentGrade,o=e.currentClass,l=e.userInfo,i=l.UserID,d=l.SchoolID,m=e.reflash,f=Object(n.useState)([]),p=Object(u.a)(f,2),h=p[0],b=p[1],g=Object(n.useState)([]),y=Object(u.a)(g,2),v=y[0],E=y[1],I=Object(n.useState)({}),S=Object(u.a)(I,2),O=S[0],x=S[1],N=Object(n.useState)("3"),j=Object(u.a)(N,2),w=j[0],D=j[1],T=[new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#F79750"},{offset:1,color:"#FFB681"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#2D3149"},{offset:1,color:"#363D71"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#E84956"},{offset:1,color:"#E9707A"}]),new Ln.a(0,0,0,1,[{offset:0,color:"#6E54CC"},{offset:1,color:"#7E90E9"}])];Object(n.useLayoutEffect)((function(){var e,t=s.value&&JSON.parse(s.value);t.startDate&&t.endDate&&(("manager"!=a||c||o)&&("student"!=a||i&&o&&c)&&("teacher"!=a||o)&&(e=Ms+"/api/punishAndReward/punishment/list?studentId="+("student"==a?i:"")+"&classId="+o+"&gradeId="+c+"&startDate="+t.startDate.substr(0,10)+"&endDate="+t.endDate.substr(0,10),Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&E(e.data)}))))}),[s,o,c,m]),Object(n.useLayoutEffect)((function(){var e,t=s.value&&JSON.parse(s.value);("manager"!=a||c||o)&&(t.startDate&&t.endDate&&("student"!=a||i&&o&&c)&&("teacher"!=a||o)&&("student"==a?i:"teacher"==a?o:"manager"==a?o||(c||d):"")&&(e=Ms+"/api/punishAndReward/punishment/distribution?id="+("student"==a?i:"teacher"==a?o:"manager"==a?o||(c||d):"")+"&queryType="+("student"==a?1:"teacher"==a?2:"manager"==a?o?2:c?3:4:"")+"&periodType="+w+"&startDate="+t.startDate.substr(0,10)+"&endDate="+t.endDate.substr(0,10),Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&b(e.data)}))))}),[s,o,c,w,m]),Object(n.useLayoutEffect)((function(){var e,t=s.value&&JSON.parse(s.value);t.startDate&&t.endDate&&("manager"!=a||c||o||(e=Ms+"/api/punishAndReward/punishment/leader/punishStatus?classId=&gradeId=&schoolId="+d+"&startDate="+t.startDate.substr(0,10)+"&endDate="+t.endDate.substr(0,10),Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&x(e.data)}))))}),[s,o,c,m,d]),Object(n.useLayoutEffect)((function(){var e=s.value&&JSON.parse(s.value);if("manager"==a&&!c&&!o&&e.startDate&&e.endDate){var t=Ms+"/api/punishAndReward/punishment/leader/distribution?classId=&gradeId=&schoolId="+d+"&periodType="+w+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&b(e.data)}))}}),[s,o,c,w,m]),Object(n.useEffect)((function(){var e=nn.b(document.getElementById("punish-statistic-echart"));e.resize();var t=[],n=[],r=[],s=[],l=[],i=[];if("manager"!=a||c||o)"student"==a?(h&&h.forEach((function(e){t.push(e.personalTimes),n.push(e.classTimes),r.push(e.gradeTimes),s.push(e.month)})),l=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:t},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:n},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:r}]):(o||c)&&(h&&h.forEach((function(e){t.push(e.personalTimes),n.push(e.classTimes),r.push(e.gradeTimes),s.push(e.month)})),l=[{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:n},{name:"\u5e74\u7ea7\u5e73\u5747",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:r}]);else{var u=[];h.forEach((function(e){u.push(e.totalTimes)})),l.push({name:"\u603b\u6570",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:u}),h.forEach((function(e,t){s.push(e.date);var a=[];Array.isArray(e.classTimes)&&e.classTimes.forEach((function(e){a.push(e.rewardsCount),i.push(e.classInfo?e.classInfo.gradeName:"")})),l.push({type:"bar",itemStyle:{color:T[t%6]},data:a})})),(i=Object(yn.a)(new Set(i))).unshift("\u603b\u6570")}var d={grid:{top:40,bottom:s.length>6?55:40},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6);",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"</span><br/>")})),t}},backgroundColor:"#f5f5f5",legend:"manager"!=a||c||o?{top:"7px",left:"teacher"==a?"30%":"58%",textStyle:{color:"#999999"}}:{type:"scroll",width:"62%",top:"7px",left:"center",data:i,textStyle:{color:"#999999"}},dataZoom:{show:s.length>6,maxValueSpan:5,minValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:25},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999"},data:s,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u6b21\u6570",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:l};e.setOption(d,!0),window.addEventListener("resize",(function(){e.resize()}))}),[h,a]);var k=0,C=0,L=0,A=0;return v.forEach((function(e){3==e.punishmentType&&k++,2==e.punishmentType&&L++,1==e.punishmentType&&C++,1==e.punishmentLevel&&A++})),r.a.createElement("div",{className:"punish-info"},r.a.createElement("div",{className:"punish-left"},o&&!c?r.a.createElement("p",{className:"punish-count"},"\u73ed\u7ea7\u5904\u7f5a\u603b\u6570",r.a.createElement("span",{style:{color:"#333333"}},k,"\u6b21"),"; \u5e74\u7ea7\u5e73\u5747\u5904\u7f5a\u6570",r.a.createElement("span",{style:{color:"#ff0000"}},L,"\u6b21")):"student"==a?r.a.createElement("p",{className:"punish-count"},"\u4e2a\u4eba\u5904\u7f5a\u603b\u6570",r.a.createElement("span",{style:{color:"#333333"}},C,"\u6b21"),"; \u73ed\u7ea7\u5e73\u5747\u5904\u7f5a\u6570",r.a.createElement("span",{style:{color:"#ff0000"}},k,"\u6b21"),"; \u5e74\u7ea7\u5e73\u5747\u5904\u7f5a\u6570",r.a.createElement("span",{style:{color:"#ff0000"}},L,"\u6b21")):"",r.a.createElement("div",{className:"circle-container"},r.a.createElement("div",{className:"punish-kind-info"},r.a.createElement("div",{className:"circle blue"},"manager"!=a||o||c?A:"number"==typeof O.schoolLevelCount?O.schoolLevelCount:"--"),r.a.createElement("p",null,"\u6821\u7ea7\u5904\u7f5a")),r.a.createElement("div",{className:"punish-kind-info"},r.a.createElement("div",{className:"circle orange"},"manager"!=a||o||c?L:"number"==typeof O.gradeLevelCount?O.gradeLevelCount:"--"),r.a.createElement("p",null,"\u5e74\u7ea7\u5904\u7f5a")),r.a.createElement("div",{className:"punish-kind-info"},r.a.createElement("div",{className:"circle red"},"manager"!=a||o||c?k:"number"==typeof O.classLevelCount?O.classLevelCount:"--"),r.a.createElement("p",null,"\u73ed\u7ea7\u5904\u7f5a")))),r.a.createElement("div",{className:"punish-right"},r.a.createElement("div",{className:"echart-title"},r.a.createElement("span",null,"\u5904\u7f5a\u7edf\u8ba1"),r.a.createElement(ne.a,{value:w,className:"select",onChange:function(e){return D(e)}},r.a.createElement(Ps,{value:"3"},"\u6309\u5929\u6570"),r.a.createElement(Ps,{value:"2"},"\u6309\u5468\u6b21"),r.a.createElement(Ps,{value:"1"},"\u6309\u6708\u4efd"))),r.a.createElement("div",{className:"punish-statistic-echart",id:"punish-statistic-echart"})))}var Hs=function(e){var t=e.commonData;return{levelHash:t.levelHash,userInfo:t.userInfo}},zs=Object(d.connect)(Hs)(Object(n.memo)(Object(n.forwardRef)(Ws))),Us=Tt.BasicProxy;function Bs(e,t){var a=e.term,s=(e.HasHistory,e.onAnchorComplete),c=(e.schoolID,e.collegeID,e.productMsg,e.userIdentity),o=e.currentClass,l=e.currentGrade,i=e.userInfo,d=i.UserID,m=i.SchoolID,f=e.reflash,p=Object(n.useState)(!1),h=Object(u.a)(p,2),b=h[0],g=h[1],y=Object(n.useState)(!1),v=Object(u.a)(y,2),E=v[0],I=v[1],S=Object(n.useState)([]),O=Object(u.a)(S,2),x=O[0],N=O[1],j=Object(n.useState)([]),w=Object(u.a)(j,2),D=w[0],T=w[1],k=Object(n.useState)([]),C=Object(u.a)(k,2),L=C[0],A=C[1],J=Object(n.useState)(""),R=Object(u.a)(J,2),M=(R[0],R[1],Object(n.useState)([])),P=Object(u.a)(M,2),W=P[0],H=P[1],z=Object(n.useState)([]),U=Object(u.a)(z,2),B=U[0],F=U[1],G=Object(n.useState)("student"==c?"detail":"list"),_=Object(u.a)(G,2),V=_[0],Y=_[1],Z=Object(n.useRef)(null),Q=Object(n.useRef)(null),X=Object(n.useRef)(null),K=Object(n.useRef)(null),$={1:"\u4e00\u7b49\u5956",2:"\u4e8c\u7b49\u5956",3:"\u4e09\u7b49\u5956","-1":"\u5176\u4ed6"},ee={1:"\u73ed\u7ea7",2:"\u5e74\u7ea7",3:"\u6821\u7ea7","-1":"\u5176\u4ed6"};Object(n.useLayoutEffect)((function(){"function"===typeof s&&s([{ref:Z.current,name:"\u5956\u60e9\u6392\u884c"},{ref:Q.current,name:"\u83b7\u5956\u60c5\u51b5"},{ref:X.current,name:"\u5904\u7f5a\u60c5\u51b5"},{ref:K.current,name:"\u5956\u60e9\u8f68\u8ff9"}])}),[]),Object(n.useLayoutEffect)((function(){if(("student"!=c||d)&&("teacher"!=c||o)){var e=a.value&&JSON.parse(a.value),t=Us+"/api/punishAndReward/route?id="+("student"==c?d:"teacher"==c?o:"manager"==c?o||(l||m):d)+"&queryType="+("student"==c?1:"teacher"==c?2:"manager"==c?4:1)+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&N(e.data)}))}}),[a,o,f]),Object(n.useLayoutEffect)((function(){if("teacher"==c&&o){var e=Us+"/api/base/getStudentInfo?schoolId="+m+"&gradeId="+l+"&classId="+o;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(T(e.data),A(e.data))}))}}),[c,d,o,l,a,f]),Object(n.useLayoutEffect)((function(){if("student"==c){var e=a&&a.value&&JSON.parse(a.value),t=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],n="";t.forEach((function(e){e.classId==o&&(n=e.gradeId)}));var r=Us+"/api/punishAndReward/rewards/list?studentId="+d+"&classId="+o+"&gradeId="+n+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&(e.data.forEach((function(e){e.awardClassName=$[e.awardClass]})),H(e.data))})),r=Us+"/api/punishAndReward/punishment/list?studentId="+d+"&classId="+o+"&gradeId="+n+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10),Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&(e.data.forEach((function(e){e.punishmentTypeName=ee[e.punishmentType]})),F(e.data))}))}}),[a,o,l,c,d,f]);return r.a.createElement("div",{className:"award-and-punish",id:"awardAndPunish"},"teacher"==c||"manager"==c?r.a.createElement($a,{loading:!1,barName:"\u5956\u60e9\u6392\u884c",ref:Z},r.a.createElement(ks,{userIdentity:c,currentTerm:a,currentClass:o,currentGrade:l,reflash:f})):"",r.a.createElement($a,{barName:"\u83b7\u5956\u60c5\u51b5",ref:Q,topContext:"manager"!=c&&r.a.createElement("div",{className:"module-link-group"},r.a.createElement("span",{className:"status",onClick:function(){return g(!0)}},"\u67e5\u770b\u83b7\u5956\u8be6\u60c5\u4fe1\u606f")),loading:!1},r.a.createElement(Rs,{userIdentity:c,currentTerm:a,currentClass:o,currentGrade:l,reflash:f})),r.a.createElement($a,{loading:!1,barName:"\u5904\u7f5a\u60c5\u51b5",ref:X,topContext:"manager"!=c&&r.a.createElement("div",{className:"module-link-group"},r.a.createElement("span",{className:"status",onClick:function(){return I(!0)}},"\u67e5\u770b\u5904\u7f5a\u8be6\u60c5\u4fe1\u606f"))},r.a.createElement(zs,{userIdentity:c,currentTerm:a,currentClass:o,currentGrade:l,reflash:f})),r.a.createElement($a,{loading:!1,barName:"\u5956\u60e9\u8f68\u8ff9",ref:K},r.a.createElement(hn,{userIdentity:c,type:"awardAndPunish",data:x})),r.a.createElement(De,{type:"1",title:"\u5956\u52b1\u8be6\u60c5",visible:b,onOk:function(){return g(!0)},onCancel:function(){"student"!=c&&Y("list"),g(!1)},footer:null,width:1e3,className:"height-weight-modal",bodyStyle:{height:"632px",padding:20}},"list"==V?r.a.createElement("div",null,r.a.createElement("p",{className:"stu-count"},"\u5171",r.a.createElement("span",null,D.length),"\u4eba"),r.a.createElement("ul",{className:"member-list"},r.a.createElement(q.Scrollbars,{autoHeight:!0,autoHeightMax:580},L.length>0?L.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return function(e){var t=a&&a.value&&JSON.parse(a.value),n=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],r="";n.forEach((function(e){e.classId==o&&(r=e.gradeId)}));var s=Us+"/api/punishAndReward/rewards/list?studentId="+e.userId+"&classId="+o+"&gradeId="+r+"&startDate="+t.startDate.substr(0,10)+"&endDate="+t.endDate.substr(0,10);Qt.get({url:s,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(e.data.forEach((function(e){e.awardClassName=$[e.awardClass]})),H(e.data),Y("detail"))}))}(e)}},r.a.createElement("i",{className:"user-header",style:{backgroundImage:e.photoPath?e.photoPath:""}}),r.a.createElement("p",{title:e.userName},e.userName))})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"80px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))):r.a.createElement("div",null,"student"!=c?r.a.createElement("span",{className:"reback-prev",onClick:function(){return Y("list")}},"\u8fd4\u56de\u5b66\u751f\u5217\u8868"):"",r.a.createElement(Ka,{style:{marginTop:20},tableHeader:[{key:"awardName",name:"\u5956\u52b1\u540d\u79f0"},{key:"awardDetail",name:"\u83b7\u5956\u539f\u56e0"},{key:"awardLevelName",name:"\u5956\u52b1\u7ea7\u522b"},{key:"awardClassName",name:"\u5956\u52b1\u7b49\u7ea7"},{key:"awardDate",name:"\u83b7\u5956\u65e5\u671f"},{key:"issuedBy",name:"\u9881\u5956\u5355\u4f4d"}],data:W}))),r.a.createElement(De,{type:"1",title:"\u5904\u7f5a\u8be6\u60c5",visible:E,onOk:function(){return I(!0)},onCancel:function(){"student"!=c&&Y("list"),I(!1)},footer:null,width:1e3,className:"height-weight-modal",bodyStyle:{height:"632px",padding:20}},"list"==V?r.a.createElement("div",null,r.a.createElement("p",{className:"stu-count"},"\u5171",r.a.createElement("span",null,D.length),"\u4eba"),r.a.createElement("ul",{className:"member-list"},r.a.createElement(q.Scrollbars,{autoHeight:!0,autoHeightMax:550},L.length>0?L.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return function(e){var t=a&&a.value&&JSON.parse(a.value),n=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],r="";n.forEach((function(e){e.classId==o&&(r=e.gradeId)}));var s=Us+"/api/punishAndReward/punishment/list?studentId="+e.userId+"&classId="+o+"&gradeId="+r+"&startDate="+t.startDate.substr(0,10)+"&endDate="+t.endDate.substr(0,10);Qt.get({url:s,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&(e.data.forEach((function(e){e.punishmentTypeName=ee[e.punishmentType]})),F(e.data),Y("detail"))}))}(e)}},r.a.createElement("i",{className:"user-header",style:{backgroundImage:e.photoPath?e.photoPath:""}}),r.a.createElement("p",{title:e.userName},e.userName))})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"80px 0 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))):r.a.createElement("div",null,"student"!=c?r.a.createElement("span",{className:"reback-prev",onClick:function(){return Y("list")}},"\u8fd4\u56de\u5b66\u751f\u5217\u8868"):"",r.a.createElement(Ka,{style:{marginTop:20},tableHeader:[{key:"punishmentName",name:"\u60e9\u6212\u7c7b\u578b"},{key:"punishmentReason",name:"\u60e9\u6212\u539f\u56e0"},{key:"punishmentTypeName",name:"\u60e9\u6212\u7ea7\u522b"},{key:"punishmentDate",name:"\u60e9\u6212\u65e5\u671f"}],data:B}))))}var Fs=function(e){var t=e.commonData;return{HasHistory:t.termInfo.HasHistory,userInfo:t.userInfo}},Gs=Object(d.connect)(Fs)(Object(n.memo)(Object(n.forwardRef)(Bs))),_s=(a(1648),Tt.BasicProxy),Vs=ne.a.Option;function Ys(e,t){var a=e.currentTerm,s=e.userIdentity,c=e.currentClass,o=e.currentGrade,l=e.userInfo,i=l.SchoolID,d=l.UserID,m=e.reflash,f=Object(n.useState)({}),p=Object(u.a)(f,2),h=p[0],b=p[1],g=Object(n.useState)([]),y=Object(u.a)(g,2),v=y[0],E=y[1],I=Object(n.useState)("1"),S=Object(u.a)(I,2),O=S[0],x=S[1];return Object(n.useLayoutEffect)((function(){if(("student"!=s||d)&&("teacher"!=s||c)&&a.value){var e=a.value?JSON.parse(a.value):{},t=_s+"/api/campusLife/rest/average?studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&schoolId="+i+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&b(e.data)})),t=_s+"/api/campusLife/rest/distribution?id="+("student"==s?d:"teacher"==s?c:"manager"==s?c||(o||i):"")+"&queryType="+("student"==s?1:"teacher"==s?2:"manager"==s?c?2:o?3:4:"")+"&periodType="+O+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10),Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&E(e.data)}))}}),[s,o,c,a,O,m]),Object(n.useEffect)((function(){if(0!=v.length){var e=[],t=[],a=[],n=[],r=[];v.forEach((function(s){e.push(s.month),t.push(s.classAverageInCampusTime),a.push(s.classAverageOutCampusTime),n.push(s.classAverageDormitoryTime),r.push(s.classLengthOfClassTime)}));var l=nn.a.init(document.getElementById("kinds-time-echart"));l.resize();var i={title:{text:("student"==s?"\u4e2a\u4eba":"teacher"==s||c?"\u73ed\u7ea7":o?"\u5e74\u7ea7":"\u5168\u6821")+"\u5404\u9879\u65f6\u957f",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:e.length>6?55:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6);",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"</span><br/>")})),t}},legend:{top:"50px",left:"center",textStyle:{color:"#999999"}},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999"},data:e,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u65f6\u957f/h",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},dataZoom:{show:e.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:10},series:[{name:"\u4e0a\u8bfe\u65f6\u957f",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#2d3047"},{offset:1,color:"#363d72"}])},data:r},{name:"\u5bbf\u820d\u65f6\u957f",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#ffb709"},{offset:1,color:"#ffe88a"}])},data:n},{name:"\u6821\u5185\u65f6\u957f",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#80c35c"},{offset:1,color:"#b3f093"}])},data:t},{name:"\u6821\u5916\u65f6\u957f",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a}]};l.setOption(i,!0),window.addEventListener("resize",(function(){l.resize()}))}}),[O,v]),r.a.createElement("div",{className:"my-live"},r.a.createElement("div",{className:"show-top"},r.a.createElement("div",{className:"course-time"},r.a.createElement("i",{className:"livelogo"}),r.a.createElement("p",{className:"live-name"},"\u4e0a\u8bfe\u65f6\u957f: ",r.a.createElement("span",null,"student"==s?h.studentLengthOfClassTime:"teacher"==s?h.classLengthOfClassTime:"manager"==s?h.gradeLengthOfClassTime:"--","h")),"teacher"==s?r.a.createElement("p",null,"\u5e74\u7ea7\u5e73\u5747:",h.gradeLengthOfClassTime?h.gradeLengthOfClassTime:"--"):r.a.createElement("p",null,"\u73ed\u7ea7\u5e73\u5747:",h.classLengthOfClassTime?h.classLengthOfClassTime:"--","; \u5e74\u7ea7\u5e73\u5747:",h.gradeLengthOfClassTime?h.gradeLengthOfClassTime:"--")),r.a.createElement("div",{className:"schoolhome-time"},r.a.createElement("i",{className:"livelogo"}),r.a.createElement("p",{className:"live-name"},"\u5bbf\u820d\u65f6\u957f: ",r.a.createElement("span",null,"student"==s?h.studentAverageDormitoryTime:"teacher"==s?h.classAverageDormitoryTime:"manager"==s?h.gradeAverageDormitoryTime:"--","h")),"teacher"==s?r.a.createElement("p",null,"\u5e74\u7ea7\u5e73\u5747:",h.gradeAverageDormitoryTime?h.gradeAverageDormitoryTime:"--"):r.a.createElement("p",null,"\u73ed\u7ea7\u5e73\u5747:",h.classAverageDormitoryTime?h.classAverageDormitoryTime:"--","; \u5e74\u7ea7\u5e73\u5747:",h.gradeAverageDormitoryTime?h.gradeAverageDormitoryTime:"--")),r.a.createElement("div",{className:"school-in-time"},r.a.createElement("i",{className:"livelogo"}),r.a.createElement("p",{className:"live-name"},"\u6821\u5185\u65f6\u957f: ",r.a.createElement("span",null,"student"==s?h.studentAverageInCampusTime:"teacher"==s?h.classAverageInCampusTime:"manager"==s?h.gradeAverageInCampusTime:"--","h")),"teacher"==s?r.a.createElement("p",null,"\u5e74\u7ea7\u5e73\u5747:",h.gradeAverageInCampusTime?h.gradeAverageInCampusTime:"--"):r.a.createElement("p",null,"\u73ed\u7ea7\u5e73\u5747:",h.classAverageInCampusTime?h.classAverageInCampusTime:"--","; \u5e74\u7ea7\u5e73\u5747:",h.gradeAverageInCampusTime?h.gradeAverageInCampusTime:"--")),r.a.createElement("div",{className:"school-out-time"},r.a.createElement("i",{className:"livelogo"}),r.a.createElement("p",{className:"live-name"},"\u6821\u5916\u65f6\u957f: ",r.a.createElement("span",null,"student"==s?h.studentAverageOutCampusTime:"teacher"==s?h.classAverageOutCampusTime:"manager"==s?h.gradeAverageOutCampusTime:"--","h")),"teacher"==s?r.a.createElement("p",null,"\u5e74\u7ea7\u5e73\u5747:",h.gradeAverageOutCampusTime?h.gradeAverageOutCampusTime:"--"):r.a.createElement("p",null,"\u73ed\u7ea7\u5e73\u5747:",h.classAverageOutCampusTime?h.classAverageOutCampusTime:"--","; \u5e74\u7ea7\u5e73\u5747:",h.gradeAverageOutCampusTime?h.gradeAverageOutCampusTime:"--"))),r.a.createElement("div",{className:"select-container"},r.a.createElement("span",null,"\u65f6\u95f4:"),r.a.createElement(ne.a,{value:O,className:"select",onChange:function(e){return x(e)}},r.a.createElement(Vs,{value:"3"},"\u6309\u5929\u6570"),r.a.createElement(Vs,{value:"2"},"\u6309\u5468\u6b21"),r.a.createElement(Vs,{value:"1"},"\u6309\u6708\u4efd"))),r.a.createElement("div",{className:"show-bottom"},v.length>0?r.a.createElement("div",{className:"kinds-time-echart",id:"kinds-time-echart"}):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"})))}var Zs=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},Qs=Object(d.connect)(Zs)(Object(n.memo)(Object(n.forwardRef)(Ys))),Xs=Tt.BasicProxy,Ks=ne.a.Option;function qs(e,t){var a=e.currentTerm,s=e.userIdentity,c=e.currentClass,o=e.currentGrade,l=e.userInfo,i=l.SchoolID,d=l.UserID,m=e.reflash,f=Object(n.useState)("1"),p=Object(u.a)(f,2),h=p[0],b=p[1],g=Object(n.useState)([]),y=Object(u.a)(g,2),v=y[0],E=y[1],I=Object(n.useState)([]),S=Object(u.a)(I,2),O=S[0],x=S[1],N=Object(n.useState)([]),j=Object(u.a)(N,2),w=j[0],D=j[1],T=Object(n.useState)([]),k=Object(u.a)(T,2),C=k[0],L=k[1];Object(n.useLayoutEffect)((function(){if(("student"!=s||d)&&("teacher"!=s||c)&&a.value){var e=a.value?JSON.parse(a.value):{},t=Xs+"/api/campusLife/consumption/list?studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(e.data.forEach((function(e){var t=new Date(e.orderTimestamp).getHours();console.log(t),t>=0&&t<=6&&(e.orderDate="\u51cc\u6668"),t>6&&t<=12&&(e.orderDate="\u4e0a\u5348"),t>12&&t<=14&&(e.orderDate="\u4e2d\u5348"),t>14&&t<=18&&(e.orderDate="\u4e0b\u5348"),t>18&&t<=24&&(e.orderDate="\u665a\u4e0a")})),E(e.data))}))}}),[s,o,c,a,m]),Object(n.useLayoutEffect)((function(){if(("student"!=s||d)&&("teacher"!=s||c)&&a.value){var e=a.value?JSON.parse(a.value):{},t=Xs+"/api/campusLife/consumption/distribution?id="+("student"==s?d:"teacher"==s?c:"manager"==s?c||(o||i):"")+"&queryType="+("student"==s?1:"teacher"==s?2:"manager"==s?c?2:o?3:4:"")+"&periodType="+h+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&L(e.data)}))}}),[s,o,c,a,h,m]),Object(n.useLayoutEffect)((function(){var e=a.value?JSON.parse(a.value):{},t=Xs+"/api/campusLife/consumption/list?studentId=&gradeId=&classId="+c+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&D(e.data)}))}),[s,o,c,a,h,m]),Object(n.useLayoutEffect)((function(){var e=a.value?JSON.parse(a.value):{},t=Xs+"/api/campusLife/consumption/list?studentId=&classId=&gradeId="+o+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&x(e.data)}))}),[s,o,c,a,h,m]);Object(n.useEffect)((function(){if(0!=v.length){var e=[],t=[];v.forEach((function(t){e.push(t.type)})),(e=Object(yn.a)(new Set(e))).forEach((function(e){var a=0;v.forEach((function(t){t.type==e&&(a+=1)}));var n={name:e,value:a};t.push(n)}));var a=nn.a.init(document.getElementById("consume-kind-echart"));a.resize();var n={tooltip:{trigger:"item"},grid:{top:0,right:0,bottom:0,left:0},title:{text:"\u6d88\u8d39\u7c7b\u522b\u5206\u5e03\u56fe",left:"center",top:"81%",textStyle:{padding:[0,0,30,0],fontSize:14,fontWeight:"bold"}},backgroundColor:{type:"radial",x:.5,y:.45,r:.32,colorStops:[{offset:0,color:"white"},{offset:.65,color:"white"},{offset:.66,color:"rgba(0, 0, 0, 0.05)"},{offset:.8,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"white"},{offset:1,color:"white"}]},color:["#89df89","#e84855","#36afd2","#2d3047","#ffb782","pink"],series:[{name:"\u6d88\u8d39\u7c7b\u522b",type:"pie",radius:["25%","55%"],center:["50%","45%"],minAngle:25,avoidLabelOverlap:!1,label:{show:!0,formatter:"{b} {d}%"},emphasis:{itemStyle:{borderWidth:10,borderColor:"rgba(0, 0, 0, 0.05)"}},data:t}]};a.setOption(n,!0),window.addEventListener("resize",(function(){a.resize()}))}}),[v]),Object(n.useEffect)((function(){if(0!=v.length){var e=[],t=[];v.forEach((function(t){e.push(t.place)})),(e=Object(yn.a)(new Set(e))).forEach((function(e){var a=0;v.forEach((function(t){t.place==e&&(a+=1)}));var n={name:e,value:a};t.push(n)}));var a=nn.a.init(document.getElementById("consume-area-echart"));a.resize();var n={tooltip:{trigger:"item"},grid:{top:0,right:0,bottom:0,left:0},title:{text:"\u6d88\u8d39\u5730\u70b9\u5206\u5e03\u56fe",left:"center",top:"81%",textStyle:{padding:[0,0,30,0],fontSize:14,fontWeight:"bold"}},backgroundColor:{type:"radial",x:.5,y:.45,r:.32,colorStops:[{offset:0,color:"white"},{offset:.65,color:"white"},{offset:.66,color:"rgba(0, 0, 0, 0.05)"},{offset:.8,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"white"},{offset:1,color:"white"}]},color:["#89df89","#e84855","#36afd2","#2d3047","#ffb782","pink"],series:[{name:"\u6d88\u8d39\u5730\u70b9",type:"pie",radius:["25%","55%"],center:["50%","45%"],minAngle:25,avoidLabelOverlap:!1,label:{show:!0,formatter:"{b} {d}%"},emphasis:{itemStyle:{borderWidth:10,borderColor:"rgba(0, 0, 0, 0.05)"}},data:t}]};a.setOption(n,!0),window.addEventListener("resize",(function(){a.resize()}))}}),[v]),Object(n.useEffect)((function(){if(0!=v.length){console.log(v,"\u4e0a\u7f51\u65f6\u95f4");var e=[],t=[];v.forEach((function(t){e.push(t.orderDate)})),(e=Object(yn.a)(new Set(e))).forEach((function(e){var a=0;v.forEach((function(t){t.orderDate==e&&(a+=1)}));var n={name:e,value:a};t.push(n)}));var a=nn.a.init(document.getElementById("consume-time-echart"));a.resize();var n={tooltip:{trigger:"item"},grid:{top:0,right:0,bottom:0,left:0},title:{text:"\u6d88\u8d39\u65f6\u95f4\u5206\u5e03\u56fe",left:"center",top:"81%",textStyle:{padding:[0,0,30,0],fontSize:14,fontWeight:"bold"}},backgroundColor:{type:"radial",x:.5,y:.45,r:.32,colorStops:[{offset:0,color:"white"},{offset:.65,color:"white"},{offset:.66,color:"rgba(0, 0, 0, 0.05)"},{offset:.8,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"white"},{offset:1,color:"white"}]},color:["#89df89","#e84855","#36afd2","#2d3047","#ffb782","pink"],series:[{name:"\u6d88\u8d39\u65f6\u95f4",type:"pie",radius:["25%","55%"],center:["50%","45%"],minAngle:25,avoidLabelOverlap:!1,label:{show:!0,formatter:"{b} {d}%"},emphasis:{itemStyle:{borderWidth:10,borderColor:"rgba(0, 0, 0, 0.05)"}},data:t}]};a.setOption(n,!0),window.addEventListener("resize",(function(){a.resize()}))}}),[v]),Object(n.useEffect)((function(){if(0!=C.length){var e=[],t=[],a=[],n=[],r=[];C.forEach((function(r){e.push(r.month),t.push(r.personalCount),a.push(r.classCount),n.push(r.gradeCount)})),"student"==s&&(r=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:t},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]),"teacher"==s&&(r=[{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]);var c=nn.a.init(document.getElementById("consume-sum-echart"));c.resize();var o={title:{text:"\u6d88\u8d39\u603b\u989d",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:e.length>6?55:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6);",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"\u5143</span><br/>")})),t}},legend:{top:"50px",right:"10%",data:["\u4e2a\u4eba","\u73ed\u7ea7","\u5e74\u7ea7"],textStyle:{color:"#999999"}},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999"},data:e,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"}}},dataZoom:{show:e.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:25},yAxis:{type:"value",name:"\u603b\u989d(\u5143)",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:r};c.setOption(o,!0),window.addEventListener("resize",(function(){c.resize()}))}}),[h,C]),Object(n.useEffect)((function(){if(0!=C.length){var e=[],t=[],a=[],n=[],r=[];C.forEach((function(r){e.push(r.month),t.push(r.personalTimes),a.push(r.classTimes),n.push(r.gradeTimes)})),"student"==s&&(r=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:t},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]),"teacher"==s&&(r=[{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]);var c=nn.a.init(document.getElementById("consume-count-echart"));c.resize();var o={title:{text:"\u6d88\u8d39\u6b21\u6570",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:e.length>6?55:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6);",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"\u6b21</span><br/>")})),t}},legend:{top:"50px",right:"10%",data:["\u4e2a\u4eba","\u73ed\u7ea7","\u5e74\u7ea7"],textStyle:{color:"#999999"}},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999"},data:e,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"}}},dataZoom:{show:e.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:25},yAxis:{type:"value",name:"\u6b21\u6570",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:r};c.setOption(o,!0),window.addEventListener("resize",(function(){c.resize()}))}}),[h,C]);var A=0,J=O.length,R=0,M=0,P=v.length;w.length;return v.forEach((function(e){R+=e.count})),w.forEach((function(e){M+=e.count})),O.forEach((function(e){A+=e.count})),r.a.createElement("div",{className:"my-consume"},r.a.createElement("div",{className:"show-top"},r.a.createElement("div",{className:"consume-level"},r.a.createElement("i",{className:"livelogo"}),r.a.createElement("p",{className:"live-name"},"\u6d88\u8d39\u6c34\u5e73: ",r.a.createElement("span",null,"--")),r.a.createElement("p",null,"--")),r.a.createElement("div",{className:"consume-sum"},r.a.createElement("i",{className:"livelogo"}),r.a.createElement("p",{className:"live-name"},"\u6d88\u8d39\u603b\u989d: ",r.a.createElement("span",null,R)),"teacher"==s?r.a.createElement("p",null,"\u5e74\u7ea7\u5e73\u5747:",A):r.a.createElement("p",null,"\u73ed\u7ea7\u5e73\u5747:",M,"; \u5e74\u7ea7\u5e73\u5747:",A)),r.a.createElement("div",{className:"consume-count"},r.a.createElement("i",{className:"livelogo"}),r.a.createElement("p",{className:"live-name"},"\u6d88\u8d39\u6b21\u6570: ",r.a.createElement("span",null,P)),"teacher"==s?r.a.createElement("p",null,"\u5e74\u7ea7\u5e73\u5747:",J):r.a.createElement("p",null,"\u73ed\u7ea7\u5e73\u5747:",J,"; \u5e74\u7ea7\u5e73\u5747:",J)),r.a.createElement("div",{className:"consume-frequency"},r.a.createElement("i",{className:"livelogo"}),r.a.createElement("p",{className:"live-name"},"\u6d88\u8d39\u9891\u7387: ",r.a.createElement("span",null,"--\u6b21/\u5929")),"teacher"==s?r.a.createElement("p",null,"\u5e74\u7ea7\u5e73\u5747:--"):r.a.createElement("p",null,"\u73ed\u7ea7\u5e73\u5747:--; \u5e74\u7ea7\u5e73\u5747:--"))),v.length>0?r.a.createElement("div",{className:"show-center"},r.a.createElement("div",{className:"consume-kind-echart",id:"consume-kind-echart"}),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"consume-area-echart",id:"consume-area-echart"}),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"consume-time-echart",id:"consume-time-echart"})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}),r.a.createElement("div",{className:"select-container"},r.a.createElement("span",null,"\u65f6\u95f4:"),r.a.createElement(ne.a,{value:h,className:"select",onChange:function(e){return b(e)}},r.a.createElement(Ks,{value:"3"},"\u6309\u5929\u6570"),r.a.createElement(Ks,{value:"2"},"\u6309\u5468\u6b21"),r.a.createElement(Ks,{value:"1"},"\u6309\u6708\u4efd"))),C.length>0?r.a.createElement("div",{className:"show-bottom"},r.a.createElement("div",{className:"consume-sum-echart",id:"consume-sum-echart"}),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"consume-count-echart",id:"consume-count-echart"})):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}))}var $s=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},ec=Object(d.connect)($s)(Object(n.memo)(Object(n.forwardRef)(qs))),tc=Tt.BasicProxy,ac=ne.a.Option;function nc(e,t){var a=e.currentTerm,s=e.userIdentity,c=e.currentClass,o=e.currentGrade,l=e.userInfo,i=l.SchoolID,d=l.UserID,m=e.reflash,f=Object(n.useState)("1"),p=Object(u.a)(f,2),h=p[0],b=p[1],g=Object(n.useState)([]),y=Object(u.a)(g,2),v=y[0],E=y[1],I=Object(n.useState)([]),S=Object(u.a)(I,2),O=S[0],x=S[1],N=Object(n.useState)([]),j=Object(u.a)(N,2),w=j[0],D=j[1],T=Object(n.useState)([]),k=Object(u.a)(T,2),C=k[0],L=k[1];Object(n.useLayoutEffect)((function(){if(("student"!=s||d)&&("teacher"!=s||c)&&a.value){var e=a.value?JSON.parse(a.value):{},t=tc+"/api/campusLife/networkLog/list?studentId="+("student"==s?d:"")+"&classId="+c+"&gradeId="+o+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(e.data.forEach((function(e){var t=new Date(e.startTime).getHours();t>=0&&t<=6&&(e.startTime="\u51cc\u6668"),t>6&&t<=12&&(e.startTime="\u4e0a\u5348"),t>12&&t<=14&&(e.startTime="\u4e2d\u5348"),t>14&&t<=18&&(e.startTime="\u4e0b\u5348"),t>18&&t<=24&&(e.startTime="\u665a\u4e0a")})),E(e.data))}))}}),[s,o,c,a,m]),Object(n.useLayoutEffect)((function(){if(("student"!=s||d)&&("teacher"!=s||c)&&a.value){var e=a.value?JSON.parse(a.value):{},t=tc+"/api/campusLife/networkLog/distribution?id="+("student"==s?d:"teacher"==s?c:"manager"==s?c||(o||i):"")+"&queryType="+("student"==s?1:"teacher"==s?2:"manager"==s?c?2:o?3:4:"")+"&periodType="+h+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&L(e.data)}))}}),[s,o,c,a,h,m]),Object(n.useLayoutEffect)((function(){if(("student"!=s||d)&&("teacher"!=s||c)&&a.value){var e=a.value?JSON.parse(a.value):{},t=tc+"/api/campusLife/networkLog/list?studentId=&gradeId=&classId="+c+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&D(e.data)}))}}),[s,o,c,a,h,m]),Object(n.useLayoutEffect)((function(){var e=a.value?JSON.parse(a.value):{},t=tc+"/api/campusLife/networkLog/list?studentId=&classId=&gradeId="+o+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&x(e.data)}))}),[s,o,c,a,h,m]);Object(n.useEffect)((function(){if(0!=v.length){v.length;var e=[],t=[];v.forEach((function(t){e.push(t.type)})),(e=Object(yn.a)(new Set(e))).forEach((function(e){var a=0;v.forEach((function(t){t.type==e&&(a+=1)}));var n={name:e,value:a};t.push(n)}));var a=nn.a.init(document.getElementById("kind-position-echart"));a.resize();var n={tooltip:{trigger:"item"},grid:{top:0,right:0,bottom:0,left:0},title:{text:"\u4e0a\u7f51\u7c7b\u522b\u5206\u5e03\u56fe",left:"center",top:"81%",textStyle:{padding:[0,0,30,0],fontSize:14,fontWeight:"bold"}},backgroundColor:{type:"radial",x:.5,y:.45,r:.32,colorStops:[{offset:0,color:"white"},{offset:.65,color:"white"},{offset:.66,color:"rgba(0, 0, 0, 0.05)"},{offset:.8,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"white"},{offset:1,color:"white"}]},color:["#89df89","#e84855","#36afd2","#2d3047","#ffb782","pink"],series:[{type:"pie",radius:["25%","55%"],center:["50%","45%"],minAngle:25,avoidLabelOverlap:!1,label:{show:!0,formatter:"{b} {d}%"},emphasis:{itemStyle:{borderWidth:10,borderColor:"rgba(0, 0, 0, 0.05)"}},data:t}]};a.setOption(n,!0),window.addEventListener("resize",(function(){a.resize()}))}}),[v]),Object(n.useEffect)((function(){if(0!=v.length){var e=[],t=[];v.forEach((function(t){e.push(t.place)})),(e=Object(yn.a)(new Set(e))).forEach((function(e){var a=0;v.forEach((function(t){t.place==e&&(a+=1)}));var n={name:e,value:a};t.push(n)}));var a=nn.a.init(document.getElementById("place-position-echart"));a.resize();var n={tooltip:{trigger:"item"},grid:{top:0,right:0,bottom:0,left:0},title:{text:"\u4e0a\u7f51\u5730\u70b9\u5206\u5e03\u56fe",left:"center",top:"81%",textStyle:{padding:[0,0,30,0],fontSize:14,fontWeight:"bold"}},backgroundColor:{type:"radial",x:.5,y:.45,r:.32,colorStops:[{offset:0,color:"white"},{offset:.65,color:"white"},{offset:.66,color:"rgba(0, 0, 0, 0.05)"},{offset:.8,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"white"},{offset:1,color:"white"}]},color:["#89df89","#e84855","#36afd2","#2d3047","#ffb782","pink"],series:[{type:"pie",radius:["25%","55%"],center:["50%","45%"],minAngle:25,avoidLabelOverlap:!1,label:{show:!0,formatter:"{b} {d}%"},emphasis:{itemStyle:{borderWidth:10,borderColor:"rgba(0, 0, 0, 0.05)"}},data:t}]};a.setOption(n,!0),window.addEventListener("resize",(function(){a.resize()}))}}),[v]),Object(n.useEffect)((function(){if(0!=v.length){var e=[],t=[];v.forEach((function(t){e.push(t.startTime&&t.startTime.substr(0,10))})),(e=Object(yn.a)(new Set(e))).forEach((function(e){var a=0;v.forEach((function(t){t.startTime==e&&(a+=1)}));var n={name:e,value:a};t.push(n)}));var a=nn.a.init(document.getElementById("time-position-echart"));a.resize();var n={tooltip:{trigger:"item"},grid:{top:0,right:0,bottom:0,left:0},title:{text:"\u4e0a\u7f51\u65f6\u95f4\u5206\u5e03\u56fe",left:"center",top:"81%",textStyle:{padding:[0,0,30,0],fontSize:14,fontWeight:"bold"}},backgroundColor:{type:"radial",x:.5,y:.45,r:.32,colorStops:[{offset:0,color:"white"},{offset:.65,color:"white"},{offset:.66,color:"rgba(0, 0, 0, 0.05)"},{offset:.8,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"rgba(0, 0, 0, 0.05)"},{offset:.91,color:"white"},{offset:1,color:"white"}]},color:["#89df89","#e84855","#36afd2","#2d3047","#ffb782","pink"],series:[{type:"pie",radius:["25%","55%"],center:["50%","45%"],minAngle:25,avoidLabelOverlap:!1,label:{show:!0,formatter:"{b} {d}%"},emphasis:{itemStyle:{borderWidth:10,borderColor:"rgba(0, 0, 0, 0.05)"}},data:t}]};a.setOption(n,!0),window.addEventListener("resize",(function(){a.resize()}))}}),[v]),Object(n.useEffect)((function(){if(0!=C.length){var e=[],t=[],a=[],n=[],r=[];C.forEach((function(r){e.push(r.month),t.push(parseInt(r.personalCount/1e3/60/60)),a.push(parseInt(r.classCount/1e3/60/60)),n.push(parseInt(r.gradeCount/1e3/60/60))})),"student"==s&&(r=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:t},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]),"teacher"==s&&(r=[{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]);var c=nn.a.init(document.getElementById("internet-time-echart"));c.resize();var o={title:{text:"\u4e0a\u7f51\u65f6\u957f",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:e.length>6?55:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6);",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"</span><br/>")})),t}},legend:{top:"50px",right:"10%",textStyle:{color:"#999999"}},dataZoom:{show:e.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:25},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999"},data:e,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u65f6\u957f/h",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:r};c.setOption(o,!0),window.addEventListener("resize",(function(){c.resize()}))}}),[h,C]),Object(n.useEffect)((function(){if(0!=C.length){var e=[],t=[],a=[],n=[],r=[];C.forEach((function(r){e.push(r.month),t.push(r.personalTimes),a.push(r.classTimes),n.push(r.gradeTimes)})),"student"==s&&(r=[{name:"\u4e2a\u4eba",type:"line",lineStyle:{color:"#ff0000",width:1,borderColor:"#ff0000",emphasis:{width:1}},itemStyle:{color:"#ff0000"},data:t},{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]),"teacher"==s&&(r=[{name:"\u73ed\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#1da4fe"},{offset:1,color:"#7ecbff"}])},data:a},{name:"\u5e74\u7ea7",type:"bar",barWidth:16,itemStyle:{color:new Ln.a(0,0,0,1,[{offset:0,color:"#51ca51"},{offset:1,color:"#a0dea0"}])},data:n}]);var c=nn.a.init(document.getElementById("internet-count-echart"));c.resize();var o={title:{text:"\u4e0a\u7f51\u6b21\u6570",left:"center",top:"20px",textStyle:{color:"#333333",fontWeight:"normal",fontSize:14}},grid:{top:85,bottom:e.length>6?55:45},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"border: 0; background-color: rgba(0, 0, 0, 0.6);",formatter:function(e){var t='\n                    <span \n                    style="\n                    display: inline-block; \n                    width: 100%; \n                    color: #fffd64; \n                    text-overflow: ellipsis; \n                    overflow: hidden; \n                    white-space: nowrap;">'.concat(e[0].name,"</span><br/>");return e.forEach((function(e){t+="\n                        <i class='tooltip-dot'></i>\n                        <span style=\"color: #cccccc;\">".concat(e.seriesName,':</span>\n                        <span style="color: rgba(255, 255, 255, 0.8);">').concat(e.value,"</span><br/>")})),t}},legend:{top:"50px",right:"10%",textStyle:{color:"#999999"}},dataZoom:{show:e.length>6,maxValueSpan:5,height:2,showDetail:!1,moveHandSize:6,bottom:25},xAxis:{type:"category",name:"\u65e5\u671f",nameTextStyle:{color:"#999999"},data:e,axisTick:{show:!1},axisLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{interval:0,textStyle:{color:"#7c7c7c"}}},yAxis:{type:"value",name:"\u6b21\u6570",nameTextStyle:{color:"#999999",padding:[0,0,0,30]},splitLine:{lineStyle:{color:"#e6e6e6"}},axisLabel:{textStyle:{color:"#999999"},formatter:"{value} "}},series:r};c.setOption(o,!0),window.addEventListener("resize",(function(){c.resize()}))}}),[h,C]);var A=0,J=O.length,R=0,M=0,P=v.length,W=w.length;return v.forEach((function(e){R+=e.duration})),w.forEach((function(e){M+=e.duration})),O.forEach((function(e){A+=e.duration})),r.a.createElement("div",{className:"my-internet"},r.a.createElement("div",{className:"show-top"},r.a.createElement("div",{className:"internet-time"},r.a.createElement("i",{className:"livelogo"}),r.a.createElement("p",{className:"live-name"},"\u4e0a\u7f51\u65f6\u957f: ",r.a.createElement("span",null,(R/1e3/60/60).toFixed(1),"h")),"teacher"==s?r.a.createElement("p",{title:"\u5e74\u7ea7\u5e73\u5747:".concat((A/1e3/60/60).toFixed(1))},"\u5e74\u7ea7\u5e73\u5747:",(A/1e3/60/60).toFixed(1)):r.a.createElement("p",{title:"\u73ed\u7ea7\u5e73\u5747:".concat((M/1e3/60/60).toFixed(1),"; \u5e74\u7ea7\u5e73\u5747:").concat((A/1e3/60/60).toFixed(1))},"\u73ed\u7ea7\u5e73\u5747:",(M/1e3/60/60).toFixed(1),"; \u5e74\u7ea7\u5e73\u5747:",(A/1e3/60/60).toFixed(1))),r.a.createElement("div",{className:"internet-count"},r.a.createElement("i",{className:"livelogo"}),r.a.createElement("p",{className:"live-name"},"\u4e0a\u7f51\u6b21\u6570: ",r.a.createElement("span",null,P)),"teacher"==s?r.a.createElement("p",{title:"\u5e74\u7ea7\u5e73\u5747:".concat(J)},"\u5e74\u7ea7\u5e73\u5747:",J):r.a.createElement("p",{title:"\u73ed\u7ea7\u5e73\u5747:".concat(W,"; \u5e74\u7ea7\u5e73\u5747:").concat(J)},"\u73ed\u7ea7\u5e73\u5747:",W,"; \u5e74\u7ea7\u5e73\u5747:",J))),v.length>0?r.a.createElement("div",{className:"show-center"},r.a.createElement("div",{className:"kind-position-echart",id:"kind-position-echart"}),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"place-position-echart",id:"place-position-echart"}),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"time-position-echart",id:"time-position-echart"})):r.a.createElement(ye,{className:"bar-empty",style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}),r.a.createElement("div",{className:"select-container"},r.a.createElement("span",null,"\u65f6\u95f4:"),r.a.createElement(ne.a,{value:h,className:"select",onChange:function(e){return b(e)}},r.a.createElement(ac,{value:"3"},"\u6309\u5929\u6570"),r.a.createElement(ac,{value:"2"},"\u6309\u5468\u6b21"),r.a.createElement(ac,{value:"1"},"\u6309\u6708\u4efd"))),C.length>0?r.a.createElement("div",{className:"show-bottom"},r.a.createElement("div",{className:"internet-time-echart",id:"internet-time-echart"}),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"internet-count-echart",id:"internet-count-echart"})):r.a.createElement(ye,{style:{margin:"20px 0"},title:"\u6682\u65e0\u6570\u636e",type:"4"}))}var rc=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},sc=Object(d.connect)(rc)(Object(n.memo)(Object(n.forwardRef)(nc)));Tt.BasicProxy,ne.a.Option;function cc(e,t){e.currentTerm;var a=e.userIdentity,s=(e.currentClass,e.currentGrade,e.userInfo),c=(s.SchoolID,s.UserID,e.reflash,Object(n.useState)("3")),o=Object(u.a)(c,2);o[0],o[1];return r.a.createElement("div",{className:"my-contact"},r.a.createElement("div",{className:"show-top"},r.a.createElement("div",{className:"contact-count"},r.a.createElement("i",{className:"livelogo"}),r.a.createElement("p",{className:"live-name"},"\u8054\u7cfb\u4eba\u6570: ",r.a.createElement("span",null,"130\u4eba")),"teacher"==a?r.a.createElement("p",null,"\u5e74\u7ea7\u5e73\u5747:982"):r.a.createElement("p",null,"\u73ed\u7ea7\u5e73\u5747:1010; \u5e74\u7ea7\u5e73\u5747:982")),r.a.createElement("div",{className:"online-contact-count"},r.a.createElement("i",{className:"livelogo"}),r.a.createElement("p",{className:"live-name"},"\u5728\u7ebf\u804a\u5929\u6b21\u6570: ",r.a.createElement("span",null,"12\u6b21")),"teacher"==a?r.a.createElement("p",null,"\u5e74\u7ea7\u5e73\u5747:982"):r.a.createElement("p",null,"\u73ed\u7ea7\u5e73\u5747:1010; \u5e74\u7ea7\u5e73\u5747:982")),r.a.createElement("div",{className:"online-contact-frequency"},r.a.createElement("i",{className:"livelogo"}),r.a.createElement("p",{className:"live-name"},"\u5728\u7ebf\u804a\u5929\u9891\u7387: ",r.a.createElement("span",null,"125")),"teacher"==a?r.a.createElement("p",null,"\u5e74\u7ea7\u5e73\u5747:982"):r.a.createElement("p",null,"\u73ed\u7ea7\u5e73\u5747:1010; \u5e74\u7ea7\u5e73\u5747:982")),r.a.createElement("div",{className:"online-contact-time"},r.a.createElement("i",{className:"livelogo"}),r.a.createElement("p",{className:"live-name"},"\u5728\u7ebf\u804a\u5929\u65f6\u957f: ",r.a.createElement("span",null,"2\u6b21/\u5929")),"teacher"==a?r.a.createElement("p",null,"\u5e74\u7ea7\u5e73\u5747:982"):r.a.createElement("p",null,"\u73ed\u7ea7\u5e73\u5747:1010; \u5e74\u7ea7\u5e73\u5747:982"))))}var oc=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},lc=(Object(d.connect)(oc)(Object(n.memo)(Object(n.forwardRef)(cc))),Tt.BasicProxy);function ic(e,t){var a=e.term,s=(e.HasHistory,e.onAnchorComplete),c=(e.schoolID,e.collegeID,e.productMsg,e.userIdentity),o=e.currentClass,l=e.currentGrade,i=e.userInfo,d=i.UserID,m=i.SchoolID,f=e.reflash,p=Object(n.useState)([]),h=Object(u.a)(p,2),b=h[0],g=h[1],y=Object(n.useRef)(null),v=Object(n.useRef)(null),E=Object(n.useRef)(null),I=(Object(n.useRef)(null),Object(n.useRef)(null));return Object(n.useLayoutEffect)((function(){"function"===typeof s&&s([{ref:y.current,name:"student"==c?"\u6211\u7684\u4f5c\u606f":"\u5b66\u751f\u4f5c\u606f"},{ref:v.current,name:"student"==c?"\u6211\u7684\u6d88\u8d39":"\u5b66\u751f\u6d88\u8d39"},{ref:E.current,name:"student"==c?"\u6211\u7684\u4e0a\u7f51":"\u5b66\u751f\u4e0a\u7f51"},{ref:I.current,name:"\u751f\u6d3b\u8f68\u8ff9"}])}),[]),Object(n.useLayoutEffect)((function(){if(("student"!=c||d)&&("teacher"!=c||o)){var e=a.value&&JSON.parse(a.value),t=lc+"/api/campusLife/route?id="+("student"==c?d:"teacher"==c?o:"manager"==c?o||(l||m):d)+"&queryType="+("student"==c?1:"teacher"==c||o?2:l?3:4)+"&startDate="+e.startDate.substr(0,10)+"&endDate="+e.endDate.substr(0,10);Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&g(e.data)}))}}),[a,o,l,c,f]),r.a.createElement("div",{className:"award-and-punish",id:"schoolLiveMsg"},r.a.createElement($a,{loading:!1,barName:"student"==c?"\u6211\u7684\u4f5c\u606f":"\u5b66\u751f\u4f5c\u606f",ref:y},r.a.createElement(Qs,{currentClass:o,currentGrade:l,currentTerm:a,userIdentity:c,reflash:f})),r.a.createElement($a,{loading:!1,barName:"student"==c?"\u6211\u7684\u6d88\u8d39":"\u5b66\u751f\u6d88\u8d39",ref:v},r.a.createElement(ec,{currentClass:o,currentGrade:l,currentTerm:a,userIdentity:c,reflash:f})),r.a.createElement($a,{loading:!1,barName:"student"==c?"\u6211\u7684\u4e0a\u7f51":"\u5b66\u751f\u4e0a\u7f51",ref:E},r.a.createElement(sc,{currentClass:o,currentGrade:l,currentTerm:a,userIdentity:c,reflash:f})),r.a.createElement($a,{loading:!1,barName:"\u751f\u6d3b\u8f68\u8ff9",ref:I},r.a.createElement(hn,{userIdentity:c,type:"schoolLiveMsg",data:b})))}var uc=function(e){var t=e.commonData,a=t.termInfo;return{HasHistory:a.HasHistory,TermInfo:a.TermInfo,userInfo:t.userInfo}},dc=Object(d.connect)(uc)(Object(n.memo)(Object(n.forwardRef)(ic)));a(1649),a(877);function mc(e,t){var a=e.className,s=(e.levelHash,e.productMsg),c=e.data,o=c.DayAvgTimeSpan,l=c.DayAvgLoginCount,i=c.AvgLoginTimeSpan,d=c.TotalTeacher,f=c.DayAvgOnlineUser,p=c.DayAvgOfflineUser,h=c.DayAvgOnlinePercent,b=c.SubSet;s=s||{};var g=Object(n.useState)(null),y=Object(u.a)(g,2),v=y[0],E=y[1],I=Object(n.useState)(null),S=Object(u.a)(I,2),O=S[0],x=S[1],N=Object(n.useRef)(null),j=Object(n.useRef)(null);Object(n.useLayoutEffect)((function(){if(void 0!==p&&void 0!==f){var e=O,t=v,a=["#0a407d","#5ed9d8","#fbb458","#fd8273","#3fb43f","#e84855","#e58d4c","#2d3047","#71add8"],n=[["nodeName","Count"],["\u5e73\u5747\u6bcf\u65e5\u4e0d\u4e0a\u673a\u4eba\u6570",p],["\u5e73\u5747\u6bcf\u65e5\u4e0a\u673a\u4eba\u6570",f]],r={},c={};a.forEach((function(e,t){r["".concat(t)]={color:e,fontSize:12},c["".concat(t,"16")]={color:e,fontSize:16}}));var o=[["nodeName","\u5e73\u5747\u5e74\u9f84","\u5e73\u5747\u6559\u9f84"]],l={dataset:{source:[]},tooltip:{trigger:"item",backgroundColor:"rgba(0,0,0,0.7)",formatter:function(e){return"\u5e73\u5747\u6bcf\u65e5\u4e0a\u673a\u4eba\u6570\u5360\u6bd4".concat(ot(100*h),"%")},textStyle:{color:"#fffd64"}},legend:{show:!1},color:a,series:[{name:"\u4e0a\u673a\u4fe1\u606f\u7edf\u8ba1",type:"pie",radius:["50%","80%"],top:"10",minAngle:4,height:"90%",itemStyle:{borderColor:"#fff",borderWidth:1,shadowColor:"rgba(0, 0, 0, 0.15)",shadowBlur:7},label:{show:!0,color:null,formatter:function(e){var t=0,n=0;return a.forEach((function(a,r){a===e.color&&(t=r,n=r+"16")})),"{".concat(t,"|").concat(e.name,"}\n{").concat(n,"|").concat(e.value[1],"}{").concat(t,"|\u4eba}")},rich:Object(m.a)(Object(m.a)({},r),c)}}]};b instanceof Array&&b.forEach((function(e,t){var a=e.NodeName,n=e.AvgLoginTimeSpan,r=e.DayAvgTimeSpan,s=e.DayAvgOnlinePercent,c=e.DayAvgLoginCount;o.push([a,ct(r,"m","h").time,c,ct(n,"m","h").time,s])}));var i={title:{text:"\u5404"+s.sub+"\u6559\u5e08\u5e73\u5747\u6bcf\u65e5\u4e0a\u673a\u65f6\u957f\u7edf\u8ba1\u4fe1\u606f",left:"center",top:20,textStyle:{color:"#333333",fontSize:14}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"rgba(0,0,0,0.7)",borderColor:"transparent",borderWidth:0,formatter:function(e){var t=e[0].data;return'<div  class="t-tooltip">\n                <p class="nodename">\u6bcf\u4eba\u6bcf\u65e5\u5e73\u5747\u4e0a\u673a\u65f6\u957f'.concat(t[1],"\u5c0f\u65f6</p><p class='msg msg-2'>\u6bcf\u4eba\u6bcf\u65e5\u5e73\u5747\u4e0a\u673a<span>").concat(t[2],"\u6b21</span></p><p class='msg msg-2'>\u6bcf\u4eba\u6bcf\u6b21\u5e73\u5747\u4e0a\u673a\u65f6\u957f<span>").concat(t[3],"\u5c0f\u65f6</span></p><p class='msg msg-2'>\u5e73\u5747\u6bcf\u65e5\u4e0a\u673a\u4eba\u6570\u5360\u6bd4<span>").concat(t[4],"%</span></p></div>\n            ")}},legend:{show:!1},grid:{left:28,height:180,right:58,bottom:20,containLabel:!0},dataset:{source:[]},dataZoom:{type:"slider",show:o.length>6,minSpan:4/(o.length-1)*100,maxSpan:4/(o.length-1)*100,zoomLock:!0,showDetail:!1,showDataShadow:!1,height:8,bottom:0},xAxis:[{type:"category",name:s.sub,nameGap:12,nameTextStyle:{color:"#7c7c7c",fontSize:12},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{}},axisLabel:{color:"#7c7c7c",fontSize:12,formatter:function(e){var t=e;return"string"===typeof e&&e.length>6&&(t=e.slice(0,4)+"..."),t}}}],yAxis:[{type:"value",name:"\u5e73\u5747\u6bcf\u65e5\u4e0a\u673a\u65f6\u957f(\u5355\u4f4d:\u5c0f\u65f6)",axisLabel:{color:"#7c7c7c",fontSize:12,margin:20},nameTextStyle:{color:"#7c7c7c",fontSize:12,padding:[0,0,0,150]},nameGap:20}],series:[{type:"bar",barGap:"4%",barMaxWidth:24,itemStyle:{color:{type:"linear",x:1,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"#9fedec"},{offset:1,color:"#28c6c5"}]},borderRadius:[3,3,0,0]}}]};e||(e=nn.a.init(N.current),x(e),$e(e)),t||(t=nn.a.init(j.current),E(t),$e(t));var u=tt(l);return u.dataset.source=n,i.dataset.source=o,e.setOption(u),t.setOption(i),function(){e.off(),t.off()}}}),[b,s]);var w=Object(n.useCallback)((function(e){var t=ct(e,"m");return t.time<1?"\u5c0f\u4e8e1\u5206\u949f":t.Time_zh}),[]);return r.a.createElement("div",{className:"teacher-bar TeacherInternet ".concat(a||""," ")},r.a.createElement("div",{className:"ter-left"},r.a.createElement("p",{className:"tb-tip"},s&&s.title?s.title:"","\u6bcf\u4eba\u6bcf\u65e5\u5e73\u5747\u4e0a\u673a\u65f6\u957f",r.a.createElement("span",{className:"tb-tip-2"},w(o)),"\uff0c\u6bcf\u4eba\u6bcf\u65e5\u5e73\u5747\u4e0a\u673a",r.a.createElement("span",{className:"tb-tip-2"},l),"\u6b21\uff0c\u6bcf\u6b21",r.a.createElement("span",{className:"tb-tip-2"},w(i))),r.a.createElement("div",{ref:N,className:"ter-echarts"}),r.a.createElement("p",{className:"ter-all"},"\u6559\u5e08\u603b\u4eba\u6570",r.a.createElement("br",null),r.a.createElement("span",null,d),"\u4eba"),r.a.createElement("p",{className:"ter-title"},"\u5e73\u5747\u6bcf\u65e5\u4e0a\u673a\u4eba\u6570\u5360\u6bd4",r.a.createElement(de.a,{title:"\u7591\u95ee",color:"#0249a5",overlayClassName:"show-detail",getPopupContainer:function(e){return e.parentNode},trigger:["hover"]},r.a.createElement("i",{className:"tb-show-detail",onClick:function(){}})))),r.a.createElement("div",{ref:j,className:"tb-right ter-right"}))}var fc=function(e){return{levelHash:e.commonData.levelHash}},pc=Object(d.connect)(fc)(Object(n.memo)(Object(n.forwardRef)(mc)));function hc(e,t){var a=e.className,s=(e.levelHash,e.productMsg),c=e.data,o=c.TPCount,l=c.AvgUploadTPCount,i=c.AvgUploadUserCount,d=c.TotalTeacher,m=c.HasUploadedCount,f=c.NoUploadedCount,p=(c.UploadedPercent,c.SubSet);s=s||{};var h=Object(n.useState)(null),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useRef)(null);return Object(n.useLayoutEffect)((function(){if(void 0!==f&&void 0!==m){var e=g,t=[["nodeName","\u5e73\u5747\u5728\u7ebf\u529e\u516c\u65f6\u957f","\u5e73\u5747\u5728\u7ebf\u6559\u5b66\u65f6\u957f"]];p instanceof Array&&p.forEach((function(e,a){var n=e.NodeName,r=e.TotalTeacher,s=e.HasUploadedCount;e.UploadedPercent;t.push([n,r,s,r])}));var a={dataZoom:{type:"slider",show:t.length>6,minSpan:4/(t.length-1)*100,maxSpan:4/(t.length-1)*100,zoomLock:!0,showDetail:!1,showDataShadow:!1,height:8,bottom:0},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"rgba(0,0,0,0.7)",borderColor:"transparent",borderWidth:0,formatter:function(e){var t=e[0],a=t.data,n=t.name;return'<div  class="t-tooltip">\n                <p class="nodename">'.concat(n,"</p><p class='msg msg-2'>\u5728\u7ebf\u529e\u516c<span>").concat(a[1],"\u5c0f\u65f6</span></p><p class='msg msg-2'>\u5728\u7ebf\u6559\u5b66<span>").concat(a[2],"\u5c0f\u65f6</span></p></div>\n            ")}},legend:{show:!0,right:50,top:0,itemWidth:11,itemHeight:11,itemGap:30,textStyle:{rich:{name:{fontSize:12,color:"#999999"},count:{fontSize:14,fontWeight:"bold",color:"#333"}},color:"#999999"}},grid:{left:58,height:175,right:88,bottom:0,containLabel:!0},dataset:{source:[]},xAxis:[{type:"category",name:s.sub,nameGap:12,nameTextStyle:{color:"#7c7c7c",fontSize:12},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{}},axisLabel:{color:"#7c7c7c",fontSize:12,formatter:function(e){var t=e;return"string"===typeof e&&e.length>6&&(t=e.slice(0,4)+"..."),t}}}],yAxis:[{type:"value",name:"\u65f6\u957f",axisLabel:{color:"#7c7c7c",fontSize:12,margin:20},nameTextStyle:{color:"#7c7c7c",fontSize:12,padding:[0,0,0,100]},nameGap:20}],series:[{type:"bar",barGap:"4%",barMaxWidth:32,itemStyle:{color:{type:"linear",x:1,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"#ffb782"},{offset:.5,color:"#fba768"},{offset:1,color:"#f7964e"}]},borderRadius:[3,3,0,0]}},{type:"bar",barGap:"4%",barMaxWidth:32,itemStyle:{color:{type:"linear",x:1,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"#a0dea0"},{offset:1,color:"#51ca51"}]},borderRadius:[3,3,0,0]}}]};return e||(e=nn.a.init(v.current),y(e),$e(e)),a.dataset.source=t,e.setOption(a),function(){e.off()}}}),[p,s]),r.a.createElement("div",{className:"teacher-bar TeacherOnline ".concat(a||""," ")},r.a.createElement("div",{className:"tb-top"},r.a.createElement("p",{className:"tb-tip"},s&&s.title?s.title:"","\u6bcf\u4eba\u6bcf\u65e5\u5e73\u5747\u5728\u7ebf\u529e\u516c",r.a.createElement("span",{className:"tb-tip-2"},o),"\u6b21\uff0c\u5171",r.a.createElement("span",{className:"tb-tip-2"},l),"\u5c0f\u65f6\uff1b\u6bcf\u4eba\u6bcf\u65e5\u5e73\u5747\u5728\u7ebf\u6559\u5b66",r.a.createElement("span",{className:"tb-tip-2"},i),"\u6b21\uff0c\u5171",r.a.createElement("span",{className:"tb-tip-2"},d),"\u5c0f\u65f6"),r.a.createElement("p",{className:"tp-tilte"},"\u5404",s.sub,"\u6559\u5e08\u6bcf\u65e5\u529e\u516c\u6559\u5b66\\\u529e\u516c\u7edf\u8ba1\u4fe1\u606f")),r.a.createElement("div",{ref:v,className:"tb-charts"}))}var bc=function(e){return{levelHash:e.commonData.levelHash}},gc=(Object(d.connect)(bc)(Object(n.memo)(Object(n.forwardRef)(hc))),Tt.BasicProxy);function yc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.schoolID,a=e.collegeID,n=e.selectLevel,r=e.term,s=gc+"/Statistics/NetInfo/RP?SchoolID=".concat(t||"","&CollegeID=").concat(a||"","&SelectLevel=").concat(n||"","&Term=").concat(r||"");return Qt.get({url:s,securityLevel:2}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode&&(e.Data?e.Data:{})}))}function vc(e,t){var a=e.term,s=(e.HasHistory,e.onAnchorComplete),c=e.schoolID,o=e.collegeID,l=e.productMsg,i=l.selectLevel,d=(l.productLevel,Object(n.useState)(!1)),m=Object(u.a)(d,2),f=m[0],p=m[1],h=Object(n.useState)(!1),b=Object(u.a)(h,2),g=(b[0],b[1],Object(n.useRef)(null)),y=Object(n.useRef)(null);return Object(n.useLayoutEffect)((function(){"function"===typeof s&&s([{ref:g.current,name:"\u4e0a\u673a\u4fe1\u606f"},{ref:y.current,name:"\u6559\u5b66\u529e\u516c"}])}),[]),Object(n.useEffect)((function(){a instanceof Object&&yc({term:a.value,schoolID:c,collegeID:o,selectLevel:i}).then((function(e){e&&p(e)}))}),[a,c,o,i]),r.a.createElement("div",{className:"InformationizeAbility"},r.a.createElement($a,{loading:!f,barName:"\u4e0a\u673a\u4fe1\u606f\u7edf\u8ba1 ",ref:g},r.a.createElement(pc,{data:f,productMsg:l})))}var Ec=function(e){return{HasHistory:e.commonData.termInfo.HasHistory}},Ic=(Object(d.connect)(Ec)(Object(n.memo)(Object(n.forwardRef)(vc))),a(892)),Sc=a.n(Ic),Oc=Tt.BasicProxy,xc=ne.a.Option;function Nc(e,t){var a=e.type,s=e.termselect,c=e.termlist,o=e.onTermChange,l=e.className,i=e.schoolMsg,d=e.getHeight,f=e.onTypeChange,p=e.setShowType,h=e.userIdentity,b=e.gradeList,g=e.classList,y=e.onClassChange,v=e.onGradeChange,E=e.teacherClassList,I=e.ModuleID,S=e.setReFlash,O=Object(n.useState)(c),x=Object(u.a)(O,2),N=x[0],j=x[1],w=Object(n.useState)([{value:"stuStatusMsg",title:"\u5b66\u7c4d\u6863\u6848"},{value:"stuConditionMsg",title:"\u5b66\u60c5\u6863\u6848"},{value:"attendanceMsg",title:"\u8003\u52e4\u6863\u6848"},{value:"healthMsg",title:"\u5065\u5eb7\u6863\u6848"},{value:"awardAndPunish",title:"\u5956\u60e9\u6863\u6848"},{value:"schoolLive",title:"\u6821\u56ed\u751f\u6d3b\u6863\u6848"}]),D=Object(u.a)(w,2),T=D[0],k=(D[1],Object(n.useState)(N[0]?N[0]:{})),C=Object(u.a)(k,2),L=C[0],A=C[1],J=Object(n.useState)(T[0]?T[0]:{}),R=Object(u.a)(J,2),M=R[0],P=(R[1],Object(n.useState)([])),W=Object(u.a)(P,2),H=(W[0],W[1]),z=Object(n.useState)([]),U=Object(u.a)(z,2),B=U[0],F=U[1],G=Object(n.useState)(""),V=Object(u.a)(G,2),Y=V[0],Z=V[1],Q=Object(n.useState)(""),X=Object(u.a)(Q,2),K=X[0],q=X[1],ee=Object(n.useState)(""),te=Object(u.a)(ee,2),ae=te[0],re=te[1],se=Object(n.useState)(!1),ce=Object(u.a)(se,2),oe=ce[0],le=ce[1],ie=Object(n.useState)({}),ue=Object(u.a)(ie,2),de=ue[0],fe=ue[1],pe=Object(n.useState)({}),he=Object(u.a)(pe,2),be=he[0],ge=he[1],ye=Object(n.useState)({}),ve=Object(u.a)(ye,2),Ee=ve[0],Ie=ve[1],Se=Object(n.useState)({}),Oe=Object(u.a)(Se,2),xe=Oe[0],Ne=Oe[1],je=Object(n.useState)(!1),we=Object(u.a)(je,2),Te=we[0],ke=we[1],Ce=Object(n.useState)(!1),Le=Object(u.a)(Ce,2),Re=Le[0],Me=Le[1],Pe=Object(n.useState)([]),We=Object(u.a)(Pe,2),He=(We[0],We[1],Object(n.useState)(0)),ze=Object(u.a)(He,2),Ue=ze[0],Be=ze[1],Fe=Object(n.useState)(0),Ge=Object(u.a)(Fe,2),_e=Ge[0],Ve=Ge[1],Ye=Object(n.useState)([]),Ze=Object(u.a)(Ye,2),Qe=Ze[0],Xe=Ze[1],Ke=Object(n.useRef)({});Object(n.useEffect)((function(){void 0!==s&&A(s)}),[s]),Object(n.useEffect)((function(){}),[b]),Object(n.useEffect)((function(){var e=sessionStorage.getItem("currentClass"),t=[];"manager"==h&&g.length>0&&(t=g.filter((function(e){return e.gradeId==Y}))),E.length>0&&E.forEach((function(e){t.push(e)})),(Y||"manager"!=h)&&(K||"manager"!=h?e?q(e):t[0]&&q(t[0].classId):q(""))}),[g,Y,E]),Object(n.useEffect)((function(){g.forEach((function(e){e.classId==K&&K&&(re(e.className),fe(e))}))}),[K,E]),Object(n.useLayoutEffect)((function(){var e=[],t=[];g.forEach((function(e){t.push(e.gradeName)})),(t=Object(yn.a)(new Set(t))).forEach((function(t){var a=[];g.forEach((function(e){e.gradeName==t&&a.push(e)})),e.push({gradeName:t,classList:a})})),Xe(e)}),[g]),Object(n.useEffect)((function(){void 0!==c&&(j(c),void 0===s&&void 0===L&&A(c[0]?c[0]:{}))}),[c]);var qe=Object(n.useMemo)((function(){return a||"default"}),[a]),$e=Object(n.useMemo)((function(){var e={isSchool:!1};return i&&"school"===qe&&(e=Object(m.a)({isSchool:!0},i)),e}),[i,qe]),et=$e.isSchool,tt=$e.NodeName,at=$e.LogoUrl;Object(n.useLayoutEffect)((function(){if("student"==h){var e=sessionStorage.getItem("UserInfo")?JSON.parse(sessionStorage.getItem("UserInfo")).UserID:"",t=sessionStorage.getItem("UserInfo")?JSON.parse(sessionStorage.getItem("UserInfo")).SchoolID:"",a=Oc+"/api/base/getSchoolStudent?schoolId="+t+"&studentId="+e;Qt.get({url:a,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(q(e.data.classId),Z(e.data.gradeId))}))}}),[h]),Object(n.useEffect)((function(){"function"===typeof o&&o(L)}),[L]),Object(n.useEffect)((function(){"function"===typeof f&&f(M)}),[M]),Object(n.useEffect)((function(){"function"===typeof y&&y(K)}),[K]),Object(n.useLayoutEffect)((function(){var e=JSON.parse(sessionStorage.getItem("UserInfo")).UserID,t=Oc+"/api/base/getCourseClassById?teacherId="+e;Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&H(e.data)}))}),[]),Object(n.useEffect)((function(){if("function"===typeof v&&v(Y),"manager"==h){var e=[];Y&&(g.length>0&&(e=g.filter((function(e){return e.gradeId==Y}))),E.length>0&&E.forEach((function(t){e.push(t)})),("manager"!=h||K)&&e[0]&&q(e[0].classId))}}),[Y]),Object(n.useLayoutEffect)((function(){var e=[];if("{}"!=JSON.stringify(Ee)&&"{}"!=JSON.stringify(xe)){"stuStatusMsg"==I&&(e=["acceptPreSchoolNum","boardNum","leftChildNum","onlyChildNum","poorNum"]),"stuConditionMsg"==I&&(e=["avgScore","examScore","finishRate","score","total"]),"attendanceMsg"==I&&(e=["avgAttendanceRateResult","lateTimes","leaveEarlyTimes","vacateTimes"]);var t=0,a=0;if(e.length>0)for(var n in Ee)e.includes(n)&&Ee[n]>xe[n]&&t++,e.includes(n)&&Ee[n]<xe[n]&&a++;else Array.isArray(Ee.pkProjects)&&Ee.pkProjects.forEach((function(e){Array.isArray(xe.pkProjects)&&xe.pkProjects.forEach((function(n){n.projectName==e.projectName&&n.score>e.score&&a++,n.projectName==e.projectName&&n.score<e.score&&t++}))}));console.log(e,t,a,"pk"),Be(t),Ve(a)}}),[Ee,xe]);var nt=function(e){"stuStatusMsg"==I&&(e="STATUS_LOGS");var t=sessionStorage.getItem("UserInfo")?JSON.parse(sessionStorage.getItem("UserInfo")).SchoolID:"",a=Oc+"/api/base/template?schoolId="+t+"&gradeId="+Y+"&classId="+K+"&templateType="+e+"&blankSheet="+("ATTENDANCE_LOGS"==e?0:1);window.location.href=a},rt=function(){var e=_()("#".concat(I));Sc()(e[0],{width:e.width()-10,height:e.height()+10,scale:.75,backgroundColor:"#ffffff"}).then((function(e){var t=e.toDataURL(),a=document.createElement("a");a.href=t;var n="";"stuStatusMsg"==I&&(n+="\u5b66\u7c4d\u6863\u6848_"),"stuConditionMsg"==I&&(n+="\u5b66\u60c5\u6863\u6848_"),"attendanceMsg"==I&&(n+="\u8003\u52e4\u6863\u6848_"),"awardAndPunish"==I&&(n+="\u5956\u60e9\u6863\u6848_"),"healthMsg"==I&&(n+="\u5065\u5eb7\u6863\u6848_"),"schoolLiveMsg"==I&&(n+="\u6821\u56ed\u751f\u6d3b\u6863\u6848_");var r=L.value?JSON.parse(L.value).termName:"",s="";Array.isArray(b)&&b.map((function(e,t){e.gradeId==Y&&(s=e.gradeName)})),a.download=n+r+(s?"_"+s:"")+(ae?"_"+ae:"");var c=new MouseEvent("click");a.dispatchEvent(c)}))},st=function(e,t){var a="",n=new FormData;if("stuStatusMsg"!=I){if("stuConditionMsg"!=I){if("attendanceMsg"==I){n.append("multipartFile",e.file);var r=JSON.parse(sessionStorage.getItem("UserInfo")).SchoolID;"ATTENDANCE_LOGS"==t&&(a=Oc+"/api/attendance/check/attendance?classId="+K+"&schoolId="+r),"ATTENDANCE_DORMITORY_LOGS"==t&&(a=Oc+"/api/attendance/check/attendanceDormitory?classId="+K+"&schoolId="+r),"ATTENDANCE_GATE_LOGS"==t&&(a=Oc+"/api/attendance/check/attendanceGate?classId="+K+"&schoolId="+r)}"awardAndPunish"==I&&(n.append("file",e.file),"REWARDS_LOGS"==t&&(a=Oc+"/api/punishAndReward/rewards/import"),"PUNISHMENT_LOGS"==t&&(a=Oc+"/api/punishAndReward/punishment/import")),"healthMsg"==I&&(n.append("file",e.file),"LEAVE_RECORD_LOGS"==t&&(a=Oc+"/api/healthy/leave/import"),"MENTAL_HEALTHY_LOGS"==t&&(a=Oc+"/api/healthy/mentalHealthy/import"),"TEMPERATURE"==t&&(a=Oc+"/api/healthy/temperature/import"),"PHYSICS_HEALTHY_LOGS"==t&&(a=Oc+"/api/healthy/studentHealthInfo/import")),"schoolLiveMsg"==I&&(n.append("file",e.file),"CONSUMPTION_LOGS"==t&&(a=Oc+"/api/campusLife/consumption/import"),"NETWORK_LOGS"==t&&(a=Oc+"/api/campusLife/networkLog/import")),_.a.ajax({url:a,type:"post",async:!0,data:n,dataType:"json",cache:!1,processData:!1,contentType:!1,headers:{Authorization:"X-Token="+sessionStorage.getItem("token")},success:function(e){if(200==e.status){var a=_()(".link-child-box a"),r=1;a.each((function(e,t){_()(t).attr("class")&&-1!=_()(t).attr("class").indexOf("link-select")&&(r=e+1)}));var s=Oc+"/cache/delete?moduleIds="+r;if(Qt.get({url:s,securityLevel:2}).then((function(e){return e.json()})).then((function(e){})),"attendanceMsg"==I){if("ATTENDANCE_LOGS"==t){var c=Oc+"/api/attendance/import/attendance";return void _.a.ajax({url:c,type:"post",async:!0,data:n,dataType:"json",cache:!1,processData:!1,contentType:!1,headers:{Authorization:"X-Token="+sessionStorage.getItem("token")},success:function(e){Ta.b.success("\u5bfc\u5165\u6210\u529f~"),S(!0)},error:function(){Ta.b.success("\u5bfc\u5165\u5931\u8d25~")}})}if("ATTENDANCE_DORMITORY_LOGS"==t){var o=Oc+"/api/attendance/import/attendanceDormitory";return void _.a.ajax({url:o,type:"post",async:!0,data:n,dataType:"json",cache:!1,processData:!1,contentType:!1,headers:{Authorization:"X-Token="+sessionStorage.getItem("token")},success:function(e){Ta.b.success("\u5bfc\u5165\u6210\u529f~"),S(!0)},error:function(){Ta.b.success("\u5bfc\u5165\u5931\u8d25~")}})}if("ATTENDANCE_GATE_LOGS"==t){var l=Oc+"/api/attendance/import/attendanceGate";return void _.a.ajax({url:l,type:"post",async:!0,data:n,dataType:"json",cache:!1,processData:!1,contentType:!1,headers:{Authorization:"X-Token="+sessionStorage.getItem("token")},success:function(e){Ta.b.success("\u5bfc\u5165\u6210\u529f~"),S(!0)},error:function(){Ta.b.success("\u5bfc\u5165\u5931\u8d25~")}})}}Ta.b.success("\u5bfc\u5165\u6210\u529f~")}else{if("404"!=e.status&&e.msg&&-1!=e.msg.indexOf(".xls"))return Ta.b.success("\u6587\u6863\u5185\u6570\u636e\u9519\u8bef\uff0c\u8bf7\u4e0b\u8f7d\u6587\u4ef6\u5e76\u4fee\u6539\u6807\u7ea2\u884c\u7684\u6570\u636e\uff01",3),void(window.location.href=Oc+"/api/base/fileDownload?filePath="+e.msg);Ta.b.error("\u5bfc\u5165\u5931\u8d25\uff01\u8bf7\u70b9\u51fb\u4e0b\u8f7d\u6a21\u677f\u94fe\u63a5\u4e0b\u8f7d\u6b63\u786e\u7684\u6a21\u677f\u6587\u4ef6~")}},error:function(e){Ta.b.error("\u5bfc\u5165\u5931\u8d25\uff01\u8bf7\u70b9\u51fb\u4e0b\u8f7d\u6a21\u677f\u94fe\u63a5\u4e0b\u8f7d\u6b63\u786e\u7684\u6a21\u677f\u6587\u4ef6~")}})}}else p("import")},ct=function(){ot("myClass"),le(!0)},ot=function(e,t){var a,n="";if(a=t?t.classId?t.classId:"":K){var r=sessionStorage.getItem("UserInfo")?JSON.parse(sessionStorage.getItem("UserInfo")).SchoolID:"",s=L.value?JSON.parse(L.value):{},c=sessionStorage.getItem("classList")?JSON.parse(sessionStorage.getItem("classList")):[],o="";c.forEach((function(e){e.classId==K&&(o=e.gradeId)})),"stuStatusMsg"==I&&(n=Oc+"/api/status/class?classId="+a),"stuConditionMsg"==I&&(n=Oc+"/api/learning2/PkContent?type=2&classId="+a+"&termId="+s.termId+"&start="+(s.startDate?s.startDate.substr(0,10):"")+"&end="+(s.endDate?s.endDate.substr(0,10):"")),"attendanceMsg"==I&&(n=Oc+"/api/attendance/attendance/times?type=2&studentId=&classId="+a+"&gradeId="+o+"&schoolId="+r+"&statisticalType=3&start="+(s.startDate?s.startDate.substr(0,10):"")+"&end="+(s.endDate?s.endDate.substr(0,10):"")),"awardAndPunish"==I&&(n=Oc+"/api/punishAndReward/pk/class?schoolId="+r+"&classId="+a),"healthMsg"==I&&(n=Oc+"/api/healthy/pk/class?schoolId="+r+"&classId="+a),"schoolLiveMsg"==I&&(n=Oc+"/api/campusLife/pk/class?schoolId="+r+"&classId="+a),Qt.get({url:n,securityLevel:2}).then((function(e){return e.json()})).then((function(t){200==t.status&&t.data&&("myClass"==e&&Ie(t.data),"compareClass"==e&&Ne(t.data))}))}};return Object(n.useLayoutEffect)((function(){switch(I){case"stuConditionMsg":F([{name:"\u8bfe\u5802\u8868\u73b0\u6570\u636e\u5bfc\u5165",value:"courseShow"},{name:"\u5e73\u65f6\u4f5c\u4e1a\u6570\u636e\u5bfc\u5165",value:"commonWork"},{name:"\u5e73\u65f6\u8003\u8bd5\u6570\u636e\u5bfc\u5165",value:"commonTest"}]);break;case"attendanceMsg":F([{name:"\u8bfe\u5802\u8003\u52e4\u5f55\u5165\u6a21\u677f",value:"ATTENDANCE_LOGS"},{name:"\u5bbf\u820d\u8003\u52e4\u5f55\u5165\u6a21\u677f",value:"ATTENDANCE_DORMITORY_LOGS"},{name:"\u5b66\u6821\u8003\u52e4\u5f55\u5165\u6a21\u677f",value:"ATTENDANCE_GATE_LOGS"}]);break;case"healthMsg":F([{name:"\u4f53\u6e29\u4fe1\u606f\u5f55\u5165\u6a21\u677f",value:"TEMPERATURE"},{name:"\u5b66\u751f\u8bf7\u5047\u8bb0\u5f55\u5f55\u5165\u6a21\u677f",value:"LEAVE_RECORD_LOGS"},{name:"\u5fc3\u7406\u5065\u5eb7\u5bfc\u5165\u6a21\u677f",value:"MENTAL_HEALTHY_LOGS"},{name:"\u8eab\u4f53\u5065\u5eb7\u6863\u6848\u5f55\u5165\u6a21\u677f",value:"PHYSICS_HEALTHY_LOGS"}]);break;case"awardAndPunish":F([{name:"\u5956\u52b1\u4fe1\u606f\u5bfc\u5165\u6a21\u677f",value:"REWARDS_LOGS"},{name:"\u60e9\u6212\u4fe1\u606f\u5bfc\u5165\u6a21\u677f",value:"PUNISHMENT_LOGS"}]);break;case"schoolLiveMsg":F([{name:"\u5b66\u751f\u4e0a\u7f51\u8bb0\u5f55\u5bfc\u5165\u6a21\u677f",value:"NETWORK_LOGS"},{name:"\u5b66\u751f\u6d88\u8d39\u8bb0\u5f55\u5bfc\u5165\u6a21\u677f",value:"CONSUMPTION_LOGS"}])}}),[I]),Object(n.useImperativeHandle)(t,(function(){return{TermSelect:L,boxRef:Ke,TypeSelect:M,currentClass:K,currentGrade:Y}}),[L,M,K,Y]),Object(n.useLayoutEffect)((function(){"function"===typeof d&&d(_()(Ke.current).height())}),[]),r.a.createElement("div",{ref:Ke,className:"Analysis-Top ".concat(l||"")},et?r.a.createElement("div",{className:"top-msg"},r.a.createElement("p",{className:"s-msg"},r.a.createElement("i",{style:{backgroundImage:at||"#fff"}}),tt||"\u6d4b\u8bd5")):"",r.a.createElement("div",{className:"top-default"},"teacher"==h?r.a.createElement("div",{className:"select-container",style:{marginLeft:0}},r.a.createElement("span",null,"\u5f53\u524d\u73ed\u7ea7:"),r.a.createElement(ne.a,{value:ae,className:"select class-select",onChange:function(e){sessionStorage.setItem("currentClass",e),q(e)}},Array.isArray(E)&&E.map((function(e,t){return r.a.createElement(xc,{key:t,value:e.classId},e.className)})))):"",r.a.createElement(Ae,{width:200,height:240,dropList:N,title:"\u6240\u7edf\u8ba1\u5b66\u671f",value:L.value,className:"term-dropdown ".concat(et?"dropdown-school":""),onChange:function(e){},onSelect:function(e,t){A(t)}}),"manager"==h?r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement("div",{className:"select-container"},r.a.createElement("span",null,"\u5e74\u7ea7:"),r.a.createElement(ne.a,{value:Y,className:"select grade-select",onChange:function(e){return Z(e)}},r.a.createElement(xc,{value:""},"\u5168\u90e8"),Array.isArray(b)&&b.map((function(e,t){return r.a.createElement(xc,{key:t,value:e.gradeId},e.gradeName)})))),r.a.createElement("div",{className:"select-container"},r.a.createElement("span",null,"\u73ed\u7ea7:"),r.a.createElement(ne.a,{value:K,className:"select class-select",onChange:function(e){sessionStorage.setItem("currentClass",e),q(e)}},r.a.createElement(xc,{value:""},"\u5168\u90e8"),Array.isArray(g)&&g.map((function(e,t){if(e.gradeId==Y||!Y)return r.a.createElement(xc,{key:t,value:e.classId},e.className)}))))):"","teacher"==h?r.a.createElement("div",{className:"top-right"},"stuStatusMsg"==I||"stuConditionMsg"==I?"":B.length>0?r.a.createElement(Pn.a,{placement:"bottom",trigger:"click",id:"template-list-container",content:r.a.createElement("ul",{className:"template-list"},B.map((function(e){return r.a.createElement("li",{onClick:function(){return nt(e.value)}},e.name)})))},r.a.createElement("div",{className:"top-download"},"\u4e0b\u8f7d\u6a21\u677f")):r.a.createElement("div",{className:"top-download",onClick:nt},"\u4e0b\u8f7d\u6a21\u677f"),"stuStatusMsg"==I?r.a.createElement("div",{className:"top-import",onClick:st},r.a.createElement("i",{className:"importlogo"}),"\u5bfc\u5165"):B.length>0?"stuConditionMsg"==I?r.a.createElement("div",{className:"top-import",onClick:function(e,t){g.forEach((function(e){e.classId==K&&e.className}));var a=sessionStorage.getItem("token")||Je("lg_tk"),n=Oc+"/api/base/getServerInfo?sysIds=810";Qt.get({url:n,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&e.data){var t=e.data.webSvrAddr+"cjzp/TeacherImport?lg_tk="+a;window.open(t)}}))}},r.a.createElement("i",{className:"importlogo"}),"\u5bfc\u5165"):r.a.createElement(Pn.a,{placement:"bottom",trigger:"click",className:"template-list-container",content:r.a.createElement("ul",{className:"template-list"},B.map((function(e,t){return r.a.createElement(Pa.a,{customRequest:function(t){return st(t,e.value)},showUploadList:!1,onChange:function(e){e.file,e.fileList}},r.a.createElement("li",{key:t},e.name.replace("\u6a21\u677f","")))})))},r.a.createElement("div",{className:"top-import"},r.a.createElement("i",{className:"importlogo"}),"\u5bfc\u5165")):r.a.createElement(Pa.a,{customRequest:st,showUploadList:!1},r.a.createElement("div",{className:"top-import"},r.a.createElement("i",{className:"importlogo"}),"\u5bfc\u5165")),r.a.createElement("div",{className:"top-output",onClick:rt},r.a.createElement("i",{className:"outputlogo"}),"\u5bfc\u51fa"),r.a.createElement("div",{className:"class-PK",onClick:ct},r.a.createElement("i",{className:"pklogo"}),"\u73ed\u7ea7PK")):"manager"==h?r.a.createElement("div",{className:"top-right"},r.a.createElement("div",{className:"top-import-tea",onClick:rt},r.a.createElement("i",{className:"importlogo"}),"\u5bfc\u51fa"),r.a.createElement("div",{className:"class-PK",onClick:ct},r.a.createElement("i",{className:"pklogo"}),"\u73ed\u7ea7PK")):r.a.createElement("div",{className:"top-right"},r.a.createElement("div",{className:"top-import-tea",onClick:rt},r.a.createElement("i",{className:"importlogo"}),"\u5bfc\u51fa"))),r.a.createElement(me.a,{title:"",wrapClassName:"classPK-modal",visible:oe,width:720,closable:!1,bodyStyle:{height:636},footer:null},r.a.createElement("div",{className:"classPK-top"},r.a.createElement("div",{className:"my-class"},r.a.createElement("div",{className:"class-info"},r.a.createElement("i",{className:"class-image"}),r.a.createElement("span",{className:"class-name"},de.className?de.className:"\u6682\u672a\u9009\u62e9"),"manager"==h?r.a.createElement("span",{className:"change-class-btn",onClick:function(){return Me(!0)}},"\u5207\u6362"):""),r.a.createElement("div",{className:"num-show"},Ue)),r.a.createElement("div",{className:"vslogo"}),r.a.createElement("div",{className:"compare-class"},r.a.createElement("div",{className:"class-info"},r.a.createElement("span",{className:"class-name"},be.className?be.className:"\u6682\u672a\u9009\u62e9"),r.a.createElement("i",{className:"class-image"})),r.a.createElement("div",{className:"num-show"},_e))),r.a.createElement("div",{className:"classPK-bottom"},"stuStatusMsg"==I?r.a.createElement("div",null,r.a.createElement("div",{className:"compare-one"},r.a.createElement("p",null,"\u63a5\u53d7\u8fc7\u5b66\u524d\u6559\u80b2\u4eba\u6570"),r.a.createElement("div",null,r.a.createElement("span",{className:"my-grade"},"number"==typeof Ee.acceptPreSchoolNum?Ee.acceptPreSchoolNum+"\u4eba":"--"),r.a.createElement(Wn.a,{className:"my-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof Ee.acceptPreSchoolNum?parseInt(Ee.acceptPreSchoolNum/Ee.classSize*100):0,strokeWidth:12,strokeColor:{from:"#ff6a66",to:"#ff9b63"}}),r.a.createElement(Wn.a,{className:"compare-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof xe.acceptPreSchoolNum?parseInt(xe.acceptPreSchoolNum/xe.classSize*100):0,strokeWidth:12,strokeColor:{from:"#376dff",to:"#2ea0ff"}}),r.a.createElement("span",{className:"compare-grade"},"number"==typeof xe.acceptPreSchoolNum?xe.acceptPreSchoolNum+"\u4eba":"--"))),r.a.createElement("div",{className:"compare-one"},r.a.createElement("p",null,"\u5bc4\u5bbf\u751f\u4eba\u6570"),r.a.createElement("div",null,r.a.createElement("span",{className:"my-grade"},"number"==typeof Ee.boardNum?Ee.boardNum+"\u4eba":"--"),r.a.createElement(Wn.a,{className:"my-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof Ee.boardNum?parseInt(Ee.boardNum/Ee.classSize*100):0,strokeWidth:12,strokeColor:{from:"#ff6a66",to:"#ff9b63"}}),r.a.createElement(Wn.a,{className:"compare-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof xe.boardNum?parseInt(xe.boardNum/xe.classSize*100):0,strokeWidth:12,strokeColor:{from:"#376dff",to:"#2ea0ff"}}),r.a.createElement("span",{className:"compare-grade"},"number"==typeof xe.boardNum?xe.boardNum+"\u4eba":"--"))),r.a.createElement("div",{className:"compare-one"},r.a.createElement("p",null,"\u72ec\u751f\u5b50\u5973\u4eba\u6570"),r.a.createElement("div",null,r.a.createElement("span",{className:"my-grade"},"number"==typeof Ee.onlyChildNum?Ee.onlyChildNum+"\u4eba":"--"),r.a.createElement(Wn.a,{className:"my-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof Ee.onlyChildNum?parseInt(Ee.onlyChildNum/Ee.classSize*100):0,strokeWidth:12,strokeColor:{from:"#ff6a66",to:"#ff9b63"}}),r.a.createElement(Wn.a,{className:"compare-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof xe.onlyChildNum?parseInt(xe.onlyChildNum/xe.classSize*100):0,strokeWidth:12,strokeColor:{from:"#376dff",to:"#2ea0ff"}}),r.a.createElement("span",{className:"compare-grade"},"number"==typeof xe.onlyChildNum?xe.onlyChildNum+"\u4eba":"--"))),r.a.createElement("div",{className:"compare-one"},r.a.createElement("p",null,"\u8d2b\u56f0\u751f\u4eba\u6570"),r.a.createElement("div",null,r.a.createElement("span",{className:"my-grade"},"number"==typeof Ee.poorNum?Ee.poorNum+"\u4eba":"--"),r.a.createElement(Wn.a,{className:"my-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof Ee.poorNum?parseInt(Ee.poorNum/Ee.classSize*100):0,strokeWidth:12,strokeColor:{from:"#ff6a66",to:"#ff9b63"}}),r.a.createElement(Wn.a,{className:"compare-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof xe.poorNum?parseInt(xe.poorNum/xe.classSize*100):0,strokeWidth:12,strokeColor:{from:"#376dff",to:"#2ea0ff"}}),r.a.createElement("span",{className:"compare-grade"},"number"==typeof xe.poorNum?xe.poorNum+"\u4eba":"--"))),r.a.createElement("div",{className:"compare-one"},r.a.createElement("p",null,"\u7559\u5b88\u513f\u7ae5\u4eba\u6570"),r.a.createElement("div",null,r.a.createElement("span",{className:"my-grade"},"number"==typeof Ee.leftChildNum?Ee.leftChildNum+"\u4eba":"--"),r.a.createElement(Wn.a,{className:"my-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof Ee.leftChildNum?parseInt(Ee.leftChildNum/Ee.classSize*100):0,strokeWidth:12,strokeColor:{from:"#ff6a66",to:"#ff9b63"}}),r.a.createElement(Wn.a,{className:"compare-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof xe.leftChildNum?parseInt(xe.leftChildNum/xe.classSize*100):0,strokeWidth:12,strokeColor:{from:"#376dff",to:"#2ea0ff"}}),r.a.createElement("span",{className:"compare-grade"},"number"==typeof xe.leftChildNum?xe.leftChildNum+"\u4eba":"--")))):"stuConditionMsg"==I?r.a.createElement("div",null,r.a.createElement("div",{className:"compare-one"},r.a.createElement("p",null,"\u8bfe\u5802\u8868\u73b0\u5206"),r.a.createElement("div",null,r.a.createElement("span",{className:"my-grade"},"number"==typeof Ee.score?Ee.score+"\u5206":"--"),r.a.createElement(Wn.a,{className:"my-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof Ee.score?Ee.score:0,strokeWidth:12,strokeColor:{from:"#ff6a66",to:"#ff9b63"}}),r.a.createElement(Wn.a,{className:"compare-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof xe.score?xe.score:0,strokeWidth:12,strokeColor:{from:"#376dff",to:"#2ea0ff"}}),r.a.createElement("span",{className:"compare-grade"},"number"==typeof xe.score?xe.score+"\u5206":"--"))),r.a.createElement("div",{className:"compare-one"},r.a.createElement("p",null,"\u4f5c\u4e1a\u5b8c\u6210\u7387"),r.a.createElement("div",null,r.a.createElement("span",{className:"my-grade"},Ee.finishRate?(100*Number(Ee.finishRate)).toFixed(1)+"%":"--"),r.a.createElement(Wn.a,{className:"my-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:Ee.finishRate?(100*Number(Ee.finishRate)).toFixed(1):0,strokeWidth:12,strokeColor:{from:"#ff6a66",to:"#ff9b63"}}),r.a.createElement(Wn.a,{className:"compare-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:xe.finishRate?(100*Number(xe.finishRate)).toFixed(1):0,strokeWidth:12,strokeColor:{from:"#376dff",to:"#2ea0ff"}}),r.a.createElement("span",{className:"compare-grade"},xe.finishRate?(100*Number(xe.finishRate)).toFixed(1)+"%":"--"))),r.a.createElement("div",{className:"compare-one"},r.a.createElement("p",null,"\u81ea\u5b66\u65f6\u957f"),r.a.createElement("div",null,r.a.createElement("span",{className:"my-grade"},"number"==typeof Ee.total?Ee.total+"h":"--"),r.a.createElement(Wn.a,{className:"my-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:Ee.total?Ee.tota:0,strokeWidth:12,strokeColor:{from:"#ff6a66",to:"#ff9b63"}}),r.a.createElement(Wn.a,{className:"compare-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:xe.total?xe.total:0,strokeWidth:12,strokeColor:{from:"#376dff",to:"#2ea0ff"}}),r.a.createElement("span",{className:"compare-grade"},"number"==typeof xe.total?xe.total+"h":"--"))),r.a.createElement("div",{className:"compare-one"},r.a.createElement("p",null,"\u8003\u8bd5\u5e73\u5747\u5206(\u6700\u8fd1)"),r.a.createElement("div",null,r.a.createElement("span",{className:"my-grade",title:"number"==typeof Ee.examScore?Ee.examScore.toFixed(1)+"\u5206":"--"},"number"==typeof Ee.examScore?Ee.examScore.toFixed(1)+"\u5206":"--"),r.a.createElement(Wn.a,{className:"my-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:Ee.examScore?Ee.examScore:0,strokeWidth:12,strokeColor:{from:"#ff6a66",to:"#ff9b63"}}),r.a.createElement(Wn.a,{className:"compare-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:xe.examScore?xe.examScore:0,strokeWidth:12,strokeColor:{from:"#376dff",to:"#2ea0ff"}}),r.a.createElement("span",{className:"compare-grade"},"number"==typeof xe.examScore?xe.examScore.toFixed(1)+"\u5206":"--"))),r.a.createElement("div",{className:"compare-one"},r.a.createElement("p",null,"\u603b\u8bc4\u5e73\u5747\u5206(\u6700\u8fd1)"),r.a.createElement("div",null,r.a.createElement("span",{className:"my-grade"},"number"==typeof Ee.avgScore?Ee.avgScore+"\u5206":"--"),r.a.createElement(Wn.a,{className:"my-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof Ee.avgScore?Ee.avgScore:0,strokeWidth:12,strokeColor:{from:"#ff6a66",to:"#ff9b63"}}),r.a.createElement(Wn.a,{className:"compare-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof xe.avgScore?xe.avgScore:0,strokeWidth:12,strokeColor:{from:"#376dff",to:"#2ea0ff"}}),r.a.createElement("span",{className:"compare-grade"},"number"==typeof xe.avgScore?xe.avgScore+"\u5206":"--")))):"attendanceMsg"==I?r.a.createElement("div",null,r.a.createElement("div",{className:"compare-one"},r.a.createElement("p",null,"\u51fa\u52e4\u7387"),r.a.createElement("div",null,r.a.createElement("span",{className:"my-grade",title:Ee.avgAttendanceRateResult?parseInt(Ee.avgAttendanceRateResult):"--"},Ee.avgAttendanceRateResult?parseInt(Ee.avgAttendanceRateResult):"--"),r.a.createElement(Wn.a,{className:"my-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof Ee.avgAttendanceRate?parseInt(Ee.avgAttendanceRateResult):0,strokeWidth:12,strokeColor:{from:"#ff6a66",to:"#ff9b63"}}),r.a.createElement(Wn.a,{className:"compare-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof xe.avgAttendanceRate?parseInt(xe.avgAttendanceRateResult):0,strokeWidth:12,strokeColor:{from:"#376dff",to:"#2ea0ff"}}),r.a.createElement("span",{className:"compare-grade",title:xe.avgAttendanceRateResult?parseInt(xe.avgAttendanceRateResult):"--"},xe.avgAttendanceRateResult?parseInt(xe.avgAttendanceRateResult):"--"))),r.a.createElement("div",{className:"compare-one"},r.a.createElement("p",null,"\u8fdf\u5230\u6b21\u6570"),r.a.createElement("div",null,r.a.createElement("span",{className:"my-grade",title:"number"==typeof Ee.lateTimes?Ee.lateTimes+"\u6b21":"--"},"number"==typeof Ee.lateTimes?Ee.lateTimes+"\u6b21":"--"),r.a.createElement(Wn.a,{className:"my-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof Ee.lateTimes?Ee.lateTimes:0,strokeWidth:12,strokeColor:{from:"#ff6a66",to:"#ff9b63"}}),r.a.createElement(Wn.a,{className:"compare-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof xe.lateTimes?xe.lateTimes:0,strokeWidth:12,strokeColor:{from:"#376dff",to:"#2ea0ff"}}),r.a.createElement("span",{className:"compare-grade",title:"number"==typeof xe.lateTimes?xe.lateTimes+"\u6b21":"--"},"number"==typeof xe.lateTimes?xe.lateTimes+"\u6b21":"--"))),r.a.createElement("div",{className:"compare-one"},r.a.createElement("p",null,"\u65e9\u9000\u6b21\u6570"),r.a.createElement("div",null,r.a.createElement("span",{className:"my-grade",title:"number"==typeof Ee.leaveEarlyTimes?Ee.leaveEarlyTimes+"\u6b21":"--"},"number"==typeof Ee.leaveEarlyTimes?Ee.leaveEarlyTimes+"\u6b21":"--"),r.a.createElement(Wn.a,{className:"my-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof Ee.leaveEarlyTimes?Ee.leaveEarlyTimes:0,strokeWidth:12,strokeColor:{from:"#ff6a66",to:"#ff9b63"}}),r.a.createElement(Wn.a,{className:"compare-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof xe.leaveEarlyTimes?xe.leaveEarlyTimes:0,strokeWidth:12,strokeColor:{from:"#376dff",to:"#2ea0ff"}}),r.a.createElement("span",{className:"compare-grade",title:"number"==typeof xe.leaveEarlyTimes?xe.leaveEarlyTimes+"\u6b21":"--"},"number"==typeof xe.leaveEarlyTimes?xe.leaveEarlyTimes+"\u6b21":"--"))),r.a.createElement("div",{className:"compare-one"},r.a.createElement("p",null,"\u8bf7\u5047\u6b21\u6570"),r.a.createElement("div",null,r.a.createElement("span",{className:"my-grade",title:"number"==typeof Ee.vacateTimes?Ee.vacateTimes+"\u6b21":"--"},"number"==typeof Ee.vacateTimes?Ee.vacateTimes+"\u6b21":"--"),r.a.createElement(Wn.a,{className:"my-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof Ee.vacateTimes?Ee.vacateTimes:0,strokeWidth:12,strokeColor:{from:"#ff6a66",to:"#ff9b63"}}),r.a.createElement(Wn.a,{className:"compare-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof xe.vacateTimes?xe.vacateTimes:0,strokeWidth:12,strokeColor:{from:"#376dff",to:"#2ea0ff"}}),r.a.createElement("span",{className:"compare-grade",title:"number"==typeof xe.vacateTimes?xe.vacateTimes+"\u6b21":"--"},"number"==typeof xe.vacateTimes?xe.vacateTimes+"\u6b21":"--")))):"awardAndPunish"==I||"healthMsg"==I||"schoolLiveMsg"==I?r.a.createElement($.a,{autoHeight:!0,autoHeightMax:320},Array.isArray(Ee.pkProjects)&&Ee.pkProjects.map((function(e,t){var a={};return Array.isArray(xe.pkProjects)&&xe.pkProjects.forEach((function(t){t.projectName==e.projectName&&(a=t)})),r.a.createElement("div",{className:"compare-one",key:t},r.a.createElement("p",null,e.projectName?e.projectName:"--"),r.a.createElement("div",null,r.a.createElement("span",{className:"my-grade",title:"number"==typeof e.score?parseInt(e.score)+e.unit:"--"},"number"==typeof e.score?parseInt(e.score)+e.unit:"--"),r.a.createElement(Wn.a,{className:"my-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof e.score?parseInt(e.score):0,strokeWidth:12,strokeColor:{from:"#ff6a66",to:"#ff9b63"}}),r.a.createElement(Wn.a,{className:"compare-class-progress",showInfo:!1,trailColor:"#e6e6e6",status:"active",percent:"number"==typeof a.score?parseInt(a.score):0,strokeWidth:12,strokeColor:{from:"#376dff",to:"#2ea0ff"}}),r.a.createElement("span",{className:"compare-grade",title:"number"==typeof a.score?parseInt(a.score)+a.unit:"--"},"number"==typeof a.score?parseInt(a.score)+a.unit:"--")))}))):""),r.a.createElement("div",{className:"classPK-footer"},r.a.createElement("div",{className:"cancel-btn",onClick:function(){return le(!1)}},"\u5173\u95ed"),r.a.createElement("div",{className:"change-btn",onClick:function(){return ke(!0)}},"\u5207\u6362\u5bf9\u624b"))),r.a.createElement(De,{title:"\u5207\u6362\u5bf9\u624b",className:"change-compareClass-modal",visible:Te,width:880,onCancel:function(){return ke(!1)},bodyStyle:{height:472,padding:"15px 0 24px 24px"},footer:null},r.a.createElement($.a,{autoHeight:!0,autoHeightMax:445},Qe.map((function(e,t){return r.a.createElement("div",{className:"grade-group",key:t},r.a.createElement("p",{className:"grade-name"},e.gradeName,r.a.createElement("span",null,"(\u5171",r.a.createElement("span",{style:{color:"#ff0000"}},e.classList.length),"\u4e2a\u73ed)")),r.a.createElement("ul",{className:"grade-class-list"},e.classList.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){Ee.classInfo&&e.classId==Ee.classInfo.classId||xe.classInfo&&e.classId==xe.classInfo.classId||(console.log(Ee),ge(e),ot("compareClass",e),ke(!1))},style:{cursor:Ee.classInfo&&e.classId==Ee.classInfo.classId||xe.classInfo&&e.classId==xe.classInfo.classId?"not-allowed":""}},r.a.createElement("i",{className:"classlogo"}),r.a.createElement("p",{title:e.className},e.className))}))))})))),r.a.createElement(De,{title:"\u9009\u62e9\u73ed\u7ea7",className:"change-compareClass-modal",visible:Re,width:880,onCancel:function(){return Me(!1)},bodyStyle:{height:472,padding:"15px 0 24px 24px"},footer:null},r.a.createElement($.a,{autoHeight:!0,autoHeightMax:445},Qe.map((function(e,t){return r.a.createElement("div",{className:"grade-group",key:t},r.a.createElement("p",{className:"grade-name"},e.gradeName,r.a.createElement("span",null,"(\u5171",r.a.createElement("span",{style:{color:"#ff0000"}},e.classList.length),"\u4e2a\u73ed)")),r.a.createElement("ul",{className:"grade-class-list"},e.classList.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){fe(e),ot("myClass",e),Me(!1)}},r.a.createElement("i",{className:"classlogo"}),r.a.createElement("p",{title:e.className},e.className))}))))})))))}var jc=function(e){return{userInfo:e.commonData.userInfo}};Object(d.connect)(jc);var wc=Object(n.memo)(Object(n.forwardRef)(Nc));a(1650);function Dc(e,t){var a=this,s=e.className,c=e.list,o=e.scrollref,l=(e.bottomheight,Object(Y.a)(e,["className","list","scrollref","bottomheight"])),i=Object(n.useState)(!1),d=Object(u.a)(i,2),f=d[0],p=d[1],h=Object(n.useState)([]),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useState)(0),E=Object(u.a)(v,2),I=E[0],S=E[1],O=Object(n.useRef)(!1);Object(n.useEffect)((function(){try{if(c instanceof Array&&c.length>0&&o&&o.current){var e=o.current,t=(e.scrollTop,e.handleScroll,e.getClientHeight),a=e.getScrollHeight;t()<a()&&p(!0);var n=0,r=0,s=[];console.log("\u4f20\u5165\u7684ref\u6570\u7ec4",c),console.log(o.current),c.forEach((function(e,t){if(e.ref){var a=_()(e.ref);n+=r,r=e.ref.clientHeight,console.log(r,e.name,e.ref.clientHeight),s.push(Object(m.a)(Object(m.a)({},e),{},{$ref:a,offsetTop:n,height:e.ref.clientHeight}))}})),y(s)}}catch(l){console.error(l),p(!1)}}),[c,o]);var x=Object(n.useCallback)((function(){if(f){var e=o.current,t=(e.scrollTop,e.handleScroll,e.getClientHeight),a=e.getScrollTop,n=e.getScrollHeight,r=a(),s=t(),c=(n(),{isInit:!0});g.forEach((function(e,t){var a=e.offsetTop,n=e.height,o=a+n,l=!1,i=0,u=s+r;if(!(r>=o||u<a)){r>a&&o<=u?i=o-r:r<=a&&o>u?i=u-a:(l=!0,i=n);var d={isInit:!1,visualHeight:i,fullBar:l,index:t};(c.isInit||!c.fullBar&&d.fullBar||!c.fullBar&&!d.fullBar&&c.visualHeight<d.visualHeight)&&(c=d)}})),O.current||S(c.index),O.current=!1}}),[g,f]);Object(n.useImperativeHandle)(t,(function(){return{onScroll:x}}));var N=Object(n.useCallback)((function(e,t){O.current=!0,console.log(e,t),o.current.scrollTop(e.offsetTop),S(t)}),[]);return f?r.a.createElement("div",Object.assign({className:"lg-anchor ".concat(s||"")},l),r.a.createElement("span",{style:{top:54*I+8+"px"},className:"anchor-link-active"}),g.map((function(e,t){return r.a.createElement("div",{className:"anchor-link ".concat(I===t?"anchor-link-2":""),key:t,title:e.name,onClick:N.bind(a,e,t)},e.name)}))):r.a.createElement(r.a.Fragment,null)}var Tc=Object(n.memo)(Object(n.forwardRef)(Dc)),kc=Tt.BasicProxy;function Cc(e,t){var a=e.tabid,s=(e.tabname,e.children,e.param,e.termInfo),c=s.TermInfo,o=(s.HasHistory,e.roleMsg),l=(e.location,e.type),i=e.roleData,d=e.schoolMsg,m=e.levelHash,f=e.roleMsg.identityCode,p=e.basePlatFormMsg.ProVersion,h=e.contentHW.height,b=e.userInfo,g=(b.UserType,b.SchoolID),y=b.UserID,v=e.isReflash;console.log("\u6863\u6848",e);var E=Object(n.useState)(!1),I=Object(u.a)(E,2),S=I[0],O=I[1],x=Object(n.useState)("default"),N=Object(u.a)(x,2),j=N[0],w=N[1],D=Object(n.useState)([]),T=Object(u.a)(D,2),k=(T[0],T[1],Object(n.useState)(66)),C=Object(u.a)(k,2),L=C[0],A=(C[1],Object(n.useState)("")),J=Object(u.a)(A,2),R=(J[0],J[1]),M=Object(n.useState)(""),P=Object(u.a)(M,2),W=(P[0],P[1]),H=Object(n.useState)(""),z=Object(u.a)(H,2),U=(z[0],z[1],Object(n.useState)(54)),B=Object(u.a)(U,2),F=B[0],G=B[1],_=Object(n.useState)([]),V=Object(u.a)(_,2),Y=V[0],Z=V[1],Q=Object(n.useState)(),X=Object(u.a)(Q,2),K=X[0],$=X[1],ee=Object(n.useState)("detail"),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)([]),se=Object(u.a)(re,2),ce=se[0],oe=se[1],le=Object(n.useState)([]),ie=Object(u.a)(le,2),ue=ie[0],de=ie[1],me=Object(n.useState)([]),fe=Object(u.a)(me,2),pe=fe[0],he=fe[1],be=Object(n.useState)([]),ge=Object(u.a)(be,2),ye=ge[0],ve=ge[1],Ee=Object(n.useState)(""),Ie=Object(u.a)(Ee,2),Se=Ie[0],Oe=Ie[1],xe=Object(n.useState)(""),Ne=Object(u.a)(xe,2),je=Ne[0],we=Ne[1],De=Object(n.useState)(!1),Te=Object(u.a)(De,2),ke=Te[0],Ce=Te[1],Le="manager";"IC0010"==f&&(Le="manager"),"IC0013"!=f&&"IC0011"!=f&&"IC0012"!=f||(Le="teacher"),"IC0014"!=f&&"IC0015"!=f||(Le="student"),Object(n.useLayoutEffect)((function(){var e=kc+"/api/base/GetGradeInfoList_Univ?schoolId="+g;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&oe(e.data)})),e=kc+"/api/base/getClassInfoList?schoolId="+g,Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&de(e.data)}))}),[Le]),Object(n.useLayoutEffect)((function(){if("teacher"==Le){var e=kc+"/api/base/getClassByMasterId?teacherId="+y;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&(he(e.data),sessionStorage.setItem("classList",JSON.stringify(e.data)),e.data[0]&&Oe(e.data[0].gradeId),!je&&e.data[0]&&we(e.data[0].classId))}))}}),[Le,y,je]),Object(n.useEffect)((function(){S&&O(!1)}),[S]),Object(n.useEffect)((function(){v&&O(!S)}),[v]);var Ae=Object(n.useMemo)((function(){var e=o;return"school"===l&&(e=i,w("school")),e}),[l]),Je=Ae.schoolID,Re=Ae.collegeID,Me=Ae.selectLevel,Pe=Ae.productLevel,We=Object(n.useRef)({}),He=Object(n.useRef)(null),ze=Object(n.useRef)(null);Object(n.useEffect)((function(){a&&$(a)}),[a,ae]);var Ue=c.map((function(e){return{value:JSON.stringify({termId:e.termInfo,schoolId:e.schoolId,startDate:e.startDate,endDate:e.endDate,termName:e.termName}),title:e.termName}}));return console.log("\u9876\u90e8\u4fe1\u606f",We.current),console.log(je),r.a.createElement("div",{className:"Analysis"},"detail"==ae?r.a.createElement("div",null,r.a.createElement(wc,{getHeight:function(e){G(e)},setShowType:ne,className:"AnalysisTop",onTermChange:function(e){R(e)},onTypeChange:function(e){W(e),$(e.value)},onGradeChange:function(e){Oe(e)},onClassChange:function(e){we(e)},termlist:c.map((function(e){return{value:JSON.stringify({termId:e.termInfo,schoolId:e.schoolId,startDate:e.startDate,endDate:e.endDate,termName:e.termName}),title:e.termName}})),ref:We,type:j,setReFlash:O,schoolMsg:d,gradeList:ce,classList:ue,ModuleID:K,teacherClassList:pe,userIdentity:Le}),r.a.createElement("div",{className:"analysis-content",style:{height:h-F+"px"}},r.a.createElement(q.Scrollbars,{className:"analysis-scroll",ref:ze,onUpdate:function(e){He.current&&He.current.onScroll()}},r.a.createElement("div",{className:"content-box",style:{minHeight:h-F-L+"px"}},"stuStatusMsg"===K?r.a.createElement(Sn,{onAnchorComplete:function(e){Z(e)},currentGrade:We.current?We.current.currentGrade:Se,currentClass:We.current?We.current.currentClass:je,schoolID:Je,collegeID:Re,productLevel:Pe,selectLevel:Me,productMsg:m[Pe],setShowType:ne,setCheckList:ve,reflashError:ke,term:We.current?We.current.TermSelect:Ue[0],userIdentity:Le,reflash:S}):"","stuConditionMsg"===K?r.a.createElement(cr,{onAnchorComplete:function(e){Z(e)},schoolID:Je,collegeID:Re,productLevel:Pe,selectLevel:Me,productMsg:m[Pe],term:We.current?We.current.TermSelect:Ue[0],userIdentity:Le,currentGrade:We.current?We.current.currentGrade:Se,currentClass:We.current?We.current.currentClass:je,reflash:S}):"","attendanceMsg"===K?r.a.createElement(_r,{onAnchorComplete:function(e){Z(e)},schoolID:Je,collegeID:Re,productLevel:Pe,selectLevel:Me,productMsg:m[Pe],term:We.current?We.current.TermSelect:Ue[0],userIdentity:Le,currentGrade:We.current?We.current.currentGrade:Se,currentClass:We.current?We.current.currentClass:je,reflash:S}):"","healthMsg"===K?r.a.createElement(js,{onAnchorComplete:function(e){Z(e)},schoolID:Je,collegeID:Re,productLevel:Pe,selectLevel:Me,productMsg:m[Pe],term:We.current?We.current.TermSelect:Ue[0],userIdentity:Le,currentGrade:We.current?We.current.currentGrade:Se,currentClass:We.current?We.current.currentClass:je,reflash:S}):"","awardAndPunish"===K?r.a.createElement(Gs,{onAnchorComplete:function(e){Z(e)},currentGrade:We.current?We.current.currentGrade:Se,currentClass:We.current?We.current.currentClass:je,schoolID:Je,collegeID:Re,productLevel:Pe,selectLevel:Me,productMsg:m[Pe],term:We.current?We.current.TermSelect:Ue[0],userIdentity:Le,reflash:S}):"","schoolLiveMsg"===K?r.a.createElement(dc,{onAnchorComplete:function(e){Z(e)},schoolID:Je,collegeID:Re,productLevel:Pe,selectLevel:Me,productMsg:m[Pe],term:We.current?We.current.TermSelect:Ue[0],userIdentity:Le,currentGrade:We.current?We.current.currentGrade:Se,currentClass:We.current?We.current.currentClass:je,reflash:S}):""),r.a.createElement("p",{className:"ProVersion"},p))),r.a.createElement(Tc,{ref:He,bottomheight:L,list:Y,scrollref:ze})):"import"==ae?r.a.createElement(Ua,{currentGrade:We.current?We.current.currentGrade:Se,currentClass:We.current?We.current.currentClass:je,setShowType:ne,ModuleID:K}):"error"==ae?r.a.createElement(_a,{checkList:ye,currentGrade:We.current?We.current.currentGrade:Se,currentClass:We.current?We.current.currentClass:je,setShowType:ne,reflashError:ke,setReflashError:Ce,ModuleID:K}):"")}var Lc=function(e){var t=e.commonData;return{roleMsg:t.roleMsg,basePlatFormMsg:t.basePlatFormMsg,contentHW:t.contentHW,termInfo:t.termInfo,levelHash:t.levelHash,userInfo:t.userInfo,isReflash:t.isReflash}},Ac=Object(d.connect)(Lc)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(Cc)))),Jc=(a(377),Object(n.createContext)()),Rc={keyword:"",compoent:"1"},Mc=function(e,t){switch(t.type){case"SET_KEY_WORD":return Object.assign({},e,{keyword:t.data});default:return e}},Pc=Tt.BasicProxy;function Wc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageIndex,a=e.pageSize,n=e.keyword,r=e.schoolID,s=e.collegeID,c=e.selectLevel,o=e.rStatus,l=Pc+"/Recruitment/List?SchoolID=".concat(r||"","&RStatus=").concat(0===parseInt(o)?0:1,"&PageIndex=").concat(t||1,"&PageSize=").concat(a||10,"&Keyword=").concat(n||"","&CollegeID=").concat(s||"","&SelectLevel=").concat(c||"");return Qt.get({url:l,securityLevel:2}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode?{StatusCode:e.StatusCode,data:Object(m.a)(Object(m.a)({},e.Data),{},{List:e.Data.List instanceof Array?e.Data.List.map((function(t,a){var n=10*(e.Data.PageIndex-1)+a+1;return n=n>=10?n:"0"+n,Object(m.a)(Object(m.a)({},t),{},{key:a,index:n,title:t.Title,source:t.Issue,publisher:t.CreatorName,time:t.ReleaseTime})})):[],PageSize:a})}:{StatusCode:e.StatusCode}}))}function Hc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,a=Pc+"/Recruitment/Detail?RID=".concat(t);return Qt.get({url:a,securityLevel:2,advance:!1}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode?{StatusCode:e.StatusCode,ErrCode:e.ErrCode,data:Object(m.a)(Object(m.a)({},e.Data),{},{ID:e.Data.RID})}:{StatusCode:e.StatusCode,ErrCode:e.ErrCode}}))}function zc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.SchoolID,a=e.CollegeID,n=e.SelectLevel,r=e.RStatus,s=e.Title,c=e.Issue,o=e.ReleaseTime,l=e.Content,i=e.FileList,u=Pc+"/Recruitment/Add";return Qt.post({url:u,securityLevel:2,header:{"Content-Type":"application/json"},body:{SchoolID:t,CollegeID:a,SelectLevel:n,RStatus:r,Title:s,Issue:c,ReleaseTime:o,Content:l,FileList:i}}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode?{result:!0}:{result:!1}}))}function Uc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.RStatus,a=e.Title,n=e.Issue,r=e.RID,s=e.Content,c=e.FileList,o=Pc+"/Recruitment/Edit";return Qt.post({url:o,securityLevel:2,header:{"Content-Type":"application/json"},body:{RStatus:t,Title:a,RID:r,Issue:n,Content:s,FileList:c}}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode?{result:!0}:{result:!1}}))}function Bc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.RIDs,a=Pc+"/Recruitment/Delete";return Qt.post({url:a,securityLevel:2,body:{RIDs:t}}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode?{result:!0}:{result:!1}}))}function Fc(e,t){var a=this,s=(e.teacherRecruitMsg.tabId,e.roleMsg),c=s.schoolID,o=s.collegeID,l=s.selectLevel,i=(e.activeTab,e.dispatch,Object(F.e)()),d=Object(F.f)(),m=Object(n.useContext)(Jc),f=m.state.keyword,p=m.setDispatch,h=Object(n.useState)({keyword:f,schoolID:c,collegeID:o,selectLevel:l}),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useRef)({}),E=Object(n.useState)(0),I=Object(u.a)(E,2),S=I[0],O=I[1],x=Object(n.useRef)(!1),N=1040/1200,j=[{title:"\u5e8f\u53f7",dataIndex:"index",align:"center",width:88.4,textWrap:"word-break",render:function(e){return r.a.createElement("span",{className:"table-index",title:e},e)}},{title:"\u6807\u9898",width:494*N,render:function(e){var t=e.title,a=e.RID;return r.a.createElement("span",{onClick:function(){i.push("/recruitDetail/"+a)},className:"table-title",title:t},t||"--")}},{title:"\u6765\u6e90",align:"center",width:128*N,dataIndex:"source",render:function(e){return r.a.createElement("span",{className:"table-source",title:e},e||"--")}},{title:"\u53d1\u5e03\u4eba",align:"center",width:78,dataIndex:"publisher",render:function(e){return r.a.createElement("span",{className:"table-publisher",title:e},e||"--")}},{title:"\u65f6\u95f4",align:"center",width:172*N,dataIndex:"time",render:function(e){return r.a.createElement("span",{className:"table-time",title:e},e||"--")}},{title:"\u64cd\u4f5c",align:"center",width:200*N,render:function(e){return r.a.createElement("span",{className:"table-handle"},r.a.createElement("span",{className:"table-btn btn-edit",onClick:function(){i.push("/editRecruit/"+e.RID)}},"\u7f16\u8f91"),r.a.createElement("span",{className:"table-btn btn-delete",onClick:function(){Qe({title:"\u786e\u5b9a\u5220\u9664\u8be5\u62db\u8058\u8ba1\u5212?",type:"btn-warn",cancelShow:!0,onOk:function(){D({RIDs:e.RID},v.current.reloadList.bind(a,{},!1))}})}},"\u5220\u9664"))}}],w=[{title:"\u5e8f\u53f7",dataIndex:"index",align:"center",width:88.4,textWrap:"word-break",render:function(e){return r.a.createElement("span",{className:"table-index",title:e},e)}},{title:"\u6807\u9898",width:260,render:function(e){var t=e.title;e.RID;return r.a.createElement("span",{onClick:function(){},className:"table-title",title:t},t||"--")}},{title:"\u6700\u540e\u4e00\u6b21\u7f16\u8f91\u65f6\u95f4",align:"center",width:172*N,dataIndex:"UpdateTime",render:function(e){return r.a.createElement("span",{className:"table-time",title:e},e||"--")}},{title:"\u64cd\u4f5c",align:"center",width:200*N,render:function(e){return r.a.createElement("span",{className:"table-handle"},r.a.createElement("span",{className:"table-btn btn-edit",onClick:function(){i.push("/editRecruit/"+e.RID)}},"\u7f16\u8f91"),r.a.createElement("span",{className:"table-btn btn-delete",onClick:function(){D({RIDs:e.RID},(function(){v.current.reloadList({},!1),k.current.reloadDraft()}))}},"\u5220\u9664"))}}],D=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};Bc(e).then((function(e){e.result?t():a()}))}),[]);Object(n.useLayoutEffect)((function(){var e=d.pathname;x.current?"/teacherRecruit"===e&&v.current.reloadList():x.current=!0}),[d]);var T=Object(n.useMemo)((function(){return{title:"\u8349\u7a3f\u7bb1",count:S,query:{selectLevel:l,schoolID:c,collegeID:o,rStatus:0},api:Wc,columns:w}}),[l,c,o,S]);Object(n.useImperativeHandle)(t,(function(){return{reloadList:v.current.reloadList}}));var k=Object(n.useRef)(null);return r.a.createElement("div",{className:"Reacruit-context Recruit-home"},r.a.createElement(gr,{ref:k,publish:{title:"\u53d1\u5e03\u62db\u8058\u8ba1\u5212",onClick:function(){i.push("/publishRecruit")}},draft:T,search:{onSearch:function(e){p({type:"SET_KEY_WORD",data:e}),y({schoolID:c,collegeID:o,keyword:e,selectLevel:l})}}}),r.a.createElement(Qa,{className:"Reacruit-table",columns:j,prepare:!!g.selectLevel,query:g,onDataChange:function(e){O(e&&e.Draft?e.Draft:0)},ref:v,api:Wc}))}var Gc=function(e){var t=e.handleData,a=t.teacherRecruitMsg,n=t.activeTab;return{teacherRecruitMsg:a,roleMsg:e.commonData.roleMsg,activeTab:n}},_c=Object(d.connect)(Gc,null,null,{forwardRef:!0})(Object(n.memo)(Object(n.forwardRef)(Fc))),Vc=(a(1651),a(1785)),Yc=a(329);function Zc(e,t){var a=Object(n.useState)(""),r=Object(u.a)(a,2),s=r[0],c=r[1],o=Object(n.useState)(!0),d=Object(u.a)(o,2),f=d[0],p=d[1],h=Object(n.useState)({IsLoaded:!1,IsExist:!0,IsError:!1,ID:"",Title:"",Issue:"",Status:0,Content:"",CreatorID:"",CreatorName:"",ReleaseTime:"",UpdateTime:"",FileList:[]}),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useCallback)(function(){var a=Object(i.a)(l.a.mark((function a(n){var r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(p(!0),n=n||Object(m.a)({id:s},e),t){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,t(n);case 6:200===(r=a.sent).StatusCode?y(Object(m.a)(Object(m.a)({},r.data),{},{IsExist:!0,IsLoaded:!0})):(r.ErrCode,y({IsExist:!1,IsError:!0,IsLoaded:!0})),p(!1);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[t,s,e]);return Object(n.useEffect)((function(){s&&v({id:s})}),[s]),[g,Object(n.useCallback)((function(e){c(e)}),[]),f,Object(n.useCallback)((function(){s&&v({id:s})}),[s])]}var Qc=a(487),Xc=a.n(Qc);a(1652),Tt.EditorProxy;function Kc(e,t){var a=Object(n.useState)(null),r=Object(u.a)(a,2),s=r[0],c=r[1],o=Object(n.useState)(null),d=Object(u.a)(o,2),f=d[0],p=d[1],h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"script",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};try{var r=document.createElement(t);for(var s in e)r[s]=e[s];if(e.id&&document.getElementById(e.id))return void n("isExist");document[a].appendChild(r),n(!0)}catch(c){console.error(c)}},b=Object(n.useCallback)(Object(i.a)(l.a.mark((function e(){var t,a,n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},a=r.length>1&&void 0!==r[1]?r[1]:"script",n=r.length>2&&void 0!==r[2]?r[2]:"body",e.abrupt("return",new Promise((function(e,r){h(Object(m.a)(Object(m.a)({type:"text/javascript",charset:"utf-8"},t),{},{onload:function(){e(!0),"function"===typeof t.onLoad&&t.onLoad(!0)},onerror:function(){e(!1),"function"===typeof t.onLoad&&t.onLoad(!1)}}),a,n,(function(t){"isExist"===t&&e(!0)}))})));case 4:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){function a(){return(a=Object(i.a)(l.a.mark((function a(){var n,r,s,o,i,u,d,f;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,da(["ResHttpRootUrl"]);case 3:return n=a.sent,r=n.ResHttpRootUrl,window.UEDITOR_HOME_URL=r+"/UEditor/",a.next=8,b({src:r+"/UEditor/third-party/jquery-1.10.2.min.js",id:"ueditor_script_jq",onLoad:function(){}});case 8:if(s=a.sent,a.t0=s,!a.t0){a.next=14;break}return a.next=13,b({src:r+"/UEditor/ueditor.config.js",id:"ueditor_script_config",onLoad:function(){}});case 13:a.t0=a.sent;case 14:if(o=a.t0,a.t1=o,!a.t1){a.next=20;break}return a.next=19,b({src:r+"/UEditor/ueditor.all.js",id:"ueditor_script_all_min",onLoad:function(){}});case 19:a.t1=a.sent;case 20:if(i=a.t1,a.t2=i,!a.t2){a.next=26;break}return a.next=25,b({src:r+"/UEditor/ueditor.parse.min.js",id:"ueditor_script_.parse",onLoad:function(){}});case 25:a.t2=a.sent;case 26:if(u=a.t2,a.t3=u,!a.t3){a.next=32;break}return a.next=31,b({src:r+"/UEditor/lang/zh-cn/zh-cn.js",id:"ueditor_script_lang_zh-cn",onLoad:function(){}});case 31:a.t3=a.sent;case 32:if(d=a.t3,console.log(s,o,i,u,d),d){a.next=37;break}return p(!1),a.abrupt("return");case 37:(f=window.UE.getEditor(e,Object(m.a)({toolbars:[["fontfamily","fontsize","bold","italic","underline","fontborder","justifyleft","justifycenter","justifyright","lineheight","link","|","emotion","simpleupload"]],wordCount:!1,elementPathEnabled:!1},t))).ready((function(){c(f),p(!0)})),a.next=45;break;case 41:a.prev=41,a.t4=a.catch(0),console.log(a.t4),p(!1);case 45:case"end":return a.stop()}}),a,null,[[0,41]])})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[]),[s,f]}function qc(e,t){var a=e.id,s=e.config,c=e.style,o=e.className,l=e.defaultValue,i=e.onBlur,d=Object(n.useState)((function(){return a||"UEditor_".concat((new Date).getTime())})),f=Object(u.a)(d,1)[0],p=Kc(f,s),h=Object(u.a)(p,2),b=h[0],g=h[1];Object(n.useEffect)((function(){g&&b&&b.setContent(l||"")}),[b,g]),Object(n.useEffect)((function(){return g&&b.addListener("blur",y),function(){}}),[g]),Object(n.useImperativeHandle)(t,(function(){return Object(m.a)({},b)}));var y=Object(n.useCallback)((function(){i(b.getContent())}),[b,i]);return r.a.createElement(be,{spinning:null===g,opacity:!1,tip:"\u52a0\u8f7d\u4e2d..."},!1!==g&&r.a.createElement("div",{id:f,onBlur:function(){console.log("dasdsa")},className:"LG_UEditor ".concat(o||""),style:Object(m.a)({width:"931px",height:"370px"},c)}),!1===g&&r.a.createElement(se.a.TextArea,{defaultValue:l,className:"LG_Input_default",onBlur:function(e){console.log(e),i(e.target.value)},rows:10}))}var $c=Object(n.memo)(Object(n.forwardRef)(qc));function eo(e,t){var a=e.type,s=(e.onUplaodPercert,e.onFileUplaod),c=e.initFile,o=e.onFileUpMD5,l=e.fileMD5,i=e.schoolId,d=Object(n.useState)(!1),m=Object(u.a)(d,2),f=m[0],p=m[1],h=Object(n.useState)([]),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useRef)(null),E=Object(n.useState)(!1),I=Object(u.a)(E,2),S=I[0],O=I[1],x=Object(n.useMemo)((function(){return c||[]}),[c]),N=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=new FileReader,n=File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice,r=2097152,s=Math.ceil(e.size/r),c=0,o=new Xc.a;function l(){var t=c*r,s=t+r>=e.size?e.size:t+r;a.readAsBinaryString(n.call(e,t,s))}a.onload=function(e){if(o.appendBinary(e.target.result),++c<s)l();else{var a=o.end();t(a)}},l()}),[]),j=Object(n.useCallback)((function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},c=new FormData,o=3145728,l=Math.ceil(e.size/o),u=Math.min((t+1)*o,e.size),d=e.slice(t*o,u),m=qe(),f=_e("BasePlatformMsg"),h=f instanceof Object&&f.ResHttpRootUrl,b=_e("UserInfo"),g=i||b instanceof Object&&b.SchoolID;return c.append("FileName",e.name),c.append("File",d),c.append("PlanType",a),c.append("Token",m),c.append("SchoolID",g),c.append("FileSavePath",n),_.a.ajax({url:h+"/Upload.ashx",async:!1,type:"POST",data:c,processData:!1,contentType:!1,success:function(a,c,o){return 200!==a.StatusCode?(p(!1),console.info("\u5206\u5f00\u4e0a\u4f20\u5931\u8d25\uff0c\u5f53\u524d\u7b2c"+(t+1)+"\u5757"),void s(a.Msg)):(n=a.Data.FileUrl,t+1===l?(p(100),p(!1),O(!1),void r(a.Data)):(p(ot((t+1)/l*100)),void y([e,++t,a.Data.FileUrl,r,s])))},error:function(e,a,n){console.info("\u5206\u5f00\u4e0a\u4f20\u5931\u8d25\uff0c\u5f53\u524d\u7b2c"+(t+1)+"\u5757"),p(!1),s("\u7a0b\u5e8f\u5f02\u5e38")}}),n}),[i,a]),w=Object(n.useCallback)((function(e){y([e,0,"",function(e){s([].concat(Object(yn.a)(x),[e]))},function(e){Qe({title:e})}]),p(0)}),[j,x]);return Object(n.useImperativeHandle)(t,(function(){return{file:x,CompletePercert:f}})),Object(n.useEffect)((function(){g.length>0&&!1!==f&&100!==f&&j.apply(void 0,Object(yn.a)(g))}),[f]),r.a.createElement("span",{className:"file-upload",style:{cursor:S?"no-drop":"pointer"}},"\u6dfb\u52a0\u9644\u4ef6",r.a.createElement("input",{ref:v,type:"file",style:{cursor:S?"no-drop":"pointer",display:S?"none":"inline-block"},className:"file-input",onClick:function(){O(!0)},onChange:function(e){var t=e.target,a=e.target.files;if(a){for(var n=function(e){var t=a[e];if(t.size>104857600)return Qe({title:"\u6587\u4ef6\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7100M"}),O(!1),{v:!1};if(window.FileReader)N(t,(function(e){if(l.some((function(t){return t===e})))return Qe({title:"\u6587\u4ef6\u5df2\u5b58\u5728"}),O(!1),!1;o([].concat(Object(yn.a)(l),[e])),w(t)}));else{if(x.some((function(e){return e.FileName===t.name&&e.FileSize===t.size})))return Qe({title:"\u6587\u4ef6\u5df2\u5b58\u5728"}),O(!1),{v:!1};w(t)}},r=0;r<a.length;r++){var s=n(r);if("object"===typeof s)return s.v}t.value=""}}}),!1!==f&&r.a.createElement("span",{className:"dom-CompletePercert"},f,"%"))}var to=Object(n.memo)(Object(n.forwardRef)(eo)),ao=(se.a.TextArea,Vc.a.RangePicker),no="YYYY-MM-DD HH:mm";function ro(e,t){var a=this,s=e.className,c=e.type,o=e.schema,l=e.preview,i=e.draft,d=e.cancel,m=e.fileid,f=e.publish,p=e.schoolId,h=e.error,b=Object(Y.a)(e,["className","type","schema","preview","draft","cancel","fileid","publish","schoolId","error"]),g="recruitment"===(c=c||"recruitment")?"\u6765\u6e90":"\u53d1\u5e03\u5355\u4f4d",y=Object(n.useState)(""),v=Object(u.a)(y,2),E=v[0],I=v[1],S=Object(n.useState)(!1),O=Object(u.a)(S,2),x=O[0],N=O[1],j=Object(n.useState)("\u8bf7\u8f93\u5165\u6807\u9898"),w=Object(u.a)(j,2),D=w[0],T=w[1],k=Object(n.useState)(""),C=Object(u.a)(k,2),L=C[0],A=C[1],J=Object(n.useState)(!1),R=Object(u.a)(J,2),M=R[0],P=R[1],W=Object(n.useState)("\u8bf7\u8f93\u5165"+g),H=Object(u.a)(W,2),z=H[0],U=H[1],B=Object(n.useState)([]),F=Object(u.a)(B,2),G=F[0],V=F[1],Z=Object(n.useState)(!1),Q=Object(u.a)(Z,2),X=(Q[0],Q[1],Object(n.useState)("\u9644\u4ef6\u9519\u8bef")),K=Object(u.a)(X,2),q=(K[0],K[1],Object(n.useState)([])),$=Object(u.a)(q,2),ee=$[0],ae=$[1],ne=Object(n.useState)(!1),re=Object(u.a)(ne,2),ce=(re[0],re[1]),oe=Object(n.useState)(""),le=Object(u.a)(oe,2),ie=le[0],ue=le[1],de=Object(n.useState)(!1),me=Object(u.a)(de,2),fe=me[0],pe=me[1],he=Object(n.useState)("\u8bf7\u8f93\u5165\u6b63\u6587"),be=Object(u.a)(he,2),ge=be[0],ye=be[1],Ie=Object(n.useState)(0),Se=Object(u.a)(Ie,2),Oe=Se[0],xe=Se[1],Ne=Object(n.useState)(!1),we=Object(u.a)(Ne,2),De=we[0],Te=we[1],ke=Object(n.useState)("\u8bf7\u9009\u62e9\u662f\u5426\u542f\u7528\u62a5\u540d"),Ce=Object(u.a)(ke,2),Le=Ce[0],Ae=(Ce[1],Object(n.useState)("")),Je=Object(u.a)(Ae,2),Re=Je[0],Me=Je[1],Pe=Object(n.useState)(!1),We=Object(u.a)(Pe,2),He=We[0],ze=(We[1],Object(n.useState)("\u8bf7\u8f93\u5165\u4e0a\u4f20\u4eba\u6570\u9650\u5236")),Ue=Object(u.a)(ze,2),Be=Ue[0],Fe=(Ue[1],Object(n.useState)(0)),Ge=Object(u.a)(Fe,2),Ve=Ge[0],Ze=Ge[1],Xe=Object(n.useState)(!1),$e=Object(u.a)(Xe,2),et=$e[0],tt=$e[1],at=Object(n.useState)("\u8bf7\u9009\u62e9\u57f9\u8bad\u65b9\u5f0f"),nt=Object(u.a)(at,2),rt=nt[0],st=(nt[1],Object(n.useState)("")),ct=Object(u.a)(st,2),lt=ct[0],it=ct[1],ut=Object(n.useState)(""),dt=Object(u.a)(ut,2),mt=dt[0],ft=dt[1],pt=Object(n.useState)(!1),ht=Object(u.a)(pt,2),bt=ht[0],gt=ht[1],yt=Object(n.useState)("\u8bf7\u9009\u62e9\u62a5\u540d\u8d77\u6b62\u65f6\u95f4"),vt=Object(u.a)(yt,2),Et=vt[0],It=vt[1],St=Object(n.useState)(!1),Ot=Object(u.a)(St,2),xt=Ot[0],Nt=Ot[1],jt=Object(n.useState)(!1),wt=Object(u.a)(jt,2),Dt=wt[0],Tt=wt[1],kt=Object(n.useRef)(!1),Ct=Zc({},"train"===c?xr:Hc),Lt=Object(u.a)(Ct,3),At=Lt[0],Jt=Lt[1],Rt=(Lt[2],Object(n.useMemo)((function(){return[{value:1,title:"\u662f"},{value:0,title:"\u5426"}]}),[])),Mt=Object(n.useMemo)((function(){return[{value:1,title:"\u7ebf\u4e0a"},{value:0,title:"\u7ebf\u4e0b"}]}),[]),Pt=Object(n.useRef)(null);Object(n.useEffect)((function(){"preview"!==o&&m&&Jt(m)}),[m]),Object(n.useEffect)((function(){At.IsLoaded&&At.IsExist?(I(At.Title),V(At.FileList),ue(At.Content),A(At.Issue),"train"===c&&(Ze(At.ActivityFlag),it(At.ApplyBeginTime),ft(At.ApplyEndTime),xe(At.ApplyFlag),Me(At.Limit))):At.IsExist||"function"===typeof h&&h()}),[At]);var Wt=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){};Ye({value:e,success:t,error:a})}),[]),Ht=Object(n.useCallback)((function(e){var t=!0;return Wt(e||E,(function(){N(!1),t=!0}),(function(e){T(e?"\u8bf7\u8f93\u5165\u6807\u9898":"\u6807\u9898\u683c\u5f0f\u4e0d\u6b63\u786e"),N(!0),t=!1})),t}),[E]),zt=Object(n.useCallback)((function(e){var t=!0;return Wt(e||L,(function(){P(!1),t=!0}),(function(e){U(e?"\u8bf7\u8f93\u5165"+g:g+"\u683c\u5f0f\u4e0d\u6b63\u786e"),P(!0),t=!1})),t}),[L]),Ut=Object(n.useCallback)((function(e){var t=!0;return(e=e||ie)?(pe(!1),t=!0):(ye("\u8bf7\u8f93\u5165\u6b63\u6587"),pe(!0),t=!1),t}),[ie]),Bt=Object(n.useCallback)((function(e){var t=!0;return"train"!==c||(""===(e=e||Oe)?(Te(!0),t=!1):(Te(!1),t=!0),t)}),[Oe]),Ft=Object(n.useCallback)((function(e){var t=!0;return"train"!==c||(""===(e=e||Ve)?(tt(!0),t=!1):(tt(!1),t=!0),t)}),[Ve]),Gt=Object(n.useCallback)((function(e){var t=!0;if("train"!==c)return!0;var a=e||[lt,mt],n=Object(u.a)(a,2),r=n[0],s=n[1];return r=te()(r),s=te()(s),r.isValid()||s.isValid()?r.isValid()?s.isValid()?s.diff(r,"m")<60?(It("\u8d77\u59cb\u65f6\u95f4\u4e0e\u7ec8\u6b62\u65f6\u95f4\u4e0d\u80fd\u76f8\u5dee\u5c0f\u4e8e1\u5c0f\u65f6"),gt(!0),t=!1):(gt(!1),t=!0):(It("\u8bf7\u9009\u62e9\u62a5\u540d\u7ec8\u6b62\u65f6\u95f4"),gt(!0),t=!1):(It("\u8bf7\u9009\u62e9\u62a5\u540d\u8d77\u59cb\u65f6\u95f4"),gt(!0),t=!1):(It("\u8bf7\u9009\u62e9\u62a5\u540d\u8d77\u6b62\u65f6\u95f4"),gt(!0),t=!1),t}),[lt,mt]),_t=Object(n.useCallback)((function(e){return"train"!==c||(e=e||Re),!0}),[Re]),Vt=function(e){[Ut(),zt(),Ht(),Ft(),Bt(),!xt||Gt(),!xt||_t()].every((function(e){return e}))&&"function"===typeof e&&e()},Yt=(Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=new FileReader,n=File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice,r=2097152,s=Math.ceil(e.size/r),c=0,o=new Xc.a;function l(){var t=c*r,s=t+r>=e.size?e.size:t+r;a.readAsBinaryString(n.call(e,t,s))}a.onload=function(e){if(o.appendBinary(e.target.result),++c<s)l();else{var a=o.end();t(a)}},l()}),[]),Object(n.useCallback)((function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},s=new FormData,o=3145728,l=Math.ceil(e.size/o),i=Math.min((t+1)*o,e.size),u=e.slice(t*o,i),d=qe(),m=_e("BasePlatformMsg"),f=m instanceof Object&&m.ResHttpRootUrl,h=_e("UserInfo"),b=p||h instanceof Object&&h.SchoolID;return s.append("FileName",e.name),s.append("File",u),s.append("PlanType",c),s.append("Token",d),s.append("SchoolID",b),s.append("FileSavePath",a),_.a.ajax({url:f+"/Upload.ashx",async:!1,type:"POST",data:s,processData:!1,contentType:!1,success:function(s,c,o){return 200!==s.StatusCode?(Tt(!1),console.info("\u5206\u5f00\u4e0a\u4f20\u5931\u8d25\uff0c\u5f53\u524d\u7b2c"+(t+1)+"\u5757"),void r(s.Msg)):(a=s.Data.FileUrl,t+1===l?(Tt(100),n(s.Data),void setTimeout((function(){Tt(!1)}),1e3)):(Tt(ot((t+1)/l*100)),void Yt(e,++t,s.Data.FileUrl,n,r)))},error:function(e,a,n){console.info("\u5206\u5f00\u4e0a\u4f20\u5931\u8d25\uff0c\u5f53\u524d\u7b2c"+(t+1)+"\u5757"),Tt(!1),r("\u7a0b\u5e8f\u5f02\u5e38")}}),a}),[p,c]));Object(n.useCallback)((function(e){ce(!0),Tt(0),Yt(e,0,"",(function(e){V([].concat(Object(yn.a)(G),[e]))}),(function(e){Qe({title:e})}))}),[Yt,G]);Object(n.useEffect)((function(){0===Oe?(Nt(!1),Me(""),it(""),ft(""),gt(!1)):Nt(!0)}),[Oe]);Object(n.useMemo)((function(){return Dt&&r.a.createElement("span",{className:"dom-CompletePercert"},Dt)}),[Dt]),Object(n.useCallback)((function(e){Tt(e)}),[]);var Zt=Object(n.useCallback)((function(e){Tt(!1),V(e)}),[]),Qt=Object(n.useCallback)((function(e){ae(e)}),[]);return r.a.createElement("div",Object.assign({className:"lg-editor ".concat(s||"")},b),r.a.createElement("table",{className:"editor-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"must"},"\u6807\u9898:"),r.a.createElement("td",null,r.a.createElement(je,{visible:x,title:D},r.a.createElement(se.a,{value:E,className:"editor-input title-input",maxLength:100,placeholder:"\u8bf7\u8f93\u5165\u6807\u9898...",onChange:function(e){I(e.target.value)},onBlur:function(e){Ht(e.target.value)}})))),r.a.createElement("tr",null,r.a.createElement("td",{className:"must"},g,":"),r.a.createElement("td",null,r.a.createElement(je,{visible:M,title:z},r.a.createElement(se.a,{value:L,className:"editor-input source-input",maxLength:30,placeholder:"\u8bf7\u8f93\u5165".concat(g,"..."),onChange:function(e){A(e.target.value)},onBlur:function(e){zt(e.target.value)}})))),"train"===c?r.a.createElement("tr",null,r.a.createElement("td",null,"\u662f\u5426\u542f\u7528\u62a5\u540d:"),r.a.createElement("td",null,r.a.createElement(je,{visible:De,title:Le},r.a.createElement(Ee,{value:Oe,onChange:function(e){xe(e.target.value),Te(!1)}},Rt.map((function(e,t){return r.a.createElement(ve,{key:t,value:e.value},e.title)})))))):r.a.createElement(r.a.Fragment,null),"train"===c?r.a.createElement("tr",null,r.a.createElement("td",null,"\u62a5\u540d\u4eba\u6570\u9650\u5236:"),r.a.createElement("td",null,r.a.createElement(je,{visible:He,title:Be},r.a.createElement(se.a,{value:Re,disabled:!xt,type:"number",className:"editor-input limit-input",maxLength:8,onChange:function(e){Me(e.target.value)},onBlur:function(e){_t(e.target.value)}})))):r.a.createElement(r.a.Fragment,null),"train"===c?r.a.createElement("tr",null,r.a.createElement("td",{className:"must"},"\u62a5\u540d\u8d77\u6b62\u65f6\u95f4:"),r.a.createElement("td",null,r.a.createElement(je,{visible:xt&&bt,title:Et},r.a.createElement(ao,{onChange:function(e,t){it(t[0]),ft(t[1]),t[0]&&t[1]&&Gt(e)},disabled:[!xt||!1,!xt||!lt],allowEmpty:[!xt||!1,!xt||!lt],value:[lt?te()(lt):"",mt?te()(mt):""],disabledDate:function(e){return te()()>e},format:no,locale:Yc.a,showTime:!0})))):r.a.createElement(r.a.Fragment,null),"train"===c?r.a.createElement("tr",null,r.a.createElement("td",null,"\u57f9\u8bad\u65b9\u5f0f:"),r.a.createElement("td",null,r.a.createElement(je,{visible:et,title:rt},r.a.createElement(Ee,{value:Ve,onChange:function(e){Ze(e.target.value),tt(!1)}},Mt.map((function(e,t){return r.a.createElement(ve,{key:t,value:e.value},e.title)})))))):r.a.createElement(r.a.Fragment,null),r.a.createElement("tr",null,r.a.createElement("td",null,"\u9644\u4ef6:"),r.a.createElement("td",{style:{padding:0}},r.a.createElement("span",null,G instanceof Array&&G.map((function(e,t){var a=e.FileName.lastIndexOf("."),n=[];-1===a&&(n=[e.FileName,""]),n[0]=e.FileName.slice(0,a),n[1]=e.FileName.slice(a);var s=e.FileSize;return r.a.createElement("span",{key:t,className:"file-content file-type-".concat(Ke(e.FileName))},r.a.createElement("span",{className:"file-name",title:e.FileName},n[0]),r.a.createElement("span",{className:"file-type",title:e.FileName},n[1]),r.a.createElement("span",{className:"file-size",title:s},"[",s,"]"),r.a.createElement("b",{onClick:function(){V(G.slice(0,t).concat(G.slice(t+1))),ae(ee.slice(0,t).concat(ee.slice(t+1)))},className:"file-delete"},"\xd7"))})),G instanceof Array&&G.length<5?r.a.createElement("span",{className:"handle-upload"},r.a.createElement("span",{className:"input-box"},r.a.createElement(to,{initFile:G,onFileUplaod:Zt,onFileUpMD5:Qt,fileMD5:ee,ref:kt,schoolId:p,type:c})),r.a.createElement("span",{className:"file-tip"},"\u63d0\u793a: \u9644\u4ef6\u4f1a\u5728\u6b63\u6587\u6587\u672b\u4ee5\u4e0b\u8f7d\u94fe\u63a5\u5f62\u5f0f\u51fa\u73b0")):""))),r.a.createElement("tr",null,r.a.createElement("td",{className:"must  "},"\u6b63\u6587:"),r.a.createElement("td",null,r.a.createElement(je,{visible:fe,title:ge},r.a.createElement("div",{className:"editor-input main-input"}," ",r.a.createElement($c,{onBlur:function(e){Ut(e),ue(e)},defaultValue:ie,ref:Pt}))))))),r.a.createElement("ul",{className:"editor-handle"},l?r.a.createElement("li",{className:"handle-preview",onClick:function(){Vt(l.onClick.bind(a,{Title:E,Issue:L,Content:ie,Limit:Re,ApplyBeginTime:lt,ApplyEndTime:mt,ActivityFlag:Ve,ApplyFlag:Oe,ReleaseTime:te()().format("YYYY-MM-DD HH:mm"),FileList:G}))}},"\u9884\u89c8"):"",i&&"edit"!==o?r.a.createElement("li",{className:"handle-btn handle-draft",onClick:function(){Vt(i.onClick.bind(a,{Title:E,Issue:L,Content:ie,Limit:Re,ApplyBeginTime:lt,ApplyEndTime:mt,ActivityFlag:Ve,ApplyFlag:Oe,FileList:G}))}},"\u6682\u5b58\u4e3a\u8349\u7a3f"):"",f?r.a.createElement("li",{className:"handle-btn handle-publish",onClick:function(){Vt(f.onClick.bind(a,{Title:E,Issue:L,Content:ie,Limit:Re,ApplyBeginTime:lt,ApplyEndTime:mt,ActivityFlag:Ve,ApplyFlag:Oe,FileList:G}))}},"\u786e\u8ba4\u53d1\u5e03"):"",d?r.a.createElement("li",{className:"handle-btn handle-cancel",onClick:function(){d.onClick&&d.onClick()}},"\u53d6\u6d88"):""))}var so=Object(n.memo)(Object(n.forwardRef)(ro));a(1653);function co(e,t){var a=e.className,s=e.fileid,c=e.type,o=(e.style,e.schema),l=(e.height,e.onReturn),i=e.onComfirm,d=e.previewData,f=e.useScrollbars,p=Object(Y.a)(e,["className","fileid","type","style","schema","height","onReturn","onComfirm","previewData","useScrollbars"]),h=Zc({},"train"===c?xr:Hc),b=Object(u.a)(h,4),g=b[0],y=b[1],v=b[2],E=b[3],I=Object(n.useMemo)((function(){return!(void 0!==f&&!f)}),[f]),S=Object(n.useRef)(null);Object(n.useEffect)((function(){"preview"!==o&&s&&y(s)}),[s]);var O="preview"!==o?g:Object(m.a)({IsLoaded:!0,IsExist:!0,Title:"",Issue:"",ReleaseTime:"",Content:"",FileList:[]},d),x=O.IsLoaded,N=O.IsExist,j=O.Title,w=O.Issue,D=O.ReleaseTime,T=O.Content,k=O.FileList;Object(n.useLayoutEffect)((function(){T&&_()(S.current).html(T)}),[T]);var C=Object(n.useMemo)((function(){var e=_e("BasePlatformMsg");return e instanceof Object&&e.ResHttpRootUrl}),[]);return Object(n.useImperativeHandle)(t,(function(){return{reload:E,detailData:g}})),r.a.createElement(ke,{component:!!I&&q.Scrollbars},r.a.createElement(be,{opacity:!1,spinning:"preview"!==o&&v,tip:"\u52a0\u8f7d\u4e2d..."},r.a.createElement("div",Object.assign({className:"lg-fileDetail ".concat(a||"")},p),x?N?r.a.createElement("div",{className:"fileDetail-content"},r.a.createElement("div",{className:"fd-content-top"},r.a.createElement("span",{className:"content-top-msg content-title",title:j},j),r.a.createElement("span",{className:"content-top-msg content-msg"},r.a.createElement("span",{className:"cm-text",title:D},D),r.a.createElement("span",{className:"cm-text",title:w},w)),"preview"===o?r.a.createElement("span",{className:"preview-return",onClick:function(){"function"===typeof l&&l()}},"\u8fd4\u56de"):"","preview"===o?r.a.createElement("span",{className:"preview-comfirm",onClick:function(){"function"===typeof i&&i()}},"\u786e\u8ba4\u53d1\u5e03"):""),r.a.createElement("pre",{ref:S,className:"detail-content",id:"detail-content",style:{whiteSpace:"pre-wrap",fontFamily:"\u5fae\u8f6f\u96c5\u9ed1"}}),k instanceof Array&&k.length>0?r.a.createElement("div",{className:"file-box"},r.a.createElement("p",{className:"fb-top"},"\u9644\u4ef6"),r.a.createElement("div",{className:"fb-content"},k.map((function(e,t){var a=e.FileName,n=e.FileUrl,s=e.FileSize,c=a.lastIndexOf("."),o=[];return-1===c&&(o=[a,""]),o[0]=a.slice(0,c),o[1]=a.slice(c),r.a.createElement("div",{key:t,className:"file-bar file-type-".concat(Ke(a))},r.a.createElement("span",{className:"file-name",title:a},o[0]),r.a.createElement("span",{className:"file-type",title:a},o[1]),r.a.createElement("span",{className:"file-size",title:s},"[",s,"]"),r.a.createElement("a",{href:C+n,download:o[0],target:"_blank",className:"file-download"},"\u4e0b\u8f7d"))})))):""):r.a.createElement(ye,{className:"lg-fileDetail-empty",type:"4",title:"\u6240\u67e5\u8be2\u4fe1\u606f\u4e0d\u5b58\u5728"}):"")))}var oo=Object(n.memo)(Object(n.forwardRef)(co)),lo=va.a.TabPane;function io(e,t){e.teacherRecruitMsg.tabId;var a=e.removeTab,s=(e.activeTab,e.contentHW),c=(e.history,e.roleMsg),o=c.schoolID,l=c.collegeID,i=c.selectLevel,d=(e.dispatch,Object(n.useContext)(Jc)),f=(d.state,d.setDispatch,Object(n.useState)(!1)),p=Object(u.a)(f,2),h=p[0],b=p[1],g=Object(n.useState)("publish"),y=Object(u.a)(g,2),v=y[0],E=y[1],I=Object(n.useState)(!1),S=Object(u.a)(I,2),O=S[0],x=S[1],N=Object(n.useState)({Title:"\u6d4b\u8bd5",Issue:"\u6d4b\u8bd5",ReleaseTime:"\u6d4b\u8bd5",Content:"\u6d4b\u8bd5",FileList:[]}),j=Object(u.a)(N,2),w=j[0],D=j[1],T=Object(n.useCallback)((function(e){x(!0);var t=e.FileList,n=Object(Y.a)(e,["FileList"]);zc(Object(m.a)({SchoolID:o,CollegeID:l,SelectLevel:i,RStatus:1,FileList:t},n)).then((function(e){e.result?a("","","teacherRecruit","",(function(){})):x(!1)}))}),[w,a]);return r.a.createElement(be,{opacity:.5,spinning:O},r.a.createElement(va.a,{activeKey:v,renderTabBar:function(){return""}},r.a.createElement(lo,{tab:"publish",key:"publish"},r.a.createElement("div",{className:" Reacruit-context Publish-context Recruit-publish"},r.a.createElement("div",{className:"context-top  "},r.a.createElement("span",{className:" title-1"},"\u53d1\u5e03\u62db\u8058\u8ba1\u5212"),r.a.createElement("span",{className:" title-2"},"(\u63d0\u793a: \u53d1\u5e03\u540e\u5c06\u5728\u5404\u6821\u5b98\u7f51\u663e\u793a)")),r.a.createElement(so,{preview:{onClick:function(e){D(e),b(!0),E("preview")}},draft:{onClick:function(e){T(Object(m.a)(Object(m.a)({},e),{},{RStatus:0}))}},publish:{onClick:function(e){T(Object(m.a)(Object(m.a)({},e),{},{RStatus:1}))}},cancel:{onClick:function(){a("","","teacherRecruit","",(function(e,t){console.log(e,t)}))}}}))),r.a.createElement(lo,{tab:"preview",key:"preview"},h?r.a.createElement("div",{className:"Recruit-preview-box"},r.a.createElement("div",{style:{height:s.height+"px"}},r.a.createElement(oo,{schema:"preview",type:"recruit",previewData:w,onReturn:function(){b(!1),E("publish")},onComfirm:function(){T(Object(m.a)(Object(m.a)({},w),{},{RStatus:1}))}}))):"")))}var uo=function(e){var t=e.handleData.teacherRecruitMsg,a=e.commonData;return{teacherRecruitMsg:t,roleMsg:a.roleMsg,contentHW:a.contentHW}},mo=Object(d.connect)(uo)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(io))));function fo(e,t){e.teacherRecruitMsg.tabId,e.removeTab,e.activeTab;var a=e.contentHW,s=e.location,c=e.id,o=(e.history,e.dispatch,Object(n.useContext)(Jc)),l=(o.state,o.setDispatch,Object(n.useState)(!1)),i=Object(u.a)(l,2),d=i[0],m=(i[1],Object(n.useState)((function(){return c||""}))),f=Object(u.a)(m,2),p=f[0],h=f[1],b=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(s.pathname){var e=Ve(s.pathname);"recruitDetail"===e[0]&&e[1]&&e[1]!==p&&h(e[1]),"recruitDetail"===e[0]&&p&&b.current&&b.current.reload()}}),[s.pathname]),r.a.createElement(be,{opacity:.5,spinning:d},r.a.createElement("div",{className:" Reacruit-context   Recruit-Datail",style:{height:a.height+"px"}},r.a.createElement(oo,{ref:b,fileid:p,type:"recruit"})))}var po=function(e){var t=e.handleData.teacherRecruitMsg,a=e.commonData;return{teacherRecruitMsg:t,roleMsg:a.roleMsg,contentHW:a.contentHW}},ho=Object(d.connect)(po)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(fo)))),bo=va.a.TabPane;function go(e,t){e.teacherRecruitMsg.tabId;var a=e.removeTab,s=(e.activeTab,e.contentHW),c=e.location,o=(e.history,e.roleMsg),l=(o.schoolID,o.collegeID,o.selectLevel,e.dispatch,Object(n.useContext)(Jc)),i=(l.state,l.setDispatch,Object(n.useState)(!1)),d=Object(u.a)(i,2),f=d[0],p=d[1],h=Object(n.useState)("publish"),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useState)(!1),E=Object(u.a)(v,2),I=E[0],S=E[1],O=Object(n.useState)(""),x=Object(u.a)(O,2),N=x[0],j=x[1],w=Object(n.useState)({Title:"\u6d4b\u8bd5",Issue:"\u6d4b\u8bd5",ReleaseTime:"\u6d4b\u8bd5",Content:"\u6d4b\u8bd5",FileList:[]}),D=Object(u.a)(w,2),T=D[0],k=D[1],C=Object(n.useCallback)((function(e){S(!0);var t=e.FileList,n=(e.ReleaseTime,Object(Y.a)(e,["FileList","ReleaseTime"]));Uc(Object(m.a)({RID:N,RStatus:1,FileList:t},n)).then((function(e){e.result&&a("","","teacherRecruit",""),S(!1)}))}),[T,a,N]);return Object(n.useEffect)((function(){if(c.pathname){var e=Ve(c.pathname);"editRecruit"===e[0]&&e[1]&&e[1]!==N&&j(e[1])}}),[]),r.a.createElement(be,{opacity:.5,spinning:I},r.a.createElement(va.a,{activeKey:g,renderTabBar:function(){return""}},r.a.createElement(bo,{tab:"publish",key:"publish"},r.a.createElement("div",{className:" Reacruit-context Publish-context Recruit-publish"},r.a.createElement("div",{className:"context-top  "},r.a.createElement("span",{className:" title-1"},"\u7f16\u8f91\u62db\u8058\u8ba1\u5212"),r.a.createElement("span",{className:" title-2"},"(\u63d0\u793a: \u53d1\u5e03\u540e\u5c06\u5728\u5404\u6821\u5b98\u7f51\u663e\u793a)")),r.a.createElement(so,{fileid:N,schema:"edit",error:function(){a("","","teacherRecruit","",(function(e,t){}))},preview:{onClick:function(e){k(e),p(!0),y("preview")}},draft:{onClick:function(e){C(Object(m.a)(Object(m.a)({},e),{},{RStatus:0}))}},publish:{onClick:function(e){C(Object(m.a)(Object(m.a)({},e),{},{RStatus:1}))}},cancel:{onClick:function(){a("","","teacherRecruit","",(function(e,t){console.log(e,t)}))}}}))),r.a.createElement(bo,{tab:"preview",key:"preview"},f?r.a.createElement("div",{className:"Recruit-preview-box"},r.a.createElement("div",{style:{height:s.height+"px"}},r.a.createElement(oo,{schema:"preview",type:"recruit",previewData:T,onReturn:function(){p(!1),y("publish")},onComfirm:function(){C(Object(m.a)(Object(m.a)({},T),{},{RStatus:1}))}}))):"")))}var yo=function(e){var t=e.handleData.teacherRecruitMsg,a=e.commonData;return{teacherRecruitMsg:t,roleMsg:a.roleMsg,contentHW:a.contentHW}},vo=Object(d.connect)(yo)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(go))));function Eo(e,t){var a=e.id,s=e.basePlatFormMsg,c=Object(n.useRef)({});return Object(n.useEffect)((function(){console.log(c.current)}),[c.current.detailData]),console.log(c.current),r.a.createElement("div",{className:"page-recruit"},r.a.createElement("div",{className:"pr-top"}),r.a.createElement("div",{className:"pr-center"},r.a.createElement(q.Scrollbars,null,r.a.createElement("div",{className:"pr-content"},r.a.createElement(oo,{useScrollbars:!1,ref:c,fileid:a,type:"recruit"})),r.a.createElement("div",{className:"pr-provesion"},s&&s.ProVersion))))}var Io=function(e){var t=e.commonData;return Object(m.a)({},t)},So=Object(d.connect)(Io)(Object(n.memo)(Object(n.forwardRef)(Eo)));function Oo(e,t){e.location,e.activeTab;var a=e.removeTab,s=e.tabid,c=e.recruitid,o=e.param,l=Object(n.useState)(""),i=Object(u.a)(l,2),d=i[0],m=i[1],f=Object(n.useReducer)(Mc,Rc),p=Object(u.a)(f,2),h=p[0],b=p[1],g=Object(n.useRef)({});h.component;return Object(n.useEffect)((function(){m(o)}),[o]),r.a.createElement(Jc.Provider,{value:{state:h,setDispatch:b}},r.a.createElement("div",{className:"Recruit"},"home"===d?r.a.createElement(_c,{ref:g}):"","publish"===d?r.a.createElement(mo,{removeTab:a}):"","edit"===d?r.a.createElement(vo,{removeTab:a}):"","recruitDetail"===s?r.a.createElement(ho,{removeTab:a}):"","details"===d?r.a.createElement(_c,null):"","recruit"===d&&r.a.createElement(So,{id:c})))}var xo=function(e){return{roleMsg:e.commonData.roleMsg}},No=Object(d.connect)(xo)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(Oo)))),jo=va.a.TabPane;function wo(e,t){var a=e.removeTab,s=(e.activeTab,e.contentHW),c=(e.history,e.roleMsg),o=c.schoolID,l=c.collegeID,i=c.selectLevel,d=(e.dispatch,Object(n.useContext)(yr)),f=(d.state,d.setDispatch,Object(n.useState)(!1)),p=Object(u.a)(f,2),h=p[0],b=p[1],g=Object(n.useState)("publish"),y=Object(u.a)(g,2),v=y[0],E=y[1],I=Object(n.useState)(!1),S=Object(u.a)(I,2),O=S[0],x=S[1],N=Object(n.useState)({Title:"\u6d4b\u8bd5",Issue:"\u6d4b\u8bd5",ReleaseTime:"\u6d4b\u8bd5",Content:"\u6d4b\u8bd5",FileList:[]}),j=Object(u.a)(N,2),w=j[0],D=j[1],T=Object(n.useCallback)((function(e){x(!0);var t=e.FileList,n=Object(Y.a)(e,["FileList"]);Nr(Object(m.a)({SchoolID:o,CollegeID:l,SelectLevel:i,TStatus:1,FileList:t},n)).then((function(e){e.result?a("","","teacherTrain","",(function(){})):x(!1)}))}),[w,a]);return r.a.createElement(be,{opacity:.5,spinning:O},r.a.createElement(va.a,{activeKey:v,renderTabBar:function(){return""}},r.a.createElement(jo,{tab:"publish",key:"publish"},r.a.createElement("div",{className:" Reacruit-context Publish-context Train-publish"},r.a.createElement("div",{className:"context-top  "},r.a.createElement("span",{className:" title-1"},"\u53d1\u5e03\u57f9\u8bad\u8ba1\u5212")),r.a.createElement(so,{type:"train",preview:{onClick:function(e){D(e),b(!0),E("preview")}},draft:{onClick:function(e){T(Object(m.a)(Object(m.a)({},e),{},{TStatus:0}))}},publish:{onClick:function(e){T(Object(m.a)(Object(m.a)({},e),{},{TStatus:1}))}},cancel:{onClick:function(){a("","","teacherTrain","",(function(e,t){console.log(e,t)}))}}}))),r.a.createElement(jo,{tab:"preview",key:"preview"},h?r.a.createElement("div",{className:"Train-preview-box"},r.a.createElement("div",{style:{height:s.height+"px"}},r.a.createElement(oo,{schema:"preview",type:"train",previewData:w,onReturn:function(){b(!1),E("publish")},onComfirm:function(){T(Object(m.a)(Object(m.a)({},w),{},{TStatus:1}))}}))):"")))}var Do=function(e){var t=e.handleData.teacherTrainMsg,a=e.commonData;return{teacherTrainMsg:t,roleMsg:a.roleMsg,contentHW:a.contentHW}},To=Object(d.connect)(Do)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(wo))));function ko(e,t){e.removeTab,e.activeTab;var a=e.contentHW,s=e.location,c=(e.id,e.history,e.controlSize),o=(e.dispatch,e.useScrollbars),l=Object(n.useState)(!1),i=Object(u.a)(l,2),d=i[0],m=(i[1],Object(n.useState)("")),f=Object(u.a)(m,2),p=f[0],h=f[1],b=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(s.pathname){var e=Ve(s.pathname);"trainDetail"===e[0]&&e[1]&&e[1]!==p&&h(e[1]),"trainDetail"===e[0]&&p&&b.current&&b.current.reload()}}),[s.pathname]),r.a.createElement(be,{opacity:.5,spinning:d},r.a.createElement("div",{className:" Reacruit-context   Train-Datail",style:void 0===c||c?{height:a.height+"px"}:{}},r.a.createElement(oo,{ref:b,useScrollbars:o,fileid:p,type:"train"})))}var Co=function(e){var t=e.handleData.teacherTrainMsg,a=e.commonData;return{teacherTrainMsg:t,roleMsg:a.roleMsg,contentHW:a.contentHW}},Lo=Object(d.connect)(Co)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(ko)))),Ao=va.a.TabPane;function Jo(e,t){var a=e.removeTab,s=(e.activeTab,e.contentHW),c=e.location,o=(e.history,e.roleMsg),l=(o.schoolID,o.collegeID,o.selectLevel,e.dispatch,Object(n.useContext)(yr)),i=(l.state,l.setDispatch,Object(n.useState)(!1)),d=Object(u.a)(i,2),f=d[0],p=d[1],h=Object(n.useState)("publish"),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useState)(!1),E=Object(u.a)(v,2),I=E[0],S=E[1],O=Object(n.useState)(""),x=Object(u.a)(O,2),N=x[0],j=x[1],w=Object(n.useState)({Title:"\u6d4b\u8bd5",Issue:"\u6d4b\u8bd5",ReleaseTime:"\u6d4b\u8bd5",Content:"\u6d4b\u8bd5",FileList:[]}),D=Object(u.a)(w,2),T=D[0],k=D[1],C=Object(n.useCallback)((function(e){S(!0);var t=e.FileList,n=(e.ReleaseTime,Object(Y.a)(e,["FileList","ReleaseTime"]));jr(Object(m.a)({TID:N,TStatus:1,FileList:t},n)).then((function(e){e.result&&a("","","teacherTrain",""),S(!1)}))}),[T,a,N]);return Object(n.useEffect)((function(){if(c.pathname){var e=Ve(c.pathname);"editTrain"===e[0]&&e[1]&&e[1]!==N&&j(e[1])}}),[]),r.a.createElement(be,{opacity:.5,spinning:I},r.a.createElement(va.a,{activeKey:g,renderTabBar:function(){return""}},r.a.createElement(Ao,{tab:"publish",key:"publish"},r.a.createElement("div",{className:" Reacruit-context Publish-context Train-publish"},r.a.createElement("div",{className:"context-top  "},r.a.createElement("span",{className:" title-1"},"\u7f16\u8f91\u57f9\u8bad\u8ba1\u5212"),r.a.createElement("span",{className:" title-2"},"(\u63d0\u793a: \u53d1\u5e03\u540e\u5c06\u5728\u5404\u6821\u5b98\u7f51\u663e\u793a)")),r.a.createElement(so,{type:"train",fileid:N,schema:"edit",error:function(){a("","","teacherTrain","",(function(e,t){}))},preview:{onClick:function(e){k(e),p(!0),y("preview")}},draft:{onClick:function(e){C(Object(m.a)(Object(m.a)({},e),{},{TStatus:0}))}},publish:{onClick:function(e){C(Object(m.a)(Object(m.a)({},e),{},{TStatus:1}))}},cancel:{onClick:function(){a("","","teacherTrain","",(function(e,t){console.log(e,t)}))}}}))),r.a.createElement(Ao,{tab:"preview",key:"preview"},f?r.a.createElement("div",{className:"Train-preview-box"},r.a.createElement("div",{style:{height:s.height+"px"}},r.a.createElement(oo,{schema:"preview",type:"train",previewData:T,onReturn:function(){p(!1),y("publish")},onComfirm:function(){C(Object(m.a)(Object(m.a)({},T),{},{TStatus:1}))}}))):"")))}var Ro=function(e){var t=e.handleData.teacherTrainMsg,a=e.commonData;return{teacherTrainMsg:t,roleMsg:a.roleMsg,contentHW:a.contentHW}},Mo=Object(d.connect)(Ro)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(Jo))));function Po(e,t){e.teacherRecruitMsg,e.location,e.activeTab;var a=e.removeTab,s=e.tabid,c=e.param,o=Object(n.useState)(""),l=Object(u.a)(o,2),i=l[0],d=l[1],m=Object(n.useReducer)(Er,vr),f=Object(u.a)(m,2),p=f[0],h=f[1],b=Object(n.useRef)({});p.component;return Object(n.useEffect)((function(){d(c)}),[c]),r.a.createElement(yr.Provider,{value:{state:p,setDispatch:h}},r.a.createElement("div",{className:"Train"},"home"===i?r.a.createElement(Cr,{ref:b}):"","publish"===i?r.a.createElement(To,{removeTab:a}):"","edit"===i?r.a.createElement(Mo,{removeTab:a}):"","trainDetail"===s?r.a.createElement(Lo,null):"","details"===i?r.a.createElement(Cr,null):""))}var Wo=function(e){return{teacherRecruitMsg:e.handleData.teacherRecruitMsg,roleMsg:e.commonData.roleMsg}},Ho=Object(d.connect)(Wo)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(Po))));a(1654);function zo(e,t){var a=e.commonData,n=a.roleMsg.identityCode,s=a.systemServer,c=_e("token");return r.a.createElement("div",{className:"Notice"},r.a.createElement("iframe",{className:"notice-iframe",title:"\u901a\u77e5\u516c\u544a",src:s[400].WebSvrAddr+"/WebPage/html/notice/?lg_tk="+c+"&lg_ic="+n+"&sysID=L10&iFrame=true#/"}))}var Uo=function(e){return e},Bo=Object(d.connect)(Uo)(Object(n.memo)(Object(n.forwardRef)(zo)));a(1655);function Fo(e,t){var a=e.history,s=e.roleMsg,c=s.schoolID,o=s.collegeID,l=s.selectLevel,i=Object(n.useState)(""),d=Object(u.a)(i,2),m=d[0],f=d[1],p=Object(n.useState)({keyword:m,schoolID:c,collegeID:o,selectLevel:l}),h=Object(u.a)(p,2),b=h[0],g=h[1],y=Object(n.useState)(""),v=Object(u.a)(y,2),E=v[0],I=v[1],S=Object(n.useRef)({}),O={0:{className:"table-time-bottom",title:"--",handleType:0,handleTitle:"\u62a5\u540d",handleClassName:"table-apply-btn-no"},1:{className:"table-time-bottom-can",title:"\u53ef\u62a5\u540d",handleType:1,handleTitle:"\u62a5\u540d",handleClassName:"table-apply-btn-no",action:1},2:{className:"table-time-bottom-no",title:"",handleType:0,handleTitle:"\u62a5\u540d",handleClassName:"table-apply-btn-no"},3:{className:"table-time-bottom-will",title:"\u672a\u5f00\u59cb",handleType:0,handleTitle:"\u62a5\u540d",handleClassName:"table-apply-btn-no"},4:{className:"table-time-bottom-end",title:"\u5df2\u622a\u6b62",handleType:0,handleTitle:"\u62a5\u540d",handleClassName:"table-apply-btn-no"},5:{className:"table-time-bottom-done",title:"\u5df2\u62a5\u540d",handleType:2,handleTitle:"\u53d6\u6d88\u62a5\u540d",handleClassName:"table-apply-btn",action:0}},x=Object(n.useMemo)((function(){return[{dataIndex:"index",align:"center",width:70,textWrap:"word-break",render:function(e){return r.a.createElement("span",{className:"table-index",title:e},e)}},{title:"\u6807\u9898",width:345,render:function(e){var t=e.title,n=e.TID;return r.a.createElement("span",{onClick:function(){a.push("/trainDetail/"+n)},className:"table-title",title:t},t||"--")}},{title:"\u53d1\u5e03\u5355\u4f4d",align:"center",width:120,dataIndex:"source",render:function(e){return r.a.createElement("span",{className:"table-source",title:e},e)}},{title:"\u62a5\u540d\u65f6\u95f4",align:"center",width:230,render:function(e){var t=e.ApplyEndTime,a=e.ApplyBeginTime,n=(e.HasApplied,e.ApplyFlag,e.ApplyStatus);te()(),te()(t);return r.a.createElement("span",{className:"table-time",title:t},n?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"table-time-top"},t&&a?t+"~"+t:"--"),O[n].title?r.a.createElement("span",{className:"table-time-bottom ".concat(O[n].className)},O[n].title):""):"--")}},{title:"\u62a5\u540d\u4eba\u6570/\u9650\u989d",align:"center",width:137,render:function(e){var t=e.Limit,a=e.ApplyCount,n=e.ApplyFlag,s=(a||0)+"/"+(t||"--");return r.a.createElement("span",{className:"table-limit",title:s},r.a.createElement("span",{className:"table-limit-count"},n?s:"--"),n&&a&&a===t?r.a.createElement("span",{className:"table-limit-no"},"\u6ee1\u5458"):"")}},{title:"\u57f9\u8bad\u65b9\u5f0f",align:"center",width:120,dataIndex:"ActivityFlag",render:function(e){var t=[{value:1,title:"\u7ebf\u4e0a"},{value:0,title:"\u7ebf\u4e0b"}],a=t[parseInt(e)]?t[parseInt(e)].title:"--";return r.a.createElement("span",{className:"table-activity table-activity-".concat(e),title:a},a)}},{title:"\u64cd\u4f5c",align:"center",width:130,render:function(e){var t=e.ApplyStatus,a=(e.ApplyFlag,O[t]);return r.a.createElement("span",{className:"table-handle"},a.handleType?r.a.createElement("span",{className:"table-apply-btn ".concat(a.handleClassName),onClick:function(){N({TID:e.TID,Action:a.action},(function(){Qe({title:a.handleTitle+"\u6210\u529f",type:"warn",autoHide:!0}),S.current.reloadList()}))}},a.handleTitle):"--")}}]}),[]),N=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};Dr(e).then((function(e){e.result?t():a()}))}),[]);return r.a.createElement("div",{className:"frame-type-route teacher-train"},r.a.createElement("div",{className:"tt-handle-top"},r.a.createElement(ge,{width:264,placeHolder:"\u8bf7\u8f93\u5165\u5173\u952e\u8bcd\u8fdb\u884c\u641c\u7d22...",className:"tht-search",Value:E,onChange:function(e){I(e.target.value)},onClickSearch:function(e){f(e.value),g({schoolID:c,collegeID:o,keyword:e.value,selectLevel:l})},onCancelSearch:function(e){I(""),f("")}})),r.a.createElement(Qa,{className:"tt-table",columns:x,prepare:!!b.selectLevel,query:b,onDataChange:function(e){},ref:S,api:Or}))}var Go=function(e){return{teacherRecruitMsg:e.handleData.teacherRecruitMsg,roleMsg:e.commonData.roleMsg}},_o=Object(d.connect)(Go)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(Fo)))),Vo=(a(853),Tt.BasicProxy);function Yo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageIndex,a=e.pageSize,n=e.keyword,r=e.schoolID,s=e.collegeID,c=e.nodeType,o=e.nodeID,l=e.sortFiled,i=e.sortType,u=Vo+"/Teacher/List?SchoolID=".concat(r||"","&NodeID=").concat(o||"","&PageIndex=").concat(t||1,"&PageSize=").concat(a||10,"&Keyword=").concat(n||"","&CollegeID=").concat(s||"","&NodeType=").concat(c||"").concat(l?"&SortFiled="+l:"").concat(i?"&SortType="+i:"");return Qt.get({url:u,securityLevel:2}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode?{StatusCode:e.StatusCode,data:Object(m.a)(Object(m.a)({},e.Data),{},{List:e.Data.List instanceof Array?e.Data.List.map((function(t,a){var n=10*(e.Data.PageIndex-1)+a+1;return n=n>=10?n:"0"+n,Object(m.a)(Object(m.a)({},t),{},{key:a,index:n})})):[],PageSize:a})}:{StatusCode:e.StatusCode}}))}function Zo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.schoolID,a=e.collegeID,n=Vo+"/Teacher/GetNode?SchoolID=".concat(t||"","&CollegeID=").concat(a||"");return Qt.get({url:n,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200===e.StatusCode){var t=[[],{}];return e.Data instanceof Array&&ze(e.Data,(function(a){var n=a.child,r=n.NodeID,s=n.NodeName,c=n.NodeType,o=a.level,l=a.indexArray;if(1===o)t[0].push({value:r,title:s,nodeType:c});else if(2===o){var i=e.Data[l[0]].NodeID;t[1][i]instanceof Array?t[1][i].push({value:r,title:s,nodeType:c}):t[1][i]=[{value:r,title:s,nodeType:c}]}}),"SubSet"),{StatusCode:e.StatusCode,data:t}}return{StatusCode:e.StatusCode}}))}function Qo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sysIDs,a=e.baseIP,n=a+"/BaseApi/Global/GetSubSystemsMainServerBySubjectID?appid=000&access_token=4d39af1bff534514e24948568b750f6c&subjectID=&sysIDs=".concat((t=t instanceof Array?t:[]).join(","));return Qt.get({url:n,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200===e.StatusCode){var t={};return e.Data instanceof Array&&e.Data.forEach((function(e){t[e.SysID]=e})),{StatusCode:e.StatusCode,data:t}}return{StatusCode:e.StatusCode}}))}function Xo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userID,a=e.baseIP,n=e.schoolID,r=a+"/Schedule/api//GetTermAndPeriodAndWeekNOInfo?UserID=".concat(t,"&UserType=1&schoolId=").concat(n);return Qt.get({url:r,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200===e.StatusCode){var t={},a=e.StatusCode;if(e.Data&&e.Data.ItemWeek instanceof Array){var n,r=[],s=e.Data.WeekNO;(s>e.Data.ItemWeek.length||s<=0)&&(s=1),e.Data.ItemWeek.forEach((function(e){var t={startTime:te()(e.StartDate).format("YYYY-MM-DD HH:mm:ss"),endTime:te()(e.EndDate).format("YYYY-MM-DD HH:mm:ss"),value:e.WeekNO,title:"\u7b2c"+e.WeekNO+"\u5468"};r.push(t),s===e.WeekNO&&(n=t)})),(t=Object(m.a)({},e.Data)).WeekList=r,t.NowWeekSelect=n}else a=401;return{StatusCode:a,Data:Object(m.a)({},t)}}return{StatusCode:e.StatusCode}}))}function Ko(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userID,a=e.baseIP,n=e.proxy,r=e.schoolID,s=e.token,c=e.subjectNames,o=e.startTime,l=e.subjectIDs,i=e.endTime,u=n+"/api/Public/GetTeacherResView?SchoolID=".concat(r,"&TeacherID=").concat(t,"&Token=").concat(s,"&SubjectIDs=").concat(l,"&SubjectNames=").concat(c,"&startTime=").concat(o,"&endTime=").concat(i);return Qt.tranfer({reqUrl:u,basicProxy:a,token:s}).then((function(e){if(0===e.error&&e.data){var t={},a=e.data,r=a.UploadCount,c=a.UploadAllScale,o=a.BrowseCount,l=a.Url,i=a.UploadSubjectScale;return t.AllCount=st(r),t.AllScale=100*st(c),t.UseCount=st(o),t.Url=l?n+l+"?lg_tk="+s:"",t.AllSubject=[],i instanceof Array&&i.forEach((function(e){t.AllSubject.push({SubjectName:e.SubjectName,SUbjectID:e.SubjectID,Scale:100*st(e.SubjectScale)})})),{StatusCode:200,Data:Object(m.a)({},t)}}return{StatusCode:400}}))}function qo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userID,a=(e.baseIP,e.proxy),n=e.token,r=e.startTime,s=e.endTime,c=a+"TeachingPlan/ApiForOutside/GetTeachPlanStatistics?UserID=".concat(t,"&StartTime=").concat(r,"&EndTime=").concat(s);return Qt.get({url:c,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200===e.StatusCode&&e.Data){var t={},r=e.Data,s=r.UploadCount,c=r.UploadAllScale,o=r.UseCount,l=r.PCLink,i=r.UploadSubjectScale;return t.AllCount=st(s),t.AllScale=100*st(c),t.UseCount=st(o),t.Url=l?a+l+"?lg_tk="+n:"",t.AllSubject=[],i instanceof Array&&i.forEach((function(e){t.AllSubject.push({SubjectName:e.SubjectName,SUbjectID:e.SubjectID,Scale:100*st(e.SubjectScale)})})),{StatusCode:200,Data:Object(m.a)({},t)}}return{StatusCode:400}}))}function $o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userID,a=e.baseIP,n=e.proxy,r=e.schoolID,s=e.token,c=(e.subjectNames,e.startTime),o=(e.subjectIDs,e.endTime),l=n+"api/common/teacherpercentage?schoolId=".concat(r,"&TeacherID=").concat(t,"&StartTime=").concat(c,"&EndTime=").concat(o);return Qt.tranfer({reqUrl:l,basicProxy:a,token:s}).then((function(e){if(0===e.code&&e.data){var t={},a=e.data,n=a.uploadCount,r=a.uploadAllScale,c=a.browseCount,o=a.url,l=a.uploadSubjectScale;return t.AllCount=st(n),t.AllScale=100*st(r),t.UseCount=st(c),t.Url=o?decodeURIComponent(o)+"?lg_tk="+s:"",t.AllSubject=[],l instanceof Array&&l.forEach((function(e){t.AllSubject.push({SubjectName:e.subjectName,SUbjectID:e.subjectID,Scale:100*st(e.subjectScale)})})),console.log(t.Url),{StatusCode:200,Data:Object(m.a)({},t)}}return{StatusCode:400}}))}function el(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userName,a=e.proxy,n=e.semester,r=(e.pageSize,e.pageNum,e.token),s=a+"/admin/getTeacherWork?userName=".concat(t,"&pageNum=",1,"&pageSize=",1e4,"&token=").concat(r,"&semester=").concat(n);return Qt.get({url:s,securityLevel:2,advance:!1}).then((function(e){return e.json()})).then((function(e){if(0===e.code){var t={},a=200;if(e.data&&e.data.data instanceof Array&&e.data.data.length>0){var n=e.data.data[0],r=n.administrativeClassNum,s=n.classNum,c=n.invigilationNum,o=n.scheduleCount;t=[st(o),st(r),st(s),st(c)]}else a=40001;return{StatusCode:a,Data:t}}return{StatusCode:400}}))}function tl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userID,a=(e.baseIP,Vo+"/Statistics/Basic/GetResearchByUserID?UserID=".concat(t));return Qt.get({url:a,securityLevel:2}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode&&e.Data?{StatusCode:e.StatusCode,Data:[e.Data.ProjectCount,e.Data.CompletedCount,e.Data.ActivityCount]}:{StatusCode:400}}))}function al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userID,a=(e.baseIP,Vo+"/Statistics/Basic/GetDevelopmentHistory?UserID=".concat(t));return Qt.get({url:a,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200===e.StatusCode&&e.Data instanceof Array){var t=e.Data.map((function(e,t){return Object(m.a)({title:e.ChangeDetail,time:e.ChangeTime},e)}));return{StatusCode:e.StatusCode,Data:t}}return{StatusCode:400}}))}function nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userID,a=(e.baseIP,Vo+"/Statistics/Basic/GetLogInfoByUserID?UserID=".concat(t));return Qt.get({url:a,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200===e.StatusCode&&e.Data){var t=[{Time:"06:00~09:00",Count:0},{Time:"09:00~12:00",Count:0},{Time:"12:00~15:00",Count:0},{Time:"15:00~18:00",Count:0},{Time:"18:00~21:00",Count:0},{Time:"21:00~23:59",Count:0}];t[0].Count=e.Data.T0609||0,t[1].Count=e.Data.T0912||0,t[2].Count=e.Data.T1215||0,t[3].Count=e.Data.T1518||0,t[4].Count=e.Data.T1821||0,t[5].Count=e.Data.T2124||0;var a=e.Data,n=a.TimeSpan,r=a.DayAvgTimeSpan,s=a.AvgLoginTimeSpan;return{StatusCode:e.StatusCode,Data:Object(m.a)(Object(m.a)({},e.Data),{},{TimeSpan:ct(parseFloat(n).toFixed(2),"m").Time_En_Low,DayAvgTimeSpan:ct(parseFloat(r).toFixed(2),"m").Time_En_Low,AvgLoginTimeSpan:ct(parseFloat(s).toFixed(2),"m").Time_En_Low,DayTimeList:t,DayOnlineList:[]})}}return{StatusCode:400}}))}function rl(e,t){e.location,e.history;var a=e.roleMsg,s=a.productLevel,c=a.schoolID,o=a.collegeID,l=e.levelHash,i=e.contentHW.height,d=Object(n.useState)(""),f=Object(u.a)(d,2),p=f[0],h=f[1],b=Object(n.useMemo)((function(){return l[s]?l[s]:{productLevel:1,selectLevel:1,title:"",sub:"",belong:"",belondName:""}}),[l,s]),g=Object(n.useState)([{value:"",title:"\u5168\u90e8\u5b66\u6821"}]),y=Object(u.a)(g,2),v=y[0],E=(y[1],Object(n.useState)([{value:"",title:"\u5168\u90e8"+b.sub}])),I=Object(u.a)(E,2),S=I[0],O=I[1],x=Object(n.useState)([{value:"",title:"\u5168\u90e8\u6559\u7814\u5ba4"}]),N=Object(u.a)(x,2),j=N[0],w=N[1],D=Object(n.useState)({}),T=Object(u.a)(D,2),k=T[0],C=T[1],L=Object(n.useState)(""),A=Object(u.a)(L,2),J=A[0],R=A[1],M=Object(n.useState)(""),P=Object(u.a)(M,2),W=P[0],H=P[1],z=Object(n.useState)({keyword:"",schoolID:1===s?"":c,nodeID:"",nodeType:""}),U=Object(u.a)(z,2),B=U[0],F=U[1];Object(n.useEffect)((function(){1!==s&&Zo({collegeID:o,schoolID:c}).then((function(e){200===e.StatusCode&&(console.log(e),O([{value:"",title:"\u5168\u90e8"+b.sub}].concat(Object(yn.a)(e.data[0]))),C(e.data[1]))}))}),[s]);var G=Object(n.useRef)({}),_=Object(n.useMemo)((function(){var e=1040/1200;return[{title:"\u6559\u5e08\u59d3\u540d",key:"UserName",align:"left",width:190*e,sorter:!0,render:function(e){var t=e.UserName,a=e.PhotoPath;return r.a.createElement("span",{className:"table-name",title:t},r.a.createElement("i",{style:{background:"url(".concat(a,")no-repeat center 0/24px")}}),t||"--")}},{title:"\u5de5\u53f7",width:130,sorter:!0,key:"UserID",align:"center",dataIndex:"UserID",render:function(e){return r.a.createElement("span",{className:"table-userid",title:e},e||"--")}},{title:b.belongBefore+b.belong,sorter:!0,align:"center",key:b.belondName,width:130,render:function(e){var t=e[b.belondName];return r.a.createElement("span",{className:"table-belondName",title:t},t||"--")}},{title:"\u6027\u522b",sorter:!0,align:"center",key:"Gender",width:95*e,dataIndex:"Gender",render:function(e){return r.a.createElement("span",{className:"table-Gender",title:e},e||"--")}},{title:"\u6559\u9f84",sorter:!0,key:"TeachAge",align:"center",width:95*e,dataIndex:"TeachAge",render:function(e){return r.a.createElement("span",{className:"table-TeachAge",title:e},e||"--")}},{title:"\u653f\u6cbb\u9762\u8c8c",sorter:!0,key:"PoliticsCode",align:"center",width:104,dataIndex:"Politics",render:function(e){return r.a.createElement("span",{className:"table-Politics",title:e},e||"--")}},{title:"\u6559\u5e08\u804c\u79f0",sorter:!0,key:"TitleCode",align:"center",width:104,dataIndex:"TitleName",render:function(e){return r.a.createElement("span",{className:"table-TitleName",title:e},e||"--")}},{title:"\u8363\u8a89\u79f0\u53f7",align:"center",width:140*e,dataIndex:"HonorNames",render:function(e){return r.a.createElement("span",{className:"table-HonorNames",title:e},e||"--")}},{title:"\u67e5\u770b\u753b\u50cf",align:"center",width:140*e,render:function(e){return r.a.createElement("span",{className:"table-handle"},r.a.createElement("span",{className:" btn-check",onClick:function(){window.open(window.location.search+"#/page/personalDetail/"+e.UserID)}}))}}]}),[b]);return r.a.createElement("div",{className:"PersonalList",style:{height:i}},r.a.createElement("div",{className:"pl-top"},r.a.createElement("div",{className:"plt-select"},1===s?r.a.createElement(Ae,{width:150,height:240,dropList:v,title:"\u5b66\u6821",value:B.schoolID,className:"school-dropdown",onChange:function(e){},onSelect:function(e,t){F(Object(m.a)(Object(m.a)({},B),{},{schoolID:e}))}}):"",1!==s?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{width:150,height:240,dropList:S,title:3===s?"\u5b66\u79d1":"\u6559\u7814\u5ba4",value:J,className:"first-dropdown",onChange:function(e){},onSelect:function(e,t){F(Object(m.a)(Object(m.a)({},B),{},{nodeID:e,nodeType:t.nodeType})),R(e),console.log(k[e],e,k),w(k[e]?k[e]:[{value:"",title:"\u5168\u90e8\u6559\u7814\u5ba4"}])}}),2===s?r.a.createElement(Ae,{width:150,height:240,disabled:""===J,dropList:j,value:W,className:"second-dropdown",onChange:function(e){},onSelect:function(e,t){F(Object(m.a)(Object(m.a)({},B),{},{nodeID:e,nodeType:t.nodeType})),H(e)}}):""):""),r.a.createElement("div",{className:"plt-search"},r.a.createElement(ge,{className:"home-search",Value:p,placeHolder:"\u8f93\u5165\u6559\u5e08\u59d3\u540d/\u5de5\u53f7\u641c\u7d22",onChange:function(e){h(e.target.value)},onClickSearch:function(e){F(Object(m.a)(Object(m.a)({},B),{},{keyword:p}))},onCancelSearch:function(e){h(""),F(Object(m.a)(Object(m.a)({},B),{},{keyword:""}))}}))),r.a.createElement("div",{className:"pl-table"},r.a.createElement(q.Scrollbars,null,r.a.createElement(Qa,{className:"Reacruit-table",columns:_,query:B,onDataChange:function(e){},ref:G,api:Yo}))))}var sl=function(e){var t=e.commonData;return{roleMsg:t.roleMsg,levelHash:t.levelHash,contentHW:t.contentHW}},cl=Object(d.connect)(sl)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(rl))));function ol(e,t){var a=e.id,n=e.BasicWebRootUrl,s=e.roleMsg.identityCode,c=e.contentHW.width;return r.a.createElement("div",{className:"PersonalDetail"},r.a.createElement("iframe",{title:"\u6559\u5e08\u753b\u50cf\u8be6\u60c5",style:{width:c},className:"PersonalDetail-frame",src:n+"/html/userPersona/index.html?headerType=develop&userType=1&userID="+a+"&lg_tk="+_e("token")+"&lg_ic="+s}))}var ll=function(e){var t=e.commonData;return{roleMsg:t.roleMsg,BasicWebRootUrl:t.basePlatFormMsg.BasicWebRootUrl,contentHW:t.contentHW}},il=Object(d.connect)(ll)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(ol))));function ul(e,t){var a=e.location,s=(e.activeTab,e.removeTab,e.tabid,e.contentHW.height),c=e.param,o=Object(n.useState)(""),l=Object(u.a)(o,2),i=l[0],d=l[1],m=Object(n.useState)(""),f=Object(u.a)(m,2),p=f[0],h=f[1];return Object(n.useEffect)((function(){d(c)}),[c]),Object(n.useEffect)((function(){if(a.pathname){var e=Ve(a.pathname);"personalDetail"===e[0]&&e[1]&&h(e[1])}}),[]),r.a.createElement("div",{className:"TeacherPersonal",style:{height:s}},"list"===i?r.a.createElement(cl,null):r.a.createElement(r.a.Fragment,null),"detail"===i?r.a.createElement(il,{id:p}):r.a.createElement(r.a.Fragment,null))}var dl=function(e){var t=e.handleData.teacherRecruitMsg,a=e.commonData;return{teacherRecruitMsg:t,roleMsg:a.roleMsg,contentHW:a.contentHW}},ml=Object(d.connect)(dl)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(ul))));a(1656);function fl(e,t){var a=Object(n.useState)(null),r=Object(u.a)(a,2),s=r[0],c=r[1],o=Object(n.useState)(!1),d=Object(u.a)(o,2),f=d[0],p=d[1];return Object(n.useEffect)((function(){if(t){var a,n={};a=at(e).map(function(){var e=Object(i.a)(l.a.mark((function e(a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),"function"!==typeof a){e.next=7;break}return e.next=4,a(t);case 4:if(200!==(n=e.sent).StatusCode){e.next=7;break}return e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Promise.all(a).then((function(e){e.forEach((function(e){e&&(n=Object(m.a)(Object(m.a)({},n),e))})),c(n),p(!1)}))}}),[e,t]),[s,f]}function pl(e,t){var a=e.className,s=e.width,c=e.searchResult,o=e.api,l=e.overlayStyle,i=e.overlayClassName,d=Object(n.useState)(""),m=Object(u.a)(d,2),f=m[0],p=m[1],h=fl(o,f),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useState)(""),E=Object(u.a)(v,2),I=E[0],S=E[1],O=Object(n.useState)(null),x=Object(u.a)(O,2),N=x[0],j=x[1],w=Object(n.useRef)(null),D=Object(n.useState)(!1),T=Object(u.a)(D,2),k=T[0],C=T[1];return Object(n.useEffect)((function(){j(g)}),[g]),Object(n.useLayoutEffect)((function(){var e=w.current,t=function(t){var a=!1;a=!e.contains(t.target),C(!a)};return document.addEventListener("click",t),function(){document.removeEventListener("click",t)}}),[]),r.a.createElement(de.a,{overlayClassName:"lg-search-box ".concat(i||""),getPopupContainer:function(e){return e},overlayStyle:l||{},color:"#fff",align:{points:["tr","br"],offset:[0,-5],overflow:{adjustX:!0,adjustY:!0}},visible:k,title:r.a.createElement(be,{opacity:!1,spinning:y,tip:"\u8bf7\u7a0d\u5019..."},"function"===typeof c?c(N,f.keyword):c)},r.a.createElement("div",{id:"test",ref:w,className:"lg-search ".concat(a||"")},r.a.createElement(ge,{placeHolder:"\u8f93\u5165\u5173\u952e\u8bcd\u641c\u7d22...",className:"lg-search-in",width:s||180,Value:I,onChange:function(e){S(e.target.value)},onClickSearch:function(e){p({keyword:e.value})},onCancelSearch:function(e){S(""),j({})}})))}var hl=Object(n.memo)(Object(n.forwardRef)(pl));Tt.BasicProxy;a(1657);function bl(e,t){var a=e.data,s=Object(n.useState)(!0),c=Object(u.a)(s,2),o=c[0],l=c[1],i=Object(n.useState)(0),d=Object(u.a)(i,2),m=d[0],f=d[1],p=Object(n.useRef)(null),h=Object(F.e)();return Object(n.useLayoutEffect)((function(){var e=_()(p.current);f(e.outerHeight())}),[a]),r.a.createElement("div",{style:{height:o?m+28:28},className:"search-bar ".concat(o?"search-bar-active":"")},r.a.createElement("p",{className:"bar-main"},r.a.createElement("span",{title:a.title},a.title),r.a.createElement("i",{onClick:function(){l(!o)},className:"bar-handle ".concat(o?"bar-handle-open":"")})),r.a.createElement("div",{ref:p,className:"bar-content"},a.List instanceof Array&&a.List.length>0?a.List.map((function(e,t){return r.a.createElement("div",{className:"bar-content-title",key:t,onClick:function(){"TeacherList"===e.key?window.open(window.location.search+"#/page/personalDetail/"+e.id):h.push("/"+e.tabid+"/"+e.id)},title:e.defaultName},e.name)})):""))}var gl=Object(n.memo)(Object(n.forwardRef)(bl));function yl(e,t){e.className;var a=e.data,s=e.keyword,c=(Object(Y.a)(e,["className","data","keyword"]),Object(n.useState)([])),o=Object(u.a)(c,2),l=o[0],i=o[1],d=Object(n.useState)(!0),f=Object(u.a)(d,2),p=f[0],h=f[1],b={RecruitmentList:{key:"RecruitmentList",title:"\u62db\u8058",tabid:"recruitDetail",idKey:"RID",nameKey:"Title"},SchoolList:{key:"SchoolList",title:"\u5b66\u6821",tabid:"schoolDetail",idKey:"SchoolID",nameKey:"SchoolName"},CollegeList:{key:"CollegeList",title:"\u5b66\u9662",tabid:"schoolDetail",idKey:"CollegeID",nameKey:"CollegeName"},TeacherList:{key:"TeacherList",title:"\u6559\u5e08",tabid:"personalDetail",idKey:"UserID",nameKey:"UserName"},TrainList:{key:"TrainList",title:"\u57f9\u8bad",tabid:"trainDetail",idKey:"TID",nameKey:"Title"}};return Object(n.useEffect)((function(){var e=[],t=!0;if(a&&a instanceof Object){var n=function(n){if(b[n]){var c=[];a[n]instanceof Array&&a[n].forEach((function(e,t){var a=[],o="string"===typeof e[b[n].nameKey]?e[b[n].nameKey].split(s||""):[];o.forEach((function(e,t){a.push(e),o.length-1!==t&&o.length-1!==0&&a.push(r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"search-keyword"},s)))})),c.push(Object(m.a)(Object(m.a)({},e),{},{key:n,id:e[b[n].idKey],name:a,tabid:b[n].tabid,defaultName:e[b[n].nameKey]}))})),e.push(Object(m.a)(Object(m.a)({},b[n]),{},{List:c}))}(!a[n]||a[n]instanceof Array&&0!==a[n].length)&&(t=!1)};for(var c in a)n(c);h(t),i(e)}}),[a,s]),r.a.createElement("div",{className:"frame-search-all-content",style:{height:"300px",width:"402px"}},r.a.createElement(q.Scrollbars,null,p?r.a.createElement(ye,{key:"index",className:"frame-search-empty",type:"4",title:"\u6682\u65e0\u641c\u7d22\u6570\u636e"}):l.map((function(e,t){return e.List.length>0?r.a.createElement(gl,{key:t,data:e}):r.a.createElement(r.a.Fragment,{key:t})}))))}var vl=Object(n.memo)(Object(n.forwardRef)(yl)),El=(a(195),a(517)),Il=a.n(El);function Sl(e,t){var a=e.className,s=e.width,c=e.height,o=(e.title,e.cardid),l=e.btn,i=e.select,d=e.loading,m=e.lock,f=e.data,p=e.component,h=e.userIdentity,b=e.identityCode,g=e.currentTerm,y=e.currentClass,v=e.componentProps,E=sessionStorage.getItem("token"),I=Object(n.useState)(!0),S=Object(u.a)(I,2),O=S[0],x=S[1],N=[{key:"archives",addr:"/student-growth/index.html?lg_tk="+E+"&lg_ic="+b+"#stuStatusMsg"},{key:"classStatus",addr:"/student-growth/index.html?lg_tk="+E+"&lg_ic="+b+"#stuStatusMsg"},{key:"schoolStatus",addr:"/student-growth/index.html?lg_tk="+E+"&lg_ic="+b+"#stuStatusMsg"},{key:"accout",addr:"/student-growth/index.html?lg_tk="+E+"&lg_ic="+b+"#stuConditionMsg"},{key:"gradeRank",addr:"/student-growth/index.html?lg_tk="+E+"&lg_ic="+b+"#stuConditionMsg"},{key:"gradeStatistic",addr:"/student-growth/index.html?lg_tk="+E+"&lg_ic="+b+"#stuConditionMsg"},{key:"teach",addr:"/student-growth/index.html?lg_tk="+E+"&lg_ic="+b+"#healthMsg"},{key:"stuHealth",addr:"/student-growth/index.html?lg_tk="+E+"&lg_ic="+b+"#healthMsg"},{key:"stu-attendance",addr:"/student-growth/index.html?lg_tk="+E+"&lg_ic="+b+"#attendanceMsg"},{key:"information",addr:"/student-growth/index.html?lg_tk="+E+"&lg_ic="+b+"#awardAndPunish"},{key:"work",addr:"/student-growth/index.html?lg_tk="+E+"&lg_ic="+b+"#attendanceMsg"},{key:"history",addr:"/student-growth/index.html?lg_tk="+E+"&lg_ic="+b+"#schoolLiveMsg"}];Object(n.useLayoutEffect)((function(){f&&x(!1)}),[f]);var j="";N.forEach((function(e){e.key==o&&(j=e.addr)}));return r.a.createElement("div",{className:"personal-card ".concat(a||""," ").concat(O?"load":""," ").concat(i===o?"card-select":""),style:{width:s||"100%",cursor:j?"pointer":"default"},onClick:function(e){"BUTTON"!=e.target.nodeName&&j&&window.open(j)}},r.a.createElement("span",{className:"pc-title pc-title-bg ".concat("pc-title-"+o)},r.a.createElement("i",null)),r.a.createElement(be,{spinning:O,opacity:!1,tip:"\u52a0\u8f7d\u4e2d..."},r.a.createElement("div",{className:"pc-content",style:{height:c||"100%"}},d?"":f?m?r.a.createElement(ye,{className:"pc-lock",title:"\u6682\u4e0d\u5f00\u653e\u8be5\u6a21\u5757",type:"3"}):p?r.a.createElement(r.a.Fragment,null,l,r.a.createElement(p,Object.assign({data:f,setLoadVisible:x,userIdentity:h,currentTerm:g,currentClass:y},v))):"":r.a.createElement(ye,{title:"\u6682\u65e0\u6570\u636e",className:"pc-empty",type:"3"}))))}var Ol=Object(n.memo)(Object(n.forwardRef)(Sl)),xl=Tt.BasicProxy;function Nl(e,t){var a=e.className,s=(e.userIdentity,e.data,e.currentTerm,e.currentClass,e.userInfo),c=s.UserID,o=(s.SchoolID,e.setLoadVisible),l=Object(n.useState)({}),i=Object(u.a)(l,2),d=i[0],m=i[1];return Object(n.useLayoutEffect)((function(){if(c){o(!0);var e=xl+"/api/status/student?studentId="+c;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&m(e.data),o(!1)}))}}),[c]),r.a.createElement("div",{className:"card-content card-archives ".concat(a||"")},r.a.createElement("div",{className:"cc-div-box-1"},r.a.createElement("div",{className:"cc-div-box-2 "},r.a.createElement("p",{className:"cc-p-1",title:d.studentName?d.studentName:"--"},d.studentName?d.studentName:"--",r.a.createElement("span",{className:"cc-span-1",title:d.studentId?d.studentId:"--"},"(",d.studentId?d.studentId:"--",")")),r.a.createElement("div",{className:"cc-div-box-1"},r.a.createElement("p",{className:"cc-p-2"},"\u51fa\u751f\u5e74\u6708:",r.a.createElement("span",{className:"cc-span-2",title:d.dateOfBirth?d.dateOfBirth:"--"},d.dateOfBirth?d.dateOfBirth:"--")),r.a.createElement("p",{className:"cc-p-2"},"\u6c11\u65cf:",r.a.createElement("span",{className:"cc-span-2",title:d.nation?d.nation:"--"},d.nation?d.nation:"--")),r.a.createElement("p",{className:"cc-p-2"},"\u6027\u522b:",r.a.createElement("span",{className:"cc-span-2",title:d.gender?d.gender:"--"},d.gender?d.gender:"--"))),r.a.createElement("div",{className:"cc-div-box-1"},r.a.createElement("p",{className:"cc-p-2"},"\u7c4d\u8d2f:",r.a.createElement("span",{className:"cc-span-2",title:d.nativePlace?d.nativePlace:"--"},d.nativePlace?d.nativePlace:"--")),r.a.createElement("p",{className:"cc-p-2"},"\u5f53\u524d\u73ed\u7ea7:",r.a.createElement("span",{className:"cc-span-2",title:d.className?d.className:"--"},d.className?d.className:"--"))),r.a.createElement("div",{className:"cc-div-box-1"},r.a.createElement("p",{className:"cc-p-2",style:{width:"287px"}},"\u8eab\u4efd\u8bc1\u53f7:",r.a.createElement("span",{className:"cc-span-2 IDCardNo",title:d.identityNum?d.identityNum:"--"},d.identityNum?d.identityNum:"--")))),r.a.createElement("div",{className:"ca-photo",style:{background:"url(".concat(d.photoPath,") no-repeat center top/100%  ")}})),r.a.createElement("div",{className:"cc-div-box-1"},r.a.createElement("p",{className:"cc-p-2",style:{width:"287px"}},"\u5bb6\u5ead\u4f4f\u5740:",r.a.createElement("span",{className:"cc-span-2 ",title:d.homeAddress?d.homeAddress:"--"},d.homeAddress?d.homeAddress:"--"))),r.a.createElement("div",{className:"cc-div-box-1"},r.a.createElement("p",{className:"cc-p-2 Telephone"},"\u662f\u5426\u72ec\u751f\u5b50\u5973:",r.a.createElement("span",{className:"cc-span-2",title:d.isOnlychild?d.isOnlychild:"--"},d.isOnlychild?d.isOnlychild:"--")),r.a.createElement("p",{className:"cc-p-2 Telephone"},"\u662f\u5426\u53d7\u8fc7\u5b66\u524d\u6559\u80b2:",r.a.createElement("span",{className:"cc-span-2",title:d.isAcceptpreschool?d.isAcceptpreschool:"--"},d.isAcceptpreschool?d.isAcceptpreschool:"--"))),r.a.createElement("p",{className:"cc-p-2"},"\u662f\u5426\u7559\u5b88\u513f\u7ae5:",r.a.createElement("span",{className:"cc-span-2",title:d.isLeftbehindchild?d.isLeftbehindchild:"--"},d.isLeftbehindchild?d.isLeftbehindchild:"--")))}var jl=function(e){var t=e.commonData;return Object(m.a)({},t)},wl=Object(d.connect)(jl)(Object(n.memo)(Object(n.forwardRef)(Nl))),Dl=Tt.BasicProxy;function Tl(e,t){var a=e.className,s=(e.userIdentity,e.data,e.currentTerm),c=e.currentClass,o=e.userInfo,l=o.UserID,i=o.SchoolID,d=e.setLoadVisible,m=Object(n.useState)({}),f=Object(u.a)(m,2),p=f[0],h=f[1],b=Object(n.useState)([]),g=Object(u.a)(b,2),y=g[0],v=g[1];return Object(n.useLayoutEffect)((function(){if(l&&s.term){d(!0);var e=Dl+"/api/learning2/exam/scoreRank?type=2&studentId=&classId="+c.classId+"&gradeId="+c.gradeId+"&schoolId="+i+"&termId="+s.term+"&examType=2&start="+(s.termStartDate?s.termStartDate:"2021-01-01")+"&end="+(s.termEndDate?s.termEndDate:"2021-03-01");Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&h(e.data)})),e=Dl+"/api/learning2/homework/avgScore?type=2&studentId=&classId="+c.classId+"&gradeId="+c.gradeId+"&schoolId="+i+"&termId="+s.term+"&examType=2&start="+(s.termStartDate?s.termStartDate:"2021-01-01")+"&end="+(s.termEndDate?s.termEndDate:"2021-03-01"),Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&v(e.data),d(!1)}))}}),[c,l,s]),r.a.createElement("div",{className:"card-content card-grade ".concat(a||"")},r.a.createElement("div",{className:"card-grade-left"},r.a.createElement("p",{className:"card-grade-title"},"\u6700\u8fd1\u4e00\u6b21\u8003\u8bd5\u60c5\u51b5:"),r.a.createElement("div",{className:"circle-container"},r.a.createElement("div",{className:"circle green"},"number"==typeof p.score?p.score.toFixed(1):"--"),r.a.createElement("p",null,"\u6211\u7684\u6210\u7ee9")),r.a.createElement("div",{className:"circle-container"},r.a.createElement("div",{className:"circle blue"},"number"==typeof p.classRank?p.classRank:"--"),r.a.createElement("p",null,"\u73ed\u7ea7\u6392\u540d"))),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"card-grade-right"},r.a.createElement("p",{className:"card-grade-title"},"\u6210\u7ee9\u603b\u8bc4:"),r.a.createElement("ul",{className:"subject-grade-list"},r.a.createElement($.a,{autoHeight:!0,autoHeightMax:140},y.map((function(e,t){return r.a.createElement("li",{key:t},e.subjectName,": ",r.a.createElement("span",null,e.score))}))))))}var kl=function(e){var t=e.commonData;return Object(m.a)({},t)},Cl=Object(d.connect)(kl)(Object(n.memo)(Object(n.forwardRef)(Tl)));a(1658);var Ll=Tt.BasicProxy;function Al(e,t){var a=e.className,s=e.userIdentity,c=(e.data,e.currentTerm),o=e.currentClass,l=e.userInfo,i=l.UserID,d=(l.SchoolID,e.setLoadVisible),m=Object(n.useState)([]),f=Object(u.a)(m,2),p=(f[0],f[1],Object(n.useState)({})),h=Object(u.a)(p,2),b=h[0],g=h[1],y=Object(n.useState)({}),v=Object(u.a)(y,2),E=v[0],I=v[1],S=Object(n.useState)({}),O=Object(u.a)(S,2),x=O[0],N=O[1];return Object(n.useLayoutEffect)((function(){if(i&&("teacher"!=s||o.classId)&&("student"!=s||i&&o.classId)){d(!0);var e=Ll+"/api/healthy/leave/sickRecord?studentId="+("student"==s?i:"")+"&classId="+o.classId+"&gradeId="+o.gradeId+"&startDate="+(c.termStartDate?c.termStartDate:"2021-01-01")+"&endDate="+(c.termEndDate?c.termEndDate:"2021-03-01");if(Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&I(e.data)})),e=Ll+"/api/healthy/temperature/dallyHealthyInfo?studentId="+("student"==s?i:"")+"&classId="+o.classId+"&gradeId="+o.gradeId+"&startDate="+(c.termStartDate?c.termStartDate:"2021-01-01")+"&endDate="+(c.termEndDate?c.termEndDate:"2021-03-01"),Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&N(e.data),d(!1)})),"student"!=s){var t=Ll+"/api/healthy/overview?classId="+o.classId+"&gradeId="+o.gradeId+"&studentId="+("student"==s?i:"")+"&startDate="+(c.termStartDate?c.termStartDate:"2021-01-01")+"&endDate="+(c.termEndDate?c.termEndDate:"2021-03-01");Qt.get({url:t,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&g(e.data)}))}if("student"==s){var a=Ll+"/api/healthy/studentHealthInfo?studentId="+i;Qt.get({url:a,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&g(e.data)}))}}}),[o,i]),r.a.createElement("div",{className:"card-content card-health ".concat(a||"")},"student"==s?r.a.createElement("div",{style:{paddingTop:50}},r.a.createElement("p",{className:"info-one"},"\u8eab\u9ad8:",r.a.createElement("span",null,"student"==s?b.height?b.height:"--":"teacher"==s?b.classAverageHeight:"manager"==s?b.gradeAverageHeight:"--")),r.a.createElement("p",{className:"info-one"},"\u4f53\u91cd:",r.a.createElement("span",null,"student"==s?b.weight?b.weight:"--":"teacher"==s?b.classAverageWeight:"manager"==s?b.gradeAverageWeight:"--")),r.a.createElement("p",{className:"info-one"},"BMI:",r.a.createElement("span",null,b.bmiIndex?b.bmiIndex:"--")),r.a.createElement("p",{className:"info-one"},"\u75c5\u5047\u7387:",r.a.createElement("span",null,E.sickRate?E.sickRate.toFixed(1):"--")),r.a.createElement("p",{className:"info-one"},"\u75c5\u5047\u6b21\u6570:",r.a.createElement("span",null,"number"==typeof E.sickRecordCount?E.sickRecordCount:"--")),r.a.createElement("p",{className:"info-one"},"\u6700\u65b0\u4f53\u6e29\u4fe1\u606f:",r.a.createElement("span",null,x.latestAverageTemperature?x.latestAverageTemperature:"--"))):"","student"!=s?r.a.createElement("div",{style:{marginTop:50}},r.a.createElement("div",{className:"circle-container"},r.a.createElement("div",{className:"circle green"},"number"==typeof x.abNormalCount?x.abNormalCount:"--"),r.a.createElement("p",null,"\u4f53\u6e29\u5f02\u5e38\u6b21\u6570")),r.a.createElement("div",{className:"circle-container"},r.a.createElement("div",{className:"circle blue"},x.abNormalRate?x.abNormalRate.toFixed(1):"--"),r.a.createElement("p",null,"\u5f02\u5e38\u4f53\u6e29\u7387")),r.a.createElement("div",{className:"circle-container"},r.a.createElement("div",{className:"circle violet"},"number"==typeof E.sickRecordCount?E.sickRecordCount:"--"),r.a.createElement("p",null,"\u75c5\u5047\u6b21\u6570")),r.a.createElement("div",{className:"circle-container"},r.a.createElement("div",{className:"circle brown"},E.sickRate?parseInt(100*E.sickRate):"--"),r.a.createElement("p",null,"\u75c5\u5047\u7387"))):"",r.a.createElement("div",{style:{marginBottom:40}}))}var Jl=function(e){var t=e.commonData;return Object(m.a)({},t)},Rl=Object(d.connect)(Jl)(Object(n.memo)(Object(n.forwardRef)(Al))),Ml=Tt.BasicProxy;function Pl(e,t){var a=e.className,s=e.userIdentity,c=(e.data,e.currentTerm),o=e.currentClass,l=e.userInfo,i=l.UserID,d=l.SchoolID,m=e.setLoadVisible,f=Object(n.useState)({}),p=Object(u.a)(f,2),h=p[0],b=(p[1],Object(n.useState)({})),g=Object(u.a)(b,2),y=g[0],v=g[1];return Object(n.useLayoutEffect)((function(){if(("manager"==s||o.classId)&&c.termStartDate&&c.termEndDate){m(!0);var e=Ml+"/api/attendance/attendance/times?type="+("student"==s?1:"teacher"==s?2:4)+"&studentId="+i+"&classId="+o.classId+"&gradeId="+o.gradeId+"&schoolId="+d+"&statisticalType=1&start="+(c.termStartDate?c.termStartDate:"2021-01-01")+"&end="+(c.termEndDate?c.termEndDate:"2021-03-01");Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&v(e.data),m(!1)}))}}),[o,c,i]),r.a.createElement("div",{className:"card-content card-attendance ".concat(a||"")},y.avgAbsentRate||"number"==typeof h.vacateTimes?r.a.createElement("div",null,r.a.createElement("div",{className:"card-attendance-left"},r.a.createElement("div",{className:"out-circle"},r.a.createElement(Wn.a,{type:"circle",strokeWidth:"8",strokeColor:{"0%":"#0A8EF6","50%":"#00FFF6","100%":"#0A8EF6"},trailColor:"#08474F",percent:parseInt(Number(y.avgAttendanceRateResult.replace("%",""))),width:97,format:function(e){return e},className:"progress"}),r.a.createElement("p",null,"manager"==s?"\u5168\u6821":"","\u51fa\u52e4\u7387"))),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"card-attendance-right"},r.a.createElement("div",{className:"askleave-info"},r.a.createElement("p",{className:"count"},r.a.createElement("span",null,"number"==typeof y.vacateTimes?y.vacateTimes:"--"),"\u6b21"),r.a.createElement("p",null,"\u8bf7\u5047\u6b21\u6570")),r.a.createElement("div",{className:"late-info"},r.a.createElement("p",{className:"count"},r.a.createElement("span",null,"number"==typeof y.lateTimes?y.lateTimes:"--"),"\u6b21"),r.a.createElement("p",null,"\u8fdf\u5230\u6b21\u6570")),r.a.createElement("div",{className:"badback-info"},r.a.createElement("p",{className:"count"},r.a.createElement("span",null,"number"==typeof y.leaveEarlyTimes?y.leaveEarlyTimes:"--"),"\u6b21"),r.a.createElement("p",null,"\u65e9\u9000\u6b21\u6570")))):r.a.createElement(ye,{title:"\u6682\u65e0\u6570\u636e",className:"pc-empty",type:"3"}))}var Wl=function(e){var t=e.commonData;return Object(m.a)({},t)},Hl=Object(d.connect)(Wl)(Object(n.memo)(Object(n.forwardRef)(Pl)));function zl(e,t){var a=e.className,n=e.userIdentity,s=e.data,c=!1;if(0==s.length&&(c=!0),s.length<5){s=s.concat(["","","","",""].slice(0,5-s.length))}return s.forEach((function(e){if(s.eventType)if("student"==n){var t={time:s.eventTime,content:s.eventName?1==s.eventType?"\u83b7\u5f97"+s.eventName:(s.eventReason?"\u56e0\u4e3a"+s.eventReason:"")+"\u53d7\u5230"+s.eventName:"",eventType:s.eventType};[].push(t)}else{var a={time:s.eventTime,content:s.eventName?1==s.eventType?s.userName+"\u83b7\u5f97"+s.eventName:s.userName+(s.eventReason?"\u56e0\u4e3a"+s.eventReason:"")+"\u53d7\u5230"+s.eventName:"",eventType:s.eventType};[].push(a)}if(s.times){var r="";"student"!=n?(s.late&&(r+="\u8fdf\u5230\u4eba\u6570"+s.late+"\u4eba\uff0c"),s.absent&&(r+="\u7f3a\u52e4\u4eba\u6570"+s.absent+"\u4eba\uff0c"),s.leaveEarly&&(r+="\u65e9\u9000\u4eba\u6570"+s.leaveEarly+"\u4eba\uff0c"),s.vacate&&(r+="\u8bf7\u5047\u4eba\u6570"+s.vacate+"\u4eba")):(s.late&&(r+="\u8fdf\u5230"+s.late+"\u6b21\uff0c"),s.absent&&(r+="\u7f3a\u52e4"+s.absent+"\u6b21\uff0c"),s.leaveEarly&&(r+="\u65e9\u9000"+s.leaveEarly+"\u6b21\uff0c"),s.vacate&&(r+="\u8bf7\u5047"+s.vacate+"\u6b21")),"\uff0c"==r[r.length-1]&&(r=r.substr(0,r.length-1));var c={time:s.date,content:r};[].push(c)}})),r.a.createElement("div",{className:"card-content card-history ".concat(a||"")},c?r.a.createElement(ye,{title:"\u6682\u65e0\u6570\u636e",className:"pc-empty",type:"3"}):r.a.createElement(q.Scrollbars,{className:"ch-scrollbars"},r.a.createElement("div",{className:"ch-dot-box"},s.map((function(e,t){var a=[];0===t&&a.push("dot"),a=a.concat([e?"active":"dot","dot","dot","dot"]),t===s.length-1&&(a=a.concat(["dot","dot","dot","dot"]));var c="";return e.eventType&&(c="student"==n?e.eventName?1==e.eventType?"\u83b7\u5f97"+e.eventName:(e.eventReason?"\u56e0\u4e3a"+e.eventReason:"")+"\u53d7\u5230"+e.eventName:"":e.eventName?1==e.eventType?e.userName+"\u83b7\u5f97"+e.eventName:e.userName+(e.eventReason?"\u56e0\u4e3a"+e.eventReason:"")+"\u53d7\u5230"+e.eventName:""),e.times&&("student"!=n?(e.late&&(c+="\u8fdf\u5230\u4eba\u6570"+e.late+"\u4eba\uff0c"),e.absent&&(c+="\u7f3a\u52e4\u4eba\u6570"+e.absent+"\u4eba\uff0c"),e.leaveEarly&&(c+="\u65e9\u9000\u4eba\u6570"+e.leaveEarly+"\u4eba\uff0c"),e.vacate&&(c+="\u8bf7\u5047\u4eba\u6570"+e.vacate+"\u4eba")):(e.late&&(c+="\u8fdf\u5230"+e.late+"\u6b21\uff0c"),e.absent&&(c+="\u7f3a\u52e4"+e.absent+"\u6b21\uff0c"),e.leaveEarly&&(c+="\u65e9\u9000"+e.leaveEarly+"\u6b21\uff0c"),e.vacate&&(c+="\u8bf7\u5047"+e.vacate+"\u6b21")),"\uff0c"==c[c.length-1]&&(c=c.substr(0,c.length-1))),r.a.createElement(r.a.Fragment,{key:t},a.map((function(t,a){return"active"===t?r.a.createElement("div",{key:a,className:" ch-dot ch-dot-active"},r.a.createElement("span",{className:"ch-dot-polo"},r.a.createElement("div",{className:"ch-content"},r.a.createElement("p",{className:"ch-content-time",title:e.date||e.eventTime},e.date||e.eventTime),r.a.createElement("p",{className:"ch-content-title",title:c},c)))):r.a.createElement("span",{key:a,className:"ch-dot"})})))})))))}var Ul=Object(n.memo)(Object(n.forwardRef)(zl)),Bl=Tt.BasicProxy;function Fl(e,t){var a=e.className,s=e.userIdentity,c=(e.data,e.currentTerm),o=e.currentClass,l=e.userInfo.UserID,i=e.setLoadVisible,d=Object(n.useState)([]),m=Object(u.a)(d,2),f=m[0],p=m[1],h=Object(n.useState)([]),b=Object(u.a)(h,2),g=b[0],y=b[1],v={1:"\u4e00\u7b49\u5956",2:"\u4e8c\u7b49\u5956",3:"\u4e09\u7b49\u5956","-1":"\u5176\u4ed6"},E={1:"\u6821\u7ea7",2:"\u533a\u7ea7",3:"\u5e02\u7ea7",4:"\u7701\u7ea7",5:"\u56fd\u5bb6\u7ea7","-1":"\u5176\u4ed6"};Object(n.useLayoutEffect)((function(){if(c&&l&&("teacher"!=s||o.classId)&&"manager"!=s){i(!0);var e="";e="student"==s?Bl+"/api/punishAndReward/rewards/list?studentId="+l+"&startDate="+(c.termStartDate?c.termStartDate:"")+"&endDate="+(c.termEndDate?c.termEndDate:""):Bl+"/api/punishAndReward/rewards/list?studentId=&classId="+o.classId+"&gradeId="+o.gradeId+"&startDate="+(c.termStartDate?c.termStartDate:"")+"&endDate="+(c.termEndDate?c.termEndDate:""),Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)?p(e.data):p(!1),i(!1)})),e=Bl+"/api/punishAndReward/punishment/list?studentId="+("student"==s?l:"")+"&classId="+o.classId+"&gradeId="+o.gradeId+"&startDate="+(c.termStartDate?c.termStartDate:"2021-01-01")+"&endDate="+(c.termEndDate?c.termEndDate:"2021-03-01"),Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&y(e.data),i(!1)}))}}),[s,c]),Object(n.useLayoutEffect)((function(){if(c&&"manager"==s){i(!0);var e=Bl+"/api/punishAndReward/rewards/leader/list?classId="+o.classId+"&gradeId="+o.gradeId+"&startDate="+(c.termStartDate?c.termStartDate:"2021-01-01")+"&endDate="+(c.termEndDate?c.termEndDate:"2021-03-01");Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)?p(e.data):p(!1)})),e=Bl+"/api/punishAndReward/punishment/leader/list?classId="+o.classId+"&gradeId="+o.gradeId+"&startDate="+(c.termStartDate?c.termStartDate:"2021-01-01")+"&endDate="+(c.termEndDate?c.termEndDate:"2021-03-01"),Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&y(e.data),i(!1)}))}}),[s,c]);var I=[],S=[];Array.isArray(f)&&f.forEach((function(e,t){S.push(e),(t+1)%5!=0&&t!=f.length-1||(I.push(S),S=[])}));var O=[];Array.isArray(f)&&f.forEach((function(e){O.push(E[e.awardLevel?e.awardLevel:-1])})),O=Object(yn.a)(new Set(O));var x=[];O.forEach((function(e){var t=0;f.forEach((function(a){E[e.awardLevel?e.awardLevel:-1]==e&&t++}));var a={key:e,num:t};x.push(a)}));var N=[];Array.isArray(g)&&g.forEach((function(e){N.push(E[e.punishmentLevel?e.punishmentLevel:-1])})),N=Object(yn.a)(new Set(N));var j=[];return N.forEach((function(e){var t=0;g.forEach((function(a){E[a.punishmentLevel?a.punishmentLevel:-1]==e&&t++}));var a={key:e,num:t};j.push(a)})),r.a.createElement("div",{className:"card-content card-award-punish ".concat(a||"")},0==f.length&&0==g?r.a.createElement(ye,{title:"\u6682\u65e0\u6570\u636e",className:"pc-empty",type:"3"}):r.a.createElement("div",null,r.a.createElement(Cn.a,{dots:{className:"personal-award-dot"}},I.map((function(e,t){return r.a.createElement("div",{className:"award-list",key:t},e.map((function(e,t){return r.a.createElement("div",{className:"award-one",key:t},r.a.createElement("i",{className:"awardlogo "+(5==e.awardLevel||1==e.awardClass?"award-1":4==e.awardLevel||2==e.awardClass?"award-2":3==e.awardLevel||3==e.awardClass?"award-3":"")}),r.a.createElement("p",{title:e.awardLevelName+e.awardName},e.awardLevelName+e.awardName),r.a.createElement("p",{title:v[e.awardClass]},v[e.awardClass]),"manager"==s?r.a.createElement("p",{title:e.studentName,style:{color:"#ff6600"}},"[",e.studentName,"]"):"")})))}))),r.a.createElement("div",{className:"award-info"},r.a.createElement("p",{className:"award-sum"},"\u76ee\u524d\u5df2\u6709\u5956\u9879:",r.a.createElement("span",null,f.length)),r.a.createElement(Cn.a,{dots:{className:"award-info-dot"}},r.a.createElement("ul",{className:"award-info-list"},x.map((function(e,t){return r.a.createElement("li",{key:t},e.key,"\u6b21\u6570:",r.a.createElement("span",null,e.num,"\u6b21"))}))))),r.a.createElement("div",{className:"punish-info"},r.a.createElement("p",{className:"punish-sum"},"\u76ee\u524d\u5904\u7f5a\u6b21\u6570:",r.a.createElement("span",null,g.length)),r.a.createElement(Cn.a,{dots:{className:"punish-info-dot"}},r.a.createElement("ul",{className:"punish-info-list"},j.map((function(e,t){return r.a.createElement("li",{key:t},e.key,"\u6b21\u6570:",r.a.createElement("span",null,e.num,"\u6b21"))})))))))}var Gl=function(e){var t=e.commonData;return Object(m.a)({},t)},_l=Object(d.connect)(Gl)(Object(n.memo)(Object(n.forwardRef)(Fl)));function Vl(e){var t=e.className,a=e.type,n=e.title,s=e.onClick,c=e.children;return r.a.createElement("span",{className:"card-linkbtn ".concat(t||""," ").concat(a&&"card-linkbtn-"+a),onClick:s},c||n)}var Yl=Vl,Zl=(a(1778),a(1779),Tt.BasicProxy);function Ql(e,t){var a=e.className,s=e.userIdentity,c=(e.data,e.currentTerm),o=e.currentClass,l=e.userInfo,i=l.UserID,d=l.SchoolID,m=e.setLoadVisible,f=Object(n.useState)({}),p=Object(u.a)(f,2),h=p[0],b=p[1];return Object(n.useLayoutEffect)((function(){if(i&&c.term&&("manager"==s||o.classId)){m(!0);var e=Zl+"/api/learning2/comprehensive?type=1&studentId="+i+"&classId="+o.classId+"&gradeId="+o.gradeId+"&schoolId="+d+"&termId="+c.term;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&b(e.data),m(!1)}))}}),[o,i,c]),Object(n.useEffect)((function(){var e=[],t=[];if(Array.isArray(h.qualityItemList)&&0!=h.qualityItemList.length){h.qualityItemList.forEach((function(a){var n={text:a.itemName};e.push(n),"A"==a.rank||"B"==a.rank||"C"==a.rank?t.push(10):t.push(40)}));var a=nn.a.init(document.getElementById("evaluate-echart"));a.resize();var n={grid:{top:0,bottom:0,left:30,right:30,containLabel:!0},tooltip:{trigger:"item",appendToBody:!0,formatter:function(e){var t=e.name+"<br/>";return console.log(e),h.qualityItemList.forEach((function(a){t+=e.marker+a.itemName+": "+a.rank+"<br/>"})),t}},radar:[{indicator:e,center:["50%","55%"],radius:80,startAngle:90,splitNumber:5,shape:"circle",name:{textStyle:{color:"#999999"}},splitArea:{areaStyle:{color:["rgba(15,136,139,0.5)","rgba(15,136,139,0.4)","rgba(15,136,139,0.3)","rgba(15,136,139,0.2)","rgba(15,136,139,0.1)"],shadowColor:"rgba(0, 0, 0, 0.3)",shadowBlur:10}},axisLine:{lineStyle:{color:"rgba(15,136,139,0.2)"}},splitLine:{show:!1}}],series:[{name:"\u96f7\u8fbe\u56fe",type:"radar",emphasis:{lineStyle:{width:2}},data:[{value:t,name:"\u7efc\u5408\u8bc4\u4ef7",symbol:"circle",symbolSize:5,itemStyle:{color:"#52d8d7"},lineStyle:{color:"#39ADAE"}}]}]};a.setOption(n),window.addEventListener("resize",(function(){a.resize()}))}}),[h]),r.a.createElement("div",{className:"card-content card-evaluate ".concat(a||"")},Array.isArray(h.qualityItemList)&&0!=h.qualityItemList.length?r.a.createElement("div",{className:"evaluate-echart",id:"evaluate-echart"}):r.a.createElement(ye,{title:"\u6682\u65e0\u6570\u636e",className:"pc-empty",type:"3"}))}var Xl=function(e){var t=e.commonData;return Object(m.a)({},t)},Kl=Object(d.connect)(Xl)(Object(n.memo)(Object(n.forwardRef)(Ql))),ql=Tt.BasicProxy;function $l(e){var t=e.className,a=(e.userIdentity,e.data,e.currentTerm,e.currentClass),s=e.userInfo,c=s.UserID,o=(s.SchoolID,s.UserName),l=e.setLoadVisible,i=Object(n.useState)({}),d=Object(u.a)(i,2),m=d[0],f=d[1];return Object(n.useLayoutEffect)((function(){if(l(!0),c&&a.classId){var e=ql+"/api/status/class?classId="+a.classId;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&f(e.data),l(!1)}))}}),[a]),r.a.createElement("div",{className:"card-content card-class-status ".concat(t||"")},r.a.createElement("div",{className:"img-container"},r.a.createElement("div",{className:"class-bg"})),r.a.createElement("p",{style:{marginTop:5}},"\u603b\u4eba\u6570:",r.a.createElement("span",{title:"number"==typeof m.classSize?m.classSize:"--"},"number"==typeof m.classSize?m.classSize:"--","\u4eba")),r.a.createElement("p",null,"\u73ed\u4e3b\u4efb:",r.a.createElement("span",{title:o},o)),r.a.createElement("p",{style:{marginTop:13}},"\u7537\u751f\u4eba\u6570:",r.a.createElement("span",{title:"number"==typeof m.maleNum?m.maleNum:"--"},"number"==typeof m.maleNum?m.maleNum:"--","\u4eba")),r.a.createElement("p",null,"\u5973\u751f\u4eba\u6570:",r.a.createElement("span",{title:"number"==typeof m.femaleNum?m.femaleNum:"--"},"number"==typeof m.femaleNum?m.femaleNum:"--","\u4eba")))}var ei=function(e){var t=e.commonData;return Object(m.a)({},t)},ti=Object(d.connect)(ei)(Object(n.memo)(Object(n.forwardRef)($l))),ai=Tt.BasicProxy;function ni(e){var t=e.className,a=(e.userIdentity,e.data,e.currentTerm,e.currentClass,e.userInfo),s=(a.UserID,a.SchoolID),c=(a.UserName,e.setLoadVisible),o=Object(n.useState)({}),l=Object(u.a)(o,2),i=l[0],d=l[1],m=Object(n.useState)({}),f=Object(u.a)(m,2),p=f[0],h=f[1];return Object(n.useLayoutEffect)((function(){if(s){c(!0);var e=ai+"/api/status/school?schoolId="+s;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&d(e.data)})),e=ai+"/api/base/getSchoolLeader?schoolId="+s+"&position=0",Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&h(e.data),c(!1)}))}}),[s]),r.a.createElement("div",{className:"card-content card-class-status ".concat(t||"")},r.a.createElement("div",{className:"img-container"},r.a.createElement("div",{className:"school-bg"})),r.a.createElement("p",{style:{marginTop:5}},"\u603b\u4eba\u6570:",r.a.createElement("span",null,"number"==typeof i.schoolSize?i.schoolSize:"--","\u4eba")),r.a.createElement("p",null,"\u6821\u957f:",r.a.createElement("span",null,p[0]?p[0].userName:"--")),r.a.createElement("p",{style:{marginTop:13}},"\u7537\u751f\u4eba\u6570:",r.a.createElement("span",null,"number"==typeof i.maleNum?i.maleNum:"--","\u4eba."),i.schoolSize?(i.maleNum/i.schoolSize*100).toFixed(1)+"%":"--"),r.a.createElement("p",null,"\u5973\u751f\u4eba\u6570:",r.a.createElement("span",null,"number"==typeof i.femaleNum?i.femaleNum:"--","\u4eba."),i.schoolSize?(i.femaleNum/i.schoolSize*100).toFixed(1)+"%":"--"),r.a.createElement("p",{className:"class-remark"},r.a.createElement("span",{className:"remark-name"},"\u5b66\u6821\u6807\u8bed:"),r.a.createElement("span",{className:"remark-content"},"--")))}var ri=function(e){var t=e.commonData;return Object(m.a)({},t)},si=Object(d.connect)(ri)(Object(n.memo)(Object(n.forwardRef)(ni))),ci=Tt.BasicProxy;function oi(e){var t=e.className,a=e.userIdentity,s=(e.data,e.currentTerm),c=e.currentClass,o=(e.currentGrade,e.userInfo),l=o.UserID,i=o.SchoolID,d=e.setLoadVisible,m=Object(n.useState)({}),f=Object(u.a)(m,2),p=f[0],h=f[1];return Object(n.useLayoutEffect)((function(){if(l&&s.term){d(!0);var e=ci+"/api/learning2/comprehensive?type="+("teacher"==a?2:"student"==a?1:4)+"&studentId="+l+"&classId="+c.classId+"&gradeId="+c.gradeId+"&schoolId="+i+"&termId="+s.term;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&h(e.data),d(!1)}))}}),[c,l,s]),r.a.createElement("div",{className:"card-content card-class-attainment ".concat(t||"")},r.a.createElement("p",{className:"card-title"},Array.isArray(p.qualityItemList)&&p.qualityItemList.length>0?s.term:""),Array.isArray(p.qualityItemList)&&p.qualityItemList.length>0?p.qualityItemList.map((function(e,t){return r.a.createElement("div",{className:"circle-container",key:t},r.a.createElement("div",{className:"circle "+("A"==e.rank?"green":"B"==e.rank?"blue":"C"==e.rank?"violet":"brown")},e.rank?e.rank:"--"),r.a.createElement("p",{title:e.itemName},e.itemName))})):r.a.createElement(ye,{title:"\u6682\u65e0\u6570\u636e",className:"pc-empty",type:"3"}))}var li=function(e){var t=e.commonData;return Object(m.a)({},t)},ii=Object(d.connect)(li)(Object(n.memo)(Object(n.forwardRef)(oi))),ui=Tt.BasicProxy;function di(e){var t=e.className,a=(e.userIdentity,e.data,e.currentTerm),s=e.currentClass,c=e.userInfo,o=c.UserID,l=c.SchoolID,i=e.setLoadVisible,d=Object(n.useState)({}),m=Object(u.a)(d,2),f=m[0],p=m[1],h=Object(n.useState)([]),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useState)([]),E=Object(u.a)(v,2),I=E[0],S=E[1];return Object(n.useLayoutEffect)((function(){if(o&&a.term){i(!0);var e=ui+"/api/learning2/exam/scoreRank?type=2&studentId=&classId="+s.classId+"&gradeId="+s.gradeId+"&schoolId="+l+"&termId="+a.term+"&examType=2&start="+(a.termStartDate?a.termStartDate:"2021-01-01")+"&end="+(a.termEndDate?a.termEndDate:"2021-03-01");Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&p(e.data)})),e=ui+"/api/learning2/homework/avgScore?type=2&studentId=&classId="+s.classId+"&gradeId="+s.gradeId+"&schoolId="+l+"&termId="+a.term+"&examType=2&start="+(a.termStartDate?a.termStartDate:"2021-01-01")+"&end="+(a.termEndDate?a.termEndDate:"2021-03-01"),Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&y(e.data)})),e=ui+"/api/learning2/rank?type=2&classId="+s.classId+"&gradeId="+s.gradeId+"&schoolId="+l+"&termId="+a.term+"&start="+(a.termStartDate?a.termStartDate:"2021-01-01")+"&end="+(a.termEndDate?a.termEndDate:"2021-03-01"),Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(e.data.forEach((function(e){-1!=e.rankType.indexOf("\u8003\u8bd5")&&S(e.learningRankListList)})),i(!1))}))}}),[s,o,a]),r.a.createElement("div",{className:"card-content card-class-rank ".concat(t||"")},r.a.createElement("div",{className:"class-rank-top"},r.a.createElement("div",{className:"sum-rank"},r.a.createElement("div",{className:"rank-num"},f.gradeRank?f.gradeRank:"--"),r.a.createElement("p",null,"\u73ed\u7ea7\u603b\u5206\u6392\u540d")),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("ul",{className:"subject-rank-list"},r.a.createElement(q.Scrollbars,{autoHeight:!0,autoHeightMax:80,renderThumbVertical:function(e){return r.a.createElement("div",Object.assign({},e,{className:"thumb-vertical"}))}},g.map((function(e,t){return r.a.createElement("li",{key:t},e.subjectName,"\u5206\u6570:",r.a.createElement("span",{className:"grade-rank"},e.score))}))))),r.a.createElement("div",{className:"class-rank-bottom"},r.a.createElement("div",{className:"table-head"},r.a.createElement("div",{className:"table-th th-name",style:{width:"50%"}},"\u59d3\u540d"),r.a.createElement("div",{className:"table-th",style:{width:"20%"}},"\u603b\u5206"),r.a.createElement("div",{className:"table-th",style:{width:"30%"}},"\u6392\u540d")),r.a.createElement(q.Scrollbars,{autoHeight:!0,autoHeightMax:125,renderThumbVertical:function(e){return r.a.createElement("div",Object.assign({},e,{className:"thumb-vertical"}))}},I.map((function(e,t){return r.a.createElement("div",{className:"stu-rank-list",key:t},r.a.createElement("div",{className:"stu-name",style:{width:"50%"}},r.a.createElement("img",{src:e.photo}),e.name),r.a.createElement("div",{className:"stu-sum",style:{width:"20%"}},e.score),r.a.createElement("div",{className:"stu-class-rank",style:{width:"30%"}},e.rank))})))))}var mi=function(e){var t=e.commonData;return Object(m.a)({},t)},fi=Object(d.connect)(mi)(Object(n.memo)(Object(n.forwardRef)(di))),pi=Tt.BasicProxy;function hi(e){var t=e.className,a=(e.userIdentity,e.data,e.currentTerm),s=e.currentClass,c=e.userInfo,o=c.UserID,l=c.SchoolID,i=e.setLoadVisible,d=Object(n.useState)([]),m=Object(u.a)(d,2),f=m[0],p=m[1];return Object(n.useLayoutEffect)((function(){if(o&&a.term){i(!0);var e=pi+"/api/learning2/exam/scoreRank/batch?type=3&schoolId="+l+"&termId="+a.term+"&examType=2&start="+(a.termStartDate?a.termStartDate:"2021-01-01")+"&end="+(a.termEndDate?a.termEndDate:"2021-03-01");Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&p(e.data),i(!1)}))}}),[s,o,a]),r.a.createElement("div",{className:"card-content card-grade-rank ".concat(t||"")},r.a.createElement(q.Scrollbars,{autoHeight:!0,autoHeightMax:360,renderThumbVertical:function(e){return r.a.createElement("div",Object.assign({},e,{className:"thumb-vertical"}))}},f.map((function(e,t){var a=0;return e.examScoreAndRankList.forEach((function(e){"\u603b\u5206"==e.subject&&"\u671f\u672b"==e.examName&&(a=e.score),a||"\u603b\u5206"!=e.subject||"\u671f\u4e2d"!=e.examName||(a=e.score)})),r.a.createElement("div",{className:"grade-info-one",key:t},r.a.createElement("p",{className:"grade-title"},e.gradeName,":"),r.a.createElement("div",{className:"grade-detail"},r.a.createElement("div",{className:"detail-left"},r.a.createElement("p",{className:"sum-avg"},a),r.a.createElement("p",null,"\u603b\u5206\u5e73\u5747\u5206")),r.a.createElement("div",{className:"slice-line"}),r.a.createElement("div",{className:"detail-right"},r.a.createElement("ul",{className:"grade-class-list"},r.a.createElement(q.Scrollbars,{autoHeight:!0,autoHeightMax:128,renderThumbVertical:function(e){return r.a.createElement("div",Object.assign({},e,{className:"thumb-vertical"}))}},e.examScoreAndRankList.map((function(e,t){if("\u603b\u5206"!=e.subject)return r.a.createElement("li",{key:t},r.a.createElement("i",{className:"ranklogo"}),r.a.createElement("span",{className:"class-name"},e.subject),r.a.createElement("span",{className:"rank-score"},"\u5e73\u5747\u5206:",e.score))})))))))}))))}var bi=function(e){var t=e.commonData;return Object(m.a)({},t)},gi=Object(d.connect)(bi)(Object(n.memo)(Object(n.forwardRef)(hi)));var yi=Tt.BasicProxy;function vi(e,t){var a=this,s=e.className,c=(e.history,e.location,e.basePlatFormMsg),o=e.teachermsg,l=e.teacherid,i=e.token,d=e.roleMsg,f=d.identityCode,p=d.userType,h=e.userInfo,b=h.UserID,g=(h.UserType,h.SchoolID),y=h.Gender,v=h.UserName,E=h.Sign;Object(Y.a)(e,["className","history","location","basePlatFormMsg","teachermsg","teacherid","token","roleMsg","userInfo"]);console.log("\u9996\u9875",e);var I=sessionStorage.getItem("UserInfo")?JSON.parse(sessionStorage.getItem("UserInfo")):{};b||(b=I.UserID),g||(g=I.SchoolID);var S="manager";"IC0010"==f&&(S="manager"),"IC0013"!=f&&"IC0011"!=f&&"IC0012"!=f||(S="teacher"),"IC0014"!=f&&"IC0015"!=f||(S="student"),Object(n.useLayoutEffect)((function(){if(!sessionStorage.getItem("isReload")){var e=yi+"/api/base/getServerInfo?sysIds=850";Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&e.data){var t=e.data.webSvrAddr;"IC0014"==f?Il()(t,"270","270001",b):"IC0015"==f?Il()(t,"270","270002",b):Il()(t,"270","270003",b),sessionStorage.setItem("isReload",!0)}}))}}),[]);var O=Object(n.useState)(!1),x=Object(u.a)(O,2),N=x[0],j=(x[1],Object(n.useState)(null)),w=Object(u.a)(j,2),D=w[0],T=w[1],k=Object(n.useState)(!1),C=Object(u.a)(k,2),L=C[0],A=C[1],J=Object(n.useState)("full"),R=Object(u.a)(J,2),M=R[0],P=R[1],W=Object(n.useState)(null),H=Object(u.a)(W,2),z=(H[0],H[1]),U=Object(n.useRef)(null),B=Object(n.useState)(!0),F=Object(u.a)(B,2),G=F[0],V=F[1],Z=Object(n.useState)(!1),Q=Object(u.a)(Z,2),X=(Q[0],Q[1],Object(n.useState)(!1)),K=Object(u.a)(X,2),q=K[0],ee=K[1],te=Object(n.useState)(null),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1],se=Object(n.useState)(null),ce=Object(u.a)(se,2),oe=ce[0],le=ce[1],ie=Object(n.useState)(null),ue=Object(u.a)(ie,2),de=(ue[0],ue[1]),me=Object(n.useState)(null),fe=Object(u.a)(me,2),pe=(fe[0],fe[1]),he=Object(n.useState)(null),ge=Object(u.a)(he,2),ye=(ge[0],ge[1]),ve=Object(n.useState)(null),Ee=Object(u.a)(ve,2),Ie=(Ee[0],Ee[1],Object(n.useState)(null)),Se=Object(u.a)(Ie,2),Oe=Se[0],xe=Se[1],Ne=Object(n.useState)(null),je=Object(u.a)(Ne,2),we=je[0],De=je[1],Te=Object(n.useState)(null),ke=Object(u.a)(Te,2),Ce=ke[0],Le=ke[1],Ae=Object(n.useState)(null),Je=Object(u.a)(Ae,2),Re=Je[0],Me=Je[1],Pe=Object(n.useState)(null),We=Object(u.a)(Pe,2),He=(We[0],We[1]),ze=Object(n.useState)(null),Ue=Object(u.a)(ze,2),Be=Ue[0],Fe=Ue[1],Ge=Object(n.useState)(null),_e=Object(u.a)(Ge,2),Ve=_e[0],Ye=(_e[1],Object(n.useState)(null)),Ze=Object(u.a)(Ye,2),Qe=(Ze[0],Ze[1]),Ke=Object(n.useState)(null),qe=Object(u.a)(Ke,2),$e=qe[0],et=qe[1],tt=Object(n.useState)(null),at=Object(u.a)(tt,2),nt=at[0],rt=at[1],st=Object(n.useState)({}),ct=Object(u.a)(st,2),ot=ct[0],dt=ct[1],mt=Object(n.useState)({}),ft=Object(u.a)(mt,2),pt=ft[0],ht=ft[1],bt=Object(n.useState)([]),gt=Object(u.a)(bt,2),yt=gt[0],vt=gt[1],Et=Object(n.useState)({}),It=Object(u.a)(Et,2),St=It[0],Ot=It[1],xt=Object(n.useState)({}),Nt=Object(u.a)(xt,2),jt=Nt[0],wt=Nt[1],Dt=Object(n.useState)([]),Tt=Object(u.a)(Dt,2),kt=Tt[0],Ct=Tt[1],Lt=Object(n.useState)([]),At=Object(u.a)(Lt,2),Jt=At[0],Rt=At[1],Mt=["grade-statistic","information","teach","data","work","archives","history"];"teacher"==S&&(Mt=["classStatus","stuHealth","gradeRank","stu-all","stu-attendance","information","history"]),"manager"==S&&(Mt=["schoolStatus","stuHealth","gradeRank","stu-all","stu-attendance","information","history"]),Object(n.useLayoutEffect)((function(){if("student"==S){var e=yi+"/api/base/getSchoolStudent?schoolId="+g+"&studentId="+b;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&(Ot(e.data),wt(e.data.gradeId))}))}}),[S,b,g]);var Pt=Object(n.useMemo)((function(){var e=it.client,t=e.isIE,a=(e.isWebkit,e.ieVersion,lt.versions.trident);return t||a}),[]);Object(n.useEffect)((function(){!ne&&c.BasicWebRootUrl&&Qo({sysIDs:[310,"D21","E34","C10"],baseIP:c.BasicWebRootUrl}).then((function(e){200===e.StatusCode&&re(e.data)}))}),[c]),Object(n.useEffect)((function(){var e=yi+"/api/base/getCurrentTermInfo?schoolId="+g;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&e.data&&ht(e.data)}))}),[]),Object(n.useLayoutEffect)((function(){if("teacher"==S){var e=yi+"/api/base/getClassByMasterId?teacherId="+b;Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){if(200==e.status&&Array.isArray(e.data)){vt(e.data);var t=sessionStorage.getItem("currentClass"),a={};e.data.forEach((function(e){e.classId==t&&(a=e)})),Ot(a.classId?a:e.data[0]?e.data[0]:{})}}))}else{Ot({classId:"",gradeId:""})}}),[b,S]),Object(n.useEffect)((function(){var e=l;if(c&&o){if(dt(Object(m.a)(Object(m.a)({},ot),{},{schoolID:o.SchoolID||"S-666",subjectIDs:o.SubjectIDs,subjectNames:o.SubjectNames,baseIP:c.BasicWebRootUrl})),"string"===typeof o.SubjectNames){var t=[],a="string"===typeof o.SubjectIDs?o.SubjectIDs.split(","):[];o.SubjectNames.split(",").forEach((function(e,n){t.push({key:a[n]||n,value:e})})),Me(t)}Xo({userID:e,baseIP:c.BasicWebRootUrl,schoolID:o.SchoolID||"S-666"}).then((function(e){200===e.StatusCode?(et(e.Data.WeekList),rt(e.Data.NowWeekSelect)):rt(!1)})),le(o),de(o),tl({userID:e}).then((function(e){200===e.StatusCode?ye(e.Data):ye(!1)})),al({userID:e}).then((function(e){200===e.StatusCode?Qe(e.Data):Qe(!1)})),nl({userID:e}).then((function(e){200===e.StatusCode?pe(e.Data):pe(!1)}))}}),[l]),Object(n.useEffect)((function(){if(ne&&Be){var e=l;o.UserName;ne.E34&&ne.E34.WebSvrAddr&&nt&&el({userName:e,baseIP:ot.baseIP,proxy:ne.E34.WebSvrAddr,token:i,semester:Be.value}).then((function(e){200===e.StatusCode?He(e.Data):He(!1)}))}}),[ne,Be]),Object(n.useEffect)((function(){var e=l;ne&&(ne.C10&&ne.C10.WebSvrAddr&&nt&&Ko({userID:e,baseIP:ot.baseIP,proxy:ne.C10.WebSvrAddr,token:i,schoolID:ot.schoolID,subjectIDs:ot.subjectIDs,subjectNames:ot.subjectNames,startTime:nt.startTime,endTime:nt.endTime}).then((function(e){200===e.StatusCode&&Le(e.Data)})),ne[310]&&ne[310].WebSvrAddr&&nt&&qo({userID:e,baseIP:ot.baseIP,proxy:ne[310].WebSvrAddr,token:i,startTime:nt.startTime,endTime:nt.endTime}).then((function(e){200===e.StatusCode&&xe(e.Data)})),ne.D21&&ne.D21.WsSvrAddr&&nt&&$o({userID:e,baseIP:ot.baseIP,proxy:ne.D21.WsSvrAddr,token:i,schoolID:ot.schoolID,subjectIDs:ot.subjectIDs,subjectNames:ot.subjectNames,startTime:nt.startTime,endTime:nt.endTime}).then((function(e){200===e.StatusCode&&(console.log(e.Data),De(e.Data))})))}),[ne,nt]),Object(n.useLayoutEffect)((function(){var e=_()(U.current);e.height()>e.width()&&P("ratio")}),[]),Object(n.useLayoutEffect)((function(){if(pt.termStartDate&&pt.termEndDate&&("teacher"!=S||St.classId)&&("student"!=S||b&&St.classId)&&("manager"!=S||g)){var e=yi+"/api/punishAndReward/route?id="+("student"==S?b:"teacher"==S?St.classId:"manager"==S?g:b)+"&queryType="+("student"==S?1:"teacher"==S?2:"manager"==S?4:1)+"&startTime="+pt.termStartDate+"&endTime="+pt.termEndDate+"&eventType=0";Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&Ct(e.data)})),e=yi+"/api/attendance/attendance/path?type="+("student"==S?1:"teacher"==S?2:"manager"==S?4:1)+"&studentId="+("student"==S?b:"")+"&classId="+St.classId+"&gradeId="+St.gradeId+"&schoolId="+g+"&start="+(pt.termStartDate?pt.termStartDate:"2021-01-01")+"&end="+(pt.termEndDate?pt.termEndDate:"2021-03-01"),Qt.get({url:e,securityLevel:2}).then((function(e){return e.json()})).then((function(e){200==e.status&&Array.isArray(e.data)&&Rt(e.data)}))}}),[pt,S,St,g,b]),Object(n.useLayoutEffect)((function(){var e=_()(U.current),t=function(){var t=e.height(),a=e.width();z([a,t]),T([a/1920,"ratio"===M?a/1920:t/1080])};return t(),window.addEventListener("resize",Xe(t,500),!1),function(){window.removeEventListener("resize",Xe(t,500))}}),[M]);var Wt=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1920,1080];return{width:e[0]?1*e[0]:"100%",height:e[1]?1*e[1]:"100%"}}),[D]),Ht=Object(n.useCallback)((function(e){}),[]),zt=Object(n.useMemo)((function(){if(0===p&&ne&&ne.E34&&ne.E34.WsSvrAddr){var e=oe.UserID,t=oe.UserName;return r.a.createElement(Yl,{type:"archives",onClick:function(){var a=ut(ne.E34.WsSvrAddr)+"/index_user.html?lg_tk=".concat(i,"&tName=").concat(t,"&tId=").concat(e,"&lg_ic=").concat(f,"#1|4|0");window.open(a)}},"\u6863\u6848\u4fe1\u606f\u7ba1\u7406")}return null}),[ne,i,f,oe]);return r.a.createElement("div",{ref:U,className:"lg-PersonalDetail ".concat(s||"")},r.a.createElement(be,{opacity:!1,spinning:N},r.a.createElement("div",{className:"control-rate control-rate-".concat(M)},r.a.createElement("i",{className:"ct-box ct-full ".concat("full"===M?"ct-select":""),onClick:function(){P("full")}}),r.a.createElement("i",{className:"ct-box ct-ratio ".concat("ratio"===M?"ct-select":""),onClick:function(){P("ratio")}})),D?r.a.createElement("div",{className:"pd-content",style:D?Object(m.a)(Object(m.a)({},Wt([1920,1080])),{},{transform:"scale(".concat(D[0],",").concat(D[1],")"),left:-(1-D[0])/2*1920+"px",top:-(1-D[1])/2*1080+"px",position:"absolute"}):{}},r.a.createElement("div",{className:"pd-top",style:Object(m.a)({},Wt([1920,85]))},r.a.createElement("div",{className:"pd-top-bg",style:Object(m.a)({},Wt([1920,343]))})),r.a.createElement("div",{className:"pd-center",style:Object(m.a)({},Wt([1920,995]))},r.a.createElement("div",{className:"pd-center-bg",style:Object(m.a)({},Wt([1874,930]))}),r.a.createElement("div",{className:"pd-center-content",style:Object(m.a)(Object(m.a)({},Wt([1920,937])),{},{padding:"0 ".concat(Wt([18]).width,"px")})},r.a.createElement("div",{className:"pd-center-content-left",style:Object(m.a)(Object(m.a)({},Wt([480])),{},{margin:"0 ".concat(Wt([18]).width,"px")})},r.a.createElement(Ol,{cardid:"teacher"==S?"classStatus":"manager"==S?"schoolStatus":"archives",select:q,height:"teacher"==S?214:"student"==S?280:214,btn:zt,loading:!1,data:!0,currentTerm:pt,currentClass:St,currentGrade:jt,component:"teacher"==S?ti:"student"==S?wl:si,userIdentity:S,identityCode:f}),r.a.createElement(Ol,{select:q,cardid:"teacher"==S||"manager"==S?"stuHealth":"gradeStatistic",currentTerm:pt,currentClass:St,currentGrade:jt,height:"teacher"==S||"manager"==S?247:217,loading:!1,userIdentity:S,identityCode:f,component:"teacher"==S||"manager"==S?Rl:Cl,data:"manager"!=S}),r.a.createElement(Ol,{select:q,cardid:"teacher"==S||"manager"==S?"gradeRank":"teach",currentTerm:pt,currentGrade:jt,currentClass:St,component:"teacher"==S?fi:"manager"==S?gi:Rl,height:"teacher"==S||"manager"==S?369:335,loading:!1,data:!0,userIdentity:S,identityCode:f})),r.a.createElement("div",{className:"pd-center-content-center",style:Object(m.a)(Object(m.a)({},Wt([816])),{},{margin:"0 ".concat(Wt([18]).width,"px")})},r.a.createElement("div",{className:"pd-center-content-center-top",style:Object(m.a)({},Wt(["",94]))},"student"==S||"manager"==S?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"pd-teacher-name",title:v},v||"--"),E?r.a.createElement("p",{className:"pd-teacher-sign",title:E},E||"--"):""):"teacher"==S?r.a.createElement("span",{className:"class-name"},St.className?St.className:"\u6682\u65e0\u73ed\u7ea7",yt.length>1?r.a.createElement(Pn.a,{content:r.a.createElement("ul",{className:"class-list"},r.a.createElement($.a,{autoHeight:!0,autoHeightMax:118},yt.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){sessionStorage.setItem("currentClass",e.classId),Ot(e),A(!1)}},e.className)})))),visible:L,onVisibleChange:function(e){return A(e)},trigger:"click",placement:"bottom"},r.a.createElement("span",{className:"change-class"},"\u5207\u6362")):""):""),r.a.createElement("div",{className:"pd-drag-container",style:Object(m.a)(Object(m.a)({},Wt(["",483])),{},{backgroundSize:"".concat(Wt([558]).width,"px ").concat(Wt(["",468]).height,"px")})},!Pt&&r.a.createElement("div",{className:"drag-control  ",style:{transform:"rotateX(".concat(-10,"deg) rotateY(",100,"deg) "),WebkitTransform:"rotateX(".concat(-10,"deg) rotateY(",100,"deg) "),MozTransform:"rotateX(".concat(-10,"deg) rotateY(",100,"deg) "),OTransform:"rotateX(".concat(-10,"deg) rotateY(",100,"deg) "),MsTransform:"rotateX(".concat(-10,"deg) rotateY(",100,"deg) ")}},r.a.createElement("div",{className:"card-container \n                    "},Mt.map((function(e,t){var n=Mt.length,s=360/n,c=s*t,o=550*Math.cos(s/2)/(1+Math.cos(s/2));G&&t===n-1&&setTimeout((function(){V(!1)}),100);var l=G?"rotateY(".concat(0,"deg) translateZ(",0,"px)"):"rotateY(".concat(c,"deg) translateZ(").concat(o,"px)");return r.a.createElement("i",{key:t,style:{transform:l,WebkitTransform:l,MozTransform:l,OTransform:l,MsTransform:l},className:"img-"+e,onClick:Ht.bind(a,e),onMouseEnter:function(t){ee(e)},onMouseLeave:function(e){ee(!1)}})}))))," ",r.a.createElement("div",{className:"student"==S?0==y?"stu-girl":"drag-bg":"group-bg"})),r.a.createElement("div",{className:"pd-center-content-center-bottom",style:Object(m.a)(Object(m.a)({},Wt([816,346])),{},{margin:"".concat(Wt(["",10]).height,"px 0 0")})},r.a.createElement(Ol,{select:q,cardid:"history",height:315,userIdentity:S,identityCode:f,currentTerm:pt,currentGrade:jt,currentClass:St,component:Ul,loading:!1,data:kt.concat(Jt)}))),r.a.createElement("div",{className:"pd-center-content-right",style:Object(m.a)(Object(m.a)({},Wt([480])),{},{margin:"0 ".concat(Wt([18]).width,"px")})},r.a.createElement(Ol,{select:q,cardid:"information",height:"teacher"==S||"manager"==S?353:340,component:_l,currentTerm:pt,currentGrade:jt,currentClass:St,loading:!1,data:"manager"!=S,userIdentity:S,identityCode:f}),r.a.createElement(Ol,{select:q,cardid:"teacher"==S||"manager"==S?"stu-attendance":"work",height:"teacher"==S||"manager"==S?227:217,component:Hl,loading:!1,currentTerm:pt,currentGrade:jt,currentClass:St,data:!0,userIdentity:S,identityCode:f,componentProps:{onTermSelect:function(e){Fe(e)},termSelect:Be,termList:Ve}}),r.a.createElement(Ol,{select:q,cardid:"teacher"==S||"manager"==S?"stu-all":"data",currentTerm:pt,currentClass:St,currentGrade:jt,height:"teacher"==S||"manager"==S?250:275,component:"teacher"==S||"manager"==S?ii:Kl,userIdentity:S,identityCode:f,componentProps:{onWeekSelect:function(e){rt(e)},weekSelect:nt,weekList:$e,SubjectList:Re,Percentage:we,TeachPlan:Oe,ResView:Ce},loading:!1,data:!0}))),r.a.createElement("div",{className:"pd-provesion",style:Object(m.a)({},Wt([1920,58]))},c&&c.ProVersion))):""))}var Ei=function(e){var t=e.commonData;return Object(m.a)({},t)},Ii=Object(d.connect)(Ei)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(vi)))),Si=(a(854),Tt.BasicProxy);function Oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageIndex,a=e.pageSize,n=e.keyword,r=e.schoolID,s=e.term,c=e.sortFiled,o=e.sortType,l=Si+"/Statistics/Basic/GetSubsetList?SchoolID=".concat(r||"","&Term=").concat(s||"","&PageIndex=").concat(t||1,"&PageSize=").concat(a||10).concat(n?"&Keyword="+n:"").concat(c?"&SortFiled="+c:"").concat(o?"&SortType="+o:"");return Qt.get({url:l,securityLevel:2}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode?{StatusCode:e.StatusCode,data:Object(m.a)(Object(m.a)({},e.Data),{},{List:e.Data.List instanceof Array?e.Data.List.map((function(t,a){var n=10*(e.Data.PageIndex-1)+a+1;return n=n>=10?n:"0"+n,Object(m.a)(Object(m.a)({},t),{},{key:a,index:n})})):[],PageSize:a})}:{StatusCode:e.StatusCode}}))}function xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nodeID,a=Si+"/Statistics/Basic/GetSubsetDetail?nodeID=".concat(t||"");return Qt.get({url:a,securityLevel:2}).then((function(e){return e.json()})).then((function(e){return 200===e.StatusCode&&e.Data?{StatusCode:e.StatusCode,Data:e.Data}:{StatusCode:400}}))}function Ni(e,t){var a=e.location,s=e.history,c=e.roleMsg,o=c.productLevel,l=c.schoolID,i=(c.collegeID,e.levelHash,e.levelMsg),d=e.termInfo,f=d.TermInfo,p=(d.HasHistory,e.contentHW.height),h=Object(n.useState)(""),b=Object(u.a)(h,2),g=b[0],y=b[1],v=Object(n.useState)([{value:0,title:i.belong+"\u57fa\u7840\u4fe1\u606f",canControl:!1},{value:1,title:"\u6559\u5e08\u4eba\u6570/\u5e08\u751f\u6bd4",canControl:!0},{value:2,title:"\u5e74\u9f84/\u6559\u9f84\u7edf\u8ba1",canControl:!0},{value:3,title:"\u5b66\u5386\u7edf\u8ba1",canControl:!0},{value:4,title:"\u804c\u79f0\u7edf\u8ba1",canControl:!0},{value:5,title:"\u8bfe\u65f6\u7edf\u8ba1",canControl:!0},{value:6,title:"\u884c\u653f\u73ed\u6570\u91cf",canControl:!0},{value:7,title:"\u73ed\u4e3b\u4efb\u6570\u91cf",canControl:!0},{value:8,title:"\u7535\u5b50\u8d44\u6e90\u4e0a\u4f20\u7edf\u8ba1",canControl:!0},{value:9,title:"\u7535\u5b50\u6559\u6848\u5236\u4f5c\u7edf\u8ba1",canControl:!0},{value:10,title:"\u7cbe\u54c1\u8bfe\u7a0b\u5236\u4f5c\u7edf\u8ba1",canControl:!0},{value:11,title:"\u7535\u5b50\u7763\u8bfe\u5e73\u5747\u4f30\u503c\u5206",canControl:!0},{value:12,title:"\u6559\u7814\u8bfe\u9898\u7edf\u8ba1",canControl:!0},{value:13,title:"\u6559\u7814\u6d3b\u52a8\u7edf\u8ba1",canControl:!0},{value:14,title:"\u4e0a\u673a\u4fe1\u606f\u7edf\u8ba1",canControl:!0}]),E=Object(u.a)(v,1)[0],I=Object(n.useState)(!0),S=Object(u.a)(I,2),O=S[0],x=S[1],N=Object(n.useState)(!1),j=Object(u.a)(N,2),w=(j[0],j[1],Object(n.useState)([0,1,2,3])),D=Object(u.a)(w,2),T=D[0],k=D[1],C=Object(n.useState)({term:"",keyword:"",schoolID:1===o?"":l}),L=Object(u.a)(C,2),A=L[0],J=L[1],R=Object(n.useState)(!1),M=Object(u.a)(R,2),P=M[0],W=(M[1],Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useMemo)((function(){var e=[];return f instanceof Array&&(e=f.map((function(e){return{value:e.Term,title:e.TermName}})),J(Object(m.a)(Object(m.a)({},A),{},{term:e[0].value}))),e}),[f])),H=Object(n.useRef)({}),z=Object(n.useMemo)((function(){var e=2===o,t=[],a=[{title:"\u5e8f\u53f7",width:68,key:"index",align:"center",dataIndex:"index",render:function(e){return r.a.createElement("span",{className:"table-index",title:e},e||"--")}},{title:i.belong+"\u540d\u79f0",width:124,key:"SchoolName",align:"center",render:function(e){var t=e.NodeName,a=e.NodeID;return r.a.createElement("span",{onClick:function(){s.push("/schoolDetail/"+a)},className:"table-SchoolName",title:t},t||"--")}},{title:i.belong+"\u5b66\u6bb5",width:124,key:"Level",align:"center",dataIndex:"Level",render:function(e){return r.a.createElement("span",{className:"table-limit",title:e},e||"--")}},{title:"\u6559\u5e08\u4eba\u6570\u53ca\u5e08\u751f\u6bd4\u7edf\u8ba1",className:"two-col",children:[{title:"\u6559\u5e08\u4eba\u6570",align:"center",key:"TeacherCount",className:"two-col-bottom",width:98,render:function(e){var t=e.TeacherCount;return r.a.createElement("span",{className:"table-count",title:t},t?t+"\u4eba":"--")}},{title:"\u7537\u6027\u4eba\u6570",align:"center",key:"MaleCount",className:"two-col-bottom",width:82,dataIndex:"MaleCount",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e?e+"\u4eba":"--")}},{title:"\u5973\u6027\u4eba\u6570",align:"center",key:"FemaleCount",className:"two-col-bottom",width:82,dataIndex:"FemaleCount",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e?e+"\u4eba":"--")}}].concat(e?[]:[{title:"\u5e08\u751f\u6bd4\u4f8b",align:"center",key:"TeaStuRatio",className:"two-col-bottom",width:98,dataIndex:"TeaStuRatio",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e||"--")}}])},{title:"\u5e74\u9f84/\u6559\u9f84\u7edf\u8ba1",className:"two-col",children:[{title:"\u5e73\u5747\u5e74\u9f84",align:"center",key:"AgeAvg",className:"two-col-bottom",width:98,dataIndex:"AgeAvg",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e?e+"\u5c81":"--")}},{title:"\u5e73\u5747\u6559\u9f84",align:"center",key:"TeachAgeAvg",className:"two-col-bottom",width:98,dataIndex:"TeachAgeAvg",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e?e+"\u5e74":"--")}}]},{title:"\u5b66\u5386\u7edf\u8ba1",className:"two-col",children:[{title:"\u672c\u79d1\u7387",align:"center",key:"BenkePercent",className:"two-col-bottom",width:98,dataIndex:"BenkePercent",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e||"--")}},{title:"\u535a\u58eb\u7814\u7a76\u751f\u53ca\u4ee5\u4e0a",align:"center",key:"edu0",className:"two-col-bottom",width:146,dataIndex:"EduUserCount",render:function(e){var t=e[0]||{NodeID:"edu0",NodeName:"\u535a\u58eb\u7814\u7a76\u751f\u53ca\u4ee5\u4e0a",Total:0};return r.a.createElement("span",{className:"table-count",title:t.Total},0===t.Total||t.Total?t.Total+"\u4eba":"--")}},{title:"\u7855\u58eb\u7814\u7a76\u751f",align:"center",key:"edu1",className:"two-col-bottom",width:98,dataIndex:"EduUserCount",render:function(e){var t=e[1]||{NodeID:"edu1",NodeName:"\u7855\u58eb\u7814\u7a76\u751f",Total:0};return r.a.createElement("span",{className:"table-count",title:t.Total},0===t.Total||t.Total?t.Total+"\u4eba":"--")}},{title:"\u672c\u79d1",align:"center",key:"edu2",className:"two-col-bottom",width:98,dataIndex:"EduUserCount",render:function(e){var t=e[1]||{NodeID:"edu2",NodeName:"\u672c\u79d1",Total:0};return r.a.createElement("span",{className:"table-count",title:t.Total},0===t.Total||t.Total?t.Total+"\u4eba":"--")}}]},{title:"\u804c\u79f0\u7edf\u8ba1",className:"two-col",children:[{title:"\u4e2d\u7ea7\u804c\u79f0\u4eba\u6570\u6bd4\u4f8b",align:"center",key:"MiddleTitlePercent",className:"two-col-bottom",width:160,dataIndex:"MiddleTitlePercent",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e||"--")}},{title:e?"\u6559\u6388":"\u6b63\u9ad8\u7ea7\u6559\u5e08",align:"center",key:"title0",className:"two-col-bottom",width:1*(e?82:98),dataIndex:"TitleUserCount",render:function(e){var t=e[0]||{NodeID:"title0",NodeName:"\u6559\u6388",Total:0};return r.a.createElement("span",{className:"table-count",title:t.Total},0===t.Total||t.Total?t.Total+"\u4eba":"--")}},{title:e?"\u526f\u6559\u6388":"\u9ad8\u7ea7\u6559\u5e08",align:"center",key:"title1",className:"two-col-bottom",width:82,dataIndex:"TitleUserCount",render:function(e){var t=e[0]||{NodeID:"title1",NodeName:"\u526f\u6559\u6388",Total:0};return r.a.createElement("span",{className:"table-count",title:t.Total},0===t.Total||t.Total?t.Total+"\u4eba":"--")}},{title:e?"\u8bb2\u5e08":"\u4e00\u7ea7\u6559\u5e08",align:"center",key:"title2",className:"two-col-bottom",width:98,dataIndex:"TitleUserCount",render:function(e){var t=e[0]||{NodeID:"title2",NodeName:"\u8bb2\u5e08",Total:0};return r.a.createElement("span",{className:"table-count",title:t.Total},0===t.Total||t.Total?t.Total+"\u4eba":"--")}}]},{title:"\u8bfe\u65f6\u7edf\u8ba1",className:"two-col",children:[{title:"\u4eba\u5747\u5468\u8bfe\u65f6",align:"center",key:"WeekAvgCH",className:"two-col-bottom",width:112,dataIndex:"WeekAvgCH",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e||"--")}},{title:"\u4eba\u5747\u5b66\u671f\u603b\u8bfe\u65f6",align:"center",key:"TermAvgCH",className:"two-col-bottom",width:146,dataIndex:"TermAvgCH",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e||"--")}}]},{title:"\u884c\u653f\u73ed\u6570\u91cf",align:"center",key:"ClassCount",className:"two-col-center-border",width:130,dataIndex:"ClassCount",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e||"--")}},{title:"\u73ed\u4e3b\u4efb\u6570\u91cf",align:"center",key:"GangerCount",className:"two-col-center-border",width:130,dataIndex:"GangerCount",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e||"--")}},{title:"\u7535\u5b50\u8d44\u6e90\u4e0a\u4f20\u7edf\u8ba1",className:"two-col",children:[{title:"\u603b\u4e0a\u4f20\u6570\u91cf",align:"center",key:"ER_ResourceCount",className:"two-col-bottom",width:112,dataIndex:"ER_ResourceCount",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e||"--")}},{title:"\u4eba\u5747\u4e0a\u4f20\u6570\u91cf",align:"center",key:"ER_AvgUploadResourceCount",className:"two-col-bottom",width:112,dataIndex:"ER_AvgUploadResourceCount",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e?ot(e):"--")}},{title:"\u7535\u5b50\u8d44\u6e90\u4e0a\u4f20\u53c2\u4e0e\u7387",align:"center",key:"ER_UploadedPercent",className:"two-col-bottom",width:160,dataIndex:"ER_UploadedPercent",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e?100*ot(e)+"%":"--")}}]},{title:"\u7535\u5b50\u6559\u6848\u5236\u4f5c\u7edf\u8ba1",className:"two-col",children:[{title:"\u603b\u5236\u4f5c\u91cf",align:"center",key:"TP_TPCount",className:"two-col-bottom",width:98,dataIndex:"TP_TPCount",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e||"--")}},{title:"\u4eba\u5747\u5236\u4f5c\u6570\u91cf",align:"center",key:"TP_AvgUploadTPCount",className:"two-col-bottom",width:112,dataIndex:"TP_AvgUploadTPCount",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e||"--")}},{title:"\u7535\u5b50\u6559\u6848\u5236\u4f5c\u53c2\u4e0e\u7387",align:"center",key:"TP_UploadedPercent",className:"two-col-bottom",width:160,dataIndex:"TP_UploadedPercent",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e?100*ot(e)+"%":"--")}}]},{title:"\u7cbe\u54c1\u8bfe\u7a0b\u5236\u4f5c\u7edf\u8ba1",className:"two-col",children:[{title:"\u7cbe\u54c1\u8bfe\u7a0b\u6570\u91cf",align:"center",key:"EXC_ECCount",className:"two-col-bottom",width:112,dataIndex:"EXC_ECCount",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e||"--")}},{title:"\u4eba\u5747\u62e5\u6709\u6570\u91cf",align:"center",key:"EXC_AvgCount",className:"two-col-bottom",width:112,dataIndex:"EXC_AvgCount",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e?ot(e):"--")}},{title:"\u62e5\u6709\u7cbe\u54c1\u8bfe\u7a0b\u4eba\u6570\u6bd4\u4f8b",align:"center",key:"EXC_HasECPercent",className:"two-col-bottom",width:178,dataIndex:"EXC_HasECPercent",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e?100*ot(e)+"%":"--")}}]},{title:"\u7535\u5b50\u7763\u8bfe\u5e73\u5747\u4f30\u503c\u5206",align:"center",key:"EVC_AvgScore",className:"two-col-center-border",width:178,dataIndex:"EVC_AvgScore",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e?ot(e):"--")}},{title:"\u6559\u7814\u8bfe\u9898\u7edf\u8ba1",className:"two-col",children:[{title:"\u6559\u7814\u8bfe\u9898\u6570\u91cf",align:"center",key:"RP_ProjectCount",className:"two-col-bottom",width:130,dataIndex:"RP_ProjectCount",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e||"--")}},{title:"\u4eba\u5747\u53c2\u4e0e\u6b21\u6570",align:"center",key:"RP_AvgJoinCount",className:"two-col-bottom",width:112,dataIndex:"RP_AvgJoinCount",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e?ot(e):"--")}},{title:"\u6210\u679c\u6570\u91cf",align:"center",key:"RP_CompletedCount",className:"two-col-bottom",width:82,dataIndex:"RP_CompletedCount",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e||"--")}},{title:"\u6559\u7814\u8bfe\u9898\u53c2\u4e0e\u7387",align:"center",key:"RP_HasJoinPercent",className:"two-col-bottom",width:146,dataIndex:"RP_HasJoinPercent",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},0===e||e?100*ot(e)+"%":"--")}}]},{title:"\u6559\u7814\u6d3b\u52a8\u7edf\u8ba1",className:"two-col",children:[{title:"\u6559\u7814\u6d3b\u52a8\u6570\u91cf",align:"center",key:"RA_ActivityCount",className:"two-col-bottom",width:130,dataIndex:"RA_ActivityCount",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e||"--")}},{title:"\u4eba\u5747\u53c2\u4e0e\u6b21\u6570",align:"center",key:"RA_AvgJoinCount",className:"two-col-bottom",width:112,dataIndex:"RA_AvgJoinCount",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e||"--")}},{title:"\u6559\u7814\u6d3b\u52a8\u53c2\u4e0e\u7387",align:"center",key:"RA_HasJoinPercent",className:"two-col-bottom",width:146,dataIndex:"RA_HasJoinPercent",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},0===e||e?100*ot(e)+"%":"--")}}]},{title:"\u4e0a\u673a\u4fe1\u606f\u7edf\u8ba1",className:"two-col",children:[{title:"\u6bcf\u4eba\u6bcf\u65e5\u5e73\u5747\u4e0a\u673a\u65f6\u957f",align:"center",key:"LI_DayAvgTimeSpan",className:"two-col-bottom",width:178,dataIndex:"LI_DayAvgTimeSpan",render:function(e){var t=Number(e),a="";if(t<1)a="\u5c0f\u4e8e\u4e00\u5206\u949f";else if(t<60)a=t+"\u5206\u949f";else if(t>=60){var n=t%60;a=(t/60).toFixed()+"\u5c0f\u65f6"+(n>0?n.toFixed()+"\u5206\u949f":"")}return r.a.createElement("span",{className:"table-count",title:a},a||"--")}},{title:"\u5747\u6bcf\u65e5\u4e0a\u673a\u767e\u5206\u6bd4",align:"center",key:"LI_DayAvgOnlinePercent",className:"two-col-bottom",width:146,dataIndex:"LI_DayAvgOnlinePercent",render:function(e){return r.a.createElement("span",{className:"table-count",title:e},e?100*ot(e)+"%":"--")}}]},{title:r.a.createElement(ji,{CulomnsSelect:T,onCheckChange:function(e){k(e.sort((function(e,t){return e>t})))},Culomns:E}),align:"center",width:60,fixed:"right",className:"two-col-center-border",render:function(e){return r.a.createElement("span",{className:"table-columns"})}}];return t=t.concat(a.slice(0,1===o?3:2)),a.forEach((function(e,n){n>=3&&n!==a.length-1&&(T.some((function(e){return e+2===n}))||(e.title="",e.width=0,e.sorter=!1,e.children?e.children=e.children.map((function(e,t){return e.title="",e.width=0,e.sorter=!1,e.render=function(){return""},e})):e.render=function(){return""}),t.push(e))})),t.push(a[a.length-1]),t}),[i,T,P]);return Object(n.useEffect)((function(){O||"schoolResource"===Ve(a.pathname)[0]&&H.current.reloadList();O&&x(!1)}),[a.pathname]),r.a.createElement("div",{className:"SchoolList",style:{height:p}},r.a.createElement("div",{className:"pl-top"},r.a.createElement("div",{className:"plt-select"},W.length>0&&r.a.createElement(Ae,{width:150,height:240,dropList:W,title:"\u6240\u7edf\u8ba1\u5b66\u671f",value:A.term,className:"school-dropdown",onChange:function(e){},onSelect:function(e,t){J(Object(m.a)(Object(m.a)({},A),{},{term:e}))}}),1===o&&r.a.createElement(Ae,{width:150,height:240,dropList:W,title:"\u5b66\u6bb5\u7c7b\u578b",value:A.term,className:"school-dropdown",onChange:function(e){},onSelect:function(e,t){J(Object(m.a)(Object(m.a)({},A),{},{term:e}))}})),r.a.createElement("div",{className:"plt-search"},r.a.createElement(ge,{className:"home-search",Value:g,placeHolder:"\u8f93\u5165"+i.belong+"\u540d\u79f0\u641c\u7d22",onChange:function(e){y(e.target.value)},onClickSearch:function(e){J(Object(m.a)(Object(m.a)({},A),{},{keyword:g}))},onCancelSearch:function(e){y(""),J(Object(m.a)(Object(m.a)({},A),{},{keyword:""}))}}))),r.a.createElement("div",{className:"pl-table"},r.a.createElement(q.Scrollbars,null,r.a.createElement(Qa,{scroll:{x:"max-content"},className:"Reacruit-table",columns:z,query:A,onDataChange:function(e){},ref:H,api:Oi}))))}function ji(e,t){var a=e.CulomnsSelect,s=e.onCheckChange,c=e.Culomns,o=Object(n.useState)(!1),l=Object(u.a)(o,2),i=l[0],d=l[1],m=Object(n.useRef)(null),f=Object(n.useRef)(null);return Object(n.useLayoutEffect)((function(){var e=function(e){var t=!1,a=m.current,n=f.current;t=!(a.contains(e.target)||n&&n.contains(e.target)),d(!t)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]),r.a.createElement("div",{className:"open-columns"},r.a.createElement(de.a,{overlayClassName:"lg-table-more-tooltip",destroyTooltipOnHide:!1,color:"#fff",align:{points:["tr","br"],offset:[20,10],overflow:{adjustX:!0,adjustY:!0}},visible:i,title:r.a.createElement("div",{ref:f,className:"more-content "},r.a.createElement("p",{className:"more-title"},"\u5217\u7b5b\u9009"),r.a.createElement(Se,{value:a,onChange:function(e){s(e)}},r.a.createElement("div",{className:"more-map"},r.a.createElement(q.Scrollbars,null,c.map((function(e,t){return r.a.createElement("div",{key:t,className:"c-select-bar"},r.a.createElement(Ie,{value:e.value,disabled:void 0===e.canControl||!e.canControl},e.title))}))))," "))},r.a.createElement("i",{onClick:function(){d(!0)},ref:m})))}var wi=function(e){var t=e.commonData;return{roleMsg:t.roleMsg,levelHash:t.levelHash,contentHW:t.contentHW,termInfo:t.termInfo}},Di=Object(d.connect)(wi)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(Ni))));function Ti(e,t){var a=e.id,s=(e.BasicWebRootUrl,e.roleMsg),c=(s.identityCode,s.schoolID),o=e.levelMsg,l=(e.contentHW.width,e.schoolMsg),i=Object(n.useState)({tabid:"teacherBaseMsg",tabname:"\u6559\u5e08\u57fa\u672c\u4fe1\u606f"}),d=Object(u.a)(i,2),m=d[0],f=(d[1],Object(n.useMemo)((function(){if(!a||!o)return{};var e=o.nextProductLevel,t=o.nextSelectLevel,n=(o.nextTitle,{selectLevel:t,productLevel:e});return 3===e?(n.schoolID=a,n.collegeID=""):4===e?(n.schoolID=c,n.collegeID=a):n.productLevel=!1,n}),[o,a]));return r.a.createElement("div",{className:"SchoolDetail"},f&&f.productLevel?r.a.createElement(Ac,{type:"school",roleData:f,schoolMsg:l,tabid:m.tabid}):"")}var ki=function(e){var t=e.commonData;return{roleMsg:t.roleMsg,BasicWebRootUrl:t.basePlatFormMsg.BasicWebRootUrl,contentHW:t.contentHW}},Ci=Object(d.connect)(ki)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(Ti))));function Li(e,t){var a=e.location,s=(e.activeTab,e.levelHash),c=e.removeTab,o=e.roleMsg,l=o.productLevel,i=(o.schoolID,o.collegeID,e.tabid,e.contentHW.height),d=(e.schoolMsg,e.param),m=Object(n.useState)(""),f=Object(u.a)(m,2),p=f[0],h=f[1],b=Object(n.useState)(""),g=Object(u.a)(b,2),y=g[0],v=g[1],E=Object(n.useState)(null),I=Object(u.a)(E,2),S=I[0],O=I[1],x=Object(n.useState)(!0),N=Object(u.a)(x,2),j=N[0],w=N[1],D=Object(n.useMemo)((function(){return s[l]?s[l]:{productLevel:1,selectLevel:1,title:"",sub:"",belong:"",belondName:""}}),[s,l]);return Object(n.useEffect)((function(){h(d)}),[d]),Object(n.useEffect)((function(){if(a.pathname){var e=Ve(a.pathname);"schoolDetail"===e[0]&&e[1]&&(console.log(D),xi({nodeID:e[1]}).then((function(t){200===t.StatusCode?(v(e[1]),O(t.Data)):(O(!1),D.nextProductLevel?c("","","schoolResource","",(function(){})):c("","","teacherBaseMsg","",(function(){}))),w(!1)})))}}),[]),r.a.createElement(be,{spinning:"detail"===p&&j,tip:"\u52a0\u8f7d\u4e2d...",opacity:!1},r.a.createElement("div",{className:"School",style:{height:i}},"list"===p?r.a.createElement(Di,{levelMsg:D}):r.a.createElement(r.a.Fragment,null),"detail"===p?r.a.createElement(Ci,{levelMsg:D,schoolMsg:S,id:y}):r.a.createElement(r.a.Fragment,null)))}var Ai=function(e){var t=e.handleData.teacherRecruitMsg,a=e.commonData;return{teacherRecruitMsg:t,roleMsg:a.roleMsg,contentHW:a.contentHW,levelHash:a.levelHash}},Ji=Object(d.connect)(Ai)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(Li))));function Ri(e,t){var a=e.history,s=e.location,c=e.commonData,o=(c.token,c.leftMenu),m=(c.params,c.basePlatFormMsg.ProVersion),f=c.roleMsg,p=f.schoolID,h=f.collegeID,b=f.selectLevel,g=f.productLevel,y=(f.identityCode,c.userInfo.UserID,e.handleData.teacherRecruitMsg),v=(y.tabName,y.tabId),E=(y.params,e.first,e.commonData);console.log("\u67e5\u67e5\u5de6\u4fa7\u83dc\u5355",o,e);var I=Object(d.useDispatch)(),S=Object(n.useState)("\u5404\u6821\u5e08\u8d44"),O=Object(u.a)(S,2),x=(O[0],O[1],Object(n.useState)("\u6559\u5e08\u753b\u50cf\u67e5\u8be2")),N=Object(u.a)(x,2),j=N[0],w=(N[1],Object(n.useState)("detailID")),D=Object(u.a)(w,2),T=(D[0],D[1],Object(n.useState)(void 0)),k=Object(u.a)(T,2),C=k[0],L=k[1],A=Object(n.useState)([]),J=Object(u.a)(A,2),R=(J[0],J[1]),M=Object(n.useState)(!1),P=Object(u.a)(M,2),W=P[0],H=P[1],z=Object(n.useState)(null),F=Object(u.a)(z,2),G=F[0],_=(F[1],Object(n.useState)(null)),V=Object(u.a)(_,2),Y=V[0],Z=(V[1],Object(n.useState)(null)),Q=Object(u.a)(Z,2),X=Q[0],K=Q[1],q=Object(n.useState)(!1),$=Object(u.a)(q,2),ee=$[0],te=$[1],ae=Object(n.useState)(null),ne=Object(u.a)(ae,2),re=ne[0],se=(ne[1],Object(n.useState)("stuStatusMsg")),ce=Object(u.a)(se,2),oe=(ce[0],ce[1],Object(n.useState)("")),le=Object(u.a)(oe,2),ie=(le[0],le[1],Object(n.useRef)({})),ue=Object(n.useMemo)((function(){var e={schoolList:"\u5404\u6821\u5e08\u8d44",schoolDetail:"\u5b66\u6821\u8be6\u60c5"};switch(g){case 2:e={schoolList:"\u5404\u9662\u5e08\u8d44",schoolDetail:"\u5b66\u9662\u8be6\u60c5"}}return e}),[g]);Object(n.useEffect)((function(){var e=Ve(s.pathname);console.log("\u63d0\u524d\u68c0\u67e5\u8def\u7531",e);var t=Je("ModuleType");"page"===e[0]&&e[1]?("recruit"===e[1]&&te(!0),L("page"),K("")):"teacher"===t?(K("L10002"),L("teacher")):(K("L10001"),L("default"),e[0]||(L("page"),K("")))}),[]),Object(n.useLayoutEffect)((function(){if(C){var e=Ve(s.pathname);if(console.log("useLayoutEffect",e,window.first),R(e),"default"===C){if(!e[0]&&o instanceof Array&&o.length>0)return L("page"),void K("");if("recruitDetail"===e[0])return void(e[1]||function(){var e="";for(var t in arguments)e+=arguments[t]?"/"+arguments[t]:"";a.push(e)}("stuStatusMsg"));var t=!1;if(ze(o,(function(a){(a.child.key===e[0]||a.child.params instanceof Array&&a.child.params.some((function(t){return e[0]===t.key})))&&(t=!0)})),!t&&o.length>0)return L("page"),void K("")}return"teacher"===C?(L("page"),void K("")):void 0}}),[s,o,C]);var de=Object(n.useCallback)(function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,Ve(s.pathname),t&&(t.identityDetail&&I({type:U.COMMON_SET_IDENTITY,data:t.identityDetail}),t.userInfo&&I({type:U.COMMON_SET_USER_INFO,data:t.userInfo}),t.basePlatformMsg&&I({type:U.COMMON_SET_BASE_PLAT_FORM_MSG,data:t.basePlatformMsg}),t.role&&I({type:U.COMMON_SET_ROLE_MSG,data:t.role}),t.termInfo&&I({type:U.COMMON_SET_TERM_INFO,data:t.termInfo}),t.systemServer&&I({type:U.COMMON_SET_SYSTEM_SERVER,data:t.systemServer}),t.token&&t.token&&I(U.SetCommonData({token:t.token}))),e.abrupt("return",true);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),me=Object(n.useCallback)((function(e){}),[p,h,b]),fe=function(){var e;"function"===typeof ie.current.removeTab&&(e=ie.current).removeTab.apply(e,arguments)};return r.a.createElement(Ma,{pageInit:de,type:C,leftMenu:o,moduleID:X,setShowModule:H,onlyBase:ee,commonData:E,search:r.a.createElement(hl,{api:me,searchResult:function(e,t){return r.a.createElement(vl,{keyword:t,data:e})},className:"frame-search-all"}),ref:ie,getActiveTab:function(e){I(B.setActiveTab(e))},onContentresize:function(e,t){I({type:U.COMMON_SET_CONTENT_HW,data:{height:e,width:t}})},tabPorps:{onChange:function(e){console.log(e)},onEdit:function(e,t){console.log(e,t)}}},r.a.createElement(Ac,{tabid:"schoolLiveMsg",tabname:"\u6821\u56ed\u751f\u6d3b\u6863\u6848",forceUpdate:W},"\u6821\u56ed\u751f\u6d3b\u6863\u6848"),r.a.createElement(Ac,{tabid:"awardAndPunish",tabname:"\u5956\u60e9\u6863\u6848",forceUpdate:W},"\u5956\u60e9\u6863\u6848"),r.a.createElement(Ac,{tabid:"healthMsg",tabname:"\u5065\u5eb7\u6863\u6848",forceUpdate:W},"\u5065\u5eb7\u6863\u6848"),r.a.createElement(Ac,{tabid:"attendanceMsg",tabname:"\u8003\u52e4\u6863\u6848",forceUpdate:W},"\u8003\u52e4\u6863\u6848"),r.a.createElement(Ac,{tabid:"stuConditionMsg",tabname:"\u5b66\u60c5\u6863\u6848",forceUpdate:W},"\u5b66\u60c5\u6863\u6848"),r.a.createElement(Ac,{tabid:"stuStatusMsg",tabname:"\u5b66\u7c4d\u6863\u6848",forceUpdate:W},"\u5b66\u7c4d\u6863\u6848"),r.a.createElement(Ac,{tabid:"teacherPersonal",tabname:j,param:"TeacherID"},j),r.a.createElement(No,{tabid:v,tabname:"\u6559\u5e08\u62db\u8058\u8ba1\u5212\u7ba1\u7406",param:"home"},"\u6559\u5e08\u62db\u8058\u8ba1\u5212\u7ba1\u7406"),r.a.createElement(No,{tabid:"publishRecruit",tabname:"\u53d1\u5e03\u62db\u8058\u8ba1\u5212",param:"publish",removeTab:fe},"\u53d1\u5e03\u62db\u8058\u8ba1\u5212"),r.a.createElement(No,{tabid:"recruitDetail",tabname:"\u62db\u8058\u8ba1\u5212\u8be6\u60c5",param:"detail",mustparam:"true",redirect:"teacherRecruit",removeTab:fe},"\u62db\u8058\u8ba1\u5212\u8be6\u60c5"),r.a.createElement(No,{tabid:"editRecruit",tabname:"\u7f16\u8f91\u62db\u8058\u8ba1\u5212",param:"edit",mustparam:"true",redirect:"teacherRecruit",removeTab:fe},"\u7f16\u8f91\u62db\u8058\u8ba1\u5212"),r.a.createElement(Ho,{tabid:"teacherTrain",tabname:"\u6559\u5e08\u57f9\u8bad\u8ba1\u5212\u7ba1\u7406",param:"home"},"\u6559\u5e08\u57f9\u8bad\u8ba1\u5212\u7ba1\u7406"),r.a.createElement(Ho,{tabid:"publishTrain",tabname:"\u53d1\u5e03\u57f9\u8bad\u8ba1\u5212",param:"publish",removeTab:fe},"\u53d1\u5e03\u57f9\u8bad\u8ba1\u5212"),r.a.createElement(Ho,{tabid:"trainDetail",tabname:"\u57f9\u8bad\u8ba1\u5212\u8be6\u60c5",mustparam:"true",redirect:"teacherTrain",param:"detail",removeTab:fe},"\u57f9\u8bad\u8ba1\u5212\u8be6\u60c5"),r.a.createElement(Ho,{tabid:"editTrain",tabname:"\u7f16\u8f91\u57f9\u8bad\u8ba1\u5212",param:"edit",mustparam:"true",redirect:"teacherTrain",removeTab:fe},"\u7f16\u8f91\u57f9\u8bad\u8ba1\u5212"),r.a.createElement(ml,{tabid:"teacherPersonal",tabname:"\u6559\u5e08\u753b\u50cf\u67e5\u8be2",param:"list",removeTab:fe},"\u6559\u5e08\u753b\u50cf\u67e5\u8be2"),r.a.createElement(ml,{tabid:"personalDetail",tabname:"\u6559\u5e08\u753b\u50cf\u8be6\u60c5",param:"detail",removeTab:fe},"\u6559\u5e08\u753b\u50cf\u8be6\u60c5"),r.a.createElement(Bo,{tabid:"notice",tabname:"\u901a\u77e5\u516c\u544a"}),r.a.createElement(_o,{frametype:"teacher",routeid:"teacherTrain"}),r.a.createElement(Lo,{frametype:"teacher",routeid:"trainDetail",routename:"\u57f9\u8bad\u8ba1\u5212\u8be6\u60c5",param:"id",controlSize:"",useScrollbars:!1},"\u57f9\u8bad\u8ba1\u5212\u8be6\u60c5"),r.a.createElement("p",{proversion:m,className:"teacher-ProVersion",frametype:"teacher"},m),r.a.createElement(Ii,{frametype:"page",pageid:"personalDetail",param:"id",teachermsg:G,teacherid:Y}),r.a.createElement(No,{pageTitle:"\u62db\u8058\u8ba1\u5212\u8be6\u60c5",frametype:"page",pageid:"recruit",param:"recruit",recruitid:re}),r.a.createElement(Ji,{tabid:"schoolResource",tabname:ue.schoolList,param:"list",removeTab:fe}),r.a.createElement(Ji,{tabname:ue.schoolDetail,tabid:"schoolDetail",param:"detail",mustparam:"true",redirect:"schoolResource",removeTab:fe}),r.a.createElement("p",{proversion:m,className:"page-ProVersion",frametype:"page"},m))}var Mi=function(e){return e},Pi=Object(d.connect)(Mi)(Object(F.g)(Object(n.memo)(Object(n.forwardRef)(Ri)))),Wi=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1792)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))},Hi=Wi,zi=a(273),Ui=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{alert:!1,leftMenu:[],isReflash:!1,userInfo:{},identity:{},basePlatFormMsg:{},roleMsg:{},termInfo:{HasHistory:!1,TermInfo:[]},levelHash:{1:{productLevel:1,selectLevel:1,title:"\u533a\u57df",sub:"\u5b66\u6bb5",belong:"\u5b66\u6821",belongBefore:"\u6240\u5c5e",belondName:"SchoolName",ganger:"\u5b66\u6bb5",nextProductLevel:3,nextSelectLevel:3,nextTitle:"\u5b66\u6821"},2:{productLevel:2,selectLevel:2,title:"\u5b66\u6821",sub:"\u5b66\u9662",belong:"\u5b66\u9662",belongBefore:"\u6240\u5c5e",belondName:"CollegeName",ganger:"\u5b66\u9662",nextProductLevel:4,nextSelectLevel:3,nextTitle:"\u5b66\u9662"},3:{productLevel:3,selectLevel:2,title:"\u5b66\u6821",sub:"\u5b66\u79d1",belongBefore:"\u6240\u6559",belong:"\u5b66\u79d1",belondName:"SubjectNames",ganger:"\u5b66\u79d1"},4:{productLevel:4,selectLevel:3,title:"\u5b66\u9662",sub:"\u6559\u7814\u5ba4",belongBefore:"\u6240\u5c5e",belong:"\u6559\u7814\u5ba4",belondName:"CroupName",ganger:"\u5b66\u79d1"}},contentHW:{height:0,width:0},systemServer:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.COMMON_REFLASH:return Object.assign({},e,{isReflash:t.data});case U.COMMON_SET_COMMON_DATA:return Object.assign({},e,t.data);case U.COMMON_SET_TERM_INFO:return Object.assign({},e,{termInfo:t.data});case U.COMMON_SET_LEFT_MENU:return Object.assign({},e,{leftMenu:t.data});case U.COMMON_SET_CONTENT_HW:return Object.assign({},e,{contentHW:Object(m.a)(Object(m.a)({},e.contentHW),t.data)});case U.COMMON_SET_TEST:return Object.assign({},e,{alert:!0});case U.COMMON_SET_IDENTITY:return Object.assign({},e,{identity:t.data});case U.COMMON_SET_USER_INFO:return Object.assign({},e,{userInfo:t.data});case U.COMMON_SET_BASE_PLAT_FORM_MSG:return Object.assign({},e,{basePlatFormMsg:t.data});case U.COMMON_SET_ROLE_MSG:return Object.assign({},e,{roleMsg:t.data});case U.COMMON_SET_SYSTEM_SERVER:return Object.assign({},e,{systemServer:t.data});default:return e}},Bi=Ui,Fi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{teacherRecruitMsg:{tabName:"\u6559\u5e08\u62db\u8058\u8ba1\u5212\u7ba1\u7406",tabId:"teacherRecruit",component:"home",params:[{key:"",title:"\u6559\u5e08\u62db\u8058\u8ba1\u5212\u7ba1\u7406"},{key:"publish",title:"\u53d1\u5e03\u62db\u8058\u8ba1\u5212"}]},activeTab:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.COMMON_SET_ACTIVE_TAB:return Object.assign({},e,{activeTab:t.data});case B.COMMON_SET_TEACHER_RECRUIT_MSG:return Object.assign({},e,{teacherRecruitMsg:Object(m.a)(Object(m.a)({},e.teacherRecruitMsg),t.data)});default:return e}},Gi=Fi,_i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{alert:!1},t=arguments.length>1?arguments[1]:void 0;return t.type,e},Vi=_i,Yi={},Zi=Object(zi.c)({commonData:Bi,handleData:Gi,mainData:Vi,PublicState:{}}),Qi=Zi,Xi=a(893),Ki=(a(1659),a(454)),qi=a(894),$i=a.n(qi),eu=a(895),tu=a.n(eu),au=(Object(Ki.createDevTools)(r.a.createElement(tu.a,{defaultIsVisible:!1,toggleVisibilityKey:"ctrl-h",changePositionKey:"ctrl-w"},r.a.createElement($i.a,null))),Object(zi.a)(Xi.a));var nu=Object(zi.d)(Qi,Yi,au);var ru=nu,su=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function cu(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");su?(lu(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ou(t,e)}))}}function ou(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function lu(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ou(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.Provider,{store:ru},r.a.createElement(fa.a,null,r.a.createElement(Pi,null)))),document.getElementById("root")),Hi(),cu()},195:function(e,t,a){},234:function(e,t,a){},375:function(e,t,a){},376:function(e,t,a){},377:function(e,t,a){},517:function(e,t,a){e.exports=function(e,t,a,n,r){var s=(new Date).getTime(),c=String(t)+String(a),o=!1;function l(){var e=localStorage.getItem("AppDurationTimeFlag"),t=(new Date).getTime();return{AppDurationTimeFlag:e=e?JSON.parse(e):{},nowTime:t,storageKeyValue:e[c]}}function i(){setTimeout(i,3e4);var e=l(),t=e.AppDurationTimeFlag,a=e.storageKeyValue;if(!a)return!1;if(!a.refreshTime)return!1;var n=a.refreshTime,r=e.nowTime-n>6e4;return a.refreshTime=e.nowTime,t[c]=a,localStorage.setItem("AppDurationTimeFlag",JSON.stringify(t)),r}function u(e,r,s){var c;window.XMLHttpRequest?c=new XMLHttpRequest:window.ActiveObject&&(c=new ActiveXobject("Microsoft.XMLHTTP"));var o=f(),l=m(r),i=m(s),u={DataList:[{EventID:"M37_V01_"+o,UserID:n,VisitModule:a,VisitTime:l,VisitEndTime:i,SysID:t}]};u=JSON.stringify(u);var p={SysID:t,EventFlag:"M37_V01",EventData:u};p=d(p),c.open("post",e,!0),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(p)}function d(e){var t=[];for(var a in e)t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}function m(e){var t=new Date(parseInt(e)),a=t.getFullYear(),n=t.getMonth()+1;n<10&&(n="0"+n);var r=t.getDate();r<10&&(r="0"+r);var s=t.getHours();s<10&&(s="0"+s);var c=t.getMinutes();c<10&&(c="0"+c);var o=t.getSeconds();return o<10&&(o="0"+o),a+"-"+n+"-"+r+" "+s+":"+c+":"+o}function f(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}e+="api/v1/DataCol/DataDeliver",window.addEventListener("load",(function(){if(t&&a){o=!0;var e=l(),r=e.AppDurationTimeFlag,u=e.storageKeyValue,d=i();u=u||{startTime:s,endTime:0,openWebTabsCount:0,refreshTime:s,userID:n},(!sessionStorage.getItem(c)&&0==u.openWebTabsCount||d)&&(u.startTime=s,u.endTime=0),u.openWebTabsCount=d?1:u.openWebTabsCount+1,u.openWebTabsCount=Math.max(u.openWebTabsCount,1),r[c]=u,localStorage.setItem("AppDurationTimeFlag",JSON.stringify(r))}})),window.addEventListener("beforeunload",(function(){try{if(!t||!a)return;var s=l(),i=s.AppDurationTimeFlag,d=s.nowTime,m=s.storageKeyValue,f=m.openWebTabsCount;f=o?f-1:f,f=Math.max(f,0),m.endTime=d,m.openWebTabsCount=f,i[c]=m,localStorage.setItem("AppDurationTimeFlag",JSON.stringify(i)),0==f&&o&&(u(e,m.startTime,d),"function"==typeof r&&r(t,a,n,m.startTime,d)),sessionStorage.setItem(c,!0)}catch(p){console.log(p)}}))}},632:function(e,t,a){},849:function(e,t,a){},851:function(e,t){},852:function(e,t,a){},853:function(e,t,a){},854:function(e,t,a){},910:function(e,t,a){a(652),a(911),a(1133),e.exports=a(1777)}},[[910,1,2]]]);
//# sourceMappingURL=main.b9102c77.chunk.js.map