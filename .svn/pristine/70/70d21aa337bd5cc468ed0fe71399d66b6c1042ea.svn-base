{"version":3,"sources":["redux/actions/images/icon-select-1.png","redux/actions/images/icon-select-2.png","redux/actions/images/icon-select-3.png","redux/actions/images/icon-select-4.png","redux/actions/images/icon-select-5.png","redux/actions/commonActions.js","redux/actions/handleActions.js","redux/actions/index.js","component/frame/images/image-top-name.png","component/common/index.js","util/public.js","util/connect.js","util/ipConfig.js","util/fetch.js","util/init.js","component/frame/leftMenu/index.js","component/frame/images/icon-select-1.png","component/frame/images/icon-select-2.png","component/frame/Tab/index.js","component/frame/TopBar/index.js","component/frame/routeTab/index.js","component/frame/page/index.js","component/frame/index.js","pages/teachersStatisticAnalysis/importPage.js","pages/teachersStatisticAnalysis/errorCheck.js","component/table/hooks.js","component/table/index.js","component/tableList/index.js","component/bar/index.js","api/baseMsg.js","component/input/index.js","component/tableItem/index.js","pages/teachersStatisticAnalysis/baseMsg/stuStatusCount.js","pages/teachersStatisticAnalysis/baseMsg/teaStatusCount.js","component/Track/flag.js","component/Track/index.js","pages/teachersStatisticAnalysis/baseMsg/stuStatiscModal.js","pages/teachersStatisticAnalysis/historyModal.js","pages/teachersStatisticAnalysis/baseMsg/index.js","pages/teachersStatisticAnalysis/StuConditionMsg/conditionRank.js","pages/teachersStatisticAnalysis/StuConditionMsg/leaderConditionRank.js","pages/teachersStatisticAnalysis/StuConditionMsg/courseShow.js","pages/teachersStatisticAnalysis/StuConditionMsg/detailWork.js","pages/teachersStatisticAnalysis/StuConditionMsg/personStudy.js","pages/teachersStatisticAnalysis/StuConditionMsg/gradeStatistic.js","pages/teachersStatisticAnalysis/StuConditionMsg/testGrade.js","pages/teachersStatisticAnalysis/StuConditionMsg/index.js","pages/teachersStatisticAnalysis/attendanceMsg/attendanceStatus.js","pages/teachersStatisticAnalysis/attendanceMsg/courseAttendance.js","component/homeTop/index.js","pages/train/reducer.js","api/train.js","pages/train/home.js","pages/teachersStatisticAnalysis/attendanceMsg/homeAttendance.js","pages/teachersStatisticAnalysis/attendanceMsg/schoolAttendance.js","pages/teachersStatisticAnalysis/attendanceMsg/index.js","pages/teachersStatisticAnalysis/healthMsg/healthBaseMsg.js","pages/teachersStatisticAnalysis/healthMsg/detailHealth.js","pages/teachersStatisticAnalysis/healthMsg/testStatus.js","pages/teachersStatisticAnalysis/healthMsg/sportTest.js","pages/teachersStatisticAnalysis/healthMsg/detailExercise.js","pages/teachersStatisticAnalysis/healthMsg/bodyHealth.js","pages/teachersStatisticAnalysis/healthMsg/mindHealth.js","pages/teachersStatisticAnalysis/healthMsg/index.js","pages/teachersStatisticAnalysis/awardAndPunish/awardPunishRank.js","pages/teachersStatisticAnalysis/awardAndPunish/awardMsg.js","pages/teachersStatisticAnalysis/awardAndPunish/punishMsg.js","pages/teachersStatisticAnalysis/awardAndPunish/index.js","pages/teachersStatisticAnalysis/schoolLive/myLive.js","pages/teachersStatisticAnalysis/schoolLive/myConsume.js","pages/teachersStatisticAnalysis/schoolLive/myInternet.js","pages/teachersStatisticAnalysis/schoolLive/MyContact.js","pages/teachersStatisticAnalysis/schoolLive/index.js","pages/teachersStatisticAnalysis/informationizeAbility/teacherInternet.js","pages/teachersStatisticAnalysis/informationizeAbility/teacherOnline.js","api/informationizeAbility.js","pages/teachersStatisticAnalysis/informationizeAbility/index.js","pages/teachersStatisticAnalysis/analysisTop.js","component/anchor/index.js","pages/teachersStatisticAnalysis/index.js","pages/recruit/reducer.js","api/recruit.js","pages/recruit/home.js","hooks/useDetailRequest.js","component/UEditor/hooks/useUEditorLaod.js","component/UEditor/index.js","component/editor/UplaodInput.js","component/editor/index.js","component/fileDetail/index.js","pages/recruit/publish.js","pages/recruit/detail.js","pages/recruit/edit.js","pages/recruit/recruit.js","pages/recruit/index.js","pages/train/publish.js","pages/train/detail.js","pages/train/edit.js","pages/train/index.js","pages/notice/index.js","pages/teacher/train/index.js","api/personal.js","pages/teacherPersonal/personalList.js","pages/teacherPersonal/personalDetail.js","pages/teacherPersonal/index.js","component/search/hooks.js","component/search/index.js","api/search.js","pages/searchAll/bar.js","pages/searchAll/index.js","pages/personalDetail/card.js","pages/personalDetail/archives.js","pages/personalDetail/accout.js","component/progress/index.js","pages/personalDetail/teach.js","pages/personalDetail/work.js","pages/personalDetail/history.js","pages/personalDetail/information.js","pages/personalDetail/linkbtn.js","pages/personalDetail/data.js","pages/personalDetail/classStatus.js","pages/personalDetail/schoolStatus.js","pages/personalDetail/classAttainment.js","pages/personalDetail/classRank.js","pages/personalDetail/gradeRank.js","pages/personalDetail/stuHealth.js","pages/personalDetail/index.js","api/school.js","pages/school/schoolList.js","pages/school/schoolDetail.js","pages/school/index.js","pages/app/index.js","util/reportWebVitals.js","redux/reducers/commonData/index.js","redux/reducers/handleData/index.js","redux/reducers/mainData/index.js","redux/reducers/index.js","redux/store/index.js","redux/store/DevTools.js","util/serviceWorker.js","index.js","component/common/listen_app_duration_time.js"],"names":["leftMenu_1","key","name","icon","Icon_1","children","params","title","Icon_2","Icon_3","Icon_4","Icon_5","leftMenu_0","COMMON_SET_TEST","COMMON_SET_IDENTITY","COMMON_SET_USER_INFO","COMMON_SET_BASE_PLAT_FORM_MSG","COMMON_SET_ROLE_MSG","COMMON_SET_TERM_INFO","COMMON_SET_CONTENT_HW","COMMON_SET_SYSTEM_SERVER","COMMON_REFLASH","COMMON_SET_LEFT_MENU","SetLeftMenu","type","haveNotice","dispatch","getState","leftMenu","pop","data","COMMON_SET_COMMON_DATA","SetCommonData","commonData","actions","COMMON_SET_TEACHER_RECRUIT_MSG","setTeacherRecruitMsg","getProp","COMMON_SET_ACTIVE_TAB","setActiveTab","commonActions","CommonActions","handleActions","HandleActions","Option","Select","moment","locale","AppAlert","props","state","left","top","xTemp","yTemp","can_move","readyShow","e","onClose","this","onOk","onCancel","show","onHide","setTime","setTimeout","AlertBody","style","$","window","width","clientWidth","height","clientHeight","setState","focus","clearTimeout","document","on","event","$win","target","closest","css","mx","pageX","my","pageY","parseInt","mousemove","$window","mouseup","okContent","abstract","okTitle","cancelTitle","contentMaxWidth","className","cancelShow","okShow","maskShow","cancelContent","Fragment","display","ref","id","onClick","closeAlert","bind","ok","value","cancel","maxWidth","React","Component","Loading","size","tip","opacity","spinning","wrapperClassName","reset","Fragments","opacityClass","undefined","Search","selectShow","selectdValue","cancleShow","inputFocus","Value","SearchBlank","select","addEventListener","outSpanClickHandler","that","spanDom","refs","search_select_span","ulDom","search_select_ul","slideToggle","selectChange","hide","contains","onClickSearch","selectOptions","SearchInput","trim","onSearchKeyUp","nativeEvent","keyCode","placeHolder","onCancelSearch","CancelBtnShow","onChange","CancelBtnDisplay","borderColor","toggleSelectd","data-value","selectList","map","item","k","changeSelect","placeholder","onFocus","onInputFocus","onBlur","onInputBlur","onKeyUp","handleEnterKey","InputChange","SearchClick","Empty","selectType","className_1","noTitle","imageStyle","titleStyle","nextProps","Radio","ClassName","zhCN","RadioGroup","Group","CheckBox","CheckClassName","CheckBoxGroup","Table","PageComponent","showSizeChanger","showTotal","total","color","ErrorAlert","autoHide","Alert","Tip","getPopupContainer","parentNode","placement","overlayClassName","DropDownComponent","dropList","dropdownClassName","onSelect","option","find","child","Array","index","Modal","afterClose","bodyStyle","closable","footer","mask","maskClosable","maskStyle","okText","okType","visible","destroyOnClose","ModalStyle","Ref","centered","zIndex","closeIcon","cancelText","Button","HandleSize","HandleColor","disabled","handleHeight","lineHeight","handleWidth","handleStyle","Object","assign","shape","block","href","EmptyReact","component","Props","PagiNation","memo","Dropdown","getQueryVariable","variable","getUrlQueryVariable","location","url","includes","vars","divideUrl","urlSearch","split","i","length","pair","urlRemLg_tk","Url","decodeURIComponent","indexOf","lg_tk","replace","noHashUrl","param","search","push","join","addOrgToUrl","paramName","replaceWith","urlHash","urlPath","paraStr","idx","hashIndex","searchIndex","deepMap","array","callback","childrenKey","levelback","level","parent","indexArray","forEach","IndexArray","isNaN","concat","noRepeat","end","some","child2","ArrayNoRepeat","Arr1","Arr2","SimpleArrayNoRepeat","Arr","setDataStorage","haveLocalStorage","JSON","stringify","sessionStorage","setItem","localStorage","getDataStorage","console","log","getItem","parse","handleRoute","pathname","substr","checkInput","regular","success","error","fun","test","getAlertDom","AlertDom","getElementById","body","getElementsByTagName","alert","createElement","setAttribute","appendChild","autoAlert","other","ReactDOM","render","Math","round","random","debounce","fn","delay","timer","constructFileType","fileName","isDecide","lastIndexOf","FileType","slice","toLowerCase","getToken","resizeForEcharts","echartsInstance","resize","back","getClass","o","prototype","toString","call","deepCopy","obj","result","oClass","copy","changeToArray","addElement","element","Element","addScript","a","Promise","resolve","reject","charset","onload","onLoad","SetNaNToNumber","Number","transTime","time","front","unit_zh","unit_En_Up","unit_En_Low","toFixed","Time_zh","Time_En","Time_En_Low","correctNumber","number","keepDecimal","num","parseFloat","toPrecision","BrowserMsg","versions","u","navigator","userAgent","appVersion","trident","presto","webKit","gecko","mobile","match","ios","android","iPhone","iPad","webApp","weixin","qq","language","browserLanguage","Browser","agent","IEMode","documentMode","chrome","System","isIE","isGecko","isWebkit","isStrict","compatMode","supportSubTitle","supportScope","ieVersion","operaVersion","opera","versionFilter","arguments","version","start","openDatabase","shell","external","clientLanguage","clientInformation","languages","storeKeyLen","keys","webstore","client","removeSlashUrl","urlArr","TokenCheck","sysID","firstLoad","tokenValid","SESSION_TOKEN","URL_TOKEN","LOCAL_TOKEN","BasePlatformMsg","BasicWebRootUrl","WebRootUrl","baseIP","myTokenError","tokenError","tokenList","isSuccess","myCheckToken","token","checkToken","loop","isComplete","UserInfo","getUserInfo","CirculTokenCheck","LogOut","init","loginApi","method","err","ajax","dataType","jsonp","Date","getTime","lastTime","date","loginInfo","isLogin","routeToDisconnect","initType","encodeURIComponent","tokenSuccess","history","pushState","clear","removeItem","config","host","pathName","protocol","pathFolder","strArr","RootUrl","TokenProxy","proxy","BasicProxy","LoginProxy","EditorProxy","ErrorProxy","HashPrevProxy","RootProxy","COMMONKEY","TESTKEY","notAuthorizedCounter","fetchService","fetch","header","catch","exception","code","get","securityLevel","advance","headers","Accept","Authorization","requestSecure","redirect","mode","cache","credentials","then","res","advanceFetch","put","content_type","AESEncryptionUrl","AESEncryptionBody","delete","post","post2","tranfer","reqUrl","basicProxy","json","response","clone","status","StatusCode","isAllSelect","isSelect","msg","securityKey","SecurityLevel","Autorization","getSign","timeStamp","formatDate","randomString","getRandomString","baseUrl","len","$chars","maxPos","randomStr","charAt","floor","fmt","getMonth","getDate","getHours","getMinutes","getSeconds","S","getMilliseconds","RegExp","$1","getFullYear","calculateSign","handleParam","md5","substring","paramsObj","CRYPTOJSKEY","plain","p","encrypt","newUrl","urlArray","plaintText","options","CryptoJS","ECB","padding","pad","Pkcs7","enc","Utf8","encryptedBase64Str","AES","initCount","moduleID","onlyBase","getBaseUrl","getBasePlatformMsg","basePlatformMsg","userInfo","identityDetail","getIdentityDetail","termInfo","getTermInfo","SchoolID","systemServer","getSystemServer","all","IdentityCode","IsPreset","UserID","role","setUnifyRole","Data","SysID","identity","baseMsg","Role","identityCode","identityName","userType","userClass","ProductUseRange","IdentityName","UserType","UserClass","schoolID","collegeID","CollegeID","selectLevel","productLevel","frameType","lg_ic","identityList","getIdentityList","GetIdentityTypeByCode","IdentityRecognition","replaceIcOfUrl","IdentityCodes","IdentityList","ModuleID","callBack","goErrorPage","IdentityMsg","promiseList","ValidateIdentity","findIndex","IdentityItem","errcode","isExist","TermInfo","HasHistory","MenuLink","List","setShowModule","useState","openMenu","setOpenMenu","selectMenu","setSelectMenu","setRouteAgain","Path","setPath","useEffect","path","reload","haveChild","openChild","isActive","to","activeClassName","backgroundImage","stopPropagation","stopImmediatePropagation","second","secondIndex","myEvent","Event","dispatchEvent","LeftMenu","list","withRouter","forwardRef","TabPane","Tabs","Tab","ComponentList","componentList","onContentresize","tabPorps","useHistory","useLocation","TabActive","setTabActive","TabList","setTabList","setTabListLength","useContext","frameContext","useMemo","resetRoute","tabkey","tabid","mustparam","tab","shift","routeTo","active","removeTab","useCallback","rmTabid","reParam","nextTabid","nextParam","onlyOne","tabIndex","activeBar","useImperativeHandle","activeTab","tabList","useLayoutEffect","tabContent","removeEventListener","animated","activeKey","renderTabBar","DefaultTabBar","tabname","TopBar","BasePlatFormMsg","basePlatFormMsg","Identity","platMsg","moduleName","initData","Time","MsgInit","setMsgInit","msgRef","useRef","wsAddr","WebSvrAddr","rel","src","Interval","setInterval","Moment","now","format","clearInterval","onMsgClick","current","click","background","PhotoPath","cursor","open","UserName","IconUrl","ProductLogoUrl","ProductName","RouteTab","routeList","ProVersion","domList","routeid","Page","pageList","useScrollbars","pageid","Scrollbars","ipConfig","createContext","initState","contentHeight","frameReducer","Frame","pageInit","getActiveTab","roleMsg","Init","setInit","setIdentity","setUserInfo","setBasePlatFormMsg","FrameLoading","setFrameLoading","logo","PlatMsg","setPlatMsg","SystemServer","setSystemServer","MenuList","setMenuList","tabRef","useReducer","setComponentList","setRouteList","setDomList","proversion","setProVersion","setModuleName","setPageList","setInitData","setLastTime","userIdentity","node","currentIndex","each","attr","isInit","routename","checkType","frametype","dispatchs","useDispatch","Provider","minWidth","year","month","day","hour","minute","message","destroy","rtl","getContainer","mapStateToProps","isReflash","connect","ImportPage","setShowType","currentClass","currentGrade","ModuleType","currentStep","setCurrentStep","statusList","setStatusList","currentStatus","setCurrentStatus","setCurrentIndex","currentIndex2","setCurrentIndex2","importSign","setImportSign","previewSign","setPreviewSign","saveSign","setSaveSign","extraInfo","extraInfoJson","guardianList","classId","gradeId","schoolId","isPoor","photoPath","errorCorrection","guardianJson","relationship","serviceUnit","tel","userId","studentName","changeItem","address","censusPlace","idCardNum","idCardType","isGuardian","nation","position","resumeList","resumeJson","learningContent","school","semesterStartTime","certifier","semesterEndTime","duty","customRequest","formData","FormData","append","file","async","processData","contentType","isArray","showUploadList","pageSize","showQuickJumper","hideOnSinglePage","pageIndex","arr","splice","warn","border","gender","dateOfBirth","rowSpan","backgroundSize","nativePlace","nationality","colSpan","identityNum","overseaPeople","formerName","studentId","gradeName","studyingWay","homeAddress","isOnlychild","isAcceptpreschool","isLeftbehindchild","margin","marginBottom","contentHW","levelHash","ErrorCheck","checkList","setReflashError","reflashError","errorStatus","setErrorStatus","resumeModifyList","setResumeModifyList","familyModifyList","setFamilyModifyList","operateStatus","studentIds","tdList","finalObj","textDecoration","text","resume","guardian","useTableRequest","query","api","prepare","fisrtRequest","pageOptions","setPageOptions","Total","PageSize","PageIndex","IsError","tableData","setTableData","loading","setLoading","isUnMount","setIsUnMount","getList","payload","isError","handerChange","reloadList","initIndex","$Table","outLoading","pageProps","onDataChange","PageProps","Boolean","dataSource","pagination","showSorterTooltip","filters","sorter","extra","action","sortFiled","columnKey","sortType","order","tableHeader","count","updateDataList","sign","index1","userImgUrl","studentImgUrl","alt","$Bar","topContext","marginLR","barName","barId","isEmpty","emptyTitle","barRef","marginLeft","marginRight","$$typeof","MyInput","titleWidth","getValue","inputWidth","inputRef","setValue","isUpdate","setIsUpdate","Item","StucherCount","userStatus","backgroundRepeat","backgroundPosition","TeacherCount","currentTerm","reflash","countKindList","kindDataList","setKindDataList","statusInfo","setStatusInfo","currentKind","setCurrentKind","loadVisible","setLoadVisible","stuStatusVisible","setStuStatusVisible","modalStuList","setModalStuList","maleNum","dataList","maleList","femaleNum","femaleList","dayNum","dayList","boardNum","boardList","onlyChildNum","onlyChildList","notOnlyChildNum","notOnlyChildList","leftChildNum","leftChildList","notLeftChildNum","notLeftChildList","acceptPreSchoolNum","acceptPreSchoolList","notAcceptPreSchoolNum","notAcceptPreSchoolList","poorNum","poorList","notPoorNum","notPoorList","ageData","x","ageDistribution","myEchart","echarts","tooltip","trigger","grid","right","bottom","textStyle","fontSize","backgroundColor","y","r","colorStops","offset","series","radius","center","minAngle","avoidLabelOverlap","label","emphasis","itemStyle","borderWidth","setOption","nativePlaceDistribution","myEchart2","option2","nationData","nationDistribution","myEchart3","option3","nationalityDistribution","myEchart4","option4","classSize","gradeSize","schoolSize","autoHeight","autoHeightMax","photo","Flag","direction","eventType","content","Track","circleList","flagList","recordDate","str","examScore","late","homeworkScore","performanceScore","absent","leaveEarly","vacate","eventTime","eventName","eventReason","userName","j","StuStatistic","BaseMsg","term","onAnchorComplete","productMsg","setCheckList","teacherCount","studentList","setStudentList","selectStudentList","setSelectStudentList","stuStatistic","setStuStatistic","modalShowType","setModalShowType","setVisible","courseVisible","setCourseVisible","recordVisible","setRecordVisible","setUserStatus","studyList","setStudyList","familyList","setFamilyList","trackInfo","setTrackInfo","trackVisible","setTrackVisible","statisticCheckList","setStatisticCheckList","stuNameRef","censusPlaceRef","classNameRef","dateOfBirthRef","formerNameRef","genderRef","gradeNameRef","homeAddressRef","identityNumRef","isAcceptpreschoolRef","isLeftbehindchildRef","isOnlychildRef","nationRef","nationalityRef","overseaPeopleRef","studentIdRef","studyingWayRef","martyrChildRef","lowProtectRef","postalCodeRef","nativePlaceRef","isParentWorkRef","takeCareRef","isLowBadRef","isFiveRef","classNumRef","hobbitRef","studyLowProtectRef","disasterStatusRef","inSchoolWayRef","politicRef","indexAddrRef","moneyFromRef","identityTypeRef","nowLiveRef","connectAddrRef","faimlyNumRef","birthPlaceRef","identityTimeRef","badManRef","trafficWayRef","notWorkRef","badTypeRef","onlyOneRef","isbadestRef","healthTypeRef","nameChineseRef","cityWorkRef","emailRef","isHelpRef","isTakeBusRef","followClassRef","isSoldierRef","isDisasterRef","isHaveOneRef","isHavePatientRef","debtReasonRef","stuFromRef","faimlyMoneyRef","telphoneRef","ableManRef","debtNumRef","inSchoolRef","schoolDistanceRef","countRef","myStatusRef","statusTrackRef","classList","classGradeId","termId","startDate","endDate","operateStudyList","operateFamilyList","marginTop","stuName","extraInfocount","paramsCount","jsonString","val","setStudentInfo","ConditionRank","rankInfo","setRankInfo","currentTermInfo","courseShowInfo","detailWorkInfo","personalStudyInfo","testGradeInfo","rankType","learningRankListList","score","LeaderConditionRank","schoolStatisticInfo","setSchoolStatisticInfo","schoolWorkRate","setSchoolWorkRate","courseShowScore","personalStudyTime","socre","times","finishRate","CourseShow","setCourseShowInfo","leaderCourseShowInfo","setLeaderCourseShowInfo","leaderCourseGradeInfo","setLeaderCourseGradeInfo","courseGradeInfo","setCourseGradeInfo","classRateInfo","setClassRateInfo","allRateInfo","setAllRateInfo","allSubjectList","setAllSubjectList","currentSubject","setCurrentSubject","switchMonth","colorList","graphic","lessonBonusRateDataList","seriesList","xList","myDataList","classDataList","gradeDataList","subjectName","rate","barWidth","lineStyle","fontWeight","axisPointer","extraCssText","formatter","seriesName","legend","xAxis","nameTextStyle","axisTick","axisLine","axisLabel","interval","dataZoom","maxValueSpan","showDetail","moveHandSize","yAxis","min","max","splitLine","addList","sujbectList","Set","sum","minInterval","performanceStatistics","everydayLessonScoreDataList","updateSubjectList","addAll","subtractAll","raiseAll","dots","DetailWork","gradeCompleteRateList","setGradeCompleteRateList","gradePassRateList","setGradePassRateList","gradeAvgScoreList","setGradeAvgScoreList","gradeDetailScoreList","setGradeDetailScoreList","classCompleteRateList","setClassCompleteRateList","classPassRateList","setClassPassRateList","classAvgScoreList","setClassAvgScoreList","classDetailScoreList","setClassDetailScoreList","setGradeRankInfo","completeRateList","setCompleteRateList","passRateList","setPassRateList","avgScoreList","setAvgScoreList","completeVisible","setCompleteVisible","passVisible","setPassVisible","avgVisible","setAvgVisible","subjectVisible","setSubjectVisible","completeRateType","setCompleteRateType","passRateType","setPassRateType","detailScoreList","setDetailScoreList","subjectList","myList","homeworkRateList","minValueSpan","passRate","homeworkScore2List","subject","updateAvgList","arr2","percent","showInfo","strokeColor","defaultValue","PersonStudy","studyInfo","setStudyInfo","classStudyInfo","setClassStudyInfo","gradeStudyInfo","setGradeStudyInfo","studyStatistic","setStudyStatistic","classStudyStatistic","setClassStudyStatistic","gradeStudyStatistic","setGradeStudyStatistic","studyStatisticList","setStudyStatisticList","studySubjectList","setStudySubjectList","selfStudyDaysList","selfStudySubjectList","selfStudyDetails","child3","gradeList","useTime","selfStudy","maxSubject","maxTime","avgTime","GradeStatistic","gradeInfo","setGradeInfo","overallScore2","overallSubjectList","grade","courseCount","avgScore","classAvgScore","paddingTop","gradeAvgScore","schoolAvgScore","comment","TestGrade","currentTestType","setCurrentTestType","setSubjectList","testInfoList","setTestInfoList","classInfoList","setClassInfoList","gradeInfoList","setGradeInfoList","termNameInfo","examType","examScoreAndRankList","maxDataList","examName","maxScore","classRank","gradeRank","StuCondition","workVisible","setWorkVisible","studyVisible","setStudyVisible","testVisible","setTestVisible","subjectScoreList","setSubjectScoreList","workList","setWorkList","courseList","setCourseList","conditionRank","courseStatus","detailWork","personStudy","testGrade","gradeShow","stuConditionTrack","AttendanceStatus","attendanceList","setAttendanceList","schoolAttendanceInfo","setSchoolAttendanceInfo","dataIndex","ellipsis","paginationObj","avgAttendanceRate","vacateTimes","lateTimes","columns","rowClassName","CourseAttendance","rateList","setRateList","classRateList","setClassRateList","gradeRateList","setGradeRateList","echartLoading","setEchartLoading","absentRateDetailList","absentRate","avgAttendanceRateResult","leaveEarlyTimes","absentTimes","HomeTop","publish","draft","tableProps","SearchValue","setSearchValue","tableRef","reloadDraft","onVisibleChange","minHeight","onSearch","Context","keyword","compoent","Reducer","getCruitList","rStatus","Index","Title","source","Issue","publisher","CreatorName","ReleaseTime","getCruitListByTeacher","getTrainDetail","ErrCode","ID","TID","publishTrain","SelectLevel","TStatus","Content","FileList","Limit","ApplyBeginTime","ApplyEndTime","ActivityFlag","ApplyFlag","editTrain","deleteTrain","TIDs","applyTrain","Action","Home","setDispatch","setQuery","setDraft","initGet","widthRate","align","textWrap","ApplyCount","ActivityList","DeleteTrain","draftColumns","homeTopRef","topDraft","Draft","handleData","teacherTrainMsg","HomeAttendance","homeAttendanceInfo","setHomeAttendanceInfo","homeAttendanceList","setHomeAttendanceList","currentRange","setCurrentRange","gradeHomeAttendanceInfo","setGradeHomeAttendanceInfo","classHomeAttendanceInfo","setClassHomeAttendanceInfo","attendanceGateDayList","dayDate","avg","detailDataList","timeDetailName","outTime","attendanceDormitory","inTime","avgOutTime1","avgInTime1","textAlign","avgOutTime2","avgInTime2","avgOutTime3","avgInTime3","SchoolAttendance","attendanceGate","AttendanceMsg","courseAttendanceList","setCourseAttendanceList","attendanceStatus","courseAttendance","homeAttendance","schoolAttendance","attendanceTrack","HealthBaseMsg","infoList","setInfoList","leaderLnfoList","setLeaderInfoList","leaderPositionList","setLeaderPositionList","schoolInfoList","setSchoolInfoList","currentGender","setCurrentGender","setSchoolStudentList","setSchoolStatistic","maleHeight","male","maleWeight","weight","maleBMI","bmiIndex","femaleHeight","female","femaleWeight","femaleBMI","avgInfo","healthyInfoList","appendToBody","userData","symbolSize","heightList","weightList","recordTime","averageHeight","averageWeight","normal","symbol","BMIList","baseInfo","classAverageHeight","gradeAverageHeight","classAverageWeight","gradeAverageWeight","DetailHealth","sickInfo","temperatureInfo","temType","setTemType","sickList","setSickList","temperatureList","setTemperatureList","averageTemperature","countList","timesList","studentAverageDuration","studentAverageCount","classAverageDuration","classAverageCount","gradeAverageDuration","gradeAverageCount","abNormalCount","abNormalRate","sickRecordCount","sickRecordDuration","totalCount","TestStatus","testAvg","projectList","echartList","setEchartList","subjectId","legendList","classAverage","gradeAverage","studentScore","gradeSubjectScoreList","average","averageScore","classAverageScore","gradeAverageScore","schoolAverageScore","studentAverageScore","testProject","SportTest","sportTestList","setSportTestList","testSum","setTestSum","testName","totalScore","strokeWidth","DetailExercise","detailInfo","setDetailInfo","setCurrentDateType","classPerWeek","schoolSportsMettingTimes","sportTimeDayAVG","BodyHealth","setTestAvg","setProjectList","setSickInfo","setTemperatureInfo","temVisible","setTemVisible","sickVisible","setSickVisible","testList","setTestList","temList","setTemList","offworkTypeInfo","1","2","0","kindList","subjectTotalScore","offworkType","MindHealth","mindTestInfo","setMindTestInfo","mentalHealthTestList","testResult","normalNumber","testDate","HealthMsg","baseMsgInfo","setBaseMsgInfo","heightWeightVisible","setHeightWeightVisible","mindVisible","setMindVisible","heightWeightList","setHeightWeightList","mindList","setMindList","bodyHealth","mindHealth","testResults","AwardPunishRank","awardList","setAwardList","punishList","setPunishList","classInfo","rewardsCount","arr1","punishCount","userImageUrl","username","AwardMsg","awardStatisticList","setAwardStatisticList","setGradeAwardList","listType","setListType","awardLevelList","records","awardLevelName","awardClassList","awardClass","classSumList","gradeSumList","personalTimes","classTimes","gradeTimes","classCount","sumList","totalTimes","unshift","updateAwardList","awardLevel","awardName","paddingBottom","PunishMsg","punishInfo","setPunishInfo","leaderPubishInfo","setLeaderPunishInfo","currentDataType","setCurrentDataType","stuCount","gradeCount","schoolCount","punishmentType","punishmentLevel","schoolLevelCount","gradeLevelCount","classLevelCount","AwardAndPunish","awardVisible","setAwardVisible","punishVisible","setPunishVisible","awardPunishMsg","awardMsg","punishMsg","trackRef","punishmentTypeList","awardClassName","punishmentTypeName","setStudentAwardInfo","setStudentPunishInfo","MyLive","liveData","setLiveData","liveList","setLiveList","inList","outList","homeList","classAverageInCampusTime","classAverageOutCampusTime","classAverageDormitoryTime","classLengthOfClassTime","studentLengthOfClassTime","gradeLengthOfClassTime","studentAverageDormitoryTime","gradeAverageDormitoryTime","studentAverageInCampusTime","gradeAverageInCampusTime","studentAverageOutCampusTime","gradeAverageOutCampusTime","MyConsume","consumeList","setConsumeList","consumeGradeList","setConsumeGradeList","consumeClassList","setConsumeClassList","consumeStatisticList","setConsumeStatisticList","orderTimestamp","orderDate","place","personalCount","gradeSum","classSum","MyInternet","internetList","setInternetList","internetGradeList","setInternetGradeList","internetClassList","setInternetClassList","internetStatisticList","setInternetStatisticList","startTime","duration","MyContact","SchoolLive","myLive","myConsume","myInternet","liveTrack","TeacherInternet","DayAvgTimeSpan","DayAvgLoginCount","AvgLoginTimeSpan","TotalTeacher","DayAvgOnlineUser","DayAvgOfflineUser","DayAvgOnlinePercent","SubSet","subEchart","setSubEchart","taEchart","setTaEchart","taRef","subRef","myEchart_ta","myEchart_sub","dataset_ta","labelColor","labelSize","dataset_sub","pieOption","dataset","shadowColor","shadowBlur","colorIndex","sizeIndex","rich","NodeName","subOption","sub","containLabel","minSpan","maxSpan","zoomLock","showDataShadow","nameGap","barGap","barMaxWidth","x2","y2","borderRadius","taOption","off","TransTime","tTime","TeacherOnline","TPCount","AvgUploadTPCount","AvgUploadUserCount","HasUploadedCount","NoUploadedCount","UploadedPercent","row","itemWidth","itemHeight","itemGap","getTeachER","InformationizeAbility","teacherInternet","setTeacherInternet","erRef","tpRef","AnalysisTop","termselect","termlist","onTermChange","schoolMsg","getHeight","onTypeChange","onClassChange","onGradeChange","teacherClassList","setReFlash","TermList","setTermList","TypeList","TermSelect","setTermSelect","TypeSelect","setCourseClassList","templateList","setTemplateList","setCurrentGrade","setCurrentClass","currentClassName","setCurrentClassName","classPKVisible","setClassPKVisible","myClass","setMyClass","compareClass","setCompareClass","myClassData","setMyClassData","compareClassData","setCompareClassData","changeVisible","setChangeVisible","chooseVisible","setChooseVisible","myWinCount","setMyWinCount","compareWinCount","setCompareWinCount","gradeClassList","setGradeClassList","boxRef","updateClassList","filter","topType","isSchool","LogoUrl","compareList","myCount","compareCount","pkProjects","projectName","downloadTemplate","outputPage","html2canvas","scale","canvas","imgUrl","toDataURL","imgName","termName","download","MouseEvent","importMethod","pkClick","getClassInfo","webSvrAddr","fileList","wrapClassName","trailColor","from","tota","compareClassInfo","unit","Anchor","scrollref","bottomheight","setShow","anchorList","setAnchorList","activeLink","setActiveLink","refuseRef","getClientHeight","scrollTop","handleScroll","getScrollHeight","offsetTop","$ref","onScroll","getScrollTop","ScrollTop","ClientHeight","offsetForBottom","fullBar","visualHeight","offsetVisualBottom","currentBar","onClickScroll","Analysis","roleData","setTopType","bottomHeight","setTypeSelect","topHeight","setTopHeight","setModuleID","showType","setGradeList","setClassList","setTeacherClassList","topRef","anchorRef","scrollRef","updateTermList","onUpdate","anchor","getRecruitDetail","RID","publishRecruit","RStatus","editRecruit","deleteRecruit","RIDs","teacherRecruitMsg","tabId","DeleteRecruit","useDetailRequest","setID","IsLoaded","IsExist","Status","CreatorID","UpdateTime","detailData","setDetailData","getDetailData","useUEditorLaod","UE","setUE","Ready","setReady","onerror","ResHttpRootUrl","UEDITOR_HOME_URL","jqLaod","configLaod","all_minLaod","parseLaod","langLaod","ue","getEditor","toolbars","wordCount","elementPathEnabled","ready","loadScript","UEditor","Id","setContent","addListener","Blur","getContent","TextArea","rows","UplaodInput","onFileUplaod","onUplaodPercert","initFile","onFileUpMD5","fileMD5","CompletePercert","setCompletePercert","UplaodParams","setUplaodParams","InputRef","ForbinClick","setForbinClick","calculate","fileReader","FileReader","blobSlice","File","mozSlice","webkitSlice","chunkSize","chunks","ceil","currentChunk","spark","SparkMD5","loadNext","readAsBinaryString","appendBinary","file_md5","upload","skip","fileSavePath","blockSize","nextSize","fileData","fileIP","textStatus","jqXHR","info","Msg","FileUrl","txtStatus","errorThrown","fileUpload","input","files","FileName","FileSize","RangePicker","Input","DatePicker","Editor","schema","preview","fileid","sourceName","setTitle","titleVisible","setTitleVisible","titleTip","setTitleTip","setSource","sourceVisible","setSourceVisible","sourceTip","setSourceTip","setFile","setFileMD5","main","setMain","mainVisible","setMainVisible","mainTip","setMainTip","applyFlag","setApplyFlag","applyFlagVisible","setApplyFlagVisible","applyFlagTip","limit","setLimit","limitVisible","limitTip","activityFlag","setActivityFlag","activityFlagVisible","setActivityFlagVisible","activityFlagTip","applyBeginTime","setApplyBeginTime","applyEndTime","setApplyEndTime","applyTimeVisible","setApplyTimeVisible","applyTimeTip","setApplyTimeTip","allowApply","setAllowApply","UploadRef","handleChange","applyFlagList","activityFlagList","UEditorRef","checkGeneralInput","isNull","checkTitle","checkSource","checkContent","checkApplyFlag","checkActivityFlag","checkApplyTime","begin","isValid","diff","checkLimit","checkAll","every","percert","maxLength","dates","dateString","allowEmpty","disabledDate","showTime","filename","fileSize","FileDetail","onReturn","onComfirm","previewData","UseScrollbars","preRef","html","whiteSpace","fontFamily","Publish","setPreview","ActiveTab","setPreviewData","Datail","detailRef","Recruit","recruitid","setComponent","homeRef","controlSize","Train","Notice","setKeyword","typeList","handleType","handleTitle","handleClassName","3","4","5","ApplyStatus","HasApplied","ApplyTrain","getTeacherList","nodeType","nodeID","getNode","NodeID","NodeType","parentID","GetSubSystemsMainServerBySubjectID","sysIDs","GetTermAndPeriodAndWeekNOInfo","userID","ItemWeek","NowWeekSelect","WeekList","NowWeek","WeekNO","StartDate","endTime","EndDate","GetTeacherResView","subjectNames","subjectIDs","UploadCount","UploadAllScale","BrowseCount","UploadSubjectScale","AllCount","AllScale","UseCount","AllSubject","SubjectName","SUbjectID","SubjectID","Scale","SubjectScale","GetTeachPlanStatistics","PCLink","GetTeacherpercentage","uploadCount","uploadAllScale","browseCount","uploadSubjectScale","subjectID","subjectScale","GetTeacherWork","semester","pageNum","administrativeClassNum","classNum","invigilationNum","scheduleCount","GetResearchByUserID","ProjectCount","CompletedCount","ActivityCount","GetDevelopmentHistory","ChangeDetail","ChangeTime","GetLogInfoByUserID","DayTimeList","Count","TimeSpan","DayOnlineList","PersonalList","levelMsg","belong","belondName","SchoolList","FirstNodeList","setFirstNodeList","SecondNodeList","setSecondNodeList","SecondNodeObj","setSecondNodeObj","firstSelect","setFirstSelect","secondSelect","setSecondSelect","belongBefore","PersonalDetail","TeacherPersonal","useSearchRequest","setResult","proList","Res","LGSearch","searchResult","overlayStyle","myResult","setMyResult","searchRef","dom","isOut","points","overflow","adjustX","adjustY","Bar","setSelect","setHeight","contentRef","outerHeight","defaultName","SearchAll","setList","empty","setEmpty","keyMap","RecruitmentList","idKey","nameKey","CollegeList","TeacherList","TrainList","nameArray","c","Card","cardid","btn","lock","componentProps","addrList","addr","nodeName","Archives","myInfo","setMyInfo","GradeRank","termStartDate","termEndDate","Progress","StuHealth","setBaseMsg","sickRecord","setSickRecord","healthyInfo","setHealthyInfo","sickRate","latestAverageTemperature","Work","countInfo","rateInfo","setRateInfo","avgAbsentRate","History","dot","index2","Information","awardKind","awardKindList","updateAwardKindList","punishKindList","updatePunishKindList","Linkbtn","commentList","setCommentList","qualityItemList","itemName","rank","marker","radar","indicator","startAngle","splitNumber","splitArea","areaStyle","ClassStatus","setClassInfo","SchoolStatus","schoolInfo","setSchoolInfo","leaderInfo","setLeaderInfo","ClassAttainment","ClassRank","rankList","setRankList","renderThumbVertical","sumAvg","teachermsg","teacherid","Gender","Sign","storageUserInfo","listenAppDurationTime","allVisible","setRate","classListVisible","setClassListVisible","zoomType","setZoomType","personalRef","animationType","setAnimationType","SelectCard","setSelectCard","SysUrl","setSysUrl","archives","setArchives","setAccout","setInformation","setTeach","TeachPlan","setTeachPlan","Percentage","setPercentage","ResView","setResView","SubjectList","setWork","WorkTerm","setWorkTerm","WorkTermList","setHistory","setWeekList","WeekData","setWeekData","DataParams","setDataParams","setCurrentTerm","awardPunishTrack","setAwardPunishTrack","setAttendanceTrack","cardList","classOne","SubjectIDs","SubjectNames","SubjectIDList","WsSvrAddr","page","getPX","old","onCardClick","archivesBtn","toUrl","transform","Teach","Accout","v","WebkitTransform","MozTransform","OTransform","MsTransform","reg","rotateY","translateZ","cos","onMouseEnter","onMouseLeave","HistoryDom","onTermSelect","termSelect","termList","onWeekSelect","weekSelect","weekList","getSchoolList","getSchoolMsg","canControl","Culomns","ListFirst","setListFirst","CulomnsSelect","setCulomnsSelect","Term","TermName","haveCollege","EndCulomns","culomnsData","TableTip","onCheckChange","sort","b","fixed","scroll","toolTipRef","tool","destroyTooltipOnHide","SchoolDetail","SelectTab","nextProductLevel","nextSelectLevel","nextTitle","School","SchoolMsg","setSchoolMsg","App","recruitId","tabName","first","TeacherName","setFrameType","forceUpdate","setForceUpdate","TeacherMsg","TeacherID","OnlyBase","setOnlyBase","RecruitID","frameRef","NameData","schoolList","schoolDetail","moduleType","controlRoute","searchApi","RemoveTab","onEdit","pageTitle","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ganger","mainData","initialState","rootReducers","combineReducers","PublicState","enhancer","createDevTools","defaultIsVisible","toggleVisibilityKey","changePositionKey","applyMiddleware","thunk","store","createStore","isLocalhost","hostname","register","URL","process","origin","swUrl","checkValidServiceWorker","serviceWorker","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onSuccess","unregister","StrictMode","module","exports","modelID","storageKey","String","isLoad","getBasicData","AppDurationTimeFlag","nowTime","storageKeyValue","compareRefreshTime","basicData","refreshTime","flag","sendData","xhr","XMLHttpRequest","ActiveObject","ActiveXobject","guid","Guid","EventData","DataList","EventID","VisitModule","VisitTime","VisitEndTime","EventFlag","formatParams","setRequestHeader","send","dateTime","m","d","h","mm","s","S4","refreshTimeFlag","openWebTabsCount"],"mappings":"mjCAAe,mcCAA,unCCAA,2qBCAA,mxBCAA,u2BCsDTA,EAAa,CACjB,CACEC,IAAK,iBACLC,KAAM,uCACNC,KAAMC,EACNC,SAAU,CACR,CACEJ,IAAK,iBACLC,KAAM,wCAER,CACED,IAAK,UACLC,KAAM,kCAER,CACED,IAAK,kBACLC,KAAM,wCAER,CACED,IAAK,wBACLC,KAAM,8CAER,CACED,IAAK,iBACLC,KAAM,2BACNI,OAAQ,CAAC,CAAEL,IAAK,eAAgBM,MAAO,gCAI7C,CACEN,IAAK,kBACLC,KAAM,uCACNC,KAAMK,EACNH,SAAU,GACVC,OAAQ,CAAC,CAAEL,IAAK,uBAAwBM,MAAO,0CAEjD,CACEN,IAAK,iBACLC,KAAM,mDACNC,KAAMM,EACNJ,SAAU,GAEVC,OAAQ,CACN,CAAEL,IAAK,iBAAkBM,MAAO,wCAChC,CAAEN,IAAK,cAAeM,MAAO,wCAC7B,CAAEN,IAAK,gBAAiBM,MAAO,0CAGnC,CACEN,IAAK,eACLC,KAAM,mDACNC,KAAMO,EACNL,SAAU,GACVC,OAAQ,CACN,CAAEL,IAAK,eAAgBM,MAAO,wCAC9B,CAAEN,IAAK,YAAaM,MAAO,wCAC3B,CAAEN,IAAK,cAAeM,MAAO,0CAGjC,CAAEN,IAAK,SAAUC,KAAM,2BAAQC,KAAMQ,EAAQN,SAAU,KAEnDO,EAAa,CACjB,CACEX,IAAK,kBACLC,KAAM,2BACNC,KAAMK,EACNH,SAAU,GACVC,OAAQ,CAAC,CAAEL,IAAK,sBAAuBM,MAAO,8BAEhD,CACEN,IAAK,eACLC,KAAM,2BACNC,KAAMC,EACNC,SAAU,CACR,CACEJ,IAAK,eACLC,KAAM,4BAER,CACED,IAAK,kBACLC,KAAM,4BAER,CACED,IAAK,gBACLC,KAAM,4BAER,CACED,IAAK,YACLC,KAAM,4BAER,CACED,IAAK,iBACLC,KAAM,4BAER,CACED,IAAK,gBACLC,KAAM,2CA+BRW,EAAkB,kBAClBC,EAAsB,sBACtBC,EAAuB,uBACvBC,EAAgC,gCAChCC,EAAsB,sBACtBC,EAAuB,uBACvBC,EAAwB,wBACxBC,EAA2B,2BAE3BC,EAAiB,iBAEjBC,EAAuB,uBAEvBC,EAAc,WAAkC,IAAjCC,EAAgC,uDAAzB,EAAGC,IAAsB,yDACnD,OAAO,SAACC,EAAUC,GAChB,IAAIC,EAAoB,IAATJ,EAAaxB,EAAaY,EACzC,OAAQY,GACN,KAAK,EACHI,EAAWhB,EAEX,MACF,KAAK,EACHgB,EAAW5B,EAEX,MACF,KAAK,EACHA,EAAW,GAAGK,SAAS,GAAGH,KAAO,2BACjCF,EAAW,GAAGK,SAAS,GAAGC,OAAO,GAAGC,MAAQ,2BAC5CqB,EAAW5B,EAEX,MACF,QACE4B,EAAWhB,EAEVa,GACHG,EAASC,MAEXH,EAAS,CACPF,KAAMF,EACNQ,KAAMF,MAKNG,EAAyB,yBACzBC,EAAgB,SAACF,GACrB,OAAO,SAACJ,EAAUC,GAAc,IACxBM,EAAeN,IAAfM,WACNP,EAAS,CACPF,KAAMO,EACND,KAAK,2BAAMG,GAAeH,OAI1BI,EAAU,CACdH,yBACAC,gBACAd,uBACAL,kBACAE,uBACAC,gCACAF,sBACAG,sBACAE,wBACAC,2BACAE,uBACAD,iBACAE,eAEaW,ICxMTC,EAAiC,iCACjCC,EAAuB,SAACN,GAC5B,OAAO,SAACJ,EAAUW,GAChBX,EAAS,CAAEF,KAAMW,EAAgCL,WAI/CQ,EAAwB,wBACxBC,EAAe,SAACT,GACpB,OAAO,SAACJ,EAAUW,GAChBX,EAAS,CAAEF,KAAMc,EAAuBR,WAGtCI,EAAU,CACdI,wBACAC,eAEAJ,iCACAC,wBAEaF,IC5CJM,EAAgBC,EAChBC,EAAgBC,E,mCC3BZ,uvS,4OCwBTC,GAAWC,KAAXD,OACNE,KAAOC,OAAO,S,IAMRC,G,kDACJ,WAAYC,GAAQ,IAAD,uBACjB,cAAMA,IAEDC,MAAQ,CACXC,KAAM,EAENC,IAAK,EAELC,MAAO,EAEPC,MAAO,EAEPC,UAAU,EAEVC,WAAW,GAdI,S,8CAoBnB,SAAWC,GAAI,IACLC,EAAYC,KAAKV,MAAjBS,QACJA,GACFA,M,gBAIJ,SAAGD,GAAI,IACGG,EAASD,KAAKV,MAAdW,KACJA,GACFA,M,oBAIJ,SAAOH,GAAI,IACDI,EAAaF,KAAKV,MAAlBY,SACJA,GACFA,M,gCAIJ,WAAsB,IAAD,EACYF,KAAKV,MAA5Ba,EADW,EACXA,KAAMtC,EADK,EACLA,KAAMuC,EADD,EACCA,OAChBD,IAES,YAATtC,GACS,UAATA,GACS,SAATA,GACS,SAATA,GAEIuC,IACFJ,KAAKK,QAAUC,WAAWF,EAAQ,OAmBpCJ,KAAKO,WAAaJ,IAASH,KAAKT,MAAMM,YACxCG,KAAKO,UAAUC,MAAMhB,MAClBiB,IAAEC,QAAQC,QAAUX,KAAKO,UAAUK,aAAe,EAAI,KAEzDZ,KAAKO,UAAUC,MAAMf,KAClBgB,IAAEC,QAAQG,SAAWb,KAAKO,UAAUO,cAAgB,EAAI,KAE3Dd,KAAKe,SAAS,CAAElB,WAAW,IAE3BY,IAAE,qCAAqCO,UAGpCb,GAAQH,KAAKT,MAAMM,WACtBG,KAAKe,SAAS,CAAElB,WAAW,M,kCAG/B,WACEoB,aAAajB,KAAKK,W,+BAEpB,WAAqB,IAAD,EACaL,KAAKV,MAA5Ba,EADU,EACVA,KAAMtC,EADI,EACJA,KAAMuC,EADF,EACEA,OAChBD,IAES,YAATtC,GACS,UAATA,GACS,SAATA,GACS,SAATA,GAEIuC,IACFJ,KAAKK,QAAUC,WAAWF,EAAQ,OAsGpCJ,KAAKO,WAAaJ,IAASH,KAAKT,MAAMM,YACxCG,KAAKO,UAAUC,MAAMhB,MAClBiB,IAAEC,QAAQC,QAAUX,KAAKO,UAAUK,aAAe,EAAI,KAEzDZ,KAAKO,UAAUC,MAAMf,KAClBgB,IAAEC,QAAQG,SAAWb,KAAKO,UAAUO,cAAgB,EAAI,KAE3Dd,KAAKe,SAAS,CAAElB,WAAW,MAGxBM,GAAQH,KAAKT,MAAMM,WACtBG,KAAKe,SAAS,CAAElB,WAAW,IAG7BY,KAAE,WACA,IAAIf,EAAOC,EAEPC,GAAW,EAEfa,IAAES,UAAUC,GAAG,YAAa,4BAA4B,WACtD,OAAO,KAGTV,IAAES,UAAUC,GAAG,YAAa,4BAA4B,SAAUC,GAChE,IAAIC,EAAOZ,IAAEW,EAAME,QAAQC,QAAQ,yBAEnC3B,GAAW,EAEXa,IAAE,yBAAyBe,IAAI,SAAU,QAEzC,IAAIC,EAAKL,EAAMM,MAEXC,EAAKP,EAAMQ,MAEflC,EAAQ+B,EAAKI,SAASR,EAAKG,IAAI,SAE/B7B,EAAQgC,EAAKE,SAASR,EAAKG,IAAI,WAGjCf,IAAEC,QACCoB,WAAU,SAAUV,GACnB,GAAIxB,EAAU,CACZ,IAAIyB,EAAOZ,IAAEW,EAAME,QAAQC,QAAQ,yBAE/BQ,EAAUtB,IAAEC,QAEZe,EAAKL,EAAMM,MAEXC,EAAKP,EAAMQ,MAEXH,EAAK/B,EAAQ,GAAK+B,EAAK/B,EAAQqC,EAAQpB,QAAUU,EAAKV,SACxDU,EAAKG,IAAI,OAAQC,EAAK/B,GAItBiC,EAAKhC,EAAQ,GACbgC,EAAKhC,EAAQoC,EAAQlB,SAAWQ,EAAKR,UAErCQ,EAAKG,IAAI,MAAOG,EAAKhC,OAI1BqC,SAAQ,WACPpC,GAAW,EAEXa,IAAE,yBAAyBe,IAAI,SAAU,mB,oBAKjD,WAAU,IAgBJS,EAhBG,SAUHjC,KAAKV,MARPzB,EAFK,EAELA,KACAjB,EAHK,EAGLA,MACAsF,EAJK,EAILA,SACAC,EALK,EAKLA,QACAC,EANK,EAMLA,YACAjC,EAPK,EAOLA,KACAkC,EARK,EAQLA,gBACAC,EATK,EASLA,UATK,EAYsBtC,KAAKV,MAA5BiD,EAZC,EAYDA,WAAYC,EAZX,EAYWA,OAEdC,GAAW,EAGbC,EAAgB,GAElB,OAAQ7E,GACN,IAAK,cACL,IAAK,YACL,IAAK,WAOL,IAAK,YACH4E,GAAW,EACXD,EAAoB,MAAXA,EACTD,EAA4B,MAAfA,EACbN,EAAYE,GAAoB,eAChCO,EAAgBN,GAA4B,eAC5C,MACF,IAAK,WACHK,GAAW,EACXD,GAAS,EACTD,EAA4B,MAAfA,EACbG,EAAgBN,GAA4B,2BAC5C,MACF,QACEK,GAAW,EACXF,GAAa,EACbC,GAAS,EACTP,EAAY,eACZS,EAAgB,eAGpB,OACE,kBAAC,IAAMC,SAAP,KACGxC,EACCsC,EACE,kBAAC,IAAME,SAAP,KACE,yBACEL,UAAS,4BAAuBA,GAAwB,IACxD9B,MAAO,CAAEoC,QAAQ,GAAD,OAAKzC,EAAO,QAAU,WAExC,yBACEmC,UAAS,2BAAsBA,GAAwB,IACvD9B,MAAO,CAAEoC,QAAQ,GAAD,OAAKzC,EAAO,QAAU,UAEtC,yBACE0C,IAAK,SAACA,GAAD,OAAU,EAAKtC,UAAYsC,GAChCP,UAAU,8BACVQ,GAAG,wBAIH,yBAAKR,UAAU,4BAEf,yBACEA,UAAU,kBACVS,QAAS/C,KAAKgD,WAAWC,KAAKjD,QAEhC,yBACEsC,UAAS,+BACPJ,EAAW,eAAiB,KAG7BA,EACC,yBAAKI,UAAS,mBAAczE,KAE5B,yBAAKyE,UAAS,oBAAezE,KAE/B,yBACEyE,UAAS,2BAAsBJ,EAAW,MAAQrE,IAEjDjB,GAEFsF,EACC,yBAAKI,UAAU,yBAAyBJ,GAExC,IAGJ,yBAAKI,UAAU,uBACZE,EACC,2BACE3E,KAAK,SACLyE,UAAU,KACVS,QAAS/C,KAAKkD,GAAGD,KAAKjD,MACtBmD,MAAOlB,IAGT,GAEDM,EACC,2BACE1E,KAAK,SACLyE,UAAU,SACVS,QAAS/C,KAAKoD,OAAOH,KAAKjD,MAC1BmD,MAAOT,IAGT,OAOV,yBACEJ,UAAS,yBAAoBnC,EAAO,YAAc,GAAzC,YACPmC,GAAwB,IAE1BO,IAAI,kBAEJ,yBAAKP,UAAU,UACb,yBACEA,UAAS,4BAAuBzE,GAChC2C,MAAO6B,EAAkB,CAAEgB,SAAUhB,GAAoB,IAExDzF,KAMT,Q,GA5Za0G,IAAMC,WAyavBC,G,4JACJ,WAAU,IAAD,EAUHxD,KAAKV,MARPzB,EAFK,EAELA,KACA4F,EAHK,EAGLA,KACAC,EAJK,EAILA,IACAC,EALK,EAKLA,QACAC,EANK,EAMLA,SACAC,EAPK,EAOLA,iBACAnH,EARK,EAQLA,SACGoH,EATE,wFAYHC,EAAY,GAEZC,EAAe,GAkEnB,OAhEIL,GAEc,IAAZA,IACFK,EAAe,wBAKfA,OAFcC,IAAZN,EAEa,GAEA,kBAQfI,EAJAlG,EACW,UAATA,EAIA,yBAAKyE,UAAS,uBAAkB0B,IAC9B,yBAAK1B,UAAU,2BACb,yBAAKA,UAAU,mBACb,0BAAMA,UAAU,iBAChB,0BAAMA,UAAU,iBAChB,0BAAMA,UAAU,iBAChB,0BAAMA,UAAU,kBAElB,yBAAKA,UAAU,sBAAsBoB,KAQzC,kBAAC,KAAD,CAEEE,SAAUA,EACVH,KAAMA,EACNC,IAAKA,EACLG,iBAAgB,UACdA,GAAsC,GADxB,YAEZG,IAEHtH,GAOL,kBAAC,KAAD,iBACMoH,EADN,CAEEL,KAAMA,EACNG,SAAUA,EACVF,IAAKA,EACLG,iBAAgB,UACdA,GAAsC,GADxB,YAEZG,KAEHtH,GAKL,kBAAC,IAAMiG,SAAP,KACG,IAEAoB,O,GArFaT,IAAMC,WAiuBtBW,IAjoBsBZ,IAAMC,U,kDAkoBhC,WAAYjE,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACX4E,YAAY,EACZC,aAAc,GACdC,YAAY,EACZC,YAAY,EACZC,MAAO,GACPC,aAAa,GARE,E,+CAYnB,SAAY1E,GACVE,KAAKe,SAAS,CAAEwD,MAAOzE,EAAEwB,OAAO6B,U,+BAGlC,WAAqB,IAAD,OACCnD,KAAKV,MAAhBmF,QAENvD,SAASwD,iBAAiB,SAAS,SAAC5E,GAAD,OACjC,EAAK6E,oBAAoB,CACvBC,KAAM,EACNtD,OAAQxB,EAAEwB,OACVuD,QAAS,EAAKC,KAAKC,mBACnBC,MAAO,EAAKF,KAAKG,wB,2BAMzB,SAAcnF,GAAI,IAAD,OAEfE,KAAKe,SAAS,CAAEoD,YAAanE,KAAKT,MAAM4E,aAAc,WACpD1D,IAAE,EAAKqE,KAAKG,kBAAkBC,YAAY,a,0BAG9C,SAAapF,GAAI,IAAD,OACNqF,EAAiBnF,KAAKV,MAAtB6F,aAERnF,KAAKe,SAAS,CAAEqD,aAAc,CAAEjB,MAAOrD,EAAEqD,MAAOvG,MAAOkD,EAAElD,SACzDoD,KAAKe,SAAS,CAAEoD,YAAanE,KAAKT,MAAM4E,aAAc,WACpD1D,IAAE,EAAKqE,KAAKG,kBAAkBG,OAE9BD,EAAarF,Q,iCAGjB,SAAoBA,GAAI,IACdwB,EAAiCxB,EAAjCwB,OAAQ0D,EAAyBlF,EAAzBkF,MAAOJ,EAAkB9E,EAAlB8E,KAAMC,EAAY/E,EAAZ+E,QACzBA,IAAYA,EAAQQ,SAAS/D,IAC/BsD,EAAK7D,SAAS,CAAEoD,YAAY,IAAS,WACnC1D,IAAEuE,GAAOI,Y,0BAIf,WACEpF,KAAKe,SAAS,CAAEuD,YAAY,M,yBAK9B,WAAe,IAAD,SACqCtE,KAAKV,MAA9CgG,EADI,EACJA,cAAeb,EADX,EACWA,OAAQc,EADnB,EACmBA,cAE3BvF,KAAKwF,YAAYrC,MAAMsC,OACzBzF,KAAKe,SAAS,CAAEsD,YAAY,EAAMG,aAAa,IAAS,WAClDc,GACFA,EAAc,CACZlB,aAAcK,EACV,EAAKlF,MAAM6E,aACT,EAAK7E,MAAM6E,aAAajB,MACxBoC,EAAcnB,aAAajB,MAC7B,KACJA,MAAO,EAAKqC,YAAYrC,YAK9BnD,KAAKe,SAAS,CAAEyD,aAAa,IAE7BxE,KAAKwF,YAAYxE,W,yBAIrB,WACEhB,KAAKe,SAAS,CAAEuD,YAAY,EAAOE,aAAa,M,4BAElD,SAAe1E,GAAI,IAAD,SACgDE,KAAKV,MAA7DmF,EADQ,EACRA,OAAQc,EADA,EACAA,cAAeD,EADf,EACeA,cAAeI,EAD9B,EAC8BA,cAEhB,KAA1B5F,EAAE6F,YAAYC,QACZ5F,KAAKwF,YAAYrC,MAAMsC,OACzBzF,KAAKe,SAAS,CAAEsD,YAAY,EAAMG,aAAa,IAAS,WACtD,GAAIc,EACF,OAAOA,EAAc,CACnBlB,aAAcK,EACV,EAAKlF,MAAM6E,aACT,EAAK7E,MAAM6E,aAAajB,MACxBoC,EAAcnB,aAAajB,MAC7B,KACJA,MAAO,EAAKqC,YAAYrC,YAK9BnD,KAAKe,SAAS,CAAEyD,aAAa,IAE7BxE,KAAKwF,YAAYxE,SAGf0E,GACFA,M,oBAIN,WAAU,IAAD,SAaH1F,KAAKV,MAXPqB,EAFK,EAELA,MACA8D,EAHK,EAGLA,OAEAoB,GALK,EAILV,aAJK,EAKLU,aACAN,EANK,EAMLA,cAEAO,GARK,EAOLR,cAPK,EAQLQ,gBACAxD,EATK,EASLA,UACAyD,EAVK,EAULA,cACAxB,EAXK,EAWLA,MACAyB,EAZK,EAYLA,SAGEC,EAAmBF,EACD,MAAlBA,EACE,QACA,QACwB,IAA1B/F,KAAKT,MAAM8E,WACX,QACA,OAEJ,OACE,yBACE/B,UAAS,2BAAsBA,GAAwB,GAA9C,aACPtC,KAAKT,MAAMiF,YAAc,SAAW,IAEtChE,MAAO,CACLG,MAAOA,GAAgB,GACvBuF,YAAalG,KAAKT,MAAMiF,YACpB,UACAxE,KAAKT,MAAM+E,WACX,UACA,YAGN,2BAAOhC,UAAU,wBACf,+BACE,4BAGImC,EACE,wBACEjE,MAAO,CACLG,MACE4E,GAAiBA,EAAc5E,MAC3B4E,EAAc5E,MACd,SAGR,yBAAK2B,UAAU,yBACb,0BACEA,UAAU,qBACVO,IAAI,qBACJE,QAAS/C,KAAKmG,cAAclD,KAAKjD,MACjCQ,MAAO,CACLG,MACE4E,GAAiBA,EAAc5E,MAC3B4E,EAAc5E,MAAQ,GACtB,KAGR,0BACE2B,UAAS,8BACmB,IAA1BtC,KAAKT,MAAM4E,WACP,oBACA,MAMNoB,GAAiBA,EAAcnB,aAC7B,0BACE9B,UAAU,qBACV8D,aAAYb,EAAcnB,aAAajB,MACvCvG,MAAO2I,EAAcnB,aAAaxH,OAEjC2I,EAAcnB,aAAaxH,OAE5BoD,KAAKT,MAAM6E,aACb,0BACE9B,UAAU,qBACV8D,aAAYpG,KAAKT,MAAM6E,aAAajB,MACpCvG,MAAOoD,KAAKT,MAAM6E,aAAaxH,OAE9BoD,KAAKT,MAAM6E,aAAaxH,OAG3B,IAIN,wBAAI0F,UAAU,mBAAmBO,IAAI,oBAGjC0C,GAAiBA,EAAcc,WAC3Bd,EAAcc,WAAWC,KAAI,SAACC,EAAMC,GAClC,OACE,wBACElK,IAAKkK,EACLzD,QAAS,EAAK0D,aAAaxD,KAAK,EAAM,CACpCE,MAAOoD,EAAKpD,MACZvG,MAAO2J,EAAK3J,QAEd0F,UAAU,mBACV8D,aAAYG,EAAKpD,MACjBvG,MAAO2J,EAAK3J,OAEX2J,EAAK3J,UAIZ,IAGR,0BAAM0F,UAAU,wBAGlB,KAEN,wBAAIA,UAAU,kBACZ,2BACEO,IAAK,SAACA,GAAD,OAAU,EAAK2C,YAAc3C,GAClCP,UAAS,oBACTzE,KAAK,OACL6I,YAAab,GAA4B,yDACzCc,QAAS3G,KAAK4G,aAAa3D,KAAKjD,MAChC6G,OAAQ7G,KAAK8G,YAAY7D,KAAKjD,MAC9B+G,QAAS/G,KAAKgH,eAAe/D,KAAKjD,MAClCmD,MAAOoB,GAAgBvE,KAAKT,MAAMgF,MAClCyB,SAAUA,GAAsBhG,KAAKiH,YAAYhE,KAAKjD,QAExD,2BACEsC,UAAU,sBACVzE,KAAK,SACLkF,QAAS,WACP,EAAKhC,SAAS,CAAEsD,YAAY,EAAOE,MAAO,KAAM,WAC9C,EAAKiB,YAAYrC,MAAQ,GACrB2C,GACFA,EAAe,CACb1B,aAAcK,EACV,EAAKlF,MAAM6E,aACT,EAAK7E,MAAM6E,aAAajB,MACxBoC,EAAcnB,aAAajB,MAC7B,KAEJA,MAAO,SAKf3C,MAAO,CAAEoC,QAASqD,MAGtB,wBAAI3D,UAAU,mBACZ,yBACEA,UAAU,mBACVS,QAAS,SAACjD,GAAD,OAAO,EAAKoH,YAAYpH,e,GAlR9BwD,IAAMC,YA+RrB4D,G,kDACJ,WAAY7H,GAAQ,IAAD,8BACjB,cAAMA,IA2BR8H,WAAa,SAACvJ,GACZ,IAAIwJ,EAAc,eAClB,OAAQxJ,GACN,IAAK,IACE,EAAK0B,MAAM3C,OAAO,EAAKmE,SAAS,CAAEnE,MAAO,2DAC9CyK,EAAc,eACd,MACF,IAAK,IACE,EAAK9H,MAAM3C,OAAO,EAAKmE,SAAS,CAAEnE,MAAO,sDAC9CyK,EAAc,eACd,MACF,IAAK,IACE,EAAK9H,MAAM3C,OACd,EAAKmE,SAAS,CAAEnE,MAAO,mFACzByK,EAAc,eACd,MACF,IAAK,IACE,EAAK9H,MAAM3C,OACd,EAAKmE,SAAS,CAAEnE,MAAO,mFACzByK,EAAc,eACd,MACF,IAAK,IACE,EAAK9H,MAAM3C,OACd,EAAKmE,SAAS,CAAEnE,MAAO,8EACzByK,EAAc,eACd,MACF,QACO,EAAK9H,MAAM3C,OAAO,EAAKmE,SAAS,CAAEnE,MAAO,2DAC9CyK,EAAc,eAIlB,EAAKtG,SAAS,CACZsG,YAAaA,KA3Df,EAAK9H,MAAQ,CACX1B,KAAMyB,EAAMzB,KACZjB,MAAO0C,EAAM1C,MACb4D,MAAOlB,EAAMkB,MACb8B,UAAWhD,EAAMgD,UAAYhD,EAAMgD,UAAY,GAC/CgF,QAAShI,EAAMgI,QACfD,YAAa,eACbE,WAAYjI,EAAMiI,WAClBC,WAAalI,EAAMgI,QAIf,UAHAhI,EAAMkI,WACJlI,EAAMkI,WACN,IAbS,E,qDAkBnB,SAAkBC,GAAY,IAAD,EACFzH,KAAKV,MAAtBkB,EADmB,EACnBA,MAAO5D,EADY,EACZA,MAEfoD,KAAKe,SAAS,CACZnE,MAAOA,EACP4D,MAAOA,IAETR,KAAKoH,WAAWpH,KAAKT,MAAM1B,Q,oBA4C7B,WACE,OACE,yBACEyE,UAAS,mBAActC,KAAKT,MAAM+C,WAClC9B,MAAOR,KAAKT,MAAMiB,OAElB,uBACEA,MAAOR,KAAKT,MAAMgI,WAClBjF,UAAS,gBAAWtC,KAAKT,MAAM8H,eAEjC,0BAAM/E,UAAS,oBAAetC,KAAKT,MAAMiI,aACtCxH,KAAKT,MAAM3C,Y,GAjFF0G,IAAMC,WA6FpBmE,G,4JACJ,WAAU,IAAD,EAC8B1H,KAAKV,MAAlC5C,EADD,EACCA,SAAUmB,EADX,EACWA,KAASiG,EADpB,mCAGH6D,EAAY,GAEhB,OAAQ9J,GACN,IAAK,OACH8J,EAAY,iBAEZ,MAEF,IAAK,QACHA,EAAY,kBAEZ,MAEF,QACEA,EAAY,GAGhB,OACE,kBAAC,KAAD,CAAgBvI,OAAQwI,MACtB,kBAAC,KAAD,eAAUtF,UAAWqF,GAAe7D,GACjCpH,Q,GAxBS4G,IAAMC,WA8BpBsE,G,4JACJ,WAAU,IAAD,EACwB7H,KAAKV,MAA5B5C,EADD,EACCA,SAAaoH,EADd,4BAEP,OACE,kBAAC,KAAD,CAAgB1E,OAAQwI,MACtB,kBAAC,KAASE,MAAUhE,EAAQpH,Q,GALX4G,IAAMC,WAUzBwE,G,4JACJ,WAAU,IAAD,EACyC/H,KAAKV,MAA7C5C,EADD,EACCA,SAAU4F,EADX,EACWA,UAAWzE,EADtB,EACsBA,KAASiG,EAD/B,+CAGHkE,EAAiB,GAErB,OAAQnK,GACN,IAAK,OACHmK,EAAiB,oBAEjB,MAEF,IAAK,SACHA,EAAiB,sBAEjB,MAEF,QACEA,EAAiB,GAGrB,OACE,kBAAC,KAAD,CAAgB5I,OAAQwI,MACtB,kBAAC,KAAD,eACEtF,UAAS,UAAKA,GAAwB,GAA7B,YAAmC0F,IACxClE,GAEHpH,Q,GA3BY4G,IAAMC,WAiCvB0E,G,4JACJ,WAAU,IAAD,EACwBjI,KAAKV,MAA5B5C,EADD,EACCA,SAAaoH,EADd,4BAEP,OACE,kBAAC,KAAD,CAAgB1E,OAAQwI,MACtB,kBAAC,KAAYE,MAAUhE,EAAQpH,Q,GALX4G,IAAMC,WAiB5B2E,G,4JACJ,WAAU,IAAD,EACwBlI,KAAKV,MAA5B5C,EADD,EACCA,SAAaoH,EADd,4BAEP,OACE,kBAAC,KAAD,CAAgB1E,OAAQwI,MACtB,kBAAC,KAAa9D,EAAQpH,Q,GALV4G,IAAMC,WAgBpB4E,G,4JACJ,WAAU,IAAD,EAC0DnI,KAAKV,MAA9D5C,EADD,EACCA,SAAU+G,EADX,EACWA,KAAMnB,EADjB,EACiBA,UAAW8F,EAD5B,EAC4BA,gBAAoBtE,EADhD,iEAGP,OACE,kBAAC,KAAD,CAAgB1E,OAAQwI,MACtB,kBAAC,KAAD,eACEtF,UAAS,UAAKA,GAAwB,GAA7B,YACPmB,GAAiB,UAATA,EAAmB,QAAU,GAD9B,KAGTA,KAAMA,EACN2E,gBAAiBA,EACjBC,UACED,EACI,SAACE,GAAD,OACE,uCACG,0BAAM9H,MAAO,CAAE+H,MAAO,YAAcD,GADvC,WAIF,cAEFxE,GAEHpH,Q,GAvBiB4G,IAAMC,WAsCrBiF,GAAb,kDACE,WAAYlJ,GAAQ,IAAD,8BACjB,cAAMA,IAcRW,KAAO,WAAO,IACNA,EAAS,EAAKX,MAAdW,KACU,oBAATA,GAAuBA,IAC9B,EAAKc,SAAS,CACZZ,MAAM,KAnBS,EAuBnBD,SAAW,WAAO,IACVA,EAAa,EAAKZ,MAAlBY,SACc,oBAAbA,GAA2BA,IAClC,EAAKa,SAAS,CACZZ,MAAM,KA3BS,EA8BnBJ,QAAU,WAAO,IACTA,EAAY,EAAKT,MAAjBS,QACa,oBAAZA,GAA0BA,IACjC,EAAKgB,SAAS,CACZZ,MAAM,KAlCS,EAqCnBC,OAAS,WACwB,oBAAxB,EAAKb,MAAMkJ,UAA2B,EAAKlJ,MAAMkJ,WACxD,EAAKlJ,MAAMkJ,UAAY,EAAK1I,WArC5B,EAAKR,MAAQ,CACXY,KAAMb,EAAMa,KACZsI,WAAUnJ,EAAMmJ,UAAWnJ,EAAMmJ,SACjC5K,KAAKyB,EAAMzB,KAAOyB,EAAMzB,KAAOyB,EAAMmJ,SAAW,OAAU,aAL3C,EADrB,0CA0CE,WAEE,OACE,kBAACC,GAAD,CACEvI,KAAMH,KAAKT,MAAMY,KACjBtC,KAAMmC,KAAKT,MAAM1B,KACjBjB,MAAOoD,KAAKV,MAAM1C,MAClBqD,KAAMD,KAAKC,KACXC,SAAUF,KAAKE,SACfH,QAASC,KAAKD,QACdwC,WAAYvC,KAAKV,MAAMiD,WAAa,IAAM,IAC1CnC,OAAQJ,KAAKI,aArDrB,GAAgCkD,IAAMC,WAuFtC,SAASoF,GAAIrJ,GAAQ,IACbgD,EAAkChD,EAAlCgD,UAAW5F,EAAuB4C,EAAvB5C,SAAaoH,EADZ,YACsBxE,EADtB,0BAElB,OACE,kBAAC,KAAD,eACEsJ,kBAAmB,SAAC9I,GAAD,OAAOA,EAAE+I,YAC5BC,UAAW,QACXC,iBAAgB,iBAAYzG,GAAwB,KAChDwB,GAEHpH,GASP,SAASsM,GAAkB1J,GAAQ,IAG/B2J,EAQE3J,EARF2J,SACAtI,EAOErB,EAPFqB,MACA2B,EAMEhD,EANFgD,UACA4G,EAKE5J,EALF4J,kBACA1I,EAIElB,EAJFkB,MACA5D,EAGE0C,EAHF1C,MACAuM,EAEE7J,EAFF6J,SACGrF,EAV2B,YAW5BxE,EAX4B,iFAahC,OACE,yBACEgD,UAAS,sBAAkB1F,EAAkC,GAA1B,wBAA1B,YACP0F,GAAwB,KAGzB1F,EAAQ,0BAAM0F,UAAU,kBAAkB1F,EAAlC,KAAmD,GAC5D,kBAAC,KAAD,eACE0F,UAAS,uBAAkB4G,GAAwC,IACnEvI,MAAOA,EACPH,MAAK,aAAIG,OAAQA,GAAgB,KAAO,MAASH,GACjD2I,SAAU,SAACrJ,EAAGsJ,GACQ,oBAAbD,GACLA,EAASrJ,EAAD,YAAC,eACJsJ,GACAH,EAASI,MAAK,SAACC,GAAD,OAAWA,EAAMnG,QAAUrD,SAG9CgE,GAEHmF,aAAoBM,OACnBN,EAAS3C,KAAI,SAACgD,EAAOE,GACnB,OACE,kBAACvK,GAAD,CAAQkE,MAAOmG,EAAMnG,MAAO7G,IAAKkN,GAC9BF,EAAM1M,Y,IAYjB6M,G,kDACJ,WAAYnK,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXmK,WAAYpK,EAAMoK,WAClBC,UAAWrK,EAAMqK,UACjBC,SAAUtK,EAAMsK,SAChBC,OACEvK,EAAMuK,OACRC,KAAMxK,EAAMwK,KACZC,eAAczK,EAAMyK,cAChBzK,EAAMyK,aAEVC,UAAW1K,EAAM0K,UACjBC,OAAQ3K,EAAM2K,OACdC,OAAQ5K,EAAM4K,OACd1J,MAAOlB,EAAMkB,MACb5D,MAAO0C,EAAM1C,MACb+D,MAAOrB,EAAMqB,MACbT,SAAUZ,EAAMY,SAChBD,KAAMX,EAAMW,KACZkK,QAAS7K,EAAM6K,QACf7H,UAAWhD,EAAMgD,UAAYhD,EAAMgD,UAAY,GAC/C8H,gBAAgB9K,EAAM8K,gBAAiB9K,EAAM8K,eAC7CC,WAAY,WAvBG,E,8CA2BnB,SAAWxM,GACT,IAAI8C,EAAQ,IACR0J,EAAa,UACjB,OAAQxM,GACN,IAAK,IACH8C,EAAQ,IACR0J,EAAa,UACb,MACF,IAAK,IACH1J,EAAQ,IACR0J,EAAa,UACbrK,KAAKe,SAAS,CACZ8I,OAAQ,OAEV,MACF,IAAK,IACHlJ,EAAQ,IACR0J,EAAa,UACb,MACF,QACE1J,EAAQ,IACR0J,EAAa,UAEjBrK,KAAKe,SAAS,CACZJ,MAAOX,KAAKV,MAAMqB,MAAQX,KAAKV,MAAMqB,MAAQA,EAC7C0J,WAAYA,M,gCAKhB,WACErK,KAAKoH,WAAWpH,KAAKV,MAAMzB,Q,+BAY7B,WAAqB,IAAD,EACoCmC,KAAKV,MADzC,EACV1C,MADU,EACH+M,UADG,EACQrH,UADR,EACmBuH,OADnB,EAC2BC,O,oBA4H/C,WACE,OACE,kBAAC,KAAD,CAEEjH,IAAK7C,KAAKsK,IACVrK,KAAMD,KAAKT,MAAMU,KACjBC,SAAUF,KAAKT,MAAMW,SACrBtD,MAAOoD,KAAKT,MAAM3C,MAClB0F,UAAS,oBAAetC,KAAKT,MAAM8K,WAA1B,YAAwCrK,KAAKT,MAAM+C,WAC5D9B,MAAOR,KAAKT,MAAMiB,MAClByJ,OAAQjK,KAAKT,MAAM0K,OACnBF,aAAc/J,KAAKT,MAAMwK,aACzBD,KAAM9J,KAAKT,MAAMuK,KACjBE,UAAWhK,KAAKV,MAAM0K,UACtBJ,SAAU5J,KAAKT,MAAMqK,SACrBQ,eAAgBpK,KAAKT,MAAM6K,eAC3BT,UAAW3J,KAAKT,MAAMoK,UACtBD,WAAY1J,KAAKT,MAAMmK,WACvBS,QAASnK,KAAKV,MAAM6K,QACpBI,UAAUvK,KAAKV,MAAMiL,UAAWvK,KAAKV,MAAMiL,SAC3C5J,MAAOX,KAAKT,MAAMoB,MAClB6J,OAAQxK,KAAKT,MAAMiL,OACnBC,UAC4B,YAA1BzK,KAAKT,MAAM8K,WACT,uBAAG/H,UAAW,qBACZ,KAENuH,OACwB,OAAtB7J,KAAKT,MAAMsK,OACP,KACA7J,KAAKT,MAAMsK,OACX7J,KAAKT,MAAMsK,OACX,CACE,kBAAC,GAAD,CACEvN,IAAI,OACJuB,KAAK,UACL4F,KAAK,QACL8E,MAAM,QACNxF,QAAS/C,KAAKT,MAAMU,MAEnBD,KAAKV,MAAM2K,OAASjK,KAAKV,MAAM2K,OAAS,gBAE3C,kBAAC,GAAD,CACE3N,IAAI,WACJmH,KAAK,QACL8E,MAAM,OACNxF,QAAS/C,KAAKT,MAAMW,UAEnBF,KAAKV,MAAMoL,WAAa1K,KAAKV,MAAMoL,WAAa,iBAI3D5H,GAAG,aAEF9C,KAAKV,MAAM5C,c,GA1PA4G,IAAMC,WAmQpBoH,G,kDACJ,WAAYrL,GAAQ,IAAD,8BACjB,cAAMA,IAgCRsL,WAAa,SAACnH,GACZ,OAAQA,GACN,IAAK,QACH,MAAO,YACT,IAAK,SACH,MAAO,aACT,IAAK,QACH,MAAO,YACT,QACE,MAAO,aA1CM,EAiDnBoH,YAAc,SAACtC,EAAOuC,EAAUjN,GAC9B,GAAa,YAATA,EAAoB,CACtB,GAAIiN,EAAU,MAAO,eAEnB,OAAQvC,GACN,IAAK,SACH,MAAO,aACT,IAAK,QACH,MAAO,YACT,IAAK,OACH,MAAO,WACT,IAAK,MACH,MAAO,UACT,IAAK,WACH,MAAO,eACT,QACE,MAAO,mBAGR,GAAa,YAAT1K,EAAoB,CAC7B,GAAIiN,EAAU,MAAO,uBAEnB,OAAQvC,GACN,IAAK,SACH,MAAO,qBACT,IAAK,QACH,MAAO,oBACT,IAAK,OACH,MAAO,mBACT,IAAK,MACH,MAAO,kBACT,IAAK,WACH,MAAO,uBACT,QACE,MAAO,0BAGR,CACL,GAAIuC,EAAU,MAAO,eAEnB,OAAQvC,GACN,IAAK,SACH,MAAO,aACT,IAAK,QACH,MAAO,YACT,IAAK,OACH,MAAO,WACT,IAAK,MACH,MAAO,UACT,IAAK,WACH,MAAO,eACT,QACE,MAAO,gBArGE,EA2GnBwC,aAAe,SAAClK,GACd,MAAO,CACLA,OAAQA,EAAS,KACjBmK,WAAYnK,EAAS,OA9GN,EAiHnBoK,YAAc,SAACtK,GACb,MAAO,CACLA,MAAOA,EAAQ,OAnHA,EAuHnBuK,YAAc,WACZ,IAAI1K,EAAQ,EAAKjB,MAAMiB,MAAQ,EAAKjB,MAAMiB,MAAQ,GAQlD,OAPI,EAAKlB,MAAMuB,SACbL,EAAQ2K,OAAOC,OAAO,GAAI5K,EAAO,EAAKuK,aAAa,EAAKzL,MAAMuB,UAE5D,EAAKvB,MAAMqB,QACbH,EAAQ2K,OAAOC,OAAO,GAAI5K,EAAO,EAAKyK,YAAY,EAAK3L,MAAMqB,SAGxD,CAAEH,UA9HT,EAAKjB,MAAQ,CACX1B,KAAMyB,EAAMzB,KACZ4F,KAAMnE,EAAMmE,KACZqH,WAAUxL,EAAMwL,SAChBvC,MAAOjJ,EAAMiJ,MACbpF,MAAO7D,EAAM6D,MACbkI,MAAO/L,EAAM+L,MACbtI,QAASzD,EAAMyD,QACfiD,SAAU1G,EAAM0G,SAChBxF,MAAOlB,EAAMkB,MACb8B,UAAWhD,EAAMgD,UAAYhD,EAAMgD,UAAY,IAZhC,E,6DAenB,SAA0BhD,GACxBU,KAAKe,SAAS,CACZlD,KAAMyB,EAAMzB,KACZ4F,KAAMnE,EAAMmE,KACZqH,WAAUxL,EAAMwL,SAChBvC,MAAOjJ,EAAMiJ,MACbpF,MAAO7D,EAAM6D,MACbkI,MAAO/L,EAAM+L,MACbtI,QAASzD,EAAMyD,QACfiD,SAAU1G,EAAM0G,SAChBxF,MAAOlB,EAAMkB,MACb8B,UAAWhD,EAAMgD,UAAYhD,EAAMgD,UAAY,O,oBAwGnD,WACE,OACE,kBAAC,KAAD,CAAgBlD,OAAQwI,MACtB,kBAAC,KAAD,CACEtF,UAAS,iBAAYtC,KAAK4K,WACxB5K,KAAKT,MAAMkE,MADJ,YAEJzD,KAAK6K,YACR7K,KAAKT,MAAMgJ,MACXvI,KAAKT,MAAMuL,SACX9K,KAAKT,MAAM1B,MALJ,YAMJmC,KAAKT,MAAM+C,WAChB+I,MAAOrL,KAAKT,MAAM8L,MAClBP,SAAU9K,KAAKT,MAAMuL,SACrB/H,QAAS/C,KAAKT,MAAMwD,QACpBvC,MAAOR,KAAKT,MAAMiB,MAClB8K,MAAOtL,KAAKV,MAAMgM,MAClBC,KAAMvL,KAAKV,MAAMiM,KACjBjK,OAAQtB,KAAKV,MAAMgC,QAElBtB,KAAKV,MAAM5C,SAAWsD,KAAKV,MAAM5C,SAAWsD,KAAKT,MAAM4D,Y,GAtJ7CG,IAAMC,WAkK3B,SAASiI,GAAWlM,GAAQ,IACTiE,EAAoCjE,EAA/CmM,UAAsB/O,EAAyB4C,EAAzB5C,SAAegP,EAAUpM,EAAhBA,MAErC,OAAO,oCAAGiE,EAAY,kBAACA,EAAcmI,EAAQhP,GAAwB,oCAAGA,IAE1E,IAAMiP,GAAaC,eAAKzD,IAClBO,GAAQkD,eAAKvM,IAEbwM,GAAWD,eAAK5C,I,QC1nEf,SAAS8C,GAAiBC,GAK/B,OAAOC,GAAoBtL,OAAOuL,SAASV,KAAMQ,GAiB5C,SAASC,GAAoBE,EAAKH,GACvC,GAAmB,kBAARG,IAAqBA,EAAIC,SAAS,KAE3C,OAAO,EAIT,IAPiD,IAM7CC,EADgBC,GAAUH,GAAxBI,UACeC,MAAM,KAClBC,EAAI,EAAGA,EAAIJ,EAAKK,OAAQD,IAAK,CACpC,IAAIE,EAAON,EAAKI,GAAGD,MAAM,KACzB,GAAIG,EAAK,KAAOX,EACd,OAAOW,EAAK,GAGhB,OAAO,EA8DF,SAASC,GAAYT,GAC1B,IAAIU,EAAMC,mBAAmBX,GAC7B,IAA8B,IAA1BU,EAAIE,QAAQ,SACd,OAAOF,EAET,IAAIG,EAAQ,GASZ,OAPEA,GADwB,IAAtBH,EAAIE,QAAQ,KACNF,EAAIL,MAAM,UAAU,GAAGA,MAAM,KAAK,GAElCK,EAAIL,MAAM,UAAU,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAK,GAG1DQ,EAAQH,EAAIT,SAAS,WAAa,UAAYY,EAAQ,SAAWA,EAE1DH,EAAII,QAAQD,EAAQ,IAAK,IAAIC,QAAQD,EAAO,IAwBrD,SAASE,GAAUX,EAAWY,GAG5B,IAFA,IAAIvQ,EAAS2P,EAAUC,MAAM,KACzBY,EAAS,GACJX,EAAI,EAAGA,EAAI7P,EAAO8P,OAAQD,IAAK,CAC3B7P,EAAO6P,GAAGD,MAAM,KAClB,KAAOW,GACdC,EAAOC,KAAKzQ,EAAO6P,IAGvB,OAAOW,EAAOE,KAAK,KAOd,IAAMC,GAAc,WAAiD,IAAhDpB,EAA+C,uDAAzC,GAAIqB,EAAqC,uDAAzB,GAAIC,EAAqB,uDAAP,GAAO,EAGnCnB,GAAUH,GAA1CuB,EAHmE,EAGnEA,QAASC,EAH0D,EAG1DA,QAASpB,EAHiD,EAGjDA,UACpBqB,EAAUJ,EAAY,IAAMC,EAEhC,GAAItB,EAAIY,QAAQS,IAAc,EAI5BrB,EACEwB,EACA,IACAT,GAAUX,EAAWiB,GACrB,IACAI,EACA,KACAF,MACG,CACL,IAAIG,EAAM1B,EAAIY,QAAQ,KAClBc,EAAM,EAER1B,EAAMwB,EAAU,IAAMC,EAAU,KAAOF,EAC9BG,GAAO,GAAKA,IAAQ1B,EAAIO,OAAS,IAC1CP,EAAMwB,EAAU,IAAMpB,EAAY,IAAMqB,EAAU,KAAOF,GAG7D,OAAOvB,GAQHG,GAAY,SAACH,GACjB,IAAII,EAAY,GACZmB,EAAU,GACVC,EAAU,GACVG,EAAY3B,EAAIY,QAAQ,MACxBgB,EAAc5B,EAAIY,QAAQ,KAkB9B,OAjBmB,IAAfe,EAEEA,EAAYC,GAEdxB,EAAYJ,EAAIK,MAAM,MAAM,GAAGA,MAAM,KAAK,GAC1CmB,EAAUxB,EAAIK,MAAM,MAAM,GAC1BkB,EAAUvB,EAAIK,MAAM,MAAM,GAAGA,MAAM,KAAK,KAGxCD,EAAYJ,EAAIK,MAAM,MAAM,GAAGA,MAAM,KAAK,GAC1CmB,EAAUxB,EAAIK,MAAM,MAAM,GAAGA,MAAM,KAAK,GACxCkB,EAAUvB,EAAIK,MAAM,MAAM,KAG5BD,EAAYJ,EAAIK,MAAM,KAAK,GAC3BmB,EAAUxB,EAAIK,MAAM,KAAK,IAEpB,CACLkB,UACAC,UACApB,cA2BSyB,GAAU,SAAVA,EACXC,GAQI,IAPJC,EAOG,uDAPQ,aACXC,EAMG,uDANW,WACdC,EAKG,wDAHHC,EAGG,uDAHK,EACRC,EAEG,uDAFM,GACTC,EACG,uDADU,GAEb,KAAMN,aAAiBzE,OACrB,OAAO,EAGTyE,EAAMO,SAAQ,SAACjF,EAAOE,GACpB,IAAIgF,EAAaF,EAAWhI,KAAI,SAACgD,GAAD,OAAWA,KAC3CkF,EAAWpB,KAAK5D,GAChByE,EAAS,CAAE3E,QAAOE,QAAO8E,WAAYE,EAAYJ,QAAOC,aAEpDF,GAAaM,MAAMN,IAAcC,EAAQD,IAC3C7E,EAAM4E,aAAwB3E,OAE9BwE,EACEzE,EAAM4E,GACND,EACAC,EACAC,EACAC,EAAQ,EACR,CAAC9E,GAAOoF,OAAOL,GACfG,OAqHD,IAsDMG,GAAW,SAACxQ,EAAMgF,GAE7B,IAAIyL,EAAM,GAiBV,OAhBAzQ,aAAgBoL,OAASpL,EAAKiP,KAAKjK,GACnChF,aAAgBoL,OACdpL,EAAKoQ,SAAQ,SAACjF,GAGE,KAAVA,QAAyBrF,GAATqF,IAGD,IAAfsF,EAAInC,OACNmC,EAAIxB,KAAK9D,GAEJsF,EAAIC,MAAK,SAACC,GAAD,OAAYA,IAAWxF,MACnCsF,EAAIxB,KAAK9D,OAIVsF,GAGIG,GAAgB,WAA2B,IAA1BC,EAAyB,uDAAlB,GAAIC,EAAc,uDAAP,GAC1CL,EAAMI,EAKV,OAJAC,aAAgB1F,OACd0F,EAAKV,SAAQ,SAACjF,EAAOE,GACnBoF,EAAMD,GAASC,EAAKtF,MAEjBsF,GAOIM,GAAsB,SAACC,GAClC,OAAOJ,GAAcI,EAAKA,IA2DrB,IAAMC,GAAiB,WAIxB,IAHJ9S,EAGG,uDAHG,QACN6G,EAEG,uDAFK,mBACRkM,EACG,wDACHlM,EAAQA,aAAiBgI,OAASmE,KAAKC,UAAUpM,GAASA,EAC1DqM,eAAeC,QAAQnT,EAAK6G,GAC5BkM,GAAoBK,aAAaD,QAAQnT,EAAK6G,IAQnCwM,GAAiB,SAACrT,GAAmC,IAA9B+S,EAA6B,wDAC/D,QAAYpL,IAAR3H,EAEF,OADAsT,QAAQC,IAAI,gCACL,KAET,IAAI1M,EAAQ,GAMZ,GAAc,QAJZA,EADEkM,EACMK,aAAaI,QAAQxT,GAErBkT,eAAeM,QAAQxT,IAK/B,OAFAsT,QAAQC,IAAIvT,EAAM,yBAEX,KAGT,IACE6G,EAAQmM,KAAKS,MAAM5M,GACnB,MAAOrD,IACT,OAAOqD,GAQI6M,GAAc,SAACC,GAE1B,OADAL,QAAQC,IAAI,WAAYI,GACjBA,EAASC,OAAO,GAAG3D,MAAM,MAQ3B,SAAS4D,GAAT,GAAyD,IAAnChN,EAAkC,EAAlCA,MAAOiN,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,QAASC,EAAS,EAATA,MAChDC,EAAM,cAEVH,EAAUA,GAAW,wCACrBC,EAAUA,GAAWE,EACrBD,EAAQA,GAASC,EAEH,MALdpN,EAAQA,GAAS,KAWNiN,EAAQI,KAAKrN,GAEtBkN,IAEAC,GAAM,GATNA,GAAM,GAkBH,SAASG,KACd,IAAIC,EAAWxP,SAASyP,eAAe,SACvC,IAAKD,EAAU,CAEb,IAAIE,EAAO1P,SAAS2P,qBAAqB,QAAQ,GAC7CC,EAAQ5P,SAAS6P,cAAc,OACnCD,EAAME,aAAa,KAAM,SACzBJ,EAAKK,YAAYH,GACjBJ,EAAWxP,SAASyP,eAAe,SAErC,OAAOD,EAOF,IAAMQ,GAAY,SAAC,GAAyC,IAAvCtU,EAAsC,EAAtCA,MAAOiB,EAA+B,EAA/BA,KAAM4K,EAAyB,EAAzBA,SAAa0I,EAAY,2CAChEvU,EAAQA,GAAS,qHAEjB,IAAI8T,EAAWD,KACfW,IAASC,OAEP,kBAAC,GAAD,eACE/U,IAAK,aAAegV,KAAKC,MAAsB,IAAhBD,KAAKE,UACpCrR,MAAM,EACNvD,MAAOA,EACPiB,KAAMA,EACN4K,SAAUA,GACN0I,IAENT,IAQG,SAASe,GAASC,EAAIC,GAC3B,IAAIC,EAAQ,KACZ,OAAO,WACDA,GACF3Q,aAAa2Q,GAEfA,EAAQtR,WAAWoR,EAAIC,IAIpB,IAAME,GAAoB,SAACC,GAEhC,IA0EIjU,EAAO,OACPkU,GAAW,EACf,GAAwB,kBAAbD,EAAuB,CAChC,IAAItI,EAAQsI,EAASE,YAAY,KACjC,IAAe,IAAXxI,EAKF3L,EAAO,cAEF,CACL,IAAIoU,EAAWH,EAASI,MAAM1I,EAAQ,GAAG2I,cAtF7B,CACd,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,KACA,OACA,KACA,KACA,MACA,MACA,MACA,OACA,OACA,QACA,OACA,MACA,MACA,KACA,MACA,MACA,MACA,QACA,QAsDYtD,MAAK,SAACvF,GAMd,OALIA,IAAU2I,IAEZpU,EAAO,QACPkU,GAAW,GAENzI,IAAU2I,KA1DP,CACd,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,MACA,MACA,MACA,MACA,QAuCYpD,MAAK,SAACvF,GAEd,OAAIA,IAAU2I,GACZpU,EAAO,QACPkU,GAAW,EACJzI,IAAU2I,GAEZ3I,IAAU2I,KA7BT,CAAC,OAAQ,MAAO,OAAQ,MAAO,MAAO,MAAO,OA+B/CpD,MAAK,SAACvF,GAMZ,OAJIA,IAAU2I,IACZpU,EAAO,MACPkU,GAAW,GAENzI,IAAU2I,KAnDJ,CACjB,MACA,MACA,KACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,OAyCepD,MAAK,SAACvF,GAMjB,OAJIA,IAAU2I,IACZpU,EAAO,MACPkU,GAAW,GAENzI,IAAU2I,KAEdF,IAIDlU,EADe,QAAboU,GAAmC,SAAbA,EACjB,MACe,QAAbA,GAAmC,SAAbA,EACxB,QACe,QAAbA,EACF,MACe,QAAbA,EACF,MACe,SAAbA,GAAoC,QAAbA,EACzB,OACe,QAAbA,EACF,MAEA,YAKf,OAAOpU,GA6BIuU,GAAW,WAKtB,OAHEtG,GAAiB,UACjB6D,GAAe,UACfA,GAAe,SAAS,IASf0C,GAAmB,SAACC,EAAiBZ,GAC3CY,GAGL7R,IAAEC,QAAQ6R,QAAO,WACf,IAAI1R,EAAS,KACTF,EAAQ,KACZ,GAAkB,oBAAP+Q,EAAmB,CAC5B,IAAIc,EAAOd,IACPc,aAAgBrH,SAClBtK,EAAS2R,EAAK3R,QAAU,KACxBF,EAAQ6R,EAAK7R,OAAS,MAI1B2R,EAAgBC,OAAO5R,EAAOE,OAIlC,SAAS4R,GAASC,GAEhB,OAAOvH,OAAOwH,UAAUC,SAASC,KAAKH,GAAGR,MAAM,GAAI,GAO9C,SAASY,GAASC,GACvB,IAAIC,EACFC,EAASR,GAASM,GAEpB,GAAe,WAAXE,EAAqBD,EAAS,OAE7B,IAAe,UAAXC,EAEJ,OAAOF,EAFiBC,EAAS,GAItC,IAAK,IAAIxG,KAAKuG,EAAK,CACjB,IAAIG,EAAOH,EAAIvG,GAEQ,WAAnBiG,GAASS,IAEe,UAAnBT,GAASS,GAFeF,EAAOxG,GAAKsG,GAASI,GAIjDF,EAAOxG,GAAK0G,EAGnB,OAAOF,EAGF,IAAMG,GAAgB,SAACjG,GAC5B,IAAI0B,EAAM,GACV,GAAM1B,aAAiB3D,MAcrBqF,EAAM1B,OAVN,GAAqB,kBAAVA,EACT,IAAK,IAAIV,KAAKU,EACZ0B,EAAIxB,KAAKF,EAAMV,SAGjBoC,EAAM,CAAC1B,GAOX,OAAO0B,GAQIwE,GAAa,WAKpB,IAJJzW,EAIG,uDAJM,GACT0W,EAGG,uDAHO,SACVhF,EAEG,uDAFM,OACTJ,EACG,uDADQ,aAEX,IACE,IAAIqF,EAAUpS,SAAS6P,cAAcsC,GAErC,IAAK,IAAI7G,KAAK7P,EACZ2W,EAAQ9G,GAAK7P,EAAO6P,GAGtB,GACE7P,EAAOmG,IAEP5B,SAASyP,eAAehU,EAAOmG,IAK/B,YADAmL,GAAS,GAGX/M,SAASmN,GAAQ4C,YAAYqC,GAC7BrF,GAAS,GACT,MAAOnO,GACPmO,GAAS,GAET2B,QAAQU,MAAMxQ,KAQLyT,GAAS,uCAAG,4CAAAC,EAAA,6DACvB7W,EADuB,+BACd,GACT0W,EAFuB,+BAEb,SACVhF,EAHuB,+BAGd,OAHc,kBAMhB,IAAIoF,SAAQ,SAACC,EAASC,GAC3BP,GAAW,yBAEPvV,KAAM,kBACN+V,QAAS,SACNjX,GAJG,IAKNkX,OAAQ,WACNH,GAAQ,GACiB,oBAAlB/W,EAAOmX,QAAyBnX,EAAOmX,YAGlDT,EACAhF,GACA,SAAClQ,GAECuV,EAAQvV,UArBS,2CAAH,qDA8BT4V,GAAiB,SAAC5V,GAC7B,OAAOsQ,MAAMuF,OAAO7V,IAAS,EAAI6V,OAAO7V,IAS7B8V,GAAY,SAACC,EAAMC,EAAO3B,GAErC,IAAIrU,EAAO,CACT+V,KAFFA,EAAOzF,MAAMyF,GAAQ,EAAIF,OAAOE,GAG9BE,QAAS,eACTC,WAAY,IACZC,YAAa,KAYf,OATa,MAAT9B,GAAgB0B,GAAQ,MAC1B/V,EAAK+V,KAAOF,QAAQE,EAAO,IAAIK,QAAQ,IACvCpW,EAAKiW,QAAU,eACfjW,EAAKkW,WAAa,IAClBlW,EAAKmW,YAAc,KAErBnW,EAAKqW,QAAUrW,EAAK+V,KAAO/V,EAAKiW,QAChCjW,EAAKsW,QAAUtW,EAAK+V,KAAO/V,EAAKkW,WAChClW,EAAKuW,YAAcvW,EAAK+V,KAAO/V,EAAKmW,YAC7BnW,GAWF,SAASwW,KAAwC,IAA1BC,EAAyB,uDAAhB,EAAGC,EAAa,uCACrDD,EAASZ,OAAOY,GAChB,IACE,IAAIE,EAAMC,WAAWH,EAAOI,YAAY,KAExC,YAAuB/Q,IAAhB4Q,GAAoD,kBAAhBA,EACvCC,EACAd,OAAOc,EAAIP,QAAQM,IACvB,MAAO/U,GAEP,OADA8P,QAAQC,IAAI/P,GACL,GAQJ,IAAMmV,GAAa,CACxBC,SAAW,WACT,IAAIC,EAAIC,UAAUC,UACVD,UAAUE,WAClB,MAAO,CACLC,QAASJ,EAAErI,QAAQ,YAAc,EACjC0I,OAAQL,EAAErI,QAAQ,WAAa,EAC/B2I,OAAQN,EAAErI,QAAQ,gBAAkB,EACpC4I,MAAOP,EAAErI,QAAQ,UAAY,IAA6B,IAAxBqI,EAAErI,QAAQ,SAC5C6I,SAAUR,EAAES,MAAM,yBAClBC,MAAOV,EAAES,MAAM,iCACfE,QAASX,EAAErI,QAAQ,YAAc,GAAKqI,EAAErI,QAAQ,QAAU,EAC1DiJ,OAAQZ,EAAErI,QAAQ,WAAa,EAC/BkJ,KAAMb,EAAErI,QAAQ,SAAW,EAC3BmJ,QAAiC,IAAzBd,EAAErI,QAAQ,UAClBoJ,OAAQf,EAAErI,QAAQ,mBAAqB,EACvCqJ,GAAyB,QAArBhB,EAAES,MAAM,UAfL,GAkBXQ,UAAWhB,UAAUiB,iBAAmBjB,UAAUgB,UAAUjE,eAQjDmE,GAAQA,IAAY,SAAS5V,GACzC,IAAIQ,EAAWR,EAAOQ,SAErBqV,EADY7V,EAAO0U,UACDC,UAAUlD,cAI5BqE,EAAStV,EAASuV,aAElBC,EAAShW,EAAOgW,SAAU,EAC1BC,EAAS,CAERJ,MAAQA,EAERK,KAAO,OAAOpG,KAAK+F,GAEnBM,QAASN,EAAMzJ,QAAQ,SAAS,GAAKyJ,EAAMzJ,QAAQ,cAAc,EAEjEgK,SAAUP,EAAMzJ,QAAQ,UAAU,EAElCiK,SAAkC,eAAxB7V,EAAS8V,WAEnBC,gBAAgB,WACf,MAAO,UAAW/V,EAAS6P,cAAc,UAG1CmG,aAAa,WACZ,MAAO,WAAYhW,EAAS6P,cAAc,UAG3CoG,UAAU,WACT,IACG,OAAOZ,EAAMX,MAAM,iBAAiB,IAAM,EAC3C,MAAM9V,GAEL,OADA8P,QAAQC,IAAI,SACL2G,IAIXY,aAAa,WACZ,IACC,GAAG1W,EAAO2W,MACT,OAAOd,EAAMX,MAAM,kBAAkB,GAC/B,GAAGW,EAAMzJ,QAAQ,OAAS,EAChC,OAAOyJ,EAAMX,MAAM,iBAAiB,GAEpC,MAAM9V,GAEP,OADA8P,QAAQC,IAAI,SACL,IAITyH,cAAc,WACb,GAAwB,IAArBC,UAAU9K,QAAwC,kBAAjB8K,UAAU,GAAiB,CAC9D,IAAIC,EAAUD,UAAU,GAExB,OADCE,MAAQD,EAAQ1K,QAAQ,KACtB2K,MAAM,IACR7I,IAAM4I,EAAQ1K,QAAQ,IAAI2K,MAAM,IACpB,IAAT7I,KACK4I,EAAQtH,OAAO,EAAEtB,KAGnB4I,EACD,OAAwB,IAArBD,UAAU9K,OACZ8K,UAAU,GAEX,IAIV,IAECZ,EAAO9Y,KAAO8Y,EAAOC,KAAK,KACzBlW,EAAO2W,OAAUd,EAAMzJ,QAAQ,OAAS,EAAG,QAC1CyJ,EAAMzJ,QAAQ,UAAU,EAAG,SAE5BpM,EAAOgX,aAAa,SACnBnB,EAAMzJ,QAAQ,WAAW,EAAG,UAC7B,SAGD6J,EAAOa,QAA2B,OAAhBb,EAAO9Y,KAAe8Y,EAAOQ,YAC7B,YAAhBR,EAAO9Y,KAAoB0Y,EAAMX,MAAM,qBAAqB,GAC5C,WAAhBe,EAAO9Y,KAAmB0Y,EAAMX,MAAM,oBAAoB,GAC1C,UAAhBe,EAAO9Y,KAAkB8Y,EAAOS,eAChB,WAAhBT,EAAO9Y,KAAmB0Y,EAAMX,MAAM,qBAAqB,GAC5D,IAGDe,EAAOgB,MAAM,WAEZ,GAAGpB,EAAMzJ,QAAQ,WAAa,EAE7B,OADA6J,EAAOa,QAAUjB,EAAMX,MAAM,qBAAqB,IAAMe,EAAOa,QACxD,iCAGR,GAAGjB,EAAMzJ,QAAQ,aAAe,EAE/B,OADA6J,EAAOa,QAAUjB,EAAMX,MAAM,uBAAuB,IAAMe,EAAOa,QAC1D,uBAIR,GAAIjB,EAAMzJ,QAAQ,UAAU,EAC3B,MAAO,iCAIR,GAAG4J,GAA0B,UAAhBC,EAAO9Y,KAAkB,CACrC,IAAI+Z,EAAWlX,EAAOkX,SAGrBC,EAFanX,EAAOoX,kBAEQC,UAG7B,GAAIH,GAAY,qBAAsBA,EACpC,MAAO,iCAGT,GAAIrB,EAAMzJ,QAAQ,eAAe,EAGhC,OAFA6J,EAAOa,QAAUjB,EAAMX,MAAM,yBAAyB,IACrDW,EAAMX,MAAM,oBAAoB,GAC1B,iCAGR,GAAIe,EAAOM,mBAA+C,qBAAnBY,EAAgC,CAEtE,IAAIG,EAAc7M,OAAO8M,KAAKvB,EAAOwB,UAAUzL,OAE/C,OAAOuL,EAAc,EAAG,oCAAW,oCAEpC,MAAO,SAER,OAAOrB,EAAO9Y,MAIf8Y,EAAOpa,KAAOoa,EAAOgB,QAErBhB,EAAOa,QAAUb,EAAOW,cAAcX,EAAOa,SAE5C,MAAM1X,GACP8P,QAAQC,IAAI,SAEb,MAAO,CACNsI,OAAOxB,GAhJwB,CAmJ9BjW,QAMU0X,GAAiB,SAAClM,GAE7B,IAAMmM,EAASnM,EAAIK,MAAM,IAEzB,MAA8B,MAA1B8L,EAAOA,EAAO5L,OAAO,GAEdP,EAAIgE,OAAO,EAAEmI,EAAO5L,OAAO,GAI3BP,GCjyCAoM,GAAU,uCAAG,2DAAA9E,EAAA,sDAAS+E,EAAT,EAASA,MAAOtK,EAAhB,EAAgBA,SAAUuK,EAA1B,EAA0BA,UAClDD,EAAQA,GAAgB,MACxBtK,EAAWA,GAAsB,SAACwK,KAClCD,EAAYA,IAAwB,EAHZ,EAM0BpG,KAA1CsG,EANgB,EAMhBA,cAAeC,EANC,EAMDA,UAAWC,EANV,EAMUA,YAG5BC,EAAkBvJ,KAAKS,MAAMP,eAAeM,QAAQ,oBACpDgJ,EAAkBD,EAAiBA,EAAgBE,WAAY,GAC/DC,EAASF,EAOTG,EAAe,WACnBC,GAAWF,IAERN,GAAkBC,GAAcC,GAEnCK,IAEEE,EAAYjK,GAAoB,CAACyJ,EAAWD,EAAeE,IAC3DQ,GAAY,EAEVC,EA5BkB,+BAAA7F,EAAA,MA4BH,WAAO8F,GAAP,6BAAA9F,EAAA,6DAAcnD,EAAd,+BAAwB,aAAUC,EAAlC,+BAA0C,aAA1C,SACDiJ,GAChBP,EACAM,EACAf,GACA,WACElI,MAEFC,GARiB,cACnB8I,EADmB,yBAeZA,GAfY,2CA5BG,sDA6CpBI,EAAO,EAGPC,GAAa,EACjBN,EAAU5K,QAAV,uCAAkB,WAAOjF,EAAOE,GAAd,iBAAAgK,EAAA,0DACZiG,EADY,iEAKGJ,EACjB/P,GACA,eACA,WACEsG,QAAQC,MAAM2J,EAAMlQ,MATR,YAKZ0J,EALY,6BAiBV0G,EAAW/J,GAAe,eACb6I,EAlBH,kCAoBKmB,KApBL,WAoBZD,EApBY,+BAuBVzL,GAAS,GAvBC,kCA8BdA,EAASyL,EAASpQ,GAElBsQ,KACAH,GAAa,EAjCC,mBAkCP,GAlCO,eAoCZjQ,IAAU2P,EAAU1M,OAAS,IAG/BwB,GAAS,GACTgL,KAxCc,kBA0CTjG,GA1CS,4CAAlB,yDAjDwB,4CAAH,sDAoGhB,SAAgB6G,GAAvB,mC,8CAAO,2CAAArG,EAAA,sDAA0BwF,EAA1B,EAA0BA,OAAQT,EAAlC,EAAkCA,MAAOuB,EAAzC,EAAyCA,KAAzC,EAC6C1H,KAA1CsG,EADH,EACGA,cAAeC,EADlB,EACkBA,UAAWC,EAD7B,EAC6BA,YAE9BL,IACFA,EAAQ,OAEVS,EAASA,IAELrJ,GAAe,6BAA8BxE,OAC7CwE,GAAe,mBAAmBoJ,WAClC,IACAO,EAAQX,GAAaD,GAAiBE,EAE1CxJ,GAAe,aAAa,GAC5B2K,GAAS,CACPT,QACAf,QACAS,SACAgB,OAAQ,SACR3J,QAAS,SAAClS,GAEGA,EAEFA,KAAK6U,SAGZxD,eAAeC,QAAQ,aAAa,GACpCyJ,GAAWF,EAASc,IAAY,KAGpCxJ,MAAO,SAAC2J,GAGNnJ,MAAMmJ,MAjCL,4C,sBA2CN,IAAMF,GAAQ,uCAAE,6CAAAvG,EAAA,6DAASwF,EAAT,EAASA,OAAQM,EAAjB,EAAiBA,MAAOU,EAAxB,EAAwBA,OAAQzB,EAAhC,EAAgCA,MAAOlI,EAAvC,EAAuCA,QAASC,EAAhD,EAAgDA,MAK3D0I,IACEH,EAAkBvJ,KAAKS,MAAMP,eAAeM,QAAQ,oBACpDgJ,EAAkBD,EAAiBA,EAAgBE,WAAY,GAEpEC,EAASF,GAEJoB,EAAOzZ,IAAEyZ,KAAK,CAClBhO,IAAI,GAAD,OAAK8M,EAAL,gDAAmDgB,EAAnD,mBAAoEzB,GAApE,OACDe,EAAQ,UAAYA,EAAQ,IAE9Bzb,KAAM,MACNsc,SAAU,QACVC,MAAO,eACP/J,QAAS,SAAClS,GACW,oBAAZkS,GAA0BA,EAAQlS,IAE3CmS,MAAO,SAACnS,GACW,oBAAVmS,GAAwBA,EAAMnS,MAtB1B,kBA0BR+b,GA1BQ,2CAAF,sDAiCT9H,GAAW,WAIf,MAAO,CACLsG,cAJoB/I,GAAe,SAKnCgJ,UAJgB7M,GAAiB,SAKjC8M,YAJkBjJ,GAAe,SAAS,KAYxCiK,GAAmB,WACvB,IAAKjK,GAAe,YAAa,CAE/B,IACIuE,GADO,IAAImG,MACCC,UAChBlL,GAAe,WAAY8E,GAG7B5T,WAAU,sBAAC,gCAAAkT,EAAA,yDACL+G,EAAW5K,GAAe,YAC1B6K,EAAO,IAAIH,OAHF,MAITnG,EAAOsG,EAAKF,WACOC,GAJd,uBAYPnL,GAAe,WAAY8E,GAZpB,SAaDoE,GAAW,IAbV,2CADI,MAuBJqB,GAAW,uCAAG,WACzBX,EACAM,GAFyB,iCAAA9F,EAAA,6DAGzB+E,EAHyB,+BAGjB,MACRhI,EAJyB,+BAInB,aAEN+I,EAAQA,GAAgB3J,GAAe,SAUnCqJ,IACEH,EAAkBvJ,KAAKS,MAAMP,eAAeM,QAAQ,oBACpDgJ,EAAkBD,EAAiBA,EAAgBE,WAAY,GAEpEC,EAASF,GApBe,kBAsBlB,IAAIrF,SAAQ,SAACC,GACb4F,EAILS,GAAS,CACPT,QACAf,QACAS,SACAgB,OAAQ,cACR3J,QAAS,SAAClS,GACR,GAAKA,GAASA,EAAKA,KAAnB,CAIA,IAAIsc,EAAYtc,GAAQA,EAAKA,KAAOA,EAAKA,KAAa,GAElDub,EAAW,GAGf,IAAI,IAAIpd,KADRod,EAAQ,eAAqBe,EAAS,SACvBA,EAAU,CACvB,IAAItX,EAAQsX,EAAUne,GAEtB,GAAY,cAARA,EAGF6G,EAAQA,EAAQ,OAFL,IAAIkX,MACCC,UAIlB,GAAY,gBAARhe,GAA6C,IAApBuF,SAASsB,GAGpC,YAFAzC,OAAOuL,SAASV,KACdyN,EAAS,uCAAyC7V,GAGtDuW,EAASpd,GAAOuQ,mBAAmB1J,GAmBrCuW,EAASgB,SAAU,EAEnBtL,GAAe,WAAYsK,GAE3BnJ,IACAmD,EAAQgG,QA9CNhG,GAAQ,IAgDZpD,MAAO,SAAC2J,GAENvG,GAAQ,MA5DVA,GAAQ,OAxBa,2CAAH,wDA+FlBiH,GAAoB,SAAC3B,GAA6B,IAArB4B,IAAoB,yDACrDla,OAAOuL,SAASV,KACdyN,GACC4B,EACG,eAAiBC,mBAAmBlO,GAAYjM,OAAOuL,SAASV,OAChE,KAQFgO,GAAa,SACjBP,EACAM,EACAf,GAGI,IAFJlI,EAEG,uDAFO,aACVC,EACG,uDADK,aAER,OAAO,IAAImD,SAAQ,SAACC,EAASC,GAC3B,IAAKqF,IAAWM,IAAUf,EAGxB,OAFA7E,GAAQ,QACR9D,QAAQU,MAAM,6CAGhByJ,GAAS,CACPT,QACAf,QACAS,SACAgB,OAAQ,aACR3J,QAAS,SAAClS,GACJA,GAAQA,EAAKA,MAAQA,EAAKA,KAAK6U,QAGjC8H,GAAaxB,GACbjJ,IACAqD,GAAQ,KAIRpD,IACAoD,GAAQ,KAGZpD,MAAO,SAACnS,GAENmS,IACAqD,GAAO,UAUTmH,GAAe,SAACxB,GACpBlK,GAAe,QAASkK,GACxBlK,GAAe,QAASkK,GAAO,GAE/B5Y,OAAOqa,QAAQC,UACb,KACA,KACA1N,GAAY5M,OAAOuL,SAASV,KAAM,QAAS+N,KAQzCJ,GAAa,SAACF,GAA0B,IAAnB4B,IAAkB,yDAE3CpL,eAAeyL,QACfvL,aAAawL,WAAW,SACxBP,GAAkB3B,EAAO4B,IC/ZvBO,GAAS,GAEPC,GAAO1a,OAAOuL,SAASmP,KAEvBC,GAAW3a,OAAOuL,SAASgE,SAE3BqL,GAAW5a,OAAOuL,SAASqP,SAE7BC,GAAa,GAEjB,GAAIF,GAASlP,SAAS,UACpBoP,GAAaF,GAAS9O,MAAM,UAAU,QACjC,GAAI8O,GAASlP,SAAS,SAAU,CACrC,IAAIqP,GAAS9a,OAAOuL,SAASgE,SAAS1D,MAAM,SAAS,GAAGA,MAAM,KAE9DiP,GAAOtd,MAEPqd,GAAaC,GAAOnO,KAAK,UAEzBkO,GAAaF,GAGf,IAAMI,GAAUH,GAAW,KAAOF,GAAOG,GA8BvCJ,GAAS,CAOPO,WAAY,GAEZC,MACE,sEACFC,WAAYH,GACZI,WAAYJ,GACZK,YAAa,YAEbC,WAAY,6BACZC,cAAeP,GACfQ,UAAWR,IAEb7L,QAAQC,IAAM,aAGDsL,U,4DC7FTe,GAAY,YACZC,GAAU,mBAEZC,GAAuB,EACvBC,GAAe,CACjBC,MAAO,SAACpQ,EAAK8N,EAAQuC,EAAQ3L,GAK3B,OAJK2L,IACHA,EAAS,IAGJF,GAAarC,EAAO7H,eAAejG,EAAKqQ,EAAQ3L,GAAM4L,OAC3D,SAAUC,GAIR,GAHA7M,QAAQC,IAAI,uBAAyB4M,GAGd,QAAnBA,EAAUC,MAAqC,QAAnBD,EAAUC,KAGxC,QAFAN,GAE2B,OACzBA,GAAuB,GAIhBC,GAAaC,MAAMpQ,EAAK8N,EAAQuC,EAAQ3L,OAMzD+L,IAAK,YAAsD,IAAnDzQ,EAAkD,EAAlDA,IAAKqQ,EAA6C,EAA7CA,OAAQK,EAAqC,EAArCA,cAAezB,EAAsB,EAAtBA,OAAQ0B,EAAc,EAAdA,QAErCN,IAIHA,EAAS,IAENpB,IAEHA,EAAS,IAENyB,IACHA,EAAgB,QAEF3Y,IAAZ4Y,IACFA,GAAU,GAEZ,IAAI7J,EAASsJ,MAAMpQ,EAAD,aAChB8N,OAAQ,MACR8C,QAAQ,aACNC,OAAQ,oCACR,eAAgB,oCAChBC,cAAeC,GAAc/Q,EAAKiQ,GAASS,IACxCL,GAELW,SAAU,SAEVC,KAAM,OAENC,MAAO,WACPC,YAAa,QACVlC,IAoBL,OAPAnI,EAAOsK,MAAK,SAACC,GAGPV,GACFW,GAAaD,EAAKV,MAGf7J,GAETyK,IAAK,YAAkE,IAA/DvR,EAA8D,EAA9DA,IAAKqQ,EAAyD,EAAzDA,OAAQ3L,EAAiD,EAAjDA,KAAMgM,EAA2C,EAA3CA,cAAezB,EAA4B,EAA5BA,OAAQ0B,EAAoB,EAApBA,QAAoB,EAAX1e,KAEpDoe,IACHA,EAAS,IAENpB,IAEHA,EAAS,IAENyB,IACHA,EAAgB,QAEF3Y,IAAZ4Y,IACFA,GAAU,GAEZ,IAAIa,EACFnB,EAAO,iBAA8C,qBAA3BA,EAAO,gBAC7B,OACA,UACFvJ,EAASsJ,MAAMqB,GAAiBzR,EAAKiQ,GAASS,GAAhC,aAChB5C,OAAQ,MACR8C,QAAQ,aACNC,OAAQ,oCACR,eAAgB,oCAChBC,cAAeC,GAAc/Q,EAAKiQ,GAASS,IAExCL,GAELW,SAAU,SAEVC,KAAM,OAENC,MAAO,WACPC,YAAa,OACbzM,KAAMgN,GAAkBhN,EAAMuL,GAASS,EAAec,IAEnDvC,IASL,OAPAnI,EAAOsK,MAAK,SAACC,GAEPV,GACFW,GAAaD,EAAKV,MAIf7J,GAET6K,OAAQ,YAAkE,IAA/D3R,EAA8D,EAA9DA,IAAKqQ,EAAyD,EAAzDA,OAAQ3L,EAAiD,EAAjDA,KAAMgM,EAA2C,EAA3CA,cAAezB,EAA4B,EAA5BA,OAAQ0B,EAAoB,EAApBA,QAAS1e,EAAW,EAAXA,KAEvDoe,IACHA,EAAS,IAENpB,IAEHA,EAAS,IAENyB,IACHA,EAAgB,QAEF3Y,IAAZ4Y,IACFA,GAAU,GAEZ,IAAIa,EACFnB,EAAO,iBAA8C,qBAA3BA,EAAO,gBAC7B,OACA,UACFvJ,EAASsJ,MAAMqB,GAAiBzR,EAAKiQ,GAASS,GAAhC,aAChB5C,OAAQ,SACR8C,QAAQ,aACNC,OAAQ,oCACR,eAAgB,oCAChBC,cAAeC,GAAc/Q,EAAKiQ,GAASS,IAExCL,GAELW,SAAU,SAEVC,KAAM,OAENC,MAAO,WACPC,YAAa,OACbzM,KAAMgN,GAAkBhN,EAAMuL,GAASS,EAAec,GACtDvf,KAAMmR,KAAKC,UAAUpR,IAClBgd,IASL,OAPAnI,EAAOsK,MAAK,SAACC,GAEPV,GACFW,GAAaD,EAAKV,MAIf7J,GAET8K,KAAM,YAA4D,IAAzD5R,EAAwD,EAAxDA,IAAKqQ,EAAmD,EAAnDA,OAAQ3L,EAA2C,EAA3CA,KAAMgM,EAAqC,EAArCA,cAAezB,EAAsB,EAAtBA,OAAQ0B,EAAc,EAAdA,QAE5CN,IACHA,EAAS,IAENpB,IAEHA,EAAS,IAENyB,IACHA,EAAgB,QAEF3Y,IAAZ4Y,IACFA,GAAU,GAEZ,IAAIa,EACFnB,EAAO,iBAA8C,qBAA3BA,EAAO,gBAC7B,OACA,UACFvJ,EAASsJ,MAAMqB,GAAiBzR,EAAKiQ,GAASS,GAAhC,aAChB5C,OAAQ,OACR8C,QAAQ,aACNC,OAAQ,oCACR,eAAgB,oCAChBC,cAAeC,GAAc/Q,EAAKiQ,GAASS,IAExCL,GAELW,SAAU,SAEVC,KAAM,OAENC,MAAO,WACPC,YAAa,OACbzM,KAAMgN,GAAkBhN,EAAMuL,GAASS,EAAec,IACnDvC,IASL,OAPAnI,EAAOsK,MAAK,SAACC,GAEPV,GACFW,GAAaD,EAAKV,MAIf7J,GAET+K,MAAO,YAA4D,IAAzD7R,EAAwD,EAAxDA,IAAKqQ,EAAmD,EAAnDA,OAAQ3L,EAA2C,EAA3CA,KAAMgM,EAAqC,EAArCA,cAAezB,EAAsB,EAAtBA,OAAQ0B,EAAc,EAAdA,QAE7CN,IACHA,EAAS,IAENpB,IAEHA,EAAS,IAENyB,IACHA,EAAgB,QAEF3Y,IAAZ4Y,IACFA,GAAU,GAEZ,IAAIa,EACFnB,EAAO,iBAA8C,qBAA3BA,EAAO,gBAC7B,OACA,UACFvJ,EAASsJ,MAAMqB,GAAiBzR,EAAKiQ,GAASS,GAAhC,aAChB5C,OAAQ,OACR8C,QAAQ,aACNC,OAAQ,oCACR,eAAgB,oCAChBC,cAAeC,GAAc/Q,EAAKiQ,GAASS,IAExCL,GAELW,SAAU,SAEVC,KAAM,OAENC,MAAO,WACPC,YAAa,OACbzM,KAAMgN,GAAkBhN,EAAMuL,GAASS,EAAec,IACnDvC,IASL,OAPAnI,EAAOsK,MAAK,SAACC,GAEPV,GACFW,GAAaD,EAAKV,MAIf7J,GAETgL,QAAQ,WAAD,4BAAE,2CAAAxK,EAAA,6DAASyK,EAAT,EAASA,OAAQ/R,EAAjB,EAAiBA,IAAjB,IAAsBgS,kBAAtB,MAAmC,GAAnC,EAAuC5E,EAAvC,EAAuCA,MAC1Cnb,EAAO,KACXmb,EACEA,GAAS9J,eAAeM,QAAQ,UAAYhE,GAAiB,SAC/DI,EACEA,GACAgS,EACE,kDACA5E,EACA,WACAuB,mBAAmBoD,GAVhB,kBAYW5B,GAAaM,IAAI,CAAEzQ,MAAK0Q,cAAe,EAAGC,SAAQ,IAZ7D,cAYDU,EAZC,iBAaYA,EAAIY,OAbhB,QAaDA,EAbC,OAcLhgB,EAAOmR,KAAKS,MAAMoO,GAdb,kDAuBLhgB,GAAO,EAvBF,iCAyBAA,GAzBA,0DAAF,mDAAC,IAoCV,SAASqf,GAAaD,EAAKV,GAEzB,IAAIuB,EAAWb,EAAIc,QAEf3N,EAAWD,KACf,IACa2N,EAASD,OACfb,MAAK,SAACa,GAET,IAAIvhB,EAAQ,GAMZ,GAJGuhB,EAAKG,SACNH,EAAKI,WAAaJ,EAAKG,SAGpBH,EAYH,OAXAvhB,EAAQ,0HACRwU,IAASC,OAEP,kBAAC,GAAD,CACE/U,IAAK,aAAegV,KAAKC,MAAsB,IAAhBD,KAAKE,UACpCrR,MAAM,EACNvD,MAAOA,IAET8T,GAMJ,IAAKyN,EAAKI,WAWR,OAVA3hB,EAAQ,0HACRwU,IAASC,OAEP,kBAAC,GAAD,CACE/U,IAAK,aAAegV,KAAKC,MAAsB,IAAhBD,KAAKE,UACpCrR,MAAM,EACNvD,MAAOA,IAET8T,GAIJ,GAAwB,MAApByN,EAAKI,WAAT,CAGA,IAAIC,GAAc,EACdC,EAAW,GACf,IAAgB,IAAZ5B,EACF2B,GAAc,MACT,MAAI3B,aAAmBtT,OAM5B,YADAqG,QAAQC,IAAI,4BAJZgN,EAAQtO,SAAQ,SAACjF,GACfmV,EAASnV,IAAS,KAMtB,OAAQ6U,EAAKI,YACX,KAAK,KACCC,GAAeC,EAAS,QAC1B7hB,EAAQuhB,EAAKO,IACbtN,IAASC,OAEP,kBAAC,GAAD,CACE/U,IAAK,aAAegV,KAAKC,MAAsB,IAAhBD,KAAKE,UACpCrR,MAAM,EACNvD,MAAOA,IAET8T,IAGJ,MACF,KAAK,KACC8N,GAAeC,EAAS,QAC1B7hB,EAAQ,qHACRwU,IAASC,OAEP,kBAAC,GAAD,CACE/U,IAAK,aAAegV,KAAKC,MAAsB,IAAhBD,KAAKE,UACpCrR,MAAM,EACNvD,MAAOA,IAET8T,IAGJ,MACF,KAAK,IACC8N,GAAeC,EAAS,UAgBlC,MAAO3e,GACP8P,QAAQU,MAAMxQ,IAwBlB,SAASmd,GAActgB,EAAQgiB,GAAiC,IAApBC,EAAmB,uDAAH,EACtDtF,EAAQ9J,eAAeM,QAAQ,UAAYhE,GAAiB,SAC5D+S,EAAe,KAEnB,GAAKvF,GAA2B,IAAlBsF,EAAd,CASA,GAAsB,IAAlBA,EAEF,OAAOC,EACF,GAAsB,IAAlBD,EAETC,EAAe,WAAavF,OACvB,GAAsB,IAAlBsF,EAETC,EACE,WAAavF,EAAQ,SAAWwF,GAAQxF,EAAO3c,EAAQgiB,QACpD,GAAsB,IAAlBC,EAAqB,CAE9B,IAAIG,EAAYC,GACd,kDAEEC,EAAeC,GAAgB,EAAGH,GACtCF,EACE,WACAvF,EACA,iBACA2F,EACA,SACAH,GAAQxF,EAAO3c,EAAQgiB,EAAaM,QAEtCrP,QAAQC,IAAI,iEAGd,OAAOgP,EAnCLjP,QAAQC,IAAI,yDAEZ,IAAIsP,EAAU3P,eAAeM,QAAQ,WACrCpP,OAAOuL,SAASV,KAAO4T,EAmC3B,SAASD,GAAgBE,EAAKL,GAC5BK,EAAMA,GAAO,EAMb,IAHA,IAAIC,EAAS,mDACTC,EAASD,EAAO5S,OAChB8S,EAAY,GACP/S,EAAI,EAAGA,EAAI4S,EAAK5S,IACvB+S,GAAaF,EAAOG,OAAOlO,KAAKmO,MAAMnO,KAAKE,SAAW8N,IAExD,OAAOC,EAAYR,EAGrB,SAASC,GAAW9S,GAClB,IAAIsO,EAAO,IAAIH,KACXqF,EAAM,aACNhN,EAAI,CACN,KAAM8H,EAAKmF,WAAa,EACxB,KAAMnF,EAAKoF,UACX,KAAMpF,EAAKqF,WACX,KAAMrF,EAAKsF,aACX,KAAMtF,EAAKuF,aACX,KAAMzO,KAAKmO,OAAOjF,EAAKmF,WAAa,GAAK,GACzCK,EAAGxF,EAAKyF,mBAOV,IAAK,IAAIzZ,IALL,OAAOgK,KAAKkP,KACdA,EAAMA,EAAI1S,QACRkT,OAAOC,IACN3F,EAAK4F,cAAgB,IAAIlQ,OAAO,EAAIgQ,OAAOC,GAAG1T,UAErCiG,EACR,IAAIwN,OAAO,IAAM1Z,EAAI,KAAKgK,KAAKkP,KACjCA,EAAMA,EAAI1S,QACRkT,OAAOC,GACc,IAArBD,OAAOC,GAAG1T,OAAeiG,EAAElM,IAAM,KAAOkM,EAAElM,IAAI0J,QAAQ,GAAKwC,EAAElM,IAAIiG,UAmBvE,OAhBY6P,MAAMpQ,EAAK,CACrB8N,OAAQ,MACRmD,KAAM,UAENC,MAAO,WACPC,YAAa,UAEbP,QAAS,CACPC,OAAQ,oCACR,eAAgB,sCAElBG,SAAU,WAOd,SAAS4B,GAAQxF,EAAO3c,EAAQgiB,EAAaM,GAE3C,IAIE,OADWoB,GAFCC,GAAY3jB,GAEQgiB,EAAarF,EAAO2F,GAEpD,MAAOhF,GACPrK,QAAQC,IAAIoK,IAIhB,SAASoG,GAAcnT,EAAOyR,EAAarF,EAAO2F,GAGhD,OAAOsB,KAAIjH,EAAQpM,EAAQyR,EAAcM,GAG3C,SAASqB,GAAY3jB,GACnB,IAAIuQ,EAAQ,GACR,iBAAmBvQ,EAErBuQ,EADevQ,EAAO4P,MAAM,KACX,GACR,iBAAmB5P,EAC5BuQ,EAAQzM,IAAEyM,MAAMvQ,GAEhBiT,QAAQC,IAAI,kCAEd,OAAO3C,EAGT,SAASpB,GAAiBC,GAOxB,IANA,IAKIK,GAJF1L,OAAOuL,SAASkB,OAAOqT,UAAU,IACjC9f,OAAOuL,SAASV,KAAKgB,MAAM,KAAK,IAChC7L,OAAOuL,SAASV,MAEDgB,MAAM,KACdC,EAAI,EAAGA,EAAIJ,EAAKK,OAAQD,IAAK,CACpC,IAAIE,EAAON,EAAKI,GAAGD,MAAM,KACzB,GAAIG,EAAK,KAAOX,EACd,OAAOW,EAAK,GAGhB,OAAO,EAoDT,SAASkR,GACP6C,GAIC,IAHDC,EAGA,uDAHcxE,GACd0C,EAEA,uCADAlB,EACA,uCAEA,GAAqB,SAAjBA,EAAyB,CAE3B,IAAIiD,EAAQrR,KAAKC,UAAUkR,GAU3B,OAJsB,IAAlB7B,GAAyC,IAAlBA,IACzB+B,EAAQrR,KAAKC,UAAU,CAAEqR,EAAGC,GAAQF,EAAOD,MAGtCC,EAGP,IAAIA,EAAQlgB,IAAEyM,MAAMuT,GAUpB,OAJsB,IAAlB7B,GAAyC,IAAlBA,IACzB+B,EAAQlgB,IAAEyM,MAAM,CAAE0T,EAAGC,GAAQF,EAAOD,MAG/BC,EAIX,SAAShD,GAAiBzR,GAAsD,IAAjDwU,EAAgD,uDAAlCxE,GAAW0C,EAAuB,uCAEzEkC,EAAS5U,EACT6U,EAAW7U,EAAIK,MAAM,KACrB5P,EAASokB,EAAS,GAClB3F,EAAO2F,EAAS,GAMpB,OAJsB,IAAlBnC,GAAyC,IAAlBA,IACzBkC,EAAS1F,EAAO,MAAQyF,GAAQlkB,EAAQ+jB,IAGnCI,EAGT,SAASD,GAAQG,EAAYN,GAC3B,IAAIO,EAAU,CACZ9D,KAAM+D,KAAS/D,KAAKgE,IACpBC,QAASF,KAASG,IAAIC,OAEpBhlB,EAAM4kB,KAASK,IAAIC,KAAKzR,MAAM2Q,GAE9Be,EADgBP,KAASQ,IAAIb,QAAQG,EAAY1kB,EAAK2kB,GACnBrO,WAAW5F,QAAQ,MAAO,KAEjE,OADAyU,EAAqBA,EAAmBzU,QAAQ,MAAO,KAiB1CqP,UC5rBTT,GAAeT,GAAfS,WACAe,GAAcL,GAAdK,IAAKmB,GAASxB,GAATwB,KACP6D,GAAY,EACH7H,GAAO,SAAPA,EAAQnd,GAAkD,IAA1C0T,EAAyC,uDAA/B,aAAUC,EAAqB,uDAAb,aAMnDsR,EAAW,GAEbC,GAAW,EACRllB,EAGwB,kBAAXA,EAChBilB,EAAWjlB,EACgB,kBAAXA,IAChBilB,EAAWjlB,EAAOilB,UAAY,GAC9BC,EAAWllB,EAAOklB,WAAY,GAL9BD,EAAW,GAObhS,QAAQC,IAAIlT,GAEZglB,KACAG,IAAW,SAAC3C,GACV4C,GAAmB5C,GAAS7B,MAAK,SAACnf,GAG7B0jB,EACDxR,EAAQ,CACN2R,gBAAiB7jB,IAIjBA,EACFma,GAAW,CAETE,WAAW,EACXvK,SAAU,SAACgU,EAAU3I,GAEnB,GAAI2I,EAAU,CAUZ,IAAIC,EAAiBC,GAAkBP,GAEnCQ,EAAWC,GACbJ,EAASK,SAAWL,EAASK,SAAW,IAEtCC,EAAeC,GAAgB,CACjC,IAEA,MACA,MACA,QAUF/O,QAAQgP,IAAI,CAACP,EAAgBE,EAAUG,IAAejF,MACpD,SAACC,GAAS,IAAD,cACwCA,EADxC,GACF2E,EADE,KACcE,EADd,KACwBG,EADxB,KAEL,IAAI,CAAC,SAAS,SAAU,SAAU,SAAU,SAAU,UAAUpW,SAAS+V,EAAeQ,eACxFR,EAAeS,SAGb,OAFA7R,MAAM,yGACN+I,GAAO,CAACC,MAAM,IAGkB,UAA/BoI,EAAeQ,eAEhBT,EAASW,OAASX,EAASW,OAAO1S,OAAO+R,EAASW,OAAO9V,QAAQ,KAAO,GACxE0C,eAAeC,QAAQ,WAAYH,KAAKC,UAAU0S,KAEtD5R,EAAQ,CACN6R,iBACAF,gBAAiB7jB,EACjB8jB,WACAG,WACAG,eACAjJ,QACAuJ,KAAMC,GAAab,EAAUC,EAAgB/jB,aAYrDwjB,IAAa,GACf7H,IAGFxJ,YAwBFkS,GAAe,uCAAG,WAAOjK,GAAP,uBAAA/E,EAAA,+DAEpB7D,GAAe,6BAA8BxE,OACzCwE,GAAe,mBACf,GAHYqJ,EADI,EAChBD,WAKNR,EAAQ,CAAC,IAAK,KAAK7J,OAAOyE,GAAcoF,IAAQlL,KAAK,KAN/B,SASDsP,GAAI,CACvBzQ,IAAI,GAAD,OAAK8M,EAAL,wIAA2IT,GAC9IqE,cAAe,IAXK,cAShB5J,EATgB,gBAcJA,EAAOmL,OAdH,UAeC,OADjBZ,EAdgB,QAedgB,WAfc,wBAgBhBpgB,EAAO,GACPof,EAAIwF,gBAAgBxZ,OACtBgU,EAAIwF,KAAKxU,SAAQ,SAACjF,GAChBnL,EAAKmL,EAAM0Z,OAAS1Z,KAGxB8F,GAAe,uBAAwBjR,GAtBnB,kBAuBbA,GAvBa,iCAyBb,IAzBa,4CAAH,sDAiCf2kB,GAAe,SAACb,EAAUgB,EAAUC,GAaxC,IAAIC,EAAO,CACT3L,QAAS,UACT4L,aAAc,GACdC,aAAc,GACdC,SAAU,GACVC,UAAW,IAEb,IAAK,IACGC,EAAoBN,EAApBM,gBACAd,EAA+BO,EAA/BP,aAAce,EAAiBR,EAAjBQ,aACpBN,EAAKG,SAAWzhB,SAASogB,EAASyB,UAClCP,EAAKI,UAAY1hB,SAASogB,EAAS0B,WACnCR,EAAKC,aAAeV,EACpBS,EAAKE,aAAeI,EAEpBD,EAAkB3hB,SAAS2hB,GAC3B,IAAIhM,EAAU,UAEVoM,EAAW3B,EAASK,SAAWL,EAASK,SAAW,GAEnDuB,EAAY5B,EAAS6B,UAAY7B,EAAS6B,UAAY,GAEtDC,EAAc,EAEdC,EAAe,EAEnB,OAAQR,GAEN,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EAEkB,WAAjBd,GAEFlL,EAAU,aACVwM,EAAe,EACfD,EAAc,GACY,WAAjBrB,IAETlL,EAAU,qBACVwM,EAAe,EAEfD,EAAc,GAEhB,MAEF,KAAK,EACL,KAAK,EAGHvM,EAAU,mBACVuM,EAAc,EACdC,EAAe,EAKf,MAEF,KAAK,EACL,KAAK,EACHxM,EAAU,mBACVuM,EAAc,EACdC,EAAe,EAGXtB,EAAavW,SAAS,WAGxBqL,EAAU,YACVuM,EAAc,EACdC,EAAe,GASjB,MACF,QACExM,EAAU,UAQd2L,EAAI,2BACCA,GADD,IAEF3L,UACAuM,cACAF,YACAD,WACAI,eACAC,UACoB,IAAlBd,EAAKG,SACD,UACkB,IAAlBH,EAAKG,UAAoC,IAAlBH,EAAKG,SAC5B,GACA,UAENlV,MAAQoJ,EAAQrL,SAAS,KAAW,EAAJ,IAIlC,MAAOrM,GACP8P,QAAQU,MAAMxQ,GAEhB,OAAOqjB,GAUHhB,GAAiB,uCAAG,4CAAA3O,EAAA,wFAAkB,GACtC0Q,EAAQpY,GAAiB,SACzBoW,IAAiBvS,GAAe,gBAChCA,GAAe,eAEfwU,EAAe,IACfD,EANoB,iCASDE,KATC,WAStBD,EATsB,QAUT5V,SAAQ,SAACjF,QAEpB6a,EAAatV,MAAK,SAACvF,GACjB,OAAOA,EAAMoZ,eAAiBwB,KAbZ,kCAgBCG,GAAsBH,GAhBvB,QAgBpBC,EAhBoB,2CAmBbjC,IAAkBA,EAAeQ,aAnBpB,iBAqBtByB,EAAe,CAACjC,GArBM,6BAyBpBvS,GAAe,0BAA2BpG,OAC1CoG,GAAe,gBAAgBlD,OAAS,GA1BpB,iBA4BpB0X,EAAexU,GAAe,gBA5BV,yCA+BCyU,KA/BD,QA+BpBD,EA/BoB,gCAyCFG,GAAoBH,EAAc,IAzChC,eAyCxBjC,EAzCwB,SA4CtBxhB,OAAOqa,QAAQC,UACb,KACA,KACAuJ,GAAerC,EAAeQ,eA/CV,kBAiDjBR,GAjDiB,4CAAH,qDAwDjBqC,GAAiB,SAACL,GACtB,OAAO5W,GAAY5M,OAAOuL,SAASV,KAAM,QAAS2Y,IAG9CG,GAAqB,uCAAG,WAAOG,GAAP,yBAAAhR,EAAA,+DACP7D,GAAe,YAChCA,GAAe,YACf,GAFI2S,EADoB,EACpBA,SADoB,EAK1B3S,GAAe,6BAA8BxE,OACzCwE,GAAe,mBACf,GAHYqJ,EAJU,EAItBD,WAJsB,SAQP4D,GAAI,CACvBzQ,IAAI,GAAD,OAAK8M,EAAL,4DAA+DsJ,EAA/D,0BAAyFkC,GAC5F5H,cAAe,IAVW,cAQtB5J,EARsB,gBAaVA,EAAOmL,OAbG,UAeL,OAFjBZ,EAbsB,QAepBgB,WAfoB,0CAgBnBhB,EAAIwF,MAhBe,4CAAH,sDAwBrBuB,GAAmB,uCAAG,WAC1BG,GAD0B,uCAAAjR,EAAA,yDAE1BkR,EAF0B,+BAEf,GACXC,EAH0B,+BAGf,aAELF,aAAwBlb,OAAkC,IAAxBkb,EAAahY,OAL3B,uBAMxBmY,GAAY,QANY,mBAOjB,GAPiB,UAStBC,EAAc,IACdH,EAVsB,wBAWlBI,EAAcL,EAAane,KAAI,SAACkG,GAGpC,OAFYuY,GAAiBvY,EAAEkW,aAAcgC,MAZvB,UAiBRjR,QAAQgP,IAAIqC,GAjBJ,QAiBpBvH,EAjBoB,QAmBlB/T,EAAQ+T,EAAIyH,WAAU,SAACxY,GAAD,OAAa,IAANA,OACtB,GACLyY,EAAeR,EAAajb,GAElC4F,GAAe,cAAe6V,GAEV,oBAAbN,GAA2BA,EAASM,GAC3CJ,EAAcI,IAEdL,GAAY,QACZC,GAAc,GA7BQ,wBAgCxBzV,GAAe,cAAeqV,EAAa,IAEvB,oBAAbE,GAA2BA,EAASF,EAAa,IACxDI,EAAcJ,EAAa,GAnCH,iCAqCnBI,GArCmB,4CAAH,sDA6CnBD,GAAc,SAACM,GAAY,IAEblM,GAChBrJ,GAAe,6BAA8BxE,OACzCwE,GAAe,mBACf,IAHAoJ,WAINrY,OAAOuL,SAASV,KAAOyN,EAAS,uBAAyBkM,GAGrDH,GAAgB,uCAAG,WAAOrC,EAAcgC,GAArB,yBAAAlR,EAAA,+DACJ7D,GAAe,YAC9BA,GAAe,YACf,GAFIiT,EADe,EACfA,OADe,EAKrBjT,GAAe,6BAA8BxE,OACzCwE,GAAe,mBACf,GAHYqJ,EAJK,EAIjBD,WAJiB,SAQF+E,GAAK,CACxB5R,IAAI,GAAD,OAAK8M,EAAL,sCACHpI,KAAM,CACJ8R,eACAgC,WACA9B,UAEFhG,cAAe,IAfM,cAQjB5J,EARiB,gBAkBLA,EAAOmL,OAlBF,UAoBA,OAFjBZ,EAlBiB,QAoBfgB,WApBe,0CAqBdhB,EAAIwF,MArBU,4CAAH,wDA6BhBqB,GAAe,uCAAG,sCAAA5Q,EAAA,+DACH7D,GAAe,YAC9BA,GAAe,YACf,GAFIiT,EADc,EACdA,OADc,EASpBjT,GAAe,6BAA8BxE,OACzCwE,GAAe,mBACf,GAHYqJ,EARI,EAQhBD,WARgB,SAYD4D,GAAI,CACvBzQ,IAAI,GAAD,OAAK8M,EAAL,4DAA+D4J,GAClEhG,cAAe,IAdK,cAYhB5J,EAZgB,gBAiBJA,EAAOmL,OAjBH,UAkBC,OADjBZ,EAjBgB,QAkBdgB,WAlBc,wBAmBpBnP,GAAe,eAAgBmO,EAAIwF,MAnBf,kBAoBbxF,EAAIwF,MApBS,kCAsBb,GAtBa,4CAAH,qDA4BRjB,GAAa,SAAC7T,GAIzB,IAAI/B,EAAM0P,GAAa,6BACvBU,GACCK,IAAI,CAAEzQ,QACNoR,MAAK,SAACC,GACL,OAAOA,EAAIY,UAEZb,MAAK,SAACtK,GACe,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAChC8P,EAAS+E,EAAO7U,MAChBqR,eAAeC,QAAQ,UAAWuD,EAAO7U,WAUlC4jB,GAAkB,uCAAG,WAAO5C,GAAP,uCAAA3L,EAAA,sDAShC,GATgDyE,EAAhB,+BAAuB,GAEvDrI,QAAQC,IAAIsP,GACRjT,EAAMiT,EAAU,sBAEhBtG,EAAkBlJ,GAAe,mBACjCwO,EAAO,GACPgH,GAAU,EACdlN,EAAOA,aAAgB1O,MAAQ0O,EAAO,GAClCY,GAAmBA,aAA2B1N,OAChD,IAAS7O,KAAO2b,OACqBhU,IAA/B4U,EAAgBZ,EAAK3b,MACvB6oB,GAAU,QAIdA,GAAU,EAhBoB,IAmB5BA,EAnB4B,kCAoBjB,IAAI1R,SAAQ,SAACC,EAASC,GACjCD,EAAQ,CACN6K,WAAY,IACZwE,KAAMlK,OAvBoB,QAoB9BsF,EApB8B,gDA2BdxB,GAAI,CAAEzQ,QA3BQ,eA2B1BqR,EA3B0B,iBA4BjBA,EAAIY,OA5Ba,QA4B9BA,EA5B8B,sBAmC9BtF,EADsB,MAApBsF,EAAKI,WACWJ,EAAK4E,KAEnB9K,EAAKxL,OAAS,GACE,GAOtB2C,GAAe,kBAAmB+O,EAAK4E,MA7CP,kBA+CzBlK,GA/CyB,4CAAH,sDAsDlBwJ,GAAW,uCAAG,WAAOC,EAAUnD,GAAjB,uBAAA3L,EAAA,yDAErBtH,EAAM0P,GAAa,mCAAqC0G,EACxD8C,EAAWzV,GAAe,YAC1BwO,EAAO,KAGPiH,GAAYA,EAASA,oBAAoB7b,OAAS6b,EAAS3Y,OAAS,GAP/C,gCAQV,IAAIgH,SAAQ,SAACC,EAASC,GACjCD,EAAQ,CACN6K,WAAY,IACZwE,KAAMqC,OAXa,OAQvBjH,EARuB,+CAePxB,GAAI,CAAEzQ,QAfC,eAenBqR,EAfmB,iBAgBVA,EAAIY,OAhBM,QAgBvBA,EAhBuB,sBAwBN,KAAfA,EAAKG,QACHvL,EAAM,CACRsS,WAAYlH,EAAKhgB,KAAKsO,OAAS,EAC/B2Y,SAAUjH,EAAKhgB,MAEjBinB,EAAWrS,GAEXqS,EAAW,CAAEA,SAAU,GAAIC,YAAY,GAIzCjW,GAAe,WAAYgW,GAnCF,kBAqClBA,GArCkB,4CAAH,wD,iBC7fxB,SAASE,GAAShmB,EAAOuD,GAAM,IACb0iB,EAA0CjmB,EAApD5C,SAAgBuP,EAAoC3M,EAApC2M,SAAU2W,EAA0BtjB,EAA1BsjB,OAAQ4C,EAAkBlmB,EAAlBkmB,cACxC5V,QAAQC,IAAI,2BAAQvQ,GAFQ,MAQImmB,mBAAS,IARb,mBAQrBC,EARqB,KAQXC,EARW,OAUQF,oBAAS,GAVjB,mBAUrBG,EAVqB,KAUTC,EAVS,OAaQJ,oBAAS,GAbjB,mBAaTK,GAbS,aAcJL,mBAAS,IAdL,mBAcrBM,EAdqB,KAcfC,EAde,KA6C5B,OA5BAC,qBAAU,WAGR,IAAIF,EAAO/V,GAAY/D,EAASgE,WACS,GAAtChE,EAASgE,SAASnD,QAAQ,SAI7BkZ,EAAQD,GAERhY,GAAQwX,GAAM,YAAsC,IAAnCjc,EAAkC,EAAlCA,MAAc8E,GAAoB,EAA3B5E,MAA2B,EAApB4E,OAAOC,EAAa,EAAbA,OACtB,IAAVD,GAEA2X,EAAKlX,MAAK,SAACqX,GAAD,OAAU5c,EAAMhN,MAAQ4pB,MAClCN,IAAetc,EAAMhN,OAErBupB,GAAc,GACdF,EAAYrc,EAAMhN,MAED,IAAV8R,GACL2X,EAAKlX,MAAK,SAACqX,GAAD,OAAU5c,EAAMhN,MAAQ4pB,MACpCL,EAAcxX,EAAOD,EAAQ,GAAG9R,SAhBpCoE,OAAOuL,SAASka,WAqBjB,CAACla,EAAUsZ,EAAMK,IAGlBL,aAAgBhc,OAChBgc,EAAKjf,KAAI,SAACgD,EAAOE,GAAW,IACpBlN,EAAsCgN,EAAtChN,IAAKC,EAAiC+M,EAAjC/M,KAAMC,EAA2B8M,EAA3B9M,KAAME,EAAqB4M,EAArB5M,SAAUC,EAAW2M,EAAX3M,OAIjC,QAAYsH,IAAR3H,EAEF,MAAO,GAET,IAAI8pB,EAAY1pB,aAAoB6M,OAAS7M,EAAS+P,OAAS,EAE3D4Z,EAAYX,IAAappB,EAE7B,OACE,yBAAKA,IAAKkN,EAAOlH,UAAU,cACzB,yBAAKA,UAAU,cACb,kBAAC,KAAD,CACEgkB,SAAU,SAAC1Q,EAAO3J,GAEhB,GACE2J,GACAgQ,IAAetpB,GACdK,aAAkB4M,OACjB5M,EAAOkS,MAAK,SAAC3B,GACX,OAAOA,EAAM5Q,MAAQypB,EAAK,OAE7BrpB,aAAoB6M,OACnB7M,EAASmS,MAAK,SAACvF,GACb,OACEA,EAAM3M,kBAAkB4M,OACxBD,EAAM3M,OAAOkS,MAAK,SAAC3B,GACjB,OAAOA,EAAM5Q,MAAQypB,EAAK,SAWlC,OAAO,GAGXQ,GAAI,MAA+B,GAAxBjqB,EAAIwQ,QAAQ,QAAexQ,EAAKA,EAAM,IAAMsmB,GACvD4D,gBAAiB,cACjBlkB,UAAS,mBAAc,kBAEb,IAAT9F,EACC,uBACE8F,UAAS,yBAAwB2B,IAATzH,EAAqB,MAAQ,IACrDgE,MACkB,kBAAThE,EACH,CAAEiqB,gBAAgB,OAAD,OAASjqB,EAAT,MACjB,KAIR,GAEF,0BAAM8F,UAAU,YAAY1F,MAAOL,GAChCA,IAGJ6pB,EACC,uBACE9jB,UAAS,qBAAgB+jB,EAAY,kBAAoB,IACzDtjB,QAAS,SAACjD,GAERA,EAAE4mB,kBAEF5mB,EAAE6F,YAAYghB,2BACdb,GAAc,GAEdH,GAAYU,GAAoB/pB,MAIpC,IAGH8pB,EACC,yBACE9jB,UAAS,yBAAoB+jB,EAAY,kBAAoB,IAC7D7lB,MAAO,CAAEK,OAAQwlB,EAAS,UAAwB,GAAlB3pB,EAAS+P,OAAf,MAAiC,IAE1D/P,EAAS4J,KAAI,SAACsgB,EAAQC,GAAiB,IAChCvqB,EAA4BsqB,EAA5BtqB,IAAKC,EAAuBqqB,EAAvBrqB,KAAMC,EAAiBoqB,EAAjBpqB,KAAMG,EAAWiqB,EAAXjqB,OACvB,OACE,kBAAC,KAAD,CACE2pB,SAAU,SAAC1Q,EAAO3J,GAIhB,GACE2J,GACCjZ,aAAkB4M,OACjB5M,EAAOkS,MAAK,SAAC3B,GACX,OAAOA,EAAM5Q,MAAQypB,EAAK,MAK9B,OAAO,GAGXzpB,IAAKuqB,EAELN,GAAI,IAAMjqB,EACVyG,QAAS,WACPyiB,EAAclpB,GACd,IAAIwqB,EAAU,IAAIC,MAAM,UACxBzmB,YAAW,WACTI,OAAOsmB,cAAcF,KACpB,KAELN,gBAAiB,cACjBlkB,UAAS,mBAAc,kBAEb,IAAT9F,EACC,uBACE8F,UAAS,yBACE2B,IAATzH,EAAqB,MAAQ,IAE/BgE,MACkB,kBAAThE,EACH,CAAEiqB,gBAAgB,OAAD,OAASjqB,EAAT,MACjB,KAIR,GAEF,0BAAM8F,UAAU,YAAY1F,MAAOL,GAChCA,QAOX,OAQZ,SAAS0qB,GAAS3nB,EAAOuD,GAAM,IAErB0iB,EAQJjmB,EARF4nB,KACAjb,EAOE3M,EAPF2M,SAGI2W,EAIFtjB,EANFhB,WACE2jB,SACEW,OAGJ4C,EACElmB,EADFkmB,cAGF,OACE,yBAAKljB,UAAU,YACb,kBAAC,aAAD,KACE,kBAACgjB,GAAD,CAAU5oB,SAAU6oB,EAAMtZ,SAAUA,EAAU2W,OAAQA,EAAQ4C,cAAeA,IAA2B,MAMjG2B,mBAAWvb,eAAKwb,qBAAWH,MCxS3B,4/DCAA,4nE,qBCuBTI,GAAYC,KAAZD,QAEN,SAASE,GAAIjoB,EAAOuD,GAAM,IAKP2kB,EAQbloB,EARFmoB,cAIAC,EAIEpoB,EAJFooB,gBAEAC,EAEEroB,EAFFqoB,SACAxa,EACE7N,EADF6N,OAEI4N,EAAU6M,cACV3b,EAAW4b,cAfM,EAiBWpC,mBAAS,IAjBpB,mBAiBhBqC,EAjBgB,KAiBLC,EAjBK,OAsBOtC,mBAAS,IAtBhB,mBAsBhBuC,EAtBgB,KAsBPC,EAtBO,OAuBMxC,mBAASuC,EAAQvb,QAArCyb,EAvBc,sBAyBKC,qBAAWC,IAAxBrqB,GAzBQ,EAyBfwB,MAzBe,EAyBRxB,UAETgoB,EAAOsC,mBAAQ,WAGnB,OAAOpc,GAAyC,kBAAtBA,EAASgE,SAC/BD,GAAY/D,EAASgE,UACrB,KACH,CAAChE,IAGJga,qBAAU,WAGR,IAAIqC,EAAa,GACbC,EAASxC,EAAK,IAAMA,EAAK,GAAK,IAAMA,EAAK,GAAK,IAElDA,aAAgBxc,OACdwc,EAAKtZ,OAAS,GACd+a,aAAyBje,OACzBie,EAAcjZ,SAAQ,SAACjF,EAAOE,GAAW,IACjClK,EAAUgK,EAAVhK,MAIN,GADAgpB,EAAahpB,EAAMkpB,QAAUzC,EAAK,IAAMzmB,EAAMmpB,YAAc1C,EAAK,GAE/DA,EAAK,KAAOzmB,EAAMkpB,QACjBR,EAAQnZ,MAAK,SAAC6Z,GAKb,OACEppB,EAAMkpB,QAAUE,EAAIppB,MAAMkpB,SACxBlpB,EAAM4N,OAAS6Y,EAAK,KAAO2C,EAAIppB,MAAM4N,YAG1Cob,EAOD,CAEA,GAAIN,EAAQvb,QAAU,GAEpB,IADA,IAAI2S,EAAM4I,EAAQvb,OACTD,EAAI,EAAGA,EAAI4S,EAAM,EAAG5S,IAC3Bwb,EAAQW,QAIZ,IAAI5V,EAAM,GACNzJ,EAAMhK,MAAM4N,QACd6F,EAAI7F,MAAQ6Y,EAAK,GACjBhT,EAAIyV,MAAQzC,EAAK,IAEnBhT,EAAIwV,OAASA,EAQbP,EAAQ5a,KAAR,2BAAkB9D,GAAlB,IAAyBhK,MAAM,2BAAMA,GAAUyT,MAC/CkV,EAAWD,GACXE,EAAiBF,EAAQvb,QAEvB6b,IACFA,EAAahpB,EAAM4d,aAKrBoL,EACFvN,EAAQ3N,KAAKkb,GAEbP,EAAaQ,KAId,CAACxC,EAAMyB,IAEV,IAAMoB,EAAU,SAACC,EAAQ3b,GACvB6N,EAAQ3N,KAAK,IAAMyb,EAAOtc,MAAM,KAAK,IAAMW,EAAQ,IAAMA,EAAQ,MAG7D4b,EAAYC,uBAOhB,SAACC,EAASC,EAASC,EAAWC,EAAWC,GACvC,KAAIpB,EAAQvb,QAAU,GAAtB,CAGA,IAAI8Y,EAAO,GAEP8D,EAAW,EACXR,EAASf,EAAUvb,MAAM,KAAK,GAE9BW,EAAQ4a,EAAUvb,MAAM,KAAK,GACjC,GAAuB,IAAnByb,EAAQvb,OAAZ,CAyBA,GALKuc,IACHA,EAAUH,EACVI,EAAU/b,GAGR8b,IAAYH,GAAUI,IAAY/b,EAAO,CAC3C,IAAIoc,EAAY,GAEhBtB,EAAQnZ,MAAK,SAACvF,EAAOE,GACnB,OAAIF,EAAMhK,MAAMkpB,QAAUK,GAAUvf,EAAMhK,MAAM4N,QAAUA,IACxDmc,EAAW7f,GACJ,MAMT8f,EAFED,IAAarB,EAAQvb,OAAS,EAEpBub,EAAQA,EAAQvb,OAAS,GAEzBub,EAAQqB,EAAW,GAEjCR,EAASS,EAAUhqB,MAAMkpB,MACzBtb,EAAQoc,EAAUhqB,MAAM4N,MAG1B8a,EAAQzZ,SAAQ,SAACma,GACXA,EAAIppB,MAAMkpB,QAAUQ,GAAWN,EAAIppB,MAAM4N,QAAU+b,GACrD1D,EAAKnY,KAAKsb,MAOdT,EAAW1C,GAGXqD,EAAQM,GAAaL,EAAQK,EAAYC,EAAYjc,OAvD5B,oBAAZkc,GAKTnB,EAAW1C,GAGXqD,EAAQM,GAAaL,EAAQK,EAAYC,EAAYjc,GACrDkc,EAAQP,EAAQ3b,IAEhB0b,EAAQM,GAAaL,EAAQK,EAAYC,EAAYjc,MA+C3D,CAAC8a,EAASF,IAqCZ,OAlCAyB,8BACE1mB,GACA,iBAAO,CACL2mB,UAAW1B,EACX2B,QAASzB,EACTc,eAKF,CAAChB,EAAWE,EAASc,IAGvBY,2BAAgB,WACd,IAAIC,EAAalpB,IAAE,kDACfI,EAAS8oB,EAAW9oB,SACpBF,EAAQgpB,EAAWhpB,QACI,oBAApB+mB,GAAkCA,EAAgB7mB,EAAQF,GACjE5C,EAAS,CAAEF,KAAM,iBAAkBM,KAAM0C,IACzC,IAAI0R,EAAS,SAACzS,GACZ,IAAIe,EAAS8oB,EAAW9oB,SACpBF,EAAQgpB,EAAWhpB,QACI,oBAApB+mB,GAAkCA,EAAgB7mB,EAAQF,GAEjE5C,EAAS,CAAEF,KAAM,iBAAkBM,KAAM0C,KAI3C,OAFAH,OAAOgE,iBAAiB,SAAU+M,GAASc,EAAQ,MAAM,GAElD,WACL7R,OAAOkpB,oBAAoB,SAAUnY,GAASc,EAAQ,SAGvD,IAGD,kBAAC,KAAD,iBACMoV,EADN,CAEEkC,UAAU,EACVC,UAAWhC,EACXiC,aAAc,SAACzqB,EAAO0qB,GAGpB,OACE,oCACE,kBAACA,EAAD,iBACM1qB,EADN,CAkBEgD,UAAS,sBAAiB6K,EAAS,aAAe,WAOzD6a,EAAQ1hB,KAAI,SAACgD,EAAOE,GAAW,IACxB9M,EAAoB4M,EAApB5M,SAAU4C,EAAUgK,EAAVhK,MAChB,OACE,kBAAC+nB,GAAD,CACEqB,IAEE,yBACEpmB,UAAU,UACV1F,MAAO0C,EAAM2qB,QACblnB,QAAS,SAACzG,EAAKwD,GAGb,IAAIgnB,EAAU,IAAIC,MAAM,UACxBzmB,YAAW,WACTI,OAAOsmB,cAAcF,KACpB,IAEH8B,EAAQtf,EAAMhK,MAAMkpB,MAAOlf,EAAMhK,MAAM4N,SAexC5N,EAAM2qB,QACP,uBACE3nB,UAAU,gBACVS,QAAS,SAACjD,GAERA,EAAE4mB,kBAEF5mB,EAAE6F,YAAYghB,2BAEdmC,EAAUxpB,EAAMkpB,MAAOlpB,EAAM4N,WAuCrC5Q,IAAKgD,EAAMipB,QAEX,kBAAC,aAAD,KAAa7rB,QAOVkP,sBAAKtI,IAAM8jB,WAAWG,K,QChWjBjL,GAAdK,IAAcL,GAATwB,KAEX,SAASoM,GAAO5qB,EAAOuD,GAAM,IAEf6W,EAQRpa,EARF2iB,SACiBkI,EAOf7qB,EAPF8qB,gBAEUC,GAKR/qB,EANFgrB,QAMEhrB,EALF2jB,UACAplB,EAIEyB,EAJFzB,KAEA0sB,GAEEjrB,EAHFijB,aAGEjjB,EAFFirB,YACAC,EACElrB,EADFkrB,SATwB,EAWF/E,mBAAS,IAXP,mBAWnBgF,EAXmB,KAWbpqB,EAXa,OAaIolB,oBAAS,GAbb,mBAanBiF,EAbmB,KAaVC,EAbU,KAcpBC,EAASC,iBAAO,MAEtB5E,qBAAU,WAwBR,GAAIuE,GAAYA,EAASjI,cAAgBiI,EAASjI,aAAa,KAAM,CACnE,IAAIuI,EAASN,EAASjI,aAAa,KAAKwI,WAEtCzR,EAEEkR,EAFFlR,MACmBP,EACjByR,EADFxI,gBAAmBjJ,WAGrB3F,GACE,CACE4X,IAAK,aACLntB,KAAM,WACNiF,GAAI,kCAEJyI,KACEuf,EACA,6DAEJ,OACA,QAIFtb,eAAeC,QAAQ,cAAe6J,GACtC9J,eAAeC,QAAQ,uBAAwBsJ,GAC/CvJ,eAAeC,QAAQ,wBAAyBqb,GAGhDvX,GAAU,CACR0X,IAAKH,EAAS,6CACdhoB,GAAI,qBACHwa,MAAK,SAACC,GACHA,GACFhK,GAAU,CACR0X,IAAKH,EAAS,kDACdhoB,GAAI,6BACHwa,MAAK,SAACC,GACHA,GACFhK,GAAU,CACR0X,IACEH,EACA,0DACFhoB,GAAI,sCACHwa,MAAK,SAACC,GACHA,GACFoN,GAAW,eAUxB,CAACH,IACJvE,qBAAU,WACR,IAAIiF,EAAWC,aAAY,WACzB,IAAIC,EAASjsB,OACTksB,EACF,oCACGD,EAAOE,OAAO,cACf,0BAAMhpB,UAAW,eAChB8oB,EAAOE,OAAO,QACf,0BAAMhpB,UAAW,eAChB8oB,EAAOE,OAAO,UAMnBjrB,EAAQgrB,KACP,KACH,OAAO,WACLE,cAAcL,MAEf,IAEH,IAAMM,EAAazC,uBAAY,WAC7BtoB,IAAEmqB,EAAOa,SAASC,UAEjB,CAAChB,IACJ,OACE,yBACEpoB,UAAS,wBACE,YAATzE,EAAqB,uBAAyB,yBAGtC,YAATA,GACC,oCACG,IACD,uBACEyE,UAAU,eAGXoX,EACC,yBAAKpX,UAAW,+BACd,uBACEA,UAAU,WACV9B,MAAO,CACLmrB,WAAW,OAAD,OAASjS,EAASkS,UAAlB,uCACVC,OAAQ1B,EAAkB,UAAY,QAExCpnB,QAAS,WAEPonB,GACEzpB,OAAOorB,KACL3B,EAAgBpR,WACd,4BACApJ,GAAe,SACf,QAIP,KAEH,0BACE5M,QAAS,WAEPonB,GACEzpB,OAAOorB,KACL3B,EAAgBpR,WACd,4BACApJ,GAAe,SACf,OAGR/S,MAAO8c,EAASqS,SAChBzpB,UAAW,aAEVoX,EAASqS,UAEZ,0BACEzpB,UAAU,YACV9B,MAAO,CACLmrB,WAAW,OAAD,OAAStB,EAAS2B,QAAlB,wCAEZpvB,MAAOytB,EAAS5G,cAEf4G,EAAS3H,cAAgB2H,EAAS3H,aAAavW,SAAS,OACrDke,EAAS5G,aACT,IAEN,0BACEnhB,UAAU,SACVS,QAAS,WACPmO,GAAU,CACRtU,MAAO,oDACPiB,KAAM,WACN0E,YAAY,EACZtC,KAAM,WAQJ4Z,GAAO,WAOjB,GAEF,yBAAKvX,UAAU,2BACZooB,EACC,0BAAMpoB,UAAU,WAAWS,QAASyoB,GAClC,uBAAG3oB,IAAK+nB,EAAQtoB,UAAU,MAAMQ,GAAI,yBADtC,gBAKA,GAEF,0BACER,UAAU,YACVS,QAAS,WAKqB,UAAzBsnB,EAAS3H,aAIgB,UAAzB2H,EAAS3H,cAAqD,UAAzB2H,EAAS3H,aAIjDhiB,OAAOorB,KAAK,6CAA+Ctc,eAAeM,QAAQ,UAHhFpP,OAAOorB,KAAK,6CAA+Ctc,eAAeM,QAAQ,UAJlFpP,OAAOorB,KAAK,6CAA+Ctc,eAAeM,QAAQ,YARxF,iBAqBD2a,EAAO,yBAAKnoB,UAAU,4BAA4BmoB,GAAc,IAG3D,YAAT5sB,GACC,oCACE,yBAAKyE,UAAU,UACb,uBACEA,UAAU,UACV9B,MAAO,CACLmrB,WAAW,OAAD,OAASxB,EAAgB8B,eAAzB,wCAGd,0BAAM3pB,UAAU,YACb6nB,EAAgB+B,YACb/B,EAAgB+B,YAChB,8CAELxS,EACC,yBAAKpX,UAAW,+BACd,uBACEA,UAAU,WACV9B,MAAO,CACLmrB,WAAW,OAAD,OAASjS,EAASkS,UAAlB,uCACVC,OAAQ1B,EAAkB,UAAY,QAExCpnB,QAAS,WACPonB,GACEzpB,OAAOorB,KACL3B,EAAgBpR,WACd,4BACApJ,GAAe,SACf,QAIP,KAEH,0BACE5M,QAAS,WACPonB,GACEzpB,OAAOorB,KACL3B,EAAgBpR,WACd,4BACApJ,GAAe,SACf,OAGR/S,MAAO8c,EAASqS,SAChBzpB,UAAW,aAEVoX,EAASqS,UAEZ,0BACEzpB,UAAU,YACV9B,MAAO,CACLmrB,WAAW,OAAD,OAAStB,EAAS2B,QAAlB,wCAEZpvB,MAAOytB,EAAS5G,cAEf4G,EAAS3H,cACV2H,EAAS3H,aAAavW,SAAS,OAC3Bke,EAAS5G,aACT,IAEN,0BACEnhB,UAAU,SACVS,QAAS,gBAcb,GAEF,yBAAKT,UAAU,2BACZooB,EACC,0BAAMpoB,UAAU,WAAWS,QAASyoB,GAClC,uBACE3oB,IAAK+nB,EACLtoB,UAAU,MACVQ,GAAI,0BAKR,KAIN,yBAAKR,UAAU,WACZioB,EACC,0BAAMjoB,UAAU,kBAAkBioB,GAElC,MAQC3e,sBAAKwb,qBAAW8C,K,QC9V/B,SAASiC,GAAS7sB,EAAOuD,GASnBvD,EAPF5C,SAF2B,IAG3B0vB,EAME9sB,EANF8sB,UACAhC,EAKE9qB,EALF8qB,gBAEAiC,GAGE/sB,EAJFgtB,QAIEhtB,EAHF+sB,YACApgB,EAEE3M,EAFF2M,SACA8O,EACEzb,EADFyb,QA+BF,OA5BAkL,qBAAU,WACR,IAAIF,EAAO/V,GAAY/D,EAASgE,UAC5BkV,GAAU,EAuBd,OAtBAiH,EAAU7d,SAAQ,SAACjF,EAAOE,GACpBF,EAAMhK,MAAMitB,UAAYxG,EAAK,KAC/BZ,GAAU,EAENY,EAAK,KAAOzc,EAAMhK,MAAM4N,MAC1B6N,EAAQ3N,KAAK,IAAM9D,EAAMhK,MAAMitB,UACrBxG,EAAK,IAAMzc,EAAMhK,MAAM4N,QAE5Bkf,EAAU,GAAG9sB,MAAM4N,MAGtBxM,OAAOuL,SAASV,KACd6e,EAAgBtR,gBAAkB,2BAHpCiC,EAAQ3N,KAAK,IAAMgf,EAAU,GAAG9sB,MAAMitB,eAUzCpH,GAAWiH,EAAU3f,OAAS,GACjCsO,EAAQ3N,KAAK,IAAMgf,EAAU,GAAG9sB,MAAMitB,SAEjC,eAEN,CAACtgB,EAAUmgB,IAEZ,kBAAC,aAAD,KACE,yBAAK9pB,UAAU,gBAEb,kBAAC,KAAD,KACG8pB,EAAU9lB,KAAI,SAACgD,EAAOE,GACrB,IAAI0D,EAAQ5D,EAAMhK,MAAM4N,MAAQ,KAAO5D,EAAMhK,MAAM4N,MAAQ,GAC3D,OACE,kBAAC,IAAD,CACE5Q,IAAKkN,EACL0c,KAAM,IAAM5c,EAAMhK,MAAMitB,QAAUrf,GAIjC5D,OAMR+iB,IAMMlF,mBAAWvb,eAAKwb,qBAAW+E,M,QCnE1C,SAASK,GAAKltB,EAAOuD,GAAM,IAEvBP,EAaEhD,EAbFgD,UACA8nB,EAYE9qB,EAZF8qB,gBACAqC,EAWEntB,EAXFmtB,SACAxgB,EAUE3M,EAVF2M,SACA8O,EASEzb,EATFyb,QACA2R,EAQEptB,EARFotB,cAQEptB,EAPF+sB,WAOE/sB,EANFgtB,QAoCF,OA7BArG,qBAAU,WACR,IAAIF,EAAO/V,GAAY/D,EAASgE,UAC5BkV,GAAU,EAoBd,GAnBAsH,EAASle,SAAQ,SAACjF,EAAOE,GACnBF,EAAMhK,MAAMqtB,SAAW5G,EAAK,KAC9BZ,GAAU,EAENY,EAAK,KAAOzc,EAAMhK,MAAM4N,MAC1B6N,EAAQ3N,KAAK,SAAW9D,EAAMhK,MAAMqtB,SAC1B5G,EAAK,IAAMzc,EAAMhK,MAAM4N,QAE5Buf,EAAS,GAAGntB,MAAM4N,MAGrBxM,OAAOuL,SAASV,KACd6e,EAAgBtR,gBAAkB,2BAHpCiC,EAAQ3N,KAAK,SAAWqf,EAAS,GAAGntB,MAAMqtB,cAU7CxH,GAAWsH,EAAShgB,OAAS,EAAG,CACnC,IAAImW,EAASpT,eAAeM,QAAQ,YAAaR,KAAKS,MAAMP,eAAeM,QAAQ,aAAa8S,OAAQ,GACxG7H,EAAQ3N,KAAK,SAAWqf,EAAS,GAAGntB,MAAMqtB,OAAS,IAAM/J,MAI1D,CAAC6J,EAAUxgB,IAEZ,kBAACT,GAAD,CACEC,eAA6BxH,IAAlByoB,GAA+BA,EAAgBE,aAAa,IAEvE,yBAAKtqB,UAAS,kBAAaA,GAAwB,KACjD,kBAAC,KAAD,KACGmqB,EAASnmB,KAAI,SAACgD,EAAOE,GACpB,IAAI0D,EAAQ5D,EAAMhK,MAAM4N,MAAQ,KAAO5D,EAAMhK,MAAM4N,MAAQ,GAC3D,OACE,kBAAC,IAAD,CACE5Q,IAAKkN,EACL0c,KAAM,SAAW5c,EAAMhK,MAAMqtB,OAASzf,GAGrC5D,SAUF6d,mBAAWvb,eAAKwb,qBAAWoF,M,UCXpC5Q,GAAeiR,GAAfjR,WAEOwM,GAAe0E,0BACtBC,GAAY,CAChBC,cAAe,GAEXC,GAAe,SAAC1tB,EAAOhB,GAC3B,OAAQA,EAAQV,MACd,IAAK,iBACH,OAAOsN,OAAOC,OAAO,GAAI7L,EAAO,CAC9BytB,cAAezuB,EAAQJ,OAG3B,QACE,OAAOoB,IASb,SAAS2tB,GAAM5tB,EAAOuD,GAAK,IAMvBhF,EAwBEyB,EAxBFzB,KAEAsvB,EAsBE7tB,EAtBF6tB,SACA7qB,EAqBEhD,EArBFgD,UACAsf,EAoBEtiB,EApBFsiB,SAEA0I,EAkBEhrB,EAlBFgrB,QAEArsB,EAgBEqB,EAhBFrB,SACAvB,EAeE4C,EAfF5C,SAEA0wB,EAaE9tB,EAbF8tB,aAEAzF,EAWEroB,EAXFqoB,SAEAD,EASEpoB,EATFooB,gBAEA7F,EAOEviB,EAPFuiB,SACA1U,EAME7N,EANF6N,OACA7O,EAKEgB,EALFhB,WACAknB,EAIElmB,EAJFkmB,cAEYpC,EAEV9jB,EAHFhB,WACE+uB,QAAUjK,aAGdxT,QAAQC,IAAI,QAASvQ,GA/BI,MAkCHmmB,oBAAS,GAlCN,mBAkCpB6H,EAlCoB,KAkCdC,EAlCc,OAoCK9H,oBAAS,GApCd,mBAoCpB4E,EApCoB,KAoCVmD,EApCU,OAsCK/H,oBAAS,GAtCd,mBAsCpB/L,EAtCoB,KAsCV+T,EAtCU,OAwCmBhI,oBAAS,GAxC5B,mBAwCpB0E,EAxCoB,KAwCHuD,EAxCG,OA4CajI,oBAAS,GA5CtB,mBA4CpBkI,EA5CoB,KA4CNC,EA5CM,OA8CGnI,mBAAS,CAAEoI,SA9Cd,mBA8CpBC,EA9CoB,KA8CXC,EA9CW,OAgDatI,mBAAS,MAhDtB,mBAgDpBuI,EAhDoB,KAgDNC,EAhDM,QAoDKxI,mBAAS,IApDd,qBAoDpByI,GApDoB,MAoDVC,GApDU,MAsDnBC,GAASvD,iBAAO,IAtDG,GAwDCwD,qBAAWpB,GAAcF,IAxD1B,qBAwDlBxtB,GAxDkB,MAwDXxB,GAxDW,SA0DiB0nB,mBAAS,IA1D1B,qBA0DlB+B,GA1DkB,MA0DH8G,GA1DG,SA8DS7I,mBAAS,IA9DlB,qBA8DlB2G,GA9DkB,MA8DPmC,GA9DO,SAgEK9I,mBAAS,IAhEd,qBAgElB6G,GAhEkB,MAgETkC,GAhES,SAkEW/I,mBAAS,IAlEpB,qBAkElBgJ,GAlEkB,MAkENC,GAlEM,MAqEnBziB,GAAW4b,cArEQ,GAwEWpC,wBAASxhB,GAxEpB,qBAwElBsmB,GAxEkB,MAwENoE,GAxEM,SA6EOlJ,mBAAS,IA7EhB,qBA6ElBgH,GA7EkB,MA6ERmC,GA7EQ,SAgFOnJ,oBAAS,GAhFhB,qBAgFlB+E,GAhFkB,MAgFRqE,GAhFQ,SAkFOpJ,mBAAS,IAlFhB,qBAkFlBlL,GAlFkB,MAkFRuU,GAlFQ,MAoFrBC,GAAe,UACA,UAAhB3L,IACD2L,GAAe,WAEE,UAAhB3L,GAA4C,UAAhBA,GAA4C,UAAhBA,IACzD2L,GAAe,WAEE,UAAhB3L,GAA4C,UAAhBA,IAC7B2L,GAAe,WAEjBrF,2BAAgB,WAgCZyE,GAAY,CACV,CACE7xB,IAAK,sBACLC,KAAM,2BACNC,KAAMK,GACNH,SAAU,GACVC,OAAQ,CAAC,CAAEL,IAAK,sBAAuBM,MAAO,8BAEhD,CACEN,IAAK,eACLC,KAAM,2BACNC,KAAMC,GACNC,SAAU,CACR,CACEJ,IAAK,eACLC,KAAM,4BAER,CACED,IAAK,kBACLC,KAAM,4BAER,CACED,IAAK,gBACLC,KAAM,4BAER,CACED,IAAK,YACLC,KAAM,4BAER,CACED,IAAK,iBACLC,KAAM,4BAER,CACED,IAAK,gBACLC,KAAM,8CAOf,CAAC6mB,IACJsG,2BAAgB,WACd,IAAIsF,EAAOvuB,IAAE,qBACTwuB,EAAe,EACnBD,EAAKE,MAAK,SAAC1lB,EAAOjD,GACb9F,IAAE8F,GAAM4oB,KAAK,WAA6D,GAAjD1uB,IAAE8F,GAAM4oB,KAAK,SAASriB,QAAQ,iBACxDmiB,EAAezlB,EAAQ,MAG3B,IAAI0C,EAAM0P,GAAa,wBAA0BqT,EACjD3S,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACe,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChC2wB,GAAY9b,EAAO7U,KAAK+R,OAAO,EAAG,UAGrC,CAAC6e,KACJ9I,qBAAU,WAERpoB,GAEEic,GACE,CAAC8H,WAASC,SAASA,IACnB,SAAC1jB,GAEKA,EAAK+jB,gBAAwC,YAAtB/jB,EAAK0kB,KAAKrL,SAEnCgW,EAAYrvB,EAAK+jB,gBACjB/jB,EAAK8jB,UAAYwL,EAAYtvB,EAAK8jB,UAClC9jB,EAAK6jB,iBAAmB0L,EAAmBvvB,EAAK6jB,iBAChDiM,IAAgB9vB,EAAKokB,cAAepkB,EAAKokB,cAEzCsM,GAAY1wB,GAEZovB,GAAQ,IACD1L,GACP1jB,EAAK6jB,iBAAmB0L,EAAmBvvB,EAAK6jB,iBAChD6M,GAAY1wB,GACZovB,GAAQ,IAKRrsB,SAAS+K,SAASV,KAChBpN,EAAK6jB,gBAAgBlJ,gBAAkB,8BAG7C,iBAMH,CAAC8I,IAIJqE,qBAAU,WAEHqH,GAAUK,GACO,oBAAbR,GACLA,EAAS3C,IAAUlN,MAAK,SAAC8R,GACnBA,GACFvxB,GAAQ+vB,GAAgB,QAI/B,CAAC/vB,EAAM2sB,GAAU8C,EAAMH,EAAUQ,EAAc9L,IAElDoE,qBAAU,WAERqE,aAAmBnf,QACjB4iB,EAAW,aACTF,KAAMvD,EAAQuD,KAAOvD,EAAQuD,KAAOA,GACjCvD,MAEN,CAACA,IAYJrE,qBAAU,WACR,IAAIF,EAAO/V,GAAY/D,GAASgE,UAOhC,OANAmc,GAAU7d,SAAQ,SAACjF,EAAOE,GACpBF,EAAMhK,MAAMitB,UAAYxG,EAAK,IAC/B4I,GAAcrlB,EAAMhK,MAAM+vB,cAIvB,eACN,CAACpjB,GAAUmgB,KAEdnG,qBAAU,WAGR,GAAIqJ,GAAU,WAAY,CACxB,IAAI/J,EAAO,GACX7oB,EAAS6R,SAAQ,SAACjF,GAChB,IAEE,IACGA,EAAMhK,YACe2E,IAAtBqF,EAAMhK,MAAMkpB,YACYvkB,IAAxBqF,EAAMhK,MAAM2qB,QAEZ,MAAO,GAET,SACA,MAAO,GAGT1E,EAAKnY,KAAK,CACR1Q,SAAU4M,EACVhK,MAAM,2BACDgK,EAAMhK,OADN,IAEH4d,SACE,KACC5T,EAAMhK,MAAM4d,SACT5T,EAAMhK,MAAM4d,SACZjf,EAAS,GACTA,EAAS,GAAG3B,IACZ,WAKZgyB,GAAiB/I,GAGnB,GAAI+J,GAAU,WAAY,CACxB,IAAIlD,EAAY,GACZE,EAAU,GACVmC,EAAa,GAEjB/xB,aAAoB6M,OAClB7M,EAAS6R,SAAQ,SAACjF,GAEc,YAA1BA,EAAMhK,MAAMiwB,YACVjmB,EAAMhK,MAAMitB,QACdH,EAAUhf,KAAK9D,GACNA,EAAMhK,MAAMmvB,WACrBA,EAAWrhB,KAAK9D,GAEhBgjB,EAAQlf,KAAK9D,OAIrBilB,GAAanC,GACbsC,GAAcD,GACdD,GAAWlC,GAIb,GAAIgD,GAAU,QAAS,CACrB,IAAI7C,EAAW,GACXH,EAAU,GACVmC,EAAa,GACjB/xB,aAAoB6M,OAClB7M,EAAS6R,SAAQ,SAACjF,GAEc,SAA1BA,EAAMhK,MAAMiwB,YACVjmB,EAAMhK,MAAMqtB,OACdF,EAASrf,KAAK9D,GACLA,EAAMhK,MAAMmvB,WACrBA,EAAWrhB,KAAK9D,GAEhBgjB,EAAQlf,KAAK9D,OAInBsG,QAAQC,IAAI4c,GAEdmC,GAAYnC,GACZiC,GAAcD,GACdD,GAAWlC,GAEb,OAAO,eAEN,CAAC5vB,EAAUmB,EAAMI,IAGpB,IAAMqxB,GAAYvG,uBAChB,WAAiB,IAAhBzsB,EAAe,uDAAT,KACL,MAAuB,kBAATuB,GAAqBA,EAAKsO,SAAS7P,KAEnD,CAACuB,IA1WsB,GA4WeuwB,GAAO3C,QAAU2C,GAAO3C,QAAU,GAApEjC,GA5WmB,GA4WnBA,UAAWC,GA5WQ,GA4WRA,QAASX,GA5WD,GA4WCA,UAE1BS,8BACE1mB,GACA,WACE,MAAO,CAEL2mB,aACAC,WACAX,aACAkE,cAAeztB,GAAMytB,iBAGzB,CAACxD,GAAWC,GAASX,GAAWvpB,GAAMytB,gBAGxC/G,qBAAU,WACgB,oBAAjBmH,GAA+BA,EAAa5D,MAGlD,CAACA,KACJ,IAAIgG,GAAYC,wBAuDhB,OACE,kBAACrH,GAAasH,SAAd,CAAuBvsB,MAAO,CAAE5D,SAAOxB,cACrC,kBAAC,GAAD,CACE6F,SAAU+pB,EAGVhqB,SAAS,EACTD,IAAK,yBAEL,yBACEZ,GAAG,QACHtC,MAAO8uB,GAAU,QAAU,CAAEK,SAAU,QAAW,GAClDrtB,UAAS,gBAAWA,GAAwB,KAE3CgtB,GAAU,QACTnF,GACE,kBAAC,GAAD,CACEsC,SAAUA,GACVC,eAAe,EACftC,gBAAiBD,EACjBmC,QAASA,GACTD,WAAYoC,GACZnwB,WAAYA,IAIhB,oCACE,kBAAC,GAAD,CACE2jB,SAAUvI,EACV0Q,gBAAiBD,EACjBG,QAASwD,EACT7K,SAAUoH,EACVxsB,KAAMA,EACN0kB,aAAcyL,EACdzD,WAAYA,GACZC,SAAUA,KAGX3sB,EACC,yBACEyE,UAAS,yBACPgtB,GAAU,WAAa,kBAAoB,KAG5CA,GAAU,WACT,yBAAKhtB,UAAU,sBACb,kBAAC,GAAD,CAAU4kB,KAAMgH,GAAU5vB,WAAYA,EAAYknB,cAAeA,IACjE,uBAAGljB,UAAU,UAAUS,QArGxB,WACjB,IAAIisB,EAAOvuB,IAAE,qBACTwuB,EAAe,EACnBD,EAAKE,MAAK,SAAC1lB,EAAOjD,GACb9F,IAAE8F,GAAM4oB,KAAK,WAA6D,GAAjD1uB,IAAE8F,GAAM4oB,KAAK,SAASriB,QAAQ,iBACxDmiB,EAAezlB,EAAQ,MAG3B,IAAI0C,EAAM0P,GAAa,2BAA6BqT,EACpD3S,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACL,GAAoB,KAAjBA,EAAOsL,OAAc,CACtBkR,GAAU,CACN3xB,KAAMgB,EAAcnB,eACpBS,MAAM,IAGVmC,YAAW,WACTkvB,GAAU,CACR3xB,KAAMgB,EAAcnB,eACpBS,MAAM,MAEP,KAEH,IAAIqc,EAAO,IAAIH,KACXuV,EAAOpV,EAAK4F,cACZyP,EAAQrV,EAAKmF,WAAa,EAC1BmQ,EAAMtV,EAAKoF,UACXmQ,EAAOvV,EAAKqF,WACZmQ,EAASxV,EAAKsF,aACf+P,EAAQ,KACTA,EAAQ,IAAMA,GAEbC,EAAM,KACPA,EAAM,IAAMA,GAEXC,EAAO,KACRA,EAAO,IAAMA,GAEZC,EAAS,KACVA,EAAS,IAAMA,GAEjBlB,GAAYc,EAAO,IAAMC,EAAQ,IAAMC,EAAM,IAAMC,EAAO,IAAMC,GAChEC,KAAQC,UACRD,KAAQ9U,OAAO,CACbgV,KAAK,EACLC,aAAc,kBAAIlvB,SAAS0P,QAE7Bqf,KAAQ5f,QAAQ,mCAmDF,6BAAmDkK,GAAS,uBAAGjY,UAAU,kBAG3E,GAGF,yBACEA,UAAS,8BACPgtB,GAAU,WAAa,cAAgB,KAGxChC,EACCgC,GAAU,WACR,kBAAC,GAAD,CACElD,UAAWA,GACXE,QAASA,GACTlC,gBAAiBD,EACjBkC,WAAYoC,IAEX/xB,GAED8qB,cAAyBje,OAC3Bie,GAAc/a,OAAS,EACvB,kBAAC,GAAD,CACEkb,SAAUA,EACV9kB,IAAKurB,GACL3G,cAAeD,GACfra,OAAQA,EACRtP,KAAMA,EACN6pB,gBAAiBA,GAEhBhrB,GAGH,GAGF,KAKN,OAShB,IAAM2zB,GAAkB,SAAC9wB,GAIvB,MAAO,CAAE+wB,UADL/wB,EADFjB,WAAcgyB,YAIHC,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW8F,M,4BC/mBlDtR,GAAeiR,GAAfjR,WAEN,SAAS4U,GAAWlxB,EAAOuD,GAAM,IAEzB4tB,EAOAnxB,EAPAmxB,YACmBpE,EAMnB/sB,EANA8qB,gBAAmBiC,WAEnBqE,GAIApxB,EALAolB,SAKAplB,EAJAoxB,cACAC,EAGArxB,EAHAqxB,aACWrO,EAEXhjB,EAFA2iB,SAAWK,SAPa,GASxBhjB,EADAsxB,WAGkCnL,mBAAS,WAXnB,mBAWrBoL,EAXqB,KAWRC,EAXQ,OAcQrL,mBAAS,IAdjB,mBAcrBsL,EAdqB,KAcTC,EAdS,OAgBcvL,mBAAS,IAhBvB,mBAgBrBwL,EAhBqB,KAgBNC,EAhBM,OAkBYzL,mBAAS,GAlBrB,mBAkBrBwJ,EAlBqB,KAkBPkC,EAlBO,OAmBc1L,mBAAS,GAnBvB,mBAmBrB2L,EAnBqB,KAmBNC,EAnBM,OAqBQ5L,mBAAS,IArBjB,mBAqBrB3T,EArBqB,aAuBQ2T,mBAAS,IAvBjB,mBAuBrB6L,EAvBqB,KAuBTC,EAvBS,OAwBU9L,mBAAS,GAxBnB,mBAwBrB+L,EAxBqB,KAwBRC,EAxBQ,OAyBIhM,mBAAS,GAzBb,mBAyBrBiM,EAzBqB,KAyBXC,EAzBW,KA2E5B1L,qBAAU,WAUN,GATiB,GAAdqL,GACCR,EAAe,UAEF,GAAdQ,GAA+B,GAAZI,GAClBZ,EAAe,WAEF,GAAdQ,GAAkC,GAAfE,GAClBV,EAAe,QAEF,GAAdQ,GAAkC,GAAfE,GAAgC,GAAZE,EAAc,CACpDX,EAAWxiB,SAAQ,SAAChI,GAChBA,EAAKqrB,UAAYtiB,KAAKC,UAAUhJ,EAAKsrB,eACrCtrB,EAAKurB,aAAe,GACpBvrB,EAAKwrB,QAAUxrB,EAAKwrB,QAASxrB,EAAKwrB,QAAS,GAC3CxrB,EAAKyrB,QAAUzrB,EAAKyrB,QAASzrB,EAAKyrB,QAAS,GAC3CzrB,EAAK0rB,SAAW1rB,EAAK0rB,SAAU1rB,EAAK0rB,SAAU,GAC9C1rB,EAAK2rB,OAAS3rB,EAAK2rB,OAAQ3rB,EAAK2rB,OAAQ,GACxC3rB,EAAK4rB,UAAY5rB,EAAK4rB,UAAW5rB,EAAK4rB,UAAW,GACjD5rB,EAAK6rB,gBAAkB7rB,EAAK6rB,gBAAiB7rB,EAAK6rB,gBAAiB,GAEnE7rB,EAAK8rB,aAAa9jB,SAAQ,SAACjF,GACvB,IAAIyJ,EAAM,CACNxW,KAAM+M,EAAM,gBACZgpB,aAAchpB,EAAM,gBACpBipB,YAAajpB,EAAM,4BACnBkpB,IAAKlpB,EAAM,4BACXmpB,OAAQlsB,EAAKmsB,YACbC,WAAY,EACZ7vB,GAAI,EACJ8vB,QAAStpB,EAAM,sBACfupB,YAAavpB,EAAM,kCACnBwpB,UAAWxpB,EAAM,wCACjBypB,WAAYzpB,EAAM,wCAClB0pB,WAAY1pB,EAAM,kCAClB2pB,OAAQ3pB,EAAM,gBACd4pB,SAAU5pB,EAAM,iBAEpB/C,EAAKurB,aAAa1kB,KAAK2F,MAE3BxM,EAAK4sB,WAAa,GAElB5sB,EAAK6sB,WAAW7kB,SAAQ,SAACjF,GACrB,IAAIyJ,EAAM,CACNsgB,gBAAiB/pB,EAAM,4BACvBgqB,OAAQhqB,EAAM,4BACdiqB,kBAAmBjqB,EAAM,wCACzBkqB,UAAWlqB,EAAM,kCACjBmqB,gBAAiBnqB,EAAM,wCACvBoqB,KAAMpqB,EAAM,4BACZmpB,OAAQlsB,EAAKmsB,YACbC,WAAY,EACZ7vB,GAAI,GAERyD,EAAK4sB,WAAW/lB,KAAK2F,SAI7B,IAAI7G,EAAM0P,GAAa,sBACvBU,GACCwB,KAAK,CACF5R,MACA0Q,cAAe,EACfhM,KAAMmgB,EACNxU,OAAQ,CACJ,eAAgB,sBAGvBe,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QACN2R,KAAQ5f,QAAQ,6BAChBogB,EAAY,WAEZR,KAAQ3f,MAAM,wCAsB3B,CAACghB,EAAYE,EAAaE,IAc7B,OACI,yBAAKpvB,UAAU,eACX,yBAAKA,UAAU,cAAf,uCAEI,yBAAKA,UAAU,SAASS,QAAS,kBAAI0tB,EAAY,YAAjD,yCAEJ,yBAAKnuB,UAAU,oBACX,yBACAA,UAAW,WACK,UAAfuuB,EAAyB,SAAU,SAFpC,8BAOA,yBACAvuB,UAAW,WACK,WAAfuuB,EAA0B,SAAyB,QAAfA,EAAuB,OAAQ,KAFpE,8BAOA,yBACAvuB,UAAW,WACK,QAAfuuB,EAAuB,SAAU,KAFlC,mBASe,UAAfA,EACA,yBAAKvuB,UAAU,eACX,uBAAGA,UAAU,cACT,uBAAGA,UAAU,aADjB,6BAIA,oIAEI,0BAAMA,UAAU,oBAAoBS,QApMvC,WACb,IAAImJ,EAAM0P,GAAa,+BAAiC0G,EACxD,YAAcqO,EACd,YAAcD,EAFJ9U,yCAMVlb,OAAOuL,SAASV,KAAOW,IA6LP,4BAFJ,KAKA,uIACA,yBAAK5J,UAAU,eACVwP,EACD,kBAAC,KAAD,CACA6hB,cAlMD,SAACx1B,GAChB,IAAIy1B,EAAW,IAAIC,SACnBD,EAASE,OAAO,gBAAiB31B,EAAK41B,MACtC,IAAI7nB,EAAM0P,GAAa,qBACvBnb,IAAEyZ,KAAK,CACHhO,IAAKA,EACLrO,KAAM,OACNm2B,OAAO,EACP71B,KAAMy1B,EACNzZ,SAAS,OACTiD,OAAO,EACP6W,aAAc,EACdC,aAAa,EACbpX,QAAS,CACP,cAAiB,WAAatN,eAAeM,QAAQ,UAEvDO,QAAS,SAASlS,GAChB,GAAkB,KAAfA,EAAKmgB,QAAiB/U,MAAM4qB,QAAQh2B,EAAKA,MAC1C8xB,KAAQ5f,QAAQ,6BAChB2gB,EAAc7yB,EAAKA,MACnB+yB,EAAiB/yB,EAAKA,KAAK,IAC3BozB,EAAc,OACT,CACL,GAAGpzB,EAAKugB,MAAoC,GAA7BvgB,EAAKugB,IAAI5R,QAAQ,QAG9B,OAFAmjB,KAAQ3f,MAAM,6IAA2B,QACzC5P,OAAOuL,SAASV,KAAOqQ,GAAa,mCAAqCzd,EAAKugB,KAGhFuR,KAAQ3f,MAAM,+HAKlBA,MAAM,SAAS8N,GACX6R,KAAQ3f,MAAM,iIAiKN8jB,gBAAgB,GAEZ,yBAAK9xB,UAAU,mBAAf,+BAIG,WAAfuuB,EACA,yBAAKvuB,UAAU,gBACX,yBAAKA,UAAU,eACX,kBAAC,KAAD,CAAgBlD,OAAQwI,MACpB,kBAAC,KAAD,CACAtF,UAAU,qBACVmB,KAAK,QACL6E,MAAOyoB,EAAWtkB,OAClBgf,QAASwD,EACToF,SAAU,EACVC,iBAAiB,EACjBlsB,iBAAiB,EACjBmsB,kBAAgB,EAChBvuB,SAAU,SAACwuB,GACPtD,EAAiBH,EAAWyD,EAAY,IACxCrD,EAAgBqD,OAIxB,yBAAKlyB,UAAU,aAEPyuB,EAAWtkB,OAAS,EACpB,yBAAKnK,UAAU,aAAaS,QArFhC,WACpB,IAAI0xB,EAAM1D,EAAW2D,OAAOzF,EAAc,GAC1C,GAAiB,GAAdwF,EAAIhoB,OAGH,OAFAwjB,KAAQ0E,KAAK,oGAAqB,QAClCpD,EAAc,GAGlBP,EAAcyD,GACdvD,EAAiBuD,EAAIxF,EAAe,MA6EZ,gBACA,GAEJ,yBAAK3sB,UAAU,WAAWS,QAAS,WAC/B0uB,EAAe,GACfX,EAAe,UAFnB,wBAOJG,EACD,yBAAK3uB,UAAU,aAAa9B,MAAO,CAAC4gB,QAAS,IAC7C,2BAAO9e,UAAU,YAAYsyB,OAAO,IAAI1uB,YAAY,WAChD,2FACA,4BACK,4CACA,wBAAItJ,MAAOq0B,EAAcyB,YAAazB,EAAcyB,YAAa,MAC5DzB,EAAcyB,YAAazB,EAAcyB,YAAa,MAE3D,4CACA,wBAAI91B,MAAOq0B,EAAc4D,OAAQ5D,EAAc4D,OAAQ,MAClD5D,EAAc4D,OAAQ5D,EAAc4D,OAAQ,MAEjD,wDACA,wBAAIj4B,MAAOq0B,EAAc6D,YAAa7D,EAAc6D,YAAa,MAC5D7D,EAAc6D,YAAa7D,EAAc6D,YAAa,MAE3D,kDACA,wBAAIl4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,sBACtEZ,EAAcY,cAAc,sBAAQ,MAC/BZ,EAAcY,eAAiBZ,EAAcY,cAAc,sBAC5DZ,EAAcY,cAAc,sBAAQ,MAE5C,wBAAIkD,QAAQ,IAAIv0B,MAAO,CACnBimB,gBAAgB,OAAD,OAASwK,EAAckB,UAAvB,KACf6C,eAAgB,gBAGpB,4BACI,4CACA,wBAAIp4B,MAAOq0B,EAAcgE,YAAahE,EAAcgE,YAAa,MAC5DhE,EAAcgE,YAAahE,EAAcgE,YAAa,MAE3D,4CACA,wBAAIr4B,MAAOq0B,EAAcgC,OAAQhC,EAAcgC,OAAQ,MAClDhC,EAAcgC,OAAQhC,EAAcgC,OAAQ,MAEjD,yDACA,wBAAIr2B,MAAOq0B,EAAciE,YAAajE,EAAciE,YAAa,MAC5DjE,EAAciE,YAAajE,EAAciE,YAAa,MAE3D,oEACA,wBAAIt4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,wCACtEZ,EAAcY,cAAc,wCAAW,MAClCZ,EAAcY,eAAiBZ,EAAcY,cAAc,wCAC5DZ,EAAcY,cAAc,wCAAW,OAG/C,4BACI,oEACA,wBAAIsD,QAAQ,IAAIv4B,MAAOq0B,EAAcmE,YAAanE,EAAcmE,YAAa,MACxEnE,EAAcmE,YAAanE,EAAcmE,YAAa,MAE3D,8DACA,wBAAIx4B,MAAOq0B,EAAcoE,cAAepE,EAAcoE,cAAe,MAChEpE,EAAcoE,cAAepE,EAAcoE,cAAe,MAE/D,wDACA,wBAAIz4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,MAChCZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,OAG7C,4BACI,wDACA,wBAAIj1B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,MAChCZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,MAEzC,wDACA,wBAAIj1B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,MAChCZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,MAEzC,kDACA,wBAAIj1B,MAAOq0B,EAAcqE,WAAYrE,EAAcqE,WAAY,MAC1DrE,EAAcqE,WAAYrE,EAAcqE,WAAY,MAEzD,0EACA,wBAAI14B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,8CACtEZ,EAAcY,cAAc,8CAAY,MACnCZ,EAAcY,eAAiBZ,EAAcY,cAAc,8CAC5DZ,EAAcY,cAAc,8CAAY,OAGhD,4BACI,8DACA,wBAAIj1B,MAAOq0B,EAAc4B,YAAa5B,EAAc4B,YAAa,MAC5D5B,EAAc4B,YAAa5B,EAAc4B,YAAa,MAE3D,4CACA,wBAAIsC,QAAQ,IAAIv4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,gBAClFZ,EAAcY,cAAc,gBAAO,MAC9BZ,EAAcY,eAAiBZ,EAAcY,cAAc,gBAC5DZ,EAAcY,cAAc,gBAAO,OAG3C,4BACI,wDACA,wBAAIj1B,MAAOq0B,EAAcsE,UAAWtE,EAAcsE,UAAW,MACxDtE,EAAcsE,UAAWtE,EAAcsE,UAAW,MAEvD,wDACA,wBAAI34B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,MAChCZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,MAEzC,4CACA,wBAAIj1B,MAAOq0B,EAAcuE,UAAWvE,EAAcuE,UAAW,MACxDvE,EAAcuE,UAAWvE,EAAcuE,UAAW,MAEvD,4CACA,wBAAI54B,MAAOq0B,EAAc3uB,UAAW2uB,EAAc3uB,UAAW,MACxD2uB,EAAc3uB,UAAW2uB,EAAc3uB,UAAW,OAG3D,4BACI,wDACA,wBAAI1F,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,MAChCZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,MAEzC,wDACA,wBAAIj1B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,MAChCZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,MAEzC,wDACA,wBAAIj1B,MAAOq0B,EAAcwE,YACzBxE,EAAcwE,YAAa,MACtBxE,EAAcwE,YACfxE,EAAcwE,YAAa,MAE/B,wDACA,wBAAIN,QAAQ,IAAIv4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BAClFZ,EAAcY,cAAc,4BAAS,MAChCZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,QAIjD,2BAAOvvB,UAAU,cAAcsyB,OAAO,IAAI1uB,YAAY,WAClD,yEACA,4BACI,kDACA,wBAAIivB,QAAQ,IAAIv4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,sBAClFZ,EAAcY,cAAc,sBAAQ,MAC/BZ,EAAcY,eAAiBZ,EAAcY,cAAc,sBAC5DZ,EAAcY,cAAc,sBAAQ,MAExC,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BAClFZ,EAAcY,cAAc,4BAAS,MAChCZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,OAG7C,4BACI,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAOq0B,EAAcyE,YAAazE,EAAcyE,YAAa,MACxEzE,EAAcyE,YAAazE,EAAcyE,YAAa,MAE3D,wDACA,wBAAI94B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,MAChCZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,MAEzC,wDACA,wBAAIj1B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,MAChCZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,OAG7C,4BACI,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BAClFZ,EAAcY,cAAc,4BAAS,MAChCZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,MAEzC,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BAClFZ,EAAcY,cAAc,4BAAS,MAChCZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,QAIlD,2BAAOvvB,UAAU,mBAAmBsyB,OAAO,IAAI1uB,YAAY,WACvD,yEACA,4BACI,wBAAIvF,MAAM,OAAV,wCACA,wBAAIA,MAAM,MAAMswB,EAAc0E,YAAa1E,EAAc0E,YAAa,MACtE,wBAAIh1B,MAAM,OAAV,oDACA,wBAAIA,MAAM,MAAMswB,EAAc2E,kBAAmB3E,EAAc2E,kBAAmB,MAClF,wBAAIj1B,MAAM,OAAV,wCACA,wBAAIA,MAAM,MAAMswB,EAAc4E,kBAAmB5E,EAAc4E,kBAAmB,MAClF,wBAAIl1B,MAAM,OAAV,4EACA,wBAAIA,MAAM,MAAMswB,EAAcY,eAAiBZ,EAAcY,cAAc,4EAC1EZ,EAAcY,cAAc,4EAAiB,OAElD,4BACI,wBAAIlxB,MAAM,OAAV,4BACA,wBAAIA,MAAM,MAAMswB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC1EZ,EAAcY,cAAc,4BAAS,MACtC,wBAAIlxB,MAAM,OAAV,0DACA,wBAAIA,MAAM,MAAMswB,EAAcY,eAAiBZ,EAAcY,cAAc,0DAC1EZ,EAAcY,cAAc,0DAAc,MAC3C,wBAAIlxB,MAAM,OAAV,4BACA,wBAAIA,MAAM,MAAMswB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC1EZ,EAAcY,cAAc,4BAAS,MACtC,wBAAIlxB,MAAM,OAAV,oDACA,wBAAIA,MAAM,MAAMswB,EAAcY,eAAiBZ,EAAcY,cAAc,oDAC1EZ,EAAcY,cAAc,oDAAa,OAE9C,4BACI,wBAAIlxB,MAAM,OAAV,wCACA,wBAAIA,MAAM,MAAMswB,EAAcY,eAAiBZ,EAAcY,cAAc,wCAC1EZ,EAAcY,cAAc,wCAAW,MACxC,wBAAIlxB,MAAM,OAAV,kCACA,wBAAIw0B,QAAQ,KAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,kCAC3EZ,EAAcY,cAAc,kCAAU,QAG/C,2BAAOvvB,UAAU,eAAesyB,OAAO,IAAI1uB,YAAY,WACnD,6DACA,4BACI,wBAAIvF,MAAM,OAAV,wCACA,wBAAIA,MAAM,OAAV,wCACA,wBAAIA,MAAM,OAAV,4BACA,wBAAIA,MAAM,OAAV,4BACA,wBAAIA,MAAM,OAAV,4BACA,wBAAIA,MAAM,OAAV,mCAGA4I,MAAM4qB,QAAQlD,EAAcmC,aAC5BnC,EAAcmC,WAAW9sB,KAAI,SAACC,EAAMiD,GAChC,OACI,wBAAIlN,IAAKkN,GACL,wBAAI7I,MAAM,OAAO4F,EAAK,wCAAWA,EAAK,wCAAW,MACjD,wBAAI5F,MAAM,OAAO4F,EAAK,wCAAWA,EAAK,wCAAW,MACjD,wBAAI5F,MAAM,OAAO4F,EAAK,4BAASA,EAAK,4BAAS,MAC7C,wBAAI5F,MAAM,OAAO4F,EAAK,4BAASA,EAAK,4BAAS,MAC7C,wBAAI5F,MAAM,OAAO4F,EAAK,4BAASA,EAAK,4BAAS,MAC7C,wBAAI5F,MAAM,OAAO4F,EAAK,kCAAUA,EAAK,kCAAU,WAOnE,2BAAOjE,UAAU,iBAAiBsyB,OAAO,IAAI1uB,YAAY,WACrD,+EACA,4BACI,wBAAIvF,MAAM,OAAV,gDACA,wBAAIA,MAAM,OAAOswB,EAAcY,eAAiBZ,EAAcY,cAAc,0DAC3EZ,EAAcY,cAAc,0DAAc,MAC3C,wBAAIlxB,MAAM,OAAV,8CACA,wBAAIA,MAAM,OAAOswB,EAAcY,eAAiBZ,EAAcY,cAAc,8CAC3EZ,EAAcY,cAAc,8CAAY,MACzC,wBAAIlxB,MAAM,OAAV,oDACA,wBAAIA,MAAM,OAAOswB,EAAcY,eAAiBZ,EAAcY,cAAc,oDAC3EZ,EAAcY,cAAc,oDAAa,QAI9CtoB,MAAM4qB,QAAQlD,EAAcoB,eAC5BpB,EAAcoB,aAAa/rB,KAAI,SAACC,EAAMiD,GAClC,OACI,2BAAOlH,UAAU,cAAcsyB,OAAO,IAAI1uB,YAAY,WAErC,GAATsD,EACA,iGACA,GAEJ,4BACI,4CACA,4BAAKjD,EAAK,gBAAOA,EAAK,gBAAO,MAC7B,4CACA,4BAAKA,EAAK,gBAAOA,EAAK,gBAAO,MAC7B,oEACA,4BAAKA,EAAK,wCAAWA,EAAK,wCAAW,MACrC,oEACA,4BAAKA,EAAK,wCAAWA,EAAK,wCAAW,OAEzC,4BACI,4CACA,4BAAKA,EAAK,gBAAOA,EAAK,gBAAO,MAC7B,8DACA,4BAAKA,EAAK,kCAAUA,EAAK,kCAAU,MACnC,8DACA,4BAAKA,EAAK,kCAAUA,EAAK,kCAAU,MACnC,wDACA,4BAAKA,EAAK,4BAASA,EAAK,4BAAS,OAErC,4BACI,kDACA,wBAAI4uB,QAAQ,KAAK5uB,EAAK,sBAAQA,EAAK,sBAAQ,MAC3C,wDACA,4BAAKA,EAAK,4BAASA,EAAK,4BAAS,MACjC,4CACA,4BAAKA,EAAK,gBAAOA,EAAK,gBAAO,WASjD,2BAAOjE,UAAU,gBAAgBsyB,OAAO,IAAI1uB,YAAY,WACpD,yEACA,4BACI,wDACA,4BAAK+qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,MACtC,wDACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,MACtC,8DACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,kCAC/DZ,EAAcY,cAAc,kCAAU,MACvC,oEACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,wCAC/DZ,EAAcY,cAAc,wCAAW,OAE5C,4BACI,0EACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,8CAC/DZ,EAAcY,cAAc,8CAAY,MACzC,wDACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,MACtC,oEACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,wCAC/DZ,EAAcY,cAAc,wCAAW,MACxC,wDACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,OAE1C,4BACI,4FACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,gEAC/DZ,EAAcY,cAAc,gEAAe,MAC5C,4FACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,gEAC/DZ,EAAcY,cAAc,gEAAe,MAC5C,wBAAIsD,QAAQ,KAAZ,8IACA,4BAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,8IAC/DZ,EAAcY,cAAc,8IAA4B,OAE7D,4BACI,8DACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,kCAC/DZ,EAAcY,cAAc,kCAAU,MACvC,0EACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,8CAC/DZ,EAAcY,cAAc,8CAAY,MACzC,wBAAIsD,QAAQ,KAAZ,0DACA,4BAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,0DAC/DZ,EAAcY,cAAc,0DAAc,OAE/C,4BACI,4FACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,gEAC/DZ,EAAcY,cAAc,gEAAe,MAC5C,wBAAIsD,QAAQ,KAAZ,gEACA,wBAAIA,QAAQ,KAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,gEAC3EZ,EAAcY,cAAc,gEAAe,OAEhD,4BACI,oEACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,wCAC/DZ,EAAcY,cAAc,wCAAW,MACxC,oEACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,wCAC/DZ,EAAcY,cAAc,wCAAW,MACxC,wDACA,wBAAIsD,QAAQ,KAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC3EZ,EAAcY,cAAc,4BAAS,SAM7C,kBAAC,GAAD,CAEArxB,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,OAIC,QAAfgzB,EACA,yBAAKvuB,UAAU,aACX,yBAAKA,UAAU,eACX,kBAAC,KAAD,CAAgBlD,OAAQwI,MACpB,kBAAC,KAAD,CACAtF,UAAU,qBACVmB,KAAK,QACL6E,MAAOyoB,EAAWtkB,OAClBgf,QAAS2F,EACTiD,SAAU,EACVC,iBAAiB,EACjBlsB,iBAAiB,EACjBmsB,kBAAgB,EAChBvuB,SAAU,SAACwuB,GACPtD,EAAiBH,EAAWyD,EAAY,IACxCnD,EAAiBmD,OAIzB,yBAAKlyB,UAAU,aAEX,yBAAKA,UAAU,cAAcS,QAAS,WAClCwuB,EAAc,GACdE,EAAe,GACfE,EAAY,KAHhB,kBAQJV,EACD,yBAAK3uB,UAAU,cACf,2BAAOA,UAAU,YAAYsyB,OAAO,IAAI1uB,YAAY,WAChD,2FACA,4BACI,4CACA,4BAAK+qB,EAAcyB,YAAazB,EAAcyB,YAAa,MAC3D,4CACA,4BAAKzB,EAAc4D,OAAQ5D,EAAc4D,OAAQ,MACjD,wDACA,4BAAK5D,EAAc6D,YAAa7D,EAAc6D,YAAa,MAC3D,kDACA,4BAAK7D,EAAcY,eAAiBZ,EAAcY,cAAc,sBAC/DZ,EAAcY,cAAc,sBAAQ,MACzC,wBAAIkD,QAAQ,IAAIv0B,MAAO,CACnBimB,gBAAgB,OAAD,OAASwK,EAAckB,UAAvB,KACf6C,eAAgB,gBAGpB,4BACI,4CACA,4BAAK/D,EAAcgE,YAAahE,EAAcgE,YAAa,MAC3D,4CACA,4BAAKhE,EAAcgC,OAAQhC,EAAcgC,OAAQ,MACjD,yDACA,4BAAKhC,EAAciE,YAAajE,EAAciE,YAAa,MAC3D,oEACA,4BAAKjE,EAAcY,eAAiBZ,EAAcY,cAAc,wCAC/DZ,EAAcY,cAAc,wCAAW,OAE5C,4BACI,oEACA,wBAAIsD,QAAQ,KAAKlE,EAAcmE,YAAanE,EAAcmE,YAAa,MACvE,8DACA,4BAAKnE,EAAcoE,cAAepE,EAAcoE,cAAe,MAC/D,wDACA,4BAAKpE,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,OAE1C,4BACI,wDACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,MACtC,wDACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,MACtC,kDACA,4BAAKZ,EAAcqE,WAAYrE,EAAcqE,WAAY,MACzD,0EACA,4BAAKrE,EAAcY,eAAiBZ,EAAcY,cAAc,8CAC/DZ,EAAcY,cAAc,8CAAY,OAE7C,4BACI,8DACA,4BAAKZ,EAAc4B,YAAa5B,EAAc4B,YAAa,MAC3D,4CACA,wBAAIsC,QAAQ,KAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,gBAC3EZ,EAAcY,cAAc,gBAAO,OAExC,4BACI,wDACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,MACtC,wDACA,4BAAKZ,EAAcsE,UAAWtE,EAAcsE,UAAW,MACvD,4CACA,4BAAKtE,EAAcuE,UAAWvE,EAAcuE,UAAW,MACvD,4CACA,4BAAKvE,EAAc3uB,UAAW2uB,EAAc3uB,UAAW,OAE3D,4BACI,wDACA,4BAAK2uB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,MACtC,wDACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,MACtC,wDACA,4BAAKZ,EAAcwE,YAClBxE,EAAcwE,YAAa,MAC5B,wDACA,wBAAIN,QAAQ,KAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC3EZ,EAAcY,cAAc,4BAAS,QAG9C,2BAAOvvB,UAAU,cAAcsyB,OAAO,IAAI1uB,YAAY,WAClD,yEACA,4BACI,kDACA,wBAAIivB,QAAQ,KAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,sBAC3EZ,EAAcY,cAAc,sBAAQ,MACrC,wDACA,wBAAIsD,QAAQ,KAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC3EZ,EAAcY,cAAc,4BAAS,OAE1C,4BACI,wDACA,wBAAIsD,QAAQ,KAAKlE,EAAcyE,YAC9BzE,EAAcyE,YAAa,MAC5B,wDACA,4BAAKzE,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,MACtC,wDACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,OAE1C,4BACI,wDACA,wBAAIsD,QAAQ,KAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC3EZ,EAAcY,cAAc,4BAAS,MACtC,wDACA,wBAAIsD,QAAQ,KAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC3EZ,EAAcY,cAAc,4BAAS,QAG9C,2BAAOvvB,UAAU,mBAAmBsyB,OAAO,IAAI1uB,YAAY,WACvD,yEACA,4BACI,wBAAIvF,MAAM,OAAV,wCACA,wBAAIA,MAAM,MAAMswB,EAAc0E,YAAa1E,EAAc0E,YAAa,MACtE,wBAAIh1B,MAAM,OAAV,oDACA,wBAAIA,MAAM,MAAMswB,EAAc2E,kBAAmB3E,EAAc2E,kBAAmB,MAClF,wBAAIj1B,MAAM,OAAV,wCACA,wBAAIA,MAAM,MAAMswB,EAAc4E,kBAAmB5E,EAAc4E,kBAAmB,MAClF,wBAAIl1B,MAAM,OAAV,4EACA,wBAAIA,MAAM,MAAMswB,EAAcY,eAAiBZ,EAAcY,cAAc,4EAC1EZ,EAAcY,cAAc,4EAAiB,OAElD,4BACI,wBAAIlxB,MAAM,OAAV,4BACA,wBAAIA,MAAM,MAAMswB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC1EZ,EAAcY,cAAc,4BAAS,MACtC,wBAAIlxB,MAAM,OAAV,0DACA,wBAAIA,MAAM,MAAMswB,EAAcY,eAAiBZ,EAAcY,cAAc,0DAC1EZ,EAAcY,cAAc,0DAAc,MAC3C,wBAAIlxB,MAAM,OAAV,4BACA,wBAAIA,MAAM,MAAMswB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC1EZ,EAAcY,cAAc,4BAAS,MACtC,wBAAIlxB,MAAM,OAAV,oDACA,wBAAIA,MAAM,MAAMswB,EAAcY,eAAiBZ,EAAcY,cAAc,oDAC1EZ,EAAcY,cAAc,oDAAa,OAE9C,4BACI,wBAAIlxB,MAAM,OAAV,wCACA,wBAAIA,MAAM,MAAMswB,EAAcY,eAAiBZ,EAAcY,cAAc,wCAC1EZ,EAAcY,cAAc,wCAAW,MACxC,wBAAIlxB,MAAM,OAAV,kCACA,wBAAIw0B,QAAQ,KAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,kCAC3EZ,EAAcY,cAAc,kCAAU,QAG/C,2BAAOvvB,UAAU,eAAesyB,OAAO,IAAI1uB,YAAY,WACnD,6DACA,4BACI,wBAAIvF,MAAM,OAAV,wCACA,wBAAIA,MAAM,OAAV,wCACA,wBAAIA,MAAM,OAAV,4BACA,wBAAIA,MAAM,OAAV,4BACA,wBAAIA,MAAM,OAAV,4BACA,wBAAIA,MAAM,OAAV,mCAGA4I,MAAM4qB,QAAQlD,EAAcmC,aAC5BnC,EAAcmC,WAAW9sB,KAAI,SAACC,EAAMiD,GAChC,OACC,wBAAIlN,IAAKkN,GACL,wBAAI7I,MAAM,OAAO4F,EAAK,wCAAWA,EAAK,wCAAW,MACjD,wBAAI5F,MAAM,OAAO4F,EAAK,wCAAWA,EAAK,wCAAW,MACjD,wBAAI5F,MAAM,OAAO4F,EAAK,4BAASA,EAAK,4BAAS,MAC7C,wBAAI5F,MAAM,OAAO4F,EAAK,4BAASA,EAAK,4BAAS,MAC7C,wBAAI5F,MAAM,OAAO4F,EAAK,4BAASA,EAAK,4BAAS,MAC7C,wBAAI5F,MAAM,OAAO4F,EAAK,kCAAUA,EAAK,kCAAU,WAOhE,2BAAOjE,UAAU,iBAAiBsyB,OAAO,IAAI1uB,YAAY,WACrD,+EACA,4BACI,wBAAIvF,MAAM,OAAV,gDACA,wBAAIA,MAAM,OAAOswB,EAAcY,eAAiBZ,EAAcY,cAAc,0DAC3EZ,EAAcY,cAAc,0DAAc,MAC3C,wBAAIlxB,MAAM,OAAV,8CACA,wBAAIA,MAAM,OAAOswB,EAAcY,eAAiBZ,EAAcY,cAAc,8CAC3EZ,EAAcY,cAAc,8CAAY,MACzC,wBAAIlxB,MAAM,OAAV,oDACA,wBAAIA,MAAM,OAAOswB,EAAcY,eAAiBZ,EAAcY,cAAc,oDAC3EZ,EAAcY,cAAc,oDAAa,QAI9CtoB,MAAM4qB,QAAQlD,EAAcoB,eAC5BpB,EAAcoB,aAAa/rB,KAAI,SAACC,EAAMiD,GAClC,OACI,2BAAOlH,UAAU,cAAcsyB,OAAO,IAAI1uB,YAAY,WAErC,GAATsD,EACA,iGACA,GAEJ,4BACI,4CACA,4BAAKjD,EAAK,gBAAOA,EAAK,gBAAO,MAC7B,4CACA,4BAAKA,EAAK,gBAAOA,EAAK,gBAAO,MAC7B,oEACA,4BAAKA,EAAK,wCAAWA,EAAK,wCAAW,MACrC,oEACA,4BAAKA,EAAK,wCAAWA,EAAK,wCAAW,OAEzC,4BACI,4CACA,4BAAKA,EAAK,gBAAOA,EAAK,gBAAO,MAC7B,8DACA,4BAAKA,EAAK,kCAAUA,EAAK,kCAAU,MACnC,8DACA,4BAAKA,EAAK,kCAAUA,EAAK,kCAAU,MACnC,wDACA,4BAAKA,EAAK,4BAASA,EAAK,4BAAS,OAErC,4BACI,kDACA,wBAAI4uB,QAAQ,KAAK5uB,EAAK,sBAAQA,EAAK,sBAAQ,MAC3C,wDACA,4BAAKA,EAAK,4BAASA,EAAK,4BAAS,MACjC,4CACA,4BAAKA,EAAK,gBAAOA,EAAK,gBAAO,WASjD,2BAAOjE,UAAU,gBAAgBsyB,OAAO,IAAI1uB,YAAY,WACpD,yEACA,4BACI,wDACA,4BAAK+qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,MACtC,wDACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,MACtC,8DACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,kCAC/DZ,EAAcY,cAAc,kCAAU,MACvC,oEACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,wCAC/DZ,EAAcY,cAAc,wCAAW,OAE5C,4BACI,0EACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,8CAC/DZ,EAAcY,cAAc,8CAAY,MACzC,wDACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,MACtC,oEACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,wCAC/DZ,EAAcY,cAAc,wCAAW,MACxC,wDACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC/DZ,EAAcY,cAAc,4BAAS,OAE1C,4BACI,4FACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,gEAC/DZ,EAAcY,cAAc,gEAAe,MAC5C,4FACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,gEAC/DZ,EAAcY,cAAc,gEAAe,MAC5C,wBAAIsD,QAAQ,KAAZ,8IACA,4BAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,8IAC/DZ,EAAcY,cAAc,8IAA4B,OAE7D,4BACI,8DACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,kCAC/DZ,EAAcY,cAAc,kCAAU,MACvC,0EACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,8CAC/DZ,EAAcY,cAAc,8CAAY,MACzC,wBAAIsD,QAAQ,KAAZ,0DACA,4BAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,0DAC/DZ,EAAcY,cAAc,0DAAc,OAE/C,4BACI,4FACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,gEAC/DZ,EAAcY,cAAc,gEAAe,MAC5C,wBAAIsD,QAAQ,KAAZ,gEACA,wBAAIA,QAAQ,KAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,gEAC3EZ,EAAcY,cAAc,gEAAe,OAEhD,4BACI,oEACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,wCAC/DZ,EAAcY,cAAc,wCAAW,MACxC,oEACA,4BAAKZ,EAAcY,eAAiBZ,EAAcY,cAAc,wCAC/DZ,EAAcY,cAAc,wCAAW,MACxC,wDACA,wBAAIsD,QAAQ,KAAKlE,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC3EZ,EAAcY,cAAc,4BAAS,SAM7C,kBAAC,GAAD,CAEArxB,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,OAId,GAEJ,uBAAGyE,UAAU,aAAa9B,MAAO,CAACu1B,aAAc,IAAK1J,IAKjE,IAAMgE,GAAkB,SAAC9wB,GAAW,IAAD,EAG3BA,EADFjB,WAEF,MAAO,CAAE+uB,QAJsB,EAEfA,QAEEjD,gBAJa,EAENA,gBAEU4L,UAJJ,EAEWA,UAEI5T,SAJf,EAEsBA,SAEG6T,UAJzB,EAEgCA,UAEIhU,SAJpC,EAE2CA,WAI/DsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWoJ,MCxgClD5U,GAAeiR,GAAfjR,WAEN,SAASsa,GAAW52B,EAAOuD,GAAM,IAEzB4tB,EAUAnxB,EAVAmxB,YACmBpE,EASnB/sB,EATA8qB,gBAAmBiC,WAMnB8J,GAGA72B,EARAolB,SAQAplB,EAPAoxB,aAOApxB,EANAqxB,aAMArxB,EALA2iB,SAAWK,SAKXhjB,EAJAsxB,WAIAtxB,EAHA62B,WACAC,EAEA92B,EAFA82B,gBACAC,EACA/2B,EADA+2B,aAXwB,EAcc5Q,mBAAS,IAdvB,mBAcrBwL,EAdqB,KAcNC,EAdM,OAgBUzL,mBAAS,IAhBnB,mBAgBrB6Q,EAhBqB,KAgBRC,EAhBQ,OAkBoB9Q,mBAAS,IAlB7B,mBAkBrB+Q,EAlBqB,KAkBHC,EAlBG,OAoBoBhR,mBAAS,IApB7B,mBAoBrBiR,EApBqB,KAoBHC,EApBG,OAsBYlR,mBAAS,GAtBrB,mBAsBrBwJ,EAtBqB,KAsBPkC,EAtBO,KAwB5BzH,2BAAgB,WACTngB,MAAM4qB,QAAQgC,IAAcA,EAAUlH,EAAe,KACpDiC,EAAiBiF,EAAUlH,EAAe,IACvCkH,EAAUlH,EAAe,GAAGmD,iBAC3BmE,EAAejnB,KAAKS,MAAMomB,EAAUlH,EAAe,GAAGmD,qBAI/D,CAAC+D,EAAWlH,IAEf,IAAM2H,EAAgB,SAAC/4B,GAEnB,GAAW,GAARA,EAAU,CACT,IAAI42B,EAAM,GACVA,EAAIrnB,KAAK6jB,GACT,IAAI/kB,EAAM0P,GAAa,sBACvBU,GACCmB,IAAI,CACDvR,MACA0Q,cAAe,EACfhM,KAAM6jB,EACNlY,OAAQ,CACR,eAAgB,sBAGnBe,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,OAAc,CACpB,IAAIpS,EAAM0P,GAAa,8CACtBua,EAAUlH,EAAe,GAAIkH,EAAUlH,EAAe,GAAGsG,UAAW,IACrEjZ,GACCuB,OAAO,CAAC3R,MAAK0Q,cAAe,IAC5BU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACHid,KAAQ5f,QAAQ,6BAChBogB,EAAY,UACZ2F,GAAiBC,UAKjC,GAAW,GAARx4B,EAAU,CACT,IAAIqO,EAAM0P,GAAa,iCACvBU,GACCuB,OAAO,CAAC3R,MAAK0Q,cAAe,EAAGhM,KAAM,CAClCimB,WAAaV,EAAUlH,EAAe,GAAIkH,EAAUlH,EAAe,GAAGsG,UAAW,MAEpFjY,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,OAAc,CACpB,IAAIpS,EAAM0P,GAAa,8CACtBua,EAAUlH,EAAe,GAAIkH,EAAUlH,EAAe,GAAGsG,UAAW,IACrEjZ,GACCuB,OAAO,CAAC3R,MAAK0Q,cAAe,IAC5BU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACHid,KAAQ5f,QAAQ,6BAChBogB,EAAY,UACZ2F,GAAiBC,YAgHrC,OA1GApQ,qBAAU,WAEN,GAAoC,MAAjC3W,KAAKC,UAAU0hB,GAAlB,CAGA,IAAI6F,EAASr2B,IAAE,kBACXs2B,EAAW5rB,OAAOC,OAAO,GAAdD,OAAA,IAAAA,CAAA,GAAsB8lB,IACrCrhB,QAAQC,IAAIknB,GAPF,eAQF5zB,GAuCJ,GAtCY,cAATA,GAAkC,gBAATA,GAAoC,aAATA,GACnD2zB,EAAO5H,MAAK,SAAC1lB,EAAOjD,GAChB,GAAG9F,IAAE8F,GAAM4oB,KAAK,eAAiBhsB,EAAM,CACnC1C,IAAE8F,GAAM/E,IAAI,CACR+G,MAAO,MACPyuB,eAAgB,cAEpB,IAAIC,EAAOx2B,IAAE8F,GAAM0wB,OACnBx2B,IAAE8F,GAAM4oB,KAAK,QAAS,eAAO8H,EAAP,iBAA4BX,EAAYnzB,IAC9D1C,IAAE8F,GAAM0wB,KAAKX,EAAYnzB,IAEzB4zB,EAAS5zB,GAASmzB,EAAYnzB,OAK9B,aAATA,GAAsB,WACrB,IAAIyuB,EAAY0E,EAAYnzB,GACxB4P,EAAM5H,OAAOC,OAAO,GAAdD,OAAA,IAAAA,CAAA,GAAsB8lB,IAChCle,EAAI6e,UAAY7e,EAAI6e,UAAW7e,EAAI6e,UAAW,GAH1B,eAIZt1B,GACJw6B,EAAO5H,MAAK,SAAC1lB,EAAOjD,GAChB,GAAG9F,IAAE8F,GAAM4oB,KAAK,eAAiB7yB,EAAI,CACjCmE,IAAE8F,GAAM/E,IAAI,CACR+G,MAAO,MACPyuB,eAAgB,cAEpB,IAAIC,EAAOx2B,IAAE8F,GAAM0wB,OACnBx2B,IAAE8F,GAAM4oB,KAAK,QAAS,eAAO8H,EAAP,iBAA4BrF,EAAUt1B,IAC5DmE,IAAE8F,GAAM0wB,KAAKrF,EAAUt1B,IACvByW,EAAI6e,UAAUt1B,GAAOs1B,EAAUt1B,QAV3C,IAAI,IAAIA,KAAOs1B,EAAW,EAAlBt1B,GAcRy6B,EAASnF,UAAYtiB,KAAKC,UAAUwD,EAAI6e,WAlBnB,GAsBb,cAATzuB,EAAsB,CACrB,IAAIgwB,EAAa7jB,KAAKS,MAAMumB,EAAYnzB,IAEpCsxB,EAAM,GACVtB,EAAW5kB,SAAQ,SAAChI,EAAMiD,GACtB,IAAIuJ,EAAM,GACV,GAAGke,EAAcmC,YAAcnC,EAAcmC,WAAW5pB,GACpD,IAAI,IAAIlN,KAAOiK,EACRA,EAAKjK,IAAQ20B,EAAcmC,WAAW5pB,GAAOlN,KAC5CyW,EAAIzW,GAAO20B,EAAcmC,WAAW5pB,GAAOlN,SAKnD,IAAI,IAAIA,KADRyW,EAAG,eAAOxM,GAENwM,EAAIzW,GAAO,SAGnBm4B,EAAIrnB,KAAK2F,MAEb0jB,EAAoBhC,GAGpBsC,EAASG,OAASZ,EAAYnzB,GAC9B4zB,EAAS3D,WAAaD,EAI1B,GAAY,gBAAThwB,EAAwB,CAEvB,IAAI2uB,EAAexiB,KAAKS,MAAMumB,EAAYnzB,IAErCsxB,EAAM,GACV3C,EAAavjB,SAAQ,SAAChI,EAAMiD,GACxB,IAAIuJ,EAAM,GACV,GAAGke,EAAcoB,cAAgBpB,EAAcoB,aAAa7oB,GACxD,IAAI,IAAIlN,KAAOiK,EACRA,EAAKjK,IAAQ20B,EAAcoB,aAAa7oB,GAAOlN,KAC9CyW,EAAIzW,GAAO20B,EAAcoB,aAAa7oB,GAAOlN,SAKrD,IAAI,IAAIA,KADRyW,EAAG,eAAOxM,GAENwM,EAAIzW,GAAO,SAGnBm4B,EAAIrnB,KAAK2F,MAEb4jB,EAAoBlC,GAGrBsC,EAASI,SAAWb,EAAYnzB,GAChC4zB,EAAS1E,aAAeP,IA5FhC,IAAI,IAAI3uB,KAASmzB,EAAa,EAAtBnzB,GAgGR+tB,EAAiB6F,MAClB,CAACT,EAAarH,EAAckH,IAE3B,yBAAK7zB,UAAU,cACX,yBAAKA,UAAU,cAAf,uCAEI,yBAAKA,UAAU,aACX,yBAAKA,UAAU,aAAaS,QAAS,kBAAI6zB,EAAc,KAAvD,sBACA,yBAAKt0B,UAAU,YAAYS,QAAS,kBAAI6zB,EAAc,KAAtD,kBAIR,yBAAKt0B,UAAU,gBACX,yBAAKA,UAAU,eACX,kBAAC,KAAD,CAAgBlD,OAAQwI,MACpB,kBAAC,KAAD,CACAtF,UAAU,qBACVmB,KAAK,QACL6E,MAAO6tB,EAAU1pB,OACjBgf,QAASwD,EACToF,SAAU,EACVC,iBAAiB,EACjBlsB,iBAAiB,EACjBmsB,kBAAgB,EAChBvuB,SAAU,SAACwuB,GACPtD,EAAiBiF,EAAU3B,EAAY,IACvCrD,EAAgBqD,QAK5B,yBAAKlyB,UAAU,aAAa9B,MAAO,CAAC4gB,QAAS,IACzC,2BAAO9e,UAAU,YAAYsyB,OAAO,IAAI1uB,YAAY,WAChD,2FACA,4BACI,4CAYI,wBAAItJ,MAAOq0B,EAAcyB,YAAazB,EAAcyB,YAAa,KAAMtsB,aAAW,eAC7E6qB,EAAcyB,YAAazB,EAAcyB,YAAa,MAG/D,4CACA,wBAAI91B,MAAOq0B,EAAc4D,OAAQ5D,EAAc4D,OAAQ,KAAMzuB,aAAW,UACnE6qB,EAAc4D,OAAQ5D,EAAc4D,OAAQ,MAEjD,wDACA,wBAAIj4B,MAAOq0B,EAAc6D,YAAa7D,EAAc6D,YAAa,KAAM1uB,aAAW,eAC7E6qB,EAAc6D,YAAa7D,EAAc6D,YAAa,MAE3D,kDACA,wBAAIl4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,sBACtEZ,EAAcY,cAAc,sBAAQ,KAAMzrB,aAAW,sBAChD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,sBAC5DZ,EAAcY,cAAc,sBAAQ,MAE5C,wBAAIkD,QAAQ,IAAIv0B,MAAO,CACnBimB,gBAAgB,OAAD,OAASwK,EAAckB,UAAvB,KACf6C,eAAgB,gBAGpB,4BACI,4CACA,wBAAIp4B,MAAOq0B,EAAcgE,YAAahE,EAAcgE,YAAa,KAAM7uB,aAAW,eAC7E6qB,EAAcgE,YAAahE,EAAcgE,YAAa,MAE3D,4CACA,wBAAIr4B,MAAOq0B,EAAcgC,OAAQhC,EAAcgC,OAAQ,KAAM7sB,aAAW,UACnE6qB,EAAcgC,OAAQhC,EAAcgC,OAAQ,MAEjD,yDACA,wBAAIr2B,MAAOq0B,EAAciE,YAAajE,EAAciE,YAAa,KAAM9uB,aAAW,eAC7E6qB,EAAciE,YAAajE,EAAciE,YAAa,MAE3D,oEACA,wBAAIt4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,wCACtEZ,EAAcY,cAAc,wCAAW,KAAMzrB,aAAW,wCACnD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,wCAC5DZ,EAAcY,cAAc,wCAAW,OAG/C,4BACI,oEACA,wBAAIsD,QAAQ,IAAIv4B,MAAOq0B,EAAcmE,YAAanE,EAAcmE,YAAa,KAAMhvB,aAAW,eACzF6qB,EAAcmE,YAAanE,EAAcmE,YAAa,MAE3D,8DACA,wBAAIx4B,MAAOq0B,EAAcoE,cAAepE,EAAcoE,cAAe,KAAMjvB,aAAW,iBACjF6qB,EAAcoE,cAAepE,EAAcoE,cAAe,MAE/D,wDACA,wBAAIz4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,KAAMzrB,aAAW,4BACjD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,OAG7C,4BACI,wDACA,wBAAIj1B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,KAAMzrB,aAAW,4BACjD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,MAEzC,wDACA,wBAAIj1B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,KAAMzrB,aAAW,4BACjD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,MAEzC,kDACA,wBAAIj1B,MAAOq0B,EAAcqE,WAAYrE,EAAcqE,WAAY,KAAMlvB,aAAW,cAC3E6qB,EAAcqE,WAAYrE,EAAcqE,WAAY,MAEzD,0EACA,wBAAI14B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,8CACtEZ,EAAcY,cAAc,8CAAY,KAAMzrB,aAAW,8CACpD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,8CAC5DZ,EAAcY,cAAc,8CAAY,OAGhD,4BACI,8DACA,wBAAIj1B,MAAOq0B,EAAc4B,YAAa5B,EAAc4B,YAAa,KAAMzsB,aAAW,eAC7E6qB,EAAc4B,YAAa5B,EAAc4B,YAAa,MAE3D,4CACA,wBAAIsC,QAAQ,IAAIv4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,gBAClFZ,EAAcY,cAAc,gBAAO,KAAMzrB,aAAW,gBAC/C6qB,EAAcY,eAAiBZ,EAAcY,cAAc,gBAC5DZ,EAAcY,cAAc,gBAAO,OAG3C,4BACI,wDACA,wBAAIj1B,MAAOq0B,EAAcsE,UAAWtE,EAAcsE,UAAW,KAAMnvB,aAAW,aACzE6qB,EAAcsE,UAAWtE,EAAcsE,UAAW,MAEvD,wDACA,wBAAI34B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,KAAMzrB,aAAW,4BACjD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,MAEzC,4CACA,wBAAIj1B,MAAOq0B,EAAcuE,UAAWvE,EAAcuE,UAAW,KAAMpvB,aAAW,aACzE6qB,EAAcuE,UAAWvE,EAAcuE,UAAW,MAEvD,4CACA,wBAAI54B,MAAOq0B,EAAc3uB,UAAW2uB,EAAc3uB,UAAW,KAAM8D,aAAW,aACzE6qB,EAAc3uB,UAAW2uB,EAAc3uB,UAAW,OAG3D,4BACI,wDACA,wBAAI1F,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,KAAMzrB,aAAW,4BACjD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,MAEzC,wDACA,wBAAIj1B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,KAAMzrB,aAAW,4BACjD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,MAEzC,wDACA,wBAAIj1B,MAAOq0B,EAAcwE,YACzBxE,EAAcwE,YAAa,KAAMrvB,aAAW,eACvC6qB,EAAcwE,YACfxE,EAAcwE,YAAa,MAE/B,wDACA,wBAAIN,QAAQ,IAAIv4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BAClFZ,EAAcY,cAAc,4BAAS,KAAMzrB,aAAW,4BACjD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,QAIjD,2BAAOvvB,UAAU,cAAcsyB,OAAO,IAAI1uB,YAAY,WAClD,yEACA,4BACI,kDACA,wBAAIivB,QAAQ,IAAIv4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,sBAClFZ,EAAcY,cAAc,sBAAQ,KAAMzrB,aAAW,sBAChD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,sBAC5DZ,EAAcY,cAAc,sBAAQ,MAExC,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BAClFZ,EAAcY,cAAc,4BAAS,KAAMzrB,aAAW,4BACjD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,OAG7C,4BACI,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAOq0B,EAAcyE,YAAazE,EAAcyE,YAAa,KAAMtvB,aAAW,eACzF6qB,EAAcyE,YAAazE,EAAcyE,YAAa,MAE3D,wDACA,wBAAI94B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,KAAMzrB,aAAW,4BACjD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,MAEzC,wDACA,wBAAIj1B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BACtEZ,EAAcY,cAAc,4BAAS,KAAMzrB,aAAW,4BACjD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,OAG7C,4BACI,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BAClFZ,EAAcY,cAAc,4BAAS,KAAMzrB,aAAW,4BACjD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,MAEzC,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAOq0B,EAAcY,eAAiBZ,EAAcY,cAAc,4BAClFZ,EAAcY,cAAc,4BAAS,KAAMzrB,aAAW,4BACjD6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC5DZ,EAAcY,cAAc,4BAAS,QAIjD,2BAAOvvB,UAAU,mBAAmBsyB,OAAO,IAAI1uB,YAAY,WACvD,yEACA,4BACI,wBAAIvF,MAAM,OAAV,wCACA,wBAAIA,MAAM,KAAKyF,aAAW,eAAe6qB,EAAc0E,YAAa1E,EAAc0E,YAAa,MAC/F,wBAAIh1B,MAAM,OAAV,oDACA,wBAAIA,MAAM,KAAKyF,aAAW,qBAAqB6qB,EAAc2E,kBAAmB3E,EAAc2E,kBAAmB,MACjH,wBAAIj1B,MAAM,OAAV,wCACA,wBAAIA,MAAM,KAAKyF,aAAW,qBAAqB6qB,EAAc4E,kBAAmB5E,EAAc4E,kBAAmB,MACjH,wBAAIl1B,MAAM,OAAV,4EACA,wBAAIA,MAAM,KAAKyF,aAAW,4EAAgB6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4EACrGZ,EAAcY,cAAc,4EAAiB,OAEjD,4BACI,wBAAIlxB,MAAM,OAAV,4BACA,wBAAIA,MAAM,KAAKyF,aAAW,4BAAQ6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC7FZ,EAAcY,cAAc,4BAAS,MACrC,wBAAIlxB,MAAM,OAAV,0DACA,wBAAIA,MAAM,KAAKyF,aAAW,0DAAa6qB,EAAcY,eAAiBZ,EAAcY,cAAc,0DAClGZ,EAAcY,cAAc,0DAAc,MAC1C,wBAAIlxB,MAAM,OAAV,4BACA,wBAAIA,MAAM,KAAKyF,aAAW,4BAAQ6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC7FZ,EAAcY,cAAc,4BAAS,MACrC,wBAAIlxB,MAAM,OAAV,oDACA,wBAAIA,MAAM,KAAKyF,aAAW,oDAAY6qB,EAAcY,eAAiBZ,EAAcY,cAAc,oDACjGZ,EAAcY,cAAc,oDAAa,OAE7C,4BACI,wBAAIlxB,MAAM,OAAV,wCACA,wBAAIA,MAAM,KAAKyF,aAAW,wCAAU6qB,EAAcY,eAAiBZ,EAAcY,cAAc,wCAC/FZ,EAAcY,cAAc,wCAAW,MACvC,wBAAIlxB,MAAM,OAAV,kCACA,wBAAIw0B,QAAQ,IAAI/uB,aAAW,kCAAS6qB,EAAcY,eAAiBZ,EAAcY,cAAc,kCAC/FZ,EAAcY,cAAc,kCAAU,QAG9C,2BAAOvvB,UAAU,eAAesyB,OAAO,IAAI1uB,YAAY,WACnD,6DACA,4BACI,wBAAIvF,MAAM,OAAV,wCACA,wBAAIA,MAAM,OAAV,wCACA,wBAAIA,MAAM,OAAV,4BACA,wBAAIA,MAAM,OAAV,4BACA,wBAAIA,MAAM,OAAV,4BACA,wBAAIA,MAAM,OAAV,mCAGA4I,MAAM4qB,QAAQlD,EAAcmC,aAC5BnC,EAAcmC,WAAW9sB,KAAI,SAACC,EAAMiD,GAEhC,OADAoG,QAAQC,IAAI2mB,EAAkBvF,GAE1B,wBAAI30B,IAAKkN,GACL,wBACA7I,MAAM,MACNH,MAAO,CACH+H,MAAOiuB,EAAiBhtB,IACxBgtB,EAAiBhtB,GAAO+pB,kBAAkB,MAAM,IAEpD32B,MAAQ45B,EAAiBhtB,IACzBgtB,EAAiBhtB,GAAO+pB,kBADhB,sBAEHiD,EAAiBhtB,GAAO+pB,kBAFrB,yBAE6ChtB,EAAKgtB,mBAAqBhtB,EAAKgtB,mBAClFhtB,EAAKgtB,kBAAmBhtB,EAAKgtB,kBAAmB,MAClD,wBAAI5yB,MAAM,MACVH,MAAO,CACH+H,MAAOiuB,EAAiBhtB,IACxBgtB,EAAiBhtB,GAAO+pB,kBAAkB,MAAM,IAEpD32B,MAAQ45B,EAAiBhtB,IACzBgtB,EAAiBhtB,GAAO+pB,kBADhB,sBAEHiD,EAAiBhtB,GAAO+pB,kBAFrB,yBAE6ChtB,EAAKgtB,mBAAqBhtB,EAAKgtB,mBAClFhtB,EAAKktB,gBAAiBltB,EAAKktB,gBAAiB,MAC9C,wBACA9yB,MAAM,MACNH,MAAO,CACH+H,MAAOiuB,EAAiBhtB,IACxBgtB,EAAiBhtB,GAAO8pB,OAAO,MAAM,IAEzC12B,MAAQ45B,EAAiBhtB,IACzBgtB,EAAiBhtB,GAAO8pB,OADhB,sBAEHkD,EAAiBhtB,GAAO8pB,OAFrB,yBAEkC/sB,EAAK+sB,QAAU/sB,EAAK+sB,QAC5D/sB,EAAK+sB,OAAQ/sB,EAAK+sB,OAAQ,MAC5B,wBACA3yB,MAAM,MACNH,MAAO,CACH+H,MAAOiuB,EAAiBhtB,IACxBgtB,EAAiBhtB,GAAO6pB,gBAAgB,MAAM,IAElDz2B,MAAQ45B,EAAiBhtB,IACzBgtB,EAAiBhtB,GAAO6pB,gBADhB,sBAEHmD,EAAiBhtB,GAAO6pB,gBAFrB,yBAE2C9sB,EAAK8sB,iBAAmB9sB,EAAK8sB,iBAC9E9sB,EAAK8sB,gBAAiB9sB,EAAK8sB,gBAAiB,MAC9C,wBACA1yB,MAAM,MACNH,MAAO,CACH+H,MAAOiuB,EAAiBhtB,IACxBgtB,EAAiBhtB,GAAOkqB,KAAK,MAAM,IAEvC92B,MAAQ45B,EAAiBhtB,IACzBgtB,EAAiBhtB,GAAOkqB,KADhB,sBAEH8C,EAAiBhtB,GAAOkqB,KAFrB,yBAEgCntB,EAAKmtB,MAAQntB,EAAKmtB,MACxDntB,EAAKmtB,KAAMntB,EAAKmtB,KAAM,MACxB,wBACA/yB,MAAM,MACNH,MAAO,CACH+H,MAAOiuB,EAAiBhtB,IACxBgtB,EAAiBhtB,GAAOgqB,UAAU,MAAM,IAE5C52B,MAAQ45B,EAAiBhtB,IACzBgtB,EAAiBhtB,GAAOgqB,UADhB,sBAEHgD,EAAiBhtB,GAAOgqB,UAFrB,yBAEqCjtB,EAAKitB,WAAajtB,EAAKitB,WAClEjtB,EAAKitB,UAAWjtB,EAAKitB,UAAW,WAOtD,2BAAOlxB,UAAU,iBAAiBsyB,OAAO,IAAI1uB,YAAY,WACrD,+EACA,4BACI,wBAAIvF,MAAM,OAAV,gDACA,wBAAIA,MAAM,MAAMyF,aAAW,0DAAa6qB,EAAcY,eAAiBZ,EAAcY,cAAc,0DACnGZ,EAAcY,cAAc,0DAAc,MAC1C,wBAAIlxB,MAAM,OAAV,8CACA,wBAAIA,MAAM,MAAMyF,aAAW,8CAAW6qB,EAAcY,eAAiBZ,EAAcY,cAAc,8CACjGZ,EAAcY,cAAc,8CAAY,MACxC,wBAAIlxB,MAAM,OAAV,oDACA,wBAAIA,MAAM,MAAMyF,aAAW,oDAAY6qB,EAAcY,eAAiBZ,EAAcY,cAAc,oDAClGZ,EAAcY,cAAc,oDAAa,QAI7CtoB,MAAM4qB,QAAQlD,EAAcoB,eAC5BpB,EAAcoB,aAAa/rB,KAAI,SAACC,EAAMiD,GAClC,OACI,2BAAOlH,UAAU,cAAcsyB,OAAO,IAAI1uB,YAAY,WAErC,GAATsD,EACA,iGACA,GAEJ,4BACI,4CACA,wBACAhJ,MAAO,CACH+H,MAAOmuB,EAAiBltB,IACxBktB,EAAiBltB,GAAOjN,KAAK,MAAM,IAEvCK,MAAQ85B,EAAiBltB,IACzBktB,EAAiBltB,GAAOjN,KADhB,sBAEHm6B,EAAiBltB,GAAOjN,KAFrB,yBAEgCgK,EAAKhK,MAAQgK,EAAKhK,MACxDgK,EAAKhK,KAAMgK,EAAKhK,KAAM,MACxB,4CACA,wBACAiE,MAAO,CACH+H,MAAOmuB,EAAiBltB,IACxBktB,EAAiBltB,GAAO8oB,aAAa,MAAM,IAE/C11B,MAAQ85B,EAAiBltB,IACzBktB,EAAiBltB,GAAO8oB,aADhB,sBAEHoE,EAAiBltB,GAAO8oB,aAFrB,yBAEwC/rB,EAAK+rB,cAAgB/rB,EAAK+rB,cACxE/rB,EAAK+rB,aAAc/rB,EAAK+rB,aAAc,MACxC,oEACA,wBACA9xB,MAAO,CACH+H,MAAOmuB,EAAiBltB,IACxBktB,EAAiBltB,GAAOupB,WAAW,MAAM,IAE7Cn2B,MAAQ85B,EAAiBltB,IACzBktB,EAAiBltB,GAAOupB,WADhB,sBAEH2D,EAAiBltB,GAAOupB,WAFrB,yBAEsCxsB,EAAKwsB,YAAcxsB,EAAKwsB,YACpExsB,EAAKwsB,WAAYxsB,EAAKwsB,WAAY,MACpC,oEACA,wBACAvyB,MAAO,CACH+H,MAAOmuB,EAAiBltB,IACxBktB,EAAiBltB,GAAOspB,UAAU,MAAM,IAE5Cl2B,MAAQ85B,EAAiBltB,IACzBktB,EAAiBltB,GAAOspB,UADhB,sBAEH4D,EAAiBltB,GAAOspB,UAFrB,yBAEqCvsB,EAAKusB,WAAavsB,EAAKusB,WAClEvsB,EAAKusB,UAAWvsB,EAAKusB,UAAW,OAEtC,4BACI,4CACA,wBACAtyB,MAAO,CACH+H,MAAOmuB,EAAiBltB,IACxBktB,EAAiBltB,GAAOypB,OAAO,MAAM,IAEzCr2B,MAAQ85B,EAAiBltB,IACzBktB,EAAiBltB,GAAOypB,OADhB,sBAEHyD,EAAiBltB,GAAOypB,OAFrB,yBAEkC1sB,EAAK0sB,QAAU1sB,EAAK0sB,QAC5D1sB,EAAK0sB,OAAQ1sB,EAAK0sB,OAAQ,MAC5B,8DACA,wBACAzyB,MAAO,CACH+H,MAAOmuB,EAAiBltB,IACxBktB,EAAiBltB,GAAOwpB,WAAW,MAAM,IAE7Cp2B,MAAQ85B,EAAiBltB,IACzBktB,EAAiBltB,GAAOwpB,WADhB,sBAEH0D,EAAiBltB,GAAOwpB,WAFrB,yBAEsCzsB,EAAKysB,YAAczsB,EAAKysB,YACpEzsB,EAAKysB,WAAYzsB,EAAKysB,WAAY,MACpC,8DACA,wBACAxyB,MAAO,CACH+H,MAAOmuB,EAAiBltB,IACxBktB,EAAiBltB,GAAOqpB,YAAY,MAAM,IAE9Cj2B,MAAQ85B,EAAiBltB,IACzBktB,EAAiBltB,GAAOqpB,YADhB,sBAEH6D,EAAiBltB,GAAOqpB,YAFrB,yBAEuCtsB,EAAKssB,aAAetsB,EAAKssB,aACtEtsB,EAAKssB,YAAatsB,EAAKssB,YAAa,MACtC,wDACA,wBACAryB,MAAO,CACH+H,MAAOmuB,EAAiBltB,IACxBktB,EAAiBltB,GAAOgpB,IAAI,MAAM,IAEtC51B,MAAQ85B,EAAiBltB,IACzBktB,EAAiBltB,GAAOgpB,IADhB,sBAEHkE,EAAiBltB,GAAOgpB,IAFrB,yBAE+BjsB,EAAKisB,KAAOjsB,EAAKisB,KACtDjsB,EAAKisB,IAAKjsB,EAAKisB,IAAK,OAE1B,4BACI,kDACA,wBAAI2C,QAAQ,IACZ30B,MAAO,CACH+H,MAAOmuB,EAAiBltB,IACxBktB,EAAiBltB,GAAOopB,QAAQ,MAAM,IAE1Ch2B,MAAQ85B,EAAiBltB,IACzBktB,EAAiBltB,GAAOopB,QADhB,sBAEH8D,EAAiBltB,GAAOopB,QAFrB,yBAEmCrsB,EAAKqsB,SAAWrsB,EAAKqsB,SAC9DrsB,EAAKqsB,QAASrsB,EAAKqsB,QAAS,MAC9B,wDACA,wBACApyB,MAAO,CACH+H,MAAOmuB,EAAiBltB,IACxBktB,EAAiBltB,GAAO+oB,YAAY,MAAM,IAE9C31B,MAAQ85B,EAAiBltB,IACzBktB,EAAiBltB,GAAO+oB,YADhB,sBAEHmE,EAAiBltB,GAAO+oB,YAFrB,yBAEuChsB,EAAKgsB,aAAehsB,EAAKgsB,aACtEhsB,EAAKgsB,YAAahsB,EAAKgsB,YAAa,MACtC,4CACA,wBACA/xB,MAAO,CACH+H,MAAOmuB,EAAiBltB,IACxBktB,EAAiBltB,GAAO0pB,SAAS,MAAM,IAE3Ct2B,MAAQ85B,EAAiBltB,IACzBktB,EAAiBltB,GAAO0pB,SADhB,sBAEHwD,EAAiBltB,GAAO0pB,SAFrB,yBAEoC3sB,EAAK2sB,UAAY3sB,EAAK2sB,UAChE3sB,EAAK2sB,SAAU3sB,EAAK2sB,SAAU,WASpD,2BAAO5wB,UAAU,gBAAgBsyB,OAAO,IAAI1uB,YAAY,WACpD,yEACA,4BACI,wDACA,wBAAIE,aAAW,4BAAQ6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAClFZ,EAAcY,cAAc,4BAAS,MACrC,wDACA,wBAAIzrB,aAAW,4BAAQ6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAClFZ,EAAcY,cAAc,4BAAS,MACrC,8DACA,wBAAIzrB,aAAW,kCAAS6qB,EAAcY,eAAiBZ,EAAcY,cAAc,kCACnFZ,EAAcY,cAAc,kCAAU,MACtC,oEACA,wBAAIzrB,aAAW,wCAAU6qB,EAAcY,eAAiBZ,EAAcY,cAAc,wCACpFZ,EAAcY,cAAc,wCAAW,OAE3C,4BACI,0EACA,wBAAIzrB,aAAW,8CAAW6qB,EAAcY,eAAiBZ,EAAcY,cAAc,8CACrFZ,EAAcY,cAAc,8CAAY,MACxC,wDACA,wBAAIzrB,aAAW,4BAAQ6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAClFZ,EAAcY,cAAc,4BAAS,MACrC,oEACA,wBAAIzrB,aAAW,wCAAU6qB,EAAcY,eAAiBZ,EAAcY,cAAc,wCACpFZ,EAAcY,cAAc,wCAAW,MACvC,wDACA,wBAAIzrB,aAAW,4BAAQ6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAClFZ,EAAcY,cAAc,4BAAS,OAEzC,4BACI,4FACA,wBAAIzrB,aAAW,gEAAc6qB,EAAcY,eAAiBZ,EAAcY,cAAc,gEACxFZ,EAAcY,cAAc,gEAAe,MAC3C,4FACA,wBAAIzrB,aAAW,gEAAc6qB,EAAcY,eAAiBZ,EAAcY,cAAc,gEACxFZ,EAAcY,cAAc,gEAAe,MAC3C,wBAAIsD,QAAQ,KAAZ,8IACA,wBAAI/uB,aAAW,8IAA2B6qB,EAAcY,eAAiBZ,EAAcY,cAAc,8IACrGZ,EAAcY,cAAc,8IAA4B,OAE5D,4BACI,8DACA,wBAAIzrB,aAAW,kCAAS6qB,EAAcY,eAAiBZ,EAAcY,cAAc,kCACnFZ,EAAcY,cAAc,kCAAU,MACtC,0EACA,wBAAIzrB,aAAW,8CAAW6qB,EAAcY,eAAiBZ,EAAcY,cAAc,8CACrFZ,EAAcY,cAAc,8CAAY,MACxC,wBAAIsD,QAAQ,KAAZ,0DACA,wBAAI/uB,aAAW,0DAAa6qB,EAAcY,eAAiBZ,EAAcY,cAAc,0DACvFZ,EAAcY,cAAc,0DAAc,OAE9C,4BACI,4FACA,wBAAIzrB,aAAW,gEAAc6qB,EAAcY,eAAiBZ,EAAcY,cAAc,gEACxFZ,EAAcY,cAAc,gEAAe,MAC3C,wBAAIsD,QAAQ,KAAZ,gEACA,wBAAIA,QAAQ,IAAI/uB,aAAW,gEAAc6qB,EAAcY,eAAiBZ,EAAcY,cAAc,gEACpGZ,EAAcY,cAAc,gEAAe,OAE/C,4BACI,oEACA,wBAAIzrB,aAAW,wCAAU6qB,EAAcY,eAAiBZ,EAAcY,cAAc,wCACpFZ,EAAcY,cAAc,wCAAW,MACvC,oEACA,wBAAIzrB,aAAW,wCAAU6qB,EAAcY,eAAiBZ,EAAcY,cAAc,wCACpFZ,EAAcY,cAAc,wCAAW,MACvC,wDACA,wBAAIsD,QAAQ,IAAI/uB,aAAW,4BAAQ6qB,EAAcY,eAAiBZ,EAAcY,cAAc,4BAC9FZ,EAAcY,cAAc,4BAAS,UAKrD,uBAAGvvB,UAAU,aAAa9B,MAAO,CAACu1B,aAAc,IAAK1J,IAKjE,IAAMgE,GAAkB,SAAC9wB,GAAW,IAAD,EAG3BA,EADFjB,WAEF,MAAO,CAAE+uB,QAJsB,EAEfA,QAEEjD,gBAJa,EAENA,gBAEU4L,UAJJ,EAEWA,UAEI5T,SAJf,EAEsBA,SAEG6T,UAJzB,EAEgCA,UAEIhU,SAJpC,EAE2CA,WAI/DsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW8O,M,gBCrwBhD,SAASkB,KAAkD,IAAlCC,EAAiC,uDAAzB,GAAIC,EAAqB,uCAAhBC,IAAgB,yDAG1DC,EAAe3M,kBAAO,GAHoC,EAK1BpF,mBAAS,CAC7C+O,UAAW,EACXH,SAAU,KAPoD,mBAKzDoD,EALyD,KAK5CC,EAL4C,OAU9BjS,mBAAS,CACzCF,KAAM,GACNoS,MAAO,GACPC,SAAU,GACVC,UAAW,EACXC,SAAS,IAfqD,mBAUzDC,EAVyD,KAU9CC,EAV8C,OAkBlCvS,oBAAS,GAlByB,mBAkBzDwS,EAlByD,KAkBhDC,EAlBgD,OAmB9BzS,oBAAS,GAnBqB,mBAmBzD0S,EAnByD,KAmB9CC,EAnB8C,KAsB1DC,EAAUhQ,mBAAQ,WACtB,8CAAO,WAAOiQ,GAAP,eAAA9kB,EAAA,0DAGD2kB,EAHC,oDAQLD,GAAW,GACXI,EAAUA,GAAO,2BAASjB,GAAUI,GAE/BH,EAXA,uBAaHU,EAAa,2BACRD,GADO,IAEVH,SAAUU,EAAQjE,SAClBwD,UAAWS,EAAQ9D,aAErBgD,EAAa/L,SAAU,EAlBpB,2CAuBc6L,EAAIgB,GAvBlB,QAyBmB,OAFlBn6B,EAvBD,QAyBIogB,YACPyZ,EAAa75B,EAAKA,MAClBq5B,EAAa/L,SAAU,GAEvBuM,EAAa,CAAEO,SAAS,IAE1BL,GAAW,GA/BN,4CAAP,wDAkCC,IAEHjS,qBAAU,WAERuR,EAAa/L,SACX4M,EAAQ,2BACHhB,GACAI,MAIN,CAACA,IAEJxR,qBAAU,WAUR,OAPAsR,GACEc,EAAQ,uCACHZ,GAEAJ,GAHE,IAIL7C,UAAW,KAER,WACL4D,GAAa,MAGd,CAACf,EAAME,IAEV,IAAMiB,EAAenQ,mBACnB,kBAAM,SAACpH,GACL,OAAOyW,EAAe,uCAAKL,GAAUI,GAAgBxW,OAGvD,CAACwW,EAAaJ,IAGVoB,EAAapQ,mBACjB,kBAAM,SAACpH,GAA4B,IAApByX,IAAmB,yDAEhC,OADAzX,EAAUA,GAAW,GACdoX,EAAQ,uCACVhB,GACAI,GAFS,IAGZjD,UAAWkE,EAAU,EAAEjB,EAAYjD,WAChCvT,OAGP,CAACwW,EAAaJ,EAAOgB,IAEvB,MAAO,CAACN,EAAWS,EAAcH,EAASJ,EAASQ,GC1HrD,SAASE,GAAOr5B,EAAOuD,GAAM,IAEzBP,EAWEhD,EAXFgD,UACSs2B,EAUPt5B,EAVF24B,QACAv0B,EASEpE,EATFoE,IACAC,EAQErE,EARFqE,QACA0zB,EAOE/3B,EAPF+3B,MAEAwB,EAKEv5B,EALFu5B,UACAvB,EAIEh4B,EAJFg4B,IACAC,EAGEj4B,EAHFi4B,QACAuB,EAEEx5B,EAFFw5B,aACGh1B,EAZqB,YAatBxE,EAbsB,8FAwBtB83B,GAAgBC,EAAOC,EAAKC,GAxBN,mBAmBxBQ,EAnBwB,KAoBxBS,EApBwB,KAqBxBH,EArBwB,KAsBxBJ,EAtBwB,KAuBxBQ,EAvBwB,KAyBlBZ,EAA8CE,EAA9CF,UAAWD,EAAmCG,EAAnCH,SAAUD,EAAyBI,EAAzBJ,MAAOpS,EAAkBwS,EAAlBxS,KAAMuS,EAAYC,EAAZD,QAIpCiB,EAAY1Q,mBAAQ,WACxB,OAAOwQ,aAAqB1tB,OAAS0tB,EAAY,KAChD,CAACA,IAiBJ,OAhBAtP,8BACE1mB,GACA,iBAAO,CACLw1B,UACAI,aACAt6B,KAAM45B,KAGR,CAACM,EAASN,EAAWU,EAAYd,IAGnC1R,qBAAU,WAGgB,oBAAjB6S,GAA+BA,EAAaf,KAClD,CAACA,EAAWe,IAEb,kBAAC,GAAD,CACEl1B,cACiBK,IAAf20B,EACIA,aAAsBI,SACpBJ,EAEFX,EAENv0B,IAAKA,GAAY,wBACjBC,QAASA,IAAoB,GAE7B,yBAAKrB,UAAS,uBAAkBA,GAAwB,MACpDw1B,GAAWvS,aAAgBhc,OAASgc,EAAK9Y,OAAS,EAClD,oCACE,kBAAC,GAAD,eACEwsB,WAAY1T,EACZ2T,YAAY,EACZC,mBAAmB,EACnBnzB,SAAU,SAACkzB,EAAYE,EAASC,EAAQC,GACpB,SAAfA,EAAMC,QACTf,EAAa,CACXgB,UAAWH,EAAOI,UAClBC,SACmB,WAAjBL,EAAOM,MACH,MACiB,YAAjBN,EAAOM,MACP,OACA,MAGVr3B,UAAS,YACLwB,IAEN,kBAAC6H,GAAD,eACE2oB,iBAAe,EACflsB,iBAAe,EAKfisB,SAAUuD,EACVnM,QAASoM,EACTtD,iBAA4B,IAAVoD,EAClBrvB,MAAOqvB,EACP3xB,SAAU,SAACwuB,EAAWH,GACpBmE,EAAa,CACXhE,YACAH,cACgCpwB,IAA9B80B,EAAU3wB,iBACV2wB,EAAU3wB,gBACNisB,EACAuD,MAGNmB,KAIR,kBAAC,GAAD,CACEz2B,UAAW,iBACXzE,KAAM,IACNjB,MAAO,+BAOJgP,sBAAKwb,qBAAWuR,K,QC7E/B,SAASzwB,GAAM5I,GAAQ,IAEfs6B,EAGAt6B,EAHAs6B,YACAz7B,EAEAmB,EAFAnB,KACAqC,EACAlB,EADAkB,MAJc,EAMsBilB,mBAAS,GAN/B,mBAMXwJ,EANW,KAMGkC,EANH,KAQlB,GAAI5nB,MAAM4qB,QAAQyF,IAAiBrwB,MAAM4qB,QAAQh2B,GAAjD,CAIA,IAAI07B,EAAQD,EAAYntB,OACpB9L,EAAQkB,SAAS,IAAIg4B,GAAS,IAC9BC,EAAiB,GAerB,OAdA37B,EAAKoQ,SAAQ,SAAChI,GACV,IAAIwzB,GAAO,EACXH,EAAYrrB,SAAQ,SAACjF,GACD,SAAbA,EAAMhN,KAAmBiK,EAAK+C,EAAMhN,OACnCy9B,GAAO,GAEK,WAAbzwB,EAAMhN,KAAqBiK,EAAK+C,EAAMhN,OACrCy9B,GAAO,MAGZA,GACCD,EAAe1sB,KAAK7G,MAIxB,yBAAKjE,UAAU,aAAa9B,MAAOA,GAAc,MAC7C,yBAAK8B,UAAU,eAEXs3B,EAAYtzB,KAAI,SAACC,EAAMiD,GACnB,OACI,yBACAlH,UAAU,WACV9B,MAAO,CACHG,SAEJrE,IAAKkN,GACHjD,EAAKhK,UAMfgN,MAAM4qB,QAAQ2F,IACdA,EAAertB,OAAS,EACxBqtB,EAAe5nB,MAAyB,GAAlB+c,EAAe,GAAmB,EAAbA,GAAgB3oB,KAAI,SAACC,EAAMiD,GAClE,IAAIirB,EAAM,GAwCV,OAvCAmF,EAAYrrB,SAAQ,SAACjF,EAAO0wB,GACP,UAAd1wB,EAAMhN,IACLm4B,EAAIrnB,KACJ,yBACA9K,UAAU,WACV9B,MAAO,CACHG,SAEJrE,IAAK09B,GAEGxwB,EAAQ,IAKhBirB,EAAIrnB,KACJ,yBACA9K,UAAU,WACV9B,MAAO,CACHG,SAEJrE,IAAK09B,GAEgB,YAAb1wB,EAAMhN,IACN,yBACAgG,UAAU,YACV2oB,IAAK1kB,EAAK0zB,YAAc1zB,EAAK2zB,cAC7BC,IAAI,KACJ,GAGA5zB,EAAK+C,EAAMhN,KACXiK,EAAK+C,EAAMhN,KACX,UAOZ,yBAAKgG,UAAU,YACVmyB,MAIb,kBAAC,GAAD,CAEAj0B,MAAO,CAACs1B,OAAQ,WAChBl5B,MAAO,2BACPiB,KAAM,MAINi8B,EAAertB,OAAS,EACxB,kBAAC,KAAD,CAAgBrN,OAAQwI,MACpB,kBAAC,KAAD,CACAtF,UAAU,mBACVmB,KAAK,QACL6E,MAAOwxB,EAAertB,OACtBgf,QAASwD,EACToF,SAAU,EACVC,iBAAiB,EACjBlsB,iBAAiB,EACjBmsB,kBAAgB,EAChBvuB,SAAU,SAACwuB,GACPrD,EAAgBqD,OAMxB,KAMDtsB,U,gBCjKf,SAASkyB,GAAK96B,EAAOuD,GAAM,IAEvBw3B,EAaE/6B,EAbF+6B,WACA15B,EAYErB,EAZFqB,MACA25B,EAWEh7B,EAXFg7B,SACA95B,EAUElB,EAVFkB,MACA8B,EASEhD,EATFgD,UACAi4B,EAQEj7B,EARFi7B,QACAtC,EAOE34B,EAPF24B,QAEAv7B,GAKE4C,EANFk7B,MAMEl7B,EALF5C,UACA+9B,EAIEn7B,EAJFm7B,QACAC,EAGEp7B,EAHFo7B,WAEG52B,GACDxE,EAFFyvB,aAbsB,YAepBzvB,EAfoB,qIAmBlBq7B,EAAS9P,iBAAO,MAUtB,OAHAtB,8BAAoB1mB,GAAK,WACvB,OAAO83B,EAAOlP,WAGd,uCACE5oB,IAAK83B,EACLn6B,MAAO2K,OAAOC,OACZ,GACA,CACEzK,MAAM,QAAD,OAAUA,GAAgB,OAA1B,cACiB,kBAAb25B,EAAmC,EAAXA,EAAe,GAD3C,OAGLM,WAAgC,kBAAbN,EAAwBA,EAAW,KAAO,OAC7DO,YAAiC,kBAAbP,EAAwBA,EAAW,KAAO,QAEhE95B,aAAiB2K,OAAS3K,EAAQ,IAEpC8B,UAAS,4BAAuBA,GAAwB,KACpDwB,GAEJ,yBAAKxB,UAAU,WACb,0BAAMA,UAAU,eAAe1F,MAAO29B,GACnCA,GAEFF,EACC,0BAAM/3B,UAAU,kBAKb21B,EACC,yBACEz3B,MAAO,CAAEK,OAAQ,OAAQF,MAAO,OAAQuyB,SAAU,cAGpD,GASDmH,EAAWS,SACVT,EACEA,EAAWz9B,MACb,0BACE0F,UAAS,0BACP+3B,EAAW/3B,UAAY+3B,EAAW/3B,UAAY,IAEhDS,QAAS,WACuB,oBAAvBs3B,EAAWt3B,SAChBs3B,EAAWt3B,WAEfvC,MACE65B,EAAW79B,KACP,CACEmvB,WAAW,OAAD,OAAS0O,EAAW79B,KAApB,sCAEZ,IAGL69B,EAAWz9B,OAGd,IAIJ,IAGJ,yBAAK0F,UAAU,eACb,kBAAC,GAAD,CACEsB,SAAUq0B,IAAoB,EAC9Bt0B,SAAS,EACTD,IAAK,8BAEQO,IAAZw2B,GAA0BA,EAGzB,kBAAC,GAAD,CACEn4B,UAAW,YACX1F,MAAO89B,GAA0B,8BACjC78B,KAAM,MALR,yBAAKyE,UAAU,mBAAmB5F,MAc/BkP,sBAAKwb,qBAAWgT,KC9GVvN,GAAfjR,W,YCtBE3c,GAAWC,KAAXD,OAER,SAAS87B,GAAQz7B,GAAQ,IAEjB1C,EAUA0C,EAVA1C,MACAiB,EASAyB,EATAzB,KACAM,EAQAmB,EARAnB,KACA+oB,EAOA5nB,EAPA4nB,KACAvmB,EAMArB,EANAqB,MAEAq6B,GAIA17B,EALA27B,SAKA37B,EAJA07B,YACAE,EAGA57B,EAHA47B,WACAC,EAEA77B,EAFA67B,SACA74B,EACAhD,EADAgD,UAXgB,EAaMmjB,mBAAStnB,GAAY,IAb3B,mBAabgF,EAba,KAaNi4B,EAbM,OAcY3V,oBAAS,GAdrB,mBAcb4V,EAda,KAcHC,EAdG,KAmCpB,OAhBArV,qBAAU,WAGFqV,EADDn4B,IADWhF,GAAY,OAM3B,CAACgF,IACJomB,8BACI4R,GACA,iBAAO,CACJh4B,QACAk4B,cAEH,CAACl4B,EAAOhF,EAAMN,EAAMqpB,EAAMmU,IAG1B,yBAAKx4B,IAAKs4B,EAAU74B,UAAU,kBAAkB9B,MAAO,CAACG,MAAOA,IAC3D,0BAAM2B,UAAU,cAAc9B,MAAO,CAACG,MAAOq6B,IAAcp+B,EAA3D,KACA,0BAAM0F,UAAWA,EAAW9B,MAAO,CAACoC,QAAS,SAAUO,GAE3C,UAARtF,EACA,kBAAC,KAAD,CACAsF,MAAOA,GAAc,SACrB6C,SAAU,SAAC7C,GAAD,OAASi4B,EAASj4B,IAC5ByF,kBAAmB,kBAAInI,IAAE,mBAAmB,IAC5CD,MAAO,CAACG,MAAOu6B,IACX,kBAAC,GAAD,CAAQ/3B,MAAM,UAAd,UACA,kBAAC,GAAD,CAAQA,MAAM,UAAd,WAEI,QAARtF,EACA,kBAAC,KAAD,CACAsF,MAAOA,EACP6C,SAAU,SAAC7C,GAAD,OAASi4B,EAASj4B,IAC5ByF,kBAAmB,kBAAInI,IAAE,mBAAmB,IAC5CD,MAAO,CAACG,MAAOu6B,IAEP3xB,MAAM4qB,QAAQjN,IACdA,EAAK5gB,KAAI,SAACC,EAAMiD,GACZ,OACI,kBAAC,GAAD,CACAlN,IAAKkN,EACLrG,MAAOoD,GACFA,OAMb,SAAR1I,EACA,2BACAyE,UAAU,YACVzE,KAAK,OACLsF,MAAOA,EACP6C,SA1DM,SAAClG,GACfs7B,EAASt7B,EAAEwB,OAAO6B,QA0DV3C,MAAO,CAACG,MAAOu6B,KACf,yBACA54B,UAAU,YACV9B,MAAO,CAACG,MAAOu6B,IACV/3B,IAQNyI,sBAAKwb,qBAAW2T,K,QC9EhBQ,I,6CCKM1O,GAAfjR,WACJ,SAAS4f,GAAal8B,EAAOuD,GAIvBvD,EAFA2iB,SAAYW,OAFiB,IAG7B6Y,EACAn8B,EADAm8B,WAMJ,OACE,yBAAKn5B,UAAU,cACb,2BAAOA,UAAU,YAAYsyB,OAAO,IAAI1uB,YAAY,WAChD,2FACA,4BACI,4CACA,wBAAItJ,MAAO6+B,EAAW/I,YAAa+I,EAAW/I,YAAa,MACtD+I,EAAW/I,YAAa+I,EAAW/I,YAAa,MAErD,4CACA,wBAAI91B,MAAO6+B,EAAW5G,OAAQ4G,EAAW5G,OAAQ,MAC5C4G,EAAW5G,OAAQ4G,EAAW5G,OAAQ,MAE3C,wDACA,wBAAIj4B,MAAO6+B,EAAW3G,YAAa2G,EAAW3G,YAAa,MACtD2G,EAAW3G,YAAa2G,EAAW3G,YAAa,MAErD,kDACA,wBAAIl4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,sBAC/D4J,EAAW5J,cAAc,sBAAQ,MAC7B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,sBACtD4J,EAAW5J,cAAc,sBAAQ,MAErC,wBAAIkD,QAAQ,IAAIv0B,MAAO,CACnBimB,gBAAgB,OAAD,OAASgV,EAAWtJ,UAApB,KACf6C,eAAe,sCACf0G,iBAAkB,YAClBC,mBAAoB,oBAI5B,4BACI,4CACA,wBAAI/+B,MAAO6+B,EAAWxG,YAAawG,EAAWxG,YAAa,MACtDwG,EAAWxG,YAAawG,EAAWxG,YAAa,MAErD,4CACA,wBAAIr4B,MAAO6+B,EAAWxI,OAAQwI,EAAWxI,OAAQ,MAC5CwI,EAAWxI,OAAQwI,EAAWxI,OAAQ,MAE3C,yDACA,wBAAIr2B,MAAO6+B,EAAWvG,YAAauG,EAAWvG,YAAa,MACtDuG,EAAWvG,YAAauG,EAAWvG,YAAa,MAErD,oEACA,wBAAIt4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,wCAC/D4J,EAAW5J,cAAc,wCAAW,MAChC4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,wCACtD4J,EAAW5J,cAAc,wCAAW,OAG5C,4BACI,oEACA,wBAAIsD,QAAQ,IAAIv4B,MAAO6+B,EAAWrG,YAAaqG,EAAWrG,YAAa,MAClEqG,EAAWrG,YAAaqG,EAAWrG,YAAa,MAErD,8DACA,wBAAIx4B,MAAO6+B,EAAWpG,cAAeoG,EAAWpG,cAAe,MAC1DoG,EAAWpG,cAAeoG,EAAWpG,cAAe,MAEzD,wDACA,wBAAIz4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,OAG1C,4BACI,wDACA,wBAAIj1B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,MAEtC,wDACA,wBAAIj1B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,MAEtC,kDACA,wBAAIj1B,MAAO6+B,EAAWnG,WAAYmG,EAAWnG,WAAY,MACpDmG,EAAWnG,WAAYmG,EAAWnG,WAAY,MAEnD,0EACA,wBAAI14B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,8CAC/D4J,EAAW5J,cAAc,8CAAY,MACjC4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,8CACtD4J,EAAW5J,cAAc,8CAAY,OAG7C,4BACI,8DACA,wBAAIj1B,MAAO6+B,EAAW5I,YAAa4I,EAAW5I,YAAa,MACtD4I,EAAW5I,YAAa4I,EAAW5I,YAAa,MAErD,4CACA,wBAAIsC,QAAQ,IAAIv4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,gBAC3E4J,EAAW5J,cAAc,gBAAO,MAC5B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,gBACtD4J,EAAW5J,cAAc,gBAAO,OAGxC,4BACI,wDACA,wBAAIj1B,MAAO6+B,EAAWlG,UAAWkG,EAAWlG,UAAW,MAClDkG,EAAWlG,UAAWkG,EAAWlG,UAAW,MAEjD,wDACA,wBAAI34B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,MAEtC,4CACA,wBAAIj1B,MAAO6+B,EAAWjG,UAAWiG,EAAWjG,UAAW,MAClDiG,EAAWjG,UAAWiG,EAAWjG,UAAW,MAEjD,4CACA,wBAAI54B,MAAO6+B,EAAWn5B,UAAWm5B,EAAWn5B,UAAW,MAClDm5B,EAAWn5B,UAAWm5B,EAAWn5B,UAAW,OAGrD,4BACI,wDACA,wBAAI1F,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,MAEtC,wDACA,wBAAIj1B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,MAEtC,wDACA,wBAAIj1B,MAAO6+B,EAAWhG,YAAagG,EAAWhG,YAAa,MACtDgG,EAAWhG,YAAagG,EAAWhG,YAAa,MAErD,wDACA,wBAAIN,QAAQ,IAAIv4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC3E4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,QAI9C,2BAAOvvB,UAAU,cAAcsyB,OAAO,IAAI1uB,YAAY,WAClD,yEACA,4BACI,kDACA,wBAAIivB,QAAQ,IAAIv4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,sBAC3E4J,EAAW5J,cAAc,sBAAQ,MAC5B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,sBACvD4J,EAAW5J,cAAc,sBAAQ,MAErC,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC3E4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,OAG1C,4BACI,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAO6+B,EAAW/F,YAAa+F,EAAW/F,YAAa,MACjE+F,EAAW/F,YAAa+F,EAAW/F,YAAa,MAEtD,wDACA,wBAAI94B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,MAEtC,wDACA,wBAAIj1B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,OAG1C,4BACI,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC3E4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,MAEtC,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC3E4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,QAI9C,2BAAOvvB,UAAU,mBAAmBsyB,OAAO,IAAI1uB,YAAY,WACvD,yEACA,4BACI,wBAAIvF,MAAM,OAAV,wCACA,wBAAIA,MAAM,MAAM86B,EAAW9F,YAAa8F,EAAW9F,YAAa,MAChE,wBAAIh1B,MAAM,OAAV,oDACA,wBAAIA,MAAM,MAAM86B,EAAW7F,kBAAmB6F,EAAW7F,kBAAmB,MAC5E,wBAAIj1B,MAAM,OAAV,wCACA,wBAAIA,MAAM,MAAM86B,EAAW5F,kBAAmB4F,EAAW5F,kBAAmB,MAC5E,wBAAIl1B,MAAM,OAAV,4EACA,wBAAIA,MAAM,MAAM86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4EACpE4J,EAAW5J,cAAc,4EAAiB,OAE/C,4BACI,wBAAIlxB,MAAM,OAAV,4BACA,wBAAIA,MAAM,MAAM86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACpE4J,EAAW5J,cAAc,4BAAS,MACnC,wBAAIlxB,MAAM,OAAV,0DACA,wBAAIA,MAAM,MAAM86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,0DACpE4J,EAAW5J,cAAc,0DAAc,MACxC,wBAAIlxB,MAAM,OAAV,4BACA,wBAAIA,MAAM,MAAM86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACpE4J,EAAW5J,cAAc,4BAAS,MACnC,wBAAIlxB,MAAM,OAAV,oDACA,wBAAIA,MAAM,MAAM86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,oDACpE4J,EAAW5J,cAAc,oDAAa,OAE3C,4BACI,wBAAIlxB,MAAM,OAAV,wCACA,wBAAIA,MAAM,MAAM86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,wCACpE4J,EAAW5J,cAAc,wCAAW,MACrC,wBAAIlxB,MAAM,OAAV,kCACA,wBAAIw0B,QAAQ,KAAKsG,EAAW5J,eAAiB4J,EAAW5J,cAAc,kCACrE4J,EAAW5J,cAAc,kCAAU,QAG5C,2BAAOvvB,UAAU,eAAesyB,OAAO,IAAI1uB,YAAY,WACnD,6DACA,4BACI,wBAAIvF,MAAM,OAAV,wCACA,wBAAIA,MAAM,OAAV,wCACA,wBAAIA,MAAM,OAAV,4BACA,wBAAIA,MAAM,OAAV,4BACA,wBAAIA,MAAM,OAAV,4BACA,wBAAIA,MAAM,OAAV,mCAGA4I,MAAM4qB,QAAQsH,EAAWrI,aACzBqI,EAAWrI,WAAW9sB,KAAI,SAACC,EAAMiD,GAC7B,OACI,wBAAIlN,IAAKkN,GACL,wBAAI7I,MAAM,OAAO4F,EAAKgtB,kBAAmBhtB,EAAKgtB,kBAAmB,MACjE,wBAAI5yB,MAAM,OAAO4F,EAAKktB,gBAAiBltB,EAAKktB,gBAAiB,MAC7D,wBAAI9yB,MAAM,OAAO4F,EAAK+sB,OAAQ/sB,EAAK+sB,OAAQ,MAC3C,wBAAI3yB,MAAM,OAAO4F,EAAK8sB,gBAAiB9sB,EAAK8sB,gBAAiB,MAC7D,wBAAI1yB,MAAM,OAAO4F,EAAKmtB,KAAMntB,EAAKmtB,KAAM,MACvC,wBAAI/yB,MAAM,OAAO4F,EAAKitB,UAAWjtB,EAAKitB,UAAW,WAOrE,2BAAOlxB,UAAU,iBAAiBsyB,OAAO,IAAI1uB,YAAY,WACrD,+EACA,4BACI,wBAAIvF,MAAM,OAAV,gDACA,wBAAIA,MAAM,OAAO86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,0DACrE4J,EAAW5J,cAAc,0DAAc,MACxC,wBAAIlxB,MAAM,OAAV,8CACA,wBAAIA,MAAM,OAAO86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,8CACrE4J,EAAW5J,cAAc,8CAAY,MACtC,wBAAIlxB,MAAM,OAAV,oDACA,wBAAIA,MAAM,OAAO86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,oDACrE4J,EAAW5J,cAAc,oDAAa,QAI3CtoB,MAAM4qB,QAAQsH,EAAWpJ,eACzBoJ,EAAWpJ,aAAa/rB,KAAI,SAACC,EAAMiD,GAC/B,OACI,2BAAOlH,UAAU,cAAcsyB,OAAO,IAAI1uB,YAAY,WAErC,GAATsD,EACA,iGACA,GAEJ,4BACI,4CACA,4BAAKjD,EAAKhK,KAAMgK,EAAKhK,KAAM,MAC3B,4CACA,4BAAKgK,EAAK+rB,aAAc/rB,EAAK+rB,aAAc,MAC3C,oEACA,4BAAK/rB,EAAKwsB,WAAYxsB,EAAKwsB,WAAY,MACvC,oEACA,4BAAKxsB,EAAKusB,UAAWvsB,EAAKusB,UAAW,OAEzC,4BACI,4CACA,4BAAKvsB,EAAK0sB,OAAQ1sB,EAAK0sB,OAAQ,MAC/B,8DACA,4BAAK1sB,EAAKysB,WAAYzsB,EAAKysB,WAAY,MACvC,8DACA,4BAAKzsB,EAAKssB,YAAatsB,EAAKssB,YAAa,MACzC,wDACA,4BAAKtsB,EAAKisB,IAAKjsB,EAAKisB,IAAK,OAE7B,4BACI,kDACA,wBAAI2C,QAAQ,KAAK5uB,EAAKqsB,QAASrsB,EAAKqsB,QAAS,MAC7C,wDACA,4BAAKrsB,EAAKgsB,YAAahsB,EAAKgsB,YAAa,MACzC,4CACA,4BAAKhsB,EAAK2sB,SAAU3sB,EAAK2sB,SAAU,WASvD,2BAAO5wB,UAAU,gBAAgBsyB,OAAO,IAAI1uB,YAAY,WACpD,yEACA,4BACI,wDACA,4BAAKu1B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACzD4J,EAAW5J,cAAc,4BAAS,MACnC,wDACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACzD4J,EAAW5J,cAAc,4BAAS,MACnC,8DACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,kCACzD4J,EAAW5J,cAAc,kCAAU,MACpC,oEACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,wCACzD4J,EAAW5J,cAAc,wCAAW,OAEzC,4BACI,0EACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,8CACzD4J,EAAW5J,cAAc,8CAAY,MACtC,wDACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACzD4J,EAAW5J,cAAc,4BAAS,MACnC,oEACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,wCACzD4J,EAAW5J,cAAc,wCAAW,MACrC,wDACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACzD4J,EAAW5J,cAAc,4BAAS,OAEvC,4BACI,4FACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,gEACzD4J,EAAW5J,cAAc,gEAAe,MACzC,4FACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,gEACzD4J,EAAW5J,cAAc,gEAAe,MACzC,wBAAIsD,QAAQ,KAAZ,8IACA,4BAAKsG,EAAW5J,eAAiB4J,EAAW5J,cAAc,8IACzD4J,EAAW5J,cAAc,8IAA4B,OAE1D,4BACI,8DACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,kCACzD4J,EAAW5J,cAAc,kCAAU,MACpC,0EACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,8CACzD4J,EAAW5J,cAAc,8CAAY,MACtC,wBAAIsD,QAAQ,KAAZ,0DACA,4BAAKsG,EAAW5J,eAAiB4J,EAAW5J,cAAc,0DACzD4J,EAAW5J,cAAc,0DAAc,OAE5C,4BACI,4FACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,gEACzD4J,EAAW5J,cAAc,gEAAe,MACzC,wBAAIsD,QAAQ,KAAZ,gEACA,wBAAIA,QAAQ,KAAKsG,EAAW5J,eAAiB4J,EAAW5J,cAAc,gEACrE4J,EAAW5J,cAAc,gEAAe,OAE7C,4BACI,oEACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,wCACzD4J,EAAW5J,cAAc,wCAAW,MACrC,oEACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,wCACzD4J,EAAW5J,cAAc,wCAAW,MACrC,wDACA,wBAAIsD,QAAQ,KAAKsG,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACrE4J,EAAW5J,cAAc,4BAAS,SAQjD,IAAMxB,GAAkB,SAAC9wB,GAAW,IAAD,EAG7BA,EADFjB,WAEF,MAAO,CAAE23B,UAJwB,EAEjBA,UAEIhU,SAJa,EAENA,WAIdsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWoU,MC1ZpD5f,GAAeiR,GAAfjR,WAEN,SAASggB,GAAat8B,EAAOuD,GAAM,IAE/B6tB,EAMEpxB,EANFoxB,aACAC,EAKErxB,EALFqxB,aACAkL,EAIEv8B,EAJFu8B,YACA9M,EAGEzvB,EAHFyvB,aACWzM,EAEThjB,EAFF2iB,SAAWK,SACXwZ,EACEx8B,EADFw8B,QAP8B,EASUrW,mBAAS,CACjD,eACA,qBACA,2BACA,2BACA,6CACA,qBACA,eACA,qBACA,iCACA,iCACA,mDACA,6BArB8B,mBASzBsW,EATyB,aAuBQtW,mBAAS,KAvBjB,mBAuBzBuW,EAvByB,KAuBXC,EAvBW,OAyBAxW,mBAAS,IAzBT,gCA0BIA,mBAAS,KA1Bb,mBA0BzByW,EA1ByB,KA0BbC,EA1Ba,OA2BM1W,mBAAS,IA3Bf,mBA2BzB2W,EA3ByB,KA2BZC,EA3BY,OA4BF5W,oBAAS,GA5BP,gCA6BMA,oBAAS,IA7Bf,mBA6BzB6W,EA7ByB,KA6BZC,EA7BY,OA8BgB9W,oBAAS,GA9BzB,mBA8BzB+W,EA9ByB,KA8BPC,EA9BO,OAgCQhX,mBAAS,IAhCjB,mBAgCzBiX,EAhCyB,KAgCXC,EAhCW,KAkChCjT,2BAAgB,WACd,IAAIxd,GACe,WAAhB6iB,GAA8BzM,KAGd,WAAhByM,GAA8B2B,KAMd,WAAhB3B,IACD7iB,EAAM0P,GAAa,6BAA+B8U,GAEjC,WAAhB3B,IACE2B,IACDxkB,EAAM0P,GAAa,6BAA+B8U,IAEhDA,GAAgBC,IAClBzkB,EAAM0P,GAAa,6BAA+B+U,GAEhDD,GAAiBC,IACnBzkB,EAAM0P,GAAa,+BAAiC0G,IAGxDia,GAAe,GACfjgB,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACL,GAAoB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,KAAK,CACrC,IAAIs2B,EAAM,GACVsH,EAAcxtB,SAAQ,SAAChI,GACrB,GAAW,gBAARA,EAAa,CACd,IAAIwM,EAAM,CACRzW,IAAKiK,EACLuO,IAAK9B,EAAO7U,KAAKy+B,QACjBC,SAAU7pB,EAAO7U,KAAK2+B,UAExBrI,EAAIrnB,KAAK2F,GAEX,GAAW,gBAARxM,EAAa,CACd,IAAIwM,EAAM,CACRzW,IAAKiK,EACLuO,IAAK9B,EAAO7U,KAAK4+B,UACjBF,SAAU7pB,EAAO7U,KAAK6+B,YAExBvI,EAAIrnB,KAAK2F,GAEX,GAAW,sBAARxM,EAAc,CACf,IAAIwM,EAAM,CACRzW,IAAKiK,EACLuO,IAAK9B,EAAO7U,KAAK8+B,OACjBJ,SAAU7pB,EAAO7U,KAAK++B,SAExBzI,EAAIrnB,KAAK2F,GAEX,GAAW,sBAARxM,EAAc,CACf,IAAIwM,EAAM,CACRzW,IAAKiK,EACLuO,IAAK9B,EAAO7U,KAAKg/B,SACjBN,SAAU7pB,EAAO7U,KAAKi/B,WAExB3I,EAAIrnB,KAAK2F,GAEX,GAAW,4BAARxM,EAAe,CAChB,IAAIwM,EAAM,CACRzW,IAAKiK,EACLuO,IAAK9B,EAAO7U,KAAKk/B,aACjBR,SAAU7pB,EAAO7U,KAAKm/B,eAExB7I,EAAIrnB,KAAK2F,GAEX,GAAW,kCAARxM,EAAgB,CACjB,IAAIwM,EAAM,CACRzW,IAAKiK,EACLuO,IAAK9B,EAAO7U,KAAKo/B,gBACjBV,SAAU7pB,EAAO7U,KAAKq/B,kBAExB/I,EAAIrnB,KAAK2F,GAEX,GAAW,4BAARxM,EAAe,CAChB,IAAIwM,EAAM,CACRzW,IAAKiK,EACLuO,IAAK9B,EAAO7U,KAAKs/B,aACjBZ,SAAU7pB,EAAO7U,KAAKu/B,eAExBjJ,EAAIrnB,KAAK2F,GAEX,GAAW,kCAARxM,EAAgB,CACjB,IAAIwM,EAAM,CACRzW,IAAKiK,EACLuO,IAAK9B,EAAO7U,KAAKw/B,gBACjBd,SAAU7pB,EAAO7U,KAAKy/B,kBAExBnJ,EAAIrnB,KAAK2F,GAEX,GAAW,8CAARxM,EAAkB,CACnB,IAAIwM,EAAM,CACRzW,IAAKiK,EACLuO,IAAK9B,EAAO7U,KAAK0/B,mBACjBhB,SAAU7pB,EAAO7U,KAAK2/B,qBAExBrJ,EAAIrnB,KAAK2F,GAEX,GAAW,oDAARxM,EAAmB,CACpB,IAAIwM,EAAM,CACRzW,IAAKiK,EACLuO,IAAK9B,EAAO7U,KAAK4/B,sBACjBlB,SAAU7pB,EAAO7U,KAAK6/B,wBAExBvJ,EAAIrnB,KAAK2F,GAEX,GAAW,sBAARxM,EAAc,CACf,IAAIwM,EAAM,CACRzW,IAAKiK,EACLuO,IAAK9B,EAAO7U,KAAK8/B,QACjBpB,SAAU7pB,EAAO7U,KAAK+/B,UAExBzJ,EAAIrnB,KAAK2F,GAEX,GAAW,4BAARxM,EAAe,CAChB,IAAIwM,EAAM,CACRzW,IAAKiK,EACLuO,IAAK9B,EAAO7U,KAAKggC,WACjBtB,SAAU7pB,EAAO7U,KAAKigC,aAExB3J,EAAIrnB,KAAK2F,OAGbopB,EAAcnpB,EAAO7U,MACrB89B,EAAgBxH,GAElB8H,GAAe,SAEhB,CAAC7L,EAAcC,EAAckL,EAAa9M,EAAczM,EAAUwZ,IACrE7V,qBAAU,WACR,GAAI/kB,SAASyP,eAAe,uBAA5B,CAGA,IAAI0tB,EAAU,GAEd,IAAI,IAAIC,KAAKpC,EAAWqC,gBAAgB,CACtC,IAAIxrB,EAAM,CACRxW,KAAM+hC,EACNn7B,MAAO+4B,EAAWqC,gBAAgBD,IAEpCD,EAAQjxB,KAAK2F,GAEf,IAAIyrB,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,wBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACXs1B,QAAS,CACLC,QAAS,QAEbC,KAAM,CACFn/B,IAAK,EACLo/B,MAAO,EACPC,OAAQ,EACRt/B,KAAM,GAEV5C,MAAO,CACHq6B,KAAM,iCACNz3B,KAAM,SACNC,IAAK,MACLs/B,UAAW,CACP3d,QAAS,CAAC,EAAG,EAAG,GAAI,GACpB4d,SAAU,KAGlBC,gBAAiB,CACfphC,KAAM,SACNygC,EAAG,GACHY,EAAG,IACHC,EAAG,IAEHC,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,GACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,eAET,CACE82B,OAAQ,EACR92B,MAAO,iBAIbA,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,QAC/D+2B,OAAQ,CACN,CACEzhC,KAAM,MACN0hC,OAAQ,CAAC,MAAO,OAChBC,OAAQ,CAAC,MAAO,OAChBC,SAAU,GACVC,mBAAmB,EACnBC,MAAO,CACHx/B,MAAM,GAEVy/B,SAAU,CACNC,UAAW,CACPC,YAAa,GACb55B,YAAa,wBAIrB/H,KAAMkgC,KAIZG,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAChC85B,EAASjsB,eAEV,CAAC2pB,IACJjW,qBAAU,WACR,GAAI/kB,SAASyP,eAAe,0BAA5B,CAGA,IAAIskB,EAAc,GAElB,IAAI,IAAIqJ,KAAKpC,EAAW8D,wBAAwB,CAC9C,IAAIjtB,EAAM,CACRxW,KAAM+hC,EACNn7B,MAAO+4B,EAAW8D,wBAAwB1B,IAE5CrJ,EAAY7nB,KAAK2F,GAEnB,IAAIktB,EAAYxB,KAAQ3kB,KAAK5Y,SAASyP,eAAe,2BACrDsvB,EAAU1tB,SACV,IAAI2tB,EAAU,CACZxB,QAAS,CACLC,QAAS,QAEbC,KAAM,CACFn/B,IAAK,EACLo/B,MAAO,EACPC,OAAQ,EACRt/B,KAAM,GAEV5C,MAAO,CACHq6B,KAAM,iCACNz3B,KAAM,SACNC,IAAK,MACLs/B,UAAW,CACP3d,QAAS,CAAC,EAAG,EAAG,GAAI,GACpB4d,SAAU,KAGlBC,gBAAiB,CACfphC,KAAM,SACNygC,EAAG,GACHY,EAAG,IACHC,EAAG,IAEHC,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,GACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,eAET,CACE82B,OAAQ,EACR92B,MAAO,iBAIbA,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,QAC/D+2B,OAAQ,CACN,CAEEzhC,KAAM,MACN0hC,OAAQ,CAAC,MAAO,OAChBC,OAAQ,CAAC,MAAO,OAChBC,SAAU,GACVC,mBAAmB,EACnBC,MAAO,CACHx/B,MAAM,GAEVy/B,SAAU,CACNC,UAAW,CACPC,YAAa,GACb55B,YAAa,wBAIrB/H,KAAM82B,KAIZgL,EAAUF,UAAUG,GAAS,GAC7Bx/B,OAAOgE,iBAAiB,UAAU,WAChCu7B,EAAU1tB,eAEX,CAAC2pB,IACJjW,qBAAU,WACR,GAAI/kB,SAASyP,eAAe,0BAA5B,CAGA,IAAIwvB,EAAa,GAEjB,IAAI,IAAI7B,KAAKpC,EAAWkE,mBAAmB,CACzC,IAAIrtB,EAAM,CACRxW,KAAM+hC,EACNn7B,MAAO+4B,EAAWkE,mBAAmB9B,IAEvC6B,EAAW/yB,KAAK2F,GAElB,IAAIstB,EAAY5B,KAAQ3kB,KAAK5Y,SAASyP,eAAe,2BACrD0vB,EAAU9tB,SACV,IAAI+tB,EAAU,CACZ5B,QAAS,CACLC,QAAS,QAEbC,KAAM,CACFn/B,IAAK,EACLo/B,MAAO,EACPC,OAAQ,EACRt/B,KAAM,GAEV5C,MAAO,CACHq6B,KAAM,iCACNz3B,KAAM,SACNC,IAAK,MACLs/B,UAAW,CACP3d,QAAS,CAAC,EAAG,EAAG,GAAI,GACpB4d,SAAU,KAGlBC,gBAAiB,CACfphC,KAAM,SACNygC,EAAG,GACHY,EAAG,IACHC,EAAG,IAEHC,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,GACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,eAET,CACE82B,OAAQ,EACR92B,MAAO,iBAIbA,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,QAC/D+2B,OAAQ,CACN,CACEzhC,KAAM,MACN0hC,OAAQ,CAAC,MAAO,OAChBC,OAAQ,CAAC,MAAO,OAChBC,SAAU,GACVC,mBAAmB,EACnBC,MAAO,CACHx/B,MAAM,GAEVy/B,SAAU,CACNC,UAAW,CACPC,YAAa,GACb55B,YAAa,wBAIrB/H,KAAMgiC,KAKZE,EAAUN,UAAUO,GAAS,GAC7B5/B,OAAOgE,iBAAiB,UAAU,WAEhC27B,EAAU9tB,eAEX,CAAC2pB,IACJjW,qBAAU,WACR,GAAI/kB,SAASyP,eAAe,+BAA5B,CAGA,IAAIukB,EAAc,GAElB,IAAI,IAAIoJ,KAAKpC,EAAWqE,wBAAwB,CAC9C,IAAIxtB,EAAM,CACRxW,KAAM+hC,EACNn7B,MAAO+4B,EAAWqE,wBAAwBjC,IAE5CpJ,EAAY9nB,KAAK2F,GAEnB,IAAIytB,EAAY/B,KAAQ3kB,KAAK5Y,SAASyP,eAAe,gCACrD6vB,EAAUjuB,SACV,IAAIkuB,EAAU,CACZ/B,QAAS,CACLC,QAAS,QAEbC,KAAM,CACFn/B,IAAK,EACLo/B,MAAO,EACPC,OAAQ,EACRt/B,KAAM,GAEV5C,MAAO,CACHq6B,KAAM,iCACNz3B,KAAM,SACNC,IAAK,MACLs/B,UAAW,CACP3d,QAAS,CAAC,EAAG,EAAG,GAAI,GACpB4d,SAAU,KAGlBC,gBAAiB,CACfphC,KAAM,SACNygC,EAAG,GACHY,EAAG,IACHC,EAAG,IAEHC,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,GACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,eAET,CACE82B,OAAQ,EACR92B,MAAO,iBAIbA,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,QAC/D+2B,OAAQ,CACN,CACEzhC,KAAM,MACN0hC,OAAQ,CAAC,MAAO,OAChBC,OAAQ,CAAC,MAAO,OAChBC,SAAU,GACVC,mBAAmB,EACnBC,MAAO,CACHx/B,MAAM,GAEVy/B,SAAU,CACNC,UAAW,CACPC,YAAa,GACb55B,YAAa,wBAIrB/H,KAAM+2B,KAIZsL,EAAUT,UAAUU,GAAS,GAC7B//B,OAAOgE,iBAAiB,UAAU,WAChC87B,EAAUjuB,eAEX,CAAC2pB,IAIJ,IAAImC,EAAU,GAEd,IAAI,IAAIC,KAAKpC,EAAWqC,gBAAgB,CACtC,IAAIxrB,EAAM,CACRxW,KAAM+hC,EACNn7B,MAAO+4B,EAAWqC,gBAAgBD,IAEpCD,EAAQjxB,KAAK2F,GAEf,IAAIkiB,EAAc,GAEhB,IAAI,IAAIqJ,KAAKpC,EAAW8D,wBAAwB,CAC9C,IAAIjtB,EAAM,CACRxW,KAAM+hC,EACNn7B,MAAO+4B,EAAW8D,wBAAwB1B,IAE5CrJ,EAAY7nB,KAAK2F,GAEnB,IAAIotB,EAAa,GAEjB,IAAI,IAAI7B,KAAKpC,EAAWkE,mBAAmB,CACzC,IAAIrtB,EAAM,CACRxW,KAAM+hC,EACNn7B,MAAO+4B,EAAWkE,mBAAmB9B,IAEvC6B,EAAW/yB,KAAK2F,GAElB,IAAImiB,EAAc,GAElB,IAAI,IAAIoJ,KAAKpC,EAAWqE,wBAAwB,CAC9C,IAAIxtB,GAAM,CACRxW,KAAM+hC,EACNn7B,MAAO+4B,EAAWqE,wBAAwBjC,IAE5CpJ,EAAY9nB,KAAK2F,IAKrB,OAHE2W,2BAAgB,cAEb,CAAC0S,IAEJ,yBAAK95B,UAAS,gBACZ,kBAAC,GAAD,CACAqB,SAAS,EACTD,IAAI,wBACJE,SAAU04B,GACR,yBAAKh6B,UAAU,gBACf,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,aACC,WAAhBysB,GAEA2B,EADAwL,EAAWwE,UAGX/P,EACAuL,EAAWyE,UACXzE,EAAW0E,YAEX,kDAEF,yBAAKt+B,UAAU,eACf,yBAAKA,UAAU,sBAEXiH,MAAM4qB,QAAQ4H,IAEZC,EAAa11B,KAAI,SAACC,EAAMiD,GACtB,OACE,yBACAlH,UAAW,mBAAqBkH,EAAQ,EAAG,SAAU,IACrDlN,IAAKkN,EACLzG,QAAS,WACPs5B,EAAe91B,GACfo2B,EAAgBp2B,EAAKs2B,UACrBJ,GAAoB,KAIpB,2BAAIl2B,EAAKjK,KACT,uBAAGgG,UAAU,gBAAgBiE,EAAKuO,YAa5B,GAAlBupB,EAAQ5xB,QAAqC,GAAtBwoB,EAAYxoB,QAAqC,GAAtByoB,EAAYzoB,QAAoC,GAArB0zB,EAAW1zB,OACxF,GAOA,yBAAKnK,UAAU,iBACb,yBAAKA,UAAU,WACf,yBAAKA,UAAU,WACf,yBAAKA,UAAU,sBAAsBQ,GAAG,wBACxC,yBAAKR,UAAU,yBAAyBQ,GAAG,2BAC3C,yBAAKR,UAAU,yBAAyBQ,GAAG,2BAC3C,yBAAKR,UAAU,8BAA8BQ,GAAG,iCAIpD,kBAAC,GAAD,CACEjF,KAAK,IACLjB,MAAO,2BACPuN,QAASqyB,EACTv8B,KAAM,kBAAIw8B,GAAoB,IAC9Bv8B,SAAU,kBAAIu8B,GAAoB,IAClC5yB,OAAQ,KACRO,gBAAgB,EAChBzJ,MAAO,IACP2B,UAAU,kBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,cAEzC,uBAAG9e,UAAU,aAAb,SAA0B,8BACxBo6B,EAAajwB,QADf,UAGA,wBAAInK,UAAU,eACZ,kBAAC,aAAD,CACAu+B,YAAU,EACVC,cAAe,KAEXpE,EAAajwB,OAAS,EACtBiwB,EAAap2B,KAAI,SAACC,EAAMiD,GACtB,OACA,wBAAIlN,IAAKkN,GACP,uBAAGlH,UAAU,cAAc9B,MAAO,CAChCimB,gBAEElgB,EAAKw6B,MACLx6B,EAAKw6B,MACL,MAGJ,uBAAGnkC,MAAO2J,EAAKmsB,aAAcnsB,EAAKmsB,iBAItC,kBAAC,GAAD,CACApwB,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,YAChBl5B,MAAO,2BACPiB,KAAM,UAYpB,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAAD,EAG7BA,EADFjB,WAEF,MAAO,CAAE23B,UAJwB,EAEjBA,UAEIhU,SAJa,EAENA,WAIdsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWwU,M,OCrvBxD,SAASoF,GAAK1hC,GAAQ,IAEdzB,EAOAyB,EAPAzB,KACA2B,EAMAF,EANAE,KACAyhC,EAKA3hC,EALA2hC,UACA9mB,EAIA7a,EAJA6a,SACAhc,EAGAmB,EAHAnB,KAGAmB,EAFAyvB,aAEAzvB,EADAu9B,SAOJ,OACI,yBACAv6B,UACiB,OAAb2+B,EACQ,OAARpjC,EAAe,eAAwB,SAARA,EAAiB,iBAAkB,gBAC1D,OAARA,EAAe,kBAA2B,SAARA,EAAiB,oBAAqB,mBAE5E2C,MAAO,CACHhB,KAAMA,IAIFrB,GAAQoL,MAAM4qB,QAAQh2B,IACtBA,EAAKsO,OAAS,EACdtO,EAAKmI,KAAI,SAACC,EAAMiD,GACZ,OACA,yBAAKlN,IAAKkN,GACN,yBAAKlH,UAAU,eACf,yBAAKA,UAAU,eAEf,yBAAKA,UAAU,cACf,yBAAKA,UAAU,gBACX,uBAAGA,UAAU,iBACT,0BAAM1F,MAAO2J,EAAK2N,MAAO3N,EAAK2N,MAE1B3N,EAAK26B,UACL,0BACAtkC,MACgB,kBAAZud,EACkB,GAAlB5T,EAAK26B,UAAgB,2BAAQ,2BACX,GAAlB36B,EAAK26B,UAAgB,eAAwB,GAAlB36B,EAAK26B,UAAgB,eAAM,gBAG1C,kBAAZ/mB,EACkB,GAAlB5T,EAAK26B,UAAgB,2BAAQ,2BACX,GAAlB36B,EAAK26B,UAAgB,eAAwB,GAAlB36B,EAAK26B,UAAgB,eAAM,gBAG1D,IAIR,uBACA5+B,UAAU,kBACV1F,MAAO2J,EAAK46B,SACV56B,EAAK46B,cAMnB,IAODH,UCzCf,SAASI,GAAM9hC,GAAO,IAGdzB,EAGAyB,EAHAzB,KACAkxB,EAEAzvB,EAFAyvB,aACA5wB,EACAmB,EADAnB,KALc,EAQgBsnB,oBAAS,GARzB,6BAUlBtnB,EAAOoL,MAAM4qB,QAAQh2B,IAASA,EAAK+T,MAAM/T,EAAKsO,OAAS,GAEvD,IADA,IAAI40B,EAAa,GAAIC,EAAW,GACxB90B,EAAI,EAAGA,EAAI,GAAIA,IACnB60B,EAAWj0B,KACP,yBAAK9K,UAAU,gBAInB,IAAImyB,EAAM,GACVt2B,EAAKoQ,SAAQ,SAAChI,GACV,GAAW,WAAR1I,EAAkB,CACjB,IAAIkV,EAAM,CACNmB,KAAM3N,EAAKg7B,WACXJ,QAAS56B,EAAK46B,SAElB1M,EAAIrnB,KAAK2F,GAEb,GAAW,mBAARlV,EAA0B,CACzB,IAAI2jC,EAAM,GACPj7B,EAAKk7B,YACJD,GAAO,2BAASj7B,EAAKm7B,KAAO,gBAE7Bn7B,EAAKo7B,gBACJH,GAAO,mDAAaj7B,EAAKo7B,cAAgB,gBAE1Cp7B,EAAKq7B,mBACJJ,GAAO,6CAAYj7B,EAAKq7B,iBAAmB,UAE/C,IAAI7uB,EAAM,CACNmB,KAAM3N,EAAKiU,KACX2mB,QAASK,GAEb/M,EAAIrnB,KAAK2F,GAEb,GAAW,iBAARlV,EAAwB,CACvB,IAAI2jC,EAAM,GACS,WAAhBzS,GACIxoB,EAAKm7B,OACJF,GAAO,2BAASj7B,EAAKm7B,KAAO,gBAE7Bn7B,EAAKs7B,SACJL,GAAO,2BAASj7B,EAAKs7B,OAAS,gBAE/Bt7B,EAAKu7B,aACJN,GAAO,2BAASj7B,EAAKu7B,WAAa,gBAEnCv7B,EAAKw7B,SACJP,GAAO,2BAASj7B,EAAKw7B,OAAS,YAI/Bx7B,EAAKm7B,OACJF,GAAO,eAAOj7B,EAAKm7B,KAAO,gBAE3Bn7B,EAAKs7B,SACJL,GAAO,eAAOj7B,EAAKs7B,OAAS,gBAE7Bt7B,EAAKu7B,aACJN,GAAO,eAAOj7B,EAAKu7B,WAAa,gBAEjCv7B,EAAKw7B,SACJP,GAAO,eAAOj7B,EAAKw7B,OAAS,WAGV,UAAvBP,EAAIA,EAAI/0B,OAAS,KAChB+0B,EAAMA,EAAItxB,OAAO,EAAGsxB,EAAI/0B,OAAS,IAErC,IAAIsG,EAAM,CACNmB,KAAM3N,EAAKiU,KACX2mB,QAASK,GAEb/M,EAAIrnB,KAAK2F,GAEb,GAAW,kBAARlV,EACC,GAAmB,WAAhBkxB,EAA0B,CACzB,IAAIhc,EAAM,CACNmB,KAAM3N,EAAKy7B,UACXb,QACI56B,EAAK07B,UACa,GAAlB17B,EAAK26B,UACL,eAAO36B,EAAK07B,WACX17B,EAAK27B,YAAa,eAAO37B,EAAK27B,YAAa,IAC3C,eAAO37B,EAAK07B,UACb,GAEJf,UAAW36B,EAAK26B,WAEpBzM,EAAIrnB,KAAK2F,OACN,CACH,IAAIA,EAAM,CACNmB,KAAM3N,EAAKy7B,UACXb,QACI56B,EAAK07B,UACa,GAAlB17B,EAAK26B,UACL36B,EAAK47B,SAAW,eAAO57B,EAAK07B,UAC5B17B,EAAK47B,UACJ57B,EAAK27B,YAAa,eAAO37B,EAAK27B,YAAa,IAC3C,eAAO37B,EAAK07B,UACb,GAEJf,UAAW36B,EAAK26B,WAEpBzM,EAAIrnB,KAAK2F,GAIjB,GAAW,iBAARlV,EACC,GAAmB,WAAhBkxB,EAA0B,CACzB,IAAIhc,EAAM,CACNmB,KAAM3N,EAAKy7B,UACXb,QAAS56B,EAAK07B,UACdf,UAAW36B,EAAK26B,WAEpBzM,EAAIrnB,KAAK2F,OACN,CACH,IAAIA,EAAM,CACNmB,KAAM3N,EAAKy7B,UACXb,QACI56B,EAAK07B,UACL17B,EAAK47B,SAAW57B,EAAK07B,UACrB,GAEJf,UAAW36B,EAAK26B,WAEpBzM,EAAIrnB,KAAK2F,OAOzB,IAAI8pB,EAAWpI,EACXqF,EAAiB,GAsBrB,OArBA+C,EAAStuB,SAAQ,SAAChI,GACXA,EAAK46B,SACJrH,EAAe1sB,KAAK7G,MAG5BqJ,QAAQC,IAAIgtB,EAAU,gBACpBtzB,MAAM4qB,QAAQ0I,IAAaA,EAASpwB,QACtCowB,EAAStuB,SAAQ,SAAChI,EAAM67B,GACpBA,GAAQ,EACRd,EAASl0B,KACL,kBAAC,GAAD,CACA2hB,aAAcA,EACd5U,SAAUtc,EACVojC,UAAWmB,EAAE,GAAK,EAAG,SAAU,MAC/BvkC,KAAMukC,EAAE,GAAK,EAAG,MAAOA,EAAE,GAAK,EAAG,QAAS,OAC1C5iC,KAAW,GAAL4iC,EAAe,IAAFA,EAAJ,EAAa,IAAFA,EAAQ,GAClCjkC,KAAM,CAACoI,SAMX,yBAAKjE,UAAU,cAEPw3B,GAAkBvwB,MAAM4qB,QAAQ2F,IAChCA,EAAertB,OAAS,EACxB,yBAAKnK,UAAU,oBACVg/B,EACAD,GAGL,kBAAC,GAAD,CAEA7gC,MAAO,CAAC0yB,SAAU,WAAYzzB,IAAK,QACnC7C,MAAO,2BACPiB,KAAM,OAOPujC,UCxNf,SAASiB,GAAa/iC,GAAO,IAErBnB,EACAmB,EADAnB,KAFoB,EAIYsnB,mBAAStnB,GAAY,IAJjC,mBAIjBs9B,EAJiB,UAKxB,OACI,yBAAKn5B,UAAU,0BACX,2BAAOA,UAAU,YAAYsyB,OAAO,IAAI1uB,YAAY,WACpD,2FACA,4BACI,4CACA,wBAAItJ,MAAO6+B,EAAW/I,YAAa+I,EAAW/I,YAAa,MACtD+I,EAAW/I,YAAa+I,EAAW/I,YAAa,MAErD,4CACA,wBAAI91B,MAAO6+B,EAAW5G,OAAQ4G,EAAW5G,OAAQ,MAC5C4G,EAAW5G,OAAQ4G,EAAW5G,OAAQ,MAE3C,wDACA,wBAAIj4B,MAAO6+B,EAAW3G,YAAa2G,EAAW3G,YAAa,MACtD2G,EAAW3G,YAAa2G,EAAW3G,YAAa,MAErD,kDACA,wBAAIl4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,sBAC/D4J,EAAW5J,cAAc,sBAAQ,MAC7B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,sBACtD4J,EAAW5J,cAAc,sBAAQ,MAEzC,wBAAIkD,QAAQ,IAAIv0B,MAAO,CACnBimB,gBAAgB,OAAD,OAASgV,EAAWtJ,UAApB,KACf6C,eAAe,sCACf0G,iBAAkB,YAClBC,mBAAoB,oBAGxB,4BACI,4CACA,wBAAI/+B,MAAO6+B,EAAWxG,YAAawG,EAAWxG,YAAa,MACtDwG,EAAWxG,YAAawG,EAAWxG,YAAa,MAErD,4CACA,wBAAIr4B,MAAO6+B,EAAWxI,OAAQwI,EAAWxI,OAAQ,MAC5CwI,EAAWxI,OAAQwI,EAAWxI,OAAQ,MAE3C,yDACA,wBAAIr2B,MAAO6+B,EAAWvG,YAAauG,EAAWvG,YAAa,MACtDuG,EAAWvG,YAAauG,EAAWvG,YAAa,MAErD,oEACA,wBAAIt4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,wCAC/D4J,EAAW5J,cAAc,wCAAW,MAChC4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,wCACtD4J,EAAW5J,cAAc,wCAAW,OAG5C,4BACI,oEACA,wBAAIsD,QAAQ,IAAIv4B,MAAO6+B,EAAWrG,YAAaqG,EAAWrG,YAAa,MAClEqG,EAAWrG,YAAaqG,EAAWrG,YAAa,MAErD,8DACA,wBAAIx4B,MAAO6+B,EAAWpG,cAAeoG,EAAWpG,cAAe,MAC1DoG,EAAWpG,cAAeoG,EAAWpG,cAAe,MAEzD,wDACA,wBAAIz4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,OAG1C,4BACI,wDACA,wBAAIj1B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,MAEtC,wDACA,wBAAIj1B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,MAEtC,kDACA,wBAAIj1B,MAAO6+B,EAAWnG,WAAYmG,EAAWnG,WAAY,MACpDmG,EAAWnG,WAAYmG,EAAWnG,WAAY,MAEnD,0EACA,wBAAI14B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,8CAC/D4J,EAAW5J,cAAc,8CAAY,MACjC4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,8CACtD4J,EAAW5J,cAAc,8CAAY,OAG7C,4BACI,8DACA,wBAAIj1B,MAAO6+B,EAAW5I,YAAa4I,EAAW5I,YAAa,MACtD4I,EAAW5I,YAAa4I,EAAW5I,YAAa,MAErD,4CACA,wBAAIsC,QAAQ,IAAIv4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,gBAC3E4J,EAAW5J,cAAc,gBAAO,MAC5B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,gBACtD4J,EAAW5J,cAAc,gBAAO,OAGxC,4BACI,wDACA,wBAAIj1B,MAAO6+B,EAAWlG,UAAWkG,EAAWlG,UAAW,MAClDkG,EAAWlG,UAAWkG,EAAWlG,UAAW,MAEjD,wDACA,wBAAI34B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,MAEtC,4CACA,wBAAIj1B,MAAO6+B,EAAWjG,UAAWiG,EAAWjG,UAAW,MAClDiG,EAAWjG,UAAWiG,EAAWjG,UAAW,MAEjD,4CACA,wBAAI54B,MAAO6+B,EAAWn5B,UAAWm5B,EAAWn5B,UAAW,MAClDm5B,EAAWn5B,UAAWm5B,EAAWn5B,UAAW,OAGrD,4BACI,wDACA,wBAAI1F,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,MAEtC,wDACA,wBAAIj1B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,MAEtC,wDACA,wBAAIj1B,MAAO6+B,EAAWhG,YAAagG,EAAWhG,YAAa,MACtDgG,EAAWhG,YAAagG,EAAWhG,YAAa,MAErD,wDACA,wBAAIN,QAAQ,IAAIv4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC3E4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,QAI9C,2BAAOvvB,UAAU,cAAcsyB,OAAO,IAAI1uB,YAAY,WAClD,yEACA,4BACI,kDACA,wBAAIivB,QAAQ,IAAIv4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,sBAC3E4J,EAAW5J,cAAc,sBAAQ,MAC5B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,sBACvD4J,EAAW5J,cAAc,sBAAQ,MAErC,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC3E4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,OAG1C,4BACI,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAO6+B,EAAW/F,YAAa+F,EAAW/F,YAAa,MACjE+F,EAAW/F,YAAa+F,EAAW/F,YAAa,MAEtD,wDACA,wBAAI94B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,MAEtC,wDACA,wBAAIj1B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC/D4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,OAG1C,4BACI,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC3E4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,MAEtC,wDACA,wBAAIsD,QAAQ,IAAIv4B,MAAO6+B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BAC3E4J,EAAW5J,cAAc,4BAAS,MAC9B4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACtD4J,EAAW5J,cAAc,4BAAS,QAI9C,2BAAOvvB,UAAU,mBAAmBsyB,OAAO,IAAI1uB,YAAY,WACvD,yEACA,4BACI,wBAAIvF,MAAM,OAAV,wCACA,wBAAIA,MAAM,MAAM86B,EAAW9F,YAAa8F,EAAW9F,YAAa,MAChE,wBAAIh1B,MAAM,OAAV,oDACA,wBAAIA,MAAM,MAAM86B,EAAW7F,kBAAmB6F,EAAW7F,kBAAmB,MAC5E,wBAAIj1B,MAAM,OAAV,wCACA,wBAAIA,MAAM,MAAM86B,EAAW5F,kBAAmB4F,EAAW5F,kBAAmB,MAC5E,wBAAIl1B,MAAM,OAAV,4EACA,wBAAIA,MAAM,MAAM86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4EACpE4J,EAAW5J,cAAc,4EAAiB,OAE/C,4BACI,wBAAIlxB,MAAM,OAAV,4BACA,wBAAIA,MAAM,MAAM86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACpE4J,EAAW5J,cAAc,4BAAS,MACnC,wBAAIlxB,MAAM,OAAV,0DACA,wBAAIA,MAAM,MAAM86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,0DACpE4J,EAAW5J,cAAc,0DAAc,MACxC,wBAAIlxB,MAAM,OAAV,4BACA,wBAAIA,MAAM,MAAM86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACpE4J,EAAW5J,cAAc,4BAAS,MACnC,wBAAIlxB,MAAM,OAAV,oDACA,wBAAIA,MAAM,MAAM86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,oDACpE4J,EAAW5J,cAAc,oDAAa,OAE3C,4BACI,wBAAIlxB,MAAM,OAAV,wCACA,wBAAIA,MAAM,MAAM86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,wCACpE4J,EAAW5J,cAAc,wCAAW,MACrC,wBAAIlxB,MAAM,OAAV,kCACA,wBAAIw0B,QAAQ,KAAKsG,EAAW5J,eAAiB4J,EAAW5J,cAAc,kCACrE4J,EAAW5J,cAAc,kCAAU,QAG5C,2BAAOvvB,UAAU,eAAesyB,OAAO,IAAI1uB,YAAY,WACnD,6DACA,4BACI,wBAAIvF,MAAM,OAAV,wCACA,wBAAIA,MAAM,OAAV,wCACA,wBAAIA,MAAM,OAAV,4BACA,wBAAIA,MAAM,OAAV,4BACA,wBAAIA,MAAM,OAAV,4BACA,wBAAIA,MAAM,OAAV,mCAGA4I,MAAM4qB,QAAQsH,EAAWrI,aACzBqI,EAAWrI,WAAW9sB,KAAI,SAACC,EAAMiD,GAC7B,OACI,wBAAIlN,IAAKkN,GACL,wBAAI7I,MAAM,OAAO4F,EAAKgtB,kBAAmBhtB,EAAKgtB,kBAAmB,MACjE,wBAAI5yB,MAAM,OAAO4F,EAAKktB,gBAAiBltB,EAAKktB,gBAAiB,MAC7D,wBAAI9yB,MAAM,OAAO4F,EAAK+sB,OAAQ/sB,EAAK+sB,OAAQ,MAC3C,wBAAI3yB,MAAM,OAAO4F,EAAK8sB,gBAAiB9sB,EAAK8sB,gBAAiB,MAC7D,wBAAI1yB,MAAM,OAAO4F,EAAKmtB,KAAMntB,EAAKmtB,KAAM,MACvC,wBAAI/yB,MAAM,OAAO4F,EAAKitB,UAAWjtB,EAAKitB,UAAW,WAOrE,2BAAOlxB,UAAU,iBAAiBsyB,OAAO,IAAI1uB,YAAY,WACrD,+EACA,4BACI,wBAAIvF,MAAM,OAAV,gDACA,wBAAIA,MAAM,OAAO86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,0DACrE4J,EAAW5J,cAAc,0DAAc,MACxC,wBAAIlxB,MAAM,OAAV,8CACA,wBAAIA,MAAM,OAAO86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,8CACrE4J,EAAW5J,cAAc,8CAAY,MACtC,wBAAIlxB,MAAM,OAAV,oDACA,wBAAIA,MAAM,OAAO86B,EAAW5J,eAAiB4J,EAAW5J,cAAc,oDACrE4J,EAAW5J,cAAc,oDAAa,QAI3CtoB,MAAM4qB,QAAQsH,EAAWpJ,eACzBoJ,EAAWpJ,aAAa/rB,KAAI,SAACC,EAAMiD,GAC/B,OACI,2BAAOlH,UAAU,cAAcsyB,OAAO,IAAI1uB,YAAY,WAErC,GAATsD,EACA,iGACA,GAEJ,4BACI,4CACA,4BAAKjD,EAAKhK,KAAMgK,EAAKhK,KAAM,MAC3B,4CACA,4BAAKgK,EAAK+rB,aAAc/rB,EAAK+rB,aAAc,MAC3C,oEACA,4BAAK/rB,EAAKwsB,WAAYxsB,EAAKwsB,WAAY,MACvC,oEACA,4BAAKxsB,EAAKusB,UAAWvsB,EAAKusB,UAAW,OAEzC,4BACI,4CACA,4BAAKvsB,EAAK0sB,OAAQ1sB,EAAK0sB,OAAQ,MAC/B,8DACA,4BAAK1sB,EAAKysB,WAAYzsB,EAAKysB,WAAY,MACvC,8DACA,4BAAKzsB,EAAKssB,YAAatsB,EAAKssB,YAAa,MACzC,wDACA,4BAAKtsB,EAAKisB,IAAKjsB,EAAKisB,IAAK,OAE7B,4BACI,kDACA,wBAAI2C,QAAQ,KAAK5uB,EAAKqsB,QAASrsB,EAAKqsB,QAAS,MAC7C,wDACA,4BAAKrsB,EAAKgsB,YAAahsB,EAAKgsB,YAAa,MACzC,4CACA,4BAAKhsB,EAAK2sB,SAAU3sB,EAAK2sB,SAAU,WASvD,2BAAO5wB,UAAU,gBAAgBsyB,OAAO,IAAI1uB,YAAY,WACpD,yEACA,4BACI,wDACA,4BAAKu1B,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACzD4J,EAAW5J,cAAc,4BAAS,MACnC,wDACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACzD4J,EAAW5J,cAAc,4BAAS,MACnC,8DACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,kCACzD4J,EAAW5J,cAAc,kCAAU,MACpC,oEACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,wCACzD4J,EAAW5J,cAAc,wCAAW,OAEzC,4BACI,0EACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,8CACzD4J,EAAW5J,cAAc,8CAAY,MACtC,wDACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACzD4J,EAAW5J,cAAc,4BAAS,MACnC,oEACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,wCACzD4J,EAAW5J,cAAc,wCAAW,MACrC,wDACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACzD4J,EAAW5J,cAAc,4BAAS,OAEvC,4BACI,4FACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,gEACzD4J,EAAW5J,cAAc,gEAAe,MACzC,4FACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,gEACzD4J,EAAW5J,cAAc,gEAAe,MACzC,wBAAIsD,QAAQ,KAAZ,8IACA,4BAAKsG,EAAW5J,eAAiB4J,EAAW5J,cAAc,8IACzD4J,EAAW5J,cAAc,8IAA4B,OAE1D,4BACI,8DACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,kCACzD4J,EAAW5J,cAAc,kCAAU,MACpC,0EACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,8CACzD4J,EAAW5J,cAAc,8CAAY,MACtC,wBAAIsD,QAAQ,KAAZ,0DACA,4BAAKsG,EAAW5J,eAAiB4J,EAAW5J,cAAc,0DACzD4J,EAAW5J,cAAc,0DAAc,OAE5C,4BACI,4FACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,gEACzD4J,EAAW5J,cAAc,gEAAe,MACzC,wBAAIsD,QAAQ,KAAZ,gEACA,wBAAIA,QAAQ,KAAKsG,EAAW5J,eAAiB4J,EAAW5J,cAAc,gEACrE4J,EAAW5J,cAAc,gEAAe,OAE7C,4BACI,oEACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,wCACzD4J,EAAW5J,cAAc,wCAAW,MACrC,oEACA,4BAAK4J,EAAW5J,eAAiB4J,EAAW5J,cAAc,wCACzD4J,EAAW5J,cAAc,wCAAW,MACrC,wDACA,wBAAIsD,QAAQ,KAAKsG,EAAW5J,eAAiB4J,EAAW5J,cAAc,4BACrE4J,EAAW5J,cAAc,4BAAS,SAOpCwQ,U,gBC2JAz2B,IC5gBTgQ,GAAeiR,GAAfjR,WACN,SAAS0mB,GAAQhjC,EAAOuD,GAAM,IAAD,QAKzB0/B,EAeEjjC,EAfFijC,KAEAC,GAaEljC,EAdF+lB,WAcE/lB,EAbFkjC,kBAGAC,GAUEnjC,EAZFskB,SAYEtkB,EAXFukB,UAWEvkB,EAVFmjC,YACA1T,EASEzvB,EATFyvB,aAXyB,EAoBvBzvB,EARF2iB,SAAWW,EAZc,EAYdA,OAAQN,EAZM,EAYNA,SACnBoO,EAOEpxB,EAPFoxB,aACAC,EAMErxB,EANFqxB,aACAmL,EAKEx8B,EALFw8B,QACArL,EAIEnxB,EAJFmxB,YACAiS,EAGEpjC,EAHFojC,aAEArM,GACE/2B,EAFF62B,UAEE72B,EADF+2B,cAnByB,EAwBa5Q,oBAAS,GAxBtB,mBAwBpBkd,EAxBoB,aAyBeld,oBAAS,IAzBxB,gCA0BSA,oBAAS,IA1BlB,gCA2ByBA,oBAAS,IA3BlC,gCA4BWA,mBAAS,KA5BpB,mBA4BpBmd,EA5BoB,KA4BPC,EA5BO,OA6BuBpd,mBAAS,IA7BhC,mBA6BpBqd,EA7BoB,KA6BDC,EA7BC,OA+Batd,mBAAS,IA/BtB,mBA+BpBud,EA/BoB,KA+BNC,EA/BM,OAiCexd,mBAAyB,WAAhBsJ,EAA2B,SAAU,QAjC7D,mBAiCpBmU,EAjCoB,KAiCLC,EAjCK,OAmCG1d,oBAAS,GAnCZ,mBAmCpBtb,EAnCoB,KAmCXi5B,EAnCW,OAoCe3d,oBAAS,GApCxB,oBAoCpB4d,GApCoB,MAoCLC,GApCK,SAqCe7d,oBAAS,GArCxB,qBAqCpB8d,GArCoB,MAqCLC,GArCK,SAuCS/d,mBAAS,IAvClB,qBAuCpBgW,GAvCoB,MAuCRgI,GAvCQ,SAyCOhe,mBAAS,IAzChB,qBAyCpBie,GAzCoB,MAyCTC,GAzCS,SA2CSle,mBAAS,IA3ClB,qBA2CpBme,GA3CoB,MA2CRC,GA3CQ,SA6COpe,mBAAS,IA7ChB,qBA6CpBqe,GA7CoB,MA6CTC,GA7CS,SA8Cate,oBAAS,GA9CtB,qBA8CpBue,GA9CoB,MA8CNC,GA9CM,SAiDyBxe,mBAAS,IAjDlC,qBAiDpBye,GAjDoB,MAiDAC,GAjDA,MAsFrBC,GAAavZ,iBAAO,MACpBwZ,GAAiBxZ,iBAAO,MAExByZ,IADazZ,iBAAO,MACLA,iBAAO,OACtB0Z,GAAiB1Z,iBAAO,MAKxB2Z,IAJqB3Z,iBAAO,MAEbA,iBAAO,MAENA,iBAAO,OACvB4Z,GAAY5Z,iBAAO,MAEnB6Z,IADa7Z,iBAAO,MACLA,iBAAO,OAItB8Z,IAFkB9Z,iBAAO,MAERA,iBAAO,OACxB+Z,GAAiB/Z,iBAAO,MACxBga,GAAuBha,iBAAO,MAC9Bia,GAAuBja,iBAAO,MAC9Bka,GAAiBla,iBAAO,MAExBma,IADYna,iBAAO,MACPA,iBAAO,OACnBoa,GAAiBpa,iBAAO,MACxBqa,GAAmBra,iBAAO,MAC1Bsa,GAAeta,iBAAO,MAEtBua,IADiBva,iBAAO,MACPA,iBAAO,OAExBwa,IADcxa,iBAAO,MACJA,iBAAO,OACxBya,GAAgBza,iBAAO,MACvB0a,GAAgB1a,iBAAO,MACvB2a,GAAiB3a,iBAAO,MACxB4a,GAAkB5a,iBAAO,MACzB6a,GAAc7a,iBAAO,MACrB8a,GAAc9a,iBAAO,MACrB+a,GAAY/a,iBAAO,MACnBgb,GAAchb,iBAAO,MAErBib,GAAYjb,iBAAO,MAEnBkb,IADgBlb,iBAAO,MACFA,iBAAO,OAC5Bmb,GAAoBnb,iBAAO,MAC3Bob,GAAiBpb,iBAAO,MACxBqb,GAAarb,iBAAO,MAEpBsb,GAAetb,iBAAO,MACtBub,GAAevb,iBAAO,MACtBwb,GAAkBxb,iBAAO,MACzByb,GAAazb,iBAAO,MACpB0b,GAAiB1b,iBAAO,MACxB2b,GAAe3b,iBAAO,MActB4b,IAbU5b,iBAAO,MACCA,iBAAO,MACRA,iBAAO,MACfA,iBAAO,MACAA,iBAAO,MACXA,iBAAO,MAEIA,iBAAO,MACTA,iBAAO,MAChBA,iBAAO,MACEA,iBAAO,MAClBA,iBAAO,MACFA,iBAAO,MACNA,iBAAO,OAEvB6b,GAAkB7b,iBAAO,MACzB8b,GAAY9b,iBAAO,MACnB+b,GAAgB/b,iBAAO,MACvBgc,GAAahc,iBAAO,MACpBic,GAAajc,iBAAO,MAEpBkc,IADclc,iBAAO,MACRA,iBAAO,OAEpBmc,GAAcnc,iBAAO,MACrBoc,GAAgBpc,iBAAO,MACvBqc,GAAiBrc,iBAAO,MACxBsc,GAActc,iBAAO,MACrBuc,GAAWvc,iBAAO,MAClBwc,GAAYxc,iBAAO,MACnByc,GAAezc,iBAAO,MACtB0c,GAAiB1c,iBAAO,MACxB2c,GAAc3c,iBAAO,MACrB4c,GAAgB5c,iBAAO,MACvB6c,GAAe7c,iBAAO,MACtB8c,GAAmB9c,iBAAO,MAC1B+c,GAAgB/c,iBAAO,MACvBgd,GAAahd,iBAAO,MACpBid,GAAiBjd,iBAAO,MACxBkd,GAAcld,iBAAO,MACrBmd,GAAand,iBAAO,MACpBod,GAAapd,iBAAO,MACpBqd,GAAcrd,iBAAO,MACrBsd,GAAoBtd,iBAAO,MAQ3Bud,IAPiBvd,iBAAO,MAObA,iBAAO,OAClBwd,GAAcxd,iBAAO,MACrByd,GAAiBzd,iBAAO,MACNA,iBAAO,MAM/BnB,2BAAgB,WAEd,IAAI+K,EAAM,GAERA,EADiB,WAAhB1F,EACK,CACJ,CAAElsB,IAAKwlC,GAAY5c,QAASlvB,KAAM,4BAClC,CAAEsG,IAAKylC,GAAe7c,QAASlvB,KAAM,6BAGjC,CACJ,CAAEsG,IAAKulC,GAAS3c,QAASlvB,KAAM,4BAC/B,CAAEsG,IAAKylC,GAAe7c,QAASlvB,KAAM,6BAGb,oBAArBimC,GACLA,EAAiB/N,KAElB,IAGH/K,2BAAgB,WACd,GAAmB,WAAhBqF,GAA8B2B,EAAjC,CAGAuT,IAAgB,GAChB,IAAI/3B,EAAM0P,GAAa,4BAEL,WAAhBmT,EACA,EACgB,WAAhBA,EACA2B,EACA,EACAC,EACA,EACA,EACA,GAEF,eAAiC,WAAhB5B,EAA0BnM,EAAQ,IACnD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACfhG,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACe,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChC4lC,GAAa/wB,EAAO7U,MAEtB8lC,IAAgB,SAEjB,CAAClV,EAAc4B,EAAcD,EAAc9N,EAAQN,EAAUwZ,IAEhEpS,2BAAgB,WACd,GAAmB,WAAhBqF,EAAH,CAGA,IAAI7iB,EAAM0P,GAAa,iCAAmCgH,EAC1DtG,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9B6U,EAAO7U,KAAKi1B,WAAa9jB,KAAKS,MAAMiD,EAAO7U,KAAK+4B,QAChDlkB,EAAO7U,KAAKk0B,aAAe/iB,KAAKS,MAAMiD,EAAO7U,KAAKg5B,UAClDnkB,EAAO7U,KAAK0zB,cAAgBviB,KAAKS,MAAMiD,EAAO7U,KAAKyzB,WAChDroB,MAAM4qB,QAAQnhB,EAAO7U,KAAKi1B,aAC3BuQ,GAAa3wB,EAAO7U,KAAKi1B,YAExB7pB,MAAM4qB,QAAQnhB,EAAO7U,KAAKk0B,eAC3BwR,GAAc7wB,EAAO7U,KAAKk0B,cAG5BoR,GAAczwB,EAAO7U,aAG5B,CAACykB,EAAQmM,EAAc+M,IAE1BpS,2BAAgB,WACd,GAAmB,WAAhBqF,GAA6B2B,EAAa,CAC3C,IAAIxkB,EAAM0P,GAAa,qCACvB0G,EACA,YAAcqO,EACd,YAAcD,EACdpU,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9B0kC,EAAe7vB,EAAO7U,MACtB4kC,EAAqB/vB,EAAO7U,UAKpC+N,EAAM0P,GAAa,0CAA4C8U,EAC/DpU,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACe,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,QAC9CgmC,GAAsBnxB,EAAO7U,MAC7BukC,EAAa1vB,EAAO7U,aAIzB,CAAC4wB,EAAcnM,EAAQ8N,EAAcC,EAAc4R,EAAMzG,EAASzF,IAErE3M,2BAAgB,WACd,GAAmB,WAAhBqF,EAAH,CAGA,IAAI3M,EAAWmgB,GAAQA,EAAKp/B,MAAOmM,KAAKS,MAAMwyB,EAAKp/B,OAAQ,GACvDolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAI9lB,EAAM0P,qDACMgH,EAChB,YAAc8N,EACd,YAAc8X,EACd,aAAelmB,EACf,WAAaF,EAASqmB,OALZ7sB,sBAOGwG,EAASsmB,UAAWtmB,EAASsmB,UAAUx4B,OAAO,EAAG,IAAK,IACnE,SAAWkS,EAASumB,QAASvmB,EAASumB,QAAQz4B,OAAO,EAAG,IAAK,IAC7DoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B8kC,EAAgBjwB,EAAO7U,YAG9B,CAACokC,EAAM7R,EAAcC,EAAc5B,EAAcnM,EAAQkZ,IAE5D,IAAM8M,GAAmB,SAAC/qC,EAAM2L,GAC9B,IAAIirB,EAAM,GACViP,GAAUn1B,SAAQ,SAAChI,GACjBkuB,EAAIrnB,KAAK7G,MAEA,OAAR1I,GACD42B,EAAIrnB,KAAK,CACPulB,WAAY,IAGL,UAAR90B,GACD42B,EAAIC,OAAOlrB,EAAO,GAEpBm6B,GAAalP,IAGToU,GAAoB,SAAChrC,EAAM2L,GAC/B,IAAIirB,EAAM,GACVmP,GAAWr1B,SAAQ,SAAChI,GAClBkuB,EAAIrnB,KAAK7G,MAEA,OAAR1I,GACD42B,EAAIrnB,KAAK,CACPulB,WAAY,IAGL,UAAR90B,GACD42B,EAAIC,OAAOlrB,EAAO,GAEpBq6B,GAAcpP,IA8LhB,OACE,yBAAKnyB,UAAU,UAAUQ,GAAG,gBAER,WAAhBisB,GAA6C,WAAhBA,EAC7B,6BACE,kBAAC,GAAD,CACAwL,QAAS,2BACT13B,IAAKulC,GACL/N,WACkB,WAAhBtL,GAEI,yBAAKzsB,UAAU,qBACb,0BAAMS,QAAS,WACVmhC,GAAmBz3B,OAAS,EAC7BgkB,EAAY,SAEZR,KAAQ0E,KAAK,uDAKbuP,GAAmBz3B,OAAS,EAC5B,uBAAGnK,UAAU,YACb,GAXJ,wCAmBA,0BACAA,UAAU,SACVS,QAAS,kBAAIqgC,GAAW,KAFxB,qDAURnL,SAAS,GAET,kBAAC,GAAD,CACE95B,KAAMwkC,EACN5T,aAAcA,EACd0T,WAAYA,EACZ/R,aAAcA,EACdC,aAAcA,EACdkL,YAAa0G,EACbzG,QAASA,EACToI,mBAAoBA,MAGxB,kBAAC,GAAD,CACAjM,QAAS+L,GACTzJ,QAAS,2BACT13B,IAAKylC,IAEH,kBAAC,GAAD,CACAzqC,KAAK,UACLkxB,aAAcA,EACd5wB,KAAM2lC,OAIR,6BACE,kBAAC,GAAD,CACAvJ,QAAS,2BACT13B,IAAKwlC,GACLhO,WACE,yBAAK/3B,UAAU,qBACb,0BAAMS,QAAS,kBAAIygC,IAAiB,KAClC,uBAAGlhC,UAAU,cADf,6BAMJ21B,SAAS,GACP,kBAAC,GAAD,CACAwD,WAAYA,MAGd,kBAAC,GAAD,CAAKxD,QAAS+L,GAAczJ,QAAS,2BAAQ13B,IAAKylC,IAChD,kBAAC,GAAD,CACAzqC,KAAK,UACLkxB,aAAcA,EACd5wB,KAAM2lC,OAKZ,kBAAC,GAAD,CACEjmC,KAAK,IACLjB,MAAM,uCACNuN,QAASo5B,GACTrjC,SAAU,kBAAIsjC,IAAiB,IAC/B35B,OAAQ,KACRlJ,MAAO,KACP2B,UAAU,gBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,IAEzC,kBAAC,IAAD,CACAyf,YAAU,EACVC,cAAe,KACf,yBAAKx+B,UAAU,kBACb,6BACE,kBAAC,GAAD,CACA1F,MAAM,2BACNiB,KAAK,QACLM,KAAMs9B,GAAW/I,YACjB/xB,MAAM,MACNw6B,SAAUiJ,GACVlJ,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,eACNiB,KAAK,OACLs9B,SAAUsJ,GACVtmC,KAAMs9B,GAAW5G,OACjB3N,KAAM,CAAC,SAAK,UACZvmB,MAAM,MACNu6B,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUoJ,GACVpmC,KAAMs9B,GAAW3G,YACjBoG,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,qBACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUsL,GACVtoC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,sBAC3DqJ,WAAY,OAGd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,eACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUqK,GACVrnC,KAAMs9B,GAAWxG,YACjBiG,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,eACNiB,KAAK,OACL8C,MAAM,MACNumB,KAAM,CAAC,eAAM,qBAAO,eAAM,eAAM,2BAAQ,eAAM,eAAM,eAAM,qBAAO,qBAAO,eAAM,eAAM,eAAM,eAAM,qBAChG,qBAAO,2BAAQ,eAAM,eAAM,qBAAO,eAAM,eAAM,qBAAO,qBAAO,eAAM,qBAAO,qBAAO,qBAAO,iCACvF,eAAM,2BAAQ,qBAAO,eAAM,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,2BAAQ,eAAM,iCAC1F,2BAAQ,2BAAQ,qBAAO,qBAAO,qBAAO,eAAM,2BAAQ,qBAAO,2BAAQ,qBAAO,qBAAO,qBAAO,qBAAO,wCAC9FiU,SAAU6J,GACV7mC,KAAMs9B,GAAWxI,OACjBiI,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,4BACNiB,KAAK,OACL8C,MAAM,MACNumB,KAAM,CAAC,eAAM,eAAM,qBAAO,eAAM,eAAM,eAAM,eAAM,eAAM,4BACxDiU,SAAU8J,GACV9mC,KAAMs9B,GAAWvG,YACjBgG,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,uCACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUkL,GACVloC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,wCAC3DqJ,WAAY,OAGd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,uCACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUyJ,GACVzmC,KAAMs9B,GAAWrG,YACjB8F,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,iCACNiB,KAAK,SACL8C,MAAM,MACNw6B,SAAU+J,GACV/mC,KAAMs9B,GAAWpG,cACjB6F,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAU+K,GACV/nC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DqJ,WAAY,OAGd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAU8L,GACV9oC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DqJ,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAU+L,GACV/oC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DqJ,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,qBACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUqJ,GACVrmC,KAAMs9B,GAAWnG,WACjB4F,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,6CACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUuL,GACVvoC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,8CAC3DqJ,WAAY,OAGd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,iCACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUkJ,GACVlmC,KAAMs9B,GAAW5I,YACjBqI,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,eACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAU2K,GACV3nC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,gBAC3DqJ,WAAY,OAGd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUgK,GACVhnC,KAAMs9B,GAAWlG,UAAWkG,GAAWlG,UAAW,KAClD2F,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAU0K,GACV1nC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DqJ,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,eACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUuJ,GACVvmC,KAAMs9B,GAAWjG,UACjB0F,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,eACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUmJ,GACVnmC,KAAMs9B,GAAWn5B,UACjB44B,WAAY,OAGd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAU+M,GACV/pC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DqJ,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAU8K,GAEV9nC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DqJ,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,OACL8C,MAAM,MACNumB,KAAM,CAAC,eAAM,gBACbiU,SAAUiK,GACVjnC,KAAMs9B,GAAWhG,YACjByF,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MAENw6B,SAAU0M,GACV1pC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DqJ,WAAY,OAGd,yBAAK54B,UAAU,eAEf,yBAAK9B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,qBACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUmL,GACVnoC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,sBAC3DqJ,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUoL,GACVpoC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DqJ,WAAY,OAGd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUwJ,GACVxmC,KAAMs9B,GAAW/F,YACjBwF,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAU4M,GACV5pC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DqJ,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUoK,GACVpnC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DqJ,WAAY,OAGd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUiM,GACVjpC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DqJ,WAAY,MAEZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACNw6B,SAAUgL,GACVhoC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DqJ,WAAY,OAGd,yBAAK54B,UAAU,eAEf,yBAAK9B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,uCACNiB,KAAK,SACLs9B,SAAU4J,GACV5mC,KAAMs9B,GAAW9F,YACjBh1B,MAAM,MACNq6B,WAAY,IACZE,WAAY,KAEZ,kBAAC,GAAD,CACAt+B,MAAM,mDACNiB,KAAK,SACLs9B,SAAU0J,GACV1mC,KAAMs9B,GAAW7F,kBACjBj1B,MAAM,MACNq6B,WAAY,IACZE,WAAY,KAEZ,kBAAC,GAAD,CACAt+B,MAAM,uCACNiB,KAAK,SACLs9B,SAAU2J,GACV3mC,KAAMs9B,GAAW5F,kBACjBl1B,MAAM,MACNq6B,WAAY,IACZE,WAAY,KAEZ,kBAAC,GAAD,CACAt+B,MAAM,2EACNiB,KAAK,SACLs9B,SAAUgM,GACVhpC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4EAC3DlxB,MAAM,MACNq6B,WAAY,IACZE,WAAY,MAGd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,2BACNiB,KAAK,SACLs9B,SAAU4L,GACV5oC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DlxB,MAAM,MACNq6B,WAAY,IACZE,WAAY,KAEZ,kBAAC,GAAD,CACAt+B,MAAM,yDACNiB,KAAK,SACLs9B,SAAUkK,GACVlnC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,0DAC3DlxB,MAAM,MACNq6B,WAAY,IACZE,WAAY,KAEZ,kBAAC,IAAD,GACAt+B,MAAM,uCACNiB,KAAK,SACLM,KAAK,eACLwC,MAAM,MACNw6B,SAAUoM,IALV,sBAMM9L,GAAW5J,eAAiB4J,GAAW5J,cAAc,yCAN3D,4BAOY,KAPZ,4BAQY,IARZ,IAUA,kBAAC,IAAD,GACAj1B,MAAM,mDACNiB,KAAK,SACLM,KAAK,eACLwC,MAAM,MACNw6B,SAAUkM,IALV,sBAMM5L,GAAW5J,eAAiB4J,GAAW5J,cAAc,qDAN3D,4BAOY,KAPZ,4BAQY,IARZ,KAWF,yBAAKrxB,MAAO,CAACsoC,UAAW,KACtB,kBAAC,IAAD,GACAlsC,MAAM,uCACNiB,KAAK,SACLM,KAAK,eACLwC,MAAM,MACNw6B,SAAUuM,IALV,sBAMMjM,GAAW5J,eAAiB4J,GAAW5J,cAAc,yCAN3D,4BAOY,KAPZ,4BAQY,IARZ,IAUA,kBAAC,IAAD,GACAj1B,MAAM,iCACNiB,KAAK,QACLM,KAAK,eACLwC,MAAM,MACNw6B,SAAUwL,IALV,sBAMMlL,GAAW5J,eAAiB4J,GAAW5J,cAAc,mCAN3D,4BAOY,KAPZ,4BAQY,KARZ,KAWF,yBAAKvvB,UAAU,eAEf,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,gBAAf,6BAGA,yBAAKA,UAAU,2BAA2B9B,MAAO,CAACG,MAA4B,GAApB+iC,GAAUj3B,OAAa,IAAK,KAElFi3B,GAAUp9B,KAAI,SAACC,EAAMiD,GACnB,OACE,yBAAKlH,UAAU,cAAchG,IAAKkN,GAChC,uBAAGlH,UAAU,aAAaS,QAAS,kBAAI6lC,GAAiB,SAAUp/B,MAClE,6BACE,kBAAC,GAAD,CACA5M,MAAM,uCACNiB,KAAK,QACL8C,MAAM,MACN2B,UAAU,kBACVnE,KAAMoI,EAAKktB,gBACXyH,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,uCACNiB,KAAK,QACL8C,MAAM,MACN2B,UAAU,oBACVnE,KAAMoI,EAAKgtB,kBACX2H,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACN2B,UAAU,SACVnE,KAAMoI,EAAK+sB,OACX4H,WAAY,OAEd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACN2B,UAAU,kBACVnE,KAAMoI,EAAK8sB,gBACX6H,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,QACL8C,MAAM,MACN2B,UAAU,OACVnE,KAAMoI,EAAKmtB,KACXwH,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,iCACNiB,KAAK,QACL8C,MAAM,MACN2B,UAAU,YACVnE,KAAMoI,EAAKitB,UACX0H,WAAY,YAOxB,yBACA54B,UAAU,aACVS,QAAS,kBAAI6lC,GAAiB,QAC9BpoC,MAAO,CAACs1B,OAA6B,GAApB4N,GAAUj3B,OAAa,IAAK,KAH7C,yCAOF,yBAAKnK,UAAU,eAEf,6BACE,kBAAC,GAAD,CACA1F,MAAM,+CACNiB,KAAK,QACLm9B,WAAY,IACZG,SAAUgN,GACVhqC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,0DAC3DqJ,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,6CACNiB,KAAK,QACLm9B,WAAY,IACZG,SAAUyL,GACVzoC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,8CAC3DqJ,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,mDACNiB,KAAK,QACLm9B,WAAY,IACZG,SAAUmM,GACVnpC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,oDAC3DqJ,WAAY,OAEd,yBAAK54B,UAAU,eAEf,yBAAKA,UAAU,eACb,yBAAKA,UAAU,gBAAf,iEAGA,yBAAKA,UAAU,iCAAiC9B,MAAO,CAACG,MAA6B,GAArBijC,GAAWn3B,OAAa,IAAK,KAEzFm3B,GAAWt9B,KAAI,SAACC,EAAMiD,GACpB,OACE,yBAAKlH,UAAU,cAAchG,IAAKkN,GAChC,uBAAGlH,UAAU,aAAaS,QAAS,kBAAI8lC,GAAkB,SAAUr/B,MACnE,6BACE,kBAAC,GAAD,CACA5M,MAAM,eACNiB,KAAK,QACLyE,UAAU,OACVnE,KAAMoI,EAAKhK,KACXy+B,WAAY,IACZE,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,eACNiB,KAAK,QACLyE,UAAU,eACVnE,KAAMoI,EAAK+rB,aACX0I,WAAY,IACZE,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,uCACNiB,KAAK,QACLyE,UAAU,aACVnE,KAAMoI,EAAKwsB,WACXiI,WAAY,IACZE,WAAY,OAEd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,uCACNiB,KAAK,QACLyE,UAAU,YACVnE,KAAMoI,EAAKusB,UACXkI,WAAY,IACZE,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,eACNiB,KAAK,OACLyE,UAAU,SACV4kB,KAAM,CAAC,eAAM,qBAAO,eAAM,eAAM,2BAAQ,eAAM,eAAM,eAAM,qBAAO,qBAAO,eAAM,eAAM,eAAM,eAAM,qBAChG,qBAAO,2BAAQ,eAAM,eAAM,qBAAO,eAAM,eAAM,qBAAO,qBAAO,eAAM,qBAAO,qBAAO,qBAAO,iCACvF,eAAM,2BAAQ,qBAAO,eAAM,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,2BAAQ,eAAM,iCAC1F,2BAAQ,2BAAQ,qBAAO,qBAAO,qBAAO,eAAM,2BAAQ,qBAAO,2BAAQ,qBAAO,qBAAO,qBAAO,qBAAO,wCAC9F/oB,KAAMoI,EAAK0sB,OACX+H,WAAY,IACZE,WAAY,OAEd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,iCACNiB,KAAK,SACLyE,UAAU,aACVnE,KAAMoI,EAAKysB,WACXgI,WAAY,IACZE,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,iCACNiB,KAAK,QACLyE,UAAU,cACVnE,KAAMoI,EAAKssB,YACXmI,WAAY,IACZE,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,QACLyE,UAAU,MACVnE,KAAMoI,EAAKisB,IACXwI,WAAY,IACZE,WAAY,OAEd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,qBACNiB,KAAK,QACLyE,UAAU,UACVnE,KAAMoI,EAAKqsB,QACXoI,WAAY,IACZE,WAAY,OAEd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,2BACNiB,KAAK,QACLyE,UAAU,cACVnE,KAAMoI,EAAKgsB,YACXyI,WAAY,IACZE,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,eACNiB,KAAK,QACLyE,UAAU,WACVnE,KAAMoI,EAAK2sB,SACX8H,WAAY,IACZE,WAAY,YAOxB,yBACA54B,UAAU,kBACVS,QAAS,kBAAI8lC,GAAkB,QAC/BroC,MAAO,CAACs1B,OAA8B,GAArB8N,GAAWn3B,OAAa,IAAK,KAH9C,6EAQF,yBAAKnK,UAAU,eACf,6BACE,kBAAC,GAAD,CACA1F,MAAM,2BACNiB,KAAK,QACLs9B,SAAUqL,GACVroC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DmJ,WAAY,IACZE,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,QACLs9B,SAAUuK,GACVvnC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DmJ,WAAY,IACZE,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,iCACNiB,KAAK,QACLs9B,SAAU2M,GACV3pC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,kCAC3DmJ,WAAY,IACZE,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,uCACNiB,KAAK,QACLs9B,SAAUiL,GACVjoC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,wCAC3DmJ,WAAY,IACZE,WAAY,OAEd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,6CACNiB,KAAK,QACLs9B,SAAU6M,GACV7pC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,8CAC3DmJ,WAAY,IACZE,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,SACLs9B,SAAUmK,GACVnnC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DmJ,WAAY,IACZE,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,uCACNiB,KAAK,QACLs9B,SAAU4K,GACV5nC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,wCAC3DmJ,WAAY,IACZE,WAAY,MACZ,kBAAC,GAAD,CACAt+B,MAAM,2BACNiB,KAAK,QACLs9B,SAAU2L,GACV3oC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DmJ,WAAY,IACZE,WAAY,OAEd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,+DACNiB,KAAK,SACLs9B,SAAUsK,GACVtnC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,gEAC3DmJ,WAAY,IACZE,WAAY,KACZ,kBAAC,GAAD,CACAt+B,MAAM,+DACNiB,KAAK,SACLs9B,SAAUwK,GACVxnC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,gEAC3DmJ,WAAY,IACZE,WAAY,KACZ,kBAAC,GAAD,CACAt+B,MAAM,6IACNiB,KAAK,SACLs9B,SAAU6L,GACV7oC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,8IAC3DmJ,WAAY,IACZE,WAAY,MAEd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,iCACNiB,KAAK,SACLs9B,SAAUqM,GACVrpC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,kCAC3DmJ,WAAY,IACZE,WAAY,KACZ,kBAAC,GAAD,CACAt+B,MAAM,6CACNiB,KAAK,SACLs9B,SAAUyK,GACVznC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,8CAC3DmJ,WAAY,IACZE,WAAY,KACZ,kBAAC,GAAD,CACAt+B,MAAM,+DACNiB,KAAK,SACLs9B,SAAUwM,GACVxpC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,gEAC3DmJ,WAAY,IACZE,WAAY,MAEd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,+DACNiB,KAAK,SACLs9B,SAAUsM,GACVtpC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,gEAC3DmJ,WAAY,IACZE,WAAY,KACZ,kBAAC,GAAD,CACAt+B,MAAM,+DACNiB,KAAK,QACLs9B,SAAU6K,GACV7nC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,gEAC3DmJ,WAAY,IACZE,WAAY,OAEd,yBAAK16B,MAAO,CAACsoC,UAAW,KACtB,kBAAC,GAAD,CACAlsC,MAAM,uCACNiB,KAAK,QACLs9B,SAAU0L,GACV1oC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,wCAC3DmJ,WAAY,IACZE,WAAY,KACZ,kBAAC,GAAD,CACAt+B,MAAM,uCACNiB,KAAK,QACLs9B,SAAU8M,GACV9pC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,wCAC3DmJ,WAAY,IACZE,WAAY,KACZ,kBAAC,GAAD,CACAt+B,MAAM,uCACNiB,KAAK,QACLs9B,SAAUyM,GACVzpC,KAAMs9B,GAAW5J,eAAiB4J,GAAW5J,cAAc,4BAC3DmJ,WAAY,IACZE,WAAY,SAKhB,yBAAK54B,UAAU,gBACb,yBAAKA,UAAU,aAAaS,QAAS,kBAAIygC,IAAiB,KAA1D,gBACA,yBAAKlhC,UAAU,cAAcS,QAphClB,WACjB,IAAIgmC,EAAU3E,GAAW3Y,QAAQ4P,SAAU+I,GAAW3Y,QAAQtoB,WAAOc,EACjE4uB,EAAcwR,GAAe5Y,QAAQ4P,SAAUgJ,GAAe5Y,QAAQtoB,WAAOc,EAE7E6wB,GADYwP,GAAa7Y,QAAQ4P,UAAUiJ,GAAa7Y,QAAQtoB,MAClDohC,GAAe9Y,QAAQ4P,SAAUkJ,GAAe9Y,QAAQtoB,WAAOc,GAC7E2tB,EAAY,CACd,6CAAW8U,GAAgBjb,QAAQ4P,SAAUqL,GAAgBjb,QAAQtoB,WAAOc,EAC5E,iCAAS0iC,GAAUlb,QAAQ4P,SAAUsL,GAAUlb,QAAQtoB,WAAOc,EAC9D,6CAAW2iC,GAAcnb,QAAQ4P,SAAUuL,GAAcnb,QAAQtoB,WAAOc,EACxE,uCAAU4iC,GAAWpb,QAAQ4P,SAAUwL,GAAWpb,QAAQtoB,WAAOc,EACjE,2BAAQ6iC,GAAWrb,QAAQ4P,SAAUyL,GAAWrb,QAAQtoB,WAAOc,EAC/D,uCAAUsjC,GAAe9b,QAAQ4P,SAAUkM,GAAe9b,QAAQtoB,WAAOc,EACzE,2BAAQ8iC,GAAWtb,QAAQ4P,SAAU0L,GAAWtb,QAAQtoB,WAAOc,EAC/D,6IAA2B+iC,GAAYvb,QAAQ4P,SAAU2L,GAAYvb,QAAQtoB,WAAOc,EACpF,2BAAQgjC,GAAcxb,QAAQ4P,SAAU4L,GAAcxb,QAAQtoB,WAAOc,EACrE,2BAAQijC,GAAezb,QAAQ4P,SAAU6L,GAAezb,QAAQtoB,WAAOc,EACvE,2EAAgBkjC,GAAY1b,QAAQ4P,SAAU8L,GAAY1b,QAAQtoB,WAAOc,EACzE,2BAAQmjC,GAAS3b,QAAQ4P,SAAU+L,GAAS3b,QAAQtoB,WAAOc,EAC3D,mDAAYojC,GAAU5b,QAAQ4P,SAAUgM,GAAU5b,QAAQtoB,WAAOc,EACjE,mDAAYqjC,GAAa7b,QAAQ4P,SAAUiM,GAAa7b,QAAQtoB,WAAOc,EACvE,iCAASujC,GAAa/b,QAAQ4P,SAAUmM,GAAa/b,QAAQtoB,WAAOc,EACpE,+DAAcwjC,GAAchc,QAAQ4P,SAAUoM,GAAchc,QAAQtoB,WAAOc,EAC3E,uCAAUyjC,GAAajc,QAAQ4P,SAAUqM,GAAajc,QAAQtoB,WAAOc,EACrE,yDAAa0jC,GAAiBlc,QAAQ4P,SAAUsM,GAAiBlc,QAAQtoB,WAAOc,EAChF,2BAAQ2jC,GAAcnc,QAAQ4P,SAAUuM,GAAcnc,QAAQtoB,WAAOc,EACrE,2BAAQ4jC,GAAWpc,QAAQ4P,SAAUwM,GAAWpc,QAAQtoB,WAAOc,EAC/D,iCAAS6jC,GAAerc,QAAQ4P,SAAUyM,GAAerc,QAAQtoB,WAAOc,EACxE,2BAAQ8jC,GAAYtc,QAAQ4P,SAAU0M,GAAYtc,QAAQtoB,WAAOc,EACjE,6CAAW+jC,GAAWvc,QAAQ4P,SAAU2M,GAAWvc,QAAQtoB,WAAOc,EAClE,uCAAUgkC,GAAWxc,QAAQ4P,SAAU4M,GAAWxc,QAAQtoB,WAAOc,EACjE,2BAAQikC,GAAYzc,QAAQ4P,SAAU6M,GAAYzc,QAAQtoB,WAAOc,EACjE,yDAAakkC,GAAkB1c,QAAQ4P,SAAU8M,GAAkB1c,QAAQtoB,WAAOc,EAClF,yDAAaohC,GAAe5Z,QAAQ4P,SAAUgK,GAAe5Z,QAAQtoB,WAAOc,EAC5E,2BAASqhC,GAAc7Z,QAAQ4P,SAAUiK,GAAc7Z,QAAQtoB,WAAOc,EACtE,2BAASshC,GAAc9Z,QAAQ4P,SAAUkK,GAAc9Z,QAAQtoB,WAAOc,EACtE,+DAAcwhC,GAAgBha,QAAQ4P,SAAUoK,GAAgBha,QAAQtoB,WAAOc,EAC/E,2BAAQyhC,GAAYja,QAAQ4P,SAAUqK,GAAYja,QAAQtoB,WAAOc,EACjE,+DAAc0hC,GAAYla,QAAQ4P,SAAUsK,GAAYla,QAAQtoB,WAAOc,EACvE,6CAAW2hC,GAAUna,QAAQ4P,SAAUuK,GAAUna,QAAQtoB,WAAOc,EAChE,2BAAQ4hC,GAAYpa,QAAQ4P,SAAUwK,GAAYpa,QAAQtoB,WAAOc,EACjE,eAAM6hC,GAAUra,QAAQ4P,SAAUyK,GAAUra,QAAQtoB,WAAOc,EAC3D,qBAAOwiC,GAAchb,QAAQ4P,SAAUoL,GAAchb,QAAQtoB,WAAOc,EACpE,uCAAU8hC,GAAmBta,QAAQ4P,SAAU0K,GAAmBta,QAAQtoB,WAAOc,EACjF,+DAAc+hC,GAAkBva,QAAQ4P,SAAU2K,GAAkBva,QAAQtoB,WAAOc,EACnF,2BAAQgiC,GAAexa,QAAQ4P,SAAU4K,GAAexa,QAAQtoB,WAAOc,EACvE,2BAAQiiC,GAAWza,QAAQ4P,SAAU6K,GAAWza,QAAQtoB,WAAOc,EAC/D,2BAAQkiC,GAAa1a,QAAQ4P,SAAU8K,GAAa1a,QAAQtoB,WAAOc,EACnE,uCAAUmiC,GAAa3a,QAAQ4P,SAAU+K,GAAa3a,QAAQtoB,WAAOc,EACrE,uCAAUoiC,GAAgB5a,QAAQ4P,SAAUgL,GAAgB5a,QAAQtoB,WAAOc,EAC3E,qBAAOqiC,GAAW7a,QAAQ4P,SAAUiL,GAAW7a,QAAQtoB,WAAOc,EAC9D,2BAAQsiC,GAAe9a,QAAQ4P,SAAUkL,GAAe9a,QAAQtoB,WAAOc,EACvE,2BAASuiC,GAAa/a,QAAQ4P,SAAUmL,GAAa/a,QAAQtoB,WAAOc,GAGlEqxB,EAAakP,GAAc/Y,QAAQ4P,SAAUmJ,GAAc/Y,QAAQtoB,WAAOc,EAG1EyxB,GAFS+O,GAAUhZ,QAAQ4P,UAAUoJ,GAAUhZ,QAAQtoB,MAC3CuhC,GAAajZ,QAAQ4P,UAAUqJ,GAAajZ,QAAQtoB,MAClDwhC,GAAelZ,QAAQ4P,SAAUsJ,GAAelZ,QAAQtoB,WAAOc,GAC7EmxB,EAAcwP,GAAenZ,QAAQ4P,SAAUuJ,GAAenZ,QAAQtoB,WAAOc,EAC7E2xB,EAAoBiP,GAAqBpZ,QAAQ4P,SAAUwJ,GAAqBpZ,QAAQtoB,WAAOc,EAC/F4xB,EAAoBiP,GAAqBrZ,QAAQ4P,SAAUyJ,GAAqBrZ,QAAQtoB,WAAOc,EAC/F0xB,EAAcoP,GAAetZ,QAAQ4P,SAAU0J,GAAetZ,QAAQtoB,WAAOc,EAE7EgvB,EAAS+R,GAAUvZ,QAAQ4P,SAAU2J,GAAUvZ,QAAQtoB,WAAOc,EAC9DixB,EAAc+P,GAAexZ,QAAQ4P,SAAU4J,GAAexZ,QAAQtoB,WAAOc,EAC7EgxB,EAAcuQ,GAAe/Z,QAAQ4P,SAAUmK,GAAe/Z,QAAQtoB,WAAOc,EAC7EoxB,EAAgB6P,GAAiBzZ,QAAQ4P,SAAU6J,GAAiBzZ,QAAQtoB,WAAOc,EAEnFsxB,EAAY4P,GAAa1Z,QAAQ4P,SAAU8J,GAAa1Z,QAAQtoB,WAAOc,EACvEwxB,EAAc2P,GAAe3Z,QAAQ4P,SAAU+J,GAAe3Z,QAAQtoB,WAAOc,EAC7E6tB,EAAe,GACfqB,EAAa,GAEjB1yB,IAAE,kBAAkByuB,MAAK,SAAC1lB,EAAOjD,GAC/B,IAAIwM,EAAM,GACVA,EAAIygB,UAAY/yB,IAAE8F,GAAM8C,KAAK,cAAc4tB,OAC3ClkB,EAAI2gB,KAAOjzB,IAAE8F,GAAM8C,KAAK,SAAS4tB,OACjClkB,EAAIsgB,gBAAkB5yB,IAAE8F,GAAM8C,KAAK,oBAAoB4tB,OACvDlkB,EAAI0gB,gBAAkBhzB,IAAE8F,GAAM8C,KAAK,oBAAoB4tB,OACvDlkB,EAAIwgB,kBAAoB9yB,IAAE8F,GAAM8C,KAAK,sBAAsB4tB,OAC3DlkB,EAAIugB,OAAS7yB,IAAE8F,GAAM8C,KAAK,WAAW4tB,OACrC9D,EAAW/lB,KAAK2F,MAElBtS,IAAE,mBAAmByuB,MAAK,SAAC1lB,EAAOjD,GAChC,IAAIwM,EAAM,GACVA,EAAI6f,QAAUnyB,IAAE8F,GAAM7J,SAAS,YAAYu6B,OAC3ClkB,EAAI8f,YAAcpyB,IAAE8F,GAAM7J,SAAS,gBAAgBu6B,OACnDlkB,EAAI+f,UAAYryB,IAAE8F,GAAM7J,SAAS,cAAcu6B,OAC/ClkB,EAAIggB,WAAatyB,IAAE8F,GAAM7J,SAAS,eAAeu6B,OACjDlkB,EAAIigB,WAAavyB,IAAE8F,GAAM7J,SAAS,eAAeu6B,OACjDlkB,EAAIxW,KAAOkE,IAAE8F,GAAM7J,SAAS,SAASu6B,OACrClkB,EAAIkgB,OAASxyB,IAAE8F,GAAM7J,SAAS,WAAWu6B,OACzClkB,EAAImgB,SAAWzyB,IAAE8F,GAAM7J,SAAS,aAAau6B,OAC7ClkB,EAAIuf,aAAe7xB,IAAE8F,GAAM7J,SAAS,iBAAiBu6B,OACrDlkB,EAAIwf,YAAc9xB,IAAE8F,GAAM7J,SAAS,gBAAgBu6B,OACnDlkB,EAAIyf,IAAM/xB,IAAE8F,GAAM7J,SAAS,QAAQu6B,OACnCnF,EAAa1kB,KAAK2F,MAEpB,IAAIpW,EAAS,CACXk2B,cACAiC,cAEAlD,YACA0D,aACAxD,aAAcxiB,KAAKC,UAAUuiB,GAE7B4D,cACAN,cACAQ,oBACAC,oBACAF,cAEA1C,SACAiC,cACAD,cACAI,gBACAlC,WAAY7jB,KAAKC,UAAU4jB,GAE3BoC,YACA7C,YAAaqW,EACbtT,eAEEuT,EAAiB,EAAGC,EAAc,EACtC,IAAI,IAAI3K,KAAK1M,EACe,oBAAhBA,EAAU0M,UACX1M,EAAU0M,GAEjB0K,IAMJ,IAAI,IAAI1K,KAHL0K,EAAiB,IAClBrsC,EAAOi1B,eAAY3tB,GAERtH,EACY,oBAAbA,EAAO2hC,UACR3hC,EAAO2hC,GAEd2K,IAIJ,GAAGA,EAAc,GAA4B,GAAvBnX,EAAarlB,QAAoC,GAArB0mB,EAAW1mB,OAO3D,OANAwjB,KAAQC,UACRD,KAAQ9U,OAAO,CACbgV,KAAK,EACLC,aAAc,kBAAI3vB,IAAE,mBAAmB,WAEzCwvB,KAAQ0E,KAAK,+FAGf/kB,QAAQC,IAAIlT,GACZ,IAAIuP,EAAM0P,GAAa,iCACvBU,GACCmB,IAAI,CAACvR,MAAK0E,KAAM,CACf2kB,UAAW3S,EACXsmB,WAAY55B,KAAKC,UAAU5S,IACzBigB,cAAe,IAClBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACe,KAAjBA,EAAOsL,SACR2R,KAAQC,UACRD,KAAQ9U,OAAO,CACbgV,KAAK,EACLC,aAAc,kBAAIlvB,SAAS0P,QAE7Bqf,KAAQ5f,QAAQ,qDAChBmzB,IAAiB,SA82Bf,kBAKJ,kBAAC,GAAD,CACE3lC,KAAK,IACLjB,MAAM,uCACNuN,QAASk5B,GACTpjC,KAAM,kBAAIqjC,IAAiB,IAC3BpjC,SAAU,kBAAIojC,IAAiB,IAC/Bz5B,OAAQ,KACRlJ,MAAO,IACP2B,UAAU,gBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,IAEzC,yBAAK9e,UAAU,oBACb,0BAAMA,UAAU,cAAhB,SACG,0CADH,gBAGA,yBAAKA,UAAU,mBACb,2BACAA,UAAU,eACVzE,KAAK,OACL6I,YAAY,0EACZ,uBAAGpE,UAAU,aAAaS,QA5tCrB,WAECtC,IAAE,iBAAiB0oC,WA8tC7B,kBAAC,GAAD,OAEF,kBAAC,GAAD,CACMtrC,KAAK,IACLjB,MAAM,2BACNuN,QAASA,EACTlK,KAAM,kBAAImjC,GAAW,IACrBljC,SAAU,WACW,WAAhB6uB,GACDoU,EAAiB,QAEnBC,GAAW,IACbv5B,OAAQ,KACRlJ,MAAO,KACP2B,UAAU,sBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,qBAE3C,kBAAC,IAAD,CACAyf,YAAU,EACVC,cAAe,KAEM,QAAjBoC,EACA,6BACE,uBAAG5gC,UAAU,aAAb,SAA0B,8BAC1BsgC,EAAYn2B,QADZ,UAGA,wBAAInK,UAAU,eACZ,kBAAC,IAAD,CACAu+B,YAAU,EACVC,cAAe,KAEXgC,EAAkBr2B,OAAS,EAC3Bq2B,EAAkBx8B,KAAI,SAACC,EAAMiD,GAC3B,OACA,wBAAIlN,IAAKkN,EAAOzG,QAAS,kBAx6BxB,SAAC5E,GACtB,IAAI+N,EAAM0P,2CACMzd,EAAKs0B,OACrBnW,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9B6U,EAAO7U,KAAKi1B,WAAa9jB,KAAKS,MAAMiD,EAAO7U,KAAK+4B,QAChDlkB,EAAO7U,KAAKk0B,aAAe/iB,KAAKS,MAAMiD,EAAO7U,KAAKg5B,UAClDnkB,EAAO7U,KAAK0zB,cAAgBviB,KAAKS,MAAMiD,EAAO7U,KAAKyzB,WACnDqR,EAAgBjwB,EAAO7U,MACvBglC,EAAiB,cA45BwBiG,CAAe7iC,KAC1C,uBAAGjE,UAAU,cAAc9B,MAAO,CAChCimB,gBAEElgB,EAAK4rB,UACL5rB,EAAK4rB,UACL,MAGJ,uBAAGv1B,MAAO2J,EAAK47B,UAAW57B,EAAK47B,cAInC,kBAAC,GAAD,CACA7/B,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,aAChBl5B,MAAO,2BACPiB,KAAM,SAQd,6BAEoB,WAAhBkxB,EACA,0BAAMzsB,UAAU,cAAcS,QAAS,kBAAIogC,EAAiB,UAA5D,wCACA,GAEF,kBAAC,GAAD,CAAchlC,KAAM6kC,QAqCpC,IAAM3S,GAAkB,SAAC9wB,GAAW,IAAD,EAM7BA,EAJFjB,WAMF,MAAO,CAAE+mB,WARwB,EAG7BjD,SAAYiD,WAKKpD,SARY,EAI7BA,WAMSsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWkb,MCliDlD1mB,I,OAAeiR,GAAfjR,YACN,SAASytB,GAAc/pC,EAAOuD,GAAM,IAE5Bg5B,EAMEv8B,EANFu8B,YACA9M,EAKEzvB,EALFyvB,aACA2B,EAIEpxB,EAJFoxB,aACAC,EAGErxB,EAHFqxB,aACWrO,EAEThjB,EAFF2iB,SAAWK,SACXwZ,EACEx8B,EADFw8B,QAP2B,EAUCrW,mBAAS,IAVV,mBAUxB6jB,EAVwB,KAUdC,EAVc,OAWD9jB,oBAAS,GAXR,mBAWxBtb,EAXwB,KAWfi5B,EAXe,KAY/B1Z,2BAAgB,WACZ,GAAmB,WAAhBqF,IAGgB,WAAhBA,GAA8B2B,GAAjC,CAGA0S,GAAW,GACX,IAAIoG,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpEolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAI9lB,EAAM0P,GAAa,6BACN,WAAhBmT,EACD2B,EACA,EACAC,EACA,EACA,EACgB,WAAhB5B,EAA2B,EAC3B,IACA,YAAc2B,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BorC,EAAYv2B,EAAO7U,MAEvBilC,GAAW,SAEhB,CAACrU,EAAc4B,EAAcD,EAAcmL,EAAaC,IAC3D,IAAI2N,EAAiB,GAAIC,EAAiB,GAAIC,EAAoB,GAAIC,EAAgB,GAetF,OAdArgC,MAAM4qB,QAAQmV,IAAaA,EAAS/6B,SAAQ,SAAChI,IACN,GAAhCA,EAAKsjC,SAAS/8B,QAAQ,kBACrB28B,EAAiBljC,EAAKujC,qBAAqB53B,MAAM,EAAG,KAErB,GAAhC3L,EAAKsjC,SAAS/8B,QAAQ,kBACrB48B,EAAiBnjC,EAAKujC,qBAAqB53B,MAAM,EAAG,KAErB,GAAhC3L,EAAKsjC,SAAS/8B,QAAQ,kBACrB68B,EAAoBpjC,EAAKujC,qBAAqB53B,MAAM,EAAG,KAExB,GAAhC3L,EAAKsjC,SAAS/8B,QAAQ,kBACrB88B,EAAgBrjC,EAAKujC,qBAAqB53B,MAAM,EAAG,OAIvD,yBAAK5P,UAAU,kBACX,kBAAC,GAAD,CACAqB,SAAS,EACTD,IAAI,wBACJE,SAAUuG,GAEmB,GAAzBs/B,EAAeh9B,QACU,GAAzBi9B,EAAej9B,QACa,GAA5Bk9B,EAAkBl9B,QACM,GAAxBm9B,EAAcn9B,OACd,kBAAC,GAAD,CAEAjM,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,MAEN,6BACI,yBAAKyE,UAAU,oBACf,uBAAGA,UAAU,qBACb,wBAAIA,UAAU,aAENmnC,EAAeh9B,OAAS,EACxBg9B,EAAenjC,KAAI,SAACC,EAAMiD,GACtB,OACI,wBAAIlN,IAAKkN,GACL,uBAAGlH,UAAW,aACJ,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,MACA,yBAAKyhB,IAAK1kB,EAAKw6B,QACf,0BAAMz+B,UAAU,YAAY1F,MAAO2J,EAAKhK,MAAOgK,EAAKhK,MACpD,0BAAM+F,UAAW,eACP,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,IAAK5M,MAA4B,iBAAd2J,EAAKwjC,MAAmBloC,SAAS0E,EAAKwjC,OAAS,SAAK,MAC7C,iBAAdxjC,EAAKwjC,MAAmBloC,SAAS0E,EAAKwjC,OAAQ,KAL1D,cAUZ,kBAAC,GAAD,CAEAvpC,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,QAKd,yBAAKyE,UAAU,eACf,yBAAKA,UAAU,oBACX,uBAAGA,UAAU,qBACb,wBAAIA,UAAU,aAENonC,EAAej9B,OAAS,EACxBi9B,EAAepjC,KAAI,SAACC,EAAMiD,GACtB,OACI,wBAAIlN,IAAKkN,GACL,uBAAGlH,UAAW,aACJ,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,MACA,yBAAKyhB,IAAK1kB,EAAKw6B,QACf,0BAAMz+B,UAAU,YAAY1F,MAAO2J,EAAKhK,MAAOgK,EAAKhK,MACpD,0BAAM+F,UAAW,eACP,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,IAAK5M,MAA4B,iBAAd2J,EAAKwjC,MAAmBloC,SAAS0E,EAAKwjC,OAAS,SAAK,MAC7C,iBAAdxjC,EAAKwjC,MAAmBloC,SAAS0E,EAAKwjC,OAAQ,KAL1D,cAUZ,kBAAC,GAAD,CAEAvpC,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,QAKlB,yBAAKyE,UAAU,eACf,yBAAKA,UAAU,qBACX,uBAAGA,UAAU,sBACb,wBAAIA,UAAU,aAENqnC,EAAkBl9B,OAAS,EAC3Bk9B,EAAkBrjC,KAAI,SAACC,EAAMiD,GACzB,OACI,wBAAIlN,IAAKkN,GACL,uBAAGlH,UAAW,aACJ,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,MACA,yBAAKyhB,IAAK1kB,EAAKw6B,QACf,0BAAMz+B,UAAU,YAAY1F,MAAO2J,EAAKhK,MAAOgK,EAAKhK,MACpD,0BAAM+F,UAAW,eACP,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,IAAK5M,MAA4B,iBAAd2J,EAAKwjC,MAAmBxjC,EAAKwjC,MAAQ,IAAK,MACnC,iBAAdxjC,EAAKwjC,MAAmBxjC,EAAKwjC,MAAO,KALhD,SAUZ,kBAAC,GAAD,CAEAvpC,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,QAKlB,yBAAKyE,UAAU,eACf,yBAAKA,UAAU,mBACX,uBAAGA,UAAU,oBACb,wBAAIA,UAAU,aAENsnC,EAAcn9B,OAAS,EACvBm9B,EAActjC,KAAI,SAACC,EAAMiD,GACrB,OACI,wBAAIlN,IAAKkN,GACL,uBAAGlH,UAAW,aACJ,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,MACA,yBAAKyhB,IAAK1kB,EAAKw6B,QACf,0BAAMz+B,UAAU,YAAY1F,MAAO2J,EAAKhK,MAAOgK,EAAKhK,MACpD,0BAAM+F,UAAW,eACP,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,IAAK5M,MAA4B,iBAAd2J,EAAKwjC,MAAmBxjC,EAAKwjC,MAAQ,SAAK,MACnC,iBAAdxjC,EAAKwjC,MAAmBxjC,EAAKwjC,MAAO,KALhD,cAUZ,kBAAC,GAAD,CAEAvpC,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,QAKlB,uBAAGyE,UAAU,OACT,uBAAGA,UAAU,YADjB,0ZAapB,IAAM+tB,GAAkB,SAAC9wB,GAAW,IAAD,EAS3BA,EAPFjB,WAF6B,IAG3B8jB,SAQJ,MAAO,CAACiD,WAXuB,EAIzBA,WAOcD,SAXW,EAKzBA,SAMwBnD,SAXC,EAO3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWiiB,MC5PlDztB,GAAeiR,GAAfjR,WACN,SAASouB,GAAoB1qC,EAAOuD,GAAM,IAElCg5B,EAMEv8B,EANFu8B,YACA9M,EAKEzvB,EALFyvB,aACA2B,EAIEpxB,EAJFoxB,aACAC,EAGErxB,EAHFqxB,aACWrO,EAEThjB,EAFF2iB,SAAWK,SACXwZ,EACEx8B,EADFw8B,QAPiC,EAULrW,mBAAS,IAVJ,mBAU9B6jB,EAV8B,KAUpBC,EAVoB,OAWiB9jB,mBAAS,IAX1B,mBAW9BwkB,EAX8B,KAWTC,EAXS,OAYOzkB,mBAAS,IAZhB,mBAY9B0kB,EAZ8B,KAYdC,EAZc,OAaP3kB,oBAAS,GAbF,mBAa9Btb,EAb8B,KAarBi5B,EAbqB,KAerC1Z,2BAAgB,WACZ,GAAmB,WAAhBqF,GAA8B2B,EAAjC,CAGA0S,GAAW,GACX,IAAIoG,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpEolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAI9lB,EAAM0P,GAAa,6BACN,WAAhBmT,EACD2B,EACA,EACAC,EACA,EACA,EACgB,WAAhB5B,EAA2B,EAC3B,IACA,YAAc2B,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BorC,EAAYv2B,EAAO7U,MAEvBilC,GAAW,SAEhB,CAACrU,EAAc4B,EAAcD,EAAcmL,EAAaC,IAE3DpS,2BAAgB,WACZ,GAAIpH,GAAauZ,EAAY14B,MAA7B,CAGA,IAAIqmC,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpE+I,EAAM0P,GAAa,sCAAwC0G,EAC/D,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B+rC,EAAuBl3B,EAAO7U,SAKtC+N,EAAM0P,gFACS0G,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BisC,EAAkBp3B,EAAO7U,YAGlC,CAAC4wB,EAAczM,EAAUuZ,EAAaC,IACzC,IAAI2N,EAAiB,GAAIC,EAAiB,GAAIC,EAAoB,GAClEpgC,MAAM4qB,QAAQmV,IAAaA,EAAS/6B,SAAQ,SAAChI,IACN,GAAhCA,EAAKsjC,SAAS/8B,QAAQ,kBACrB28B,EAAiBljC,EAAKujC,qBAAqB53B,MAAM,EAAG,KAErB,GAAhC3L,EAAKsjC,SAAS/8B,QAAQ,kBACrB48B,EAAiBnjC,EAAKujC,qBAAqB53B,MAAM,EAAG,KAErB,GAAhC3L,EAAKsjC,SAAS/8B,QAAQ,kBACrB68B,EAAoBpjC,EAAKujC,qBAAqB53B,MAAM,EAAG,KAExB,GAAhC3L,EAAKsjC,SAAS/8B,QAAQ,iBACLvG,EAAKujC,qBAAqB53B,MAAM,EAAG,MAG3D,IAAIm4B,EAAkB,KAAMC,EAAoB,KAYhD,OAXA/gC,MAAM4qB,QAAQ8V,IAAwBA,EAAoB17B,SAAQ,SAAChI,IAChC,GAA5BA,EAAK1I,KAAKiP,QAAQ,iBAAoC,iBAAdvG,EAAKgkC,QAC5CF,EAAkB9jC,EAAKgkC,MAAMh2B,QAAQ,KAKV,GAA5BhO,EAAK1I,KAAKiP,QAAQ,iBAAevG,EAAKikC,QACrCF,EAAoB/jC,EAAKikC,UAI7B,yBAAKloC,UAAU,yBACX,kBAAC,GAAD,CACAqB,SAAS,EACTD,IAAI,wBACJE,SAAUuG,GACN,yBAAK7H,UAAU,sBACf,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,gBAAgB1F,MAAQytC,GACjCA,GAEN,sFAEJ,yBAAK/nC,UAAU,oBACX,yBAAKA,UAAU,gBAAgB1F,MACvButC,EAAeM,WACfz2B,OAAiC,IAA1Bm2B,EAAeM,YAAgBl2B,QAAQ,GAAK,IACnD,IAGA41B,EAAeM,WACfz2B,OAAiC,IAA1Bm2B,EAAeM,YAAgBl2B,QAAQ,GAAK,IACnD,IAGR,sFAEJ,yBAAKjS,UAAU,oBACX,yBAAKA,UAAU,aAAa1F,MAAQ0tC,GAC9BA,GAEN,6FAGR,yBAAKhoC,UAAU,yBACX,yBAAKA,UAAU,oBACX,uBAAGA,UAAU,qBACb,wBAAIA,UAAU,aAEVmnC,EAAeh9B,OAAS,EACxBg9B,EAAenjC,KAAI,SAACC,EAAMiD,GACtB,OACI,wBAAIlN,IAAKkN,GACL,uBAAGlH,UAAW,aACJ,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,MAEIjD,EAAKhK,KACL,yBAAK0uB,IAAK1kB,EAAKw6B,QACf,GAEJ,0BACAz+B,UAAU,YACV1F,MAAO2J,EAAKhK,MAAQgK,EAAKjE,WACpBiE,EAAKhK,MAAQgK,EAAKjE,WAEvB,0BAAMA,UAAW,eACP,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,IAAK5M,MAA4B,iBAAd2J,EAAKwjC,MAAmBxjC,EAAKwjC,MAAQ,IAAK,MACnC,iBAAdxjC,EAAKwjC,MAAmBxjC,EAAKwjC,MAAO,KALhD,cAUZ,kBAAC,GAAD,CAEAvpC,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,QAKd,yBAAKyE,UAAU,eACf,yBAAKA,UAAU,oBACX,uBAAGA,UAAU,qBACb,wBAAIA,UAAU,aAEVonC,EAAej9B,OAAS,EACxBi9B,EAAepjC,KAAI,SAACC,EAAMiD,GACtB,OACI,wBAAIlN,IAAKkN,GACL,uBAAGlH,UAAW,aACJ,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,MAEIjD,EAAKhK,KACL,yBAAK0uB,IAAK1kB,EAAKw6B,QACf,GAEJ,0BACAz+B,UAAU,YACV1F,MAAO2J,EAAKhK,MAAQgK,EAAKjE,WACpBiE,EAAKhK,MAAQgK,EAAKjE,WAEvB,0BAAMA,UAAW,eACP,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,IAAK5M,MAA4B,iBAAd2J,EAAKwjC,MAAmBxjC,EAAKwjC,MAAQ,SAAK,MACnC,iBAAdxjC,EAAKwjC,MAAmBxjC,EAAKwjC,MAAO,KALhD,cAUZ,kBAAC,GAAD,CAEAvpC,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,QAKd,yBAAKyE,UAAU,eACf,yBAAKA,UAAU,qBACX,uBAAGA,UAAU,sBACb,wBAAIA,UAAU,aAEVqnC,EAAkBl9B,OAAS,EAC3Bk9B,EAAkBrjC,KAAI,SAACC,EAAMiD,GACzB,OACI,wBAAIlN,IAAKkN,GACL,uBAAGlH,UAAW,aACJ,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,MAEIjD,EAAKhK,KACL,yBAAK0uB,IAAK1kB,EAAKw6B,QACf,GAEJ,0BACAz+B,UAAU,YACV1F,MAAO2J,EAAKhK,MAAQgK,EAAKjE,WACpBiE,EAAKhK,MAAQgK,EAAKjE,WAEvB,0BAAMA,UAAW,eACP,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,IAAK5M,MAA4B,iBAAd2J,EAAKwjC,MAAmBxjC,EAAKwjC,MAAQ,IAAK,MACnC,iBAAdxjC,EAAKwjC,MAAmBxjC,EAAKwjC,MAAO,KALhD,SAUZ,kBAAC,GAAD,CAEAvpC,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,WAc9B,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAAD,EAS3BA,EAPFjB,WAF6B,IAG3B8jB,SAQJ,MAAO,CAACiD,WAXuB,EAIzBA,WAOcD,SAXW,EAKzBA,SAMwBnD,SAXC,EAO3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW4iB,M,8BClSlDpuB,GAAeiR,GAAfjR,WAEN,SAAS8uB,GAAWprC,EAAOuD,GAAM,IAEzBg5B,EAMAv8B,EANAu8B,YACA9M,EAKAzvB,EALAyvB,aACA2B,EAIApxB,EAJAoxB,aACAC,EAGArxB,EAHAqxB,aALwB,EAQxBrxB,EAFA2iB,SAAWK,EANa,EAMbA,SAAUM,EANG,EAMHA,OACrBkZ,EACAx8B,EADAw8B,QAPwB,EASgBrW,mBAAS,IATzB,mBASrBgkB,EATqB,KASLkB,EATK,OAW4BllB,mBAAS,IAXrC,mBAWrBmlB,EAXqB,KAWCC,EAXD,OAY8BplB,mBAAS,IAZvC,mBAYrBqlB,EAZqB,KAYEC,EAZF,OAaEtlB,oBAAS,GAbX,mBAarBtb,EAbqB,KAaZi5B,EAbY,OAekB3d,mBAAS,IAf3B,mBAerBulB,EAfqB,KAeJC,EAfI,OAgBcxlB,mBAAS,IAhBvB,mBAgBrBylB,EAhBqB,KAgBNC,EAhBM,OAiBU1lB,mBAAS,IAjBnB,mBAiBrB2lB,EAjBqB,KAiBRC,EAjBQ,OAkBgB5lB,mBAAS,IAlBzB,mBAkBrB6lB,EAlBqB,KAkBLC,EAlBK,OAmBgB9lB,mBAAS,IAnBzB,mBAmBrB+lB,EAnBqB,KAmBLC,EAnBK,KAoBtBC,EAAc,SAACvoC,GAEjB,IAAIq+B,EAAM,GACV,OAAOr+B,GACH,IAAK,KACDq+B,EAAM,qBACN,MACJ,IAAK,KACDA,EAAM,qBACN,MACJ,IAAK,KACDA,EAAM,qBACN,MACJ,IAAK,KACDA,EAAM,qBACN,MACJ,IAAK,KACDA,EAAM,qBACN,MACJ,IAAK,KACDA,EAAM,qBACN,MACJ,IAAK,KACDA,EAAM,qBACN,MACJ,IAAK,KACDA,EAAM,qBACN,MACJ,IAAK,KACDA,EAAM,qBACN,MACJ,IAAK,KACDA,EAAM,qBACN,MACJ,IAAK,KACDA,EAAM,2BACN,MACJ,IAAK,KACDA,EAAM,2BACN,MACJ,QACIA,EAAM,GAGd,OAAOA,GAEPmK,EAAY,CACZ,IAAIC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAIfmhB,2BAAgB,WACZ,GAAmB,WAAhBqF,GAGC4B,IAGe,WAAhB5B,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAE9D+I,EAAM0P,8DACuB,WAAhBmT,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BktC,EAAer4B,EAAO7U,YAG/B,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaC,IAE3DpS,2BAAgB,WACZ,GAAmB,WAAhBqF,GAA8BnM,GAAW8N,GAAiBC,EAA7D,CAGA,IAAI6Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAE9D+I,EAAM0P,8DACuB,WAAhBmT,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BgtC,EAAiBn4B,EAAO7U,YAGjC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaC,IAE3DpS,2BAAgB,WAEZ,GADA0Z,GAAW,IACQ,WAAhBrU,GAA8B2B,GAAiBC,KAG/B,WAAhB5B,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAK9DolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAI5B,IAAI9lB,EAAM0P,GAAa,+CACN,WAAhBmT,EACD,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,GACA,eAAiC,WAAhB5B,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BwsC,EAAkB33B,EAAO7U,MAE7BilC,GAAW,SAEhB,CAACrU,EAAc4B,EAAcD,EAAcmL,EAAaC,IAE3DpS,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA8B2B,GAAiBC,KAG/B,WAAhB5B,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAC9DolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAI5B,IAAI9lB,EAAM0P,GAAa,4CACN,WAAhBmT,EACD,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,GACA,eAAiC,WAAhB5B,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B8sC,EAAmBj4B,EAAO7U,YAGnC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaC,IAE3DpS,2BAAgB,WAEZ,GADA0Z,GAAW,GACQ,WAAhBrU,IAA6B4B,IAAgBD,EAAhD,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAE9D+I,EAAM0P,kEACK0G,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B0sC,EAAwB73B,EAAO7U,SAIvC+N,EAAM0P,8DAC2B,WAAhBmT,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BwsC,EAAkB33B,EAAO7U,MAE7BilC,GAAW,SAEhB,CAACrU,EAAc4B,EAAcD,EAAcpO,EAAUuZ,EAAaC,IAErEpS,2BAAgB,WACZ,GAAmB,WAAhBqF,IAA6B4B,IAAgBD,EAAhD,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAE9D+I,EAAM0P,+DACK0G,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B4sC,EAAyB/3B,EAAO7U,YAGzC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAavZ,EAAUwZ,IACrE7V,qBAAU,WACN,IAAmB,WAAhB8I,GAA8B2B,GAAiBC,IAI7C8Y,EAAeoC,yBACiC,GAAjDpC,EAAeoC,wBAAwBp/B,OAF3C,CAKA,IAAIq/B,EAAa,GACbC,EAAQ,GAAIC,EAAa,GAAIC,EAAgB,GAAIC,EAAgB,GAErEzC,EAAeoC,yBACfpC,EAAeoC,wBAAwBt9B,SAAQ,SAAChI,GAC5CwlC,EAAM3+B,KAAK7G,EAAK4lC,aAChBH,EAAW5+B,KAAKvL,SAAmB,IAAV0E,EAAK6lC,MAAU73B,QAAQ,OAGpDw3B,EAAMx9B,SAAQ,SAAChI,GACX6kC,EAAYS,yBACZT,EAAYS,wBAAwBt9B,SAAQ,SAACjF,GACtCA,EAAM6iC,aAAe5lC,GACpB2lC,EAAc9+B,MAAiB,IAAX9D,EAAM8iC,MAAU73B,QAAQ,OAGpD22B,EAAcW,yBACdX,EAAcW,wBAAwBt9B,SAAQ,SAACjF,GACxCA,EAAM6iC,aAAe5lC,GACpB0lC,EAAc7+B,MAAiB,IAAX9D,EAAM8iC,MAAU73B,QAAQ,UAIrC,WAAhBwa,IACC+c,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM6tC,GAEV,CACIzvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM+tC,KAKC,WAAhBnd,IACC+c,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK6tC,GAET,CACIzvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK8tC,GAET,CACI1vC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK+tC,KAKjB,IAAI1N,EAAWC,KAAav9B,SAASyP,eAAe,yBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,yDACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,IAAK,IAEnCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,oBAKAq+B,IAGfoL,OAAQ,CACJntC,IAAK,OACLo/B,MAAO,MACPE,UAAW,CACPx2B,MAAO,YAGfskC,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,SAASvpC,GAChB,OAAOA,EAAMsJ,OAAS,EAAGtJ,EAAM+M,OAAO,EAAG,GAAK,MAAO/M,KAIjEgqC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZyO,MAAO,CACH1vC,KAAM,QACNtB,KAAM,qBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBosB,IAAK,EACLC,IAAK,IACLC,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAACk3B,EAAgBmB,EAAsB7b,IAC1C9I,qBAAU,WACN,IAAmB,WAAhB8I,GAA8B2B,GAAiBC,IAGrB,GAA1Bqa,EAAgBv+B,OAAnB,CAGA,IAAIq/B,EAAa,GACbC,EAAQ,GAAkB4B,EAAU,GAAqBC,EAAc,GAAI/Q,EAAW,GAE1FmO,EAAgBz8B,SAAQ,SAAChI,GACrBqnC,EAAYxgC,KAAK7G,EAAK4lC,gBAG1ByB,EAAW,aAAO,IAAIC,IAAID,IAED,GAAzBtC,EAAe7+B,QAAe8+B,EAAkBqC,IAC/CpC,GAAkBC,EAAkBmC,EAAY,IAGjD5C,EAAgBz8B,SAAQ,SAAChI,GAClBA,EAAK4lC,aAAeX,IACnB3O,EAASzvB,KAAK7G,GACdwlC,EAAM3+B,KAAKs+B,EAAYnlC,EAAKiU,KAAKtK,OAAO,EAAG,UAInD67B,EAAK,aAAO,IAAI8B,IAAI9B,KACdx9B,SAAQ,SAAChI,GACX,IAAIunC,EAAM,EACVjR,EAAStuB,SAAQ,SAACjF,GACXoiC,EAAYpiC,EAAMkR,KAAKtK,OAAO,EAAG,KAAO3J,IACvCunC,GAAOxkC,EAAMygC,UAGrB4D,EAAQvgC,KAAK0gC,MAEE,WAAhB/e,IACC+c,EAAa,CAkBT,CACIvvC,KAAM,eACNsB,KAAM,MACNwuC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAMwvC,KAmBC,WAAhB5e,IACC+c,EAAa,CACT,CACIvvC,KAAM,eACNsB,KAAM,OAENyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAMwvC,GAEV,CACIpxC,KAAM,eACNsB,KAAM,MACNwuC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAMwvC,KAmBlB,IAAInP,EAAWC,KAAav9B,SAASyP,eAAe,2BACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,mDACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,IAAK,IAEnCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,yBAKAq+B,IAGfoL,OAAQ,CACJntC,IAAK,OACLo/B,MAAO,MAEPE,UAAW,CACPx2B,MAAO,YAGf4kC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,IAAO,EAAG,EAAG,IAG3BjjB,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CAAC,CACJ1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGfwlC,YAAa,EACbd,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,cAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAACi5B,EAAgBzc,EAAcic,EAAiBF,EAAuBQ,IAE1ErlB,qBAAU,WACN,GAAmB,WAAhB8I,IAA6B2B,IAAgBC,GAGd,GAA/Bia,EAAqBn+B,OAAxB,CAGA,IAAIs/B,EAAQ,GAAID,EAAa,GAE7BlB,EAAqBr8B,SAAQ,SAAChI,GAC1BA,EAAKynC,uBACLzkC,MAAM4qB,QAAQ5tB,EAAKynC,sBAAsBnC,0BACzCtlC,EAAKynC,sBAAsBnC,wBAAwBt9B,SAAQ,SAACjF,GACxDyiC,EAAM3+B,KAAK9D,EAAM6iC,mBAGzBJ,EAAK,aAAO,IAAI8B,IAAI9B,IAGpBnB,EAAqBr8B,SAAQ,SAAChI,EAAMiD,GAChC,IAAIirB,EAAM,GACVsX,EAAMx9B,SAAQ,SAACjF,GACX,IAAIywB,GAAO,EACXxzB,EAAKynC,uBACLzkC,MAAM4qB,QAAQ5tB,EAAKynC,sBAAsBnC,0BACzCtlC,EAAKynC,sBAAsBnC,wBAAwBt9B,SAAQ,SAACO,GACrDA,EAAOq9B,aAAe7iC,IACrBmrB,EAAIrnB,MAAkB,IAAZ0B,EAAOs9B,MAAU73B,QAAQ,IACnCwlB,GAAO,MAGXA,GACAtF,EAAIrnB,KAAK,OAGjB0+B,EAAW1+B,KAAK,CACZ7Q,KAAMgK,EAAKivB,UACX33B,KAAM,MAENgiC,UAAW,CACPt3B,MAAOojC,EAAUniC,EAAM,IAE3BrL,KAAMs2B,OAGd,IAAI+J,EAAWC,KAAav9B,SAASyP,eAAe,yBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,yDACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,IAAK,IAEnCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,oBAKAq+B,IAGfoL,OAAQ,CACJjsC,MAAO,MACP9C,KAAM,SACN4B,IAAK,OACLo/B,MAAO,SACPE,UAAW,CACPx2B,MAAO,YAGfskC,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,SAASvpC,GAChB,OAAOA,EAAMsJ,OAAS,EAAGtJ,EAAM+M,OAAO,EAAG,GAAK,MAAO/M,KAIjEgqC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZyO,MAAO,CACH1vC,KAAM,QACNtB,KAAM,qBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBosB,IAAK,EACLC,IAAK,IACLC,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAACk3B,EAAgBmB,EAAsB7b,IAC1C9I,qBAAU,WACN,GAAmB,WAAhB8I,IAA6B2B,IAAgBC,GAGb,GAAhCma,EAAsBr+B,OAAzB,CAGA,IAAIq/B,EACAC,EAAQ,GAAkB4B,EAAU,GAAqBC,EAAc,GAAI/Q,EAAW,GAQ1F,GANAiO,EAAsBv8B,SAAQ,SAAChI,GAC3BA,EAAK0nC,4BAA4B1/B,SAAQ,SAACjF,GACtCskC,EAAYxgC,KAAK9D,EAAM6iC,mBAIN,IADzByB,EAAW,aAAO,IAAIC,IAAID,KACXnhC,OAAf,CAGyB,GAAzB6+B,EAAe7+B,QAAe8+B,EAAkBqC,IAC/CpC,GAAkBC,EAAkBmC,EAAY,IAGjD9C,EAAsBv8B,SAAQ,SAAChI,GAC3BA,EAAK0nC,4BAA4B1/B,SAAQ,SAACjF,GACnCA,EAAM6iC,aAAeX,IACpB3O,EAASzvB,KAAK9D,GACdyiC,EAAM3+B,KAAK9D,EAAMkR,cAM7BuxB,EAAK,aAAO,IAAI8B,IAAI9B,KACdx9B,SAAQ,SAAChI,GACX,IAAIunC,EAAM,EACVjR,EAAStuB,SAAQ,SAACjF,GACXA,EAAMkR,MAAQjU,IACbunC,GAAOxkC,EAAMygC,UAGrB4D,EAAQvgC,KAAK0gC,MAEbhC,EAAa,CAkBT,CACIvvC,KAAM,eACNsB,KAAM,MACNwuC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAMwvC,IAkBlB,IAAInP,EAAWC,KAAav9B,SAASyP,eAAe,2BACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,mDACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,IAAK,IAEnCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,yBAKAq+B,IAGfoL,OAAQ,CACJntC,IAAK,OACLo/B,MAAO,MAEPE,UAAW,CACPx2B,MAAO,YAGf4kC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,IAAO,EAAG,EAAG,IAG3BjjB,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CAAC,CACJ1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGfwlC,YAAa,EACbd,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,cAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,gBAEd,CAACi5B,EAAgBzc,EAAcic,EAAiBF,EAAuBQ,IAC1E,IAAI4C,EAAoB,GACpBzZ,EAAM,GASV,OAPAlrB,MAAM4qB,QAAQmX,IAAmBA,EAAe/8B,SAAQ,SAAChI,EAAMiD,GAC3DirB,EAAIrnB,KAAK7G,IACJiD,EAAQ,GAAK,GAAK,GAAMA,GAAS8hC,EAAe7+B,OAAS,IAC1DyhC,EAAkB9gC,KAAKqnB,GACvBA,EAAM,OAIZ,yBAAKnyB,UAAU,eACX,kBAAC,GAAD,CACAqB,SAAS,EACTD,IAAI,wBACJE,SAAUuG,GAEY,WAAhB4kB,GAA6C,WAAhBA,EAC7B,yBAAKzsB,UAAU,YAqBX,yBAAKA,UAAU,aAAa9B,MAAO,CAACq6B,YAAa,MAC7C,yBAAKv4B,UAAU,iBACsB,iBAAzBmnC,EAAe0E,QACc,iBAA9B1E,EAAe2E,aACrB3E,EAAe0E,OAAS1E,EAAe2E,aAAa75B,QAAQ,GAC7D,MAEJ,8DAEJ,yBAAKjS,UAAU,gBAAgB9B,MAAO,CAACq6B,YAAa,MAChD,yBAAKv4B,UAAU,iBACsB,iBAAzBmnC,EAAe0E,OACvB1E,EAAe0E,OAAO55B,QAAQ,GAC9B,MAEJ,oEAUJ,yBAAKjS,UAAU,cACX,yBAAKA,UAAU,gBACwB,iBAA3BmnC,EAAe4E,SACvB5E,EAAe4E,SAAS95B,QAAQ,GAChC,MAEJ,qEAGR,yBAAKjS,UAAU,YAqBX,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACVmnC,EAAe0E,QAEpB,wDAQJ,yBAAK7rC,UAAU,cACX,yBAAKA,UAAU,gBACVmnC,EAAe4E,UAEpB,yDAKd,yBAAK/rC,UAAU,eACT,yBAAKA,UAAU,wBASS,WAAhBysB,GAA8B2B,GAAiBC,EAS9C8Y,EAAeoC,yBAA4E,GAAjDpC,EAAeoC,wBAAwBp/B,OAOlF,yBAAKnK,UAAU,uBAAuB9B,MAAO,CAACsoC,UAAW,IAAKhmC,GAAG,yBANjE,kBAAC,GAAD,CACAR,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,YAChBl5B,MAAO,2BACPiB,KAAM,MAbyB,GAA/B+sC,EAAqBn+B,OACrB,kBAAC,GAAD,CACAnK,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,YAChBl5B,MAAO,2BACPiB,KAAM,MAEN,yBAAKyE,UAAU,uBAAuB9B,MAAO,CAACsoC,UAAW,IAAKhmC,GAAG,0BAWzE,yBAAKR,UAAU,eACf,yBAAKA,UAAU,2BAEPgpC,EAAe7+B,OAAS,EACxB,yBAAKnK,UAAU,YAAY9B,MAAO,CAACs1B,OAAQ,kBACvC,+CACA,kBAAC,KAAD,CACAwY,KAAM,CACFhsC,UAAW,cAGP4rC,EAAkB5nC,KAAI,SAACC,EAAMiD,GACzB,OACI,0BAAMlH,UAAU,iBAAiBhG,IAAKkN,GAE9BjD,EAAKD,KAAI,SAACgD,EAAO0wB,GACb,OACI,0BAAM13B,UAAU,iBAAiBhG,IAAK09B,GACtC,0BACA13B,UAAW,aAAekpC,GAAkBliC,EAAO,SAAU,IAC7DvG,QAAS,kBAAI0oC,EAAkBniC,KAE1BA,GAGD0wB,GAAUzzB,EAAKkG,OAAS,EACxB,0BAAMnK,UAAU,oBAChB,aAuCxC,GAGgB,WAAhBysB,GAA8B2B,GAAiBC,EAS/Cqa,EAAgBv+B,OAAS,EACzB,yBAAKnK,UAAU,yBAAyBQ,GAAG,2BAC3C,kBAAC,GAAD,CACAR,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,YAChBl5B,MAAO,2BACPiB,KAAM,MAdNitC,EAAsBr+B,OAAS,EAC/B,yBAAKnK,UAAU,yBAAyBQ,GAAG,2BAC3C,kBAAC,GAAD,CACAR,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,YAChBl5B,MAAO,2BACPiB,KAAM,UAmB9B,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAAD,EAS3BA,EAPFjB,WAF6B,IAG3B8jB,SAQJ,MAAO,CAACiD,WAXuB,EAIzBA,WAOcD,SAXW,EAKzBA,SAMwBnD,SAXC,EAO3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWsjB,M,qBC94ClD9uB,GAAeiR,GAAfjR,WACE3c,GAAWC,KAAXD,OAER,SAASsvC,GAAWjvC,EAAOuD,GAAM,IAEzBg5B,EAKAv8B,EALAu8B,YACA9M,EAIAzvB,EAJAyvB,aACA2B,EAGApxB,EAHAoxB,aACAC,EAEArxB,EAFAqxB,aALwB,EAOxBrxB,EADA2iB,SAAWK,EANa,EAMbA,SAAUM,EANG,EAMHA,OANG,EAS8B6C,mBAAS,IATvC,mBASrB+oB,EATqB,KASEC,EATF,OAUsBhpB,mBAAS,IAV/B,mBAUrBipB,EAVqB,KAUFC,EAVE,OAWsBlpB,mBAAS,IAX/B,mBAWrBmpB,EAXqB,KAWFC,EAXE,OAY4BppB,mBAAS,IAZrC,mBAYrBqpB,EAZqB,KAYCC,EAZD,OAc8BtpB,mBAAS,IAdvC,mBAcrBupB,EAdqB,KAcEC,EAdF,OAesBxpB,mBAAS,IAf/B,mBAerBypB,EAfqB,KAeFC,EAfE,OAgBsB1pB,mBAAS,IAhB/B,mBAgBrB2pB,EAhBqB,KAgBFC,EAhBE,OAiB4B5pB,mBAAS,IAjBrC,mBAiBrB6pB,EAjBqB,KAiBCC,EAjBD,OAmBI9pB,mBAAS,IAnBb,mBAmBrB6jB,EAnBqB,KAmBXC,EAnBW,OAoBc9jB,mBAAS,IApBvB,gCAqBcA,mBAAS,KArBvB,mBAqBN+pB,GArBM,aAsBoB/pB,mBAAS,IAtB7B,oBAsBrBgqB,GAtBqB,MAsBHC,GAtBG,SAuBYjqB,mBAAS,IAvBrB,qBAuBrBkqB,GAvBqB,MAuBPC,GAvBO,SAwBYnqB,mBAAS,IAxBrB,qBAwBrBoqB,GAxBqB,MAwBPC,GAxBO,SAyBkBrqB,oBAAS,GAzB3B,qBAyBrBsqB,GAzBqB,MAyBJC,GAzBI,SA0BUvqB,oBAAS,GA1BnB,qBA0BrBwqB,GA1BqB,MA0BRC,GA1BQ,SA2BQzqB,oBAAS,GA3BjB,qBA2BrB0qB,GA3BqB,MA2BTC,GA3BS,SA4BgB3qB,oBAAS,GA5BzB,qBA4BrB4qB,GA5BqB,MA4BLC,GA5BK,SA8BoB7qB,mBAAS,OA9B7B,qBA8BrB8qB,GA9BqB,MA8BHC,GA9BG,SA+BY/qB,mBAAS,OA/BrB,qBA+BrBgrB,GA/BqB,MA+BPC,GA/BO,SAgCkBjrB,mBAAS,IAhC3B,qBAgCrBkrB,GAhCqB,MAgCJC,GAhCI,SAiCUnrB,mBAAS,IAjCnB,qBAiCrBorB,GAjCqB,gBAkCgBprB,mBAAS,KAlCzB,qBAkCrB+lB,GAlCqB,MAkCLC,GAlCK,MAmCxBE,GAAY,CACZ,IAAIC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAIfmhB,2BAAgB,WACZ,GAAImS,IAGe,WAAhB9M,GAA8B4B,GAAiBD,GAAlD,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAE9D+I,EAAM0P,yDACuB,WAAhBmT,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B0wC,EAAqB77B,EAAO7U,SAKpC+N,EAAM0P,sDAC2B,WAAhBmT,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B4wC,EAAwB/7B,EAAO7U,YAGxC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,IAE9CnS,2BAAgB,WACZ,GAAmB,WAAhBqF,GAA8B4B,GAAiBD,EAAlD,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAM9D+I,EAAM0P,gEAEc,OAApB20B,GACA,EACoB,QAApBA,GACA,EACoB,SAApBA,GACA,EACA,GAEJ,eAAiC,WAAhBxhB,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BswC,EAAyBz7B,EAAO7U,YAGzC,CAACoyC,GAAkB1U,EAAalL,EAAcD,IAEjDhH,2BAAgB,WACZ,GAAmB,WAAhBqF,GAA8B4B,GAAiBD,EAAlD,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAM9D+I,EAAM0P,gEAEU,OAAhB60B,GACA,EACgB,QAAhBA,GACA,EACgB,SAAhBA,GACA,EACA,GAEJ,eAAiC,WAAhB1hB,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BwwC,EAAqB37B,EAAO7U,YAGrC,CAACsyC,GAAc5U,EAAalL,EAAcD,IAE7ChH,2BAAgB,WACZ,GAAImS,GAGe,WAAhB9M,IAGgB,WAAhBA,GAA+BnM,GAAW8N,GAAiBC,GAA9D,CAGA,IAAI6Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAE9D+I,EAAM0P,yDACuB,WAAhBmT,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BkxC,EAAqBr8B,EAAO7U,SAKpC+N,EAAM0P,sDAC2B,WAAhBmT,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BoxC,EAAwBv8B,EAAO7U,YAGxC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,IAE9CnS,2BAAgB,WACZ,GAAmB,WAAhBqF,IAGgB,WAAhBA,GAA+BnM,GAAW8N,GAAiBC,GAA9D,CAGA,IAAI6Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAM9D+I,EAAM0P,gEAEc,OAApB20B,GACA,EACoB,QAApBA,GACA,EACoB,SAApBA,GACA,EACA,GAEJ,eAAiC,WAAhBxhB,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B8wC,EAAyBj8B,EAAO7U,YAGzC,CAACoyC,GAAkB1U,EAAalL,EAAcD,IAEjDhH,2BAAgB,WACZ,GAAmB,WAAhBqF,IAGgB,WAAhBA,GAA+BnM,GAAW8N,GAAiBC,GAA9D,CAGA,IAAI6Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAM9D+I,EAAM0P,gEAEU,OAAhB60B,GACA,EACgB,QAAhBA,GACA,EACgB,SAAhBA,GACA,EACA,GAEJ,eAAiC,WAAhB1hB,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BgxC,EAAqBn8B,EAAO7U,YAGrC,CAACsyC,GAAc5U,EAAalL,EAAcD,IAE7ChH,2BAAgB,WACZ,IAAI8f,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAElE,IAAmB,WAAhB4rB,GAA8B4B,GAAiBD,KAG/B,WAAhB3B,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGA,IAAI6X,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAI5B,IAAI9lB,EAAM0P,GAAa,sCACN,WAAhBmT,EACD,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,GACA,eAAiC,WAAhB5B,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BorC,EAAYv2B,EAAO7U,SAI3B+N,EAAM0P,qDAC2B,WAAhBmT,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BqxC,EAAiBx8B,EAAO7U,SAGhCiyC,IAAc,GAEdlkC,EAAM0P,GAAa,0CACF,WAAhBmT,EACD2B,EACA,EACAC,EACA,EACA,EACgB,WAAhB5B,EAA2B,EAC3B,GACA,cAAgBnM,EAChB,YAAc8N,EACd,aACoB,WAAhB3B,GAA8B4B,EAE9BA,EADA6X,GAEJ,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B2xC,GAAgB98B,EAAO7U,MAE3BiyC,IAAc,MAElBE,IAAkB,GAElBpkC,EAAM0P,GAAa,uCACF,WAAhBmT,EACD2B,EACA,EACAC,EACA,EACA,EACgB,WAAhB5B,EAA2B,EAC3B,GACA,cAAgBnM,EAChB,YAAc8N,EACd,aACoB,WAAhB3B,GAA8B4B,EAE9BA,EADA6X,GAEJ,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9ByyC,GAAmB59B,EAAO7U,MAE9BmyC,IAAkB,SAEvB,CAACvhB,EAAc4B,EAAcD,EAAcmL,IAC9CnS,2BAAgB,WAEZ,IAAmB,WAAhBqF,GAA8B4B,GAAiBD,KAG/B,WAAhB3B,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGAsf,IAAmB,GACnB,IAAIxG,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAC9D+I,EAAM0P,GAAa,2CACN,WAAhBmT,EACD,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,GACA,qBACwB,OAApB4f,GACA,EACoB,QAApBA,GACA,EACoB,SAApBA,GACA,EACA,GAEJ,eAAiC,WAAhBxhB,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BuxC,GAAoB18B,EAAO7U,MAE/B6xC,IAAmB,SAExB,CAACO,GAAkB1U,EAAalL,EAAcD,IACjDhH,2BAAgB,WAEZ,IAAmB,WAAhBqF,GAA8B4B,GAAiBD,KAG/B,WAAhB3B,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGAwf,IAAe,GACf,IAAI1G,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAC9D+I,EAAM0P,GAAa,2CACN,WAAhBmT,EACD,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,GACA,qBACoB,OAAhB8f,GACA,EACgB,QAAhBA,GACA,EACgB,SAAhBA,GACA,EACA,GAEJ,eAAiC,WAAhB1hB,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9ByxC,GAAgB58B,EAAO7U,MAE3B+xC,IAAe,SAEpB,CAACO,GAAc5U,EAAalL,EAAcD,IAE7ChH,2BAAgB,WACZ,GAAmB,WAAhBqF,IAA6B4B,IAAgBD,EAAhD,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAC9DolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAI5B,IAAI9lB,EAAM0P,qDACuB,WAAhBmT,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BorC,EAAYv2B,EAAO7U,SAG3BiyC,IAAc,GAEdlkC,EAAM0P,6DACS0G,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B2xC,GAAgB98B,EAAO7U,MAE3BiyC,IAAc,MAElBE,IAAkB,GAElBpkC,EAAM0P,0DACS0G,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9ByyC,GAAmB59B,EAAO7U,MAE9BmyC,IAAkB,SAEvB,CAACvhB,EAAc4B,EAAcD,EAAcmL,IAE9CnS,2BAAgB,WAEZ,GADAsmB,IAAmB,GACA,WAAhBjhB,IAA6B4B,IAAgBD,EAAhD,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAM9D+I,EAAM0P,sEAEc,OAApB20B,GACA,EACoB,QAApBA,GACA,EACoB,SAApBA,GACA,EACA,GAEJ,aAAejuB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BuxC,GAAoB18B,EAAO7U,MAE/B6xC,IAAmB,SAExB,CAACO,GAAkB1U,EAAalL,EAAcD,EAAc3B,EAAczM,IAC7EoH,2BAAgB,WAEZ,GADAwmB,IAAe,GACI,WAAhBnhB,IAA6B4B,IAAgBD,EAAhD,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAM9D+I,EAAM0P,sEAEU,OAAhB60B,GACA,EACgB,QAAhBA,GACA,EACgB,SAAhBA,GACA,EACA,GAEJ,aAAenuB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9ByxC,GAAgB58B,EAAO7U,MAE3B+xC,IAAe,SAEpB,CAACO,GAAc5U,EAAalL,EAAcD,EAAc3B,EAAczM,IAEzE2D,qBAAU,WACN,GAA8B,GAA3BwpB,GAAiBhjC,OAApB,CAGA,IAAIs/B,EAAQ,GAAI+E,EAAS,GAAI7E,EAAgB,GAAIC,EAAgB,GAAIJ,EAAa,GAE/D,WAAhB/c,GAA8B2B,GAAiBC,EA2BxB,WAAhB5B,GACN0gB,GAAiBlhC,SAAQ,SAAChI,GACtBwlC,EAAM3+B,KAAK7G,EAAK2N,MAAQ3N,EAAK2N,KAAKhE,OAAO,EAAG,IAC5C4gC,EAAO1jC,KAAK2H,WAA2B,IAAhBxO,EAAKkkC,YAAgBl2B,QAAQ,OAExDy6B,EAAsBzgC,SAAQ,SAAChI,GAC3BwlC,EAAM3+B,KAAK7G,EAAK2N,MAAQ3N,EAAK2N,KAAKhE,OAAO,EAAG,IAC5C+7B,EAAc7+B,KAAK2H,WAA2B,IAAhBxO,EAAKkkC,YAAgBl2B,QAAQ,OAE/Di6B,EAAsBjgC,SAAQ,SAAChI,GAC3B2lC,EAAc9+B,KAAK2H,WAA2B,IAAhBxO,EAAKkkC,YAAgBl2B,QAAQ,OAE/Du3B,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK2yC,GAET,CACIjzC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM8tC,GAEV,CACIpuC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM+tC,KAGRxb,GACN+e,GAAiBlhC,SAAQ,SAAChI,GACtBwlC,EAAM3+B,KAAK7G,EAAK2N,MAAQ3N,EAAK2N,KAAKhE,OAAO,EAAG,IAC5C+7B,EAAc7+B,KAAK2H,WAA2B,IAAhBxO,EAAKkkC,YAAgBl2B,QAAQ,OAE/Di6B,EAAsBjgC,SAAQ,SAAChI,GAC3B2lC,EAAc9+B,KAAK2H,WAA2B,IAAhBxO,EAAKkkC,YAAgBl2B,QAAQ,OAE/Du3B,EAAa,CACT,CACIjuC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM8tC,GAEV,CACIpuC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM+tC,KAGRvb,IACN8e,GAAiBlhC,SAAQ,SAAChI,GACtBwlC,EAAM3+B,KAAK7G,EAAK2N,MAAQ3N,EAAK2N,KAAKhE,OAAO,EAAG,IAC5C4gC,EAAO1jC,KAAK2H,WAA2B,IAAhBxO,EAAKkkC,YAAgBl2B,QAAQ,OAExDu3B,EAAa,CAgBT,CACIjuC,KAAM,MAENwuC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM2yC,MAhKdrB,GAAiBlhC,SAAQ,SAAChI,EAAMiD,GAC5BjD,EAAKwqC,kBACLxqC,EAAKwqC,iBAAiBxiC,SAAQ,SAACjF,GAC3ByiC,EAAM3+B,KAAK9D,EAAM4K,MAAQ5K,EAAM4K,KAAKhE,OAAO,EAAG,UAGtD67B,EAAK,aAAO,IAAI8B,IAAI9B,IACpB0D,GAAiBlhC,SAAQ,SAAChI,EAAMiD,GAC5B,IAAIirB,EAAM,GACVsX,EAAMx9B,SAAQ,SAACjF,GACX/C,EAAKwqC,kBACLxqC,EAAKwqC,iBAAiBxiC,SAAQ,SAACO,GACxBA,EAAOoF,KAAKhE,OAAO,EAAG,IAAM5G,GAC3BmrB,EAAIrnB,KAAK2H,WAA6B,IAAlBjG,EAAO27B,YAAgBl2B,QAAQ,UAI/Du3B,EAAW1+B,KAAK,CACZvP,KAAM,MACNtB,KAAMgK,EAAKivB,UACXqK,UAAW,CACPt3B,MAAOojC,GAAUniC,EAAM,IAE3BrL,KAAMs2B,QA6IlB,IAAI+J,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,yBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTwjC,OACoB,WAAhB7d,GAA6B4B,GAAgBD,EAC7C,CACAmO,MAAO,MACPp/B,IAAK,GAEL,CACI5B,KAAM,SACN8C,MAAO,MACPnB,KAAM,SACNC,IAAK,GAGbi/B,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,oBAKAq+B,IAGf5C,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElC0gC,SAAU,CACNhtC,KAAO4rC,EAAMt/B,OAAS,EACtB2gC,aAAc,EACd4D,aAAc,EACdnwC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAK,eACLuwC,cAAe,CACXvkC,MAAO,WAEX0kC,UAAW,CACP1kC,MAAO,WAEXwkC,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGfmlC,UAAW,CACRpB,UAAW,CACN/jC,MAAO,YAGfpK,KAAM4tC,GAEVwB,MAAO,CACHhxC,KAAM,qBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvB6rB,UAAW,CACP1kC,MAAO,WAEXwkC,SAAU,CACN5sC,MAAM,GAEVqtC,IAAK,EACLC,IAAK,IACLT,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGfmlC,UAAW,CACRpB,UAAW,CACN/jC,MAAO,aAInB+2B,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAACk9B,GAAkBc,KAEtBtqB,qBAAU,WACN,GAA0B,GAAvB0pB,GAAaljC,OAAhB,CAGA,IAAIs/B,EAAQ,GAAIE,EAAgB,GAAIC,EAAgB,GAAIJ,EAAa,GAAIgF,EAAS,GAC/D,WAAhB/hB,GAA8B4B,GAAiBD,EA2BxB,WAAhB3B,GACN4gB,GAAaphC,SAAQ,SAAChI,GAClBwlC,EAAM3+B,KAAK7G,EAAK2N,MAAQ3N,EAAK2N,KAAKhE,OAAO,EAAG,IAC5C4gC,EAAO1jC,KAAK2H,WAAyB,IAAdxO,EAAK0qC,UAAc18B,QAAQ,OAEtD26B,EAAkB3gC,SAAQ,SAAChI,GACvB0lC,EAAc7+B,KAAK2H,WAAyB,IAAdxO,EAAK0qC,UAAc18B,QAAQ,OAE7Dm6B,EAAkBngC,SAAQ,SAAChI,GACvB2lC,EAAc9+B,KAAK2H,WAAyB,IAAdxO,EAAK0qC,UAAc18B,QAAQ,OAE7Du3B,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK2yC,GAET,CACIjzC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM8tC,GAEV,CACIpuC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM+tC,KAGRxb,GACNif,GAAaphC,SAAQ,SAAChI,GAClBwlC,EAAM3+B,KAAK7G,EAAK2N,MAAQ3N,EAAK2N,KAAKhE,OAAO,EAAG,IAC5C+7B,EAAc7+B,KAAK2H,WAAyB,IAAdxO,EAAK0qC,UAAc18B,QAAQ,OAE7Dm6B,EAAkBngC,SAAQ,SAAChI,GACvB2lC,EAAc9+B,KAAK2H,WAAyB,IAAdxO,EAAK0qC,UAAc18B,QAAQ,OAE7Du3B,EAAa,CAET,CACIjuC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM8tC,GAEV,CACIpuC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM+tC,MAIdyD,GAAaphC,SAAQ,SAAChI,GAClBwlC,EAAM3+B,KAAK7G,EAAK2N,MAAQ3N,EAAK2N,KAAKhE,OAAO,EAAG,IAC5C4gC,EAAO1jC,KAAK2H,WAAyB,IAAdxO,EAAK0qC,UAAc18B,QAAQ,OAEtDu3B,EAAa,CACT,CACIjuC,KAAM,MAENwuC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM2yC,MAjJfnB,GAAaphC,SAAQ,SAAChI,EAAMiD,GACvBjD,EAAKwqC,kBACLxqC,EAAKwqC,iBAAiBxiC,SAAQ,SAACjF,GAC3ByiC,EAAM3+B,KAAK9D,EAAM4K,MAAQ5K,EAAM4K,KAAKhE,OAAO,EAAG,UAGtD67B,EAAK,aAAO,IAAI8B,IAAI9B,IACrB4D,GAAaphC,SAAQ,SAAChI,EAAMiD,GACvB,IAAIirB,EAAM,GACVsX,EAAMx9B,SAAQ,SAACjF,GACX/C,EAAKwqC,kBACLxqC,EAAKwqC,iBAAiBxiC,SAAQ,SAACO,GACxBA,EAAOoF,KAAKhE,OAAO,EAAG,IAAM5G,GAC3BmrB,EAAIrnB,MAAkC,IAA5B2H,WAAWjG,EAAOmiC,WAAe18B,QAAQ,UAI/Du3B,EAAW1+B,KAAK,CACZvP,KAAM,MACNtB,KAAMgK,EAAKivB,UACXqK,UAAW,CACPt3B,MAAOojC,GAAUniC,EAAM,IAE3BrL,KAAMs2B,QA8HlB,IAAI+J,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,qBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTwjC,OACoB,WAAhB7d,GAA6B4B,GAAgBD,EAC7C,CACAmO,MAAO,MACPp/B,IAAK,GAEL,CACI5B,KAAM,SACN8C,MAAO,MACPnB,KAAM,SACNC,IAAK,GAGbi/B,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,oBAKAq+B,IAGf5C,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElC0gC,SAAU,CACNhtC,KAAO4rC,EAAMt/B,OAAS,EACtB2gC,aAAc,EACd4D,aAAc,EACdnwC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAK,eACLuwC,cAAe,CACXvkC,MAAO,WAEX0kC,UAAW,CACP1kC,MAAO,WAEXwkC,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGfmlC,UAAW,CACRpB,UAAW,CACN/jC,MAAO,YAGfpK,KAAM4tC,GAEVwB,MAAO,CACHhxC,KAAM,qBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvB6rB,UAAW,CACP1kC,MAAO,WAEXwkC,SAAU,CACN5sC,MAAM,GAEVqtC,IAAK,EACLC,IAAK,IACLT,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGfmlC,UAAW,CACRpB,UAAW,CACN/jC,MAAO,aAInB+2B,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAACo9B,GAAcc,KAElBxqB,qBAAU,WAEN,GAA0B,GAAvB4pB,GAAapjC,OAAhB,CAGA,IAAIokC,EAAc,GAAI5E,EAAgB,GAAIC,EAAgB,GAAIJ,EAAa,GAAIgF,EAAS,GACrE,WAAhB/hB,GAA8B4B,GAAiBD,EA2BxB,WAAhB3B,GACN8gB,GAAathC,SAAQ,SAAChI,GAClBsqC,EAAYzjC,KAAK7G,EAAK4lC,aACtB2E,EAAO1jC,KAAK7G,EAAKwjC,MAAMx1B,QAAQ,OAEnC66B,EAAkB7gC,SAAQ,SAAChI,GACvB0lC,EAAc7+B,KAAK7G,EAAKwjC,MAAMx1B,QAAQ,OAE1Cq6B,EAAkBrgC,SAAQ,SAAChI,GACvB2lC,EAAc9+B,KAAK7G,EAAKwjC,MAAMx1B,QAAQ,OAE1Cu3B,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK2yC,GAET,CACIjzC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM8tC,GAEV,CACIpuC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM+tC,KAGRxb,GACNmf,GAAathC,SAAQ,SAAChI,GAClBsqC,EAAYzjC,KAAK7G,EAAK4lC,aACtB2E,EAAO1jC,KAAK7G,EAAKwjC,MAAMx1B,QAAQ,OAEnCq6B,EAAkBrgC,SAAQ,SAAChI,GACvB2lC,EAAc9+B,KAAK7G,EAAKwjC,MAAMx1B,QAAQ,OAE1Cu3B,EAAa,CACT,CACIjuC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM2yC,GAEV,CACIjzC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM+tC,MAId2D,GAAathC,SAAQ,SAAChI,GAClBsqC,EAAYzjC,KAAK7G,EAAK4lC,aACtB2E,EAAO1jC,KAAK7G,EAAKwjC,MAAMx1B,QAAQ,OAEnCu3B,EAAa,CACT,CACIjuC,KAAM,MAENwuC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM2yC,MAhJdjB,GAAathC,SAAQ,SAAChI,EAAMiD,GACxBjD,EAAK2qC,oBACL3qC,EAAK2qC,mBAAmB3iC,SAAQ,SAACjF,GAC7BunC,EAAYzjC,KAAK9D,EAAM6nC,eAG/BN,EAAW,aAAO,IAAIhD,IAAIgD,IAC3BhB,GAAathC,SAAQ,SAAChI,EAAMiD,GACvB,IAAIirB,EAAM,GACVoc,EAAYtiC,SAAQ,SAACjF,GACjB/C,EAAK2qC,oBACL3qC,EAAK2qC,mBAAmB3iC,SAAQ,SAACO,GAC1BA,EAAOqiC,SAAW7nC,GACjBmrB,EAAIrnB,KAAK0B,EAAOi7B,MAAMx1B,QAAQ,UAI1Cu3B,EAAW1+B,KAAK,CACZvP,KAAM,MACNtB,KAAMgK,EAAKivB,UACXqK,UAAW,CACPt3B,MAAOojC,GAAUniC,EAAM,IAE3BrL,KAAMs2B,QA8HlB,IAAI+J,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,oBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTwjC,OACoB,WAAhB7d,GAA6B4B,GAAgBD,EAC7C,CACAmO,MAAO,MACPp/B,IAAK,GAEL,CACI5B,KAAM,SACN8C,MAAO,MACPnB,KAAM,SACNC,IAAK,GAGbi/B,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,yBAKAq+B,IAGf5C,KAAM,CACFn/B,IAAK,GACLq/B,OAAQ+R,EAAYpkC,OAAS,EAAG,GAAI,IAExC0gC,SAAU,CACNhtC,KAAM0wC,EAAYpkC,OAAS,EAC3B2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAEX0kC,UAAW,CACPC,SAAU,EACV3kC,MAAO,WAEXwkC,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGfmlC,UAAW,CACRpB,UAAW,CACN/jC,MAAO,YAGfpK,KAAM0yC,GAEVtD,MAAO,CACHhxC,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvB6rB,UAAW,CACP1kC,MAAO,WAEXwkC,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGfmlC,UAAW,CACRpB,UAAW,CACN/jC,MAAO,aAInB+2B,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAACs9B,KAEJ5pB,qBAAU,WAEN,GAA6B,GAA1B0qB,GAAgBlkC,QAA8C,GAA/BqiC,EAAqBriC,OAAvD,CAGA,IAAIs/B,EAAQ,GAAI+E,EAAS,GAAI7E,EAAgB,GAAI4E,EAAc,GAAI3E,EAAgB,GAAIJ,EAAa,GACjF,WAAhB/c,GAA8B4B,GAAiBD,EA6BxB,WAAhB3B,GACN4hB,GAAgBpiC,SAAQ,SAAChI,GACrBwlC,EAAM3+B,KAAK7G,EAAKiU,OACZgxB,IAAkBjlC,EAAK4lC,aAAeX,KACxCA,IAAkBjlC,EAAK4lC,aAAewE,GAAgB,GAAGxE,cACvD2E,EAAO1jC,KAAK7G,EAAKwjC,OAErB8G,EAAYzjC,KAAK7G,EAAK4lC,gBAE1BmD,EAAqB/gC,SAAQ,SAAChI,IACtBilC,IAAkBjlC,EAAK4lC,aAAeX,KACxCA,IAAkBjlC,EAAK4lC,aAAemD,EAAqB,GAAGnD,cAC5DF,EAAc7+B,KAAK7G,EAAKwjC,UAGhC+E,EAAqBvgC,SAAQ,SAAChI,IACtBilC,IAAkBjlC,EAAK4lC,aAAeX,KACxCA,IAAkBjlC,EAAK4lC,aAAe2C,EAAqB,GAAG3C,cAC5DD,EAAc9+B,KAAK7G,EAAKwjC,WAG/ByB,IAAkBC,GAAkBoF,EAAY,IACjD/E,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK2yC,GAET,CACIjzC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM8tC,GAEV,CACIpuC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM+tC,KAGRxb,GACNigB,GAAgBpiC,SAAQ,SAAChI,GACrBwlC,EAAM3+B,KAAK7G,EAAKiU,OACZgxB,IAAkBjlC,EAAK4lC,aAAeX,KACxCA,IAAkBjlC,EAAK4lC,aAAewE,GAAgB,GAAGxE,cACvD2E,EAAO1jC,KAAK7G,EAAKwjC,OAErB8G,EAAYzjC,KAAK7G,EAAK4lC,gBAE1B2C,EAAqBvgC,SAAQ,SAAChI,IACtBilC,IAAkBjlC,EAAK4lC,aAAeX,KACxCA,IAAkBjlC,EAAK4lC,aAAe2C,EAAqB,GAAG3C,cAC5DD,EAAc9+B,KAAK7G,EAAKwjC,WAG/ByB,IAAkBC,GAAkBoF,EAAY,IACjD/E,EAAa,CACT,CACIjuC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM2yC,GAEV,CACIjzC,KAAM,MACNtB,KAAM,eACN8vC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM+tC,MAIdyE,GAAgBpiC,SAAQ,SAAChI,GACrBwlC,EAAM3+B,KAAK7G,EAAKiU,OACZgxB,IAAkBjlC,EAAK4lC,aAAeX,KACxCA,IAAkBjlC,EAAK4lC,aAAewE,GAAgB,GAAGxE,cACvD2E,EAAO1jC,KAAK7G,EAAKwjC,OAErB8G,EAAYzjC,KAAK7G,EAAK4lC,iBAEzBX,IAAkBC,GAAkBoF,EAAY,IACjD/E,EAAa,CACT,CACIjuC,KAAM,MAENwuC,SAAU,GACVxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM2yC,MA1KdH,GAAgBpiC,SAAQ,SAAChI,EAAMiD,GAC3BjD,EAAK0nC,6BACL1nC,EAAK0nC,4BAA4B1/B,SAAQ,SAACjF,GACtCunC,EAAYzjC,KAAK9D,EAAM6iC,aACvBJ,EAAM3+B,KAAK9D,EAAMkR,YAGzBq2B,EAAW,aAAO,IAAIhD,IAAIgD,IAC3BF,GAAgBpiC,SAAQ,SAAChI,EAAMiD,GAC1B,IAAIirB,EAAM,GACVsX,EAAMx9B,SAAQ,SAACjF,GACX/C,EAAK0nC,6BACL1nC,EAAK0nC,4BAA4B1/B,SAAQ,SAACO,IAClC08B,IAAkB18B,EAAO0L,MAAQlR,GAASwF,EAAOq9B,aAAeX,KAClEA,IAAkB18B,EAAO0L,MAAQlR,GAASwF,EAAOq9B,aAAe5lC,EAAK0nC,4BAA4B,GAAG9B,cAClG1X,EAAIrnB,KAAK0B,EAAOi7B,MAAMx1B,QAAQ,UAI1Cu3B,EAAW1+B,KAAK,CACZvP,KAAM,MACNtB,KAAMgK,EAAKivB,UACXqK,UAAW,CACPt3B,MAAOojC,GAAUniC,EAAM,IAE3BrL,KAAMs2B,QAqJlB,IAAI+J,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,wBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTwjC,OACoB,WAAhB7d,GAA6B4B,GAAgBD,EAC7C,CACAmO,MAAO,MACPp/B,IAAK,GAEL,CACI5B,KAAM,SACN8C,MAAO,MACPnB,KAAM,SACNC,IAAK,GAGbi/B,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,yBAKAq+B,IAGf5C,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElC0gC,SAAU,CACNhtC,KAAO4rC,EAAMt/B,OAAS,EACtB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAEX0kC,UAAW,CACP1kC,MAAO,WAEXwkC,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGfmlC,UAAW,CACRpB,UAAW,CACN/jC,MAAO,YAGfpK,KAAM4tC,GAEVwB,MAAO,CACHhxC,KAAM,qBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvB6rB,UAAW,CACP1kC,MAAO,WAEXwkC,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGfmlC,UAAW,CACRpB,UAAW,CACN/jC,MAAO,aAInB+2B,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAACo+B,GAAiBnF,KAErB,IAAI4F,GAAgB,GAChB3c,GAAM,GACVlrB,MAAM4qB,QAAQ0b,KAAiBA,GAAathC,SAAQ,SAAChI,EAAMiD,GACvDirB,GAAIrnB,KAAK7G,IACJiD,EAAQ,GAAK,GAAK,GAAMA,GAASqmC,GAAapjC,OAAS,IACxD2kC,GAAchkC,KAAKqnB,IACnBA,GAAM,OAKd,IAAIyZ,GAAoB,GACpBmD,GAAO,GAQX,OAPA9nC,MAAM4qB,QAAQ0c,KAAgBA,GAAYtiC,SAAQ,SAAChI,EAAMiD,GACrD6nC,GAAKjkC,KAAK7G,IACLiD,EAAQ,GAAK,GAAK,GAAMA,GAASqnC,GAAYpkC,OAAS,IACvDyhC,GAAkB9gC,KAAKqnB,IACvB4c,GAAO,OAIX,yBAAK/uC,UAAU,eACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,yBACX,yBAAKA,UAAU,iBACf,kBAAC,KAAD,CACAwG,UAAU,aACVq4B,QACI,yBAAK7+B,UAAU,mBAUf,kBAAC,KAAD,CACAzE,KAAK,SACLyzC,QACIhI,EAASmB,WACT5oC,SAA6B,IAApBynC,EAASmB,YAClB,KAEJnf,OAAQ,SAACgmB,GAAD,OAAYA,GACpB3wC,MAAO,GACP4wC,UAAQ,EACRjvC,UAAU,yBACVkvC,YAAY,aAEhB,kDAEA,yBAAKlvC,UAAU,aACf,kBAAC,KAAD,CACAwG,UAAU,aACVq4B,QACI,yBAAK7+B,UAAU,mBAUf,kBAAC,KAAD,CACAzE,KAAK,SACLyzC,QACIhI,EAAS2H,SACLpvC,SAA2B,IAAlBynC,EAAS2H,UACtB,KAEJ3lB,OAAQ,SAACgmB,GAAD,OAAYA,GACpB3wC,MAAO,GACP2B,UAAU,qBACVkvC,YAAY,aAEhB,mDAGJ,yBAAKlvC,UAAU,eAEXutC,GAAapjC,OAAS,EACtB,kBAAC,KAAD,CACA6hC,KAAM,CACFhsC,UAAW,cAGX8uC,GAAc9qC,KAAI,SAACC,EAAMiD,GACrB,OACI,yBAAKlH,UAAU,qBAAqBhG,IAAKkN,GAErCjD,EAAKD,KAAI,SAACgD,EAAO0wB,GACb,OACI,yBAAK13B,UAAU,iBAAiBhG,IAAK09B,GACjC,uBAAG13B,UAAW,cACdgH,EAAMygC,OAAS,GACX,SACJzgC,EAAMygC,OAAS,IAAMzgC,EAAMygC,MAAQ,GAC/B,SACJzgC,EAAMygC,OAAS,IAAMzgC,EAAMygC,MAAQ,GAC/B,OACAzgC,EAAMygC,OAAS,IAAMzgC,EAAMygC,MAAQ,GACnC,QACA,QACsB,iBAAfzgC,EAAMygC,MAAmBzgC,EAAMygC,MAAO,MACjD,2BAAIzgC,EAAM6iC,YAAV,gBACA,0DAU5B,kBAAC,GAAD,CACA7pC,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,OAKd,yBAAKyE,UAAU,yBACX,yBAAKA,UAAU,WACf,yBAAKA,UAAU,WACf,yBAAKA,UAAU,sBACX,yBAAKA,UAAU,gBACX,gEACA,kBAAC,KAAD,CAAQmvC,aAAa,MAAMnvC,UAAU,SAAS0D,SAAU,SAAC7C,GAAD,OAASqtC,GAAoBrtC,KACjF,kBAAC,GAAD,CAAQA,MAAM,OAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,QAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,SAAd,wBAGR,kBAAC,GAAD,CACAQ,SAAS,EACTD,IAAI,wBACJE,SAAUmsC,IACV,yBAAKztC,UAAU,uBAAuBQ,GAAG,2BAG7C,yBAAKR,UAAU,kBACX,yBAAKA,UAAU,gBACX,gEACA,kBAAC,KAAD,CAAQmvC,aAAa,MAAMnvC,UAAU,SAAS0D,SAAU,SAAC7C,GAASutC,GAAgBvtC,KAC9E,kBAAC,GAAD,CAAQA,MAAM,OAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,QAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,SAAd,wBAGR,kBAAC,GAAD,CACAQ,SAAS,EACTD,IAAI,wBACJE,SAAUqsC,IACV,yBAAK3tC,UAAU,mBAAmBQ,GAAG,uBAGzC,yBAAKR,UAAU,uBACX,yBAAKA,UAAU,gBACX,+FAKJ,kBAAC,GAAD,CACAqB,SAAS,EACTD,IAAI,wBACJE,SAAUusC,IAENN,GAAapjC,OAAS,EACtB,yBAAKnK,UAAU,kBAAkBQ,GAAG,oBACpC,kBAAC,GAAD,CACAR,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,QAKd,yBAAKyE,UAAU,wBAEPuuC,GAAYpkC,OAAS,EACrB,yBAAKnK,UAAU,aACX,+CACA,kBAAC,KAAD,CACAgsC,KAAM,CACFhsC,UAAW,cAGP4rC,GAAkB5nC,KAAI,SAACC,EAAMiD,GACzB,OACI,0BAAMlH,UAAU,iBAAiBhG,IAAKkN,GAE9BjD,EAAKD,KAAI,SAACgD,EAAO0wB,GACb,OACI,0BAAM13B,UAAU,iBAAiBhG,IAAK09B,GACtC,0BACA13B,UAAW,aACVkpC,IAAkBliC,EAAO,SAAU,IACpCvG,QAAS,kBAAI0oC,GAAkBniC,KAE1BA,GAGD0wB,GAAUzzB,EAAKkG,OAAS,EACxB,0BAAMnK,UAAU,oBAChB,aAaxC,GAGJ,yBAAKA,UAAU,gBACX,8BAAOkpC,GAAP,yCAKJ,kBAAC,GAAD,CACA7nC,SAAS,EACTD,IAAI,wBACJE,SAAUysC,IAENM,GAAgBlkC,OAAS,GAAKmiC,EAAoB,EAClD,yBAAKtsC,UAAU,sBAAsBQ,GAAG,wBACxC,kBAAC,GAAD,CACAR,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,UAY9B,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAAD,EAS3BA,EAPFjB,WAF6B,IAG3B8jB,SAQJ,MAAO,CAACiD,WAXuB,EAIzBA,WAOcD,SAXW,EAKzBA,SAMwBnD,SAXC,EAO3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWmnB,MCrhElD3yB,GAAeiR,GAAfjR,WAEN,SAAS81B,GAAYpyC,EAAOuD,GAAM,IAE1Bg5B,EAMAv8B,EANAu8B,YACA9M,EAKAzvB,EALAyvB,aACA2B,EAIApxB,EAJAoxB,aACAC,EAGArxB,EAHAqxB,aALyB,GAQzBrxB,EAFAw8B,QAEAx8B,EADA2iB,UAAWK,EAPc,EAOdA,SAAUM,EAPI,EAOJA,OAPI,EAUK6C,mBAAS,IAVd,mBAUtBksB,EAVsB,KAUXC,EAVW,OAWensB,mBAAS,IAXxB,mBAWtBosB,EAXsB,KAWNC,EAXM,OAYersB,mBAAS,IAZxB,mBAYtBssB,EAZsB,KAYNC,EAZM,OAcevsB,mBAAS,IAdxB,mBActBwsB,EAdsB,KAcNC,EAdM,OAeyBzsB,mBAAS,IAflC,mBAetB0sB,EAfsB,KAeDC,EAfC,OAgByB3sB,mBAAS,IAhBlC,mBAgBtB4sB,EAhBsB,KAgBDC,EAhBC,OAiBuB7sB,mBAAS,IAjBhC,mBAiBtB8sB,EAjBsB,KAiBFC,EAjBE,OAmBmB/sB,mBAAS,IAnB5B,mBAmBtBgtB,EAnBsB,KAmBJC,EAnBI,OAoBejtB,mBAAS,IApBxB,mBAoBtB+lB,EApBsB,KAoBNC,EApBM,KAqBzBE,EAAY,CACZ,IAAIC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAIfmhB,2BAAgB,WACZ,GAAmB,WAAhBqF,IAGgB,WAAhBA,GAA+BnM,GAAW8N,GAAiBC,GAA9D,CAGA,IAAI6Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAC9DolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAK5B,IAAI9lB,EAAM0P,gEAEI8U,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B2zC,EAAkB9+B,EAAO7U,SAIjC+N,EAAM0P,oEAEQ8U,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bi0C,EAAuBp/B,EAAO7U,SAItC+N,EAAM0P,0EAGyB,WAAhBmT,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B6zC,EAAkBh/B,EAAO7U,SAIjC+N,EAAM0P,8EAGyB,WAAhBmT,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bm0C,EAAuBt/B,EAAO7U,YAGvC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,IAE9CnS,2BAAgB,WACZ,GAAmB,WAAhBqF,IAGgB,WAAhBA,GAA8B2B,GAAjC,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAC9DolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAI5B,IAAI9lB,EAAM0P,0EAGqB,WAAhBmT,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B6zC,EAAkBh/B,EAAO7U,SAIjC+N,EAAM0P,8EAGyB,WAAhBmT,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bm0C,EAAuBt/B,EAAO7U,YAGvC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,IAE9CnS,2BAAgB,WACZ,GAAImS,EAAY14B,QAGG,WAAhB4rB,GAA8B4B,GAAiBD,KAG/B,WAAhB3B,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAC9DolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAI5B,IAAI9lB,EAAM0P,GAAa,yCAEH,WAAhBmT,EACA,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,GAEJ,eAAiC,WAAhB5B,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,KAAK,CACnCyzC,EAAa5+B,EAAO7U,MACpB,IAAIs2B,EAAM,GACVzhB,EAAO7U,KAAKw0C,kBAAkBpkC,SAAQ,SAAChI,GACnCA,EAAKqsC,qBAAqBrkC,SAAQ,SAACjF,GAC/BmrB,EAAIrnB,KAAK9D,EAAM6iC,mBAGvB1X,EAAG,aAAO,IAAIoZ,IAAIpZ,IAClBie,EAAoBje,GACpBgX,EAAkBhX,EAAI,QAI9BvoB,EAAM0P,GAAa,6CAEC,WAAhBmT,EACA,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,GAEJ,eAAiC,WAAhB5B,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B+zC,EAAkBl/B,EAAO7U,YAGlC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,IAE9CnS,2BAAgB,WACZ,GAAImS,EAAY14B,OAGG,WAAhB4rB,IAA6B2B,IAAgBC,EAAhD,CAGA,IAAI6Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAE9D+I,EAAM0P,4DACK0G,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,KAAK,CACnCyzC,EAAa5+B,EAAO7U,MACpB,IAAIs2B,EAAM,GACVlrB,MAAM4qB,QAAQnhB,EAAO7U,OACrB6U,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACjBA,EAAKssC,kBACLtpC,MAAM4qB,QAAQ5tB,EAAKssC,iBAAiBF,oBACpCpsC,EAAKssC,iBAAiBF,kBAAkBpkC,SAAQ,SAACO,GAC7CvF,MAAM4qB,QAAQrlB,EAAO8jC,uBACrB9jC,EAAO8jC,qBAAqBrkC,SAAQ,SAACukC,GACjCre,EAAIrnB,KAAK0lC,EAAO3G,sBAI5B1X,EAAG,aAAO,IAAIoZ,IAAIpZ,IAClBie,EAAoBje,GACpBgX,EAAkBhX,EAAI,QAI9BvoB,EAAM0P,gEACS0G,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bq0C,EAAsBx/B,EAAO7U,SAIrC+N,EAAM0P,uFAIS0G,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B+zC,EAAkBl/B,EAAO7U,YAGlC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,IAE9C5V,qBAAU,WACN,IAAI8lB,EAAQ,GAAI+E,EAAS,GAAIvI,EAAY,GAAIwK,EAAY,GAAIjH,EAAa,GAC1E,GAAmB,WAAhB/c,GAA8B4B,GAAiBD,GAsB3C,GAAmB,WAAhB3B,EAA0B,CAChC,IAAIxlB,MAAM4qB,QAAQ8d,EAAeW,sBAC7B,OAEJX,EAAeW,qBAAqBrkC,SAAQ,SAAChI,GACzCwlC,EAAM3+B,KAAK7G,EAAK4lC,aAChB2E,EAAO1jC,KAAK7G,EAAKysC,YAErBzpC,MAAM4qB,QAAQge,EAAoBS,uBAClCT,EAAoBS,qBAAqBrkC,SAAQ,SAAChI,GAC9CgiC,EAAUn7B,KAAK7G,EAAKysC,YAExBzpC,MAAM4qB,QAAQke,EAAoBO,uBAClCP,EAAoBO,qBAAqBrkC,SAAQ,SAAChI,GAC9CwsC,EAAU3lC,KAAK7G,EAAKysC,YAExBlH,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK2yC,GAET,CACIv0C,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,SAIV,GAAGriB,EAAa,CACnB,IAAInnB,MAAM4qB,QAAQ8d,EAAeW,sBAC7B,OAEJX,EAAeW,qBAAqBrkC,SAAQ,SAAChI,GACzCwlC,EAAM3+B,KAAK7G,EAAK4lC,aAChB2E,EAAO1jC,KAAK7G,EAAKysC,YAErBzpC,MAAM4qB,QAAQke,EAAoBO,uBAClCP,EAAoBO,qBAAqBrkC,SAAQ,SAAChI,GAC9CwsC,EAAU3lC,KAAK7G,EAAKysC,YAExBlH,EAAa,CACT,CACIvvC,KAAK,iCACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK2yC,GAET,CACIv0C,KAAK,6CACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,SAGV,GAAGpiB,EAAa,CACnB,IAAIpnB,MAAM4qB,QAAQ8d,EAAeW,sBAC7B,OAEJX,EAAeW,qBAAqBrkC,SAAQ,SAAChI,GACzCwlC,EAAM3+B,KAAK7G,EAAK4lC,aAChB2E,EAAO1jC,KAAK7G,EAAKysC,YAErBlH,EAAa,CACT,CAEIjuC,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK2yC,SAzJ8C,CAC3D,IAAIvnC,MAAM4qB,QAAQoe,GACd,OAEJA,EAAmBhkC,SAAQ,SAAChI,EAAMiD,GAC9B,IAAIirB,EAAM,GACVluB,EAAK0sC,WACL1pC,MAAM4qB,QAAQ5tB,EAAK0sC,UAAUL,uBAC7BrsC,EAAK0sC,UAAUL,qBAAqBrkC,SAAQ,SAACjF,GACzCyiC,EAAM3+B,KAAK9D,EAAM6iC,aACjB1X,EAAIrnB,KAAK9D,EAAM0pC,YAEnBlH,EAAW1+B,KAAK,CACZ7Q,KAAKgK,EAAKivB,UACV33B,KAAK,MACLgiC,UAAW,CACPt3B,MAAOojC,EAAUniC,EAAM,IAE3BrL,KAAKs2B,OAGbsX,EAAK,aAAO,IAAI8B,IAAI9B,IAwIxB,IAAIvN,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,oBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,uCACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAgBP,OAPAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,mJAGDj7B,EAAKomC,aAAoD,GAAtCpmC,EAAKomC,WAAW7/B,QAAQ,UAAiBvG,EAAKomC,WAAa,IAAK,GAHlF,2FAI8CpmC,EAAKpD,MAJnD,oBAMAq+B,IAGfoL,OACoB,WAAhB7d,GAA6B4B,GAAgBD,EAC7C,CACIjxB,IAAK,OACLo/B,MAAO,MAEPE,UAAW,CACPx2B,MAAO,YAGf,CACI1K,KAAM,SACN8C,MAAO,MACPnB,KAAM,SACNC,IAAK,IAGb0tC,SAAU,CACNhtC,KAAO4rC,EAAMt/B,OAAS,EACtB2gC,aAAc,EACd4D,aAAc,EACdnwC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,iBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBosB,IAAK,EACLC,IAAK,IACLC,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,cAEd,CAAC0/B,EAAgBM,EAAoBxjB,IAExC9I,qBAAU,WACN,IAAI8lB,EAAQ,GAAI+E,EAAS,GAAIvI,EAAY,GAAIwK,EAAY,GAAIjH,EAAa,GAC1E,GAAmB,WAAhB/c,GAA8B4B,GAAiBD,GAsB3C,GAAmB,WAAhB3B,EAA0B,CAChC,IAAIxlB,MAAM4qB,QAAQwd,EAAUgB,mBACxB,OAEJhB,EAAUgB,kBAAkBpkC,SAAQ,SAAChI,GACjCwlC,EAAM3+B,KAAK7G,EAAKiU,MAChBjU,EAAKqsC,qBAAqBrkC,SAAQ,SAACjF,GAC5BA,EAAM6iC,aAAeX,GACpBsF,EAAO1jC,KAAK9D,EAAM0pC,eAI9BzpC,MAAM4qB,QAAQ0d,EAAec,oBAC7Bd,EAAec,kBAAkBpkC,SAAQ,SAAChI,GACtCA,EAAKqsC,qBAAqBrkC,SAAQ,SAACjF,GAC5BA,EAAM6iC,aAAeX,GACpBjD,EAAUn7B,KAAK9D,EAAM0pC,eAIjCzpC,MAAM4qB,QAAQ4d,EAAeY,oBAC7BZ,EAAeY,kBAAkBpkC,SAAQ,SAAChI,GACtCA,EAAKqsC,qBAAqBrkC,SAAQ,SAACjF,GAC5BA,EAAM6iC,aAAeX,GACpBuH,EAAU3lC,KAAK9D,EAAM0pC,eAIjClH,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK2yC,GAET,CACIv0C,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,SAGV,GAAGriB,EAAa,CACnB,IAAInnB,MAAM4qB,QAAQwd,EAAUgB,mBACxB,OAEJhB,EAAUgB,kBAAkBpkC,SAAQ,SAAChI,GACjCwlC,EAAM3+B,KAAK7G,EAAKiU,MAChBjU,EAAKqsC,qBAAqBrkC,SAAQ,SAACjF,GAC5BA,EAAM6iC,aAAeX,GACpBsF,EAAO1jC,KAAK9D,EAAM0pC,eAI9BzpC,MAAM4qB,QAAQ4d,EAAeY,oBAC7BZ,EAAeY,kBAAkBpkC,SAAQ,SAAChI,GACtCA,EAAKqsC,qBAAqBrkC,SAAQ,SAACjF,GAC5BA,EAAM6iC,aAAeX,GACpBuH,EAAU3lC,KAAK9D,EAAM0pC,eAIjClH,EAAa,CACT,CACIvvC,KAAK,iCACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK2yC,GAET,CACIv0C,KAAK,6CACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,SAGV,GAAGpiB,EAAa,CACnB,IAAIpnB,MAAM4qB,QAAQwd,EAAUgB,mBACxB,OAEJhB,EAAUgB,kBAAkBpkC,SAAQ,SAAChI,GACjCwlC,EAAM3+B,KAAK7G,EAAKiU,MAChBjU,EAAKqsC,qBAAqBrkC,SAAQ,SAACjF,GAC5BA,EAAM6iC,aAAeX,GACpBsF,EAAO1jC,KAAK9D,EAAM0pC,eAI9BlH,EAAa,CACT,CAEIjuC,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK2yC,SAhL8C,CAC3D,IAAIvnC,MAAM4qB,QAAQ8d,GACd,OAEJA,EAAe1jC,SAAQ,SAAChI,EAAMiD,GAC1B,IAAIirB,EAAM,GACVluB,EAAK0sC,WACL1pC,MAAM4qB,QAAQ5tB,EAAK0sC,UAAUL,uBAC7BrsC,EAAK0sC,UAAUL,qBAAqBrkC,SAAQ,SAACjF,GACzCyiC,EAAM3+B,KAAK9D,EAAM6iC,aACjB1X,EAAIrnB,KAAK9D,EAAM0pC,YAEnBlH,EAAW1+B,KAAK,CACZ7Q,KAAKgK,EAAKivB,UACV33B,KAAK,MACLgiC,UAAW,CACPt3B,MAAOojC,EAAUniC,EAAM,IAE3BrL,KAAKs2B,OAGbsX,EAAK,aAAO,IAAI8B,IAAI9B,IA+JxB,IAAIvN,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,wBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,uCACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,IAAK,IAEnCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAgBP,OAPAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,mJAGDj7B,EAAKomC,aAAoD,GAAtCpmC,EAAKomC,WAAW7/B,QAAQ,UAAiBvG,EAAKomC,WAAa,IAAK,GAHlF,2FAI8CpmC,EAAKpD,MAJnD,oBAMAq+B,IAGfoL,OACoB,WAAhB7d,GAA6B4B,GAAgBD,EAC7C,CACIjxB,IAAK,OACLo/B,MAAO,MAEPE,UAAW,CACPx2B,MAAO,YAGf,CACI1K,KAAM,SACN8C,MAAO,MACPnB,KAAM,SACNC,IAAK,IAGb0tC,SAAU,CACNhtC,KAAO4rC,EAAMt/B,OAAS,EACtB2gC,aAAc,EACd4D,aAAc,EACdnwC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,iBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBosB,IAAK,EACLC,IAAK,IACLC,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,cAEd,CAACo/B,EAAW5iB,EAAcyc,IAC7B,IAAI0C,EAAoB,GACpBzZ,EAAM,GASV,OAPAlrB,MAAM4qB,QAAQse,IAAqBA,EAAiBlkC,SAAQ,SAAChI,EAAMiD,GAC/DirB,EAAIrnB,KAAK7G,IACJiD,EAAQ,GAAK,GAAK,GAAMA,GAASipC,EAAiBhmC,OAAS,IAC5DyhC,EAAkB9gC,KAAKqnB,GACvBA,EAAM,OAIZ,yBAAKnyB,UAAU,eAEW,WAAhBysB,EACA,yBAAKzsB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,eAEgB,iBAAxB2vC,EAAe3pC,MACtBzG,SAASowC,EAAe3pC,OACxB,MAGA,8DAEJ,yBAAKhG,UAAU,cACX,yBAAKA,UAAU,iBAEf2vC,EAAeiB,WACfjB,EAAeiB,WACf,MAGA,oEAEJ,yBAAK5wC,UAAU,iBACX,yBAAKA,UAAU,cAEkB,iBAA1B2vC,EAAekB,QACtBtxC,SAASowC,EAAekB,SACxB,MAGA,gFAEJ,yBAAK7wC,UAAU,cACX,yBAAKA,UAAU,gBAEkB,iBAA1B2vC,EAAemB,QACtBvxC,SAASowC,EAAemB,SACxB,MAGA,qEAGQ,WAAhBrkB,EACA,yBAAKzsB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,eAEgB,iBAAxB2vC,EAAe3pC,MACtBzG,SAASowC,EAAe3pC,OACxB,MAGA,0EAEJ,yBAAKhG,UAAU,cACX,yBAAKA,UAAU,iBAEf2vC,EAAeiB,WACfjB,EAAeiB,WACf,MAGA,oEAEJ,yBAAK5wC,UAAU,iBACX,yBAAKA,UAAU,cAEkB,iBAA1B2vC,EAAekB,QACtBtxC,SAASowC,EAAekB,SACxB,MAGA,wEAAU,6BAAV,6BAEJ,yBAAK7wC,UAAU,cACX,yBAAKA,UAAU,gBAEkB,iBAA1B2vC,EAAemB,QACtBvxC,SAASowC,EAAemB,SACxB,MAGA,wEAAU,6BAAV,8BAGQ,WAAhBrkB,GAA8B2B,GAAiBC,EA2C/C,GA1CA,yBAAKruB,UAAU,YACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,eAEgB,iBAAxB2vC,EAAe3pC,MACtBzG,SAASowC,EAAe3pC,OACxB,MAGA,8DAEJ,yBAAKhG,UAAU,cACX,yBAAKA,UAAU,iBAEf2vC,EAAeiB,WACfjB,EAAeiB,WACf,MAGA,oEAEJ,yBAAK5wC,UAAU,iBACX,yBAAKA,UAAU,cAEkB,iBAA1B2vC,EAAekB,QACtBtxC,SAASowC,EAAekB,SACxB,MAGA,gFAEJ,yBAAK7wC,UAAU,cACX,yBAAKA,UAAU,gBAEkB,iBAA1B2vC,EAAemB,QACtBvxC,SAASowC,EAAemB,SACxB,MAGA,qEAKd,yBAAK9wC,UAAU,eACT,yBAAKA,UAAU,wBAOX,yBAAKA,UAAU,uBAAuBQ,GAAG,qBAE7C,yBAAKR,UAAU,2BACX,yBAAKA,UAAU,YAAY9B,MAAO,CAACs1B,OAAQ,kBACvC,+CACA,kBAAC,KAAD,CACIwY,KAAM,CACFhsC,UAAW,cAGP4rC,EAAkB5nC,KAAI,SAACC,EAAMiD,GACzB,OACI,0BAAMlH,UAAU,iBAAiBhG,IAAKkN,GAE9BjD,EAAKD,KAAI,SAACgD,EAAO0wB,GACb,OACI,0BAAM13B,UAAU,iBAAiBhG,IAAK09B,GACtC,0BACA13B,UAAW,aAAekpC,GAAkBliC,EAAO,SAAU,IAC7DvG,QAAS,kBAAI0oC,EAAkBniC,KAE1BA,GAGD0wB,GAAUzzB,EAAKkG,OAAS,EACxB,0BAAMnK,UAAU,oBAChB,aAoC5C,yBAAKA,UAAU,yBAAyBQ,GAAG,2BAO/D,IAAMutB,GAAkB,SAAC9wB,GAAW,IAAD,EAS3BA,EAPFjB,WAF6B,IAG3B8jB,SAQJ,MAAO,CAACiD,WAXuB,EAIzBA,WAOcD,SAXW,EAKzBA,SAMwBnD,SAXC,EAO3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWsqB,MCzqClD91B,GAAeiR,GAAfjR,WACN,SAASy3B,GAAe/zC,EAAOuD,GAAM,IAE7Bg5B,EAKAv8B,EALAu8B,YACA9M,EAIAzvB,EAJAyvB,aACA2B,EAGApxB,EAHAoxB,aACAC,EAEArxB,EAFAqxB,aAL4B,EAO5BrxB,EADA2iB,SAAWK,EANiB,EAMjBA,SAAUM,EANO,EAMPA,OANO,EASE6C,mBAAS,IATX,mBASzB6tB,EATyB,KASdC,EATc,KAyJhC,OA/IA7pB,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA8B2B,GAAiBC,KAG/B,WAAhB5B,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAC9DolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAI5B,IAAI9lB,EAAM0P,GAAa,sCACN,WAAhBmT,EACD2B,EACA,EACAC,EACA,EACA,EACgB,WAAhB5B,EAA2B,EAC3B,GACA,eAAiC,WAAhBA,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bo1C,EAAavgC,EAAO7U,SAI5B+N,EAAM0P,GAAa,sCACF,WAAhBmT,EACD2B,EACA,EACAC,EACA,EACA,EACgB,WAAhB5B,EAA2B,EAC3B,GACA,eAAiC,WAAhBA,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bo1C,EAAavgC,EAAO7U,SAI5B+N,EAAM0P,GAAa,sCACF,WAAhBmT,EACD2B,EACA,EACAC,EACA,EACA,EACgB,WAAhB5B,EAA2B,EAC3B,GACA,eAAiC,WAAhBA,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bo1C,EAAavgC,EAAO7U,YAG7B,CAAC4wB,EAAc4B,EAAcD,EAAcmL,IAE9CnS,2BAAgB,WACZ,GAAmB,WAAhBqF,IAA6B2B,IAAgBC,EAAhD,CAGA,IAAI6Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAC9D+I,EAAM0P,yDACK0G,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,MAAM,CAElD,IAAI0yC,EAAc,GAClB79B,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACjBgD,MAAM4qB,QAAQ5tB,EAAKitC,gBACnBjtC,EAAKitC,cAAcC,mBAAmBllC,SAAQ,SAACjF,GAC3CunC,EAAYzjC,KAAK9D,EAAM6nC,eAG/BN,EAAW,aAAO,IAAIhD,IAAIgD,IAC1B,IAAIhU,EAAW,GACfgU,EAAYtiC,SAAQ,SAAChI,GACjB,IAAIkuB,EAAM,GACVzhB,EAAO7U,KAAKoQ,SAAQ,SAACjF,GACjBC,MAAM4qB,QAAQ7qB,EAAMkqC,gBACpBlqC,EAAMkqC,cAAcC,mBAAmBllC,SAAQ,SAACO,GAC5C,GAAGA,EAAOqiC,SAAW5qC,EAAK,CACtB,IAAIwM,EAAM,CACN2gC,MAAOpqC,EAAMksB,UACbuU,MAAOj7B,EAAOi7B,OAElBtV,EAAIrnB,KAAK2F,UAIrB8pB,EAASzvB,KAAK,CACV+jC,QAAS5qC,EACTwsC,UAAWte,OAGnB8e,EAAa1W,UAGtB,CAAC9N,EAAc4B,EAAcD,EAAcmL,IAE1C,yBAAKv5B,UAAU,mBAES,WAAhBysB,EACA,uBAAGzsB,UAAU,gBAAb,qBAEI,8BACgC,iBAAzBgxC,EAAUK,YACjBL,EAAUK,YACV,MALJ,6CAOI,8BAC6B,iBAAtBL,EAAUM,SACjBN,EAAUM,SAASr/B,QAAQ,GAC3B,MAVJ,UAaA,uBAAGjS,UAAU,gBAAb,eAEA,8BACgB,WAAhBysB,GAA8B2B,GAAiBC,EAE/CpnB,MAAM4qB,QAAQmf,EAAUG,oBACxBH,EAAUG,mBAAmBhnC,OAC7B,KAHA6mC,EAAU7mC,QAJV,sBAYJ,kBAAC,IAAD,CACAo0B,YAAU,EACVC,cAAe,KAEK,WAAhB/R,GAA8B4B,GAAiBD,EAqC/B,WAAhB3B,EACA,6BAEQxlB,MAAM4qB,QAAQmf,EAAUG,qBACxBH,EAAUG,mBAAmBhnC,OAAS,EACtC6mC,EAAUG,mBAAmBntC,KAAI,SAACC,EAAMiD,GACpC,OACI,yBACAlH,UAAW,qBACPiE,EAAKstC,eAAiB,GACtB,IACAttC,EAAKstC,eAAiB,IAAMttC,EAAKstC,cAAgB,GACjD,IACAttC,EAAKstC,eAAiB,IAAMttC,EAAKstC,cAAgB,GACjD,IACA,KAEJv3C,IAAKkN,GACD,uBAAGlH,UAAU,eAAc,8BAAOiE,EAAK4qC,UACvC,yBAAK7uC,UAAU,0BACX,yBAAKA,UAAU,aACX,uBACAA,UAAU,YACV1F,MACiC,iBAAtB2J,EAAKstC,cACZttC,EAAKstC,cAAct/B,QAAQ,GAAI,MAClC,8BAAoC,iBAAtBhO,EAAKstC,cACpBttC,EAAKstC,cAAct/B,QAAQ,GAAI,OAC/B,2BAAG,kEAEP,yBAAKjS,UAAU,YAAY9B,MAAO,CAACszC,WAAY,KAC3C,2BACI,0DAEA,0BACAxxC,UAAU,gBACV1F,MACiC,iBAAtB2J,EAAKwtC,cACZxtC,EAAKwtC,cAAcx/B,QAAQ,GAC3B,MAE8B,iBAAtBhO,EAAKwtC,cACbxtC,EAAKwtC,cAAcx/B,QAAQ,GAC3B,KATJ,kBAkBxB,kBAAC,GAAD,CAEA/T,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,OAId,6BAEQ0L,MAAM4qB,QAAQmf,EAAUG,qBACxBH,EAAUG,mBAAmBhnC,OAAS,EACtC6mC,EAAUG,mBAAmBntC,KAAI,SAACC,EAAMiD,GACpC,OACI,yBACAlH,UAAW,qBACS,WAAhBysB,EACAxoB,EAAKwjC,OAAS,GACd,IACAxjC,EAAKwjC,OAAS,IAAMxjC,EAAKwjC,MAAQ,GACjC,IACAxjC,EAAKwjC,OAAS,IAAMxjC,EAAKwjC,MAAQ,GACjC,IACA,IACArZ,EACAnqB,EAAKstC,eAAiB,GACtB,IACAttC,EAAKstC,eAAiB,IAAMttC,EAAKstC,cAAgB,GACjD,IACAttC,EAAKstC,eAAiB,IAAMttC,EAAKstC,cAAgB,GACjD,IACA,IACAljB,EACApqB,EAAKwtC,eAAiB,GACtB,IACAxtC,EAAKwtC,eAAiB,IAAMxtC,EAAKwtC,cAAgB,GACjD,IACAxtC,EAAKwtC,eAAiB,IAAMxtC,EAAKwtC,cAAgB,GACjD,IACA,IACAxtC,EAAKytC,gBAAkB,GACvB,IACAztC,EAAKytC,gBAAkB,IAAMztC,EAAKytC,eAAiB,GACnD,IACAztC,EAAKytC,gBAAkB,IAAMztC,EAAKytC,eAAiB,GACnD,IACA,KAEJ13C,IAAKkN,GACD,uBAAGlH,UAAU,eAAc,8BAAOiE,EAAK4qC,UACvC,yBAAK7uC,UAAU,0BACX,yBAAKA,UAAU,aACX,uBAAGA,UAAU,aACT,8BAEoB,WAAhBysB,EACAxoB,EAAKwjC,MAAQxjC,EAAKwjC,MAAMx1B,QAAQ,GAAK,KACrB,WAAhBwa,GAEA2B,EADAnqB,EAAKstC,cAAgBttC,EAAKstC,cAAct/B,QAAQ,GAAK,KAGrDoc,EACApqB,EAAKwtC,cAAgBxtC,EAAKwtC,cAAcx/B,QAAQ,GAAK,KACrDhO,EAAKytC,eAAiBztC,EAAKytC,eAAez/B,QAAQ,GAAK,OAI/D,kDAEJ,yBAAKjS,UAAU,aACX,uDACI,8BAE6B,iBAAtBiE,EAAKstC,cACZttC,EAAKstC,cAAct/B,QAAQ,GAAI,KAH/B,WAMJ,uDACI,8BAE6B,iBAAtBhO,EAAKstC,cACZttC,EAAKwtC,cAAcx/B,QAAQ,GAAI,KAH/B,iBAWxB,kBAAC,GAAD,CAEA/T,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,OArLd,6BAEQ0L,MAAM4qB,QAAQmf,IAAcA,EAAU7mC,OAAS,EAC/C6mC,EAAU/kC,SAAQ,SAAChI,EAAMiD,GAErB,OACI,yBAAKlH,UAAW,oBAFV,CAAC,IAAK,IAAK,IAAK,KAEqBT,SAAuB,EAAdyP,KAAKE,WAAelV,IAAKkN,GAC7E,uBAAGlH,UAAU,eAAeiE,EAAK4qC,SACjC,yBAAK7uC,UAAU,2CAEPiE,EAAKwsC,UAAUzsC,KAAI,SAACgD,EAAO0wB,GACvB,OACI,uBAAG13B,UAAU,gBAAgBhG,IAAK09B,GAC9B,8BACC1wB,EAAMoqC,MADP,gBAEA,8BAC2B,iBAAfpqC,EAAMygC,MAAmBzgC,EAAMygC,MAAMx1B,QAAQ,GAAI,KAD7D,oBAa5B,kBAAC,GAAD,CAEA/T,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,QA6JE,WAAhBkxB,EACA,yBAAKzsB,UAAU,kBACX,0BAAMA,UAAU,eAAhB,mCACA,0BAAMA,UAAU,kBACXgxC,EAAUW,QAASX,EAAUW,QAAS,8BAG/C,IAOhB,IAAM5jB,GAAkB,SAAC9wB,GAAW,IAAD,EAS3BA,EAPFjB,WAF6B,IAG3B8jB,SAQJ,MAAO,CAACiD,WAXuB,EAIzBA,WAOcD,SAXW,EAKzBA,SAMwBnD,SAXC,EAO3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWisB,MC1YlDz3B,GAAeiR,GAAfjR,WACC3c,GAAUC,KAAVD,OAEP,SAASi1C,GAAU50C,EAAOuD,GAAM,IAExBg5B,EAKAv8B,EALAu8B,YACA9M,EAIAzvB,EAJAyvB,aACA2B,EAGApxB,EAHAoxB,aACAC,EAEArxB,EAFAqxB,aALuB,EAOvBrxB,EADA2iB,SAAWK,EANY,EAMZA,SAAUM,EANE,EAMFA,OANE,EASmB6C,mBAAS,UAT5B,mBASpB0uB,EAToB,KASHC,EATG,OAUW3uB,mBAAS,IAVpB,mBAUpBorB,EAVoB,KAUPwD,EAVO,OAWiB5uB,mBAAS,IAX1B,mBAWpB+lB,EAXoB,KAWJC,EAXI,OAYahmB,mBAAS,IAZtB,mBAYpB6uB,EAZoB,KAYNC,EAZM,OAae9uB,mBAAS,IAbxB,mBAapB+uB,EAboB,KAaLC,EAbK,OAcehvB,mBAAS,IAdxB,mBAcpBivB,EAdoB,KAcLC,EAdK,KAevBhJ,EAAY,CACZ,IAAIC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGXqsC,EAAe,CACf,OAAU,2BACV,WAAc,2BACd,QAAW,4BAq0Bf,OAl0BAlrB,2BAAgB,WACZ,GAAmB,WAAhBqF,IAGgB,WAAhBA,GAA+BnM,GAAW8N,GAAiBC,GAA9D,CAGA,IAAI6Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAE9D+I,EAAM0P,sDACuB,WAAhBmT,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,cACuB,UAAnB6xB,EACA,EACA,GAEJ,WAAa3K,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5Cs2C,EAAiBzhC,EAAO7U,YAGjC,CAACg2C,EAAiBplB,EAAc4B,EAAcD,EAAcmL,IAE/DnS,2BAAgB,WACZ,GAAmB,WAAhBqF,IAGgB,WAAhBA,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAE9D+I,EAAM0P,sDACuB,WAAhBmT,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,cACuB,UAAnB6xB,EACA,EACA,GAEJ,WAAa3K,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5Cw2C,EAAiB3hC,EAAO7U,YAGjC,CAACg2C,EAAiBplB,EAAc4B,EAAcD,EAAcmL,IAE/DnS,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA8B2B,GAAiBC,KAG/B,WAAhB5B,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAC9DolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAI9lB,EAAM0P,GAAa,uCAEH,WAAhBmT,EACA,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,GAEJ,eAAiC,WAAhB5B,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,cACuB,UAAnB6xB,EACA,EACA,GAEJ,WAAa3K,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,MAAM,CAClDo2C,EAAgBvhC,EAAO7U,MACvB,IAAI0yC,EAAc,GAClB79B,EAAO7U,KAAKmI,KAAI,SAACC,GACVA,EAAKsuC,UAAYD,EAAaT,IAC7BtD,EAAYzjC,KAAK7G,EAAK4qC,YAG9BN,EAAW,aAAO,IAAIhD,IAAIgD,IAC1BwD,EAAexD,GACf79B,EAAO7U,KAAK,IAAMstC,EAAkBoF,EAAY,WAGzD,CAACsD,EAAiBplB,EAAc4B,EAAcD,EAAcmL,IAE/DnS,2BAAgB,WACZ,GAAmB,WAAhBqF,IAA6B4B,IAAgBD,EAAhD,CAGA,IAAI8Y,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAE9D+I,EAAM0P,0DACK0G,EACf,cACuB,UAAnB6xB,EACA,EACA,GAEJ,WAAa3K,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,MAAM,CAClDo2C,EAAgBvhC,EAAO7U,MACvB,IAAI0yC,EAAc,GAClB79B,EAAO7U,KAAKmI,KAAI,SAACC,GACbA,EAAKuuC,qBAAqBvmC,SAAQ,SAACjF,GAC5BA,EAAMurC,UAAYD,EAAaT,IAC9BtD,EAAYzjC,KAAK9D,EAAM6nC,eAInCN,EAAW,aAAO,IAAIhD,IAAIgD,IAC1BwD,EAAexD,GACf79B,EAAO7U,KAAK,IAAMstC,EAAkBoF,EAAY,WAGzD,CAACsD,EAAiBplB,EAAc4B,EAAcD,EAAcmL,IAC/D5V,qBAAU,WACN,IAAoB,WAAhB8I,GAA8B2B,GAAiBC,IAAuC,GAAvB2jB,EAAa7nC,OAAhF,CAIA,IAAIowB,EAAW,GACO,UAAnBsX,IACCtX,EAAWyX,GAEO,cAAnBH,GACCG,EAAa/lC,SAAQ,SAAChI,GACE,4BAAjBA,EAAKsuC,UAAsBtuC,EAAK4qC,SAAW3F,GAC1C3O,EAASzvB,KAAK7G,MAIJ,WAAnB4tC,GACCG,EAAa/lC,SAAQ,SAAChI,GACE,4BAAjBA,EAAKsuC,UAAsBtuC,EAAK4qC,SAAW3F,GAC1C3O,EAASzvB,KAAK7G,MAI1B,IAAIwlC,EAAQ,GAAIE,EAAgB,GAAIC,EAAgB,GAAIF,EAAa,GAAI+I,EAAc,GACvFlY,EAAStuB,SAAQ,SAAChI,GACdwlC,EAAM3+B,KAAK7G,EAAKyuC,UAChBhJ,EAAW5+B,KAAK7G,EAAKwjC,OACrBgL,EAAY3nC,KAAK7G,EAAK0uC,aAE1BP,EAAcnmC,SAAQ,SAAChI,GACnB2lC,EAAc9+B,KAAK7G,EAAKwjC,UAE5ByK,EAAcjmC,SAAQ,SAAChI,GACnB0lC,EAAc7+B,KAAK7G,EAAKwjC,UAE5B,IAAI+B,EAAa,GACE,WAAhB/c,IACC+c,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM6tC,GAEV,CACIzvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM+tC,KAIC,WAAhBnd,IACC+c,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAM6tC,GAEV,CACIzvC,KAAK,qBACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAM42C,GAEV,CACIx4C,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM8tC,GAEV,CACI1vC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM+tC,KAIlB,IAAI1N,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,wBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAK,GAAD,OAAwB,UAAnBkd,EAA6B,eACnB,cAAnBA,EAAiC,eAClB,WAAnBA,EAA8B,eAClC,GAHY,oCAGF3I,EAHE,KAIJhsC,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,yBAKAq+B,IAGf2L,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ8N,OAAQ,CACJntC,IAAK,OACLo/B,MAAO,MACPE,UAAW,CACPx2B,MAAO,YAGfskC,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBosB,IAAK,EACLC,IAAK,IACLC,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC+hC,EAAcvlB,EAAcyc,EAAgB2I,IAChDluB,qBAAU,WACN,IAAoB,WAAhB8I,GAA8B2B,GAAiBC,IAAuC,GAAvB2jB,EAAa7nC,OAAhF,CAIA,IAAIowB,EAAW,GACO,UAAnBsX,IACCtX,EAAWyX,GAEO,cAAnBH,GACCG,EAAa/lC,SAAQ,SAAChI,GACE,4BAAjBA,EAAKsuC,UAAsBtuC,EAAK4qC,SAAW3F,GAC1C3O,EAASzvB,KAAK7G,MAIJ,WAAnB4tC,GACCG,EAAa/lC,SAAQ,SAAChI,GACE,4BAAjBA,EAAKsuC,UAAsBtuC,EAAK4qC,SAAW3F,GAC1C3O,EAASzvB,KAAK7G,MAK1B,IAAIwlC,EAAQ,GAAIE,EAAgB,GAAIC,EAAgB,GACpDrP,EAAStuB,SAAQ,SAAChI,GACdwlC,EAAM3+B,KAAK7G,EAAKyuC,UAChB/I,EAAc7+B,KAAK7G,EAAK2uC,UAAW3uC,EAAK2uC,UAAW,GACnDhJ,EAAc9+B,KAAK7G,EAAK4uC,UAAW5uC,EAAK4uC,UAAW,MAEvD,IAAIrJ,EAAa,GACE,WAAhB/c,IACC+c,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAM8tC,KAIC,WAAhBld,IACC+c,EAAa,CACT,CACIvvC,KAAK,2BACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAM8tC,GAEV,CACI1vC,KAAK,2BACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAM+tC,KAIlB,IAAI1N,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,uBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAK,GAAD,OAAwB,UAAnBkd,EAA6B,eACnB,cAAnBA,EAAiC,eAClB,WAAnBA,EAA8B,eAClC,GAHY,gDAGA3I,EAHA,KAIJhsC,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQ,IAEZJ,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,yBAKAq+B,IAGfoL,OAAQ,CACJntC,IAAK,OACLo/B,MAAO,MAEPE,UAAW,CACPx2B,MAAO,YAGf4kC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAEXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBosB,IAAK,EACLC,IAAK,IACLC,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC+hC,EAAcvlB,EAAcyc,EAAgB2I,IAChDluB,qBAAU,WACN,GAAmB,WAAhB8I,IAA6B2B,IAAgBC,EAAhD,CAGA,IAAIob,EAAQ,GAA4CC,EAAa,GAAsBF,EAAa,GACxG,GAAIpb,GAAiBC,EA6Dd,CAEH,IAAIkM,EAAW,GACO,UAAnBsX,IACCtX,EAAWyX,GAEO,cAAnBH,GACCG,EAAa/lC,SAAQ,SAAChI,GACE,4BAAjBA,EAAKsuC,UAAsBtuC,EAAK4qC,SAAW3F,GAC1C3O,EAASzvB,KAAK7G,MAIJ,WAAnB4tC,GACCG,EAAa/lC,SAAQ,SAAChI,GACE,4BAAjBA,EAAKsuC,UAAsBtuC,EAAK4qC,SAAW3F,GAC1C3O,EAASzvB,KAAK7G,MAI1Bs2B,EAAStuB,SAAQ,SAAChI,GACdwlC,EAAM3+B,KAAK7G,EAAKyuC,SAAUzuC,EAAKyuC,SAAU,IACzChJ,EAAW5+B,KAAK7G,EAAKwjC,UAEzBgC,EAAK,aAAO,IAAI8B,IAAI9B,IACpBD,EAAa,CACT,CACIvvC,KAAMm0B,EAAc,eAAM,eAC1B7yB,KAAK,MAELgiC,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM6tC,QApGgB,CAE9B,IAAInP,EAAW,GACO,UAAnBsX,GACCG,EAAa/lC,SAAQ,SAAChI,GAClBA,EAAKuuC,qBAAqBvmC,SAAQ,SAACjF,GACV,4BAAlBA,EAAMurC,UAAsBvrC,EAAM6nC,SAAW3F,GAC5C3O,EAASzvB,KAAK7G,SAKR,cAAnB4tC,GACCG,EAAa/lC,SAAQ,SAAChI,GAClBA,EAAKuuC,qBAAqBvmC,SAAQ,SAACjF,GACV,4BAAlBA,EAAMurC,UAAsBvrC,EAAM6nC,SAAW3F,GAC5C3O,EAASzvB,KAAK7G,SAKR,WAAnB4tC,GACCG,EAAa/lC,SAAQ,SAAChI,GAClBA,EAAKuuC,qBAAqBvmC,SAAQ,SAACjF,GACV,4BAAlBA,EAAMurC,UAAsBvrC,EAAM6nC,SAAW3F,GAC5C3O,EAASzvB,KAAK7G,SAM9Bs2B,EAAStuB,SAAQ,SAAChI,GACdA,EAAKuuC,qBAAqBvmC,SAAQ,SAACjF,GAC5BA,EAAM6nC,SAAW3F,GAAkBoJ,EAAaT,IAAoB7qC,EAAMurC,UACzE9I,EAAM3+B,KAAK9D,EAAM0rC,SAAU1rC,EAAM0rC,SAAU,UAIvDjJ,EAAK,aAAO,IAAI8B,IAAI9B,IAEpBuI,EAAa/lC,SAAQ,SAAChI,EAAMiD,GACxB,IAAI0d,EAAO,GACX6kB,EAAMx9B,SAAQ,SAACjF,GACX,IAAIwkC,EAAM,EACVvnC,EAAKuuC,qBAAqBvmC,SAAQ,SAACO,GAC5BA,EAAOkmC,UAAY1rC,GAASA,EAAM6nC,SAAW3F,IAC5CsC,GAAOh/B,EAAOi7B,UAItB7iB,EAAK9Z,KAAKvL,SAASisC,EAAMvnC,EAAKuuC,qBAAqBroC,YAEvDq/B,EAAW1+B,KAAK,CACZ7Q,KAAMgK,EAAKivB,UACX33B,KAAK,MAELgiC,UAAW8L,EAAUniC,EAAQ,GAC7BrL,KAAM+oB,OA+ClB,IAAIsX,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,yBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAK,GAAD,OAAwB,UAAnBkd,EAA6B,eACvB,cAAnBA,EAAiC,eAClB,WAAnBA,EAA8B,eAClC,GAHgB,mCAGP3I,EAAgB,IAAMA,EAAiB,IAAK,IACzChsC,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAAOoD,EAAKpD,MAAO,KAHtE,yBAKAq+B,IAGf2L,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ8N,OAAQ,CACJjsC,MAAO,MACP9C,KAAM,SACN4B,IAAK,OACLD,KAAM,SACNu/B,UAAW,CACPx2B,MAAO,YAGfskC,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC+hC,EAAcvlB,EAAcyc,EAAgB2I,IAI9C,yBAAK7xC,UAAU,cACT,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,aACX,+CACA,0BACAA,UAAW,aAAkC,UAAnB6xC,EAA6B,SAAU,IACjEpxC,QAAS,kBAAIqxC,EAAmB,YAFhC,4BAGA,0BAAM9xC,UAAU,oBAChB,0BACAA,UAAW,aAAkC,cAAnB6xC,EAAiC,SAAU,IACrEpxC,QAAS,kBAAIqxC,EAAmB,gBAFhC,4BAGA,0BAAM9xC,UAAU,oBAChB,0BACAA,UAAW,aAAkC,WAAnB6xC,EAA8B,SAAU,IAClEpxC,QAAS,kBAAIqxC,EAAmB,aAFhC,6BAKAvD,EAAYpkC,OAAS,EACrB,yBAAKnK,UAAU,oBACX,+CACA,kBAAC,KAAD,CACAa,MAAOqoC,EACPlpC,UAAU,SACV0D,SAAU,SAAC7C,GAAD,OAASsoC,EAAkBtoC,KAE7B0tC,EAAYvqC,KAAI,SAACC,EAAMiD,GACnB,OACI,kBAAC,GAAD,CAAQlN,IAAKkN,EAAOrG,MAAOoD,GAAOA,QAMtD,IAKY,WAAhBwoB,GAA8B4B,GAAiBD,EAI/C4jB,EAAa7nC,OAAS,EACtB,yBAAKnK,UAAU,qBACX,yBAAKA,UAAU,sBAAsBQ,GAAG,wBACxC,yBAAKR,UAAU,eACf,yBAAKA,UAAU,qBAAqBQ,GAAG,wBAE3C,kBAAC,GAAD,CAEAtC,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,MAbN,yBAAKyE,UAAU,wBACX,yBAAKA,UAAU,uBAAuBQ,GAAG,2BAmB7D,IAAMutB,GAAkB,SAAC9wB,GAAW,IAAD,EAS3BA,EAPFjB,WAF6B,IAG3B8jB,SAQJ,MAAO,CAACiD,WAXuB,EAIzBA,WAOcD,SAXW,EAKzBA,SAMwBnD,SAXC,EAO3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW8sB,MC/8BlDt4B,GAAeiR,GAAfjR,WAEN,SAASw5B,GAAa91C,EAAOuD,GAAK,IAK9B0/B,EAWEjjC,EAXFijC,KAEAC,GASEljC,EAVF+lB,WAUE/lB,EATFkjC,kBAIAzT,GAKEzvB,EARFskB,SAQEtkB,EAPFukB,UAOEvkB,EANFmjC,WAMEnjC,EALFyvB,cACA2B,EAIEpxB,EAJFoxB,aACAC,EAGErxB,EAHFqxB,aAb8B,EAgB5BrxB,EAFF2iB,SAAWW,EAdmB,EAcnBA,OAAQN,EAdW,EAcXA,SACnBwZ,EACEx8B,EADFw8B,QAf8B,EAkBUrW,oBAAS,GAlBnB,mBAkBzB4d,EAlByB,KAkBVC,EAlBU,OAmBM7d,oBAAS,GAnBf,mBAmBzB4vB,EAnByB,KAmBZC,EAnBY,OAoBQ7vB,oBAAS,GApBjB,mBAoBzB8vB,EApByB,KAoBXC,EApBW,OAqBM/vB,oBAAS,GArBf,mBAqBzBgwB,EArByB,KAqBZC,EArBY,OAsBEjwB,mBAAS,IAtBX,mBAsBzBqe,EAtByB,KAsBdC,EAtBc,OAuBMte,mBAAS,IAvBf,mBAuBzBmd,EAvByB,KAuBZC,EAvBY,OAwBkBpd,mBAAS,IAxB3B,mBAwBzBqd,EAxByB,KAwBNC,EAxBM,OAyBFtd,mBAAS,IAzBP,gCA2BgBA,mBAAS,KA3BzB,mBA2BzBkwB,EA3ByB,KA2BPC,EA3BO,OA4BAnwB,mBAAS,IA5BT,mBA4BzBowB,EA5ByB,KA4BfC,EA5Be,OA6BErwB,mBAAS,IA7BX,oBA6BzBie,GA7ByB,MA6BdC,GA7Bc,SA8BIle,mBAAS,IA9Bb,qBA8BzBswB,GA9ByB,MA8BbC,GA9Ba,SAgCUvwB,mBAAyB,WAAhBsJ,EAA2B,SAAU,QAhCxD,qBAgCzBmU,GAhCyB,MAgCVC,GAhCU,MAiC1B8S,GAAgBprB,iBAAO,MACvBqrB,GAAerrB,iBAAO,MACtBsrB,GAAatrB,iBAAO,MACpBurB,GAAcvrB,iBAAO,MACrBwrB,GAAYxrB,iBAAO,MACnByrB,GAAYzrB,iBAAO,MACnB0rB,GAAoB1rB,iBAAO,MA6EjC5E,qBAAU,WAIJ3mB,EADFyvB,aAE0B,oBAArByT,GACLA,EAAiB,CACf,CAAE3/B,IAAKozC,GAAcxqB,QAASlvB,KAAM,4BACpC,CAAEsG,IAAKqzC,GAAazqB,QAASlvB,KAAM,4BACnC,CAAEsG,IAAKszC,GAAW1qB,QAASlvB,KAAM,4BACjC,CAAEsG,IAAKuzC,GAAY3qB,QAASlvB,KAAM,4BAClC,CAAEsG,IAAKwzC,GAAU5qB,QAASlvB,KAAM,4BAChC,CAAEsG,IAAKyzC,GAAU7qB,QAASlvB,KAAM,4BAChC,CAAEsG,IAAK0zC,GAAkB9qB,QAASlvB,KAAM,gCAG3C,IAEHmtB,2BAAgB,WACd,IAAmB,WAAhBqF,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGA,IAAI8Y,EAAkBjH,EAAKp/B,OAASmM,KAAKS,MAAMwyB,EAAKp/B,OAKhDolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAI9lB,EAAM0P,GAAa,6BACL,WAAhBmT,EACA,EACgB,WAAhBA,EACA,EACA4B,EACA,EACA,GAEF,eACkB,WAAhB5B,EACAnM,EACA,IAEF,YAAc8N,EACd,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,WAAaknB,EAAgBf,OAC7B,UAAYe,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACe,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChC4lC,EAAa/wB,EAAO7U,YAGvB,CAACwyB,EAAcD,EAAc3B,EAAcwT,EAAM3f,EAAQkZ,IAG5DpS,2BAAgB,WACd,GAAmB,WAAhBqF,GAA6B2B,EAAa,CAC3C,IAAIxkB,EAAM0P,GAAa,qCACvB0G,EACA,YAAcqO,EACd,YAAcD,EACdpU,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9B0kC,EAAe7vB,EAAO7U,MACtB4kC,EAAqB/vB,EAAO7U,aAIrC,CAAC4wB,EAAcnM,EAAQ8N,EAAcC,EAAc4R,EAAMzG,IAG5DpS,2BAAgB,WACd,GAAmB,WAAhBqF,IAGgB,WAAhBA,GAA+BnM,GAAW8N,GAAiBC,GAA9D,CAGA,IAAIvO,EAAWmgB,GAAQA,EAAKp/B,OAASmM,KAAKS,MAAMwyB,EAAKp/B,OACjD+I,EAAM0P,qDACMgH,EAChB,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaF,EAASqmB,OALZ7sB,qBAOEwG,EAASsmB,UAAUx4B,OAAO,EAAG,IACzC,QAAUkS,EAASumB,QAAQz4B,OAAO,EAAG,IACrCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9By3C,EAAoB5iC,EAAO7U,SAGnC+N,EAAM0P,0DACUgH,EAChB,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaF,EAASqmB,OACtB,UAAYrmB,EAASsmB,UAAUx4B,OAAO,EAAG,IACzC,QAAUkS,EAASumB,QAAQz4B,OAAO,EAAG,IACrCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B63C,GAAchjC,EAAO7U,SAG7B+N,EAAM0P,uDACUgH,EAChB,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaF,EAASqmB,OACtB,UAAYrmB,EAASsmB,UAAUx4B,OAAO,EAAG,IACzC,QAAUkS,EAASumB,QAAQz4B,OAAO,EAAG,IACrCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B23C,EAAY9iC,EAAO7U,SAG3B+N,EAAM0P,uDACUgH,EAChB,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,WAAaF,EAASqmB,OACtB,UAAYrmB,EAASsmB,UAAUx4B,OAAO,EAAG,IACzC,QAAUkS,EAASumB,QAAQz4B,OAAO,EAAG,IACrCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,KAAK,CACrC,IAAIs2B,EAAM,GACVlrB,MAAM4qB,QAAQnhB,EAAO7U,KAAKw0C,oBAC1B3/B,EAAO7U,KAAKw0C,kBAAkBpkC,SAAQ,SAAChI,GACrC,IAAIwM,EAAM,CACRyH,KAAMjU,EAAKiU,MAEbjU,EAAKqsC,qBAAqBrkC,SAAQ,SAACjF,GACjCyJ,EAAIo5B,YAAc7iC,EAAM6iC,YACxBp5B,EAAIigC,QAAU1pC,EAAM0pC,WAEtBve,EAAIrnB,KAAK2F,MAEX4wB,GAAalP,UAGlB,CAAC8N,EAAM7R,EAAcC,EAAc5B,EAAcnM,EAAQkZ,IAE5D,IAAMsN,GAAiB,SAACjrC,EAAMN,GAC5B,IAAIukB,EAAWmgB,GAAQA,EAAKp/B,OAASmM,KAAKS,MAAMwyB,EAAKp/B,OACjDolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GAOnB,GANAD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5BpiB,QAAQC,IAAI1R,GACD,UAARN,EAAiB,CAClB,IAAIqO,EAAM0P,0DACMzd,EAAKs0B,OACrB,YAAc/B,EACd,YAAc8X,EACd,aAAelmB,EACf,WAAaF,EAASqmB,OACtB,UAAYrmB,EAASsmB,UAAUx4B,OAAO,EAAG,IACzC,QAAUkS,EAASumB,QAAQz4B,OAAO,EAAG,IACrCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9B63C,GAAchjC,EAAO7U,MACrBglC,GAAiB,cAI3B,GAAW,QAARtlC,EAAe,CAChB,IAAIqO,EAAM0P,uDACMzd,EAAKs0B,OACrB,YAAc/B,EACd,YAAc8X,EACd,aAAelmB,EACf,WAAaF,EAASqmB,OACtB,UAAYrmB,EAASsmB,UAAUx4B,OAAO,EAAG,IACzC,QAAUkS,EAASumB,QAAQz4B,OAAO,EAAG,IACrCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9B23C,EAAY9iC,EAAO7U,MACnBglC,GAAiB,cAI3B,GAAW,SAARtlC,EAAgB,CACjB,IAAIqO,EAAM0P,uDACMzd,EAAKs0B,OACrB,YAAc/B,EACd,YAAc8X,EACd,aAAelmB,EACf,WAAaF,EAASqmB,OACtB,UAAYrmB,EAASsmB,UAAUx4B,OAAO,EAAG,IACzC,QAAUkS,EAASumB,QAAQz4B,OAAO,EAAG,IACrCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,KAAK,CACrC,IAAIs2B,EAAM,GACVlrB,MAAM4qB,QAAQnhB,EAAO7U,KAAKw0C,oBAC1B3/B,EAAO7U,KAAKw0C,kBAAkBpkC,SAAQ,SAAChI,GACrC,IAAIwM,EAAM,CACRyH,KAAMjU,EAAKiU,MAEbjU,EAAKqsC,qBAAqBrkC,SAAQ,SAACjF,GACjCyJ,EAAIo5B,YAAc7iC,EAAM6iC,YACxBp5B,EAAIigC,QAAU1pC,EAAM0pC,WAEtBve,EAAIrnB,KAAK2F,MAEX4wB,GAAalP,GACb0O,GAAiB,cAIzB,GAAW,QAARtlC,EAAe,CAChB,IAAIqO,EAAM0P,qDACMzd,EAAKs0B,OACrB,YAAc/B,EACd,YAAc8X,EACd,aAAelmB,EACf,WAAaF,EAASqmB,OALZ7sB,qBAOEwG,EAASsmB,UAAUx4B,OAAO,EAAG,IACzC,QAAUkS,EAASumB,QAAQz4B,OAAO,EAAG,IACrCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9By3C,EAAoB5iC,EAAO7U,MAC3BglC,GAAiB,gBAK7B,OACE,yBAAK7gC,UAAU,gBAAgBQ,GAAG,mBAEd,WAAhBisB,GAA8B2B,GAAiBC,EAS/CD,GAAgC,WAAhB3B,EAChB,kBAAC,GAAD,CAAKkJ,SAAS,EAAOsC,QAAS,2BAAQ13B,IAAKozC,IACzC,kBAAC,GAAD,CACAlnB,aAAcA,EACd8M,YAAa0G,EACb5R,aAAcA,EACdD,aAAcA,EACdoL,QAASA,KAEX,GAjBA,kBAAC,GAAD,CAAK7D,SAAS,EAAOsC,QAAS,2BAAQ13B,IAAKozC,IACzC,kBAAC,GAAD,CACAlnB,aAAcA,EACd8M,YAAa0G,EACb5R,aAAcA,EACdD,aAAcA,EACdoL,QAASA,KAcb,kBAAC,GAAD,CACEvB,QAAS,2BACT13B,IAAKqzC,GACL7b,WACkB,WAAhBtL,GACA,yBAAKzsB,UAAU,qBACb,0BACAA,UAAU,SACVS,QAAS,kBAAIugC,GAAiB,KAF9B,qDAOJrL,SAAS,GAET,kBAAC,GAAD,CACAlJ,aAAcA,EACd8M,YAAa0G,EACb5R,aAAcA,EACdD,aAAcA,EACdoL,QAASA,KAEX,kBAAC,GAAD,CACA7D,SAAS,EACTsC,QAAS,2BACT13B,IAAKszC,GACL9b,WACkB,WAAhBtL,GACA,yBAAKzsB,UAAU,qBACb,0BACAA,UAAU,SACVS,QAAS,kBAAIuyC,GAAe,KAF5B,sDAOF,kBAAC,GAAD,CACAvmB,aAAcA,EACd8M,YAAa0G,EACb5R,aAAcA,EACdD,aAAcA,EACdoL,QAASA,KAEX,kBAAC,GAAD,CACA7D,SAAS,EACTsC,QAAS,2BACT13B,IAAKuzC,GACL/b,WACkB,WAAhBtL,GACA,yBAAKzsB,UAAU,qBACb,0BACAA,UAAU,SACVS,QAAS,kBAAIyyC,GAAgB,KAF7B,sDAOF,kBAAC,GAAD,CACAzmB,aAAcA,EACd8M,YAAa0G,EACb5R,aAAcA,EACdD,aAAcA,EACdoL,QAASA,KAEX,kBAAC,GAAD,CACA7D,SAAS,EACTsC,QAAS,2BACT13B,IAAKwzC,GACLhc,WACkB,WAAhBtL,GACA,yBAAKzsB,UAAU,qBACb,0BACAA,UAAU,SACVS,QAAS,kBAAI2yC,GAAe,KAF5B,sDAQF,kBAAC,GAAD,CACA3mB,aAAcA,EACd8M,YAAa0G,EACb5R,aAAcA,EACdD,aAAcA,EACdoL,QAASA,KAEX,kBAAC,GAAD,CAAK7D,SAAS,EAAOsC,QAAS,2BAAQ13B,IAAKyzC,IACzC,kBAAC,GAAD,CACAvnB,aAAcA,EACd8M,YAAa0G,EACb5R,aAAcA,EACdD,aAAcA,EACdoL,QAASA,KAEX,kBAAC,GAAD,CAAK7D,SAAS,EAAOsC,QAAS,2BAAQ13B,IAAK0zC,IACzC,kBAAC,GAAD,CACA14C,KAAK,kBACLkxB,aAAcA,EACd5wB,KAAM2lC,KAGR,kBAAC,GAAD,CACMjmC,KAAK,IACLjB,MAAM,uCACNuN,QAASk5B,EACTpjC,KAAM,kBAAIqjC,GAAiB,IAC3BpjC,SAAU,WACW,WAAhB6uB,GACDoU,GAAiB,QAEnBG,GAAiB,IACnBz5B,OAAQ,KACRlJ,MAAO,IACP2B,UAAU,sBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,KAGtB,QAAjB8hB,GACA,6BACE,uBAAG5gC,UAAU,aAAb,SAA0B,8BAC1BsgC,EAAYn2B,QADZ,UAGA,wBAAInK,UAAU,eACZ,kBAAC,aAAD,CACAu+B,YAAU,EACVC,cAAe,KAEXgC,EAAkBr2B,OAAS,EAC3Bq2B,EAAkBx8B,KAAI,SAACC,EAAMiD,GAC3B,OACA,wBAAIlN,IAAKkN,EAAOzG,QAAS,kBAAIqmC,GAAe7iC,EAAM,YAChD,uBAAGjE,UAAU,cAAc9B,MAAO,CAChCimB,gBAEElgB,EAAK4rB,UACL5rB,EAAK4rB,UACL,MAGJ,uBAAGv1B,MAAO2J,EAAK47B,UAAW57B,EAAK47B,cAInC,kBAAC,GAAD,CACA7/B,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,aAChBl5B,MAAO,2BACPiB,KAAM,SAQd,6BAEoB,WAAhBkxB,EACA,0BAAMzsB,UAAU,cAAcS,QAAS,kBAAIogC,GAAiB,UAA5D,wCACA,GAEF,kBAAC,GAAD,CACA3iC,MAAO,CAACsoC,UAAW,IACnBlP,YAzhBY,CACxB,CACEt9B,IAAK,OACLC,KAAM,gBAER,CACED,IAAK,cACLC,KAAM,4BAER,CACED,IAAK,QACLC,KAAM,yCA+gBI4B,KAAM43C,OAKhB,kBAAC,GAAD,CACIl4C,KAAK,IACLjB,MAAM,2BACNuN,QAASkrC,EACTp1C,KAAM,kBAAIq1C,GAAe,IACzBp1C,SAAU,WACW,WAAhB6uB,GACDoU,GAAiB,QAEnBmS,GAAe,IACjBzrC,OAAQ,KACRlJ,MAAO,IACP2B,UAAU,sBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,KAGtB,QAAjB8hB,GACA,6BACE,uBAAG5gC,UAAU,aAAb,SAA0B,8BAC1BsgC,EAAYn2B,QADZ,UAGA,wBAAInK,UAAU,eACZ,kBAAC,aAAD,CACAu+B,YAAU,EACVC,cAAe,KAEXgC,EAAkBr2B,OAAS,EAC3Bq2B,EAAkBx8B,KAAI,SAACC,EAAMiD,GAC3B,OACA,wBAAIlN,IAAKkN,EAAOzG,QAAS,kBAAIqmC,GAAe7iC,EAAM,UAChD,uBAAGjE,UAAU,cAAc9B,MAAO,CAChCimB,gBAEElgB,EAAK4rB,UACL5rB,EAAK4rB,UACL,MAGJ,uBAAGv1B,MAAO2J,EAAK47B,UAAW57B,EAAK47B,cAInC,kBAAC,GAAD,CACA7/B,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,aAChBl5B,MAAO,2BACPiB,KAAM,SAQd,6BAEoB,WAAhBkxB,EACA,0BAAMzsB,UAAU,cAAcS,QAAS,kBAAIogC,GAAiB,UAA5D,wCACA,GAEF,kBAAC,GAAD,CACA3iC,MAAO,CAACsoC,UAAW,IACnBlP,YA/kBY,CACtB,CACEt9B,IAAK,eACLC,KAAM,4BAER,CACED,IAAK,UACLC,KAAM,wCAER,CACED,IAAK,QACLC,KAAM,gBAER,CACED,IAAK,YACLC,KAAM,4BAER,CACED,IAAK,UACLC,KAAM,6BA6jBE4B,KAAM03C,MAKd,kBAAC,GAAD,CACMh4C,KAAK,IACLjB,MAAM,2BACNuN,QAASorC,EACTt1C,KAAM,kBAAIu1C,GAAgB,IAC1Bt1C,SAAU,WACW,WAAhB6uB,GACDoU,GAAiB,QAEnBqS,GAAgB,IAClB3rC,OAAQ,KACRlJ,MAAO,IACP2B,UAAU,sBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,KAGtB,QAAjB8hB,GACA,6BACE,uBAAG5gC,UAAU,aAAb,SAA0B,8BAC1BsgC,EAAYn2B,QADZ,UAGA,wBAAInK,UAAU,eACZ,kBAAC,aAAD,CACAu+B,YAAU,EACVC,cAAe,KAEXgC,EAAkBr2B,OAAS,EAC3Bq2B,EAAkBx8B,KAAI,SAACC,EAAMiD,GAC3B,OACA,wBAAIlN,IAAKkN,EAAOzG,QAAS,kBAAIqmC,GAAe7iC,EAAM,WAChD,uBAAGjE,UAAU,cAAc9B,MAAO,CAChCimB,gBAEElgB,EAAK4rB,UACL5rB,EAAK4rB,UACL,MAGJ,uBAAGv1B,MAAO2J,EAAK47B,UAAW57B,EAAK47B,cAInC,kBAAC,GAAD,CACA7/B,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,aAChBl5B,MAAO,2BACPiB,KAAM,SAQd,6BAEoB,WAAhBkxB,EACA,0BAAMzsB,UAAU,cAAcS,QAAS,kBAAIogC,GAAiB,UAA5D,wCACA,GAEF,kBAAC,GAAD,CACA3iC,MAAO,CAACsoC,UAAW,IACnBlP,YA7nBW,CACvB,CACEt9B,IAAK,OACLC,KAAM,gBAER,CACED,IAAK,cACLC,KAAM,4BAER,CACED,IAAK,UACLC,KAAM,yCAmnBI4B,KAAMulC,OAKhB,kBAAC,GAAD,CACM7lC,KAAK,IACLjB,MAAM,2BACNuN,QAASsrC,EACTx1C,KAAM,kBAAIy1C,GAAe,IACzBx1C,SAAU,WACW,WAAhB6uB,GACDoU,GAAiB,QAEnBuS,GAAe,IACjB7rC,OAAQ,KACRlJ,MAAO,IACP2B,UAAU,sBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,KAGtB,QAAjB8hB,GACA,6BACE,uBAAG5gC,UAAU,aAAb,SAA0B,8BAC1BsgC,EAAYn2B,QADZ,UAGA,wBAAInK,UAAU,eACZ,kBAAC,aAAD,CACAu+B,YAAU,EACVC,cAAe,KAEXgC,EAAkBr2B,OAAS,EAC3Bq2B,EAAkBx8B,KAAI,SAACC,EAAMiD,GAC3B,OACA,wBAAIlN,IAAKkN,EAAOzG,QAAS,kBAAIqmC,GAAe7iC,EAAM,UAChD,uBAAGjE,UAAU,cAAc9B,MAAO,CAChCimB,gBAEElgB,EAAK4rB,UACL5rB,EAAK4rB,UACL,MAGJ,uBAAGv1B,MAAO2J,EAAK47B,UAAW57B,EAAK47B,cAInC,kBAAC,GAAD,CACA7/B,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,aAChBl5B,MAAO,2BACPiB,KAAM,SAQd,6BAEoB,WAAhBkxB,EACA,0BAAMzsB,UAAU,cAAcS,QAAS,kBAAIogC,GAAiB,UAA5D,wCACA,GAEF,kBAAC,GAAD,CACA3iC,MAAO,CAACsoC,UAAW,IACnBlP,YAnrBU,CACtB,CACEt9B,IAAK,UACLC,KAAM,4BAER,CACED,IAAK,WACLC,KAAM,4BAER,CACED,IAAK,QACLC,KAAM,gBAER,CACED,IAAK,WACLC,KAAM,sBAER,CACED,IAAK,YACLC,KAAM,4BAER,CACED,IAAK,YACLC,KAAM,6BA6pBI4B,KAAMw3C,OAStB,IAAMtlB,GAAkB,SAAC9wB,GAAW,IAAD,EAS7BA,EAPFjB,WAF+B,IAG7B8jB,SAQJ,MAAO,CAACiD,WAXyB,EAI3BA,WAOcD,SAXa,EAK3BA,SAMwBnD,SAXG,EAO7BA,WAMSsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWguB,MCjzBlDx5B,I,OAAeiR,GAAfjR,YACN,SAAS46B,GAAiBl3C,GAAO,IAEzBu8B,EAMAv8B,EANAu8B,YACA9M,EAKAzvB,EALAyvB,aACA2B,EAIApxB,EAJAoxB,aACAC,EAGArxB,EAHAqxB,aALwB,EAQxBrxB,EAFA2iB,SAAWK,EANa,EAMbA,SAAUM,EANG,EAMHA,OACrBkZ,EACAx8B,EADAw8B,QAPwB,EASYrW,mBAAS,GATrB,mBASrBwJ,EATqB,KASPkC,EATO,OAUgB1L,mBAAS,IAVzB,mBAUrBgxB,EAVqB,KAULC,EAVK,OAW4BjxB,mBAAS,IAXrC,mBAWrBkxB,EAXqB,KAWCC,EAXD,OAYEnxB,oBAAS,GAZX,mBAYrBtb,EAZqB,KAYZi5B,EAZY,KAa5B1Z,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGA0S,GAAW,GACX,IAAIoG,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpEolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAEtGy4B,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,GACAnqB,EAAKyrB,WAG5B,IAAI9lB,EAAM0P,GAAa,iDACN,WAAhBmT,EAA2BnM,EAAQ,IACpC,aAA+B,WAAhBmM,GAA6C,WAAhBA,GAA6B2B,EAAcA,EAAc,IACrG,aAA+B,WAAhB3B,GAA8B2B,EAA4B,GAAdC,GAC3D,cAAiBD,GAAiBC,EAAwB,GAAVrO,GAEhD,UAAYknB,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bu4C,EAAkB1jC,EAAO7U,SAIjC+N,EAAM0P,GAAa,sDACF,WAAhBmT,EAA2BnM,EAAQ,IACpC,YAAc8N,EACd,YAAcC,EACd,aAAerO,EAJT1G,4BAOM4tB,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9By4C,EAAwB5jC,EAAO7U,MAEnCilC,GAAW,SAEhB,CAACrU,EAAc4B,EAAcD,EAAcmL,EAAaC,IAC3D,IAAIlC,EAAc,CACd,CACIh9B,MAAO,eACPN,IAAK,QACLu6C,UAAW,QACXl2C,MAAO,IACPm2C,UAAU,GAEd,CACIl6C,MAAuB,WAAhBmyB,EAA2B,eAAM,eACxCzyB,IAAqB,WAAhByyB,EAA2B,cAAe,YAC/C8nB,UAA2B,WAAhB9nB,EAA2B,cAAe,YACrDpuB,MAAO,IACPm2C,UAAU,GAEd,CACIl6C,MAAO,2BACPN,IAAK,WACLu6C,UAAW,WACXl2C,MAAO,IACPm2C,UAAU,GAGd,CACIl6C,MAAO,2BACPN,IAAK,MACLu6C,UAAW,MACXl2C,MAAO,IACPm2C,UAAU,GAGd,CACIl6C,MAAO,2BACPN,IAAK,UACLu6C,UAAW,UACXl2C,MAAO,IACPm2C,UAAU,GAGd,CACIl6C,MAAO,2BACPN,IAAK,WACLu6C,UAAW,WACXl2C,MAAO,IACPm2C,UAAU,IAGdnf,EAAQ8e,EAAehqC,OAEvBsqC,EAAgBpf,EAAQ,GAAE,CAC1BrvB,MAAOqvB,EACPrD,iBAAiB,EACjBlsB,iBAAiB,EACjBqjB,QAASwD,EACTiE,SAAU,CAAC,gBACXmB,SAAU,EACVruB,SAAU,SAACwuB,GAAD,OAAarD,EAAgBqD,KAE3C,OACI,yBAAKlyB,UAAU,yBACX,kBAAC,GAAD,CACAqB,SAAS,EACTD,IAAI,wBACJE,SAAUuG,GAEU,WAAhB4kB,EACA,yBAAKzsB,UAAU,yBACX,yBAAKA,UAAU,sBACX,kBAAC,KAAD,CACAzE,KAAK,SACLyzC,QAASzvC,SAAwD,IAA/CmS,OAAO2iC,EAAqBK,oBAC9C1rB,OAAQ,SAACgmB,GAAD,OAAYA,GACpB3wC,MAAO,GACP2B,UAAU,2BACVkvC,YAAY,YACZ,8DAEJ,yBAAKlvC,UAAU,sBACX,kBAAC,KAAD,CACAzE,KAAK,SACLyzC,QAASqF,EAAqBM,YAC9B3rB,OAAQ,SAACgmB,GAAD,OAAYA,GACpB3wC,MAAO,GACP2B,UAAU,yBACVkvC,YAAY,YACZ,wDAEJ,yBAAKlvC,UAAU,sBACX,kBAAC,KAAD,CACAzE,KAAK,SACLyzC,QAASqF,EAAqBO,UAC9B5rB,OAAQ,SAACgmB,GAAD,OAAYA,GACpB3wC,MAAO,GACP2B,UAAU,qBACVkvC,YAAY,YACZ,yDAGR,GAGgB,WAAhBziB,GAA8B4B,GAAiBD,EAE/C,kBAAC,KAAD,CACIuI,WAAYwd,EACZU,QAASvd,EACTwd,aAAa,OACble,WAAY6d,EACZz0C,UAAW,qBAAuBq1B,EAAQ,EAAG,YAAa,MAN9D,KAehB,IAAMtH,GAAkB,SAAC9wB,GAAW,IAAD,EAS3BA,EAPFjB,WAF6B,IAG3B8jB,SAQJ,MAAO,CAACiD,WAXuB,EAIzBA,WAOcD,SAXW,EAKzBA,SAMwBnD,SAXC,EAO3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWovB,MCzLlD56B,GAAeiR,GAAfjR,WACC3c,GAAUC,KAAVD,OACP,SAASo4C,GAAiB/3C,GAAO,IAEzBu8B,EAMEv8B,EANFu8B,YACA9M,EAKEzvB,EALFyvB,aACA2B,EAIEpxB,EAJFoxB,aACAC,EAGErxB,EAHFqxB,aALwB,EAQtBrxB,EAFF2iB,SAAWK,EANa,EAMbA,SAAUM,EANG,EAMHA,OACrBkZ,EACEx8B,EADFw8B,QAPwB,EAUUrW,mBAAS,KAVnB,mBAUrB2W,EAVqB,KAURC,EAVQ,OAWI5W,mBAAS,IAXb,gCAYIA,mBAAS,KAZb,mBAYrB6xB,EAZqB,KAYXC,EAZW,OAac9xB,mBAAS,IAbvB,mBAarB+xB,EAbqB,KAaNC,EAbM,OAcchyB,mBAAS,IAdvB,mBAcrBiyB,EAdqB,KAcNC,EAdM,OAgBclyB,oBAAS,GAhBvB,mBAgBrBmyB,EAhBqB,KAgBNC,EAhBM,KAkBxB,IAAIjM,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aA6Zf,OAzZAmhB,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA8B2B,GAAiBC,KAG/B,WAAhB5B,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGA,IAAI8Y,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpEolC,EAAY/4B,eAAeM,QAAQ,aACvCR,KAAKS,MAAMP,eAAeM,QAAQ,cAClC,GACI04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAI9lB,EAAM0P,yDAEO,WAAhBmT,EAA2BnM,EAAQ,IACpC,YAAc8N,EACd,aACoB,WAAhB3B,GAA8B4B,EAE9BA,EADA6X,GAEJ,aAAelmB,EACf,oBAAsB8Z,EAEtB,UAAYoN,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bs5C,EAAiBzkC,EAAO7U,SAGhC+N,EAAM0P,yDAEW,WAAhBmT,EAA2BnM,EAAQ,IACpC,YAAc8N,EACd,aACoB,WAAhB3B,GAA8B4B,EAE9BA,EADA6X,GAEJ,aAAelmB,EACf,oBAAsB8Z,EAEtB,UAAYoN,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bw5C,EAAiB3kC,EAAO7U,YAGjC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaO,EAAaN,IACxEpS,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGAmnB,GAAiB,GACjB,IAAIrO,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpEolC,EAAY/4B,eAAeM,QAAQ,aACvCR,KAAKS,MAAMP,eAAeM,QAAQ,cAClC,GACI04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAI9lB,EAAM0P,GAAa,0CACJ,WAAhBmT,EACA,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,GAEH,eACiB,WAAhB5B,EAA2BnM,EAAQ,IACpC,YAAc8N,EACd,aACoB,WAAhB3B,GAA8B4B,EAE9BA,EADA6X,GAEJ,aAAelmB,EACf,oBAAsB8Z,EAEtB,UAAYoN,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bo5C,EAAYvkC,EAAO7U,MAEvB05C,GAAiB,SAEtB,CAAC9oB,EAAc4B,EAAcD,EAAcmL,EAAaO,EAAaN,IACxE7V,qBAAU,WACN,GAAIqxB,EAASQ,sBAAgE,GAAxCR,EAASQ,qBAAqBrrC,OAAnE,CAIA,IAAI+xB,EAAWC,KAAav9B,SAASyP,eAAe,2BACpD6tB,EAASjsB,SACT,IAAIu5B,EAAa,GAAIC,EAAQ,GAC7B,GAAmB,WAAhBhd,GAA8B2B,GAAiBC,EAwB3C,GAAmB,WAAhB5B,EAA0B,CAChC,IAAI+hB,EAAS,GAAIvI,EAAY,GAAIwK,EAAY,GAC7CuE,EAASQ,sBAAwBR,EAASQ,qBAAqBvpC,SAAQ,SAAChI,GACpEwlC,EAAM3+B,KAAK7G,EAAKikC,OAChBsG,EAAO1jC,KAAK7G,EAAKwxC,eAErBP,EAAcM,sBAAwBN,EAAcM,qBAAqBvpC,SAAQ,SAAChI,GAC9EgiC,EAAUn7B,KAAK7G,EAAKwxC,eAExBL,EAAcI,sBAAwBJ,EAAcI,qBAAqBvpC,SAAQ,SAAChI,GAC9EwsC,EAAU3lC,KAAK7G,EAAKwxC,eAExBjM,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK2yC,GAET,CACIv0C,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,SAIV,GAAmB,WAAhBhkB,GAA6B2B,EAAa,CAChD,IAAIogB,EAAS,GAAIvI,EAAY,GAAIwK,EAAY,GAC7CuE,EAASQ,sBAAwBR,EAASQ,qBAAqBvpC,SAAQ,SAAChI,GACpEwlC,EAAM3+B,KAAK7G,EAAKikC,OAChBsG,EAAO1jC,KAAK7G,EAAKwxC,eAErBP,EAAcM,sBAAwBN,EAAcM,qBAAqBvpC,SAAQ,SAAChI,GAC9EgiC,EAAUn7B,KAAK7G,EAAKwxC,eAExBL,EAAcI,sBAAwBJ,EAAcI,qBAAqBvpC,SAAQ,SAAChI,GAC9EwsC,EAAU3lC,KAAK7G,EAAKwxC,eAExBjM,EAAa,CAiBT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,QAIV,CACH,IAAIjC,EAAS,GAAIvI,EAAY,GAAIwK,EAAY,GAC7CuE,EAASQ,sBAAwBR,EAASQ,qBAAqBvpC,SAAQ,SAAChI,GACpEwlC,EAAM3+B,KAAK7G,EAAKikC,OAChBsG,EAAO1jC,KAAK7G,EAAKwxC,eAErBP,EAAcM,sBAAwBN,EAAcM,qBAAqBvpC,SAAQ,SAAChI,GAC9EgiC,EAAUn7B,KAAK7G,EAAKwxC,eAExBL,EAAcI,sBAAwBJ,EAAcI,qBAAqBvpC,SAAQ,SAAChI,GAC9EwsC,EAAU3lC,KAAK7G,EAAKwxC,eAExBjM,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK2yC,QA5K8C,CAC3D,IAAIA,EAAS,GACbwG,EAASQ,sBAAwBR,EAASQ,qBAAqBvpC,SAAQ,SAAChI,GACpEwlC,EAAM3+B,KAAK7G,EAAKikC,OAChBsG,EAAO1jC,KAAK7G,EAAKwxC,eAErBjM,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK2yC,IA8JjB,IAAI1nC,EAAS,CACTxM,MAAO,CACHq6B,KAAM,UAAuB,WAAhBlI,EAA2B,eAAM,iBAC9B,cAAfqN,EAA6B,eAAM,gBAAO,qBAC3C58B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,8GAG8CpmC,EAAKpD,MAHnD,oBAKAq+B,IAGfoL,OAAQ,CACJntC,IAAK,OACLD,KAAM,SAENu/B,UAAW,CACPx2B,MAAO,YAGf4kC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,qBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBosB,IAAK,EACLC,IAAK,IACLC,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAACwc,EAAcuoB,EAAUlb,IAExB,yBAAK95B,UAAU,qBACX,yBAAKA,UAAU,yBACX,yBAAKA,UAAU,6BACX,yBAAKA,UAAU,mBACX,kBAAC,KAAD,CACAzE,KAAK,SACLyzC,QACAgG,EAASU,wBACTn2C,SAASy1C,EAASU,yBAClB,KACAr3C,MAAO,GACP2qB,OAAQ,SAACgmB,GAAD,OAAWA,GACnBhvC,UAAU,WACVkvC,YAAY,YACZ,mDAGR,yBAAKlvC,UAAU,eACf,yBAAKA,UAAU,qBACX,yBAAKA,UAAU,kBACX,uBAAGA,UAAU,kBACuB,iBAAxBg1C,EAASL,YAAyBK,EAASL,YAAa,MACpE,wDAEJ,yBAAK30C,UAAU,kBACX,uBAAGA,UAAU,iBACqB,iBAAtBg1C,EAASJ,UAAuBI,EAASJ,UAAW,MAChE,wDAEJ,yBAAK50C,UAAU,kBACX,uBAAGA,UAAU,mBAC2B,iBAA5Bg1C,EAASW,gBAA6BX,EAASW,gBAAiB,MAC5E,wDAEJ,yBAAK31C,UAAU,kBACX,uBAAGA,UAAU,oBACuB,iBAAxBg1C,EAASY,YAAyBZ,EAASY,YAAa,MACpE,0DAIZ,yBAAK51C,UAAU,oBACX,+CACA,kBAAC,KAAD,CAAQa,MAAOi5B,EAAa95B,UAAU,SAAS0D,SAAU,SAAC7C,GAAD,OAASk5B,EAAel5B,KAC7E,kBAAC,GAAD,CAAQA,MAAM,KAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,wBAaR,kBAAC,GAAD,CACAQ,SAAS,EACTD,IAAK,wBACLE,SAAUg0C,GAGNN,GAAY/tC,MAAM4qB,QAAQmjB,EAASQ,uBACnCR,EAASQ,qBAAqBrrC,OAAS,EACvC,yBAAKnK,UAAU,yBAAyBQ,GAAG,2BAC3C,kBAAC,GAAD,CAEAtC,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,QAStB,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAAD,EAS3BA,EAPFjB,WAF6B,IAG3B8jB,SAQJ,MAAO,CAACiD,WAXuB,EAIzBA,WAOcD,SAXW,EAKzBA,SAMwBnD,SAXC,EAO3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWiwB,M,eCnkBxD,SAASc,GAAQ74C,EAAOuD,GAAM,IAE1BP,EAOEhD,EAPFgD,UACA81C,EAME94C,EANF84C,QAEAC,GAIE/4C,EALF5C,SAKE4C,EAJF+4C,OACAlrC,EAGE7N,EAHF6N,OAEGrJ,GACDxE,EAFFg5C,WAPyB,YASvBh5C,EATuB,qEAUWmmB,mBAAS,IAVpB,mBAUpB8yB,EAVoB,KAUPC,EAVO,OAYG/yB,oBAAS,GAZZ,mBAYpBtb,EAZoB,KAYXi5B,EAZW,KAcrBqV,EAAW5tB,iBAAO,IASxB,OARA5E,qBAAU,gBACShiB,IAAjBkJ,EAAOhK,OAAuBq1C,EAAerrC,EAAOhK,SACnD,CAACgK,IACJoc,8BAAoB1mB,GAAK,iBAAO,CAC9B61C,YAAa,WACXD,EAAShtB,QAAQgN,kBAInB,uCAAKn2B,UAAS,mBAAcA,GAAwB,KAAUwB,GAC3Ds0C,EACC,0BACE91C,UAAU,sBACVS,QAAS,SAACjD,GACmB,oBAApBs4C,EAAQr1C,SAA0Bq1C,EAAQr1C,YAGlDq1C,EAAQx7C,MAAQw7C,EAAQx7C,MAAQ,4BAGnC,GAEDy7C,EACC,kBAAC,KAAD,CACEzvC,kBAAmB,SAAC9I,GAAD,OAAOA,EAAE+I,YAC5BC,UAAW,cAQXP,MAAO,OACPQ,iBAAgB,YAChB41B,QAAS,QAETga,gBAAiB,SAACxuC,GAChBi5B,EAAWj5B,IAEbvN,MACE,yBAAK4D,MAAO,CAACG,MAAM,QAAQi4C,UAAU,UAEjC,kBAAC,GAAD,CACAp4C,MAAO,CAACmvB,SAAS,SACfrtB,UAAU,iBACV60C,QAASkB,EAAMlB,QAEf5f,UAAW8gB,EAAMhhB,MAAMtT,YACvBsT,MAAOghB,EAAMhhB,MACbyB,aAAc,SAAC36B,KACf0E,IAAK41C,EACLnhB,IAAK+gB,EAAM/gB,IACXuB,UAAW,CAAEzwB,iBAAiB,OAMtC,0BACE9F,UAAU,oBACVS,QAAS,SAACjD,GAEHqK,GACHsuC,EAAShtB,QAAQgN,YAAcggB,EAAShtB,QAAQgN,aAEzB,oBAAlB4f,EAAMt1C,SAA0Bq1C,EAAQr1C,YAGhDs1C,EAAMz7C,MAAQy7C,EAAMz7C,MAAQ,qBAC5By7C,EAAMxe,OAAyB,IAAhBwe,EAAMxe,MAAc,wCAAIwe,EAAMxe,MAAV,KAAuB,KAI/D,GAED1sB,EACC,kBAAC,GAAD,CACEtH,YAAa,gDACbvD,UAAU,cACViC,MAAOg0C,EACPvyC,SAAU,SAAClG,GACT04C,EAAe14C,EAAEwB,OAAO6B,QAE1BmC,cAAe,SAACxF,GACa,oBAApBqN,EAAO0rC,UACZ1rC,EAAO0rC,SAASN,IAEpBzyC,eAAgB,SAAChG,GACf04C,EAAe,IACY,oBAApBrrC,EAAO0rC,UAA2B1rC,EAAO0rC,SAAS,OAI7D,IAKOjtC,sBAAKwb,qBAAW+wB,KCzFlBW,GAAUhsB,0BACVC,GAAY,CACvBgsB,QAAS,GACTC,SAAS,KAEEC,GAAU,SAAC15C,EAAOhB,GAC7B,OAAQA,EAAQV,MACd,IAAK,eACH,OAAOsN,OAAOC,OAAO,GAAI7L,EAAO,CAC9Bw5C,QAAQx6C,EAAQJ,OAGpB,QACE,OAAOoB,ICxBPqc,GAAeiR,GAAfjR,WAMC,SAASs9B,KAA4B,IAAf5gB,EAAc,uDAAJ,GAGnC9D,EAOE8D,EAPF9D,UACAH,EAMEiE,EANFjE,SACA0kB,EAKEzgB,EALFygB,QACAn1B,EAIE0U,EAJF1U,SACAC,EAGEyU,EAHFzU,UACAE,EAEEuU,EAFFvU,YACAo1B,EACE7gB,EADF6gB,QAEEjtC,EACF0P,GAAU,+BACcgI,GAAsB,GADpC,oBAEc,IAAtB/hB,SAASs3C,GAAiB,EAAI,EAFtB,sBAGI3kB,GAAwB,EAH5B,qBAIRH,GAAsB,GAJd,oBAKE0kB,GAAoB,GALtB,sBAMRl1B,GAAwB,GANhB,wBAOME,GAA4B,IAK9C,OAAOzH,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,WACA,CACLA,WAAYJ,EAAKI,WACjBpgB,KAAK,2BACAggB,EAAK4E,MADN,IAEFwC,KACEpH,EAAK4E,KAAKwC,gBAAgBhc,MACtB4U,EAAK4E,KAAKwC,KAAKjf,KAAI,SAACgD,EAAOE,GAQzB,IAAI4vC,EAAoC,IAA3Bj7B,EAAK4E,KAAK8U,UAAY,GAAUruB,EAAQ,EAErD,OADA4vC,EAAQA,GAAS,GAAKA,EAAQ,IAAMA,EAC7B,2BACF9vC,GADL,IAEEhN,IAAKkN,EACLA,MAAO4vC,EACPx8C,MAAO0M,EAAM+vC,MACbC,OAAQhwC,EAAMiwC,MACdC,UAAWlwC,EAAMmwC,YACjBvlC,KAAM5K,EAAMowC,iBAGhB,GACN9hB,SAAUvD,KAcP,CACL9V,WAAYJ,EAAKI,eAUpB,SAASo7B,KAAqC,IAAfrhB,EAAc,uDAAJ,GAG5C9D,EAOE8D,EAPF9D,UACAH,EAMEiE,EANFjE,SACA0kB,EAKEzgB,EALFygB,QACAn1B,EAIE0U,EAJF1U,SACAC,EAGEyU,EAHFzU,UACAE,EAEEuU,EAFFvU,YACAo1B,EACE7gB,EADF6gB,QAEEjtC,EACF0P,GAAU,uCACsBgI,GAAsB,GAD5C,oBAEc,IAAtB/hB,SAASs3C,GAAiB,EAAI,EAFtB,sBAGI3kB,GAAwB,EAH5B,qBAIRH,GAAsB,GAJd,oBAKE0kB,GAAoB,GALtB,sBAMRl1B,GAAwB,GANhB,wBAOME,GAA4B,IAK9C,OAAOzH,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,WACA,CACLA,WAAYJ,EAAKI,WACjBpgB,KAAK,2BACAggB,EAAK4E,MADN,IAEFwC,KACEpH,EAAK4E,KAAKwC,gBAAgBhc,MACtB4U,EAAK4E,KAAKwC,KAAKjf,KAAI,SAACgD,EAAOE,GAQzB,IAAI4vC,EAAoC,IAA3Bj7B,EAAK4E,KAAK8U,UAAY,GAAUruB,EAAQ,EAErD,OADA4vC,EAAQA,GAAS,GAAKA,EAAQ,IAAMA,EAC7B,2BACF9vC,GADL,IAEEhN,IAAKkN,EACLA,MAAO4vC,EACPx8C,MAAO0M,EAAM+vC,MACbC,OAAQhwC,EAAMiwC,MACdC,UAAWlwC,EAAMmwC,YACjBvlC,KAAM5K,EAAMowC,iBAGhB,GACN9hB,SAAUvD,KAcP,CACL9V,WAAYJ,EAAKI,eAWpB,SAASq7B,KAA8B,IAAfthB,EAAc,uDAAJ,GAEjCx1B,EAAOw1B,EAAPx1B,GACFoJ,EAAM0P,GAAU,4BAAwB9Y,GAE5C,OAAOwZ,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,EAAGC,SAAS,IACtCS,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,WACA,CACLA,WAAYJ,EAAKI,WACjBs7B,QAAS17B,EAAK07B,QACd17C,KAAK,2BACAggB,EAAK4E,MADN,IAEF+2B,GAAI37B,EAAK4E,KAAKg3B,OAIX,CACLx7B,WAAYJ,EAAKI,WACjBs7B,QAAS17B,EAAK07B,YAWjB,SAASG,KAA4B,IAAf1hB,EAAc,uDAAJ,GAoBnChW,EAcEgW,EAdFhW,SACAwB,EAaEwU,EAbFxU,UACAm2B,EAYE3hB,EAZF2hB,YACAC,EAWE5hB,EAXF4hB,QACAb,EAUE/gB,EAVF+gB,MACAE,EASEjhB,EATFihB,MACAG,EAQEphB,EARFohB,YACAS,EAOE7hB,EAPF6hB,QACAC,EAME9hB,EANF8hB,SACAC,EAKE/hB,EALF+hB,MACAC,EAIEhiB,EAJFgiB,eACAC,EAGEjiB,EAHFiiB,aACAC,EAEEliB,EAFFkiB,aACAC,EACEniB,EADFmiB,UAEEvuC,EAAM0P,GAAU,aAEpB,OAAOU,GACJwB,KAAK,CACJ5R,MACA0Q,cAAe,EACfL,OAAQ,CAAE,eAAgB,oBAC1B3L,KAAM,CACJ0R,WACAwB,YACAm2B,cACAC,UACAb,QACAE,QACAG,cACAS,UACAC,WACAC,QACAC,iBACAC,eACAC,eACAC,eAGHn9B,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,WACA,CACLvL,QAAQ,GAGH,CAAEA,QAAQ,MAUlB,SAAS0nC,KAAyB,IAAfpiB,EAAc,uDAAJ,GAuBhC4hB,EAYE5hB,EAZF4hB,QACAb,EAWE/gB,EAXF+gB,MACAE,EAUEjhB,EAVFihB,MACAQ,EASEzhB,EATFyhB,IAEAI,EAOE7hB,EAPF6hB,QACAE,EAME/hB,EANF+hB,MACAC,EAKEhiB,EALFgiB,eACAC,EAIEjiB,EAJFiiB,aACAC,EAGEliB,EAHFkiB,aACAC,EAEEniB,EAFFmiB,UACAL,EACE9hB,EADF8hB,SAEEluC,EAAM0P,GAAU,cAEpB,OAAOU,GACJwB,KAAK,CACJ5R,MACA0Q,cAAe,EACfL,OAAQ,CAAE,eAAgB,oBAC1B3L,KAAM,CAIJspC,UACAb,QACAU,MACAR,QAEAY,UACAE,QACAC,iBACAC,eACAC,eACAC,YACAL,cAGH98B,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,WACA,CACLvL,QAAQ,GAGH,CAAEA,QAAQ,MAUlB,SAAS2nC,KAA2B,IAAfriB,EAAc,uDAAJ,GAC9BsiB,EAAStiB,EAATsiB,KACF1uC,EAAM0P,GAAU,gBAEpB,OAAOU,GACJwB,KAAK,CACJ5R,MACA0Q,cAAe,EACfhM,KAAM,CACJgqC,UAGHt9B,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,WACA,CACLvL,QAAQ,GAGH,CAAEA,QAAQ,MAWlB,SAAS6nC,KAA0B,IAAfviB,EAAc,uDAAJ,GAC7ByhB,EAAezhB,EAAfyhB,IAAIe,EAAWxiB,EAAXwiB,OACN5uC,EAAM0P,GAAU,uBAEpB,OAAOU,GACJwB,KAAK,CACJ5R,MACA0Q,cAAe,EACfhM,KAAM,CACJmpC,IAAIA,EAAIe,YAGXx9B,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,WACA,CACLvL,QAAQ,GAGH,CAAEA,QAAQ,MCpXzB,SAAS+nC,GAAKz7C,EAAOuD,GAAM,IAAD,SAOpBvD,EAJF+tB,QAAWzJ,EAHW,EAGXA,SAAUC,EAHC,EAGDA,UAAWE,EAHV,EAGUA,YAK9BhJ,GADAzb,EAFFkqB,UAEElqB,EADFvB,SAEY6pB,eACV3b,EAAW4b,cATS,EAapBM,qBAAW2wB,IAFJC,EAXa,EAWtBx5C,MAASw5C,QACTiC,EAZsB,EAYtBA,YAZsB,EAcEv1B,mBAAS,CACjCszB,UACAn1B,WACAC,YACAE,gBAlBsB,mBAcjBsT,EAdiB,KAcV4jB,EAdU,KAqBlBxC,EAAW5tB,iBAAO,IArBA,EAuBEpF,mBAAS,GAvBX,mBAuBjB4yB,EAvBiB,KAuBV6C,EAvBU,KAyBlBC,EAAUtwB,kBAAO,GAEnBuwB,EAAY,KAAO,KACnBjE,EAAU,CACZ,CACEv6C,MAAO,eACPi6C,UAAW,QACXwE,MAAO,SACP16C,MAAO,KACP26C,SAAU,aACVjqC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,KAKT,CACEvB,MAAO,eACP+D,MAAO,IAAMy6C,EAEb/pC,OAAQ,SAAClT,GAAU,IACXvB,EAAeuB,EAAfvB,MAAOm9C,EAAQ57C,EAAR47C,IACb,OACE,0BACEh3C,QAAS,WACPgY,EAAQ3N,KAAK,gBAAkB2sC,IAEjCz3C,UAAU,cACV1F,MAAOA,GAENA,GAAY,QAKrB,CACEA,MAAO,eACPy+C,MAAO,SACP16C,MAAO,IAAMy6C,EACbvE,UAAW,SACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,eAAe1F,MAAOuB,GACnCA,KAMT,CACEvB,MAAO,uCACPy+C,MAAO,SACP16C,MAAO,IAAMy6C,EAEb/pC,OAAQ,SAAClT,GAAU,IACZs8C,EAAyBt8C,EAAzBs8C,UAAUF,EAAep8C,EAAfo8C,aACf,OACE,0BAAMj4C,UAAU,aAAa1F,MAAO29C,GACjCE,GAAWF,EAAaA,EAAa,QAK9C,CACE39C,MAAO,wCACPy+C,MAAO,SACP16C,MAAO,GAEP0Q,OAAQ,SAAClT,GAAU,IACXk8C,EAA+Bl8C,EAA/Bk8C,MAAMkB,EAAyBp9C,EAAzBo9C,WAAWd,EAAct8C,EAAds8C,UACnB79C,GAAS2+C,GAAsB,GAAG,KAAKlB,GAAY,MACvD,OACE,0BAAM/3C,UAAU,cAAc1F,MAAOA,GAClC69C,EAAU79C,EAAM,QAKzB,CACEA,MAAO,2BACPy+C,MAAO,SACP16C,MAAO,GACPk2C,UAAW,eACXxlC,OAAQ,SAAClT,GACP,IAAIq9C,EAAe,CACjB,CAAEr4C,MAAO,EAAGvG,MAAO,gBACnB,CAAEuG,MAAO,EAAGvG,MAAO,iBAEjBA,EAAQ4+C,EAAa35C,SAAS1D,IAAOq9C,EAAa35C,SAAS1D,IAAOvB,MAAM,KAC5E,OACE,0BAAM0F,UAAS,wCAAmCnE,GAAQvB,MAAOA,GAC9DA,KAKT,CACEA,MAAO,eACPy+C,MAAO,SACP16C,MAAO,IAAMy6C,EAGb/pC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,gBACd,0BACEA,UAAU,qBACVS,QAAS,WACPgY,EAAQ3N,KAAK,cAAgBjP,EAAK47C,OAHtC,gBAQA,0BACEz3C,UAAU,uBACVS,QAAS,WACPmO,GAAU,CACRtU,MAAO,0DACPiB,KAAM,WACN0E,YAAY,EACZtC,KAAM,WACJw7C,EACE,CAAEb,KAAMz8C,EAAK47C,KACbtB,EAAShtB,QAAQgN,WAAWx1B,KAAK,EAAK,IAAG,SAVnD,oBAuBNy4C,EAAe,CACjB,CACE9+C,MAAO,eACPi6C,UAAW,QACXwE,MAAO,SACP16C,MAAO,KACP26C,SAAU,aACVjqC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,KAKT,CACEvB,MAAO,eACP+D,MAAO,IAEP0Q,OAAQ,SAAClT,GAAU,IACXvB,EAAeuB,EAAfvB,MAAeuB,EAAR47C,IACb,OACE,0BACEh3C,QAAS,aAGTT,UAAU,cACV1F,MAAOA,GAENA,GAAY,QAMrB,CACEA,MAAO,mDACPy+C,MAAO,SACP16C,MAAO,IAAMy6C,EACbvE,UAAW,aACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,aAAa1F,MAAOuB,GACjCA,GAAU,QAKnB,CACEvB,MAAO,eACPy+C,MAAO,SACP16C,MAAO,IAAMy6C,EAGb/pC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,gBACd,0BACEA,UAAU,qBACVS,QAAS,WACPgY,EAAQ3N,KAAK,cAAgBjP,EAAK47C,OAHtC,gBAQA,0BACEz3C,UAAU,uBACVS,QAAS,WAaP04C,EAAY,CAAEb,KAAMz8C,EAAK47C,MAAO,WAC9BtB,EAAShtB,QAAQgN,WAAW,IAAG,GAE/BkjB,EAAWlwB,QAAQitB,mBAlBzB,oBA8BJ+C,EAAc1yB,uBAClB,SAAC7b,GAAiD,IAA1CmD,EAAyC,uDAA/B,aAAUC,EAAqB,uDAAb,aAClCqqC,GAAYztC,GAAOoQ,MAAK,SAACC,GACnBA,EAAIvK,OACN3C,IAEAC,SAIN,IAoBFoZ,2BAAgB,WAAO,IACfzZ,EAAahE,EAAbgE,SAEDkrC,EAAQ1vB,QAGM,kBAAbxb,GACFwoC,EAAShtB,QAAQgN,aAHnB0iB,EAAQ1vB,SAAU,IAOnB,CAACxf,IACJ,IAAM2vC,EAAWvzB,mBAAQ,WACvB,MAAO,CACLzrB,MAAO,qBACPi9B,MAAOwe,EACPhhB,MAAO,CAAEtT,cAAaH,WAAUC,YAAWs1B,QAAS,GACpD7hB,IAAK4hB,GACL/B,QAASuE,KAGV,CAAC33B,EAAaH,EAAUC,EAAWw0B,IAEtC9uB,8BAAoB1mB,GAAK,iBAAO,CAC9B41B,WAAYggB,EAAShtB,QAAQgN,eAG/B,IAAMkjB,EAAa9wB,iBAAO,MAC1B,OACE,yBAAKvoB,UAAU,+BACb,kBAAC,GAAD,CACEO,IAAK84C,EACLvD,QAAS,CACPx7C,MAAO,uCACPmG,QAAS,WACPgY,EAAQ3N,KAAK,mBAGjBirC,MAAOuD,EACPzuC,OAAQ,CACN0rC,SAAU,SAAC11C,GAET63C,EAAY,CAAEn9C,KAAM,eAAgBM,KAAMgF,IAC1C83C,EAAS,CAAEr3B,WAAUC,YAAWk1B,QAAS51C,EAAO4gB,oBAItD,kBAAC,GAAD,CACEzhB,UAAU,iBACV60C,QAASA,EAET5f,UAAWF,EAAMtT,YACjBsT,MAAOA,EACPyB,aAAc,SAAC36B,GACb+8C,EAAS/8C,GAAQA,EAAK09C,MAAQ19C,EAAK09C,MAAQ,IAE7Ch5C,IAAK41C,EACLnhB,IAAK4hB,MAUb,IAAM7oB,GAAkB,SAAC9wB,GAAW,IAAD,EAI7BA,EAFFu8C,WAAcC,EAFiB,EAEjBA,gBAAiBvyB,EAFA,EAEAA,UAGjC,MAAO,CAAEuyB,kBAAiB1uB,QADtB9tB,EADFjB,WAAc+uB,QAEmB7D,cAEtB+G,qBAAQF,GAAiB,KAAM,KAAM,CAAEjJ,YAAY,GAAnDmJ,CACb3kB,eAAKwb,qBAAW2zB,MCpZZn/B,GAAeiR,GAAfjR,WACC3c,GAAUC,KAAVD,OAEP,SAAS+8C,GAAe18C,GAAO,IAEvBu8B,EAMAv8B,EANAu8B,YACA9M,EAKAzvB,EALAyvB,aACA2B,EAIApxB,EAJAoxB,aACAC,EAGArxB,EAHAqxB,aALsB,EAQtBrxB,EAFA2iB,SAAWK,EANW,EAMXA,SAAUM,EANC,EAMDA,OACrBkZ,EACAx8B,EADAw8B,QAPsB,EASIrW,oBAAS,GATb,mBASnBtb,EATmB,KASVi5B,EATU,OAU0B3d,mBAAS,IAVnC,mBAUnBw2B,EAVmB,KAUCC,EAVD,OAW0Bz2B,mBAAS,IAXnC,mBAWnB02B,EAXmB,KAWCC,EAXD,OAYc32B,mBAAS,gBAZvB,mBAYnB42B,EAZmB,KAYLC,EAZK,OAaoC72B,mBAAS,IAb7C,mBAanB82B,EAbmB,KAaMC,EAbN,OAcoC/2B,mBAAS,IAd7C,mBAcnBg3B,EAdmB,KAcMC,EAdN,KAetB/Q,EAAY,CACZ,IAAIC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAi0Bf,OA7zBAmhB,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA8B2B,GAAiBC,KAG9CA,GAAiBD,GAArB,CAGA,IAAI6X,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GAChB9X,GACC6X,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAKhC,IAAIwX,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpE+I,EAAM0P,oEACyB+U,GAA4B6X,GAC/D,aAAelmB,EAEf,WAAaknB,EAAgBd,UAAWc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACjF,SAAWs5B,EAAgBb,QAASa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC3EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bq+C,EAA2BxpC,EAAO7U,YAG3C,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaC,IAE3DpS,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA8B2B,GAAiBC,IAG/B,WAAhB5B,EAAH,CAGA,IAAIya,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpE+I,EAAM0P,0DACe8U,EACzB,YAAcC,EACd,aAAerO,EAEf,WAAaknB,EAAgBd,UAAWc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACjF,SAAWs5B,EAAgBb,QAASa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC3EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bu+C,EAA2B1pC,EAAO7U,YAG3C,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaC,IAC3DpS,2BAAgB,WAIZ,IAAmB,WAAhBqF,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGA0S,GAAW,GACX,IAAIoG,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpEolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAI9lB,EAAM0P,GAAa,mCAEH,WAAhBmT,EACA,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,GAEJ,eAAiC,WAAhB5B,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,aACoB,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAChD,aAAelmB,EAEf,WAAaknB,EAAgBd,UAAWc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACjF,SAAWs5B,EAAgBb,QAASa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC3EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B+9C,EAAsBlpC,EAAO7U,MAEjCilC,GAAW,SAEhB,CAACrU,EAAc4B,EAAcD,EAAcmL,EAAaC,IAE3DpS,2BAAgB,WACZ,GAAmB,WAAhBqF,IAA6B2B,IAAgBC,EAAhD,CAGAyS,GAAW,GACX,IAAIoG,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpE+I,EAAM0P,sDACK0G,EAEf,WAAaknB,EAAgBd,UAAWc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACjF,SAAWs5B,EAAgBb,QAASa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC3EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bi+C,EAAsBppC,EAAO7U,MAEjCilC,GAAW,SAEhB,CAACrU,EAAc4B,EAAcD,EAAcmL,EAAaC,IAE3D7V,qBAAU,WACN,IAAIuY,EAAWC,KAAav9B,SAASyP,eAAe,oBACpD6tB,EAASjsB,SACT,IAAIu5B,EAAa,GAAIC,EAAQ,GAAI+E,EAAS,GAAIvI,EAAY,GAAIwK,EAAY,GACvD,WAAhBhkB,GACCxlB,MAAM4qB,QAAQ8nB,EAAmBU,wBACjCV,EAAmBU,sBAAsBpuC,SAAQ,SAAChI,GAC9CwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM0zC,YAGrBlM,EAAO1jC,KAAKyvC,MAEhBtzC,MAAM4qB,QAAQsoB,EAAwBE,wBACtCF,EAAwBE,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM0zC,YAGrBzU,EAAUn7B,KAAKyvC,MAEnBtzC,MAAM4qB,QAAQooB,EAAwBI,wBACtCJ,EAAwBI,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM0zC,YAGrBjK,EAAU3lC,KAAKyvC,MAEnB/Q,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK4tC,GAET,CACIxvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,KAIPriB,GACNnnB,MAAM4qB,QAAQ8nB,EAAmBU,wBACjCV,EAAmBU,sBAAsBpuC,SAAQ,SAAChI,GAC9CwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM0zC,YAGrBlM,EAAO1jC,KAAKyvC,MAEhBtzC,MAAM4qB,QAAQsoB,EAAwBE,wBACtCF,EAAwBE,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM0zC,YAGrBzU,EAAUn7B,KAAKyvC,MAEnBtzC,MAAM4qB,QAAQooB,EAAwBI,wBACtCJ,EAAwBI,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM0zC,YAGrBjK,EAAU3lC,KAAKyvC,MAEnB/Q,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK2yC,GAET,CACIv0C,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,KAIPpiB,GACNpnB,MAAM4qB,QAAQ8nB,EAAmBU,wBACjCV,EAAmBU,sBAAsBpuC,SAAQ,SAAChI,GAC9CwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM0zC,YAGrBlM,EAAO1jC,KAAKyvC,MAEhBtzC,MAAM4qB,QAAQsoB,EAAwBE,wBACtCF,EAAwBE,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM0zC,YAGrBzU,EAAUn7B,KAAKyvC,MAEnBtzC,MAAM4qB,QAAQooB,EAAwBI,wBACtCJ,EAAwBI,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM0zC,YAGrBjK,EAAU3lC,KAAKyvC,MAEnB/Q,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK2yC,KAKbvnC,MAAM4qB,QAAQgoB,IACdA,EAAmB5tC,SAAQ,SAAChI,EAAMiD,GAC9B,IAAIirB,EAAM,GACVluB,EAAK02C,qBACL1zC,MAAM4qB,QAAQ5tB,EAAK02C,oBAAoBN,wBACvCp2C,EAAK02C,oBAAoBN,sBAAsBpuC,SAAQ,SAAChI,GACpDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACvBA,EAAMyzC,gBAAkBV,GAAgB/yC,EAAM0zC,UAC5CH,EAAMvzC,EAAM0zC,YAGpBvoB,EAAIrnB,KAAKyvC,MAEb/Q,EAAW1+B,KAAK,CACZ7Q,KAAMgK,EAAKivB,UACX33B,KAAK,MAELgiC,UAAW,CACPt3B,MAAOojC,EAAUniC,EAAM,IAE3BrL,KAAKs2B,OAKjB,IAAIrrB,EAAS,CACTxM,MAAO,CACHq6B,KAAM,2BACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,mDACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,uCAAmC7kC,EAAO,GAAGJ,KAA7C,gBAOP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,iHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,mBAKAq+B,IAGfoL,OACoB,WAAhB7d,GAA8B4B,GAAiBD,EAU/C,CACIjxB,IAAK,OACLo/B,MAAO,MAEPE,UAAW,CACPx2B,MAAO,YAdf,CACI1K,KAAM,SACN8C,MAAO,MACPlB,IAAK,OACLD,KAAM,SACNu/B,UAAW,CACPx2B,MAAO,YAYnB4kC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,SAASvpC,GAChB,IAAIqX,EAAO,IAAIH,KAAKlX,GACpB,OAAOqX,EAAKqF,WAAa,IAAMrF,EAAKsF,gBAIhDwf,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,cAEd,CAAC8pC,EAAcF,EAAoBF,IAEtCh2B,qBAAU,WACN,IAAIuY,EAAWC,KAAav9B,SAASyP,eAAe,mBACpD6tB,EAASjsB,SACT,IAAIu5B,EAAa,GAAIC,EAAQ,GAAI+E,EAAS,GAAIvI,EAAY,GAAIwK,EAAY,GAC1E,GAAmB,WAAhBhkB,EACCxlB,MAAM4qB,QAAQ8nB,EAAmBU,wBACjCV,EAAmBU,sBAAsBpuC,SAAQ,SAAChI,GAC9CwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACvBQ,EAAMvzC,EAAM4zC,WAGpBpM,EAAO1jC,KAAKyvC,MAEhBtzC,MAAM4qB,QAAQsoB,EAAwBE,wBACtCF,EAAwBE,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACvBQ,EAAMvzC,EAAM4zC,WAGpB3U,EAAUn7B,KAAKyvC,MAEnBtzC,MAAM4qB,QAAQooB,EAAwBI,wBACtCJ,EAAwBI,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACvBQ,EAAMvzC,EAAM4zC,WAGpBnK,EAAU3lC,KAAKyvC,MAEnB/Q,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK4tC,GAET,CACIxvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,SAIV,GAAGriB,EACNnnB,MAAM4qB,QAAQ8nB,EAAmBU,wBACjCV,EAAmBU,sBAAsBpuC,SAAQ,SAAChI,GAC9CwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACvBQ,EAAMvzC,EAAM4zC,WAGpBpM,EAAO1jC,KAAKyvC,MAEhBtzC,MAAM4qB,QAAQsoB,EAAwBE,wBACtCF,EAAwBE,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACvBQ,EAAMvzC,EAAM4zC,WAGpB3U,EAAUn7B,KAAKyvC,MAEnBtzC,MAAM4qB,QAAQooB,EAAwBI,wBACtCJ,EAAwBI,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACvBQ,EAAMvzC,EAAM4zC,WAGpBnK,EAAU3lC,KAAKyvC,MAEnB/Q,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK2yC,GAET,CACIv0C,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,SAIV,IAAIriB,GAAgBC,EAAa,CACpC,GAAGpnB,MAAM4qB,QAAQ8nB,EAAmBU,wBACmB,GAAnDV,EAAmBU,sBAAsBlwC,OACzC,OAEJlD,MAAM4qB,QAAQ8nB,EAAmBU,wBACjCV,EAAmBU,sBAAsBpuC,SAAQ,SAAChI,GAC9CwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACvBQ,EAAMvzC,EAAM4zC,WAGpBpM,EAAO1jC,KAAKyvC,MAEhBtzC,MAAM4qB,QAAQsoB,EAAwBE,wBACtCF,EAAwBE,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACvBQ,EAAMvzC,EAAM4zC,WAGpB3U,EAAUn7B,KAAKyvC,MAEnBtzC,MAAM4qB,QAAQooB,EAAwBI,wBACtCJ,EAAwBI,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACvBQ,EAAMvzC,EAAM4zC,WAGpBnK,EAAU3lC,KAAKyvC,MAEnB/Q,EAAa,CACT,CAEIjuC,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK2yC,SAKbvnC,MAAM4qB,QAAQgoB,IACdA,EAAmB5tC,SAAQ,SAAChI,EAAMiD,GAC9B,IAAIirB,EAAM,GACVluB,EAAK02C,qBACL1zC,MAAM4qB,QAAQ5tB,EAAK02C,oBAAoBN,wBACvCp2C,EAAK02C,oBAAoBN,sBAAsBpuC,SAAQ,SAAChI,GACpDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,GAAgB/yC,EAAM4zC,SAC7CL,EAAMvzC,EAAM4zC,WAGpBzoB,EAAIrnB,KAAKyvC,MAEb/Q,EAAW1+B,KAAK,CACZ7Q,KAAMgK,EAAKivB,UACX33B,KAAK,MAELgiC,UAAW,CACPt3B,MAAOojC,EAAUniC,EAAM,IAE3BrL,KAAKs2B,OAIjB,IAAIrrB,EAAS,CACTxM,MAAO,CACHq6B,KAAM,2BACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,mDACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,uCAAmC7kC,EAAO,GAAGJ,KAA7C,gBAOP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,iHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,mBAKAq+B,IAGfoL,OACoB,WAAhB7d,GAA8B2B,GAAiBC,EAW/C,CACIlxB,IAAK,OACLo/B,MAAO,MAEPE,UAAW,CACPx2B,MAAO,YAff,CACI9I,IAAK,OACLD,KAAM,SACN3B,KAAM,SACN8C,MAAO,MAEPo+B,UAAW,CACPx2B,MAAO,YAYnB4kC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,SAASvpC,GAChB,IAAIqX,EAAO,IAAIH,KAAKlX,GACpB,OAAOqX,EAAKqF,WAAa,IAAMrF,EAAKsF,gBAIhDwf,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,cAEd,CAAC8pC,EAAcF,EAAoBF,IAElC,yBAAK35C,UAAU,mBACX,kBAAC,GAAD,CACAqB,SAAS,EACTD,IAAI,wBACJE,SAAUuG,GACN,yBAAK7H,UAAU,uBACf,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,cAAf,gBACA,yBAAKA,UAAU,iBAAiB9B,MAAO,CACnCsoC,UAA4B,WAAhB/Z,EAA2B,OAAQ,KAE/C,yBAAKzsB,UAAU,YACX,uBAAGA,UAAU,YACZ25C,EAAmBkB,YAAalB,EAAmBkB,YAAa,MAEjE,wDAEJ,mCACA,yBAAK76C,UAAU,aACX,uBAAGA,UAAU,YACZ25C,EAAmBmB,WAAYnB,EAAmBmB,WAAY,MAE/D,yDAIY,WAAhBruB,EACA,yBAAKzsB,UAAU,kBACX,2BACI,mDACA,0BAAMA,UAAU,aAAhB,4BACCm6C,EAAwBU,YAAaV,EAAwBU,YAAa,MAC3E,0BAAM76C,UAAU,aAAhB,4BACCi6C,EAAwBY,YAAaZ,EAAwBY,YAAa,OAE/E,2BACI,mDACA,0BAAM76C,UAAU,aAAhB,4BACCm6C,EAAwBW,WAAYX,EAAwBW,WAAY,MACzE,0BAAM96C,UAAU,aAAhB,4BACCi6C,EAAwBa,WAAYb,EAAwBa,WAAY,QAGjE,WAAhBruB,EACA,yBAAKzsB,UAAU,kBACX,uBAAG9B,MAAO,CAAC68C,UAAW,WAClB,+DACA,0BAAM/6C,UAAU,aACfi6C,EAAwBY,YAAaZ,EAAwBY,YAAa,MAH/E,IAKI,8BAAOZ,EAAwBa,WAAYb,EAAwBa,WAAY,QAGvF,IAIR,yBAAK96C,UAAU,kBACf,yBAAKA,UAAU,cAAf,gBACI,yBAAKA,UAAU,iBAAiB9B,MAAO,CACnCsoC,UAA4B,WAAhB/Z,EAA2B,OAAQ,KAE/C,yBAAKzsB,UAAU,YACX,uBAAGA,UAAU,YACZ25C,EAAmBqB,YAAarB,EAAmBqB,YAAa,MAEjE,wDAEJ,mCACA,yBAAKh7C,UAAU,aACX,uBAAGA,UAAU,YACZ25C,EAAmBsB,WAAYtB,EAAmBsB,WAAY,MAE/D,yDAIY,WAAhBxuB,EACA,yBAAKzsB,UAAU,kBACX,2BACI,mDACA,0BAAMA,UAAU,aAAhB,4BACCm6C,EAAwBa,YAAab,EAAwBa,YAAa,MAC3E,0BAAMh7C,UAAU,aAAhB,4BACCi6C,EAAwBe,YAAaf,EAAwBe,YAAa,OAE/E,2BACI,mDACA,0BAAMh7C,UAAU,aAAhB,4BACCm6C,EAAwBc,WAAYd,EAAwBc,WAAY,MACzE,0BAAMj7C,UAAU,aAAhB,4BACCi6C,EAAwBgB,WAAYhB,EAAwBgB,WAAY,QAGjE,WAAhBxuB,EACA,yBAAKzsB,UAAU,kBACX,uBAAG9B,MAAO,CAAC68C,UAAW,WAClB,+DACA,0BAAM/6C,UAAU,aACfi6C,EAAwBe,YAAaf,EAAwBe,YAAa,MAH/E,IAKI,0BAAMh7C,UAAU,aACfi6C,EAAwBgB,WAAYhB,EAAwBgB,WAAY,QAGjF,IAGR,yBAAKj7C,UAAU,cACf,yBAAKA,UAAU,cAAf,gBACI,yBAAKA,UAAU,iBAAiB9B,MAAO,CACnCsoC,UAA4B,WAAhB/Z,EAA2B,OAAQ,KAE/C,yBAAKzsB,UAAU,YACX,uBAAGA,UAAU,YACZ25C,EAAmBuB,YAAavB,EAAmBuB,YAAa,MAEjE,wDAEJ,mCACA,yBAAKl7C,UAAU,aACX,uBAAGA,UAAU,YACZ25C,EAAmBwB,WAAYxB,EAAmBwB,WAAY,MAE/D,yDAIY,WAAhB1uB,EACA,yBAAKzsB,UAAU,kBACX,2BACI,mDACA,0BAAMA,UAAU,aAAhB,4BACCm6C,EAAwBe,YAAaf,EAAwBe,YAAa,MAC3E,0BAAMl7C,UAAU,aAAhB,4BACCi6C,EAAwBiB,YAAajB,EAAwBiB,YAAa,OAE/E,2BACI,mDACA,0BAAMl7C,UAAU,aAAhB,4BACCm6C,EAAwBgB,WAAYhB,EAAwBgB,WAAY,MACzE,0BAAMn7C,UAAU,aAAhB,4BACCi6C,EAAwBkB,WAAYlB,EAAwBkB,WAAY,QAGjE,WAAhB1uB,EACA,yBAAKzsB,UAAU,kBACX,uBAAG9B,MAAO,CAAC68C,UAAW,WAClB,+DACA,0BAAM/6C,UAAU,aACfi6C,EAAwBiB,YAAajB,EAAwBiB,YAAa,MAH/E,IAKI,0BAAMl7C,UAAU,aACfi6C,EAAwBkB,WAAYlB,EAAwBkB,WAAY,QAGjF,IAGR,yBAAKn7C,UAAU,kBACf,yBAAKA,UAAU,cAAf,gBACI,yBAAKA,UAAU,iBAAiB9B,MAAO,CACnCsoC,UAA4B,WAAhB/Z,EAA2B,OAAQ,KAE/C,yBAAKzsB,UAAU,YACX,uBAAGA,UAAU,YACZ25C,EAAmB/E,UAAW+E,EAAmB/E,UAAW,MAE7D,6CAIY,WAAhBnoB,EACA,yBAAKzsB,UAAU,kBACX,2BACI,0BAAMA,UAAU,aAAhB,4BACCm6C,EAAwBvF,UAAWuF,EAAwBvF,UAAW,MACvE,0BAAM50C,UAAU,aAAhB,4BACCi6C,EAAwBrF,UAAWqF,EAAwBrF,UAAW,QAG/D,WAAhBnoB,EACA,yBAAKzsB,UAAU,kBACX,uBAAG9B,MAAO,CAAC68C,UAAW,WAElB,0BAAM/6C,UAAU,aAAhB,4BACCi6C,EAAwBrF,UAAWqF,EAAwBrF,UAAW,QAG/E,KAYZ,yBAAK50C,UAAU,oBACX,+CACA,kBAAC,KAAD,CAAQmvC,aAAa,eAAKnvC,UAAU,SAAS0D,SAAU,SAAC7C,GAAD,OAASm5C,EAAgBn5C,KAC5E,kBAAC,GAAD,CAAQA,MAAM,gBAAd,gBACA,kBAAC,GAAD,CAAQA,MAAM,gBAAd,gBACA,kBAAC,GAAD,CAAQA,MAAM,gBAAd,kBAGR,yBAAKb,UAAU,0BACX,yBAAKA,UAAU,kBAAkBQ,GAAG,oBACpC,yBAAKR,UAAU,eACf,yBAAKA,UAAU,iBAAiBQ,GAAG,sBAOnD,IAAMutB,GAAkB,SAAC9wB,GAAW,IAAD,EAQ3BA,EANFjB,WAQF,MAAO,CAAC+mB,WAVuB,EAG3BjD,SACEiD,WAMcpD,SAVW,EAM3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW40B,MCpmClDpgC,GAAeiR,GAAfjR,WACC3c,GAAUC,KAAVD,OAEP,SAASy+C,GAAiBp+C,GAAO,IAEzBu8B,EAMAv8B,EANAu8B,YACA9M,EAKAzvB,EALAyvB,aACA2B,EAIApxB,EAJAoxB,aACAC,EAGArxB,EAHAqxB,aALwB,EAQxBrxB,EAFA2iB,SAAWK,EANa,EAMbA,SAAUM,EANG,EAMHA,OACrBkZ,EACAx8B,EADAw8B,QAPwB,EASErW,oBAAS,GATX,mBASrBtb,EATqB,KASZi5B,EATY,OAUwB3d,mBAAS,IAVjC,mBAUrBw2B,EAVqB,KAUDC,EAVC,OAWwBz2B,mBAAS,IAXjC,mBAWrB02B,EAXqB,KAWDC,EAXC,OAYY32B,mBAAS,gBAZrB,mBAYrB42B,EAZqB,KAYPC,EAZO,OAakC72B,mBAAS,IAb3C,mBAarB82B,EAbqB,KAaIC,EAbJ,OAckC/2B,mBAAS,IAd3C,mBAcrBg3B,EAdqB,KAcIC,EAdJ,KAexB/Q,EAAY,CACZ,IAAIC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cA01Bf,OAt1BAmhB,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA8B2B,GAAiBC,KAG9CA,GAAiBD,GAArB,CAGA,IAAI6X,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GAChB9X,GACC6X,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAKhC,IAAIwX,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpE+I,EAAM0P,+DACyB+U,GAA4B6X,GAC/D,aAAelmB,EAEf,WAAaknB,EAAgBd,UAAWc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACjF,SAAWs5B,EAAgBb,QAASa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC3EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bq+C,EAA2BxpC,EAAO7U,YAG3C,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaC,IAE3DpS,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA8B2B,GAAiBC,IAG/B,WAAhB5B,EAAH,CAGA,IAAIya,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpE+I,EAAM0P,qDACe8U,EACzB,YAAcC,EACd,aAAerO,EAEf,WAAaknB,EAAgBd,UAAWc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACjF,SAAWs5B,EAAgBb,QAASa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC3EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bu+C,EAA2B1pC,EAAO7U,YAG3C,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaC,IAC3DpS,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGA0S,GAAW,GACX,IAAIoG,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpEolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAI9lB,EAAM0P,GAAa,8BAEH,WAAhBmT,EACA,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,GAEJ,eAAiC,WAAhB5B,EAA2BnM,EAAQ,IACpD,YAAc8N,EACd,aACoB,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAChD,aAAelmB,EAEf,WAAaknB,EAAgBd,UAAWc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACjF,SAAWs5B,EAAgBb,QAASa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC3EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B+9C,EAAsBlpC,EAAO7U,MAEjCilC,GAAW,SAEhB,CAACrU,EAAc4B,EAAcD,EAAcmL,EAAaC,IAE3DpS,2BAAgB,WACZ,GAAmB,WAAhBqF,IAA6B2B,IAAgBC,EAAhD,CAGAyS,GAAW,GACX,IAAIoG,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpE+I,EAAM0P,iDACK0G,EAEf,WAAaknB,EAAgBd,UAAWc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACjF,SAAWs5B,EAAgBb,QAASa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC3EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9Bi+C,EAAsBppC,EAAO7U,MAEjCilC,GAAW,SAEhB,CAACrU,EAAc4B,EAAcD,EAAcmL,EAAaC,IAE3D7V,qBAAU,WACN,IAAIuY,EAAWC,KAAav9B,SAASyP,eAAe,2BACpD6tB,EAASjsB,SACT,IAAIu5B,EAAa,GAAIC,EAAQ,GAAI+E,EAAS,GAAIvI,EAAY,GAAIwK,EAAY,GACvD,WAAhBhkB,GACCxlB,MAAM4qB,QAAQ8nB,EAAmBU,wBACjCV,EAAmBU,sBAAsBpuC,SAAQ,SAAChI,GAC9CwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,GACrB/yC,EAAMyzC,gBAAkBV,IAC1BQ,EAAMvzC,EAAM0zC,YAKpBlM,EAAO1jC,KAAKyvC,MAEhBtzC,MAAM4qB,QAAQsoB,EAAwBE,wBACtCF,EAAwBE,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,GACrB/yC,EAAMyzC,gBAAkBV,IAC1BQ,EAAMvzC,EAAM0zC,YAKpBzU,EAAUn7B,KAAKyvC,MAEnBtzC,MAAM4qB,QAAQooB,EAAwBI,wBACtCJ,EAAwBI,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,GACrB/yC,EAAMyzC,gBAAkBV,IAC1BQ,EAAMvzC,EAAM0zC,YAKpBjK,EAAU3lC,KAAKyvC,MAEnB/Q,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK4tC,GAET,CACIxvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,KAIPriB,GACNnnB,MAAM4qB,QAAQ8nB,EAAmBU,wBACjCV,EAAmBU,sBAAsBpuC,SAAQ,SAAChI,GAC9CwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACvBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM0zC,YAIpBlM,EAAO1jC,KAAKyvC,MAEhBtzC,MAAM4qB,QAAQsoB,EAAwBE,wBACtCF,EAAwBE,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACvBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM0zC,YAIpBzU,EAAUn7B,KAAKyvC,MAEnBtzC,MAAM4qB,QAAQooB,EAAwBI,wBACtCJ,EAAwBI,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACvBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM0zC,YAIpBjK,EAAU3lC,KAAKyvC,MAEnB/Q,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK2yC,GAET,CACIv0C,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,KAIPpiB,GACNpnB,MAAM4qB,QAAQ8nB,EAAmBU,wBACjCV,EAAmBU,sBAAsBpuC,SAAQ,SAAChI,GAC9CwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACvBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM0zC,YAIpBlM,EAAO1jC,KAAKyvC,MAEhBtzC,MAAM4qB,QAAQsoB,EAAwBE,wBACtCF,EAAwBE,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACvBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM0zC,YAIpBzU,EAAUn7B,KAAKyvC,MAEnBtzC,MAAM4qB,QAAQooB,EAAwBI,wBACtCJ,EAAwBI,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACvBA,EAAMyzC,gBAAkBV,IACvBQ,EAAMvzC,EAAM0zC,YAInBjK,EAAU3lC,KAAKyvC,MAEnB/Q,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK2yC,KAKbvnC,MAAM4qB,QAAQgoB,IACdA,EAAmB5tC,SAAQ,SAAChI,EAAMiD,GAC9B,IAAIirB,EAAM,GACVluB,EAAKo3C,gBACLp0C,MAAM4qB,QAAQ5tB,EAAKo3C,eAAehB,wBAClCp2C,EAAKo3C,eAAehB,sBAAsBpuC,SAAQ,SAAChI,GAC/CwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACvBA,EAAMyzC,gBAAkBV,GAAgB/yC,EAAM0zC,UAC5CH,EAAMvzC,EAAM0zC,YAIpBvoB,EAAIrnB,KAAKyvC,MAEb/Q,EAAW1+B,KAAK,CACZ7Q,KAAMgK,EAAKivB,UACX33B,KAAK,MAELgiC,UAAW,CACPt3B,MAAOojC,EAAUniC,EAAM,IAE3BrL,KAAKs2B,OAKjB,IAAIrrB,EAAS,CACTxM,MAAO,CACHq6B,KAAM,2BACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,mDACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,uCAAmC7kC,EAAO,GAAGJ,KAA7C,gBAOP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,iHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,mBAKAq+B,IAGfoL,OACoB,WAAhB7d,GAA8B4B,GAAiBD,EAU/C,CACIjxB,IAAK,OACLo/B,MAAO,MAEPE,UAAW,CACPx2B,MAAO,YAdf,CACI1K,KAAM,SACN8C,MAAO,MACPlB,IAAK,OACLD,KAAM,SACNu/B,UAAW,CACPx2B,MAAO,YAYnB4kC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,SAASvpC,GAChB,IAAIqX,EAAO,IAAIH,KAAKlX,GACpB,OAAOqX,EAAKqF,WAAa,IAAMrF,EAAKsF,gBAIhDwf,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,cAEd,CAAC8pC,EAAcF,EAAoBF,IAEtCh2B,qBAAU,WACN,IAAIuY,EAAWC,KAAav9B,SAASyP,eAAe,0BACpD6tB,EAASjsB,SACT,IAAIu5B,EAAa,GAAIC,EAAQ,GAAI+E,EAAS,GAAIvI,EAAY,GAAIwK,EAAY,GACvD,WAAhBhkB,GACCxlB,MAAM4qB,QAAQ8nB,EAAmBU,wBACjCV,EAAmBU,sBAAsBpuC,SAAQ,SAAChI,GAC9CwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,GACrB/yC,EAAMyzC,gBAAkBV,IAC1BQ,EAAMvzC,EAAM4zC,WAKpBpM,EAAO1jC,KAAKyvC,MAEhBtzC,MAAM4qB,QAAQsoB,EAAwBE,wBACtCF,EAAwBE,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,GACrB/yC,EAAMyzC,gBAAkBV,IAC1BQ,EAAMvzC,EAAM4zC,WAKpB3U,EAAUn7B,KAAKyvC,MAEnBtzC,MAAM4qB,QAAQooB,EAAwBI,wBACtCJ,EAAwBI,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,GACrB/yC,EAAMyzC,gBAAkBV,IAC1BQ,EAAMvzC,EAAM4zC,WAKpBnK,EAAU3lC,KAAKyvC,MAEnB/Q,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK4tC,GAET,CACIxvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,KAIPriB,GACNnnB,MAAM4qB,QAAQ8nB,EAAmBU,wBACjCV,EAAmBU,sBAAsBpuC,SAAQ,SAAChI,GAC9CwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACvBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM4zC,WAIpBpM,EAAO1jC,KAAKyvC,MAEhBtzC,MAAM4qB,QAAQsoB,EAAwBE,wBACtCF,EAAwBE,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM4zC,WAIrB3U,EAAUn7B,KAAKyvC,MAEnBtzC,MAAM4qB,QAAQooB,EAAwBI,wBACtCJ,EAAwBI,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM4zC,WAIrBnK,EAAU3lC,KAAKyvC,MAEnB/Q,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK2yC,GAET,CACIv0C,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,MAINriB,GAAgBC,GACvBpnB,MAAM4qB,QAAQ8nB,EAAmBU,wBACjCV,EAAmBU,sBAAsBpuC,SAAQ,SAAChI,GAC9CwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM4zC,WAIrBpM,EAAO1jC,KAAKyvC,MAEhBtzC,MAAM4qB,QAAQsoB,EAAwBE,wBACtCF,EAAwBE,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM4zC,WAIrB3U,EAAUn7B,KAAKyvC,MAEnBtzC,MAAM4qB,QAAQooB,EAAwBI,wBACtCJ,EAAwBI,sBAAsBpuC,SAAQ,SAAChI,GACnDwlC,EAAM3+B,KAAK7G,EAAKq2C,SAAWr2C,EAAKq2C,SAChC,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,IACtBQ,EAAMvzC,EAAM4zC,WAIrBnK,EAAU3lC,KAAKyvC,MAEnB/Q,EAAa,CACT,CAEIjuC,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK2yC,KAKbvnC,MAAM4qB,QAAQgoB,IACdA,EAAmB5tC,SAAQ,SAAChI,EAAMiD,GAC9B,IAAIirB,EAAM,GAEVluB,EAAKo3C,gBACLp0C,MAAM4qB,QAAQ5tB,EAAKo3C,eAAehB,wBAClCp2C,EAAKo3C,eAAehB,sBAAsBpuC,SAAQ,SAAChI,GAC/CwlC,EAAM3+B,KAAK7G,EAAKq2C,SAChB,IAAaC,EAAM,EACnBt2C,EAAKu2C,eAAevuC,SAAQ,SAACjF,GACtBA,EAAMyzC,gBAAkBV,GAAgB/yC,EAAM4zC,SAC5CL,EAAMvzC,EAAM4zC,WAIrBzoB,EAAIrnB,KAAKyvC,MAEb/Q,EAAW1+B,KAAK,CACZ7Q,KAAMgK,EAAKivB,UACX33B,KAAK,MAELgiC,UAAW,CACPt3B,MAAOojC,EAAUniC,EAAM,IAE3BrL,KAAKs2B,OAIjB,IAAIrrB,EAAS,CACTxM,MAAO,CACHq6B,KAAM,2BACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,mDACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,uCAAmC7kC,EAAO,GAAGJ,KAA7C,gBAOP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,iHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,mBAKAq+B,IAGfoL,OACoB,WAAhB7d,GAA8B4B,GAAiBD,EAU/C,CACIjxB,IAAK,OACLo/B,MAAO,MAEPE,UAAW,CACPx2B,MAAO,YAdf,CACI1K,KAAM,SACN8C,MAAO,MACPlB,IAAK,OACLD,KAAM,SACNu/B,UAAW,CACPx2B,MAAO,YAYnB4kC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,SAASvpC,GAChB,IAAIqX,EAAO,IAAIH,KAAKlX,GACpB,OAAOqX,EAAKqF,WAAa,IAAMrF,EAAKsF,gBAIhDwf,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,cAEd,CAAC8pC,EAAcJ,EAAoBE,IAElC,yBAAK75C,UAAU,qBACX,kBAAC,GAAD,CACAqB,SAAS,EACTD,IAAI,wBACJE,SAAUuG,GACN,yBAAK7H,UAAU,uBACf,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,cAAf,gBACA,yBAAKA,UAAU,iBAAiB9B,MAAO,CACnCsoC,UAA4B,WAAhB/Z,EAA2B,OAAQ,KAE/C,yBAAKzsB,UAAU,aACX,uBAAGA,UAAU,YACZ25C,EAAmBmB,WAAYnB,EAAmBmB,WAAY,MAE/D,wDAEJ,mCACA,yBAAK96C,UAAU,YACX,uBAAGA,UAAU,YACZ25C,EAAmBkB,YAAalB,EAAmBkB,YAAa,MAEjE,yDAIY,WAAhBpuB,EACA,yBAAKzsB,UAAU,kBACX,2BACI,mDACA,0BAAMA,UAAU,aAAhB,4BACCm6C,EAAwBW,WAAYX,EAAwBW,WAAY,MACzE,0BAAM96C,UAAU,aAAhB,4BACCi6C,EAAwBa,WAAYb,EAAwBa,WAAY,OAE7E,2BACI,mDACA,0BAAM96C,UAAU,aAAhB,4BACCm6C,EAAwBU,YAAaV,EAAwBU,YAAa,MAC3E,0BAAM76C,UAAU,aAAhB,4BACCi6C,EAAwBY,YAAaZ,EAAwBY,YAAa,QAGnE,WAAhBpuB,EACA,yBAAKzsB,UAAU,kBACX,uBAAG9B,MAAO,CAAC68C,UAAW,WAClB,+DACA,8BAAOd,EAAwBa,WAAYb,EAAwBa,WAAY,MAFnF,IAIA,0BAAM96C,UAAU,aACXi6C,EAAwBY,YAAaZ,EAAwBY,YAAa,QAGnF,IAIR,yBAAK76C,UAAU,kBACf,yBAAKA,UAAU,cAAf,gBACI,yBAAKA,UAAU,iBAAiB9B,MAAO,CACnCsoC,UAA4B,WAAhB/Z,EAA2B,OAAQ,KAE/C,yBAAKzsB,UAAU,aACX,uBAAGA,UAAU,YACZ25C,EAAmBsB,WAAYtB,EAAmBsB,WAAY,MAE/D,wDAEJ,mCACA,yBAAKj7C,UAAU,YACX,uBAAGA,UAAU,YACZ25C,EAAmBqB,YAAarB,EAAmBqB,YAAa,MAEjE,yDAIY,WAAhBvuB,EACA,yBAAKzsB,UAAU,kBACX,2BACI,mDACA,0BAAMA,UAAU,aAAhB,4BACCm6C,EAAwBc,WAAYd,EAAwBc,WAAY,MACzE,0BAAMj7C,UAAU,aAAhB,4BACCi6C,EAAwBgB,WAAYhB,EAAwBgB,WAAY,OAE7E,2BACI,mDACA,0BAAMj7C,UAAU,aAAhB,4BACCm6C,EAAwBa,YAAab,EAAwBa,YAAa,MAC3E,0BAAMh7C,UAAU,aAAhB,4BACCi6C,EAAwBe,YAAaf,EAAwBe,YAAa,QAGnE,WAAhBvuB,EACA,yBAAKzsB,UAAU,kBACX,uBAAG9B,MAAO,CAAC68C,UAAW,WAClB,+DACA,0BAAM/6C,UAAU,aACfi6C,EAAwBgB,WAAYhB,EAAwBgB,WAAY,MAH7E,IAKI,0BAAMj7C,UAAU,aACfi6C,EAAwBe,YAAaf,EAAwBe,YAAa,QAGnF,IAGR,yBAAKh7C,UAAU,cACf,yBAAKA,UAAU,cAAf,gBACI,yBAAKA,UAAU,iBAAiB9B,MAAO,CACnCsoC,UAA4B,WAAhB/Z,EAA2B,OAAQ,KAE/C,yBAAKzsB,UAAU,aACX,uBAAGA,UAAU,YACZ25C,EAAmBwB,WAAYxB,EAAmBwB,WAAY,MAE/D,wDAEJ,mCACA,yBAAKn7C,UAAU,YACX,uBAAGA,UAAU,YACZ25C,EAAmBuB,YAAavB,EAAmBuB,YAAa,MAEjE,yDAIY,WAAhBzuB,EACA,yBAAKzsB,UAAU,kBACX,2BACI,mDACA,0BAAMA,UAAU,aAAhB,4BACCm6C,EAAwBgB,WAAYhB,EAAwBgB,WAAY,MACzE,0BAAMn7C,UAAU,aAAhB,4BACCi6C,EAAwBkB,WAAYlB,EAAwBkB,WAAY,OAE7E,2BACI,mDACA,0BAAMn7C,UAAU,aAAhB,4BACCm6C,EAAwBe,YAAaf,EAAwBe,YAAa,MAC3E,0BAAMl7C,UAAU,aAAhB,4BACCi6C,EAAwBiB,YAAajB,EAAwBiB,YAAa,QAGnE,WAAhBzuB,EACA,yBAAKzsB,UAAU,kBACX,uBAAG9B,MAAO,CAAC68C,UAAW,WAClB,+DACA,0BAAM/6C,UAAU,aACfi6C,EAAwBkB,WAAYlB,EAAwBkB,WAAY,MAH7E,IAKI,0BAAMn7C,UAAU,aACfi6C,EAAwBiB,YAAajB,EAAwBiB,YAAa,QAGnF,KAYZ,yBAAKl7C,UAAU,oBACX,+CACA,kBAAC,KAAD,CAAQmvC,aAAa,eAAKnvC,UAAU,SAAS0D,SAAU,SAAC7C,GAAD,OAASm5C,EAAgBn5C,KAC5E,kBAAC,GAAD,CAAQA,MAAM,gBAAd,gBACA,kBAAC,GAAD,CAAQA,MAAM,gBAAd,gBACA,kBAAC,GAAD,CAAQA,MAAM,gBAAd,kBAGR,yBAAKb,UAAU,0BACX,yBAAKA,UAAU,oBAAoBQ,GAAG,2BACtC,yBAAKR,UAAU,eACf,yBAAKA,UAAU,mBAAmBQ,GAAG,6BAOrD,IAAMutB,GAAkB,SAAC9wB,GAAW,IAAD,EAQ3BA,EANFjB,WAQF,MAAO,CAAC+mB,WAVuB,EAG3BjD,SACEiD,WAMcpD,SAVW,EAM3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWs2B,MCxlClD9hC,GAAeiR,GAAfjR,WACJ,SAASgiC,GAAct+C,EAAOuD,GAAK,IAK/B0/B,EAWEjjC,EAXFijC,KAEAC,GASEljC,EAVF+lB,WAUE/lB,EATFkjC,kBAIAzT,GAKEzvB,EARFskB,SAQEtkB,EAPFukB,UAOEvkB,EANFmjC,WAMEnjC,EALFyvB,cACA2B,EAIEpxB,EAJFoxB,aACAC,EAGErxB,EAHFqxB,aAb+B,EAgB7BrxB,EAFF2iB,SAAWK,EAdoB,EAcpBA,SAAUM,EAdU,EAcVA,OACrBkZ,EACEx8B,EADFw8B,QAf+B,EAiBSrW,oBAAS,GAjBlB,mBAiB1B4d,EAjB0B,KAiBXC,EAjBW,OAkBC7d,mBAAS,IAlBV,mBAkB1Bqe,EAlB0B,KAkBfC,EAlBe,OAmBKte,mBAAS,IAnBd,mBAmB1Bmd,EAnB0B,KAmBbC,EAnBa,OAoBiBpd,mBAAS,IApB1B,mBAoB1Bqd,EApB0B,KAoBPC,EApBO,OAqBHtd,mBAAS,IArBN,gCAuBuBA,mBAAS,KAvBhC,mBAuB1Bo4B,EAvB0B,KAuBJC,EAvBI,OAyBSr4B,mBAAyB,WAAhBsJ,EAA2B,SAAU,QAzBvD,mBAyB1BmU,EAzB0B,KAyBXC,EAzBW,KA0B3B4a,EAAmBlzB,iBAAO,MAC1BmzB,EAAmBnzB,iBAAO,MAC1BozB,EAAiBpzB,iBAAO,MACxBqzB,EAAmBrzB,iBAAO,MAC1BszB,EAAkBtzB,iBAAO,MA+B/BnB,2BAAgB,WAEc,oBAArB8Y,GACLA,EAAiB,CACf,CAAE3/B,IAAKk7C,EAAiBtyB,QAASlvB,KAAM,4BACvC,CAAEsG,IAAKm7C,EAAiBvyB,QAASlvB,KAAM,4BACvC,CAAEsG,IAAKo7C,EAAexyB,QAASlvB,KAAM,4BACrC,CAAEsG,IAAKq7C,EAAiBzyB,QAASlvB,KAAM,4BACvC,CAAEsG,IAAKs7C,EAAgB1yB,QAASlvB,KAAM,gCAGzC,IAGHmtB,2BAAgB,WACd,IAAI8f,EAAkBjH,EAAKp/B,MAAOmM,KAAKS,MAAMwyB,EAAKp/B,OAAQ,GACtDolC,EAAY/4B,eAAeM,QAAQ,aACvCR,KAAKS,MAAMP,eAAeM,QAAQ,cAClC,GACI04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAI9lB,EAAM0P,GAAa,yCACH,WAAhBmT,EACA2B,EACA,EACAC,EACA,EACA,EACgB,WAAhB5B,EACA,EACA,GAEJ,cAAgBnM,EAChB,YAAc8N,EACd,aACoB,WAAhB3B,GAA8B4B,EAE9BA,EADA6X,GAEJ,aAAelmB,EAEf,UAAYknB,EAAgBd,UAAUx4B,OAAO,EAAG,IAChD,QAAUs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC5CoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B4lC,EAAa/wB,EAAO7U,WAG3B,CAACuyB,EAAcC,EAAc5B,EAAc+M,IAG9CpS,2BAAgB,WACd,GAAmB,WAAhBqF,GAA6B2B,EAAa,CAC3C,IAAIxkB,EAAM0P,GAAa,qCACvB0G,EACA,YAAcqO,EACd,YAAcD,EACdpU,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9B0kC,EAAe7vB,EAAO7U,MACtB4kC,EAAqB/vB,EAAO7U,aAIrC,CAAC4wB,EAAcnM,EAAQ8N,EAAcC,EAAc4R,IAGtD7Y,2BAAgB,WACd,GAAmB,WAAhBqF,EAAH,CAIA,IAAI3M,EAAWmgB,GAAQA,EAAKp/B,OAASmM,KAAKS,MAAMwyB,EAAKp/B,OACjDolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAEtGy4B,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,GACAnqB,EAAKyrB,WAG5B,IAAI9lB,EAAM0P,GAAa,iDACN,WAAhBmT,EAA2BnM,EAAQ,IACpC,aAA+B,WAAhBmM,GAA6C,WAAhBA,GAA6B2B,EAAcA,EAAc,IACrG,aAA+B,WAAhB3B,GAA8B2B,EAA4B,GAAdC,GAC3D,cAAiBD,GAAiBC,EAAwB,GAAVrO,GAEhD,UAAYF,EAASsmB,UAAUx4B,OAAO,EAAG,IACzC,QAAUkS,EAASumB,QAAQz4B,OAAO,EAAG,IACrCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B2/C,EAAwB9qC,EAAO7U,YAGtC,CAACokC,EAAM7R,EAAcC,EAAc5B,EAAcnM,EAAQkZ,IA6B5D,OACE,yBAAKx5B,UAAU,gBAAgBQ,GAAG,iBAEZ,WAAhBisB,GAA8B2B,GAAiBC,EAS/C,GARA,kBAAC,GAAD,CAAKsH,SAAS,EAAOsC,QAAS,2BAAQ13B,IAAKk7C,GACvC,kBAAC,GAAD,CACArtB,aAAcA,EACdC,aAAcA,EACdkL,YAAa0G,EACbxT,aAAcA,EACd+M,QAASA,KAIjB,kBAAC,GAAD,CACEvB,QAAS,2BACT13B,IAAKm7C,EACL3jB,WACkB,WAAhBtL,GACA,yBAAKzsB,UAAU,qBACb,0BACAA,UAAU,SACVS,QAAS,kBAAIugC,GAAiB,KAF9B,qDAOJrL,SAAS,GAEP,kBAAC,GAAD,CACAvH,aAAcA,EACdC,aAAcA,EACdkL,YAAa0G,EACbxT,aAAcA,EACd+M,QAASA,KAEb,kBAAC,GAAD,CAAK7D,SAAS,EAAOsC,QAAS,2BAAQ13B,IAAKo7C,GACvC,kBAAC,GAAD,CACAvtB,aAAcA,EACdC,aAAcA,EACdkL,YAAa0G,EACbxT,aAAcA,EACd+M,QAASA,KAGO,WAAhB/M,EACA,kBAAC,GAAD,CAAKkJ,SAAS,EAAOsC,QAAS,2BAAQ13B,IAAKq7C,GACvC,kBAAC,GAAD,CACAxtB,aAAcA,EACdC,aAAcA,EACdkL,YAAa0G,EACbxT,aAAcA,EACd+M,QAASA,KAEb,GAEJ,kBAAC,GAAD,CAAK7D,SAAS,EAAOsC,QAAS,2BAAQ13B,IAAKs7C,GACzC,kBAAC,GAAD,CACAtgD,KAAK,gBACLkxB,aAAcA,EACd5wB,KAAM2lC,KAGR,kBAAC,GAAD,CACIjmC,KAAK,IACLjB,MAAM,uCACNuN,QAASk5B,EACTpjC,KAAM,kBAAIqjC,GAAiB,IAC3BpjC,SAAU,WACW,WAAhB6uB,GACDoU,EAAiB,QAEnBG,GAAiB,IACnBz5B,OAAQ,KACRlJ,MAAO,IACP2B,UAAU,sBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,KAuBtB,QAAjB8hB,EACA,6BACE,uBAAG5gC,UAAU,aAAb,SAA0B,8BAC1BsgC,EAAYn2B,QADZ,UAGA,wBAAInK,UAAU,eACZ,kBAAC,aAAD,CACAu+B,YAAU,EACVC,cAAe,KAEXgC,EAAkBr2B,OAAS,EAC3Bq2B,EAAkBx8B,KAAI,SAACC,EAAMiD,GAC3B,OACA,wBAAIlN,IAAKkN,EAAOzG,QAAS,kBA3ItB,SAAC5E,GACtB,IAAIikB,EAAWmgB,GAAQA,EAAKp/B,OAASmM,KAAKS,MAAMwyB,EAAKp/B,QACrCqM,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,IAE5FvB,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,GACAnqB,EAAKyrB,WAG5B,IAAI9lB,EAAM0P,GAAa,gDACvBzd,EAAKs0B,OADK7W,sCAMEwG,EAASsmB,UAAUx4B,OAAO,EAAG,IACzC,QAAUkS,EAASumB,QAAQz4B,OAAO,EAAG,IACrCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9B2/C,EAAwB9qC,EAAO7U,MAC/BglC,EAAiB,cAoHsBiG,CAAe7iC,KAC1C,uBAAGjE,UAAU,cAAc9B,MAAO,CAChCimB,gBAEElgB,EAAK4rB,UACL5rB,EAAK4rB,UACL,MAGJ,uBAAGv1B,MAAO2J,EAAK47B,UAAW57B,EAAK47B,cAIjC,kBAAC,GAAD,CACA7/B,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,YAChBl5B,MAAO,2BACPiB,KAAM,SAShB,6BAEoB,WAAhBkxB,EACA,0BAAMzsB,UAAU,cAAcS,QAAS,kBAAIogC,EAAiB,UAA5D,wCACA,GAGF,kBAAC,GAAD,CACA3iC,MAAO,CAACsoC,UAAW,IACnBlP,YAvTQ,CAClB,CACEt9B,IAAK,UACLC,KAAM,gBAER,CACED,IAAK,YACLC,KAAM,gBAER,CACED,IAAK,WACLC,KAAM,4BAER,CACED,IAAK,SACLC,KAAM,4BAER,CACED,IAAK,eACLC,KAAM,4BAER,CACED,IAAK,WACLC,KAAM,4BAER,CACED,IAAK,aACLC,KAAM,6BA6RE4B,KAAM0/C,OAUpB,IAAMxtB,GAAkB,SAAC9wB,GAAW,IAAD,EACsBA,EAAjDjB,WAEN,MAAO,CAAC+mB,WAHyB,EACfjD,SAAUiD,WAERpD,SAHa,EACQA,WAI5BsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWw2B,MCrWpDhiC,I,uBAAeiR,GAAfjR,YACC3c,GAAUC,KAAVD,OAEP,SAASm/C,GAAc9+C,EAAOuD,GAAM,IAG5BksB,EAOAzvB,EAPAyvB,aACA2B,EAMApxB,EANAoxB,aACAC,EAKArxB,EALAqxB,aACAkL,EAIAv8B,EAJAu8B,YACA19B,EAGAmB,EAHAnB,KAP2B,EAU3BmB,EAFA2iB,SAAWW,EARgB,EAQhBA,OAAQN,EARQ,EAQRA,SACnBwZ,EACAx8B,EADAw8B,QAT2B,EAWSrW,mBAAS,GAXlB,mBAWxBwJ,EAXwB,KAWVkC,EAXU,OAYC1L,mBAAS,IAZV,mBAYxB44B,EAZwB,KAYdC,EAZc,OAaa74B,mBAAS,IAbtB,mBAaxB84B,EAbwB,KAaRC,EAbQ,OAcqB/4B,mBAAS,IAd9B,mBAcxBg5B,EAdwB,KAcJC,EAdI,OAgBaj5B,mBAAS,IAhBtB,mBAgBxBk5B,EAhBwB,KAgBRC,EAhBQ,OAiBWn5B,oBAAU,GAjBrB,mBAiBxBo5B,EAjBwB,KAiBTC,EAjBS,OAkBmBr5B,mBAAS,IAlB5B,mBAkBLs5B,GAlBK,aAmBet5B,mBAAS,IAnBxB,mBAmBPu5B,GAnBO,WAoB/Bt1B,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,IAG7BmL,EAAJ,CAGA,IAAI2N,EAAkB3N,GAAeA,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GAEnF+I,EAAM0P,GAAa,mDAEH,WAAhBmT,EACAnM,EACgB,WAAhBmM,EACA2B,EACAA,IAEAC,GAEArO,IAEJ,eAEoB,WAAhByM,EACA,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,GAtBM/U,4BA0BO4tB,EAAgBd,UAAWc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACrF,aAAes5B,EAAgBb,QAASa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC/EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5CmgD,EAAYtrC,EAAO7U,SAI3B+N,EAAM0P,+FAEOijC,EAEb,eAAiBrV,EAAgBd,UAAWc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACrF,aAAes5B,EAAgBb,QAASa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC/EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5C6gD,EAAmBhsC,EAAO7U,SAIlC+N,EAAM0P,gFAEOijC,EACb,aAAev8B,EACf,eAAiBknB,EAAgBd,UAAWc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACrF,aAAes5B,EAAgBb,QAASa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC/EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5C4gD,EAAqB/rC,EAAO7U,YAGrC,CAAC09B,EAAanL,EAAcC,EAAc5B,EAAc+M,IAE3DpS,2BAAgB,WAEZ,GAAmB,WAAhBqF,IAA6B2B,IAAgBC,GAG5CkL,EAAJ,CAGA,IAAI2N,EAAkB3N,GAAeA,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GAEnF+I,EAAM0P,6EAEO4tB,EAAgBd,UAAWc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACrF,aAAes5B,EAAgBb,QAASa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC/EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,MAAM,CAClD,IAAIs2B,EAAM,GACVzhB,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACjB,IAAIwM,EAAM,CACNyiB,UAAWjvB,EAAK+sC,UAAW/sC,EAAK+sC,UAAU9d,UAAW,GACrDypB,WAAY14C,EAAK24C,KAAM34C,EAAK24C,KAAKr+C,OAAQ,GACzCs+C,WAAY54C,EAAK24C,KAAM34C,EAAK24C,KAAKE,OAAQ,GACzCC,QAAS94C,EAAK24C,KAAM34C,EAAK24C,KAAKI,SAAU,GACxCC,aAAch5C,EAAKi5C,OAAQj5C,EAAKi5C,OAAO3+C,OAAQ,GAC/C4+C,aAAcl5C,EAAKi5C,OAAQj5C,EAAKi5C,OAAOJ,OAAQ,GAC/CM,UAAWn5C,EAAKi5C,OAAQj5C,EAAKi5C,OAAOF,SAAU,IAElD7qB,EAAIrnB,KAAK2F,MAEb6rC,EAAkB5rC,EAAO7U,aAIlC,CAAC09B,EAAanL,EAAcC,EAAc5B,EAAc+M,IAC3DpS,2BAAgB,WAEZ,GAAmB,WAAhBqF,IAA6B4B,IAAgBD,GAG5CmL,EAAJ,CAGA,IAAI2N,EAAkB3N,GAAeA,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GAEnF+I,EAAM0P,+FAEGijC,EAEb,eAAiBrV,EAAgBd,UAAWc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACrF,aAAes5B,EAAgBb,QAASa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC/EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5CqgD,EAAkBxrC,EAAO7U,SAIjC+N,EAAM0P,gFACOijC,EACb,aAAev8B,EAEf,eAAiBknB,EAAgBd,UAAWc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACrF,aAAes5B,EAAgBb,QAASa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC/EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BugD,EAAsB1rC,EAAO7U,YAGtC,CAAC09B,EAAanL,EAAcC,EAAc5B,EAAc8vB,EAAev8B,EAAUwZ,IACpF7V,qBAAU,WACN,GAAmB,WAAhB8I,KAGC2B,IAAgBC,GAAmBxyB,EAAKwhD,SAAYp2C,MAAM4qB,QAAQh2B,EAAKwhD,QAAQC,kBAC5C,GAAvCzhD,EAAKwhD,QAAQC,gBAAgBnzC,UAGzBkkB,GAAiBD,GAA6C,GAA7B+tB,EAAmBhyC,QAAxD,CAGA,IAAIowB,EAAW,GACZnM,GAAgBC,EACfxyB,EAAKwhD,SAAWp2C,MAAM4qB,QAAQh2B,EAAKwhD,QAAQC,kBAC3CzhD,EAAKwhD,QAAQC,gBAAgBnzC,OAAS,GACtCtO,EAAKwhD,QAAQC,gBAAgBrxC,SAAQ,SAAChI,GAClC,IAAIkuB,EAAM,CAACluB,EAAK1F,OAAO0T,QAAQ,GAAIhO,EAAK64C,OAAO7qC,QAAQ,GAAIhO,EAAK47B,UAChEtF,EAASzvB,KAAKqnB,MAGlBgqB,EAAmBlwC,SAAQ,SAAChI,GACxB,IAAIkuB,EAAM,CAACluB,EAAK1F,OAAO0T,QAAQ,GAAIhO,EAAK64C,OAAO7qC,QAAQ,GAAIhO,EAAK47B,UAChEtF,EAASzvB,KAAKqnB,MAItB,IAAI+J,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,0BACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,qEACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQ,IAEZJ,QAAS,CACLC,QAAS,OACTkhB,cAAc,EACdpT,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAM,GAkBV,OAjBA7kC,EAAO4R,SAAQ,SAAChI,GACZ,IAAIu5C,EAAWv5C,EAAKpD,MACpBq+B,GAAG,0YASqBse,EAAS,GAT9B,gBAUHte,GAAG,uIAEiCse,EAAS,GAF1C,6GAGkDA,EAAS,GAH3D,qBAKAte,IAGfqL,MAAO,CACHtwC,KAAM,iBACNuwC,cAAe,CACXvkC,MAAO,WAEXwkC,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACHhxC,KAAM,iBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvB2rB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,aAInB+2B,OAAQ,CAAC,CACLygB,WAAY,GACZlgB,UAAW,CACTt3B,MAAO,WAETpK,KAAM0+B,EACNh/B,KAAM,aAGd2gC,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAACwc,EAAc5wB,EAAMsgD,IACxBx4B,qBAAU,WACN,GAAsB,GAAnBo4B,EAAS5xC,QAAwC,GAAzB8xC,EAAe9xC,OAA1C,CAGA,IAAIs/B,EAAQ,GAAIiU,EAAa,GAAIC,EAAa,GAC3CvvB,GAAgBC,EACf0tB,EAAS9vC,SAAQ,SAAChI,GACdwlC,EAAM3+B,KAAK7G,EAAK25C,YAAc35C,EAAK25C,WAAWhwC,OAAO,EAAG,KACxD8vC,EAAW5yC,KAA2B,iBAAf7G,EAAK1F,OAAoB0F,EAAK1F,OAAO0T,QAAQ,GAAI,MACxE0rC,EAAW7yC,KAA2B,iBAAf7G,EAAK64C,OAAoB74C,EAAK64C,OAAO7qC,QAAQ,GAAI,SAG5EgqC,EAAehwC,SAAQ,SAAChI,GACpBwlC,EAAM3+B,KAAK7G,EAAKiU,MAChBwlC,EAAW5yC,KAAkC,iBAAtB7G,EAAK45C,cAA2B55C,EAAK45C,cAAc5rC,QAAQ,GAAI,MACtF0rC,EAAW7yC,KAAkC,iBAAtB7G,EAAK65C,cAA2B75C,EAAK65C,cAAc7rC,QAAQ,GAAI,SAI9F,IAAIiqB,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,uBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,uCACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,IACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OAITkhB,cAAc,EACdpT,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,mBAKAq+B,IAGf2L,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ8N,OAAQ,CACJntC,IAAK,OACLD,KAAM,SACNrB,KAAK,CAAC,eAAK,gBACX4gC,UAAW,CACPx2B,MAAO,YAGfskC,MAAO,CACHhvC,KAAM,WACNM,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CAAC,CACJ1vC,KAAM,QACNtB,KAAM,iBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,aAGjB,CACE1K,KAAM,QACNtB,KAAM,iBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,GAAI,EAAG,IAExBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,cAGnBpN,OAAQ,CACJ,CACI/iC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,GAEXk/B,UAAW,CACPwgB,OAAQ,CACJ93C,MAAO,UACP5E,QAAS,GAEbi8B,SAAS,CACLr3B,MAAO,QACPu3B,YAAa,EACb55B,YAAa,UACbvC,QAAS,IAGjBo8C,WAAY,EACZO,OAAQ,SAERniD,KAAK6hD,GAET,CACIzjD,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,GAEXk/B,UAAW,CACPwgB,OAAQ,CACJ93C,MAAO,UACP5E,QAAS,GAEbi8B,SAAS,CACLr3B,MAAO,QACPu3B,YAAa,EACb55B,YAAa,UACbvC,QAAS,IAGjBo8C,WAAY,EACZO,OAAQ,SAERniD,KAAK8hD,KAIjBzhB,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC8rC,EAAUE,IACdt4B,qBAAU,WACN,GAAsB,GAAnBo4B,EAAS5xC,QAAwC,GAAzB8xC,EAAe9xC,OAA1C,CAGA,IAAIs/B,EAAQ,GAAsCwU,EAAU,GACzD7vB,GAAgBC,EACf0tB,EAAS9vC,SAAQ,SAAChI,GACdwlC,EAAM3+B,KAAK7G,EAAK25C,YAAc35C,EAAK25C,WAAWhwC,OAAO,EAAG,KACxDqwC,EAAQnzC,KAAK7G,EAAK+4C,SAAS/qC,QAAQ,OAGvCgqC,EAAehwC,SAAQ,SAAChI,GACpBwlC,EAAM3+B,KAAK7G,EAAKiU,MAChB+lC,EAAQnzC,KAAK7G,EAAK+4C,SAAS/qC,QAAQ,OAG3C,IAAIiqB,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,eACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,8BACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,IACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACTkhB,cAAc,EACdpT,aAAc,kEACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,mBAKAq+B,IAGf2L,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ8N,OAAQ,CACJntC,IAAK,OACLD,KAAM,SAENu/B,UAAW,CACPx2B,MAAO,YAGfskC,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,YACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQ,CACJ,CACI/iC,KAAsB,WAAhBwyB,EAA2B,eAAM2B,EAAc,eAAM,eAC3D7yB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,GAEXk/B,UAAW,CACPwgB,OAAQ,CACJ93C,MAAO,UACP5E,QAAS,GAEbi8B,SAAS,CACLr3B,MAAO,QACPu3B,YAAa,EACb55B,YAAa,UACbvC,QAAS,IAGjBo8C,WAAY,EACZO,OAAQ,SAERniD,KAAKoiD,KAoDjB/hB,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC8rC,EAAUE,IACd,IAmDI5mB,EAAQgnB,EAAelyC,OACvBsqC,EAAgBpf,EAAQ,GAAE,CAC1BrvB,MAAOqvB,EACPrD,iBAAiB,EACjBlsB,iBAAiB,EACjBqjB,QAASwD,EACTiE,SAAU,CAAC,gBACXmB,SAAU,EACVruB,SAAU,SAACwuB,GAAD,OAAarD,EAAgBqD,KAE3C,OACE,yBAAKlyB,UAAU,oBAEO,WAAhBysB,GAA8B2B,GAAiBC,EAQ/C,yBAAKruB,UAAU,YACX,yBAAKA,UAAU,sBACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,eAAb,gBAEI,8BAAOnE,EAAKqiD,SACK,WAAhBzxB,EACA2B,EACAvyB,EAAKwhD,QAAQc,mBACbtiD,EAAKwhD,QAAQc,mBAAmBlsC,QAAQ,GAAK,KAC7C,KACApW,EAAKwhD,QAAQe,mBACbviD,EAAKwhD,QAAQe,mBAAmBnsC,QAAQ,GAAK,KAC7C,KACgB,WAAhBwa,EACA5wB,EAAKwhD,QAAQc,mBACbtiD,EAAKwhD,QAAQc,mBAAmBlsC,QAAQ,GAAK,KAC7C,KACApW,EAAKqiD,SAAS3/C,OACd1C,EAAKqiD,SAAS3/C,OAAO0T,QAAQ,GAAK,KAClC,KACA,OAGe,WAAhBwa,EACA,uBAAGzsB,UAAU,YAAb,4BAEI,8BAAOnE,EAAKwhD,QAASxhD,EAAKwhD,QAAQc,mBAAmBlsC,QAAQ,GAAK,KAAM,MAF5E,8BAII,8BAAOpW,EAAKwhD,QAASxhD,EAAKwhD,QAAQe,mBAAmBnsC,QAAQ,GAAK,KAAM,OAE5D,WAAhBwa,GAA6B2B,EAC7B,uBAAGpuB,UAAU,YAAb,4BAEI,8BAAOnE,EAAKwhD,QAASxhD,EAAKwhD,QAAQe,mBAAmBnsC,QAAQ,GAAK,KAAM,OAE5E,IAIR,yBAAKjS,UAAU,uBACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,eAAb,gBAEI,8BAAOnE,EAAKqiD,SACK,WAAhBzxB,EACA2B,EACAvyB,EAAKwhD,QAAQgB,mBACbxiD,EAAKwhD,QAAQgB,mBAAmBpsC,QAAQ,GAAK,KAC7C,KACApW,EAAKwhD,QAAQiB,mBACbziD,EAAKwhD,QAAQiB,mBAAmBrsC,QAAQ,GAAK,KAC7C,KACgB,WAAhBwa,EACA5wB,EAAKwhD,QAAQgB,mBACbxiD,EAAKwhD,QAAQgB,mBAAmBpsC,QAAQ,GAAK,KAC7C,KACApW,EAAKqiD,SAASpB,OACdjhD,EAAKqiD,SAASpB,OAAO7qC,QAAQ,GAAK,KAClC,KACA,OAGe,WAAhBwa,EACA,uBAAGzsB,UAAU,YAAb,4BAEI,8BAAOnE,EAAKwhD,QAASxhD,EAAKwhD,QAAQgB,mBAAmBpsC,QAAQ,GAAK,KAAM,MAF5E,8BAII,8BAAOpW,EAAKwhD,QAASxhD,EAAKwhD,QAAQiB,mBAAmBrsC,QAAQ,GAAK,KAAM,OAE5D,WAAhBwa,GAA6B2B,EAC7B,uBAAGpuB,UAAU,YAAb,4BAEI,8BAAOnE,EAAKwhD,QAASxhD,EAAKwhD,QAAQiB,mBAAmBrsC,QAAQ,GAAK,KAAM,OAE5E,IAIR,yBAAKjS,UAAU,wBACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,eAAb,OAEI,8BAAOnE,EAAKqiD,SACQ,WAAhBzxB,EACA2B,EACAvyB,EAAKwhD,QAAQc,oBACZtiD,EAAKwhD,QAAQgB,mBAAmBxiD,EAAKwhD,QAAQc,mBAAmB,GAAGlsC,QAAQ,GAC5E,MACApW,EAAKwhD,QAAQe,oBACZviD,EAAKwhD,QAAQiB,mBAAmBziD,EAAKwhD,QAAQe,mBAAmB,GAAGnsC,QAAQ,GAC5E,MACgB,WAAhBwa,EACA5wB,EAAKwhD,QAAQc,oBACZtiD,EAAKwhD,QAAQgB,mBAAmBxiD,EAAKwhD,QAAQc,mBAAmB,GAAGlsC,QAAQ,GAC5E,MACApW,EAAKqiD,SAASlB,SAAS/qC,QAAQ,GAAI,MACvC,uBAAGjS,UAAU,YAAY1F,MAAM,sEAGf,WAAhBmyB,EACA,uBAAGzsB,UAAU,YAAb,4BAEI,8BAEInE,EAAKwhD,QACLxhD,EAAKwhD,QAAQc,oBACZtiD,EAAKwhD,QAAQgB,oBAAqBxiD,EAAKwhD,QAAQc,mBAAmB,IAAK,IAAIlsC,QAAQ,GACpF,MACA,MARR,8BAYI,8BAEIpW,EAAKwhD,QACLxhD,EAAKwhD,QAAQe,oBACZviD,EAAKwhD,QAAQiB,oBAAqBziD,EAAKwhD,QAAQe,mBAAmB,IAAK,IAAInsC,QAAQ,GACpF,MACA,OAIQ,WAAhBwa,GAA6B2B,EAC7B,uBAAGpuB,UAAU,YAAb,4BAEI,8BAEInE,EAAKwhD,QACLxhD,EAAKwhD,QAAQe,oBACZviD,EAAKwhD,QAAQiB,oBAAqBziD,EAAKwhD,QAAQe,mBAAmB,IAAK,IAAInsC,QAAQ,GACpF,MACA,OAIR,KA/IZ,kBAAC,KAAD,CACI0kB,WAAY0lB,EACZxH,QAnEM,CACd,CACIv6C,MAAO,eACPN,IAAK,YACLu6C,UAAW,YACXl2C,MAAO,QACPm2C,UAAU,GAEd,CACIl6C,MAAO,2CACPN,IAAK,aACLu6C,UAAW,aACXl2C,MAAO,QACPm2C,UAAU,GAEd,CACIl6C,MAAO,2CACPN,IAAK,aACLu6C,UAAW,aACXl2C,MAAO,QACPm2C,UAAU,GAEd,CACIl6C,MAAO,cACPN,IAAK,UACLu6C,UAAW,UACXl2C,MAAO,QACPm2C,UAAU,GAEd,CACIl6C,MAAO,2CACPN,IAAK,eACLu6C,UAAW,eACXl2C,MAAO,QACPm2C,UAAU,GAEd,CACIl6C,MAAO,2CACPN,IAAK,eACLu6C,UAAW,eACXl2C,MAAO,QACPm2C,UAAU,GAEd,CACIl6C,MAAO,cACPN,IAAK,YACLu6C,UAAW,YACXl2C,MAAO,QACPm2C,UAAU,IAoBNM,aAAa,OACble,WAAY6d,EACZz0C,UAAW,iBAAmBq1B,EAAQ,EAAG,YAAa,MAiJ1C,WAAhB5I,GAA8B2B,GAAiBC,EAiB/C,GAhBA,6BACK,yBAAKruB,UAAU,oBACZ,+CACA,kBAAC,KAAD,CAAQmvC,aAAa,KAAKnvC,UAAU,SAAS0D,SAAU,SAAC7C,GAAD,OAAS27C,EAAiB37C,KAC7E,kBAAC,GAAD,CAAQA,MAAM,MAAd,gBACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,UACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,aAaZk7C,EAAS5xC,OAAS,GAAK8xC,EAAe9xC,OAAS,EAC/C,yBAAKnK,UAAU,cAAc9B,MAAO,CAACy+B,gBAAkC,WAAhBlQ,EAA2B,UAAW,UAEzF,yBAAKzsB,UAAU,qBAAqBQ,GAAG,uBACvC,yBAAKR,UAAU,eACf,yBAAKA,UAAU,aAAaQ,GAAG,gBAEnC,kBAAC,GAAD,CAEAtC,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,MAKU,WAAhBkxB,EACA,GACA5wB,EAAKwhD,SACLp2C,MAAM4qB,QAAQh2B,EAAKwhD,QAAQC,kBAC3BzhD,EAAKwhD,QAAQC,gBAAgBnzC,OAAS,GAAKgyC,EAAmBhyC,OAAS,EACvE,yBAAKnK,UAAU,wBAAwBQ,GAAG,0BAE1Cu7C,EAAS5xC,OAAS,GAAK8xC,EAAe9xC,OAAS,EAC/C,kBAAC,GAAD,CAEAjM,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,MAEN,IAOZ,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAAD,EAS3BA,EAPFjB,WAF6B,IAG3B8jB,SAQJ,MAAO,CAACiD,WAXuB,EAIzBA,WAOcD,SAXW,EAKzBA,SAMwBnD,SAXC,EAO3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWg3B,MC98BlDxiC,GAAeiR,GAAfjR,WAEF3c,GACAC,KADAD,OAGJ,SAAS4hD,GAAavhD,EAAOuD,GAAM,IAE3Bi+C,EAQAxhD,EARAwhD,SACA/xB,EAOAzvB,EAPAyvB,aACA2B,EAMApxB,EANAoxB,aACAC,EAKArxB,EALAqxB,aACAkL,EAIAv8B,EAJAu8B,YAN0B,EAU1Bv8B,EAHA2iB,SAAWW,EAPe,EAOfA,OAAQN,EAPO,EAOPA,SACnBy+B,EAEAzhD,EAFAyhD,gBACAjlB,EACAx8B,EADAw8B,QAT0B,EAWgBrW,mBAAS,KAXzB,gCAYAA,mBAAS,IAZT,mBAYvBu7B,EAZuB,KAYdC,EAZc,OAaEx7B,mBAAS,IAbX,mBAavBy7B,EAbuB,KAabC,EAba,OAcgB17B,mBAAS,IAdzB,mBAcvB27B,EAduB,KAcNC,EAdM,KAia9B,OAlZA33B,2BAAgB,WAEZ,GAAImS,IAGe,WAAhB9M,GAA8BnM,KAGd,WAAhBmM,GAA8B2B,GAAjC,CAGA,IAAI6X,EAAY/4B,eAAeM,QAAQ,aACvCR,KAAKS,MAAMP,eAAeM,QAAQ,cAClC,GAEAy4B,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,GACAnqB,EAAKyrB,WAG5B,IAAIwX,EAAkB3N,GAAeA,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAE7E+I,EAAM0P,GAAa,wDACH,WAAhBmT,EACAnM,EACgB,WAAhBmM,EACA2B,EACgB,WAAhB3B,EACA2B,IAEAC,GAEArO,GACA,IAEJ,eACoB,WAAhByM,EACA,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,GAEJ,eAAiBqwB,EAEjB,cAAgBxX,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BkjD,EAAmBruC,EAAO7U,YAGnC,CAACwyB,EAAcD,EAAcmL,EAAa9M,EAAc+M,EAASklB,IACpEt3B,2BAAgB,WACZ,GAAImS,IAGe,WAAhB9M,GAA8BnM,KAGd,WAAhBmM,GAA8B2B,GAAjC,CAGA,IAAI6X,EAAY/4B,eAAeM,QAAQ,aACvCR,KAAKS,MAAMP,eAAeM,QAAQ,cAClC,GAEAy4B,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,GACAnqB,EAAKyrB,WAG5B,IAAIwX,EAAkB3N,GAAeA,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAE7E+I,EAAM0P,GAAa,uCACH,WAAhBmT,EACAnM,EACgB,WAAhBmM,EACA2B,EACgB,WAAhB3B,EACA2B,IAEAC,GAEArO,GACA,IAEJ,eACoB,WAAhByM,EACA,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,GAtBM/U,2BA0BM4tB,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BgjD,EAAYnuC,EAAO7U,YAG5B,CAACwyB,EAAcD,EAAcmL,EAAa9M,EAAc+M,IAC3D7V,qBAAU,WACN,GAA6B,GAA1Bm7B,EAAgB30C,OAAnB,CAGA,IAAIs/B,EAAQ,GAAI+E,EAAS,GACzBsQ,EAAgB7yC,SAAQ,SAAChI,GACrBwlC,EAAM3+B,KAAK7G,EAAKiU,MAChBs2B,EAAO1jC,KAAK7G,EAAK+6C,mBAAmB/sC,QAAQ,OAEhD,IAAIiqB,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,uBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,2BACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,QAKbwO,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNM,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CAAC,CACJ1vC,KAAM,QACNtB,KAAM,sBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBosB,IAAK,GACLC,IAAK,GACLC,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,aAGjB,CACE1K,KAAM,QACNovC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,cAGnBpN,OAAQ,CACJ,CACI/iC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,GAEXk/B,UAAW,CACPwgB,OAAQ,CACJ93C,MAAO,UACP5E,QAAS,GAEbi8B,SAAS,CACLr3B,MAAO,QACPu3B,YAAa,EACb55B,YAAa,UACbvC,QAAS,IAGjBo8C,WAAY,EACZO,OAAQ,SAERniD,KAAK2yC,KAIjBtS,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC6uC,EAAiBryB,IAErB9I,qBAAU,WACN,GAAsB,GAAnBi7B,EAASz0C,OAAZ,CAGA,IAAIs/B,EAAQ,GAAIwV,EAAY,GAAIC,EAAY,GAC5CN,EAAS3yC,SAAQ,SAAChI,GACdwlC,EAAM3+B,KAAK7G,EAAKiU,MACG,WAAhBuU,IACCwyB,EAAUn0C,KAAK7G,EAAKk7C,wBACpBD,EAAUp0C,KAAK7G,EAAKm7C,sBAEL,WAAhB3yB,IACCwyB,EAAUn0C,KAAK7G,EAAKo7C,sBACpBH,EAAUp0C,KAAK7G,EAAKq7C,oBAEL,WAAhB7yB,IACCwyB,EAAUn0C,KAAK7G,EAAKs7C,sBACpBL,EAAUp0C,KAAK7G,EAAKu7C,uBAG5B,IAAItjB,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,oBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,6CACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,IACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,mDACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,uCAAmC7kC,EAAO,GAAGJ,KAA7C,gBASP,OARAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,iHAE6Bj7B,EAAKomC,WAFlC,sHAIDpmC,EAAKpD,OAJJ,OAI+B,gBAAnBoD,EAAKomC,WAAoB,SAAK,IAJ1C,6CAOAnL,IAGfoL,OAAQ,CACJntC,IAAK,OACLD,KAAM,SACNrB,KAAK,CAAC,eAAK,gBACX4gC,UAAW,CACPx2B,MAAO,YAGf4kC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNM,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CAAC,CACJ1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAEjB,CACE7uC,KAAM,QACNtB,KAAM,iBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,GAAI,EAAG,IAExB6rB,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,cAGnBpN,OAAQ,CACJ,CACI/iC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAKojD,GAET,CACIhlD,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKqjD,KAIjBhjB,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAACwc,EAAcmyB,IAGd,yBAAK5+C,UAAU,iBACX,yBAAKA,UAAU,YACX,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,cAAc1F,MAAoD,iBAAtCmkD,EAAgBO,mBACtDP,EAAgBO,mBAAmB/sC,QAAQ,GAAK,SAChD,MAE6C,iBAAtCwsC,EAAgBO,mBACvBP,EAAgBO,mBAAmB/sC,QAAQ,GAAK,SAChD,MAGL,wDAEJ,yBAAKjS,UAAU,0BACX,yBAAKA,UAAU,gBAAgB1F,MAA+C,iBAAjCmkD,EAAgBgB,cACxDhB,EAAgBgB,cAChB,MAEoC,iBAAjChB,EAAgBgB,cACnBhB,EAAgBgB,cAChB,MAGL,oEAEJ,yBAAKz/C,UAAU,yBACX,yBAAKA,UAAU,aAAa1F,MAA8C,iBAAhCmkD,EAAgBiB,aACrDngD,SAAsC,IAA7Bk/C,EAAgBiB,cAAoB,IAC7C,MAEmC,iBAAhCjB,EAAgBiB,aACnBngD,SAAsC,IAA7Bk/C,EAAgBiB,cAAoB,IAC7C,MAIL,+DAGR,yBAAK1/C,UAAU,eACf,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,gBAAgB1F,MAA0C,iBAA5BkkD,EAASmB,gBACjDnB,EAASmB,gBAAiB,MACS,iBAA5BnB,EAASmB,gBAChBnB,EAASmB,gBAAiB,MAE/B,wDAEJ,yBAAK3/C,UAAU,iBACX,yBAAKA,UAAU,cAAc1F,MAA6C,iBAA/BkkD,EAASoB,mBAC/CpB,EAASoB,mBAAqB,IAAK,MACG,iBAA/BpB,EAASoB,mBAChBpB,EAASoB,mBAAqB,IAAK,MAExC,wDAEJ,yBAAK5/C,UAAU,iBACX,yBAAKA,UAAU,eAAe1F,MAA0C,iBAA5BkkD,EAASmB,gBAA6BnB,EAASqB,WAC5B,IAAzDtgD,SAASi/C,EAASmB,gBAAkBnB,EAASqB,YAAmB,IAAK,EAAG,MACtC,iBAA5BrB,EAASmB,gBAA6BnB,EAASqB,WACI,IAAzDtgD,SAASi/C,EAASmB,gBAAkBnB,EAASqB,YAAmB,IAAK,EAAG,MAE9E,oDAIZ,yBAAK7/C,UAAU,eAEH8+C,EAAgB30C,OAAS,EACzB,yBAAKnK,UAAU,oBACX,kBAAC,KAAD,CAAQmvC,aAAa,IAAInvC,UAAU,SAAS0D,SAAU,SAAC7C,GAAS89C,EAAW99C,KACvE,kBAAC,GAAD,CAAQA,MAAM,KAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,uBAEJ,yBAAKb,UAAU,qBAAqBQ,GAAG,wBAE3C,kBAAC,GAAD,CACAR,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,SAAUn1B,MAAO,kBAAmBiC,QAAS,gBAC7DhG,MAAO,2BACPiB,KAAM,MAIV,yBAAKyE,UAAU,eAEX4+C,EAASz0C,OAAS,EAClB,yBAAKnK,UAAU,kBAAkBQ,GAAG,oBACpC,kBAAC,GAAD,CACAR,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,SAAUn1B,MAAO,kBAAmBiC,QAAS,gBAC7DhG,MAAO,2BACPiB,KAAM,QAS9B,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAAD,EAG3BA,EADAjB,WAEJ,MAAO,CAAE23B,UAJsB,EAEbA,UAEEhU,SAJW,EAEFA,WAIlBsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWy5B,MCrhBlDjlC,GAAeiR,GAAfjR,WAEN,SAASwmC,GAAW9iD,EAAOuD,GAAM,IAEzBksB,EAQAzvB,EARAyvB,aACAszB,EAOA/iD,EAPA+iD,QACAC,EAMAhjD,EANAgjD,YACAzmB,EAKAv8B,EALAu8B,YACAnL,EAIApxB,EAJAoxB,aACAC,EAGArxB,EAHAqxB,aACAmL,EAEAx8B,EAFAw8B,QARwB,EAUxBx8B,EADA2iB,SAAWW,EATa,EASbA,OAAQN,EATK,EASLA,SATK,EAWUmD,mBAAS,IAXnB,mBAWrBorB,EAXqB,KAWRwD,EAXQ,OAYgB5uB,mBAAS,IAZzB,mBAYrB+lB,EAZqB,KAYLC,EAZK,OAaQhmB,mBAAS,IAbjB,mBAarB88B,EAbqB,KAaTC,EAbS,KAcxB7W,EAAY,CACZ,IAAIC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAwUf,OArUAmhB,2BAAgB,WAEZ,GAAImS,IAGe,WAAhB9M,GAA8BnM,KAGd,WAAhBmM,GAA8B2B,GAAjC,CAGA,IAAI6X,EAAY/4B,eAAeM,QAAQ,aACvCR,KAAKS,MAAMP,eAAeM,QAAQ,cAClC,GAEAy4B,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,GACAnqB,EAAKyrB,WAGN6J,GAAeA,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAAjF,IAEI+I,EAAM0P,GAAa,yCACvBU,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9Bk2C,EAAerhC,EAAO7U,MACtB6U,EAAO7U,KAAK,IAAMstC,EAAkBz4B,EAAO7U,KAAK,WAGzD,CAAC09B,EAAanL,EAAcC,EAAc5B,EAAcnM,EAAQkZ,IACnEpS,2BAAgB,WAEZ,IAAmB,WAAhBqF,GAA8B4B,GAAiBD,IAG9CmL,IAGe,WAAhB9M,GAA8BnM,KAGd,WAAhBmM,GAA8B2B,GAAjC,CAGA,IAAI6X,EAAY/4B,eAAeM,QAAQ,aACvCR,KAAKS,MAAMP,eAAeM,QAAQ,cAClC,GAEAy4B,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,GACAnqB,EAAKyrB,WAG5B,IAAIwX,EAAkB3N,GAAeA,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GAEnF+I,EAAM0P,GAAa,oDACH,WAAhBmT,EACAnM,EACgB,WAAhBmM,EACA2B,EAEAC,GAGJ,eACoB,WAAhB5B,EACA,EACgB,WAAhBA,EACA,EAEA,GAGJ,eAAiByc,EAAeiX,UAAWjX,EAAeiX,UAAW,IAlB3D7mC,4BAoBO4tB,EAAgBd,UAAUc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACpF,aAAes5B,EAAgBb,QAAQa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC9EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BqkD,EAAcxvC,EAAO7U,YAG9B,CAACqtC,EAAgBzc,EAAc8M,EAAanL,EAAcC,EAAc/N,EAAQkZ,IACnFpS,2BAAgB,WAEZ,GAAmB,WAAhBqF,IAA6B4B,IAAgBD,GAG5CmL,EAAJ,CAGA,IAAI2N,EAAkB3N,GAAeA,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAE7E+I,EAAM0P,GAAa,8DAAgE0G,EAA7E1G,iCAEO4vB,EAAeiX,UAAWjX,EAAeiX,UAAW,IACrE,cAAgBjZ,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BqkD,EAAcxvC,EAAO7U,YAG9B,CAACqtC,EAAgBzc,EAAc8M,EAAanL,EAAcC,EAAcmL,IAC3E7V,qBAAU,WACN,GAAwB,GAArBs8B,EAAW91C,QAAqC,GAAtBokC,EAAYpkC,OAAzC,CAGA,IAAIs/B,EAAQ,GACRvN,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,qBACpD6tB,EAASjsB,SACT,IAAIu5B,EAAa,GAAI4W,EAAa,GAClC,GAAmB,WAAhB3zB,GAA8B4B,GAAiBD,EAqB3C,CACH,IAAI6X,EAAY,GAAIwK,EAAY,GAAIjC,EAAS,GAC7CyR,EAAWh0C,SAAQ,SAAChI,GAChBwlC,EAAM3+B,KAAK7G,EAAKiU,MAChB+tB,EAAUn7B,KAAK7G,EAAKo8C,aAAapuC,QAAQ,IACzCw+B,EAAU3lC,KAAK7G,EAAKq8C,aAAaruC,QAAQ,IACzCu8B,EAAO1jC,KAAK7G,EAAKs8C,aAAatuC,QAAQ,OAE1Cu3B,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK2yC,GAkBT,CACIv0C,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,SAzFbwP,EAAWh0C,SAAQ,SAAChI,EAAMiD,GACtBuiC,EAAM3+B,KAAK7G,EAAK4qC,QAAS5qC,EAAK4qC,QAAQhF,YAAa,IACnD,IAAI1X,EAAM,GACVlrB,MAAM4qB,QAAQ5tB,EAAKu8C,wBACnBv8C,EAAKu8C,sBAAsBv0C,SAAQ,SAACjF,GAChCo5C,EAAWt1C,KAAK9D,EAAMgqC,UAAWhqC,EAAMgqC,UAAU9d,UAAW,IAC5Df,EAAIrnB,KAAK9D,EAAMy5C,YAEnBjX,EAAa,CACT,CAEIjuC,KAAK,MAELgiC,UAAW,CACPt3B,MAAOojC,EAAUniC,EAAM,IAE3BrL,KAAKs2B,OA8ErB,IAAIrrB,EAAS,CACTxM,MAAO,CACHq6B,KAAM,uCACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,IACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,mDACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,mBAKAq+B,IAGfoL,OAAQ,CACJntC,IAAK,OACLD,KAAM,SACNrB,KAAsB,WAAhB4wB,GAA8B4B,GAAiBD,EAA0B,GAAZgyB,EAEnE3jB,UAAW,CACPx2B,MAAO,YAGfskC,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,aAInB4kC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZyO,MAAO,CACH1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAACi5B,EAAgB3P,EAAanL,EAAcC,EAAc5B,EAAcwzB,IAGvE,yBAAKjgD,UAAU,eACX,yBAAKA,UAAU,YACX,yBAAKA,UAAU,YACX,kBAAC,KAAD,CACAzE,KAAK,SACLyzC,QACoB,WAAhBviB,EACAszB,EAAQW,aACQ,WAAhBj0B,GAEA2B,EADA2xB,EAAQY,kBAGRtyB,EACA0xB,EAAQa,kBACRb,EAAQc,mBAEZ73B,OAAQ,SAACgmB,GAAD,OAAWA,GACnB3wC,MAAO,GACP2B,UAAU,WACVkvC,YAAY,YACZ,8DAEJ,yBAAKlvC,UAAU,eACf,yBAAKA,UAAU,kBACX,kBAAC,aAAD,KAEQiH,MAAM4qB,QAAQmuB,IAAgBA,EAAYh8C,KAAI,SAACC,EAAMiD,GACjD,IAAIugC,EAAwB,WAAhBhb,EACZxoB,EAAK68C,oBACW,WAAhBr0B,GAEA2B,EADAnqB,EAAK08C,kBAGLtyB,EACApqB,EAAK28C,kBACL38C,EAAK48C,mBACL,OACI,yBAAK7gD,UACDynC,GAAS,GAAK,OACdA,GAAS,IAAMA,EAAQ,GAAI,SAC3BA,GAAS,IAAMA,EAAQ,GAAI,OAC3B,MACFztC,IAAKkN,GACH,uBAAGlH,UAAU,mBACb,4CAAQynC,EAAMx1B,QAAQ,IACtB,uBAAGjS,UAAU,iBAAiB1F,MAAO2J,EAAK88C,YAAYlX,aACjD5lC,EAAK88C,YAAYlX,oBAW9C0E,EAAYpkC,OAAS,EACrB,yBAAKnK,UAAU,eACX,yBAAKA,UAAU,aACX,+CAEIuuC,EAAYvqC,KAAI,SAACC,EAAMiD,GACnB,OACI,0BAAMlN,IAAKkN,EAAOzG,QAAS,kBAAI0oC,EAAkBllC,EAAKk8C,aAClD,0BACAngD,UAAW,aAAekpC,GAAkBjlC,EAAKk8C,UAAW,SAAU,KACjEl8C,EAAK4lC,aAGN3iC,GAASqnC,EAAYpkC,OAAS,EAC9B,0BAAMnK,UAAU,oBAChB,QAQxB,yBAAKA,UAAU,mBAAmBQ,GAAG,sBAEzC,kBAAC,GAAD,CAEAtC,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,OAQtB,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAAD,EAG3BA,EADAjB,WAEJ,MAAO,CAAE23B,UAJsB,EAEbA,UAEEhU,SAJW,EAEFA,WAIlBsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWg7B,MCjflDxmC,GAAeiR,GAAfjR,WAEN,SAAS0nC,GAAUhkD,EAAOuD,GAAM,IAExBksB,EAQAzvB,EARAyvB,aAGA8M,GAKAv8B,EAPA+iD,QAOA/iD,EANAgjD,YAMAhjD,EALAu8B,aACAnL,EAIApxB,EAJAoxB,aACAC,EAGArxB,EAHAqxB,aACAmL,EAEAx8B,EAFAw8B,QARuB,EAUvBx8B,EADA2iB,SAAWW,EATY,EASZA,OAAQN,EATI,EASJA,SATI,EAYemD,mBAAS,IAZxB,mBAYpB89B,EAZoB,KAYLC,EAZK,OAaG/9B,mBAAS,GAbZ,mBAapBg+B,EAboB,KAaXC,EAbW,KA8E3B,OAhEAh6B,2BAAgB,WAEZ,GAAImS,IAGe,WAAhB9M,GAA8B2B,KAGd,WAAhB3B,GAA8BnM,GAAjC,CAGA,IAAI2lB,EAAY/4B,eAAeM,QAAQ,aACvCR,KAAKS,MAAMP,eAAeM,QAAQ,cAClC,GACI04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAIwX,EAAkB3N,GAAeA,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GAEnF+I,EAAM0P,GAAa,0EACP,WAAhBmT,EACAnM,EACA,IACA,YAAc8N,EACd,aACoB,WAAhB3B,GAA8B4B,EAE9BA,EADA6X,GAEJ,aAAelmB,EACf,eAAiBknB,EAAgBd,UAAUc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACpF,aAAes5B,EAAgBb,QAAQa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC9EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5CqlD,EAAiBxwC,EAAO7U,SAIhC+N,EAAM0P,GAAa,iDACH,WAAhBmT,EACAnM,EACA,IACA,YAAc8N,EACd,aACoB,WAAhB3B,GAA8B4B,EAE9BA,EADA6X,GAEJ,aAAelmB,EACf,eAAiBknB,EAAgBd,UAAUc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACpF,aAAes5B,EAAgBb,QAAQa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC9EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BulD,EAAW1wC,EAAO7U,YAG3B,CAAC09B,EAAanL,EAAcC,EAAc5B,EAAcnM,EAAQN,EAAUwZ,IAEzE,yBAAKx5B,UAAU,cACX,yBAAKA,UAAU,YACX,kBAAC,KAAD,CACAzE,KAAK,SACLyzC,QAASmS,GAAkB,EAC3B9iD,MAAO,GACP2qB,OAAQ,SAACgmB,GAAD,OAAaA,GACrBhvC,UAAU,WACVkvC,YAAY,YACZ,oEAEJ,yBAAKlvC,UAAU,eACf,yBAAKA,UAAU,sBACX,kBAAC,aAAD,KAEIihD,EAAcj9C,KAAI,SAACC,EAAMiD,GACrB,OACA,yBAAKlH,UAAU,mBAAmBhG,IAAKkN,GACnC,0BAAMlH,UAAU,sBAERiE,EAAKo9C,SACLp9C,EAAKo9C,SACL,MAGR,kBAAC,KAAD,CACArlC,OAAO,SACPgzB,QAC8B,iBAAnB/qC,EAAKq9C,WACZ/hD,SAAU0E,EAAKy8C,aAAez8C,EAAKq9C,WAAY,KAC/C,EAEJC,YAAa,GACbtS,UAAU,EACVjvC,UAAU,yBACVkvC,YAAY,YACZ,0BAAMlvC,UAAU,sBAAsB9B,MAAO,CAAC+H,MAAO,YACpB,iBAArBhC,EAAKy8C,aAA0Bz8C,EAAKy8C,aAAc,KAD9D,iBAkB5B,IAAM3yB,GAAkB,SAAC9wB,GAAW,IAAD,EAG3BA,EADAjB,WAEJ,MAAO,CAAE23B,UAJsB,EAEbA,UAEEhU,SAJW,EAEFA,WAIlBsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWk8B,MCnIlD1nC,GAAeiR,GAAfjR,WACC3c,GAAUC,KAAVD,OAEP,SAAS6kD,GAAexkD,EAAOuD,GAAM,IAE7BksB,EAOAzvB,EAPAyvB,aAGA8M,GAIAv8B,EANA+iD,QAMA/iD,EALAgjD,YAKAhjD,EAJAu8B,aACAnL,EAGApxB,EAHAoxB,aACAC,EAEArxB,EAFAqxB,aAP4B,EAS5BrxB,EADA2iB,SAAWW,EARiB,EAQjBA,OAAQN,EARS,EAQTA,SARS,EAWImD,mBAAS,IAXb,mBAWzBs+B,EAXyB,KAWbC,EAXa,OAYcv+B,mBAAS,SAZvB,mBAYRw+B,GAZQ,WA4gBhC,OA/fAv6B,2BAAgB,WAEZ,GAAImS,IAGe,WAAhB9M,GAA8B2B,KAGd,WAAhB3B,GAA8BnM,GAAjC,CAGA,IAAI2lB,EAAY/4B,eAAeM,QAAQ,aACvCR,KAAKS,MAAMP,eAAeM,QAAQ,cAClC,GACI04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAIwX,EAAkB3N,GAAeA,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GAEnF+I,EAAM0P,GAAa,qDACP,WAAhBmT,EACAnM,EACA,IACA,YAAc8N,EACd,aACoB,WAAhB3B,GAA8B4B,EAE9BA,EADA6X,GAEJ,aAAelmB,EACf,eAAiBknB,EAAgBd,UAAUc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACpF,aAAes5B,EAAgBb,QAAQa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC9EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5C6lD,EAAchxC,EAAO7U,YAG9B,CAAC09B,EAAanL,EAAcC,EAAc5B,EAAcnM,EAAQN,IACnE2D,qBAAU,WACN,IAAIuY,EAAWC,KAAav9B,SAASyP,eAAe,yBACpD6tB,EAASjsB,SAgFTisB,EAASuB,UA/EI,CACTrB,QAAS,CACLC,QAAS,QAEbC,KAAM,CACFn/B,IAAK,GACLo/B,MAAO,EACPC,OAAQ,EACRt/B,KAAM,GAEV5C,MAAO,CACHq6B,KAAM,6CACNz3B,KAAM,SACNC,IAAK,SACLs/B,UAAW,CACP3d,QAAS,CAAC,EAAG,EAAG,GAAI,GACpB4d,SAAU,GACVuN,WAAY,SAGpBtN,gBAAiB,CACbphC,KAAM,SACNygC,EAAG,GACHY,EAAG,GACHC,EAAG,IAEHC,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,GACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,EACR92B,MAAO,WAIfA,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,QAC/D+2B,OAAQ,CACJ,CACI/iC,KAAM,2BACNsB,KAAM,MACN0hC,OAAQ,CAAC,MAAO,OAChBE,SAAU,GACVC,mBAAmB,EACnBC,MAAO,CACHx/B,MAAM,GAEVy/B,SAAU,CACNC,UAAW,CACPC,YAAa,GACb55B,YAAa,wBAIrB/H,KAAM,CAAC,EAAG,EAAG,EAAG,EAAG,OAIJ,GAC3BuC,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,cAEd,IACH0T,qBAAU,WACN,IAAIuY,EAAWC,KAAav9B,SAASyP,eAAe,0BACpD6tB,EAASjsB,SAgFTisB,EAASuB,UA/EI,CACTrB,QAAS,CACLC,QAAS,QAEbC,KAAM,CACFn/B,IAAK,GACLo/B,MAAO,EACPC,OAAQ,EACRt/B,KAAM,GAEV5C,MAAO,CACHq6B,KAAM,6CACNz3B,KAAM,SACNC,IAAK,SACLs/B,UAAW,CACP3d,QAAS,CAAC,EAAG,EAAG,GAAI,GACpB4d,SAAU,GACVuN,WAAY,SAGpBtN,gBAAiB,CACbphC,KAAM,SACNygC,EAAG,GACHY,EAAG,GACHC,EAAG,IAEHC,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,GACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,EACR92B,MAAO,WAIfA,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,QAC/D+2B,OAAQ,CACJ,CACI/iC,KAAM,2BACNsB,KAAM,MACN0hC,OAAQ,CAAC,MAAO,OAChBE,SAAU,GACVC,mBAAmB,EACnBC,MAAO,CACHx/B,MAAM,GAEVy/B,SAAU,CACNC,UAAW,CACPC,YAAa,GACb55B,YAAa,wBAIrB/H,KAAM,CAAC,EAAG,EAAG,EAAG,EAAG,OAIJ,GAC3BuC,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,cAEd,IACH0T,qBAAU,WACN,IAAIuY,EAAWC,KAAav9B,SAASyP,eAAe,0BACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,2BACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQ,IAEZJ,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,mDACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,mBAKAq+B,IAGfoL,OAAQ,CACJntC,IAAK,OACLD,KAAM,MACNrB,KAAK,CAAC,eAAK,eAAK,gBAChB4gC,UAAW,CACPx2B,MAAO,YAGfskC,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM,CAAC,qBAAM,qBAAM,qBAAM,qBAAM,sBAC/B4uC,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQ,CACJ,CACI/iC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK,CAAC,EAAG,EAAG,EAAG,EAAG,IAEtB,CACI5B,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK,CAAC,EAAG,EAAG,EAAG,EAAG,IAEtB,CACI5B,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK,CAAC,EAAG,EAAG,EAAG,EAAG,MAK9BqgC,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,cAEd,IACH0T,qBAAU,WACN,IAAIuY,EAAWC,KAAav9B,SAASyP,eAAe,yBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,2BACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQ,IAEZJ,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,mDACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,mBAKAq+B,IAGfoL,OAAQ,CACJntC,IAAK,OACLD,KAAM,MACNrB,KAAK,CAAC,eAAK,eAAK,gBAChB4gC,UAAW,CACPx2B,MAAO,YAGfskC,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM,CAAC,qBAAM,qBAAM,qBAAM,qBAAM,sBAC/B4uC,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,iBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQ,CACJ,CACI/iC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK,CAAC,EAAG,EAAG,EAAG,EAAG,IAEtB,CACI5B,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK,CAAC,EAAG,EAAG,EAAG,EAAG,IAEtB,CACI5B,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK,CAAC,EAAG,EAAG,EAAG,EAAG,MAK9BqgC,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,cAEd,IAEC,yBAAKjQ,UAAU,mBACX,0BAAMA,UAAU,iBAAhB,4BAEI,8BAEqC,iBAA3ByhD,EAAWG,aAClBriD,SAASkiD,EAAWG,cAAgB,gBACpC,OAYP,0BAAM5hD,UAAU,iBAAhB,kCAEI,8BAEiD,iBAAvCyhD,EAAWI,yBAClBJ,EAAWI,yBAA2B,SACtC,OAIP,yBAAK7hD,UAAU,2BACX,yBAAKA,UAAU,sBACX,uBAAGA,UAAU,iBACb,uDAEI,8BACA,0BAAMA,UAAU,eAEyB,iBAA9ByhD,EAAWK,iBAClBL,EAAWK,gBAAkB,GAAK,GAClCviD,SAASkiD,EAAWK,gBAAkB,GAAK,IAC3C,IAGJ,8BAEyC,iBAA9BL,EAAWK,iBAClBL,EAAWK,gBAAkB,GAAK,GAClC,IACA,IAGJ,0BAAM9hD,UAAU,eAEyB,iBAA9ByhD,EAAWK,gBAClBL,EAAWK,gBAAkB,GAAK,GAClCviD,SAASkiD,EAAWK,gBAAkB,GAAK,IAC3CL,EAAWK,gBAAkB,GAAK,EAClCviD,SAASkiD,EAAWK,gBAAkB,IACtC,GACA,IAGJ,8BAEyC,iBAA9BL,EAAWK,iBAClBL,EAAWK,gBAAkB,GAAK,EAClC,MACA,IAGJ,0BAAM9hD,UAAU,eAEyB,iBAA9ByhD,EAAWK,gBAClBL,EAAWK,gBAAkB,KAAO,EACpCL,EAAWK,gBAAkB,KAAO,GACpCviD,SAASkiD,EAAWK,gBAAkB,KAAO,IAC7CviD,SAASkiD,EAAWK,gBAAkB,MACtCL,EAAWK,gBAAkB,GAAK,EAClCviD,SAASkiD,EAAWK,gBAAkB,IACtCviD,SAASkiD,EAAWK,iBACpB,MA9CJ,MAoDJ,uBAAG9hD,UAAU,gBAAb,8DAEJ,yBAAKA,UAAU,uBACX,uBAAGA,UAAU,iBACb,uDAEI,sCAEJ,uBAAGA,UAAU,gBAAb,8DAEJ,yBAAKA,UAAU,2BACX,uBAAGA,UAAU,iBACb,uDAEI,sCAEJ,uBAAGA,UAAU,gBAAb,+DAGR,yBAAKA,UAAU,uBACX,yBAAKA,UAAU,uBAAuBQ,GAAG,yBACzC,yBAAKR,UAAU,eACf,yBAAKA,UAAU,wBAAwBQ,GAAG,2BAE9C,yBAAKR,UAAU,oBACX,+CACA,kBAAC,KAAD,CAAQmvC,aAAa,QAAQnvC,UAAU,SAAS0D,SAAU,SAAC7C,GAAD,OAAS8gD,EAAmB9gD,KAClF,kBAAC,GAAD,CAAQA,MAAM,OAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,QAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,SAAd,wBAGR,yBAAKb,UAAU,0BACX,yBAAKA,UAAU,wBAAwBQ,GAAG,0BAC1C,yBAAKR,UAAU,eACf,yBAAKA,UAAU,uBAAuBQ,GAAG,2BAMzD,IAAMutB,GAAkB,SAAC9wB,GAAW,IAAD,EAG3BA,EADAjB,WAEJ,MAAO,CAAE23B,UAJsB,EAEbA,UAEEhU,SAJW,EAEFA,WAIlBsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW08B,MC/oBlDloC,GAAeiR,GAAfjR,WAEN,SAASyoC,GAAW/kD,EAAOuD,GAAM,IAEzBksB,EAMAzvB,EANAyvB,aACA2B,EAKApxB,EALAoxB,aACAC,EAIArxB,EAJAqxB,aACAkL,EAGAv8B,EAHAu8B,YALwB,EAQxBv8B,EAFA2iB,SAAWW,EANa,EAMbA,OAAQN,EANK,EAMLA,SACnBwZ,EACAx8B,EADAw8B,QAPwB,EAUUrW,mBAAS,QAVnB,mBAUrB2W,EAVqB,KAURC,EAVQ,OAYE5W,mBAAS,MAZX,mBAYrB48B,EAZqB,KAYZiC,EAZY,OAaU7+B,mBAAS,IAbnB,mBAarB68B,EAbqB,KAaRiC,EAbQ,OAcgB9+B,mBAAS,IAdzB,gCAeIA,mBAAS,KAfb,mBAerBq7B,EAfqB,KAeX0D,EAfW,OAgBkB/+B,mBAAS,IAhB3B,mBAgBrBs7B,EAhBqB,KAgBJ0D,EAhBI,OAkBUh/B,oBAAS,GAlBnB,mBAkBrBgwB,EAlBqB,KAkBRC,EAlBQ,OAmBQjwB,oBAAS,GAnBjB,mBAmBrBi/B,EAnBqB,KAmBTC,EAnBS,OAoBUl/B,oBAAS,GApBnB,mBAoBrBm/B,EApBqB,KAoBRC,EApBQ,OAqBUp/B,mBAAS,IArBnB,mBAqBrBmd,EArBqB,KAqBRC,EArBQ,OAsBsBpd,mBAAS,IAtB/B,oBAsBrBqd,GAtBqB,MAsBFC,GAtBE,SAwBItd,mBAAS,IAxBb,qBAwBrBq/B,GAxBqB,MAwBXC,GAxBW,SAyBEt/B,mBAAS,IAzBX,qBAyBrBu/B,GAzBqB,MAyBZC,GAzBY,SA0BIx/B,mBAAS,IA1Bb,qBA0BrBy7B,GA1BqB,MA0BXC,GA1BW,SA4Bc17B,mBAAyB,WAAhBsJ,EAA2B,SAAU,QA5B5D,qBA4BrBmU,GA5BqB,MA4BNC,GA5BM,MA6B5BzZ,2BAAgB,WAEZ,GAAImS,IAGe,WAAhB9M,GAA8B2B,GAAjC,CAGA,IAAI6X,EAAY/4B,eAAeM,QAAQ,aACvCR,KAAKS,MAAMP,eAAeM,QAAQ,cAClC,GACI04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAIwX,EAAkB3N,GAAeA,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAE7E+I,EAAM0P,GAAa,qDACH,WAAhBmT,EACAnM,EACA,IAEJ,YAAc8N,EACd,aACoB,WAAhB3B,GAA8B4B,EAE9BA,EADA6X,GAGJ,cAAgBgB,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BmmD,EAAWtxC,EAAO7U,SAK1B+N,EAAM0P,GAAa,mDACC,WAAhBmT,EACAnM,EACA,IAEJ,YAAc8N,EACd,aACgB,WAAhB3B,GAA8B4B,EAE9BA,EADA6X,GAGA,cAAgBgB,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BomD,EAAevxC,EAAO7U,SAK9B+N,EAAM0P,GAAa,mDACC,WAAhBmT,EACAnM,EACA,IAEJ,YAAc8N,EACd,aACgB,WAAhB3B,GAA8B4B,EAE9BA,EADA6X,GAGA,cAAgBgB,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BomD,EAAevxC,EAAO7U,YAG/B,CAAC09B,EAAanL,EAAcC,EAAc5B,EAAc+M,IAC3DpS,2BAAgB,WAEZ,GAAImS,EAAJ,CAGA,IAAI0M,EAAY/4B,eAAeM,QAAQ,aACvCR,KAAKS,MAAMP,eAAeM,QAAQ,cAClC,GACI04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAIwX,EAAkB3N,GAAeA,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAE7E+I,EAAM0P,GAAa,4CACH,WAAhBmT,EACAnM,EACA,IAEJ,YAAc8N,EACd,aACoB,WAAhB3B,GAA8B4B,EAE9BA,EADA6X,GAGJ,cAAgBgB,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BqmD,EAAYxxC,EAAO7U,SAI3B+N,EAAM0P,GAAa,wDACC,WAAhBmT,EACAnM,EACA,IAEJ,YAAc8N,EACd,aACoB,WAAhB3B,GAA8B4B,EAE9BA,EADA6X,GAGJ,cAAgBgB,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BsmD,EAAmBzxC,EAAO7U,YAGnC,CAAC09B,EAAanL,EAAcC,EAAc5B,EAAc+M,IAC3D,IAAMopB,GAAkB,CACpBC,EAAG,eACHC,EAAG,eACHC,EAAG,gBAwDDC,GAAW,CACb,CACIhpD,IAAK,OACLC,KAAM,4BAEV,CACID,IAAK,OACLC,KAAM,4BAMV,CACID,IAAK,SACLC,KAAM,6BAIdmtB,2BAAgB,WACZ,GAAmB,WAAhBqF,GAA6B2B,EAAa,CAC7C,IAAIxkB,EAAM0P,GAAa,qCACvB0G,EACA,YAAcqO,EACd,YAAcD,EACdpU,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9B0kC,EAAe7vB,EAAO7U,MACtB4kC,GAAqB/vB,EAAO7U,aAIrC,CAAC4wB,EAAcnM,EAAQ8N,EAAcC,EAAckL,EAAaC,IAEnEpS,2BAAgB,WACZ,GAAmB,WAAhBqF,EAAH,CAGA,IAAI3M,EAAWyZ,GAAeA,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OACtEolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAI9lB,EAAM0P,GAAa,kDAAoDgH,EAC3E,YAAc8N,EACd,YAAc8X,EACd,aAAelmB,EACf,WAAaF,EAASqmB,OACtB,cAAgBrmB,EAASsmB,UAAUx4B,OAAO,EAAG,IAC7C,YAAckS,EAASumB,QAAQz4B,OAAO,EAAG,IACzCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,MAAM,CAClD,IAAIs2B,EAAM,GACVzhB,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACjB,IAAIwM,EAAG,eACAxM,GAEPwM,EAAIo5B,YAAc5lC,EAAK4lC,YACvBp5B,EAAIwyC,kBAAoBh/C,EAAKg/C,kBAC7B9wB,EAAIrnB,KAAK2F,MAEbgyC,GAAYtwB,OAGpBvoB,EAAM0P,GAAa,2CAA6CgH,EAChE,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,cAAgBF,EAASsmB,UAAUx4B,OAAO,EAAG,IAC7C,YAAckS,EAASumB,QAAQz4B,OAAO,EAAG,IACzCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,QAC5C6U,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACjBA,EAAK85C,OAAS95C,EAAK85C,OAAQ,SAAK,YAEpC4E,GAAWjyC,EAAO7U,UAG1B+N,EAAM0P,GAAa,qCAAuCgH,EAC1D,YAAc8N,EACd,YAAc8X,EACd,aAAelmB,EAHT1G,qBAKUwG,EAASsmB,UAAUx4B,OAAO,EAAG,IAC7C,YAAckS,EAASumB,QAAQz4B,OAAO,EAAG,IACzCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,QAC5C6U,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACjBA,EAAKi/C,YAAcN,GAAgB3+C,EAAKi/C,gBAE5CrE,GAAYnuC,EAAO7U,aAG5B,CAAC09B,EAAanL,EAAcC,EAAc5B,EAAcnM,EAAQkZ,IAEnE,IAAMsN,GAAiB,SAACjrC,EAAMN,GAC1B,IAAIukB,EAAWyZ,GAAeA,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OACtEolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GAMnB,GALAD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAGjB,QAARn0B,EAAe,CAClB,IAAIqO,EAAM0P,GAAa,kDAAoDzd,EAAKs0B,OAChF,YAAc/B,EACd,YAAc8X,EACd,aAAelmB,EACf,WAAaF,EAASqmB,OACtB,cAAgBrmB,EAASsmB,UAAUx4B,OAAO,EAAG,IAC7C,YAAckS,EAASumB,QAAQz4B,OAAO,EAAG,IACzCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,MAAM,CAClD,IAAIs2B,EAAM,GACVzhB,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACjB,IAAIwM,EAAG,eACAxM,GAEPwM,EAAIo5B,YAAc5lC,EAAK4lC,YACvBp5B,EAAIwyC,kBAAoBh/C,EAAKg/C,kBAC7B9wB,EAAIrnB,KAAK2F,MAEbgyC,GAAYtwB,GACZ0O,GAAiB,cAIzB,GAAW,OAARtlC,EAAc,CACjB,IAAIqO,EAAM0P,GAAa,2CAA6Czd,EAAKs0B,OACzE,YAAc/B,EACd,YAAcC,EACd,aAAerO,EACf,cAAgBF,EAASsmB,UAAUx4B,OAAO,EAAG,IAC7C,YAAckS,EAASumB,QAAQz4B,OAAO,EAAG,IACzCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,QAC5C6U,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACjBA,EAAK85C,OAAS95C,EAAK85C,OAAQ,SAAK,YAEpC4E,GAAWjyC,EAAO7U,MAClBglC,GAAiB,cAIzB,GAAW,QAARtlC,EAAe,CAClB,IAAIqO,EAAM0P,GAAa,qCAAuCzd,EAAKs0B,OACnE,YAAc/B,EACd,YAAc8X,EACd,aAAelmB,EAHL1G,qBAKMwG,EAASsmB,UAAUx4B,OAAO,EAAG,IAC7C,YAAckS,EAASumB,QAAQz4B,OAAO,EAAG,IACzCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,QAC5C6U,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACjBA,EAAKi/C,YAAcN,GAAgB3+C,EAAKi/C,gBAE5CrE,GAAYnuC,EAAO7U,MACnBglC,GAAiB,gBAK7B,OACI,yBAAK7gC,UAAU,eACX,yBAAKA,UAAU,aACX,+CAEIgjD,GAASh/C,KAAI,SAACC,EAAMiD,GAChB,OACA,yBAAKhJ,MAAO,CAACs1B,OAAQ,GAAIx5B,IAAKkN,EAAOzG,QAAS,kBAAIs5B,EAAe91B,EAAKjK,OAClE,0BACAgG,UAAW,aAAe85B,GAAe71B,EAAKjK,IAAK,SAAU,KACxDiK,EAAKhK,MAGNiN,GAAS87C,GAAS74C,OAAS,EAC3B,0BAAMnK,UAAU,oBAChB,OAQI,WAAhBysB,EACe,QAAfqN,EACA,yBAAK95B,UAAU,cACX,0BACAA,UAAU,mBACVS,QAAS,kBAAI2yC,GAAe,KAF5B,qDAIW,UAAftZ,EACA,yBAAK95B,UAAU,cACX,0BACAA,UAAU,mBACVS,QAAS,kBAAI4hD,GAAc,KAF3B,oDAGA,0BACAriD,UAAU,mBACVS,QAAS,kBAAI8hD,GAAe,KAF5B,qDAIJ,GACA,IAIW,QAAfzoB,EACA,kBAAC,GAAD,CACArN,aAAcA,EACdqN,YAAaA,EACb1L,aAAcA,EACdC,aAAcA,EACdmL,QAASA,EACTD,YAAaA,IACE,SAAfO,EACA,kBAAC,GAAD,CACArN,aAAcA,EACdqN,YAAaA,EACb1L,aAAcA,EACdC,aAAcA,EACdmL,QAASA,EACTD,YAAaA,IACE,UAAfO,EACA,kBAAC,GAAD,CACArN,aAAcA,EACdqN,YAAaA,EACb1L,aAAcA,EACdC,aAAcA,EACdmL,QAASA,EACTD,YAAaA,EACbilB,SAAUA,EACVC,gBAAiBA,IACjB,kBAAC,GAAD,CACAhyB,aAAcA,EACd2B,aAAcA,EACdC,aAAcA,EACdkL,YAAaA,EACbC,QAASA,EACTM,YAAaA,EACbimB,QAASA,EACTC,YAAaA,IAEjB,kBAAC,GAAD,CACFzkD,KAAK,IACLjB,MAAM,2BACNuN,QAASsrC,EACTx1C,KAAM,kBAAIy1C,GAAe,IACzBx1C,SAAU,WACW,WAAhB6uB,GACDoU,GAAiB,QAEnBuS,GAAe,IACjB7rC,OAAQ,KACRlJ,MAAO,IACP2B,UAAU,sBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,KAGtB,QAAjB8hB,GACA,6BACE,uBAAG5gC,UAAU,aAAb,SAA0B,8BAC1BsgC,EAAYn2B,QADZ,UAGA,wBAAInK,UAAU,eACZ,kBAAC,aAAD,CACAu+B,YAAU,EACVC,cAAe,KAEXgC,GAAkBr2B,OAAS,EAC3Bq2B,GAAkBx8B,KAAI,SAACC,EAAMiD,GAC3B,OACA,wBAAIlN,IAAKkN,EAAOzG,QAAS,kBAAIqmC,GAAe7iC,EAAM,UAChD,uBAAGjE,UAAU,cAAc9B,MAAO,CAChCimB,gBAEElgB,EAAK4rB,UACL5rB,EAAK4rB,UACL,MAGJ,uBAAGv1B,MAAO2J,EAAK47B,UAAW57B,EAAK47B,cAInC,kBAAC,GAAD,CACA7/B,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,aAChBl5B,MAAO,2BACPiB,KAAM,SAQd,6BAEoB,WAAhBkxB,EACA,0BAAMzsB,UAAU,cAAcS,QAAS,kBAAIogC,GAAiB,UAA5D,wCACA,GAEF,kBAAC,GAAD,CACA3iC,MAAO,CAACsoC,UAAW,IACnBlP,YAhYc,CACxB,CACIt9B,IAAK,cACLC,KAAM,wCAEV,CACID,IAAK,oBACLC,KAAM,4BAEV,CACID,IAAK,sBACLC,KAAM,wCAEV,CACID,IAAK,WACLC,KAAM,6BAkXA4B,KAAM2mD,OAKd,kBAAC,GAAD,CACIjnD,KAAK,IACLjB,MAAM,2BACNuN,QAASu6C,EACTzkD,KAAM,kBAAI0kD,GAAc,IACxBzkD,SAAU,WACW,WAAhB6uB,GACDoU,GAAiB,QAEnBwhB,GAAc,IAChB96C,OAAQ,KACRlJ,MAAO,IACP2B,UAAU,sBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,KAGtB,QAAjB8hB,GACA,6BACE,uBAAG5gC,UAAU,aAAb,SAA0B,8BAC1BsgC,EAAYn2B,QADZ,UAGA,wBAAInK,UAAU,eACZ,kBAAC,aAAD,CACAu+B,YAAU,EACVC,cAAe,KAEXgC,GAAkBr2B,OAAS,EAC3Bq2B,GAAkBx8B,KAAI,SAACC,EAAMiD,GAC3B,OACA,wBAAIlN,IAAKkN,EAAOzG,QAAS,kBAAIqmC,GAAe7iC,EAAM,SAChD,uBAAGjE,UAAU,cAAc9B,MAAO,CAChCimB,gBAEElgB,EAAK4rB,UACL5rB,EAAK4rB,UACL,MAGJ,uBAAGv1B,MAAO2J,EAAK47B,UAAW57B,EAAK47B,cAInC,kBAAC,GAAD,CACA7/B,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,aAChBl5B,MAAO,2BACPiB,KAAM,SAQd,6BAEoB,WAAhBkxB,EACA,0BAAMzsB,UAAU,cAAcS,QAAS,kBAAIogC,GAAiB,UAA5D,wCACA,GAEF,kBAAC,GAAD,CACA3iC,MAAO,CAACsoC,UAAW,IACnBlP,YAlba,CACvB,CACIt9B,IAAK,aACLC,KAAM,gBAEV,CACID,IAAK,cACLC,KAAM,+CAEV,CACID,IAAK,SACLC,KAAM,yCAwaA4B,KAAM6mD,OAKd,kBAAC,GAAD,CACInnD,KAAK,IACLjB,MAAM,2BACNuN,QAASy6C,EACT3kD,KAAM,kBAAI4kD,GAAe,IACzB3kD,SAAU,WACW,WAAhB6uB,GACDoU,GAAiB,QAEnB0hB,GAAe,IACjBh7C,OAAQ,KACRlJ,MAAO,IACP2B,UAAU,sBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,KAGtB,QAAjB8hB,GACA,6BACE,uBAAG5gC,UAAU,aAAb,SAA0B,8BAC1BsgC,EAAYn2B,QADZ,UAGA,wBAAInK,UAAU,eACZ,kBAAC,aAAD,CACAu+B,YAAU,EACVC,cAAe,KAEXgC,GAAkBr2B,OAAS,EAC3Bq2B,GAAkBx8B,KAAI,SAACC,EAAMiD,GAC3B,OACA,wBAAIlN,IAAKkN,EAAOzG,QAAS,kBAAIqmC,GAAe7iC,EAAM,UAChD,uBAAGjE,UAAU,cAAc9B,MAAO,CAChCimB,gBAEElgB,EAAK4rB,UACL5rB,EAAK4rB,UACL,MAGJ,uBAAGv1B,MAAO2J,EAAK47B,UAAW57B,EAAK47B,cAInC,kBAAC,GAAD,CACA7/B,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,aAChBl5B,MAAO,2BACPiB,KAAM,SAQd,6BAEoB,WAAhBkxB,EACA,0BAAMzsB,UAAU,cAAcS,QAAS,kBAAIogC,GAAiB,UAA5D,wCACA,GAEF,kBAAC,GAAD,CACA3iC,MAAO,CAACsoC,UAAW,IACnBlP,YAxec,CACxB,CACIt9B,IAAK,WACLC,KAAM,4BAEV,CACID,IAAK,cACLC,KAAM,4BAEV,CACID,IAAK,SACLC,KAAM,4BAEV,CACID,IAAK,YACLC,KAAM,oCAEV,CACID,IAAK,cACLC,KAAM,mCAsdA4B,KAAM+iD,QASpB,IAAM7wB,GAAkB,SAAC9wB,GAAW,IAAD,EAS3BA,EAPFjB,WAF6B,IAG3B8jB,SAQJ,MAAO,CAACiD,WAXuB,EAIzBA,WAOcD,SAXW,EAKzBA,SAMwBnD,SAXC,EAO3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWi9B,MCvuBlDzoC,GAAeiR,GAAfjR,WAEN,SAAS6pC,GAAWnmD,EAAOuD,GAAM,IAEzBksB,EAQAzvB,EARAyvB,aAGA8M,GAKAv8B,EAPA+iD,QAOA/iD,EANAgjD,YAMAhjD,EALAu8B,aACAnL,EAIApxB,EAJAoxB,aACAC,EAGArxB,EAHAqxB,aACAmL,EAEAx8B,EAFAw8B,QARwB,EAUxBx8B,EADA2iB,SAAWW,EATa,EASbA,OAAQN,EATK,EASLA,SATK,EAYYmD,mBAAS,IAZrB,mBAYrBigC,EAZqB,KAYPC,EAZO,KAiD5B,OApCAj8B,2BAAgB,WACZ,GAAImS,IAGe,WAAhB9M,GAA8BnM,KAGd,WAAhBmM,GAA8B2B,GAAjC,CAGA,IAAI6X,EAAY/4B,eAAeM,QAAQ,aACvCR,KAAKS,MAAMP,eAAeM,QAAQ,cAClC,GACI04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAIwX,EAAkB3N,GAAeA,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GAEnF+I,EAAM0P,GAAa,wDACvB8U,EACA,aAA+B,WAAhB3B,GAA8B4B,EAA4BA,EAAd6X,GAC3D,aAAelmB,EACf,eAAiBknB,EAAgBd,UAAUc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACpF,aAAes5B,EAAgBb,QAAQa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC9EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BwnD,EAAgB3yC,EAAO7U,YAGhC,CAAC09B,EAAanL,EAAcC,EAAc5B,EAAcnM,EAAQkZ,IAE/D,yBAAKx5B,UAAU,eACX,yBAAKA,UAAU,YAEPiH,MAAM4qB,QAAQuxB,EAAaE,uBAC3BF,EAAaE,qBAAqBn5C,OAAS,EAC3Ci5C,EAAaE,qBAAqBt/C,KAAI,SAACC,EAAMiD,GACzC,OACI,yBAAKlH,UAAW,kBACI,4BAAnBiE,EAAKs/C,WAAsB,SACT,gBAAnBt/C,EAAKs/C,WAAoB,QACN,gBAAnBt/C,EAAKs/C,WAAoB,MACzB,SACGvpD,IAAKkN,GACJ,uBAAGlH,UAAU,aACb,uBAAGA,UAAU,aACT,uBAAGA,UAAU,YACZiE,EAAKo9C,SAAUp9C,EAAKo9C,SAAU,MAGf,WAAhB50B,EACA,uBAAGzsB,UAAU,YACT,0DACI,0BAAM9B,MAAO,CAAC+H,MAAO,UACpBhC,EAAKu/C,eAGV,0DACI,0BAAMtlD,MAAO,CAAC+H,MAAO,YACpBhC,EAAKu/C,gBAId,GAEJ,uBAAGxjD,UAAU,aAAb,6BACWiE,EAAKw/C,cAK5B,kBAAC,GAAD,CAEAvlD,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,QA4E1B,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAAD,EAG3BA,EADAjB,WAEJ,MAAO,CAAE23B,UAJsB,EAEbA,UAEEhU,SAJW,EAEFA,WAIlBsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWq+B,MCzKlD7pC,GAAeiR,GAAfjR,WACJ,SAASoqC,GAAU1mD,EAAOuD,GAAK,IAK3B0/B,EAWEjjC,EAXFijC,KAEAC,GASEljC,EAVF+lB,WAUE/lB,EATFkjC,kBAIA9R,GAKEpxB,EARFskB,SAQEtkB,EAPFukB,UAOEvkB,EANFmjC,WAMEnjC,EALFoxB,cACAC,EAIErxB,EAJFqxB,aACA5B,EAGEzvB,EAHFyvB,aAb2B,EAgBzBzvB,EAFF2iB,SAAWK,EAdgB,EAchBA,SAAUM,EAdM,EAcNA,OACrBkZ,EACEx8B,EADFw8B,QAf2B,EAiBSrW,mBAAS,IAjBlB,mBAiBtBwgC,EAjBsB,KAiBTC,EAjBS,OAkByBzgC,oBAAS,GAlBlC,mBAkBtB0gC,EAlBsB,KAkBDC,EAlBC,OAmBS3gC,oBAAS,GAnBlB,mBAmBtB4gC,EAnBsB,KAmBTC,EAnBS,OAoBe7gC,oBAAS,GApBxB,gCAqBmBA,mBAAS,KArB5B,mBAqBtB8gC,EArBsB,KAqBJC,EArBI,OAsBG/gC,mBAAS,IAtBZ,mBAsBtBghC,EAtBsB,KAsBZC,EAtBY,OAuBSjhC,mBAAS,IAvBlB,mBAuBtBmd,EAvBsB,KAuBTC,EAvBS,OAwBqBpd,mBAAS,IAxB9B,mBAwBtBqd,EAxBsB,KAwBHC,EAxBG,OAyBCtd,mBAAS,IAzBV,gCA2BaA,mBAAyB,WAAhBsJ,EAA2B,SAAU,SA3B3D,mBA2BtBmU,EA3BsB,KA2BPC,EA3BO,KAwEvBjgB,EAAU2H,iBAAO,MACjB87B,EAAa97B,iBAAO,MACpB+7B,GAAa/7B,iBAAO,MAC1BnB,2BAAgB,WAEc,oBAArB8Y,GACLA,EAAiB,CACf,CAAE3/B,IAAKqgB,EAAQuI,QAASlvB,KAAM,4BAC9B,CAAEsG,IAAK8jD,EAAWl7B,QAASlvB,KAAM,4BAEjC,CAAEsG,IAAK+jD,GAAWn7B,QAASlvB,KAAM,gCAGpC,IAEHmtB,2BAAgB,WAId,IAAmB,WAAhBqF,GAA8B2B,KAGd,WAAhB3B,GAA+BnM,GAAW8N,GAAiBC,IAG1D4R,EAAJ,CAGA,IAAIgG,EAAY/4B,eAAeM,QAAQ,aACrCR,KAAKS,MAAMP,eAAeM,QAAQ,cAClC,GACI04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAIwX,EAAkBjH,EAAKp/B,OAASmM,KAAKS,MAAMwyB,EAAKp/B,OACpD,GAAmB,WAAhB4rB,IAA8B2B,GAAgBC,GAAc,CAE7D,IAAIzkB,EAAM0P,GAAa,iCAAmC8U,EAC1D,aACkB,WAAhB3B,EACAyZ,EACA7X,GAEF,eACkB,WAAhB5B,EACAnM,EACA,IAEF,cAAgB4mB,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,KAAK,CACrC,IAAI4U,EAAG,2BACFmQ,GADE,IAELs9B,SAAUxtC,EAAO7U,KACjBwhD,QAAS3sC,EAAO7U,OAElB+nD,EAAenzC,OAKvB,GAAmB,WAAhBgc,EAA0B,CAE3B,IAAI7iB,EAAM0P,GAAa,iCAAmC8U,EAC1D,YAAcC,EACd,eACkB,WAAhB5B,EACAnM,EACA,IAEF,cAAgB4mB,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,KAAK,CACrC,IAAI4U,EAAM,CACR4sC,QAAS3sC,EAAO7U,MAGlB+N,EAAM0P,GAAa,4CAA8CgH,EACjEtG,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAChC4U,EAAIytC,SAAWxtC,EAAO7U,KACtB+nD,EAAenzC,eAQ9B,CAACwvB,EAAM7R,EAAcC,EAAc5B,EAAc+M,IAGpDpS,2BAAgB,WACd,GAAmB,WAAhBqF,GAA6B2B,EAAa,CAC3C,IAAIxkB,EAAM0P,GAAa,qCACvB0G,EACA,YAAcqO,EACd,YAAcD,EACdpU,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9B0kC,EAAe7vB,EAAO7U,MACtB4kC,EAAqB/vB,EAAO7U,aAKrC,CAAC4wB,EAAcnM,EAAQ8N,EAAcC,EAAc4R,EAAMzG,IAE5DpS,2BAAgB,WAEZ,GAAmB,WAAhBqF,GAA8BnM,GAAW2f,EAA5C,CAGA,IAAIngB,EAAWmgB,GAAQA,EAAKp/B,OAASmM,KAAKS,MAAMwyB,EAAKp/B,OAEjD+I,EAAM0P,GAAa,gDAAkDgH,EAEzE,cAAgBR,EAASsmB,UAAUx4B,OAAO,EAAG,IAC7C,YAAckS,EAASumB,QAAQz4B,OAAO,EAAG,IACzCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BqoD,EAAoBxzC,EAAO7U,SAGnC+N,EAAM0P,GAAa,2DAA6DgH,EAChF,aAAeN,EAEf,cAAgBF,EAASsmB,UAAUx4B,OAAO,EAAG,IAC7C,YAAckS,EAASumB,QAAQz4B,OAAO,EAAG,IACzCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BuoD,EAAY1zC,EAAO7U,KAAK0oD,mBAGjC,CAACtkB,EAAM7R,EAAcC,EAAc5B,EAAc+M,IAEpD,IAAMsN,GAAiB,SAACjrC,EAAMN,GAC1B,IAAIukB,EAAWmgB,GAAQA,EAAKp/B,OAASmM,KAAKS,MAAMwyB,EAAKp/B,OACrD,GAAW,QAARtF,EAAe,CAEhB,IAAIqO,EAAM0P,GAAa,gDAAkDzd,EAAKs0B,OAE9E,cAAgBrQ,EAASsmB,UAAUx4B,OAAO,EAAG,IAC7C,YAAckS,EAASumB,QAAQz4B,OAAO,EAAG,IACzCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9BqoD,EAAoBxzC,EAAO7U,MAC3BglC,EAAiB,cAI3B,GAAW,QAARtlC,EAAe,CAEhB,IAAIqO,EAAM0P,GAAa,2DAA6Dzd,EAAKs0B,OACzF,aAAenQ,EAEf,cAAgBF,EAASsmB,UAAUx4B,OAAO,EAAG,IAC7C,YAAckS,EAASumB,QAAQz4B,OAAO,EAAG,IACzCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9BuoD,EAAY1zC,EAAO7U,KAAK0oD,aACxB1jB,EAAiB,gBAiG/B,OACE,yBAAK7gC,UAAU,gBAAgBQ,GAAG,aAChC,kBAAC,GAAD,CACEy3B,QAAS,2BACT13B,IAAKqgB,EACLmX,YACkB,WAAhBtL,GAA6C,WAAhBA,IAC7B,yBAAKzsB,UAAU,qBACb,0BACAA,UAAU,SACVS,QAAS,WAILqjD,GAAuB,KAN3B,iEAaJnuB,SAAS,GAEP,kBAAC,GAAD,CACAlJ,aAAcA,EACd2B,aAAcA,EACdC,aAAcA,EACdkL,YAAa0G,EACbzG,QAASA,EACT39B,KAAM8nD,KAEV,kBAAC,GAAD,CAAKhuB,SAAS,EAAOsC,QAAS,2BAAQ13B,IAAK8jD,GACvC,kBAAC,GAAD,CACAj2B,aAAcA,EACdC,aAAcA,EACdkL,YAAa0G,EACbzG,QAASA,EACT/M,aAAcA,KAElB,kBAAC,GAAD,CACAkJ,SAAS,EACTsC,QAAS,2BACT13B,IAAK+jD,GACLvsB,YACgB,WAAhBtL,GAA6C,WAAhBA,IAC7B,yBAAKzsB,UAAU,qBACb,0BACAA,UAAU,SACVS,QAAS,WAILujD,GAAe,KANnB,sDAaE,kBAAC,GAAD,CACA51B,aAAcA,EACdC,aAAcA,EACdkL,YAAa0G,EACbzG,QAASA,EACT/M,aAAcA,KAElB,kBAAC,GAAD,CACIlxB,KAAK,IACLjB,MAAM,uCACNuN,QAASg8C,EACTlmD,KAAM,kBAAImmD,GAAuB,IACjClmD,SAAU,WACW,WAAhB6uB,GACDoU,EAAiB,QAEnBijB,GAAuB,IACzBv8C,OAAQ,KACRlJ,MAAO,IACP2B,UAAU,sBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,KAuBtB,QAAjB8hB,EACA,6BACE,uBAAG5gC,UAAU,aAAb,SAA0B,8BAC1BsgC,EAAYn2B,QADZ,UAGA,wBAAInK,UAAU,eACZ,kBAAC,IAAD,CACAu+B,YAAU,EACVC,cAAe,KAEXgC,EAAkBr2B,OAAS,EAC3Bq2B,EAAkBx8B,KAAI,SAACC,EAAMiD,GAC3B,OACA,wBAAIlN,IAAKkN,EAAOzG,QAAS,kBAAIqmC,GAAe7iC,EAAM,UAChD,uBAAGjE,UAAU,cAAc9B,MAAO,CAChCimB,gBAEElgB,EAAK4rB,UACL5rB,EAAK4rB,UACL,MAGJ,uBAAGv1B,MAAO2J,EAAK47B,UAAW57B,EAAK47B,cAInC,kBAAC,GAAD,CACA7/B,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,YAChBl5B,MAAO,2BACPiB,KAAM,SAQd,6BAEoB,WAAhBkxB,EACA,0BAAMzsB,UAAU,cAAcS,QAAS,kBAAIogC,EAAiB,UAA5D,wCACA,GAGF,kBAAC,GAAD,CACA3iC,MAAO,CAACsoC,UAAW,IACnBlP,YAheY,CAKtB,CACEt9B,IAAK,WACLC,KAAM,gBAER,CACED,IAAK,SACLC,KAAM,gBAER,CACED,IAAK,SACLC,KAAM,gBAER,CACED,IAAK,WACLC,KAAM,OAER,CACED,IAAK,aACLC,KAAM,6BA0cE4B,KAAMooD,MAMd,kBAAC,GAAD,CACI1oD,KAAK,IACLjB,MAAM,uCACNuN,QAASk8C,EACTpmD,KAAM,kBAAIqmD,GAAe,IACzBpmD,SAAU,WACW,WAAhB6uB,GACDoU,EAAiB,QAEnBmjB,GAAe,IACjBz8C,OAAQ,KACRlJ,MAAO,IACP2B,UAAU,sBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,KAuBtB,QAAjB8hB,EACA,6BACE,uBAAG5gC,UAAU,aAAb,SAA0B,8BAC1BsgC,EAAYn2B,QADZ,UAGA,wBAAInK,UAAU,eACZ,kBAAC,IAAD,CACAu+B,YAAU,EACVC,cAAe,KAEXgC,EAAkBr2B,OAAS,EAC3Bq2B,EAAkBx8B,KAAI,SAACC,EAAMiD,GAC3B,OACA,wBAAIlN,IAAKkN,EAAOzG,QAAS,kBAAIqmC,GAAe7iC,EAAM,UAChD,uBAAGjE,UAAU,cAAc9B,MAAO,CAChCimB,gBAEElgB,EAAK4rB,UACL5rB,EAAK4rB,UACL,MAGJ,uBAAGv1B,MAAO2J,EAAK47B,UAAW57B,EAAK47B,cAInC,kBAAC,GAAD,CACA7/B,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,YAChBl5B,MAAO,2BACPiB,KAAM,SAQd,6BAEoB,WAAhBkxB,EACA,0BAAMzsB,UAAU,cAAcS,QAAS,kBAAIogC,EAAiB,UAA5D,wCACA,GAGF,kBAAC,GAAD,CACA3iC,MAAO,CAACsoC,UAAW,IACnBlP,YAhiBY,CACtB,CACEt9B,IAAK,WACLC,KAAM,4BAER,CACED,IAAK,cACLC,KAAM,wCAER,CACED,IAAK,SACLC,KAAM,4BAER,CACED,IAAK,aACLC,KAAM,iBAkhBE4B,KAAMsoD,OAUtB,IAAMp2B,GAAkB,SAAC9wB,GAAW,IAAD,EAS7BA,EAPFjB,WAF+B,IAG7B8jB,SAQJ,MAAO,CAACiD,WAXyB,EAI3BA,WAOcD,SAXa,EAK3BA,SAMwBnD,SAXG,EAO7BA,WAMWsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW4+B,MCtnBpDpqC,I,OAAeiR,GAAfjR,YACN,SAASkrC,GAAgBxnD,EAAOuD,GAAM,IAE9Bg5B,EAMAv8B,EANAu8B,YACAlL,EAKArxB,EALAqxB,aACAD,EAIApxB,EAJAoxB,aACAoL,EAGAx8B,EAHAw8B,QACA/M,EAEAzvB,EAFAyvB,aACWzM,EACXhjB,EADA2iB,SAAWK,SAPkB,EASCmD,mBAAS,IATV,mBAS1BshC,EAT0B,KASfC,EATe,OAUGvhC,mBAAS,IAVZ,mBAU1BwhC,EAV0B,KAUdC,EAVc,KAyGjC,OA9FAx9B,2BAAgB,WACZ,IAAI8f,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACxE,IAAmB,WAAhB4rB,GAA8B2B,KAGd,WAAhB3B,GAA8B2B,GAAjC,CAIA,IAAIxkB,EAAM0P,GAAa,6CACvB8U,EACA,eAAiB8Y,EAAgBd,UAAUc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACpF,aAAes5B,EAAgBb,QAAQa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC9EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,MAAM,CAClD,IAAIs2B,EAAMzhB,EAAO7U,KAAKu2B,OAAO,EAAG,GAChCsyB,EAAavyB,OAIrBvoB,EAAM0P,GAAa,gDAAkD8U,EACrE,cAAgB8Y,EAAgBd,UAAUx4B,OAAO,EAAG,IAAM,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAC1GoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,MAAM,CAClD,IAAIs2B,EAAMzhB,EAAO7U,KAAKu2B,OAAO,EAAG,GAChCwyB,EAAczyB,UAGvB,CAACoH,EAAYlL,EAAcD,EAAcoL,IAC5CpS,2BAAgB,WAEZ,IAAI8f,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACxE,GAAmB,WAAhB4rB,IAA6B2B,EAAhC,CAIA,IAAIxkB,EAAM0P,GAAa,kEAAoE+U,EAC3F,aAAerO,EACf,eAAiBknB,EAAgBd,UAAUc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACpF,aAAes5B,EAAgBb,QAAQa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC9EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,MAAM,CAClD,IAAIs2B,EAAM,GACVzhB,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACjB,IAAIwM,EAAG,2BACAxM,EAAK4gD,WADL,IAEHC,aAAc7gD,EAAK6gD,eAEvB3yB,EAAIrnB,KAAK2F,MAEb,IAAIs0C,EAAO5yB,EAAIC,OAAO,EAAG,GACzBsyB,EAAaK,OAIrBn7C,EAAM0P,GAAa,qEAAuE+U,EAC1F,aAAerO,EACf,eAAiBknB,EAAgBd,UAAUc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IACpF,aAAes5B,EAAgBb,QAAQa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,IAC9EoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACH,GAAoB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,MAAM,CAClD,IAAIs2B,EAAM,GACVzhB,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACjB,IAAIwM,EAAG,2BACAxM,EAAK4gD,WADL,IAEHG,YAAa/gD,EAAK+gD,cAEtB7yB,EAAIrnB,KAAK2F,MAEb,IAAIs0C,EAAO5yB,EAAIC,OAAO,EAAG,GACzBwyB,EAAcG,UAGvB,CAACxrB,EAAalL,EAAcD,EAAcoL,IAEzC,yBAAKx5B,UAAU,qBACX,yBAAKA,UAAU,cACX,uBAAGA,UAAU,eACb,wBAAIA,UAAU,aAENykD,EAAUt6C,OAAS,EACnBs6C,EAAUzgD,KAAI,SAACC,EAAMiD,GACjB,OACI,wBAAIlN,IAAKkN,GACL,uBAAGlH,UAAW,aACJ,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,MAEIjD,EAAKghD,aACL,yBAAKt8B,IAAK1kB,EAAKghD,eACf,GAEJ,0BACAjlD,UAAU,YACV1F,MAAO2J,EAAKihD,UAAYjhD,EAAKjE,WAC3BiE,EAAKihD,UAAYjhD,EAAKjE,WACxB,0BACAA,UAAW,eACD,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,IACA5M,MAAO2J,EAAK6gD,cANZ,eAOI7gD,EAAK6gD,aAPT,0BAWZ,kBAAC,GAAD,CACA9kD,UAAW,YACX1F,MAAO,2BACPiB,KAAM,QAKlB,yBAAKyE,UAAU,eACf,yBAAKA,UAAU,eACX,uBAAGA,UAAU,gBACb,wBAAIA,UAAU,aAEN2kD,EAAWx6C,OAAS,EACpBw6C,EAAW3gD,KAAI,SAACC,EAAMiD,GAClB,OACI,wBAAIlN,IAAKkN,GACL,uBAAGlH,UAAU,aAETiE,EAAKghD,aACL,yBAAKt8B,IAAK1kB,EAAKghD,eACf,GAEJ,0BACAjlD,UAAU,YACV1F,MAAO2J,EAAKihD,UAAYjhD,EAAKjE,WAC3BiE,EAAKihD,UAAYjhD,EAAKjE,WACxB,0BACAA,UAAW,eACD,GAATkH,EAAY,MACJ,GAATA,EAAY,MACH,GAATA,EAAY,QACZ,IACA5M,MAAO2J,EAAK+gD,aANZ,eAOI/gD,EAAK+gD,YAPT,0BAWZ,kBAAC,GAAD,CACAhlD,UAAW,YACX1F,MAAO,2BACPiB,KAAM,SAS9B,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAAD,EAG3BA,EADAjB,WAEJ,MAAO,CAAE23B,UAJsB,EAEbA,UAEEhU,SAJW,EAEFA,WAIlBsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW0/B,MC1LlDlrC,GAAeiR,GAAfjR,WACC3c,GAAUC,KAAVD,OAEP,SAASwoD,GAASnoD,EAAOuD,GAAM,IAEvBksB,EAMAzvB,EANAyvB,aACA8M,EAKAv8B,EALAu8B,YACAlL,EAIArxB,EAJAqxB,aACAD,EAGApxB,EAHAoxB,aALsB,EAQtBpxB,EAFA2iB,SAAYW,EANU,EAMVA,OAAQN,EANE,EAMFA,SACpBwZ,EACAx8B,EADAw8B,QAPsB,EASQrW,mBAAS,IATjB,mBASnBshC,EATmB,KASRC,EATQ,OAU0BvhC,mBAAS,IAVnC,mBAUnBiiC,EAVmB,KAUCC,EAVD,OAWkBliC,mBAAS,IAX3B,mBAWHmiC,GAXG,aAaMniC,mBAAS,KAbf,mBAanBoiC,EAbmB,KAaTC,EAbS,KAcpBC,EAAiB,CACnB,EAAK,qBACL,EAAK,qBACL,EAAK,qBACL,KAAM,gBAENpc,EAAY,CACZ,IAAIC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAIfmhB,2BAAgB,WACZ,IAUIxd,EAVAs9B,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,QAC/C,WAAhB4rB,GAA8B4B,GAAiBD,MAG/B,WAAhB3B,GAA+BnM,GAAW8N,GAAiBC,IAG1D6Y,EAAgBd,WAAcc,EAAgBb,UAI/B,WAAhB5Z,GAA8B2B,KAGjCxkB,EAAM0P,oEAEQ+U,EACd,cAAgB6Y,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5CypD,EAAkB50C,EAAO7U,aAGlC,CAAC09B,EAAanL,EAAcC,EAAcmL,IAC7CpS,2BAAgB,WACZ,IAAI8f,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAClE,GAAIqmC,EAAgBd,WAAcc,EAAgBb,UAG/B,WAAhB5Z,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B4B,GAAiBD,KAG/B,WAAhB3B,GAA8B2B,GAAjC,CAGA,IAAIxkB,EACJ,GAAmB,WAAhB6iB,EAA0B,CACzB,IAAInM,EACA,OAEJ1W,EAAM0P,GAAa,gDACF,WAAhBmT,EAA2BnM,EAAQ,IACpC,cAAgB4mB,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,QAC7C,CACH,GAAmB,WAAhB6e,IAA8B2B,EAC7B,OAEJxkB,EAAM0P,2DACQ8U,EACd,YAAcC,EACd,cAAgB6Y,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAEpDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,MAC5C6oD,EAAah0C,EAAO7U,MAEpB6oD,GAAa,SAGtB,CAACnrB,EAAanL,EAAcC,EAAcmL,IAE7CpS,2BAAgB,WACZ,IAAI8f,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAClE,GAAIqmC,EAAgBd,WAAcc,EAAgBb,UAG/B,WAAhB5Z,GAA8B4B,GAAiBD,KAG/B,WAAhB3B,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,GAAjC,CAGA,IAAIxkB,EAAM0P,GAAa,iDACH,WAAhBmT,EACAnM,EACgB,WAAhBmM,EACA2B,EACgB,WAAhB3B,EACA2B,IAEAC,GAEA,IACA,IAEJ,eACoB,WAAhB5B,EACA,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,IAEJ,eAAiBk3B,EACjB,cAAgBre,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5CwpD,EAAsB30C,EAAO7U,YAGtC,CAAC09B,EAAanL,EAAcC,EAAc/N,EAAQmM,EAAc84B,EAAU/rB,IAG7EpS,2BAAgB,WACZ,IAAI8f,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACxE,GAAIqmC,EAAgBd,WAAcc,EAAgBb,SAG/B,WAAhB5Z,IAA6B2B,IAAgBC,EAAhD,CAGA,IAAKzkB,EAAM0P,0EACI0G,EACf,cAAgBknB,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChD,uBACAoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,KAC9B6oD,EAAah0C,EAAO7U,KAAK6pD,SAEzBhB,GAAa,SAGtB,CAACnrB,EAAanL,EAAcC,EAAcmL,EAASxZ,IAEtDoH,2BAAgB,WACZ,IAAI8f,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACxE,GAAIqmC,EAAgBd,WAAcc,EAAgBb,SAG/B,WAAhB5Z,IAA6B2B,IAAgBC,EAAhD,CAGA,IAAIzkB,EAAM0P,kFACK0G,EACf,eAAiBulC,EACjB,cAAgBre,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5CwpD,EAAsB30C,EAAO7U,YAGtC,CAAC09B,EAAanL,EAAcC,EAAc/N,EAAQmM,EAAc84B,EAAU/rB,IAC7E7V,qBAAU,WACN,GAAI8gC,GAAiC,GAApBA,EAAUt6C,OAA3B,CAIA,IAAIs7C,EAAiBhB,EAAUzgD,KAAI,SAACC,GAChC,OAAOA,EAAK0hD,kBAEhBF,EAAc,aAAO,IAAIla,IAAIka,IAC7B,IAAIlrB,EAAW,GACfkrB,EAAex5C,SAAQ,SAAChI,GACpB,IAAIkuB,EAAM,GACVsyB,EAAUx4C,SAAQ,SAACjF,GACZA,EAAM2+C,gBAAkB1hD,GACvBkuB,EAAIrnB,KAAKqnB,MAGjB,IAAI1hB,EAAM,CACNxW,KAAMgK,EACNpD,MAAOsxB,EAAIhoB,QAEfowB,EAASzvB,KAAK2F,MAElB,IAAIyrB,EAAWC,KAAav9B,SAASyP,eAAe,yBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTs1B,QAAS,CACLC,QAAS,QAEbC,KAAM,CACFn/B,IAAK,EACLo/B,MAAO,EACPC,OAAQ,EACRt/B,KAAM,GAEV5C,MAAO,CACHq6B,KAAM,6CACNz3B,KAAM,SACNC,IAAK,MACLs/B,UAAW,CACP3d,QAAS,CAAC,EAAG,EAAG,GAAI,GACpB4d,SAAU,GACVuN,WAAY,SAGpBtN,gBAAiB,CACbphC,KAAM,SACNygC,EAAG,GACHY,EAAG,IACHC,EAAG,IAEHC,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,GACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,oBAET,CACE82B,OAAQ,EACR92B,MAAO,sBAIfA,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,QAC/D+2B,OAAQ,CACJ,CACI/iC,KAAM,2BACNsB,KAAM,MACN0hC,OAAQ,CAAC,MAAO,OAChBC,OAAQ,CAAC,MAAO,OAChBC,SAAU,GACVC,mBAAmB,EACnBC,MAAO,CACHx/B,MAAM,EACNoI,MAAO,OACPmkC,UAAU,aAEd9M,SAAU,CACNC,UAAW,CACPC,YAAa,GACb55B,YAAa,wBAIrB/H,KAAM0+B,KAIlB2B,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAACw0C,IACJ9gC,qBAAU,WACN,GAAI8gC,GAAiC,GAApBA,EAAUt6C,OAA3B,CAIA,IAAIy7C,EAAiBnB,EAAUzgD,KAAI,SAACC,GAChC,OAAOwhD,EAAexhD,EAAK4hD,YAAaJ,EAAexhD,EAAK4hD,YAAa,kBAE7ED,EAAc,aAAO,IAAIra,IAAIqa,IAC7B,IAAIrrB,EAAW,GACfqrB,EAAe35C,SAAQ,SAAChI,GACpB,IAAIkuB,EAAM,GACVsyB,EAAUx4C,SAAQ,SAACjF,GACfA,EAAM6+C,WAAa7+C,EAAM6+C,WAAY7+C,EAAM6+C,WAAY,KACpDJ,EAAez+C,EAAM6+C,aAAe5hD,GACnCkuB,EAAIrnB,KAAKqnB,MAGjB,IAAI1hB,EAAM,CACNxW,KAAMgK,EACNpD,MAAOsxB,EAAIhoB,QAEfowB,EAASzvB,KAAK2F,MAElB,IAAIyrB,EAAWC,KAAav9B,SAASyP,eAAe,0BACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTs1B,QAAS,CACLC,QAAS,QAEbC,KAAM,CACFn/B,IAAK,EACLo/B,MAAO,EACPC,OAAQ,EACRt/B,KAAM,GAEV5C,MAAO,CACHq6B,KAAM,6CACNz3B,KAAM,SACNC,IAAK,MACLs/B,UAAW,CACP3d,QAAS,CAAC,EAAG,EAAG,GAAI,GACpB4d,SAAU,GACVuN,WAAY,SAGpBtN,gBAAiB,CACbphC,KAAM,SACNygC,EAAG,GACHY,EAAG,IACHC,EAAG,IAEHC,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,GACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,oBAET,CACE82B,OAAQ,EACR92B,MAAO,sBAIfA,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,QAC/D+2B,OAAQ,CACJ,CACI/iC,KAAM,2BACNsB,KAAM,MACN0hC,OAAQ,CAAC,MAAO,OAChBC,OAAQ,CAAC,MAAO,OAChBC,SAAU,GACVC,mBAAmB,EACnBC,MAAO,CACHx/B,MAAM,EACNoI,MAAO,OACPmkC,UAAU,aAEd9M,SAAU,CACNC,UAAW,CACPC,YAAa,GACb55B,YAAa,wBAIrB/H,KAAM0+B,KAIlB2B,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAACw0C,IACJ9gC,qBAAU,WACN,GAAIyhC,GAAmD,GAA7BA,EAAmBj7C,OAA7C,CAGA,IAAIs/B,EAAQ,GAAI+E,EAAS,GAAIvI,EAAY,GAAIwK,EAAY,GAAIqV,EAAe,GAAIC,EAAe,GAE3F7pB,EAAWC,KAAav9B,SAASyP,eAAe,2BACpD6tB,EAASjsB,SACT,IAAIu5B,EAAa,GAAwB4W,EAAa,GACtD,GAAmB,WAAhB3zB,GAA8B2B,GAAiBC,EAyCxCD,IAAiBC,GACvB+2B,EAAmBn5C,SAAQ,SAAChI,GACxBwlC,EAAM3+B,KAAK7G,EAAKspB,OAChBihB,EAAO1jC,KAAkC,iBAAtB7G,EAAK+hD,cAA2B/hD,EAAK+hD,cAAc/zC,QAAQ,GAAI,MAClFg0B,EAAUn7B,KAA+B,iBAAnB7G,EAAKgiD,WAAwBhiD,EAAKgiD,WAAWh0C,QAAQ,GAAI,MAC/Ew+B,EAAU3lC,KAA+B,iBAAnB7G,EAAKiiD,WAAwBjiD,EAAKiiD,WAAWj0C,QAAQ,GAAI,MAC/E6zC,EAAah7C,KAA+B,iBAAnB7G,EAAKkiD,WAAwBliD,EAAKkiD,WAAY,MACvEJ,EAAaj7C,KAA+B,iBAAnB7G,EAAK47C,WAAwB57C,EAAK47C,WAAY,SAE3ErW,EAAa,CACT,CACIvvC,KAAK,2BACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAMoqC,GAEV,CACIhsC,KAAK,2BACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAMiqD,GAEV,CACI7rD,KAAK,2BACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM40C,MAIPriB,GAAgBC,GACvB+2B,EAAmBn5C,SAAQ,SAAChI,GACxBwlC,EAAM3+B,KAAK7G,EAAKspB,OAChBihB,EAAO1jC,KAAkC,iBAAtB7G,EAAK+hD,cAA2B/hD,EAAK+hD,cAAc/zC,QAAQ,GAAI,MAClFg0B,EAAUn7B,KAA+B,iBAAnB7G,EAAKgiD,WAAwBhiD,EAAKgiD,WAAWh0C,QAAQ,GAAI,MAC/Ew+B,EAAU3lC,KAA+B,iBAAnB7G,EAAKiiD,WAAwBjiD,EAAKiiD,WAAWj0C,QAAQ,GAAI,MAC/E6zC,EAAah7C,KAA+B,iBAAnB7G,EAAKkiD,WAAwBliD,EAAKkiD,WAAY,MACvEJ,EAAaj7C,KAA+B,iBAAnB7G,EAAK47C,WAAwB57C,EAAK47C,WAAY,SAE3ErW,EAAa,CACT,CACIvvC,KAAK,2BACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM40C,GAEV,CACIx2C,KAAK,2BACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAMkqD,KAGQ,WAAhBt5B,IACN24B,EAAmBn5C,SAAQ,SAAChI,GACxBwlC,EAAM3+B,KAAK7G,EAAKspB,OAChBihB,EAAO1jC,KAAkC,iBAAtB7G,EAAK+hD,cAA2B/hD,EAAK+hD,cAAc/zC,QAAQ,GAAI,MAClFg0B,EAAUn7B,KAA+B,iBAAnB7G,EAAKgiD,WAAwBhiD,EAAKgiD,WAAWh0C,QAAQ,GAAI,MAC/Ew+B,EAAU3lC,KAA+B,iBAAnB7G,EAAKiiD,WAAwBjiD,EAAKiiD,WAAWj0C,QAAQ,GAAI,MAC/E6zC,EAAah7C,KAA+B,iBAAnB7G,EAAKkiD,WAAwBliD,EAAKkiD,WAAY,MACvEJ,EAAaj7C,KAA+B,iBAAnB7G,EAAK47C,WAAwB57C,EAAK47C,WAAY,SAE3ErW,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAM2yC,GAEV,CACIv0C,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAMoqC,GAEV,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAM40C,SAlM6C,CAC3D,IAAI2V,EAAU,GACdhB,EAAmBn5C,SAAQ,SAAChI,GACxBmiD,EAAQt7C,KAAK7G,EAAKoiD,eAEtB7c,EAAW1+B,KAAK,CACZ7Q,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAMuqD,IAEVhB,EAAmBn5C,SAAQ,SAAChI,EAAMiD,GAC9BuiC,EAAM3+B,KAAK7G,EAAKiU,MAChB,IAAIia,EAAM,GACVlrB,MAAM4qB,QAAQ5tB,EAAKgiD,aACnBhiD,EAAKgiD,WAAWh6C,SAAQ,SAACjF,GACrBmrB,EAAIrnB,KAAK9D,EAAM89C,cACf1E,EAAWt1C,KAAK9D,EAAM69C,UAAW79C,EAAM69C,UAAU3xB,UAAW,OAEhEsW,EAAW1+B,KAAK,CAEZvP,KAAK,MAELgiC,UAAW,CACPt3B,MAAOojC,EAAUniC,EAAM,IAE3BrL,KAAMs2B,QAGdiuB,EAAU,aAAO,IAAI7U,IAAI6U,KACdkG,QAAQ,gBA+JvB,IAAIx/C,EAAS,CACTxM,MAAO,CACHq6B,KAAM,2BACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,mDACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,mBAKAq+B,IAGfoL,OAAQ,CACJ/uC,KAAM,SACN8C,MAAO,MACPlB,IAAK,OACLD,KAAM,SACNrB,KAAuB,WAAhB4wB,GAA8B2B,GAAiBC,EAA0B,GAAZ+xB,EAEpE3jB,UAAW,CACPx2B,MAAO,YAGfskC,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,aAInB4kC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZyO,MAAO,CACH1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAACm1C,EAAoB34B,IACxB,IAAI85B,EAAkB,GAClBp0B,EAAM,GASV,OAPAlrB,MAAM4qB,QAAQ4yB,IAAcA,EAAUx4C,SAAQ,SAAChI,EAAMiD,GACjDirB,EAAIrnB,KAAK7G,IACLiD,EAAQ,GAAK,GAAK,GAAKA,GAASu9C,EAAUt6C,OAAS,IACnDo8C,EAAgBz7C,KAAKqnB,GACrBA,EAAM,OAIV,yBAAKnyB,UAAU,cAEPiH,MAAM4qB,QAAQ4yB,IAAcA,EAAUt6C,OAAS,EAC/C,6BACI,yBAAKnK,UAAU,kBACf,yBAAKA,UAAU,aAaX,yBAAKA,UAAU,UACViH,MAAM4qB,QAAQ4yB,GAAYA,EAAUt6C,OAAQ,MAGjD,2BACqB,WAAhBsiB,EACD,eACgB,WAAhBA,EACA,eACA,eALJ,6BAQJ,yBAAKzsB,UAAU,eACf,kBAAC,KAAD,CACAgsC,KAAM,CACFhsC,UAAW,cAGPumD,EAAgBviD,KAAI,SAACC,EAAMiD,GACvB,OACI,yBAAKlH,UAAU,aAAahG,IAAKkN,GAE7BjD,EAAKD,KAAI,SAACgD,EAAO0wB,GACb,OACA,yBAAK13B,UAAU,YAAYhG,IAAK09B,GAC5B,uBAAG13B,UAAW,cAEU,GAApBgH,EAAMw/C,YAAuC,GAApBx/C,EAAM6+C,WAC/B,UACoB,GAApB7+C,EAAMw/C,YAAuC,GAApBx/C,EAAM6+C,WAC/B,UACoB,GAApB7+C,EAAMw/C,YAAuC,GAApBx/C,EAAM6+C,WAC/B,UACA,MAGJ,uBAAGvrD,MAAO0M,EAAM2+C,eAAiB3+C,EAAMy/C,WAClCz/C,EAAM2+C,eAAiB3+C,EAAMy/C,WAElC,uBAAGnsD,MAAOmrD,EAAez+C,EAAM6+C,aAC1BJ,EAAez+C,EAAM6+C,aAGN,WAAhBp5B,EACA,uBACAnyB,MAAO0M,EAAMopB,YACblyB,MAAO,CAAC+H,MAAO,YAFf,IAGGe,EAAMopB,YAHT,KAIA,aAYpC,yBAAKpwB,UAAU,oBACX,yBAAKA,UAAU,uBAAuBQ,GAAG,yBACzC,yBAAKR,UAAU,eACf,yBAAKA,UAAU,wBAAwBQ,GAAG,4BAK9C,kBAAC,GAAD,CAEAtC,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,MAKN6pD,EAAmBj7C,OAAS,EAC5B,yBAAKnK,UAAU,uBACX,yBAAKA,UAAU,oBACX,+CACA,kBAAC,KAAD,CACAmvC,aAAa,IACbnvC,UAAU,SACV0D,SAAU,SAAC7C,GAAD,OAAS2kD,EAAY3kD,KAC3B,kBAAC,GAAD,CAAQA,MAAM,KAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,wBAGR,yBAAKb,UAAU,yBAAyBQ,GAAG,4BAE/CyG,MAAM4qB,QAAQ4yB,IAAcA,EAAUt6C,OAAS,EAC/C,kBAAC,GAAD,CAEAjM,MAAO,CAACs1B,OAAQ,SAAUkzB,cAAe,IACzCpsD,MAAO,2BACPiB,KAAM,MAEN,IAQhB,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAAD,EAG3BA,EADAjB,WAEJ,MAAO,CAAE23B,UAJsB,EAEbA,UAEEhU,SAJW,EAEFA,WAIlBsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWqgC,MCx6BlD7rC,GAAeiR,GAAfjR,WACC3c,GAAUC,KAAVD,OAEP,SAASgqD,GAAU3pD,EAAOuD,GAAM,IAExBksB,EAMAzvB,EANAyvB,aACA8M,EAKAv8B,EALAu8B,YACAlL,EAIArxB,EAJAqxB,aACAD,EAGApxB,EAHAoxB,aALuB,EAQvBpxB,EAFA2iB,SAAYW,EANW,EAMXA,OAAON,EANI,EAMJA,SACnBwZ,EACAx8B,EADAw8B,QAPuB,EASSrW,mBAAS,IATlB,mBASpByjC,EAToB,KASRC,EATQ,OAUS1jC,mBAAS,IAVlB,mBAUpBwhC,EAVoB,KAURC,EAVQ,OAWqBzhC,mBAAS,IAX9B,mBAWpB2jC,EAXoB,KAWFC,EAXE,OAamB5jC,mBAAS,KAb5B,mBAapB6jC,EAboB,KAaHC,EAbG,KAcvB5d,EAAY,CACZ,IAAIC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,aAEX,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CACpCvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfmhB,2BAAgB,WACZ,IAaIxd,EAbAs9B,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAC9DqmC,EAAgBd,WAAcc,EAAgBb,WAG/B,WAAhB5Z,GAA8B4B,GAAiBD,KAG/B,WAAhB3B,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,KAK7BxkB,EAAM0P,GAAa,mDACC,WAAhBmT,EACAnM,EACA,IAEJ,YAAc8N,EACd,YAAcC,EACd,cAAgB6Y,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAEpDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5C+oD,EAAcl0C,EAAO7U,aAG9B,CAAC09B,EAAanL,EAAcC,EAAcmL,IAC7CpS,2BAAgB,WACZ,IA4BIxd,EA5BAs9B,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,QAC/C,WAAhB4rB,GAA8B4B,GAAiBD,KAG9C8Y,EAAgBd,WAAcc,EAAgBb,UAG/B,WAAhB5Z,GAA+BnM,GAAW8N,GAAiBC,KAG3C,WAAhB5B,GAA8B2B,KAIR,WAAhB3B,EACTnM,EACgB,WAAhBmM,EACA2B,EACgB,WAAhB3B,EACA2B,IAEAC,GAEArO,GACA,MAMIpW,EAAM0P,GAAa,oDACC,WAAhBmT,EACAnM,EACgB,WAAhBmM,EACA2B,EACgB,WAAhB3B,EACA2B,IAEAC,GAEArO,GACA,IAEJ,eACoB,WAAhByM,EACA,EACgB,WAAhBA,EACA,EACgB,WAAhBA,EACA2B,EACA,EACAC,EACA,EACA,EACA,IAEJ,eAAiB24B,EACjB,cAAgB9f,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAEpDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5CgrD,EAAcn2C,EAAO7U,aAG9B,CAAC09B,EAAanL,EAAcC,EAAc24B,EAAiBxtB,IAE9DpS,2BAAgB,WACZ,IAOIxd,EAPAs9B,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAC9DqmC,EAAgBd,WAAcc,EAAgBb,UAG/B,WAAhB5Z,GAA6B4B,GAAgBD,IAK5CxkB,EAAM0P,qFACS0G,EACf,cAAgBknB,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAEpDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BkrD,EAAoBr2C,EAAO7U,aAGpC,CAAC09B,EAAanL,EAAcC,EAAcmL,EAASxZ,IACtDoH,2BAAgB,WACZ,IAAI8f,EAAkB3N,EAAY14B,OAASmM,KAAKS,MAAM8rB,EAAY14B,OAClE,GAAmB,WAAhB4rB,IAA6B4B,IAAgBD,GAG5C8Y,EAAgBd,WAAcc,EAAgBb,QAAlD,CAGA,IAAIz8B,EAAM0P,qFACK0G,EACf,eAAiBgnC,EACjB,cAAgB9f,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5CgrD,EAAcn2C,EAAO7U,YAG9B,CAAC09B,EAAanL,EAAcC,EAAc24B,EAAiBxtB,IAC9D7V,qBAAU,WACN,IAAIuY,EAAWC,KAAav9B,SAASyP,eAAe,4BACpD6tB,EAASjsB,SACT,IAAIu+B,EAAS,GAAIvI,EAAY,GAAIwK,EAAY,GAAIhH,EAAQ,GAErDD,EAAa,GAAI4W,EAAa,GAClC,GAAmB,WAAhB3zB,GAA8B4B,GAAiBD,EAyCxB,WAAhB3B,GACNm6B,GAAcA,EAAW36C,SAAQ,SAAChI,GAC9BuqC,EAAO1jC,KAAK7G,EAAK+hD,eACjB/f,EAAUn7B,KAAK7G,EAAKgiD,YACpBxV,EAAU3lC,KAAK7G,EAAKiiD,YACpBzc,EAAM3+B,KAAK7G,EAAKspB,UAEpBic,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK2yC,GAET,CACIv0C,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,MAIPriB,GAwDAC,KAvDNu4B,GAAcA,EAAW36C,SAAQ,SAAChI,GAC9BuqC,EAAO1jC,KAAK7G,EAAK+hD,eACjB/f,EAAUn7B,KAAK7G,EAAKgiD,YACpBxV,EAAU3lC,KAAK7G,EAAKiiD,YACpBzc,EAAM3+B,KAAK7G,EAAKspB,UAEpBic,EAAa,CAiBT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,2BACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,SArJ8C,CAC3D,IAAI2V,EAAU,GACdQ,EAAW36C,SAAQ,SAAChI,GAChBmiD,EAAQt7C,KAAK7G,EAAKoiD,eAEtB7c,EAAW1+B,KAAK,CACZ7Q,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAMuqD,IAEVQ,EAAW36C,SAAQ,SAAChI,EAAMiD,GACtBuiC,EAAM3+B,KAAK7G,EAAKiU,MAChB,IAAIia,EAAM,GACVlrB,MAAM4qB,QAAQ5tB,EAAKgiD,aACnBhiD,EAAKgiD,WAAWh6C,SAAQ,SAACjF,GACrBmrB,EAAIrnB,KAAK9D,EAAM89C,cACf1E,EAAWt1C,KAAK9D,EAAM69C,UAAW79C,EAAM69C,UAAU3xB,UAAW,OAEhEsW,EAAW1+B,KAAK,CAEZvP,KAAK,MAELgiC,UAAW,CACPt3B,MAAOojC,EAAUniC,EAAM,IAE3BrL,KAAMs2B,QAGdiuB,EAAU,aAAO,IAAI7U,IAAI6U,KACdkG,QAAQ,gBA0JvB,IAAIx/C,EAAS,CACTw1B,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,mDACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,mBAKAq+B,IAGfvC,gBAAiB,UACjB2N,OACoB,WAAhB7d,GAA8B4B,GAAiBD,EAW/C,CACIjxB,IAAK,MACLD,KAAuB,WAAhBuvB,EAA0B,MAAO,MAExCgQ,UAAW,CACPx2B,MAAO,YAff,CACI1K,KAAM,SACN8C,MAAO,MACPlB,IAAK,MACLD,KAAM,SACNrB,KAAMukD,EACN3jB,UAAW,CACPx2B,MAAO,YAYnB4kC,SAAU,CACNhtC,KAAO4rC,EAAMt/B,OAAS,EACtB2gC,aAAc,EACd4D,aAAc,EACdnwC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,cAEd,CAAC22C,EAAYn6B,IAChB,IAAI05B,EAAa,EAAGe,EAAW,EAAGC,EAAa,EAAGC,EAAc,EAehE,OAdAzC,EAAW14C,SAAQ,SAAChI,GACU,GAAvBA,EAAKojD,gBACJlB,IAEsB,GAAvBliD,EAAKojD,gBACJF,IAEsB,GAAvBljD,EAAKojD,gBACJH,IAEuB,GAAxBjjD,EAAKqjD,iBACJF,OAIJ,yBAAKpnD,UAAU,eACX,yBAAKA,UAAU,eAGPouB,IAAiBC,EACjB,uBAAGruB,UAAU,gBAAb,uCAEI,0BAAM9B,MAAO,CAAC+H,MAAO,YAAakgD,EAAlC,UAFJ,+CAII,0BAAMjoD,MAAO,CAAC+H,MAAO,YAAakhD,EAAlC,WAEY,WAAhB16B,EACA,uBAAGzsB,UAAU,gBAAb,uCAEI,0BAAM9B,MAAO,CAAC+H,MAAO,YAAaihD,EAAlC,UAFJ,+CAII,0BAAMhpD,MAAO,CAAC+H,MAAO,YAAakgD,EAAlC,UAJJ,+CAMI,0BAAMjoD,MAAO,CAAC+H,MAAO,YAAakhD,EAAlC,WAEJ,GAEJ,yBAAKnnD,UAAU,oBACX,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,eAEC,WAAhBysB,GAA8B2B,GAAiBC,EAI/C+4B,EAH4C,iBAArCN,EAAiBS,iBACxBT,EAAiBS,iBACjB,MAGA,wDAEJ,yBAAKvnD,UAAU,oBACX,yBAAKA,UAAU,iBAEC,WAAhBysB,GAA8B2B,GAAiBC,EAI/C84B,EAH2C,iBAApCL,EAAiBU,gBACxBV,EAAiBU,gBACjB,MAGA,wDAEJ,yBAAKxnD,UAAU,oBACX,yBAAKA,UAAU,cAEC,WAAhBysB,GAA8B2B,GAAiBC,EAI/C83B,EAH2C,iBAApCW,EAAiBW,gBACxBX,EAAiBW,gBACjB,MAGA,0DAIZ,yBAAKznD,UAAU,gBACP,yBAAKA,UAAU,gBACX,0DACA,kBAAC,KAAD,CAAQa,MAAOmmD,EAAiBhnD,UAAU,SAAS0D,SAAU,SAAC7C,GAAD,OAASomD,EAAmBpmD,KACrF,kBAAC,GAAD,CAAQA,MAAM,KAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,wBAGZ,yBAAKb,UAAU,0BAA0BQ,GAAG,8BAM5D,IAAMutB,GAAkB,SAAC9wB,GAAW,IAAD,EAG3BA,EADAjB,WAEJ,MAAO,CAAE23B,UAJsB,EAEbA,UAEEhU,SAJW,EAEFA,WAIlBsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW6hC,MCznBlDrtC,GAAeiR,GAAfjR,WACJ,SAASouC,GAAe1qD,EAAOuD,GAAK,IAKhC0/B,EAWEjjC,EAXFijC,KAEAC,GASEljC,EAVF+lB,WAUE/lB,EATFkjC,kBAIAzT,GAKEzvB,EARFskB,SAQEtkB,EAPFukB,UAOEvkB,EANFmjC,WAMEnjC,EALFyvB,cACA2B,EAIEpxB,EAJFoxB,aACAC,EAGErxB,EAHFqxB,aAbgC,EAgB9BrxB,EAFF2iB,SAAWW,EAdqB,EAcrBA,OAAQN,EAda,EAcbA,SACnBwZ,EACEx8B,EADFw8B,QAfgC,EAiBMrW,oBAAS,GAjBf,mBAiB3BwkC,EAjB2B,KAiBbC,EAjBa,OAkBQzkC,oBAAS,GAlBjB,mBAkB3B0kC,EAlB2B,KAkBZC,EAlBY,OAmBA3kC,mBAAS,IAnBT,mBAmB3Bqe,EAnB2B,KAmBhBC,EAnBgB,OAoBIte,mBAAS,IApBb,mBAoB3Bmd,EApB2B,KAoBdC,EApBc,OAqBgBpd,mBAAS,IArBzB,mBAqB3Bqd,EArB2B,KAqBRC,EArBQ,OAsBJtd,mBAAS,IAtBL,gCAwBAA,mBAAS,KAxBT,mBAwB3BshC,EAxB2B,KAwBhBC,EAxBgB,OAyBEvhC,mBAAS,IAzBX,mBAyB3BwhC,EAzB2B,KAyBfC,EAzBe,OA2BQzhC,mBAAyB,WAAhBsJ,EAA2B,SAAU,QA3BtD,mBA2B3BmU,EA3B2B,KA2BZC,EA3BY,KA8B5BknB,EAAiBx/B,iBAAO,MACxBy/B,EAAWz/B,iBAAO,MAClB0/B,EAAY1/B,iBAAO,MACnB2/B,EAAW3/B,iBAAO,MAOlBq9B,EAAiB,CACrB,EAAK,qBACL,EAAK,qBACL,EAAK,qBACL,KAAM,gBAEFuC,GAAqB,CACzB,EAAK,eACL,EAAK,eACL,EAAK,eACL,KAAM,gBA8CR/gC,2BAAgB,WAEc,oBAArB8Y,GACLA,EAAiB,CACf,CAAE3/B,IAAKwnD,EAAe5+B,QAASlvB,KAAM,4BACrC,CAAEsG,IAAKynD,EAAS7+B,QAASlvB,KAAM,4BAC/B,CAAEsG,IAAK0nD,EAAU9+B,QAASlvB,KAAM,4BAEhC,CAAEsG,IAAK2nD,EAAS/+B,QAASlvB,KAAM,gCAGlC,IAEHmtB,2BAAgB,WAEd,IAAmB,WAAhBqF,GAA8BnM,KAGd,WAAhBmM,GAA8B2B,GAAjC,CAGA,IAAI8Y,EAAkBjH,EAAKp/B,OAASmM,KAAKS,MAAMwyB,EAAKp/B,OAChD+I,EAAM0P,GAAa,kCACL,WAAhBmT,EACAnM,EACgB,WAAhBmM,EACA2B,EACgB,WAAhB3B,EACA2B,IAEAC,GAEArO,GACAM,GAEF,eACkB,WAAhBmM,EACA,EACgB,WAAhBA,EACA,EACgB,WAAhBA,EACA,EACA,GAEJ,cAAgBya,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACe,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC9C4lC,EAAa/wB,EAAO7U,YAGrB,CAACokC,EAAM7R,EAAcoL,IAGxBpS,2BAAgB,WACd,GAAmB,WAAhBqF,GAA6B2B,EAAa,CAC3C,IAAIxkB,EAAM0P,GAAa,qCACvB0G,EACA,YAAcqO,EACd,YAAcD,EACdpU,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9B0kC,EAAe7vB,EAAO7U,MACtB4kC,EAAqB/vB,EAAO7U,aAIrC,CAAC4wB,EAAcnM,EAAQ8N,EAAcC,EAAc4R,EAAMzG,IAE5DpS,2BAAgB,WACd,GAAmB,WAAhBqF,EAAH,CAGA,IAAI3M,EAAWmgB,GAAQA,EAAKp/B,OAASmM,KAAKS,MAAMwyB,EAAKp/B,OACjDolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAI5B,IAAI9lB,EAAM0P,GAAa,+CAAiDgH,EACxE,YAAc8N,EACd,YAAc8X,EACd,cAAgBpmB,EAASsmB,UAAUx4B,OAAO,EAAG,IAC7C,YAAckS,EAASumB,QAAQz4B,OAAO,EAAG,IACzCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,QAC9C6U,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACnBA,EAAKmkD,eAAiBxC,EAAe3hD,EAAK4hD,eAE5CnB,EAAah0C,EAAO7U,UAI1B+N,EAAM0P,GAAa,kDAAoDgH,EACvE,YAAc8N,EACd,YAAc8X,EACd,cAAgBpmB,EAASsmB,UAAUx4B,OAAO,EAAG,IAC7C,YAAckS,EAASumB,QAAQz4B,OAAO,EAAG,IACzCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,QAC9C6U,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACnBA,EAAKokD,mBAAqBF,GAAmBlkD,EAAKojD,mBAEpDzC,EAAcl0C,EAAO7U,aAG1B,CAACokC,EAAM7R,EAAcC,EAAc5B,EAAcnM,EAAQkZ,IAyD5D,OACE,yBAAKx5B,UAAU,mBAAmBQ,GAAG,kBAEf,WAAhBisB,GAA6C,WAAhBA,EAC7B,kBAAC,GAAD,CAAKkJ,SAAS,EAAOsC,QAAS,2BAAQ13B,IAAKwnD,GACvC,kBAAC,GAAD,CACAt7B,aAAcA,EACd8M,YAAa0G,EACb7R,aAAcA,EACdC,aAAcA,EACdmL,QAASA,KAEb,GAGJ,kBAAC,GAAD,CACEvB,QAAS,2BACT13B,IAAKynD,EACLjwB,WACkB,WAAhBtL,GACA,yBAAKzsB,UAAU,qBACb,0BACAA,UAAU,SACVS,QAAS,kBAAImnD,GAAgB,KAF7B,qDAOJjyB,SAAS,GAEP,kBAAC,GAAD,CACAlJ,aAAcA,EACd8M,YAAa0G,EACb7R,aAAcA,EACdC,aAAcA,EACdmL,QAASA,KAEb,kBAAC,GAAD,CACA7D,SAAS,EACTsC,QAAS,2BACT13B,IAAK0nD,EACLlwB,WACkB,WAAhBtL,GACF,yBAAKzsB,UAAU,qBACX,0BACAA,UAAU,SACVS,QAAS,kBAAIqnD,GAAiB,KAF9B,sDAQA,kBAAC,GAAD,CACAr7B,aAAcA,EACd8M,YAAa0G,EACb7R,aAAcA,EACdC,aAAcA,EACdmL,QAASA,KAEb,kBAAC,GAAD,CAAK7D,SAAS,EAAOsC,QAAS,2BAAQ13B,IAAK2nD,GACvC,kBAAC,GAAD,CACAz7B,aAAcA,EACdlxB,KAAK,iBACLM,KAAM2lC,KAGV,kBAAC,GAAD,CACIjmC,KAAK,IACLjB,MAAM,2BACNuN,QAAS8/C,EACThqD,KAAM,kBAAIiqD,GAAgB,IAC1BhqD,SAAU,WACW,WAAhB6uB,GACDoU,EAAiB,QAEnB+mB,GAAgB,IAClBrgD,OAAQ,KACRlJ,MAAO,IACP2B,UAAU,sBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,KAuBtB,QAAjB8hB,EACA,6BACE,uBAAG5gC,UAAU,aAAb,SAA0B,8BAC1BsgC,EAAYn2B,QADZ,UAGA,wBAAInK,UAAU,eACZ,kBAAC,aAAD,CACAu+B,YAAU,EACVC,cAAe,KAEXgC,EAAkBr2B,OAAS,EAC3Bq2B,EAAkBx8B,KAAI,SAACC,EAAMiD,GAC3B,OACA,wBAAIlN,IAAKkN,EAAOzG,QAAS,kBA1KjB,SAAC5E,GAC3B,IAAIikB,EAAWmgB,GAAQA,EAAKp/B,OAASmM,KAAKS,MAAMwyB,EAAKp/B,OACjDolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAI9lB,EAAM0P,GAAa,+CAAiDzd,EAAKs0B,OAC7E,YAAc/B,EACd,YAAc8X,EACd,cAAgBpmB,EAASsmB,UAAUx4B,OAAO,EAAG,IAC7C,YAAckS,EAASumB,QAAQz4B,OAAO,EAAG,IACzCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAChC6U,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACnBA,EAAKmkD,eAAiBxC,EAAe3hD,EAAK4hD,eAE5CnB,EAAah0C,EAAO7U,MACpBglC,EAAiB,cAmJwBynB,CAAoBrkD,KAC/C,uBAAGjE,UAAU,cAAc9B,MAAO,CAChCimB,gBAEElgB,EAAK4rB,UACL5rB,EAAK4rB,UACL,MAGJ,uBAAGv1B,MAAO2J,EAAK47B,UAAW57B,EAAK47B,cAInC,kBAAC,GAAD,CACA7/B,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,YAChBl5B,MAAO,2BACPiB,KAAM,SAQd,6BAEoB,WAAhBkxB,EACA,0BAAMzsB,UAAU,cAAcS,QAAS,kBAAIogC,EAAiB,UAA5D,wCACA,GAGF,kBAAC,GAAD,CACA3iC,MAAO,CAACsoC,UAAW,IACnBlP,YAnXa,CACvB,CACEt9B,IAAK,YACLC,KAAM,4BAER,CACED,IAAK,cACLC,KAAM,4BAER,CACED,IAAK,iBACLC,KAAM,4BAER,CACED,IAAK,iBACLC,KAAM,4BAER,CACED,IAAK,YACLC,KAAM,4BAER,CACED,IAAK,WACLC,KAAM,6BA6VE4B,KAAM4oD,MAOd,kBAAC,GAAD,CACIlpD,KAAK,IACLjB,MAAM,2BACNuN,QAASggD,EACTlqD,KAAM,kBAAImqD,GAAiB,IAC3BlqD,SAAU,WACW,WAAhB6uB,GACDoU,EAAiB,QAEnBinB,GAAiB,IACnBvgD,OAAQ,KACRlJ,MAAO,IACP2B,UAAU,sBACVqH,UAAW,CAAC9I,OAAQ,QAAYugB,QAAS,KAuBtB,QAAjB8hB,EACA,6BACE,uBAAG5gC,UAAU,aAAb,SAA0B,8BAC1BsgC,EAAYn2B,QADZ,UAGA,wBAAInK,UAAU,eACZ,kBAAC,aAAD,CACAu+B,YAAU,EACVC,cAAe,KAEXgC,EAAkBr2B,OAAS,EAC3Bq2B,EAAkBx8B,KAAI,SAACC,EAAMiD,GAC3B,OACA,wBAAIlN,IAAKkN,EAAOzG,QAAS,kBAzOhB,SAAC5E,GAC5B,IAAIikB,EAAWmgB,GAAQA,EAAKp/B,OAASmM,KAAKS,MAAMwyB,EAAKp/B,OACjDolC,EAAY/4B,eAAeM,QAAQ,aAAcR,KAAKS,MAAMP,eAAeM,QAAQ,cAAe,GAClG04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAG5B,IAAI9lB,EAAM0P,GAAa,kDAAoDzd,EAAKs0B,OAChF,YAAc/B,EACd,YAAc8X,EACd,cAAgBpmB,EAASsmB,UAAUx4B,OAAO,EAAG,IAC7C,YAAckS,EAASumB,QAAQz4B,OAAO,EAAG,IACzCoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,QAC9C6U,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACnBA,EAAKokD,mBAAqBF,GAAmBlkD,EAAKojD,mBAEpDzC,EAAcl0C,EAAO7U,MACrBglC,EAAiB,cAkNwB0nB,CAAqBtkD,KAChD,uBAAGjE,UAAU,cAAc9B,MAAO,CAChCimB,gBAEElgB,EAAK4rB,UACL5rB,EAAK4rB,UACL,MAGJ,uBAAGv1B,MAAO2J,EAAK47B,UAAW57B,EAAK47B,cAInC,kBAAC,GAAD,CACA7/B,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,YAChBl5B,MAAO,2BACPiB,KAAM,SAQd,6BAEoB,WAAhBkxB,EACA,0BAAMzsB,UAAU,cAAcS,QAAS,kBAAIogC,EAAiB,UAA5D,wCACA,GAGF,kBAAC,GAAD,CACA3iC,MAAO,CAACsoC,UAAW,IACnBlP,YApbc,CACxB,CACEt9B,IAAK,iBACLC,KAAM,4BAER,CACED,IAAK,mBACLC,KAAM,4BAER,CACED,IAAK,qBACLC,KAAM,4BAER,CACED,IAAK,iBACLC,KAAM,6BAsaE4B,KAAM8oD,OAUpB,IAAM52B,GAAkB,SAAC9wB,GAAW,IAAD,EACsBA,EAAjDjB,WAEN,MAAO,CAAC+mB,WAHyB,EACfjD,SAAUiD,WAERpD,SAHa,EACQA,WAI5BsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW4iC,MChhBpDpuC,I,QAAeiR,GAAfjR,YACC3c,GAAUC,KAAVD,OAEP,SAAS6rD,GAAOxrD,EAAOuD,GAAM,IAErBg5B,EAMEv8B,EANFu8B,YACA9M,EAKEzvB,EALFyvB,aACA2B,EAIEpxB,EAJFoxB,aACAC,EAGErxB,EAHFqxB,aALoB,EAQlBrxB,EAFF2iB,SAAWK,EANS,EAMTA,SAAUM,EAND,EAMCA,OACrBkZ,EACEx8B,EADFw8B,QAPoB,EASQrW,mBAAS,IATjB,mBASjBslC,EATiB,KASPC,EATO,OAUQvlC,mBAAS,IAVjB,mBAUjBwlC,EAViB,KAUPC,EAVO,OAWsBzlC,mBAAS,KAX/B,mBAWjB6jC,EAXiB,KAWAC,EAXA,KAmRxB,OAvQA7/B,2BAAgB,WAEZ,IAAmB,WAAhBqF,GAA8BnM,KAGd,WAAhBmM,GAA8B2B,IAG7BmL,EAAY14B,MAAhB,CAGA,IAAIqmC,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpE+I,EAAM0P,GAAa,2CACL,WAAhBmT,EACAnM,EACA,IAEF,YAAc8N,EACd,YAAcC,EACd,aAAerO,EACf,cAAgBknB,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChC6sD,EAAYh4C,EAAO7U,SAIzB+N,EAAM0P,GAAa,yCACD,WAAhBmT,EACAnM,EACgB,WAAhBmM,EACA2B,EACgB,WAAhB3B,EACA2B,IAEAC,GAEArO,GACA,IAEF,eACoB,WAAhByM,EACA,EACgB,WAAhBA,EACA,EACgB,WAAhBA,EACA2B,EACA,EACAC,EACA,EACA,EACA,IAEJ,eAAiB24B,EAGjB,cAAgB9f,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChC+sD,EAAYl4C,EAAO7U,YAG1B,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaytB,EAAiBxtB,IAC5E7V,qBAAU,WACN,GAAsB,GAAnBglC,EAASx+C,OAAZ,CAGA,IAAIs/B,EAAQ,GAAIof,EAAS,GAAIC,EAAU,GAAIC,EAAW,GAAItV,EAAa,GACvEkV,EAAS18C,SAAQ,SAAChI,GACdwlC,EAAM3+B,KAAK7G,EAAKspB,OAChBs7B,EAAO/9C,KAAK7G,EAAK+kD,0BACjBF,EAAQh+C,KAAK7G,EAAKglD,2BAClBF,EAASj+C,KAAK7G,EAAKilD,2BACnBzV,EAAW3oC,KAAK7G,EAAKklD,2BAEzB,IAAIjtB,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,sBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,MACoB,WAAhBlI,EACA,eACgB,WAAhBA,GAEA2B,EADA,eAGAC,EACA,eACA,gBACA,2BACJnxB,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,mDACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,mBAKAq+B,IAGfoL,OAAQ,CACJntC,IAAK,OACLD,KAAM,SAENu/B,UAAW,CACPx2B,MAAO,YAGfskC,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,iBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBS,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EACRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZQ,OAAQ,CACJ,CACI/iC,KAAK,2BACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK43C,GAET,CACIx5C,KAAK,2BACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKktD,GAET,CACI9uD,KAAK,2BACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKgtD,GAET,CACI5uD,KAAK,2BACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKitD,KAKjB5sB,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC+2C,EAAiB2B,IAGnB,yBAAK3oD,UAAU,WACT,yBAAKA,UAAU,YACX,yBAAKA,UAAU,eACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,aAAb,6BAA+B,8BAEf,WAAhBysB,EACAg8B,EAASW,yBACO,WAAhB38B,EACAg8B,EAASU,uBACO,WAAhB18B,EACAg8B,EAASY,uBACT,KAR+B,MAYX,WAAhB58B,EACA,uDACKg8B,EAASY,uBAAuBZ,EAASY,uBAAwB,MAEtE,uDACUZ,EAASU,uBAAuBV,EAASU,uBAAwB,KAD3E,8BAEUV,EAASY,uBAAuBZ,EAASY,uBAAwB,OAInF,yBAAKrpD,UAAU,mBACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,aAAb,6BAA+B,8BAEf,WAAhBysB,EACAg8B,EAASa,4BACO,WAAhB78B,EACAg8B,EAASS,0BACO,WAAhBz8B,EACAg8B,EAASc,0BACT,KAR+B,MAWX,WAAhB98B,EACA,uDAASg8B,EAASc,0BAA2Bd,EAASc,0BAA2B,MACjF,uDAASd,EAASS,0BAA2BT,EAASS,0BAA2B,KAAjF,8BACUT,EAASc,0BAA2Bd,EAASc,0BAA2B,OAG1F,yBAAKvpD,UAAU,kBACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,aAAb,6BAA+B,8BACf,WAAhBysB,EACAg8B,EAASe,2BACO,WAAhB/8B,EACAg8B,EAASO,yBACO,WAAhBv8B,EACAg8B,EAASgB,yBACT,KAP+B,MAUX,WAAhBh9B,EACA,uDAASg8B,EAASgB,yBAA0BhB,EAASgB,yBAA0B,MAC/E,uDAAShB,EAASO,yBAA0BP,EAASO,yBAA0B,KAA/E,8BACUP,EAASgB,yBAA0BhB,EAASgB,yBAA0B,OAGxF,yBAAKzpD,UAAU,mBACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,aAAb,6BAA+B,8BACf,WAAhBysB,EACAg8B,EAASiB,4BACO,WAAhBj9B,EACAg8B,EAASQ,0BACO,WAAhBx8B,EACAg8B,EAASkB,0BACT,KAP+B,MAUX,WAAhBl9B,EACA,uDAASg8B,EAASkB,0BAA2BlB,EAASkB,0BAA2B,MACjF,uDAASlB,EAASQ,0BAA2BR,EAASQ,0BAA2B,KAAjF,8BACMR,EAASkB,0BAA2BlB,EAASkB,0BAA2B,QAI1F,yBAAK3pD,UAAU,oBACX,+CACA,kBAAC,KAAD,CAAQa,MAAOmmD,EAAiBhnD,UAAU,SAAS0D,SAAU,SAAC7C,GAAD,OAASomD,EAAmBpmD,KACrF,kBAAC,GAAD,CAAQA,MAAM,KAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,wBAGR,yBAAKb,UAAU,eAEP2oD,EAASx+C,OAAS,EAClB,yBAAKnK,UAAU,oBAAoBQ,GAAG,sBACtC,kBAAC,GAAD,CAEAtC,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,QAS1B,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAAD,EAS3BA,EAPFjB,WAF6B,IAG3B8jB,SAQJ,MAAO,CAACiD,WAXuB,EAIzBA,WAOcD,SAXW,EAKzBA,SAMwBnD,SAXC,EAO3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW0jC,MC9YlDlvC,GAAeiR,GAAfjR,WACC3c,GAAUC,KAAVD,OAGP,SAASitD,GAAU5sD,EAAOuD,GAAM,IAExBg5B,EAMEv8B,EANFu8B,YACA9M,EAKEzvB,EALFyvB,aACA2B,EAIEpxB,EAJFoxB,aACAC,EAGErxB,EAHFqxB,aALuB,EAQrBrxB,EAFF2iB,SAAWK,EANY,EAMZA,SAAUM,EANE,EAMFA,OACrBkZ,EACEx8B,EADFw8B,QAPuB,EASmBrW,mBAAS,KAT5B,mBASpB6jC,EAToB,KASHC,EATG,OAUW9jC,mBAAS,IAVpB,mBAUpB0mC,EAVoB,KAUPC,EAVO,OAWqB3mC,mBAAS,IAX9B,mBAWpB4mC,EAXoB,KAWFC,EAXE,OAYqB7mC,mBAAS,IAZ9B,mBAYpB8mC,EAZoB,KAYFC,EAZE,OAa6B/mC,mBAAS,IAbtC,mBAapBgnC,EAboB,KAaEC,EAbF,KAc3BhjC,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA8BnM,KAGd,WAAhBmM,GAA8B2B,IAG7BmL,EAAY14B,MAAhB,CAGA,IAAIqmC,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpE+I,EAAM0P,GAAa,+CACL,WAAhBmT,EACAnM,EACA,IAEF,YAAc8N,EACd,YAAcC,EACd,cAAgB6Y,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9B6U,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACjB,IAAIiU,EAAO,IAAIH,KAAK9T,EAAKomD,gBAAgB9sC,WACzCjQ,QAAQC,IAAI2K,GACTA,GAAQ,GAAKA,GAAQ,IACpBjU,EAAKqmD,UAAY,gBAElBpyC,EAAO,GAAKA,GAAQ,KACnBjU,EAAKqmD,UAAY,gBAElBpyC,EAAO,IAAMA,GAAQ,KACpBjU,EAAKqmD,UAAY,gBAElBpyC,EAAO,IAAMA,GAAQ,KACpBjU,EAAKqmD,UAAY,gBAElBpyC,EAAO,IAAMA,GAAQ,KACpBjU,EAAKqmD,UAAY,mBAG3BR,EAAep5C,EAAO7U,aAG7B,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaC,IAC3DpS,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA8BnM,KAGd,WAAhBmM,GAA8B2B,IAG7BmL,EAAY14B,MAAhB,CAGA,IAAIqmC,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACnE+I,EAAM0P,GAAa,gDACJ,WAAhBmT,EACAnM,EACgB,WAAhBmM,EACA2B,EACgB,WAAhB3B,EACA2B,IAEAC,GAEArO,GACA,IAEF,eACoB,WAAhByM,EACA,EACgB,WAAhBA,EACA,EACgB,WAAhBA,EACA2B,EACA,EACAC,EACA,EACA,EACA,IAEJ,eAAiB24B,EAGjB,cAAgB9f,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChCuuD,EAAwB15C,EAAO7U,YAGxC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaytB,EAAiBxtB,IAE7EpS,2BAAgB,WACf,IAAI8f,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpE+I,EAAM0P,mEACa8U,EACvB,cAAgB8Y,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChCquD,EAAoBx5C,EAAO7U,WAGlC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaytB,EAAiBxtB,IAExEpS,2BAAgB,WACZ,IAAI8f,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpE+I,EAAM0P,mEACa+U,EACvB,cAAgB6Y,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChCmuD,EAAoBt5C,EAAO7U,WAGlC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaytB,EAAiBxtB,IAE5E7V,qBAAU,WACN,GAAyB,GAAtBkmC,EAAY1/C,OAAf,CAGA,IAAIs/B,EAAQ,GAAIlP,EAAW,GAC3BsvB,EAAY59C,SAAQ,SAAChI,GACjBwlC,EAAM3+B,KAAK7G,EAAK1I,UAEpBkuC,EAAK,aAAO,IAAI8B,IAAI9B,KACdx9B,SAAQ,SAAChI,GACX,IAAIunC,EAAM,EACVqe,EAAY59C,SAAQ,SAACjF,GACdA,EAAMzL,MAAQ0I,IACbunC,GAAO,MAGf,IAAI/6B,EAAM,CACNxW,KAAMgK,EACNpD,MAAO2qC,GAEXjR,EAASzvB,KAAK2F,MAElB,IAAIyrB,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,wBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTs1B,QAAS,CACLC,QAAS,QAEbC,KAAM,CACFn/B,IAAK,EACLo/B,MAAO,EACPC,OAAQ,EACRt/B,KAAM,GAEV5C,MAAO,CACHq6B,KAAM,6CACNz3B,KAAM,SACNC,IAAK,MACLs/B,UAAW,CACP3d,QAAS,CAAC,EAAG,EAAG,GAAI,GACpB4d,SAAU,GACVuN,WAAY,SAGpBtN,gBAAiB,CACbphC,KAAM,SACNygC,EAAG,GACHY,EAAG,IACHC,EAAG,IAEHC,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,GACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,EACR92B,MAAO,WAIfA,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,QAC/D+2B,OAAQ,CACJ,CACI/iC,KAAM,2BACNsB,KAAM,MACN0hC,OAAQ,CAAC,MAAO,OAChBC,OAAQ,CAAC,MAAO,OAChBC,SAAU,GACVC,mBAAmB,EACnBC,MAAO,CACHx/B,MAAM,EAONusC,UAAW,YAEf9M,SAAU,CACNC,UAAW,CACPC,YAAa,GACb55B,YAAa,wBAGrB/H,KAAM0+B,KAIlB2B,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC45C,IACJlmC,qBAAU,WACN,GAAyB,GAAtBkmC,EAAY1/C,OAAf,CAGA,IAAIs/B,EAAQ,GAAIlP,EAAW,GAC3BsvB,EAAY59C,SAAQ,SAAChI,GACjBwlC,EAAM3+B,KAAK7G,EAAKsmD,WAEpB9gB,EAAK,aAAO,IAAI8B,IAAI9B,KACdx9B,SAAQ,SAAChI,GACX,IAAIunC,EAAM,EACVqe,EAAY59C,SAAQ,SAACjF,GACdA,EAAMujD,OAAStmD,IACdunC,GAAO,MAGf,IAAI/6B,EAAM,CACNxW,KAAMgK,EACNpD,MAAO2qC,GAEXjR,EAASzvB,KAAK2F,MAElB,IAAIyrB,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,wBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTs1B,QAAS,CACLC,QAAS,QAEbC,KAAM,CACFn/B,IAAK,EACLo/B,MAAO,EACPC,OAAQ,EACRt/B,KAAM,GAEV5C,MAAO,CACHq6B,KAAM,6CACNz3B,KAAM,SACNC,IAAK,MACLs/B,UAAW,CACP3d,QAAS,CAAC,EAAG,EAAG,GAAI,GACpB4d,SAAU,GACVuN,WAAY,SAGpBtN,gBAAiB,CACbphC,KAAM,SACNygC,EAAG,GACHY,EAAG,IACHC,EAAG,IAEHC,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,GACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,EACR92B,MAAO,WAIfA,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,QAC/D+2B,OAAQ,CACJ,CACI/iC,KAAM,2BACNsB,KAAM,MACN0hC,OAAQ,CAAC,MAAO,OAChBC,OAAQ,CAAC,MAAO,OAChBC,SAAU,GACVC,mBAAmB,EACnBC,MAAO,CACHx/B,MAAM,EAMNusC,UAAW,YAEf9M,SAAU,CACNC,UAAW,CACPC,YAAa,GACb55B,YAAa,wBAIrB/H,KAAM0+B,KAIlB2B,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC45C,IACJlmC,qBAAU,WACN,GAAyB,GAAtBkmC,EAAY1/C,OAAf,CAGAmD,QAAQC,IAAIs8C,EAAa,4BACzB,IAAIpgB,EAAQ,GAAIlP,EAAW,GAC3BsvB,EAAY59C,SAAQ,SAAChI,GACjBwlC,EAAM3+B,KAAK7G,EAAKqmD,eAEpB7gB,EAAK,aAAO,IAAI8B,IAAI9B,KACdx9B,SAAQ,SAAChI,GACX,IAAIunC,EAAM,EACVqe,EAAY59C,SAAQ,SAACjF,GACdA,EAAMsjD,WAAarmD,IAClBunC,GAAO,MAGf,IAAI/6B,EAAM,CACNxW,KAAMgK,EACNpD,MAAO2qC,GAEXjR,EAASzvB,KAAK2F,MAElB,IAAIyrB,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,wBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTs1B,QAAS,CACLC,QAAS,QAEbC,KAAM,CACFn/B,IAAK,EACLo/B,MAAO,EACPC,OAAQ,EACRt/B,KAAM,GAEV5C,MAAO,CACHq6B,KAAM,6CACNz3B,KAAM,SACNC,IAAK,MACLs/B,UAAW,CACP3d,QAAS,CAAC,EAAG,EAAG,GAAI,GACpB4d,SAAU,GACVuN,WAAY,SAGpBtN,gBAAiB,CACbphC,KAAM,SACNygC,EAAG,GACHY,EAAG,IACHC,EAAG,IAEHC,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,GACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,EACR92B,MAAO,WAIfA,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,QAC/D+2B,OAAQ,CACJ,CACI/iC,KAAM,2BACNsB,KAAM,MACN0hC,OAAQ,CAAC,MAAO,OAChBC,OAAQ,CAAC,MAAO,OAChBC,SAAU,GACVC,mBAAmB,EACnBC,MAAO,CACHx/B,MAAM,EAMNusC,UAAW,YAEf9M,SAAU,CACNC,UAAW,CACPC,YAAa,GACb55B,YAAa,wBAIrB/H,KAAM0+B,KAIlB2B,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC45C,IACJlmC,qBAAU,WACN,GAAkC,GAA/BwmC,EAAqBhgD,OAAxB,CAGA,IAAIs/B,EAAQ,GAAI+E,EAAS,GAAIvI,EAAY,GAAIwK,EAAY,GAAIjH,EAAY,GACzE2gB,EAAqBl+C,SAAQ,SAAChI,GAC1BwlC,EAAM3+B,KAAK7G,EAAKspB,OAChBihB,EAAO1jC,KAAK7G,EAAKumD,eACjBvkB,EAAUn7B,KAAK7G,EAAKkiD,YACpB1V,EAAU3lC,KAAK7G,EAAKkjD,eAEL,WAAhB16B,IACC+c,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK2yC,GAET,CACIv0C,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,KAKE,WAAhBhkB,IACC+c,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,KAIjB,IAAIvU,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,uBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,2BACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,mDACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,yBAKAq+B,IAGfoL,OAAQ,CACJntC,IAAK,OACLo/B,MAAO,MACP1gC,KAAK,CAAC,eAAK,eAAK,gBAChB4gC,UAAW,CACPx2B,MAAO,YAGfskC,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,aAInB4kC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZyO,MAAO,CACH1vC,KAAM,QACNtB,KAAM,uBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC+2C,EAAiBmD,IACrBxmC,qBAAU,WACN,GAAkC,GAA/BwmC,EAAqBhgD,OAAxB,CAGA,IAAIs/B,EAAQ,GAAI+E,EAAS,GAAIvI,EAAY,GAAIwK,EAAY,GAAIjH,EAAa,GAC1E2gB,EAAqBl+C,SAAQ,SAAChI,GAC1BwlC,EAAM3+B,KAAK7G,EAAKspB,OAChBihB,EAAO1jC,KAAK7G,EAAK+hD,eACjB/f,EAAUn7B,KAAK7G,EAAKgiD,YACpBxV,EAAU3lC,KAAK7G,EAAKiiD,eAEL,WAAhBz5B,IACC+c,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK2yC,GAET,CACIv0C,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,KAKE,WAAhBhkB,IACC+c,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,KAIjB,IAAIvU,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,yBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,2BACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,mDACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,yBAKAq+B,IAGfoL,OAAQ,CACJntC,IAAK,OACLo/B,MAAO,MACP1gC,KAAK,CAAC,eAAK,eAAK,gBAChB4gC,UAAW,CACPx2B,MAAO,YAGfskC,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,aAInB4kC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZyO,MAAO,CACH1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC+2C,EAAiBmD,IACrB,IAAIM,EAAW,EACftD,EAAa4C,EAAiB5/C,OAAQqhC,EAAM,EAAGkf,EAAW,EAAGnzB,EAAQsyB,EAAY1/C,OACpE8/C,EAAiB9/C,OAU9B,OATA0/C,EAAY59C,SAAQ,SAAChI,GACjBunC,GAAOvnC,EAAKszB,SAEhB0yB,EAAiBh+C,SAAQ,SAAChI,GACtBymD,GAAYzmD,EAAKszB,SAErBwyB,EAAiB99C,SAAQ,SAAChI,GACtBwmD,GAAYxmD,EAAKszB,SAGjB,yBAAKv3B,UAAU,cACX,yBAAKA,UAAU,YACX,yBAAKA,UAAU,iBACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,aAAb,6BAA+B,qCAC/B,kCAEJ,yBAAKA,UAAU,eACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,aAAb,6BAA+B,8BAAOwrC,IAElB,WAAhB/e,EACA,uDAASg+B,GACT,uDAASC,EAAT,8BAA0BD,IAGlC,yBAAKzqD,UAAU,iBACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,aAAb,6BAA+B,8BAAOu3B,IAElB,WAAhB9K,EACA,uDAAS06B,GACT,uDAASA,EAAT,8BAA4BA,IAGpC,yBAAKnnD,UAAU,qBACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,aAAb,6BAA+B,kDAEX,WAAhBysB,EACA,0DACA,yFAKRo9B,EAAY1/C,OAAS,EACrB,yBAAKnK,UAAU,eACX,yBAAKA,UAAU,sBAAsBQ,GAAG,wBACxC,yBAAKR,UAAU,eACf,yBAAKA,UAAU,sBAAsBQ,GAAG,wBACxC,yBAAKR,UAAU,eACf,yBAAKA,UAAU,sBAAsBQ,GAAG,yBAE5C,kBAAC,GAAD,CACAR,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,MAIV,yBAAKyE,UAAU,oBACX,+CACA,kBAAC,KAAD,CAAQa,MAAOmmD,EAAiBhnD,UAAU,SAAS0D,SAAU,SAAC7C,GAAD,OAASomD,EAAmBpmD,KACrF,kBAAC,GAAD,CAAQA,MAAM,KAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,wBAIJspD,EAAqBhgD,OAAS,EAC9B,yBAAKnK,UAAU,eAEX,yBAAKA,UAAU,qBAAqBQ,GAAG,uBACvC,yBAAKR,UAAU,eACf,yBAAKA,UAAU,uBAAuBQ,GAAG,0BAE7C,kBAAC,GAAD,CAEAtC,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,OAOtB,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAAD,EAS3BA,EAPFjB,WAF6B,IAG3B8jB,SAQJ,MAAO,CAACiD,WAXuB,EAIzBA,WAOcD,SAXW,EAKzBA,SAMwBnD,SAXC,EAO3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW8kC,MCp/BlDtwC,GAAeiR,GAAfjR,WACC3c,GAAUC,KAAVD,OAEP,SAASguD,GAAW3tD,EAAOuD,GAAM,IAEzBg5B,EAMEv8B,EANFu8B,YACA9M,EAKEzvB,EALFyvB,aACA2B,EAIEpxB,EAJFoxB,aACAC,EAGErxB,EAHFqxB,aALwB,EAQtBrxB,EAFF2iB,SAAWK,EANa,EAMbA,SAAUM,EANG,EAMHA,OACrBkZ,EACEx8B,EADFw8B,QAPwB,EASkBrW,mBAAS,KAT3B,mBASrB6jC,EATqB,KASJC,EATI,OAUY9jC,mBAAS,IAVrB,mBAUrBynC,EAVqB,KAUPC,EAVO,OAWsB1nC,mBAAS,IAX/B,mBAWrB2nC,EAXqB,KAWFC,EAXE,OAYsB5nC,mBAAS,IAZ/B,mBAYrB6nC,EAZqB,KAYFC,EAZE,OAa8B9nC,mBAAS,IAbvC,mBAarB+nC,EAbqB,KAaEC,EAbF,KAc5B/jC,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA8BnM,KAGd,WAAhBmM,GAA8B2B,IAG7BmL,EAAY14B,MAAhB,CAGA,IAAIqmC,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpE+I,EAAM0P,GAAa,8CACL,WAAhBmT,EACAnM,EACA,IAEF,YAAc8N,EACd,YAAcC,EACd,cAAgB6Y,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAClC6U,EAAO7U,KAAKoQ,SAAQ,SAAChI,GACjB,IAAIiU,EAAO,IAAIH,KAAK9T,EAAKmnD,WAAW7tC,WACjCrF,GAAQ,GAAKA,GAAQ,IACpBjU,EAAKmnD,UAAY,gBAElBlzC,EAAO,GAAKA,GAAQ,KACnBjU,EAAKmnD,UAAY,gBAElBlzC,EAAO,IAAMA,GAAQ,KACpBjU,EAAKmnD,UAAY,gBAElBlzC,EAAO,IAAMA,GAAQ,KACpBjU,EAAKmnD,UAAY,gBAElBlzC,EAAO,IAAMA,GAAQ,KACpBjU,EAAKmnD,UAAY,mBAGvBP,EAAgBn6C,EAAO7U,aAG9B,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaC,IAC3DpS,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA8BnM,KAGd,WAAhBmM,GAA8B2B,IAG7BmL,EAAY14B,MAAhB,CAGA,IAAIqmC,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACnE+I,EAAM0P,GAAa,+CACJ,WAAhBmT,EACAnM,EACgB,WAAhBmM,EACA2B,EACgB,WAAhB3B,EACA2B,IAEAC,GAEArO,GACA,IAEF,eACoB,WAAhByM,EACA,EACgB,WAAhBA,EACA,EACgB,WAAhBA,EACA2B,EACA,EACAC,EACA,EACA,EACA,IAEJ,eAAiB24B,EAGjB,cAAgB9f,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChCsvD,EAAyBz6C,EAAO7U,YAGzC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaytB,EAAiBxtB,IAE5EpS,2BAAgB,WACZ,IAAmB,WAAhBqF,GAA8BnM,KAGd,WAAhBmM,GAA8B2B,IAG7BmL,EAAY14B,MAAhB,CAGA,IAAIqmC,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpE+I,EAAM0P,kEACa8U,EACvB,cAAgB8Y,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAClCovD,EAAqBv6C,EAAO7U,YAGjC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaytB,EAAiBxtB,IAE5EpS,2BAAgB,WACZ,IAAI8f,EAAkB3N,EAAY14B,MAAOmM,KAAKS,MAAM8rB,EAAY14B,OAAQ,GACpE+I,EAAM0P,kEACa+U,EACvB,cAAgB6Y,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChCkvD,EAAqBr6C,EAAO7U,WAGnC,CAAC4wB,EAAc4B,EAAcD,EAAcmL,EAAaytB,EAAiBxtB,IAE5E7V,qBAAU,WACN,GAA0B,GAAvBinC,EAAazgD,OAAhB,CAGeygD,EAAazgD,OAA5B,IACIs/B,EAAQ,GAAIlP,EAAW,GAC3BqwB,EAAa3+C,SAAQ,SAAChI,GAClBwlC,EAAM3+B,KAAK7G,EAAK1I,UAEpBkuC,EAAK,aAAO,IAAI8B,IAAI9B,KACdx9B,SAAQ,SAAChI,GACX,IAAIunC,EAAM,EACVof,EAAa3+C,SAAQ,SAACjF,GACfA,EAAMzL,MAAQ0I,IACbunC,GAAO,MAGf,IAAI/6B,EAAM,CACNxW,KAAMgK,EACNpD,MAAO2qC,GAEXjR,EAASzvB,KAAK2F,MAElB,IAAIyrB,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,yBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTs1B,QAAS,CACLC,QAAS,QAGbC,KAAM,CACFn/B,IAAK,EACLo/B,MAAO,EACPC,OAAQ,EACRt/B,KAAM,GAEV5C,MAAO,CACHq6B,KAAM,6CACNz3B,KAAM,SACNC,IAAK,MACLs/B,UAAW,CACP3d,QAAS,CAAC,EAAG,EAAG,GAAI,GACpB4d,SAAU,GACVuN,WAAY,SAGpBtN,gBAAiB,CACbphC,KAAM,SACNygC,EAAG,GACHY,EAAG,IACHC,EAAG,IAEHC,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,GACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,EACR92B,MAAO,WAIfA,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,QAC/D+2B,OAAQ,CACJ,CAEIzhC,KAAM,MACN0hC,OAAQ,CAAC,MAAO,OAChBC,OAAQ,CAAC,MAAO,OAChBC,SAAU,GACVC,mBAAmB,EACnBC,MAAO,CACHx/B,MAAM,EAMNusC,UAAW,YAEf9M,SAAU,CACNC,UAAW,CACPC,YAAa,GACb55B,YAAa,wBAIrB/H,KAAM0+B,KAIlB2B,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC26C,IACJjnC,qBAAU,WACN,GAA0B,GAAvBinC,EAAazgD,OAAhB,CAGA,IAAIs/B,EAAQ,GAAIlP,EAAW,GAC3BqwB,EAAa3+C,SAAQ,SAAChI,GAClBwlC,EAAM3+B,KAAK7G,EAAKsmD,WAEpB9gB,EAAK,aAAO,IAAI8B,IAAI9B,KACdx9B,SAAQ,SAAChI,GACX,IAAIunC,EAAM,EACVof,EAAa3+C,SAAQ,SAACjF,GACfA,EAAMujD,OAAStmD,IACdunC,GAAO,MAGf,IAAI/6B,EAAM,CACNxW,KAAMgK,EACNpD,MAAO2qC,GAEXjR,EAASzvB,KAAK2F,MAElB,IAAIyrB,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,0BACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTs1B,QAAS,CACLC,QAAS,QAEbC,KAAM,CACFn/B,IAAK,EACLo/B,MAAO,EACPC,OAAQ,EACRt/B,KAAM,GAEV5C,MAAO,CACHq6B,KAAM,6CACNz3B,KAAM,SACNC,IAAK,MACLs/B,UAAW,CACP3d,QAAS,CAAC,EAAG,EAAG,GAAI,GACpB4d,SAAU,GACVuN,WAAY,SAGpBtN,gBAAiB,CACbphC,KAAM,SACNygC,EAAG,GACHY,EAAG,IACHC,EAAG,IAEHC,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,GACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,EACR92B,MAAO,WAIfA,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,QAC/D+2B,OAAQ,CACJ,CAEIzhC,KAAM,MACN0hC,OAAQ,CAAC,MAAO,OAChBC,OAAQ,CAAC,MAAO,OAChBC,SAAU,GACVC,mBAAmB,EACnBC,MAAO,CACHx/B,MAAM,EAONusC,UAAU,YAEd9M,SAAU,CACNC,UAAW,CACPC,YAAa,GACb55B,YAAa,wBAIrB/H,KAAM0+B,KAIlB2B,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC26C,IACJjnC,qBAAU,WACN,GAA0B,GAAvBinC,EAAazgD,OAAhB,CAGA,IAAIs/B,EAAQ,GAAIlP,EAAW,GAC3BqwB,EAAa3+C,SAAQ,SAAChI,GAClBwlC,EAAM3+B,KAAK7G,EAAKmnD,WAAannD,EAAKmnD,UAAUx9C,OAAO,EAAG,SAE1D67B,EAAK,aAAO,IAAI8B,IAAI9B,KACdx9B,SAAQ,SAAChI,GACX,IAAIunC,EAAM,EACVof,EAAa3+C,SAAQ,SAACjF,GACfA,EAAMokD,WAAannD,IAClBunC,GAAO,MAGf,IAAI/6B,EAAM,CACNxW,KAAMgK,EACNpD,MAAO2qC,GAEXjR,EAASzvB,KAAK2F,MAElB,IAAIyrB,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,yBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTs1B,QAAS,CACLC,QAAS,QAEbC,KAAM,CACFn/B,IAAK,EACLo/B,MAAO,EACPC,OAAQ,EACRt/B,KAAM,GAEV5C,MAAO,CACHq6B,KAAM,6CACNz3B,KAAM,SACNC,IAAK,MACLs/B,UAAW,CACP3d,QAAS,CAAC,EAAG,EAAG,GAAI,GACpB4d,SAAU,GACVuN,WAAY,SAGpBtN,gBAAiB,CACbphC,KAAM,SACNygC,EAAG,GACHY,EAAG,IACHC,EAAG,IAEHC,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,GACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,uBAET,CACE82B,OAAQ,IACR92B,MAAO,SAET,CACE82B,OAAQ,EACR92B,MAAO,WAIfA,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,QAC/D+2B,OAAQ,CACJ,CAEIzhC,KAAM,MACN0hC,OAAQ,CAAC,MAAO,OAChBC,OAAQ,CAAC,MAAO,OAChBC,SAAU,GACVC,mBAAmB,EACnBC,MAAO,CACHx/B,MAAM,EAMNusC,UAAW,YAEf9M,SAAU,CACNC,UAAW,CACPC,YAAa,GACb55B,YAAa,wBAIrB/H,KAAM0+B,KAIlB2B,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC26C,IACJjnC,qBAAU,WACN,GAAmC,GAAhCunC,EAAsB/gD,OAAzB,CAGA,IAAIs/B,EAAQ,GAAI+E,EAAS,GAAIvI,EAAY,GAAIwK,EAAY,GAAIjH,EAAa,GAC1E0hB,EAAsBj/C,SAAQ,SAAChI,GAC3BwlC,EAAM3+B,KAAK7G,EAAKspB,OAChBihB,EAAO1jC,KAAKvL,SAAS0E,EAAKumD,cAAc,IAAK,GAAG,KAChDvkB,EAAUn7B,KAAKvL,SAAS0E,EAAKkiD,WAAW,IAAK,GAAG,KAChD1V,EAAU3lC,KAAKvL,SAAS0E,EAAKkjD,WAAW,IAAK,GAAG,QAEjC,WAAhB16B,IACC+c,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK2yC,GAET,CACIv0C,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,KAKE,WAAhBhkB,IACC+c,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,KAKjB,IAAIvU,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,yBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,2BACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,mDACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,mBAKAq+B,IAGfoL,OAAQ,CACJntC,IAAK,OACLo/B,MAAO,MAEPE,UAAW,CACPx2B,MAAO,YAGf4kC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,iBACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC+2C,EAAiBkE,IACrBvnC,qBAAU,WACN,GAAmC,GAAhCunC,EAAsB/gD,OAAzB,CAGA,IAAIs/B,EAAQ,GAAI+E,EAAS,GAAIvI,EAAY,GAAIwK,EAAY,GAAIjH,EAAa,GAC1E0hB,EAAsBj/C,SAAQ,SAAChI,GAC3BwlC,EAAM3+B,KAAK7G,EAAKspB,OAChBihB,EAAO1jC,KAAK7G,EAAK+hD,eACjB/f,EAAUn7B,KAAK7G,EAAKgiD,YACpBxV,EAAU3lC,KAAK7G,EAAKiiD,eAEL,WAAhBz5B,IACC+c,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,OACLyuC,UAAW,CACP/jC,MAAO,UACP5H,MAAO,EACPuF,YAAa,UACb05B,SAAU,CACNj/B,MAAO,IAGfk/B,UAAW,CACPt3B,MAAO,WAEXpK,KAAK2yC,GAET,CACIv0C,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,KAKE,WAAhBhkB,IACC+c,EAAa,CACT,CACIvvC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAKoqC,GAET,CACIhsC,KAAK,eACLsB,KAAK,MACLwuC,SAAW,GACXxM,UAAW,CACPt3B,MAAO,IAAIqjC,KAAuB,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3CvM,OAAQ,EACR92B,MAAO,WACT,CACE82B,OAAQ,EACR92B,MAAO,cAGfpK,KAAK40C,KAKjB,IAAIvU,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,0BACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CACTxM,MAAO,CACHq6B,KAAM,2BACNz3B,KAAM,SACNC,IAAK,OACLs/B,UAAW,CACPx2B,MAAO,UACPgkC,WAAY,SACZvN,SAAU,KAGlBJ,KAAM,CACFn/B,IAAK,GACLq/B,OAAQiN,EAAMt/B,OAAS,EAAG,GAAI,IAElCiyB,QAAS,CACLC,QAAS,OACT6N,YAAa,CACT3uC,KAAM,UAEV4uC,aAAc,mDACdC,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAG,4TAQiB7kC,EAAO,GAAGJ,KAR3B,gBAeP,OANAI,EAAO4R,SAAQ,SAAChI,GACZi7B,GAAG,yHAE6Bj7B,EAAKomC,WAFlC,4FAG8CpmC,EAAKpD,MAHnD,mBAKAq+B,IAGfoL,OAAQ,CACJntC,IAAK,OACLo/B,MAAO,MAEPE,UAAW,CACPx2B,MAAO,YAGf4kC,SAAU,CACNhtC,KAAM4rC,EAAMt/B,OAAS,EACrB2gC,aAAc,EACdvsC,OAAQ,EAGRwsC,YAAY,EACZC,aAAc,EACdxO,OAAQ,IAEZ+N,MAAO,CACHhvC,KAAM,WACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,WAGXpK,KAAM4tC,EACNgB,SAAU,CACN5sC,MAAM,GAEV6sC,SAAU,CACNV,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPC,SAAU,EACVnO,UAAW,CACPx2B,MAAO,aAInBglC,MAAO,CACH1vC,KAAM,QACNtB,KAAM,eACNuwC,cAAe,CACXvkC,MAAO,UACP6Y,QAAS,CAAC,EAAG,EAAG,EAAG,KAEvBssB,UAAW,CACPpB,UAAW,CACP/jC,MAAO,YAGf0kC,UAAW,CACPlO,UAAW,CACPx2B,MAAO,WAEXmkC,UAAW,aAGnBpN,OAAQwM,GAEZtN,EAASuB,UAAU32B,GAAQ,GAC3B1I,OAAOgE,iBAAiB,UAAU,WAC9B85B,EAASjsB,eAEd,CAAC+2C,EAAiBkE,IACrB,IAAIT,EAAW,EACftD,EAAa2D,EAAkB3gD,OAAQqhC,EAAM,EAAGkf,EAAW,EAAGnzB,EAAQqzB,EAAazgD,OACnFg8C,EAAa6E,EAAkB7gD,OAU/B,OATAygD,EAAa3+C,SAAQ,SAAChI,GAClBunC,GAAOvnC,EAAKonD,YAEhBL,EAAkB/+C,SAAQ,SAAChI,GACvBymD,GAAYzmD,EAAKonD,YAErBP,EAAkB7+C,SAAQ,SAAChI,GACvBwmD,GAAYxmD,EAAKonD,YAGjB,yBAAKrrD,UAAU,eACX,yBAAKA,UAAU,YACX,yBAAKA,UAAU,iBACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,aAAb,6BAA+B,+BACzBwrC,EAAI,IAAK,GAAG,IAAIv5B,QAAQ,GADC,MAGX,WAAhBwa,EACA,uBAAGnyB,MAAK,oCAAWmwD,EAAS,IAAK,GAAG,IAAIx4C,QAAQ,KAAhD,6BAA6Dw4C,EAAS,IAAK,GAAG,IAAIx4C,QAAQ,IAC1F,uBAAG3X,MAAK,oCAAWowD,EAAS,IAAK,GAAG,IAAIz4C,QAAQ,GAAxC,uCAAqDw4C,EAAS,IAAK,GAAG,IAAIx4C,QAAQ,KAA1F,6BACWy4C,EAAS,IAAK,GAAG,IAAIz4C,QAAQ,GADxC,+BACoDw4C,EAAS,IAAK,GAAG,IAAIx4C,QAAQ,KAIzF,yBAAKjS,UAAU,kBACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,aAAb,6BAA+B,8BAAOu3B,IAElB,WAAhB9K,EACA,uBAAGnyB,MAAK,mCAAU6sD,IAAlB,4BAAsCA,GACtC,uBAAG7sD,MAAK,mCAAU6rD,EAAV,sCAA8BgB,IAAtC,4BACUhB,EADV,8BAC6BgB,KAerCyD,EAAazgD,OAAS,EACtB,yBAAKnK,UAAU,eACX,yBAAKA,UAAU,uBAAuBQ,GAAG,yBACzC,yBAAKR,UAAU,eACf,yBAAKA,UAAU,wBAAwBQ,GAAG,0BAC1C,yBAAKR,UAAU,eACf,yBAAKA,UAAU,uBAAuBQ,GAAG,0BAE7C,kBAAC,GAAD,CACAR,UAAW,YACX9B,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,MAIV,yBAAKyE,UAAU,oBACX,+CACA,kBAAC,KAAD,CAAQa,MAAOmmD,EAAiBhnD,UAAU,SAAS0D,SAAU,SAAC7C,GAAD,OAASomD,EAAmBpmD,KACrF,kBAAC,GAAD,CAAQA,MAAM,KAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,sBACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,wBAIJqqD,EAAsB/gD,OAAS,EAC/B,yBAAKnK,UAAU,eACX,yBAAKA,UAAU,uBAAuBQ,GAAG,yBACzC,yBAAKR,UAAU,eACf,yBAAKA,UAAU,wBAAwBQ,GAAG,2BAE9C,kBAAC,GAAD,CAEAtC,MAAO,CAACs1B,OAAQ,UAChBl5B,MAAO,2BACPiB,KAAM,OAQtB,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAAD,EAS3BA,EAPFjB,WAF6B,IAG3B8jB,SAQJ,MAAO,CAACiD,WAXuB,EAIzBA,WAOcD,SAXW,EAKzBA,SAMwBnD,SAXC,EAO3BA,WAMOsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW6lC,MC9/BnCpgC,GAAfjR,WACW1c,KAAVD,OAEP,SAAS2uD,GAAUtuD,EAAOuD,GAQhBvD,EANFu8B,YAFwB,IAGxB9M,EAKEzvB,EALFyvB,aAHuB,GAQrBzvB,EAJFoxB,aAIEpxB,EAHFqxB,aAGErxB,EAFF2iB,UANuB,KAMZK,SANY,EAMFM,OAEnBtjB,EADFw8B,QAE4CrW,mBAAS,MAT9B,6BAU3B,OACI,yBAAKnjB,UAAU,cACX,yBAAKA,UAAU,YACX,yBAAKA,UAAU,iBACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,aAAb,6BAA+B,4CAEX,WAAhBysB,EACA,2DACA,2FAGR,yBAAKzsB,UAAU,wBACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,aAAb,yCAAiC,2CAEb,WAAhBysB,EACA,2DACA,2FAGR,yBAAKzsB,UAAU,4BACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,aAAb,yCAAiC,sCAEb,WAAhBysB,EACA,2DACA,2FAGR,yBAAKzsB,UAAU,uBACX,uBAAGA,UAAU,aACb,uBAAGA,UAAU,aAAb,yCAAiC,iDAEb,WAAhBysB,EACA,2DACA,6FAOxB,IAAMsB,GAAkB,SAAC9wB,GAAW,IAAD,EAS3BA,EAPFjB,WAF6B,IAG3B8jB,SAQJ,MAAO,CAACiD,WAXuB,EAIzBA,WAOcD,SAXW,EAKzBA,SAMwBnD,SAXC,EAO3BA,WCnEFrG,IDyES2U,kBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWwmC,MCzEnC/gC,GAAfjR,YAEJ,SAASiyC,GAAWvuD,EAAOuD,GAAM,IAE7B0/B,EAWEjjC,EAXFijC,KAEAC,GASEljC,EAVF+lB,WAUE/lB,EATFkjC,kBAIAzT,GAKEzvB,EARFskB,SAQEtkB,EAPFukB,UAOEvkB,EANFmjC,WAMEnjC,EALFyvB,cACA2B,EAIEpxB,EAJFoxB,aACAC,EAGErxB,EAHFqxB,aAV4B,EAa1BrxB,EAFF2iB,SAAWW,EAXiB,EAWjBA,OAAQN,EAXS,EAWTA,SACnBwZ,EACEx8B,EADFw8B,QAZ4B,EAcIrW,mBAAS,IAdb,mBAcvBqe,EAduB,KAcZC,EAdY,KAexB+pB,EAASjjC,iBAAO,MAChBkjC,EAAYljC,iBAAO,MACnBmjC,EAAanjC,iBAAO,MAEpBojC,GADYpjC,iBAAO,MACPA,iBAAO,OA0DzB,OAzDAnB,2BAAgB,WAEc,oBAArB8Y,GACLA,EAAiB,CACf,CAAE3/B,IAAKirD,EAAOriC,QAASlvB,KAAsB,WAAhBwyB,EAA2B,2BAAQ,4BAChE,CAAElsB,IAAKkrD,EAAUtiC,QAASlvB,KAAuB,WAAhBwyB,EAA2B,2BAAQ,4BACpE,CAAElsB,IAAKmrD,EAAWviC,QAASlvB,KAAuB,WAAhBwyB,EAA2B,2BAAQ,4BAErE,CAAElsB,IAAKorD,EAAUxiC,QAASlvB,KAAM,gCAGnC,IAEHmtB,2BAAgB,WAEd,IAAmB,WAAhBqF,GAA8BnM,KAGd,WAAhBmM,GAA8B2B,GAAjC,CAGA,IAAI8Y,EAAkBjH,EAAKp/B,OAASmM,KAAKS,MAAMwyB,EAAKp/B,OAChD+I,EAAM0P,GAAa,6BACL,WAAhBmT,EACAnM,EACgB,WAAhBmM,EACA2B,EACgB,WAAhB3B,EACA2B,IAEAC,GAEArO,GACAM,GAEF,eACkB,WAAhBmM,EACA,EACgB,WAAhBA,GAEA2B,EADA,EAGAC,EACA,EACA,GAEJ,cAAgB6Y,EAAgBd,UAAUx4B,OAAO,EAAG,IACpD,YAAcs5B,EAAgBb,QAAQz4B,OAAO,EAAG,IAChDoM,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACe,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC9C4lC,EAAa/wB,EAAO7U,YAGrB,CAACokC,EAAM7R,EAAcC,EAAc5B,EAAc+M,IAElD,yBAAKx5B,UAAU,mBAAmBQ,GAAG,iBACnC,kBAAC,GAAD,CAAKm1B,SAAS,EAAOsC,QAAyB,WAAhBxL,EAA2B,2BAAQ,2BAAQlsB,IAAKirD,GAC1E,kBAAC,GAAD,CACAp9B,aAAcA,EACdC,aAAcA,EACdkL,YAAa0G,EACbxT,aAAcA,EACd+M,QAASA,KAEb,kBAAC,GAAD,CAAK7D,SAAS,EAAOsC,QAAyB,WAAhBxL,EAA2B,2BAAQ,2BAAQlsB,IAAKkrD,GAC1E,kBAAC,GAAD,CACAr9B,aAAcA,EACdC,aAAcA,EACdkL,YAAa0G,EACbxT,aAAcA,EACd+M,QAASA,KAEb,kBAAC,GAAD,CAAK7D,SAAS,EAAOsC,QAAyB,WAAhBxL,EAA2B,2BAAQ,2BAAQlsB,IAAKmrD,GAC1E,kBAAC,GAAD,CACAt9B,aAAcA,EACdC,aAAcA,EACdkL,YAAa0G,EACbxT,aAAcA,EACd+M,QAASA,KASb,kBAAC,GAAD,CAAK7D,SAAS,EAAOsC,QAAS,2BAAQ13B,IAAKorD,GACvC,kBAAC,GAAD,CACAl/B,aAAcA,EACdlxB,KAAK,gBACLM,KAAM2lC,MAOhB,IAAMzT,GAAkB,SAAC9wB,GAAW,IAAD,EAS7BA,EAPFjB,WAF+B,IAG7B8jB,SAQJ,MAAO,CAACiD,WAXyB,EAI3BA,WAOcD,SAXa,EAK3BA,SAMwBnD,SAXG,EAO7BA,WAMSsO,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWymC,M,eC7G1D,SAASK,GAAgB5uD,EAAOuD,GAAM,IAElCP,EAaEhD,EAbFgD,UAEAmgC,GAWEnjC,EAZF22B,UAYE32B,EAXFmjC,YAJiC,EAe/BnjC,EAVFnB,KACEgwD,EAN+B,EAM/BA,eACAC,EAP+B,EAO/BA,iBACAC,EAR+B,EAQ/BA,iBACAC,EAT+B,EAS/BA,aACAC,EAV+B,EAU/BA,iBACAC,EAX+B,EAW/BA,kBACAC,EAZ+B,EAY/BA,oBACAC,EAb+B,EAa/BA,OAGJjsB,EAAaA,GAA0B,GAhBJ,MAmBDhd,mBAAS,MAnBR,mBAmB5BkpC,EAnB4B,KAmBjBC,EAnBiB,OAsBHnpC,mBAAS,MAtBN,mBAsB5BopC,EAtB4B,KAsBlBC,EAtBkB,KAwB7BC,EAAQlkC,iBAAO,MACfmkC,EAASnkC,iBAAO,MACtBnB,2BAAgB,WACd,QAA0BzlB,IAAtBuqD,QAAwDvqD,IAArBsqD,EAAvC,CAGA,IAAIU,EAAcJ,EACdK,EAAeP,EACfpmD,EAAQ,CACV,UACA,UAEA,UACA,UACA,UACA,UACA,UACA,UACA,WAGE4mD,EAAa,CACf,CAAC,WAAY,SACb,CAAC,yDAAaX,GACd,CAAC,mDAAYD,IAEXa,EAAa,GACbC,EAAY,GAChB9mD,EAAMgG,SAAQ,SAACjF,EAAOE,GACpB4lD,EAAW,GAAD,OAAI5lD,IAAW,CAAEjB,MAAOe,EAAO01B,SAAU,IACnDqwB,EAAU,GAAD,OAAI7lD,EAAJ,OAAiB,CAAEjB,MAAOe,EAAO01B,SAAU,OAEtD,IAAIswB,EAAc,CAAC,CAAC,WAAY,2BAAQ,6BACpCC,EAAY,CACdC,QAAS,CAAElW,OAAQ,IAWnB5a,QAAS,CAEPC,QAAS,OACTM,gBAAiB,kBACjByN,UAAW,SAAC/vC,GAGV,MAAM,+DAAN,OAAoBgY,GAAoC,IAAtB85C,GAAlC,MAEF1vB,UAAW,CACTx2B,MAAO,YAIXqkC,OAAQ,CACNzsC,MAAM,GAURoI,MAAOA,EACP+2B,OAAQ,CACN,CACE/iC,KAAM,uCACNsB,KAAM,MACN0hC,OAAQ,CAAC,MAAO,OAChB9/B,IAAK,KACLggC,SAAS,EAGT5+B,OAAQ,MACRg/B,UAAW,CACT35B,YAAa,OACb45B,YAAa,EACb2vB,YAAa,sBACbC,WAAY,GAGd/vB,MAAO,CACLx/B,MAAM,EACNoI,MAAO,KACPmkC,UAAW,SAAC/vC,GACV,IAAIgzD,EAAa,EACbC,EAAY,EAQhB,OAPArnD,EAAMgG,SAAQ,SAACjF,EAAOE,GAChBF,IAAU3M,EAAO4L,QACnBonD,EAAanmD,EACbomD,EAAYpmD,EAAQ,SAIlB,IAAN,OAAWmmD,EAAX,YAAyBhzD,EAAOJ,KAAhC,eAA2CqzD,EAA3C,YAAwDjzD,EAAOwG,MAAM,GAArE,aAA4EwsD,EAA5E,aAEFE,KAAK,2BACAT,GACAC,OAMbX,aAAkBnlD,OAChBmlD,EAAOngD,SAAQ,SAACjF,EAAOE,GAAW,IAE9BsmD,EAKExmD,EALFwmD,SACAzB,EAIE/kD,EAJF+kD,iBACAF,EAGE7kD,EAHF6kD,eACAM,EAEEnlD,EAFFmlD,oBACAL,EACE9kD,EADF8kD,iBAEFkB,EAAYliD,KAAK,CACf0iD,EACA77C,GAAUk6C,EAAe,IAAI,KAAKj6C,KAClCk6C,EACAn6C,GAAUo6C,EAAiB,IAAI,KAAKn6C,KACpCu6C,OAGN,IAAIsB,EAAY,CACdnzD,MAAO,CACLq6B,KAAM,SAAMwL,EAAWutB,IAAM,uFAE7BxwD,KAAM,SACNC,IAAK,GACLs/B,UAAW,CACTx2B,MAAO,UACPy2B,SAAU,KAIdN,QAAS,CACPC,QAAS,OAGT6N,YAAa,CAEX3uC,KAAM,UAERohC,gBAAiB,kBACjB/4B,YAAa,cACb45B,YAAa,EACb4M,UAAW,SAAC/vC,GACV,IACMwB,EADIxB,EAAO,GACXwB,KAEN,MAAM,6HAAN,OACsCA,EAAK,GAD3C,sGACyFA,EAAK,GAD9F,mHACoJA,EAAK,GADzJ,yHACgNA,EAAK,GADrN,sCAQJyuC,OAAQ,CAENzsC,MAAM,GAuBRy+B,KAAM,CACJp/B,KAAM,GACNqB,OAAQ,IACRg+B,MAAO,GACPC,OAAQ,GACRmxB,cAAc,GAEhBT,QAAS,CACPlW,OAAQ,IAEVnM,SAAU,CACRtvC,KAAM,SACNsC,KAAMmvD,EAAY7iD,OAAS,EAI3ByjD,QAAU,GAAKZ,EAAY7iD,OAAS,GAAM,IAC1C0jD,QAAU,GAAKb,EAAY7iD,OAAS,GAAM,IAC1C2jD,UAAU,EACV/iB,YAAY,EACZgjB,gBAAgB,EAChBxvD,OAAQ,EACRi+B,OAAQ,GAEV+N,MAAO,CACL,CACEhvC,KAAM,WACNtB,KAAMkmC,EAAWutB,IACjBM,QAAS,GAUTxjB,cAAe,CACbvkC,MAAO,UACPy2B,SAAU,IAEZ+N,SAAU,CAER5sC,MAAM,GAER6sC,SAAU,CAER7sC,MAAM,EACNmsC,UAAW,IAKbW,UAAW,CACT1kC,MAAO,UACPy2B,SAAU,GACV0N,UAAW,SAACvpC,GACV,IAAIhF,EAAOgF,EAIX,MAHqB,kBAAVA,GAAsBA,EAAMsJ,OAAS,IAC9CtO,EAAOgF,EAAM+O,MAAM,EAAG,GAAK,OAEtB/T,MAKfovC,MAAO,CACL,CACE1vC,KAAM,QACNtB,KAAM,8EAEN0wC,UAAW,CACT1kC,MAAO,UACPy2B,SAAU,GACVlJ,OAAQ,IAMVgX,cAAe,CACbvkC,MAAO,UACPy2B,SAAU,GAEV5d,QAAS,CAAC,EAAG,EAAG,EAAG,MAErBkvC,QAAS,KAGbhxB,OAAQ,CACN,CAEEzhC,KAAM,MACN0yD,OAAQ,KAERC,YAAa,GACb3wB,UAAW,CACTt3B,MAAO,CACL1K,KAAM,SACNygC,EAAG,EACHY,EAAG,EACHuxB,GAAI,EACJC,GAAI,EACJtxB,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,WAET,CACE82B,OAAQ,EACR92B,MAAO,aAIbooD,aAAc,CAAC,EAAG,EAAG,EAAG,OAqB3B1B,IAEHA,EAAcxwB,KAAQ3kB,KAAKi1C,EAAMtjC,SAEjCqjC,EAAYG,GAEZ58C,GAAiB48C,IAEdC,IAEHA,EAAezwB,KAAQ3kB,KAAKk1C,EAAOvjC,SAEnCmjC,EAAaM,GAEb78C,GAAiB68C,IAEnB,IAAI0B,EAAW99C,GAASy8C,GAWxB,OATAqB,EAASpB,QAAQlW,OAAS6V,EAG1BY,EAAUP,QAAQlW,OAASgW,EAI3BL,EAAYlvB,UAAU6wB,GACtB1B,EAAanvB,UAAUgwB,GAChB,WAGLd,EAAY4B,MACZ3B,EAAa2B,UAId,CAACnC,EAAQjsB,IACd,IAAMquB,EAAY/nC,uBAChB,SAAC7U,GACC,IAAI68C,EAAQ98C,GAAUC,EAAK,KAC3B,OAAG68C,EAAM78C,KAAK,EACL,4BAGF68C,EAAMv8C,UAEf,IAEA,OACE,yBACElS,UAAS,sCAAiCA,GAAwB,GAAzD,MAET,yBAAKA,UAAU,YACb,uBAAGA,UAAU,UACVmgC,GAAcA,EAAW7lC,MAAQ6lC,EAAW7lC,MAAQ,GADvD,+DAGE,0BAAM0F,UAAU,YAAYwuD,EAAU3C,IAHxC,yDAKE,0BAAM7rD,UAAU,YAAY8rD,GAL9B,2BAOE,0BAAM9rD,UAAU,YAAYwuD,EAAUzC,KAExC,yBAAKxrD,IAAKksD,EAAOzsD,UAAU,gBAC3B,uBAAGA,UAAU,WAAb,iCAEE,6BACA,8BAAOgsD,GAHT,UAKA,uBAAGhsD,UAAU,aAAb,+DAEE,kBAAC,KAAD,CACE1F,MAAM,eACN2L,MAAO,UACPQ,iBAAiB,cACjBH,kBAAmB,SAAC9I,GAAD,OAAOA,EAAE+I,YAC5B81B,QAAS,CAAC,UAEV,uBAAGr8B,UAAU,iBAAiBS,QAAS,kBAK7C,yBAAKF,IAAKmsD,EAAQ1sD,UAAU,wBAKlC,IAAM+tB,GAAkB,SAAC9wB,GAIvB,MAAO,CAAE02B,UADL12B,EADFjB,WAAc23B,YAIH1F,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW8mC,MCxbxD,SAAS8C,GAAc1xD,EAAOuD,GAAM,IAEhCP,EAcEhD,EAdFgD,UAEAmgC,GAYEnjC,EAbF22B,UAaE32B,EAZFmjC,YAJ+B,EAgB7BnjC,EAXFnB,KACE8yD,EAN6B,EAM7BA,QACAC,EAP6B,EAO7BA,iBACAC,EAR6B,EAQ7BA,mBACA7C,EAT6B,EAS7BA,aACA8C,EAV6B,EAU7BA,iBACAC,EAX6B,EAW7BA,gBAEA3C,GAb6B,EAY7B4C,gBAZ6B,EAa7B5C,QAIJjsB,EAAaA,GAA0B,GAjBN,MAoBChd,mBAAS,MApBV,mBAoB1BkpC,EApB0B,KAoBfC,EApBe,KAwB3BI,EAASnkC,iBAAO,MAkStB,OAjSAnB,2BAAgB,WACd,QAAqBzlB,IAAlBotD,QAAgDptD,IAAnBmtD,EAAhC,CAGA,IAAIlC,EAAeP,EAOfW,EAAc,CAAC,CAAC,WAAY,mDAAY,qDAC5CZ,aAAkBnlD,OAClBmlD,EAAOngD,SAAQ,SAACjF,EAAOE,GAAW,IAE9BsmD,EAIExmD,EAJFwmD,SACAxB,EAGEhlD,EAHFglD,aACA8C,EAEE9nD,EAFF8nD,iBAEE9nD,EADFgoD,gBAEFhC,EAAYliD,KAAK,CACf0iD,EACAxB,EACA8C,EACA9C,OAIJ,IAAIyB,EAAY,CAYd5iB,SAAU,CACRtvC,KAAM,SACNsC,KAAMmvD,EAAY7iD,OAAO,EAIzByjD,QAAU,GAAIZ,EAAY7iD,OAAO,GAAQ,IACzC0jD,QAAU,GAAIb,EAAY7iD,OAAO,GAAQ,IACzC2jD,UAAU,EACV/iB,YAAY,EACZgjB,gBAAgB,EAChBxvD,OAAQ,EACRi+B,OAAQ,GAEVJ,QAAS,CACPC,QAAS,OAGT6N,YAAa,CAEX3uC,KAAM,UAERohC,gBAAiB,kBACjB/4B,YAAa,cACb45B,YAAa,EACb4M,UAAW,SAAC/vC,GAEV,IAAI40D,EAAM50D,EAAO,GACXwB,EAAcozD,EAAdpzD,KAAM5B,EAAQg1D,EAARh1D,KAEZ,MAAM,iEAAN,OAEQA,EAFR,kEAIE4B,EAAK,GAJP,qFAMEA,EAAK,GANP,iDAcJyuC,OAAQ,CAENzsC,MAAM,EACN0+B,MAAO,GACPp/B,IAAK,EACL+xD,UAAW,GACXC,WAAY,GACZC,QAAS,GAIT3yB,UAAW,CACT8wB,KAAM,CACJtzD,KAAM,CACJyiC,SAAU,GACVz2B,MAAO,WAETsxB,MAAO,CACLmF,SAAU,GACVuN,WAAY,OACZhkC,MAAO,SAGXA,MAAO,YAGXq2B,KAAM,CACJp/B,KAAM,GACNqB,OAAQ,IACRg+B,MAAO,GACPC,OAAQ,EACRmxB,cAAc,GAEhBT,QAAS,CACPlW,OAAQ,IAEVzM,MAAO,CACL,CACEhvC,KAAM,WACNtB,KAAMkmC,EAAWutB,IACjBM,QAAS,GAUTxjB,cAAe,CACbvkC,MAAO,UACPy2B,SAAU,IAEZ+N,SAAU,CAER5sC,MAAM,GAER6sC,SAAU,CAER7sC,MAAM,EACNmsC,UAAW,IAKbW,UAAW,CACT1kC,MAAO,UACPy2B,SAAU,GACV0N,UAAW,SAACvpC,GACV,IAAIhF,EAAOgF,EAIX,MAHqB,kBAAVA,GAAsBA,EAAMsJ,OAAS,IAC9CtO,EAAOgF,EAAM+O,MAAM,EAAG,GAAK,OAEtB/T,MAKfovC,MAAO,CACL,CACE1vC,KAAM,QACNtB,KAAM,eAEN0wC,UAAW,CACT1kC,MAAO,UACPy2B,SAAU,GACVlJ,OAAQ,IAMVgX,cAAe,CACbvkC,MAAO,UACPy2B,SAAU,GAEV5d,QAAS,CAAC,EAAG,EAAG,EAAG,MAErBkvC,QAAS,KAGbhxB,OAAQ,CACN,CAEEzhC,KAAM,MACN0yD,OAAQ,KAERC,YAAY,GACZ3wB,UAAW,CACTt3B,MAAO,CACL1K,KAAM,SACNygC,EAAG,EACHY,EAAG,EACHuxB,GAAI,EACJC,GAAI,EACJtxB,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,WAET,CACE82B,OAAQ,GACR92B,MAAO,WAET,CACE82B,OAAQ,EACR92B,MAAO,aAIbooD,aAAc,CAAC,EAAG,EAAG,EAAG,KAG1B,CAEA9yD,KAAM,MACN0yD,OAAQ,KAERC,YAAY,GACZ3wB,UAAW,CACTt3B,MAAO,CACL1K,KAAM,SACNygC,EAAG,EACHY,EAAG,EACHuxB,GAAI,EACJC,GAAI,EACJtxB,WAAY,CACV,CACEC,OAAQ,EACR92B,MAAO,WAGT,CACE82B,OAAQ,EACR92B,MAAO,aAIbooD,aAAc,CAAC,EAAG,EAAG,EAAG,OAqChC,OAhBKzB,IAEHA,EAAezwB,KAAQ3kB,KAAKk1C,EAAOvjC,SAEnCmjC,EAAaM,GAEb78C,GAAiB68C,IAKnBa,EAAUP,QAAQlW,OAASgW,EAI3BJ,EAAanvB,UAAUgwB,GAChB,WAGLb,EAAa2B,UAId,CAACnC,EAAQjsB,IAGV,yBAAKngC,UAAS,oCAA+BA,GAAwB,GAAvD,MACX,yBAAKA,UAAU,UACd,uBAAGA,UAAU,UACVmgC,GAAcA,EAAW7lC,MAAQ6lC,EAAW7lC,MAAQ,GADvD,+DAEY,0BAAM0F,UAAU,YAAY2uD,GAFxC,qBAIE,0BAAM3uD,UAAU,YAAY4uD,GAJ9B,iFAKE,0BAAM5uD,UAAU,YAAY6uD,GAL9B,qBAME,0BAAM7uD,UAAU,YAAYgsD,GAN9B,gBAQA,uBAAGhsD,UAAU,YAAb,SAA0BmgC,EAAWutB,IAArC,2FAIF,yBAAKntD,IAAKmsD,EAAQ1sD,UAAU,eAKlC,IAAM+tB,GAAkB,SAAC9wB,GAIvB,MAAO,CAAE02B,UADL12B,EADFjB,WAAc23B,YCnWZra,IDuWS2U,kBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW4pC,MCvWnCnkC,GAAfjR,YAMC,SAAS+1C,KAA0B,IAAfr5B,EAAc,uDAAJ,GAC7B1U,EAA2C0U,EAA3C1U,SAAUC,EAAiCyU,EAAjCzU,UAAWE,EAAsBuU,EAAtBvU,YAAawe,EAASjK,EAATiK,KACpCr2B,EACF0P,GAAU,0CAERgI,GAAsB,GAFd,sBAGIC,GAAwB,GAH5B,wBAIRE,GAA4B,GAJpB,iBAKDwe,GAAc,IAKzB,OAAOjmB,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,aAkBAJ,EAAK4E,KAAO5E,EAAK4E,KAAO,OCQvC,SAAS6uC,GAAsBtyD,EAAOuD,GAAK,IAKvC0/B,EAMEjjC,EANFijC,KAEAC,GAIEljC,EALF+lB,WAKE/lB,EAJFkjC,kBACA5e,EAGEtkB,EAHFskB,SACAC,EAEEvkB,EAFFukB,UACA4e,EACEnjC,EADFmjC,WAEM1e,EAA8B0e,EAA9B1e,YAZiC,GAYH0e,EAAjBze,aAEyByB,oBAAS,IAdd,mBAclCosC,EAdkC,KAcjBC,EAdiB,OAeCrsC,oBAAS,GAfV,mBAoBnCssC,GApBmC,UAoB3BlnC,iBAAO,OACfmnC,EAAQnnC,iBAAO,MAwCrB,OAtCAnB,2BAAgB,WAEc,oBAArB8Y,GACLA,EAAiB,CACf,CAAE3/B,IAAKkvD,EAAMtmC,QAASlvB,KAAM,4BAC5B,CAAEsG,IAAKmvD,EAAMvmC,QAASlvB,KAAM,gCAG/B,IAEH0pB,qBAAU,WAEJsc,aAAgBp3B,QAElBwmD,GAAW,CACTpvB,KAAMA,EAAKp/B,MACXygB,WACAC,YACAE,gBACCzG,MAAK,SAACnf,GACHA,GACF2zD,EAAmB3zD,QAexB,CAACokC,EAAM3e,EAAUC,EAAWE,IAG7B,yBAAKzhB,UAAU,yBACb,kBAAC,GAAD,CAAK21B,SAAU45B,EAAiBt3B,QAAS,wCAAW13B,IAAKkvD,GACvD,kBAAC,GAAD,CAAiB5zD,KAAM0zD,EAAiBpvB,WAAYA,MAc5D,IAAMpS,GAAkB,SAAC9wB,GAOvB,MAAO,CAAE8lB,WAFL9lB,EAHFjB,WACE8jB,SAAYiD,a,IAMHkL,kBAAQF,GAARE,CACb3kB,eAAKwb,qBAAWwqC,M,mBCjJZh2C,GAAeiR,GAAfjR,WACC3c,GAAUC,KAAVD,OAEP,SAASgzD,GAAY3yD,EAAOuD,GAAM,IAE9BhF,EAkBEyB,EAlBFzB,KACAq0D,EAiBE5yD,EAjBF4yD,WACAC,EAgBE7yD,EAhBF6yD,SACAC,EAeE9yD,EAfF8yD,aACA9vD,EAcEhD,EAdFgD,UACA+vD,EAaE/yD,EAbF+yD,UACAC,EAYEhzD,EAZFgzD,UACAC,EAWEjzD,EAXFizD,aACA9hC,EAUEnxB,EAVFmxB,YACA1B,EASEzvB,EATFyvB,aACAgkB,EAQEzzC,EARFyzC,UACAxK,EAOEjpC,EAPFipC,UACAiqB,EAMElzD,EANFkzD,cACAC,EAKEnzD,EALFmzD,cACAC,EAIEpzD,EAJFozD,iBACAhuC,EAGEplB,EAHFolB,SACAiuC,EAEErzD,EAFFqzD,WAlB6B,EAuBCltC,mBAC9B0sC,GAxB6B,mBAuBxBS,EAvBwB,KAuBdC,EAvBc,OAsCCptC,mBAAS,CACvC,CAAEtiB,MAAO,eAAgBvG,MAAO,4BAChC,CAAEuG,MAAO,kBAAmBvG,MAAO,4BACnC,CAAEuG,MAAO,gBAAiBvG,MAAO,4BACjC,CAAEuG,MAAO,YAAavG,MAAO,4BAC7B,CAAEuG,MAAO,iBAAkBvG,MAAO,4BAClC,CAAEuG,MAAO,aAAcvG,MAAO,0CA5CD,mBAsCxBk2D,EAtCwB,aA+CKrtC,mBAASmtC,EAAS,GAAKA,EAAS,GAAK,KA/C1C,mBA+CxBG,EA/CwB,KA+CZC,EA/CY,OAgDKvtC,mBAASqtC,EAAS,GAAKA,EAAS,GAAK,IAhD1C,mBAgDxBG,EAhDwB,aAmDextC,mBAAS,KAnDxB,mBAmDPytC,GAnDO,aAsDSztC,mBAAS,IAtDlB,mBAsDxB0tC,EAtDwB,KAsDVC,EAtDU,OAwDS3tC,mBAAS,IAxDlB,mBAwDxBkL,EAxDwB,KAwDV0iC,EAxDU,OA0DS5tC,mBAAS,IA1DlB,mBA0DxBiL,EA1DwB,KA0DV4iC,EA1DU,QA2DiB7tC,mBAAS,IA3D1B,qBA2DxB8tC,GA3DwB,MA2DNC,GA3DM,SA6Da/tC,oBAAS,GA7DtB,qBA6DxBguC,GA7DwB,MA6DRC,GA7DQ,SA8DDjuC,mBAAS,IA9DR,qBA8DxBkuC,GA9DwB,MA8DfC,GA9De,SA+DSnuC,mBAAS,IA/DlB,qBA+DxBouC,GA/DwB,MA+DVC,GA/DU,SAgEOruC,mBAAS,IAhEhB,qBAgExBsuC,GAhEwB,MAgEXC,GAhEW,SAiEiBvuC,mBAAS,IAjE1B,qBAiExBwuC,GAjEwB,MAiENC,GAjEM,SAkEWzuC,oBAAS,GAlEpB,qBAkExB0uC,GAlEwB,MAkETC,GAlES,SAmEW3uC,oBAAS,GAnEpB,qBAmExB4uC,GAnEwB,MAmETC,GAnES,SAqEO7uC,mBAAS,IArEhB,qCAsEKA,mBAAS,IAtEd,qBAsExB8uC,GAtEwB,MAsEZC,GAtEY,SAuEe/uC,mBAAS,GAvExB,qBAuExBgvC,GAvEwB,MAuEPC,GAvEO,SAyEajvC,mBAAS,IAzEtB,qBAyExBkvC,GAzEwB,MAyERC,GAzEQ,MA4EzBC,GAAShqC,iBAAO,IAEtB5E,qBAAU,gBAEOhiB,IAAfiuD,GAA4Bc,EAAcd,KACzC,CAACA,IACJjsC,qBAAU,cAKP,CAAC8sB,IACJ9sB,qBAAU,WAIR,IAAI8L,EAAUviB,eAAeM,QAAQ,gBACjCglD,EAAkB,GAEH,WAAhB/lC,GAA6BwZ,EAAU97B,OAAS,IACjDqoD,EAAkBvsB,EAAUwsB,QAAO,SAACxuD,GAClC,OAAOA,EAAKyrB,SAAWrB,MAGxB+hC,EAAiBjmD,OAAS,GAC3BimD,EAAiBnkD,SAAQ,SAAChI,GACxBuuD,EAAgB1nD,KAAK7G,OAGrBoqB,GAAgC,WAAhB5B,KAGhB2B,GAAgC,WAAhB3B,EAIjBgD,EACDuhC,EAAgBvhC,GACR+iC,EAAgB,IACxBxB,EAAgBwB,EAAgB,GAAG/iC,SANnCuhC,EAAgB,OAQjB,CAAC/qB,EAAW5X,EAAc+hC,IAC7BzsC,qBAAU,WACRsiB,EAAUh6B,SAAQ,SAAChI,GACdA,EAAKwrB,SAAWrB,GAAgBA,IACjC8iC,GAAoBjtD,EAAKjE,WACzBsxD,GAAWrtD,SAIhB,CAACmqB,EAAcgiC,IAEhBhpC,2BAAgB,WACd,IAAIorC,EAAkB,GAAI/hB,EAAY,GACtCxK,EAAUh6B,SAAQ,SAAChI,GACjBwsC,EAAU3lC,KAAK7G,EAAKivB,eAEtBud,EAAS,aAAO,IAAIlF,IAAIkF,KACdxkC,SAAQ,SAAChI,GACjB,IAAIkuB,EAAM,GACV8T,EAAUh6B,SAAQ,SAACjF,GACdA,EAAMksB,WAAajvB,GACpBkuB,EAAIrnB,KAAK9D,MAGbwrD,EAAgB1nD,KAAK,CACnBooB,UAAWjvB,EACXgiC,UAAW9T,OAGfmgC,GAAkBE,KACjB,CAACvsB,IAEJtiB,qBAAU,gBACShiB,IAAbkuD,IACJU,EAAYV,QACGluD,IAAfiuD,QACiBjuD,IAAf8uD,GACAC,EAAcb,EAAS,GAAKA,EAAS,GAAK,OAE3C,CAACA,IACJ,IAAM6C,GAAU3sC,mBAAQ,WAEtB,OAAOxqB,GAAc,YACpB,CAACA,IAhK2B,GAkKSwqB,mBAAQ,WAC9C,IAAIlqB,EAAO,CAAE82D,UAAU,GAIvB,OAHI5C,GAAyB,WAAZ2C,KACf72D,EAAI,aAAK82D,UAAU,GAAS5C,IAEvBl0D,IACN,CAACk0D,EAAW2C,KANPC,GAlKuB,GAkKvBA,SAAUnF,GAlKa,GAkKbA,SAAUoF,GAlKG,GAkKHA,QAQ5BxrC,2BAAgB,WACd,GAAmB,WAAhBqF,EAAH,CAGA,IAAInM,EAASpT,eAAeM,QAAQ,YAAYR,KAAKS,MAAMP,eAAeM,QAAQ,aAAa8S,OAAQ,GACnGN,EAAW9S,eAAeM,QAAQ,YAAYR,KAAKS,MAAMP,eAAeM,QAAQ,aAAawS,SAAU,GACvGpW,EAAM0P,GAAa,uCAAyC0G,EAChE,cAAgBM,EAChBtG,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACe,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAChCm1D,EAAgBtgD,EAAO7U,KAAK4zB,SAC5BshC,EAAgBrgD,EAAO7U,KAAK6zB,gBAG/B,CAACjD,IAEJ9I,qBAAU,WACgB,oBAAjBmsC,GAA+BA,EAAaW,KAGlD,CAACA,IAEJ9sC,qBAAU,WACgB,oBAAjBssC,GAA+BA,EAAaU,KAElD,CAACA,IACJhtC,qBAAU,WACiB,oBAAlBusC,GAAgCA,EAAc9hC,KAEpD,CAACA,IAEJhH,2BAAgB,WACd,IAAI9G,EAAStT,KAAKS,MAAMP,eAAeM,QAAQ,aAAa8S,OACxD1W,EAAM0P,GAAa,0CAA4CgH,EACnEtG,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACe,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAGhC+0D,EAAmBlgD,EAAO7U,WAG7B,IAEH8nB,qBAAU,WAGR,GADyB,oBAAlBwsC,GAAgCA,EAAc9hC,GAClC,WAAhB5B,EAAH,CAGA,IAAI+lC,EAAkB,GAClBnkC,IAGD4X,EAAU97B,OAAS,IACpBqoD,EAAkBvsB,EAAUwsB,QAAO,SAACxuD,GAClC,OAAOA,EAAKyrB,SAAWrB,MAGxB+hC,EAAiBjmD,OAAS,GAC3BimD,EAAiBnkD,SAAQ,SAAChI,GACxBuuD,EAAgB1nD,KAAK7G,OAGN,WAAhBwoB,GAA8B2B,IAG9BokC,EAAgB,IACjBxB,EAAgBwB,EAAgB,GAAG/iC,aAIpC,CAACpB,IAEJjH,2BAAgB,WACd,IAAcyrC,EAAc,GAC5B,GAAkC,MAA/B7lD,KAAKC,UAAUwkD,KAA4D,MAApCzkD,KAAKC,UAAU0kD,IAAzD,CAGe,gBAAZvvC,IACDywC,EAAc,CAAC,qBAAsB,WAAY,eAAgB,eAAgB,YAEpE,mBAAZzwC,IACDywC,EAAc,CAAC,WAAY,YAAa,aAAc,QAAS,UAElD,iBAAZzwC,IACDywC,EAAc,CAAC,0BAA2B,YAAa,kBAAmB,gBAE5E,IAAIC,EAAU,EAAGC,EAAe,EAChC,GAAGF,EAAY1oD,OAAS,EACtB,IAAI,IAAItJ,KAAS4wD,GACZoB,EAAYhpD,SAAShJ,IAAU4wD,GAAY5wD,GAAS8wD,GAAiB9wD,IACtEiyD,IAECD,EAAYhpD,SAAShJ,IAAU4wD,GAAY5wD,GAAS8wD,GAAiB9wD,IACtEkyD,SAIJ9rD,MAAM4qB,QAAQ4/B,GAAYuB,aAC1BvB,GAAYuB,WAAW/mD,SAAQ,SAAChI,GAC9BgD,MAAM4qB,QAAQ8/B,GAAiBqB,aAC/BrB,GAAiBqB,WAAW/mD,SAAQ,SAACjF,GAChCA,EAAMisD,aAAehvD,EAAKgvD,aAAejsD,EAAMygC,MAAQxjC,EAAKwjC,OAC7DsrB,IAEC/rD,EAAMisD,aAAehvD,EAAKgvD,aAAejsD,EAAMygC,MAAQxjC,EAAKwjC,OAC7DqrB,UAKRxlD,QAAQC,IAAIslD,EAAaC,EAASC,EAAc,MAChDb,GAAcY,GACdV,GAAmBW,MAClB,CAACtB,GAAaE,KAEjB,IAAMuB,GAAmB,SAACryD,GAYT,gBAAZuhB,IACDvhB,EAAQ,eAEV,IAAImf,EAAW9S,eAAeM,QAAQ,YAAaR,KAAKS,MAAMP,eAAeM,QAAQ,aAAawS,SAAU,GACxGpW,EAAM0P,GAAa,+BAAiC0G,EACxD,YAAcqO,EACd,YAAcD,EACd,iBAAmBvtB,EACnB,gBAA2B,mBAATA,EAA4B,EAAG,GAEjDzC,OAAOuL,SAASV,KAAOW,GA6BnBupD,GAAa,WACjB,IAAIzmC,EAAOvuB,IAAE,IAAD,OAAKikB,IACjBgxC,KAAY1mC,EAAK,GAAI,CACnBruB,MAAOquB,EAAKruB,QAAU,GACtBE,OAAQmuB,EAAKnuB,SAAW,GACxB80D,MAAc,IAId12B,gBAAiB,YAChB3hB,MAAK,SAAAs4C,GACN,IAAMC,EAASD,EAAOE,YAMlBtiD,EAAItS,SAAS6P,cAAc,KAC/ByC,EAAEjI,KAAOsqD,EACT,IAAIE,EAAU,GACC,gBAAZrxC,IACDqxC,GAAW,6BAEE,mBAAZrxC,IACDqxC,GAAW,6BAEE,iBAAZrxC,IACDqxC,GAAW,6BAEE,kBAAZrxC,IACDqxC,GAAW,6BAEE,aAAZrxC,IACDqxC,GAAW,6BAEE,iBAAZrxC,IACDqxC,GAAW,yCAEb,IAAIC,EAAWjD,EAAW5vD,MAAOmM,KAAKS,MAAMgjD,EAAW5vD,OAAO6yD,SAAU,GACpExgC,EAAY,GAChBjsB,MAAM4qB,QAAQ4e,IAAcA,EAAUzsC,KAAI,SAACC,EAAMiD,GAC5CjD,EAAKyrB,SAAWrB,IACjB6E,EAAYjvB,EAAKivB,cAGrBhiB,EAAEyiD,SAAWF,EAAUC,GAAYxgC,EAAU,IAAMA,EAAW,KAAO+9B,GAAiB,IAAMA,GAAkB,IAC9G,IAAInyD,EAAQ,IAAI80D,WAAW,SAC3B1iD,EAAEwT,cAAc5lB,OAId+0D,GAAe,SAACh4D,EAAM7B,GAC1B,IAAI4P,EAAM,GACN0nB,EAAW,IAAIC,SAYnB,GAAe,gBAAZnP,GAIH,GAAe,mBAAZA,EAAH,CAGA,GAAe,iBAAZA,EAA4B,CAC7BkP,EAASE,OAAO,gBAAiB31B,EAAK41B,MAGtC,IAAIzR,EAAWhT,KAAKS,MAAMP,eAAeM,QAAQ,aAAawS,SACpD,mBAAPhmB,IACD4P,EAAM0P,GAAa,4CAA8C8U,EACjE,aAAepO,GAEP,6BAAPhmB,IACD4P,EAAM0P,GAAa,qDAAuD8U,EAC1E,aAAepO,GAEP,wBAAPhmB,IACD4P,EAAM0P,GAAa,gDAAkD8U,EACrE,aAAepO,GAGJ,kBAAZoC,IACDkP,EAASE,OAAO,OAAQ31B,EAAK41B,MAGnB,gBAAPz3B,IACD4P,EAAM0P,GAAa,uCAEX,mBAAPtf,IACD4P,EAAM0P,GAAa,2CAIR,aAAZ8I,IACDkP,EAASE,OAAO,OAAQ31B,EAAK41B,MAGnB,qBAAPz3B,IACD4P,EAAM0P,GAAa,6BAEX,uBAAPtf,IACD4P,EAAM0P,GAAa,qCAEX,eAAPtf,IACD4P,EAAM0P,GAAa,mCAEX,wBAAPtf,IACD4P,EAAM0P,GAAa,0CAIR,iBAAZ8I,IACDkP,EAASE,OAAO,OAAQ31B,EAAK41B,MAGnB,oBAAPz3B,IACD4P,EAAM0P,GAAa,sCAEX,gBAAPtf,IACD4P,EAAM0P,GAAa,sCAGvBnb,IAAEyZ,KAAK,CACLhO,IAAKA,EACLrO,KAAM,OACNm2B,OAAO,EACP71B,KAAMy1B,EACNzZ,SAAS,OACTiD,OAAO,EACP6W,aAAc,EACdC,aAAa,EACbpX,QAAS,CACP,cAAiB,WAAatN,eAAeM,QAAQ,UAEvDO,QAAS,SAASlS,GAChB,GAAkB,KAAfA,EAAKmgB,OAAc,CACpB,IAAI0Q,EAAOvuB,IAAE,qBACTwuB,EAAe,EACnBD,EAAKE,MAAK,SAAC1lB,EAAOjD,GACb9F,IAAE8F,GAAM4oB,KAAK,WAA6D,GAAjD1uB,IAAE8F,GAAM4oB,KAAK,SAASriB,QAAQ,iBACxDmiB,EAAezlB,EAAQ,MAG3B,IAAI0C,EAAM0P,GAAa,2BAA6BqT,EAMpD,GALA3S,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,OAEQ,iBAAZ0R,EAA4B,CAC7B,GAAU,mBAAPpoB,EAAyB,CAC1B,IAAI4P,EAAM0P,GAAa,oCAqBvB,YApBAnb,IAAEyZ,KAAK,CACLhO,IAAKA,EACLrO,KAAM,OACNm2B,OAAO,EACP71B,KAAMy1B,EACNzZ,SAAS,OACTiD,OAAO,EACP6W,aAAc,EACdC,aAAa,EACbpX,QAAS,CACP,cAAiB,WAAatN,eAAeM,QAAQ,UAEvDO,QAAS,SAASlS,GAChB8xB,KAAQ5f,QAAQ,6BAChBsiD,GAAW,IAEbriD,MAAO,WACL2f,KAAQ5f,QAAQ,gCAKtB,GAAU,6BAAP/T,EAAmC,CACpC,IAAI4P,EAAM0P,GAAa,6CAqBvB,YApBAnb,IAAEyZ,KAAK,CACLhO,IAAKA,EACLrO,KAAM,OACNm2B,OAAO,EACP71B,KAAMy1B,EACNzZ,SAAS,OACTiD,OAAO,EACP6W,aAAc,EACdC,aAAa,EACbpX,QAAS,CACP,cAAiB,WAAatN,eAAeM,QAAQ,UAEvDO,QAAS,SAASlS,GAChB8xB,KAAQ5f,QAAQ,6BAChBsiD,GAAW,IAEbriD,MAAO,WACL2f,KAAQ5f,QAAQ,gCAKtB,GAAU,wBAAP/T,EAA8B,CAC7B,IAAI4P,EAAM0P,GAAa,wCAqBvB,YApBAnb,IAAEyZ,KAAK,CACLhO,IAAKA,EACLrO,KAAM,OACNm2B,OAAO,EACP71B,KAAMy1B,EACNzZ,SAAS,OACTiD,OAAO,EACP6W,aAAc,EACdC,aAAa,EACbpX,QAAS,CACP,cAAiB,WAAatN,eAAeM,QAAQ,UAEvDO,QAAS,SAASlS,GAChB8xB,KAAQ5f,QAAQ,6BAChBsiD,GAAW,IAEbriD,MAAO,WACL2f,KAAQ5f,QAAQ,iCAO1B4f,KAAQ5f,QAAQ,iCACX,CAEL,GAAkB,OAAflS,EAAKmgB,QAAmBngB,EAAKugB,MAAoC,GAA7BvgB,EAAKugB,IAAI5R,QAAQ,QAGtD,OAFAmjB,KAAQ5f,QAAQ,6IAA2B,QAC3C3P,OAAOuL,SAASV,KAAOqQ,GAAa,mCAAqCzd,EAAKugB,KAGhFuR,KAAQ3f,MAAM,iJAKlBA,MAAM,SAAS8N,GAEb6R,KAAQ3f,MAAM,wJAtLhBmgB,EAAY,WAiNV2lC,GAAU,WACdC,GAAa,WACb3C,IAAkB,IAGd2C,GAAe,SAACx4D,EAAMM,GAC1B,IAAc4zB,EAAV7lB,EAAM,GAQV,GAFE6lB,EAAU5zB,EAAMA,EAAK4zB,QAAS5zB,EAAK4zB,QAAS,GAAIrB,EAElD,CAGA,IAAIpO,EAAW9S,eAAeM,QAAQ,YACtCR,KAAKS,MAAMP,eAAeM,QAAQ,aAAawS,SAC/C,GACIknB,EAAkBupB,EAAW5vD,MAAOmM,KAAKS,MAAMgjD,EAAW5vD,OAAQ,GAClEolC,EAAY/4B,eAAeM,QAAQ,aACvCR,KAAKS,MAAMP,eAAeM,QAAQ,cAClC,GACI04B,EAAe,GACnBD,EAAUh6B,SAAQ,SAAChI,GACZA,EAAKwrB,SAAWrB,IACf8X,EAAejiC,EAAKyrB,YAGb,gBAAZtN,IACDxY,EAAM0P,GAAa,6BAA+BmW,GAErC,mBAAZrN,IACDxY,EAAM0P,8CACQmW,EACd,WAAayX,EAAgBf,OAC7B,WAAae,EAAgBd,UAAUc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IAChF,SAAWs5B,EAAgBb,QAAQa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,KAE7D,iBAAZwU,IACDxY,EAAM0P,GAAa,8DAAgEmW,EACnF,YAAcyW,EACd,aAAelmB,EACf,6BAA+BknB,EAAgBd,UAAUc,EAAgBd,UAAUx4B,OAAO,EAAG,IAAK,IAClG,SAAWs5B,EAAgBb,QAAQa,EAAgBb,QAAQz4B,OAAO,EAAG,IAAK,KAE7D,kBAAZwU,IACDxY,EAAM0P,GAAa,0CAA4C0G,EAC/D,YAAcyP,GAED,aAAZrN,IACDxY,EAAM0P,GAAa,kCAAoC0G,EACvD,YAAcyP,GAED,iBAAZrN,IACDxY,EAAM0P,GAAa,qCAAuC0G,EAC1D,YAAcyP,GAIhBzV,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACe,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OACrB,WAARN,GACDm2D,GAAehhD,EAAO7U,MAEb,gBAARN,GACDq2D,GAAoBlhD,EAAO7U,YAyGnC,OApGAurB,2BAAgB,WAEd,OAAOhF,GACL,IAAK,kBACD0uC,EAAgB,CACd,CACE72D,KAAM,mDACN4G,MAAO,cAET,CACE5G,KAAM,mDACN4G,MAAO,cAET,CACE5G,KAAM,mDACN4G,MAAO,gBAGX,MACJ,IAAK,gBACHiwD,EAAgB,CACd,CACE72D,KAAM,mDACN4G,MAAO,mBAET,CACE5G,KAAM,mDACN4G,MAAO,6BAET,CACE5G,KAAM,mDACN4G,MAAO,0BAGT,MACJ,IAAK,YACDiwD,EAAgB,CACd,CACE72D,KAAM,mDACN4G,MAAO,eAET,CACE5G,KAAM,+DACN4G,MAAO,qBAET,CACE5G,KAAM,mDACN4G,MAAO,uBAET,CACE5G,KAAM,+DACN4G,MAAO,0BAGX,MACJ,IAAK,iBACDiwD,EAAgB,CACd,CACE72D,KAAM,mDACN4G,MAAO,gBAET,CACE5G,KAAM,mDACN4G,MAAO,qBAGX,MACJ,IAAK,gBACDiwD,EAAgB,CACd,CACE72D,KAAM,+DACN4G,MAAO,gBAET,CACE5G,KAAM,+DACN4G,MAAO,yBAOhB,CAACuhB,IACJ6E,8BACE1mB,GACA,iBAAO,CACLkwD,aACA8B,UACA5B,aACAviC,eACAC,kBAEF,CAACoiC,EAAYE,EAAYviC,EAAcC,IAGzCjH,2BAAgB,WACO,oBAAd4oC,GAA4BA,EAAU7xD,IAAEo0D,GAAOppC,SAAS5qB,YAE9D,IAGD,yBAAKgC,IAAKgyD,GAAQvyD,UAAS,uBAAkBA,GAAwB,KAClE2yD,GACC,yBAAK3yD,UAAU,WACb,uBAAGA,UAAU,SACX,uBAAG9B,MAAO,CAAEimB,gBAAiByuC,IAAkB,UAC9CpF,IAAsB,iBAI3B,GAEF,yBAAKxtD,UAAU,eAEK,WAAhBysB,EACA,yBAAKzsB,UAAU,mBAAmB9B,MAAO,CAACo6B,WAAY,IACpD,2DACA,kBAAC,KAAD,CACEz3B,MAAOowD,GACPjxD,UAAU,sBACV0D,SAAU,SAAC7C,GACTqM,eAAeC,QAAQ,eAAgBtM,GACvCmwD,EAAgBnwD,KAIhBoG,MAAM4qB,QAAQu+B,IAAqBA,EAAiBpsD,KAAI,SAACC,EAAMiD,GAC7D,OACE,kBAAC,GAAD,CACAlN,IAAKkN,EACLrG,MAAOoD,EAAKwrB,SACVxrB,EAAKjE,gBAMjB,GAEF,kBAACuJ,GAAD,CACElL,MAAO,IACPE,OAAQ,IACRoI,SAAU2pD,EACVh2D,MAAO,iCACPuG,MAAO4vD,EAAW5vD,MAClBb,UAAS,wBAAmB2yD,GAAW,kBAAoB,IAC3DjvD,SAAU,SAAClG,KACXqJ,SAAU,SAACrJ,EAAGsJ,GAEZ4pD,EAAc5pD,MAIA,WAAhB2lB,EACA,yBAAKvuB,MAAO,CAACoC,QAAS,iBACpB,yBAAKN,UAAU,oBACb,+CACA,kBAAC,KAAD,CACAa,MAAOwtB,EACPruB,UAAU,sBACV0D,SAAU,SAAC7C,GAAD,OAASkwD,EAAgBlwD,KAEjC,kBAAC,GAAD,CAAQA,MAAM,IAAd,gBAEIoG,MAAM4qB,QAAQ4e,IAAcA,EAAUzsC,KAAI,SAACC,EAAMiD,GAC/C,OACE,kBAAC,GAAD,CACAlN,IAAKkN,EACLrG,MAAOoD,EAAKyrB,SACVzrB,EAAKivB,gBAMnB,yBAAKlzB,UAAU,oBACb,+CACA,kBAAC,KAAD,CACAa,MAAOutB,EACPpuB,UAAU,sBACV0D,SAAU,SAAC7C,GACTqM,eAAeC,QAAQ,eAAgBtM,GACvCmwD,EAAgBnwD,KAEhB,kBAAC,GAAD,CAAQA,MAAM,IAAd,gBAEIoG,MAAM4qB,QAAQoU,IAAcA,EAAUjiC,KAAI,SAACC,EAAMiD,GAC/C,GAAGjD,EAAKyrB,SAAWrB,IAAiBA,EAClC,OACE,kBAAC,GAAD,CACAr0B,IAAKkN,EACLrG,MAAOoD,EAAKwrB,SACVxrB,EAAKjE,iBASvB,GAkBgB,WAAhBysB,EACA,yBAAKzsB,UAAU,aAEC,gBAAZoiB,GAA0C,mBAAZA,EAC9B,GACAyuC,EAAa1mD,OAAS,EACtB,kBAAC,KAAD,CACA3D,UAAU,SACV61B,QAAQ,QACR77B,GAAG,0BACHq+B,QACE,wBAAI7+B,UAAU,iBAEV6wD,EAAa7sD,KAAI,SAACC,GAChB,OACE,wBAAIxD,QAAS,kBAAIyyD,GAAiBjvD,EAAKpD,SAASoD,EAAKhK,WAM/D,yBAAK+F,UAAU,gBAAf,6BAKA,yBAAKA,UAAU,eAAeS,QAASyyD,IAAvC,4BAMY,gBAAZ9wC,EACA,yBAAKpiB,UAAU,aAAaS,QAASozD,IACnC,uBAAG7zD,UAAU,eADf,gBAIA6wD,EAAa1mD,OAAS,EACV,mBAAZiY,EAsCA,yBAAKpiB,UAAU,aAAaS,QAhqBjB,SAACzG,EAAK6B,GAQ3BoqC,EAAUh6B,SAAQ,SAAChI,GACdA,EAAKwrB,SAAWrB,GACLnqB,EAAKjE,aAGrB,IAAIgX,EAAQ9J,eAAeM,QAAQ,UAAYhE,GAAiB,SAC5DI,EAAM0P,GAAa,qCACvBU,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACL,GAAoB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,KAAK,CACrC,IAAI+N,EAAM8G,EAAO7U,KAAKm4D,WAAa,4BAA8Bh9C,EACjE5Y,OAAOorB,KAAK5f,SA4oBJ,uBAAG5J,UAAU,eADf,gBAOA,kBAAC,KAAD,CACAwG,UAAU,SACV61B,QAAQ,QACRr8B,UAAU,0BACV6+B,QACE,wBAAI7+B,UAAU,iBAEV6wD,EAAa7sD,KAAI,SAACC,EAAMiD,GACtB,OACE,kBAAC,KAAD,CACAmqB,cAAe,SAACI,GAAD,OAAQoiC,GAAapiC,EAAMxtB,EAAKpD,QAC/CixB,gBAAgB,EAChBpuB,SAAY,YAAwB,EAArB+tB,KAAqB,EAAfwiC,WAMjB,wBAAIj6D,IAAKkN,GACNjD,EAAKhK,KAAKyQ,QAAQ,eAAM,WASzC,yBAAK1K,UAAU,cACb,uBAAGA,UAAU,eADf,iBAOA,kBAAC,KAAD,CACEqxB,cAAewiC,GACf/hC,gBAAgB,GAEhB,yBAAK9xB,UAAU,cACb,uBAAGA,UAAU,eADf,iBAOJ,yBAAKA,UAAU,aAAaS,QAAS0yD,IACnC,uBAAGnzD,UAAU,eADf,gBAIA,yBAAKA,UAAU,WAAWS,QAASqzD,IACjC,uBAAG9zD,UAAU,WADf,mBAKc,WAAhBysB,EACA,yBAAKzsB,UAAU,aACb,yBAAKA,UAAU,iBAAiBS,QAAS0yD,IACvC,uBAAGnzD,UAAU,eADf,gBAQA,yBAAKA,UAAU,WAAWS,QAASqzD,IACjC,uBAAG9zD,UAAU,WADf,mBAKF,yBAAKA,UAAU,aACf,yBAAKA,UAAU,iBAAiBS,QAAS0yD,IACvC,uBAAGnzD,UAAU,eADf,kBAQJ,kBAAC,KAAD,CACA1F,MAAM,GACN45D,cAAc,gBACdrsD,QAASspD,GACT9yD,MAAO,IACPiJ,UAAU,EACVD,UAAW,CAAC9I,OAAQ,KACpBgJ,OAAQ,MAEN,yBAAKvH,UAAU,eACb,yBAAKA,UAAU,YAEb,yBAAKA,UAAU,cACb,uBAAGA,UAAU,gBACb,0BAAMA,UAAU,cAAcqxD,GAAQrxD,UAAWqxD,GAAQrxD,UAAW,4BAElD,WAAhBysB,EACA,0BAAMzsB,UAAU,mBAAmBS,QAAS,kBAAIuxD,IAAiB,KAAjE,gBACA,IAIJ,yBAAKhyD,UAAU,YAAYiyD,KAE7B,yBAAKjyD,UAAU,WACf,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,cAEb,0BAAMA,UAAU,cAAcuxD,GAAavxD,UAAWuxD,GAAavxD,UAAW,4BAC9E,uBAAGA,UAAU,iBAEf,yBAAKA,UAAU,YAAYmyD,MAG/B,yBAAKnyD,UAAU,kBAEC,gBAAZoiB,EACA,6BACE,yBAAKpiB,UAAU,eAEf,qFACA,6BACE,0BAAMA,UAAU,YAC4B,iBAAlCyxD,GAAYl2B,mBAAgCk2B,GAAYl2B,mBAAqB,SAAK,MAE5F,kBAAC,KAAD,CACAv7B,UAAU,oBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAC2C,iBAAlCyiB,GAAYl2B,mBACnBh8B,SAAUkyD,GAAYl2B,mBAAmBk2B,GAAYrzB,UAAW,KAAK,EAEvEmjB,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAGN,kBAAC,KAAD,CACAjkB,UAAU,yBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QACgD,iBAAvC2iB,GAAiBp2B,mBACxBh8B,SAAUoyD,GAAiBp2B,mBAAmBo2B,GAAiBvzB,UAAW,KAAK,EAEjFmjB,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,0BAAMjkB,UAAU,iBAC+B,iBAAvC2xD,GAAiBp2B,mBAAgCo2B,GAAiBp2B,mBAAqB,SAAK,QAItG,yBAAKv7B,UAAU,eAEb,6DACA,6BACE,0BAAMA,UAAU,YACkB,iBAAxByxD,GAAY52B,SAAqB42B,GAAY52B,SAAW,SAAI,MAEtE,kBAAC,KAAD,CACA76B,UAAU,oBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QACiC,iBAAxByiB,GAAY52B,SACnBt7B,SAAUkyD,GAAY52B,SAAS42B,GAAYrzB,UAAW,KAAK,EAE7DmjB,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAGN,kBAAC,KAAD,CACAjkB,UAAU,yBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QACsC,iBAA7B2iB,GAAiB92B,SACxBt7B,SAAUoyD,GAAiB92B,SAAS82B,GAAiBvzB,UAAW,KAAK,EAEvEmjB,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,0BAAMjkB,UAAU,iBACqB,iBAA7B2xD,GAAiB92B,SAAqB82B,GAAiB92B,SAAW,SAAI,QAIlF,yBAAK76B,UAAU,eAEb,mEACA,6BACE,0BAAMA,UAAU,YACsB,iBAA5ByxD,GAAY12B,aAAyB02B,GAAY12B,aAAe,SAAI,MAE9E,kBAAC,KAAD,CACA/6B,UAAU,oBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QACqC,iBAA5ByiB,GAAY12B,aACnBx7B,SAAUkyD,GAAY12B,aAAa02B,GAAYrzB,UAAW,KAAK,EAEjEmjB,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAGN,kBAAC,KAAD,CACAjkB,UAAU,yBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAC0C,iBAAjC2iB,GAAiB52B,aACxBx7B,SAAUoyD,GAAiB52B,aAAa42B,GAAiBvzB,UAAW,KAAK,EAE3EmjB,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,0BAAMjkB,UAAU,iBAC2B,iBAAjC2xD,GAAiB52B,aAAyB42B,GAAiB52B,aAAe,SAAI,QAI5F,yBAAK/6B,UAAU,eAEb,6DACA,6BACE,0BAAMA,UAAU,YACiB,iBAAvByxD,GAAY91B,QAAoB81B,GAAY91B,QAAU,SAAI,MAEpE,kBAAC,KAAD,CACA37B,UAAU,oBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QACgC,iBAAvByiB,GAAY91B,QACnBp8B,SAAUkyD,GAAY91B,QAAQ81B,GAAYrzB,UAAW,KAAK,EAE5DmjB,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAGN,kBAAC,KAAD,CACAjkB,UAAU,yBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QACqC,iBAA5B2iB,GAAiBh2B,QACxBp8B,SAAUoyD,GAAiBh2B,QAAQg2B,GAAiBvzB,UAAW,KAAK,EAEtEmjB,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,0BAAMjkB,UAAU,iBACsB,iBAA5B2xD,GAAiBh2B,QAAoBg2B,GAAiBh2B,QAAU,SAAI,QAIlF,yBAAK37B,UAAU,eAEb,mEACA,6BACE,0BAAMA,UAAU,YACsB,iBAA5ByxD,GAAYt2B,aAAyBs2B,GAAYt2B,aAAe,SAAI,MAE9E,kBAAC,KAAD,CACAn7B,UAAU,oBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QACqC,iBAA5ByiB,GAAYt2B,aACnB57B,SAAUkyD,GAAYt2B,aAAas2B,GAAYrzB,UAAW,KAAK,EAEjEmjB,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAGN,kBAAC,KAAD,CACAjkB,UAAU,yBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAC0C,iBAAjC2iB,GAAiBx2B,aACxB57B,SAAUoyD,GAAiBx2B,aAAaw2B,GAAiBvzB,UAAW,KAAK,EAE3EmjB,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,0BAAMjkB,UAAU,iBAC2B,iBAAjC2xD,GAAiBx2B,aAAyBw2B,GAAiBx2B,aAAe,SAAI,SAKlF,mBAAZ/Y,EACA,6BACE,yBAAKpiB,UAAU,eAEf,6DACA,6BACE,0BAAMA,UAAU,YACe,iBAArByxD,GAAYhqB,MAAmBgqB,GAAYhqB,MAAQ,SAAK,MAElE,kBAAC,KAAD,CACAznC,UAAU,oBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAAqC,iBAArByiB,GAAYhqB,MAAmBgqB,GAAYhqB,MAAO,EAClE8Z,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAGN,kBAAC,KAAD,CACAjkB,UAAU,yBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAA0C,iBAA1B2iB,GAAiBlqB,MAAmBkqB,GAAiBlqB,MAAO,EAC5E8Z,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,0BAAMjkB,UAAU,iBACkB,iBAA1B2xD,GAAiBlqB,MAAmBkqB,GAAiBlqB,MAAQ,SAAK,QAI5E,yBAAKznC,UAAU,eAEb,6DACA,6BACE,0BAAMA,UAAU,YACbyxD,GAAYtpB,YAA2C,IAA/Bz2B,OAAO+/C,GAAYtpB,aAAiBl2B,QAAQ,GAAK,IAAI,MAEhF,kBAAC,KAAD,CACAjS,UAAU,oBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAASyiB,GAAYtpB,YAA2C,IAA/Bz2B,OAAO+/C,GAAYtpB,aAAiBl2B,QAAQ,GAAG,EAChFsvC,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAGN,kBAAC,KAAD,CACAjkB,UAAU,yBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAAS2iB,GAAiBxpB,YAAgD,IAApCz2B,OAAOigD,GAAiBxpB,aAAiBl2B,QAAQ,GAAG,EAC1FsvC,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,0BAAMjkB,UAAU,iBACb2xD,GAAiBxpB,YAAgD,IAApCz2B,OAAOigD,GAAiBxpB,aAAiBl2B,QAAQ,GAAK,IAAI,QAI9F,yBAAKjS,UAAU,eAEb,uDACA,6BACE,0BAAMA,UAAU,YACe,iBAArByxD,GAAYzrD,MAAkByrD,GAAYzrD,MAAQ,IAAI,MAEhE,kBAAC,KAAD,CACAhG,UAAU,oBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAASyiB,GAAYzrD,MAAMyrD,GAAY4C,KAAK,EAC5C9S,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAGN,kBAAC,KAAD,CACAjkB,UAAU,yBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAAS2iB,GAAiB3rD,MAAM2rD,GAAiB3rD,MAAM,EACvDu7C,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,0BAAMjkB,UAAU,iBACoB,iBAA1B2xD,GAAiB3rD,MAAkB2rD,GAAiB3rD,MAAQ,IAAI,QAI9E,yBAAKhG,UAAU,eAEb,2EACA,6BACE,0BACAA,UAAU,WACV1F,MAAuC,iBAAzBm3D,GAAYtyB,UAAuBsyB,GAAYtyB,UAAWltB,QAAQ,GAAK,SAAI,MACxD,iBAAzBw/C,GAAYtyB,UAAuBsyB,GAAYtyB,UAAWltB,QAAQ,GAAK,SAAI,MAEnF,kBAAC,KAAD,CACAjS,UAAU,oBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAASyiB,GAAYtyB,UAAUsyB,GAAYtyB,UAAU,EACrDoiB,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAGN,kBAAC,KAAD,CACAjkB,UAAU,yBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAAS2iB,GAAiBxyB,UAAUwyB,GAAiBxyB,UAAU,EAC/DoiB,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,0BAAMjkB,UAAU,iBACsB,iBAA9B2xD,GAAiBxyB,UAAuBwyB,GAAiBxyB,UAAWltB,QAAQ,GAAK,SAAI,QAIjG,yBAAKjS,UAAU,eAEb,2EACA,6BACE,0BAAMA,UAAU,YACkB,iBAAxByxD,GAAYngB,SAAqBmgB,GAAYngB,SAAW,SAAI,MAEtE,kBAAC,KAAD,CACAtxC,UAAU,oBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAAwC,iBAAxByiB,GAAYngB,SAAqBmgB,GAAYngB,SAAS,EACtEiQ,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAGN,kBAAC,KAAD,CACAjkB,UAAU,yBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAA6C,iBAA7B2iB,GAAiBrgB,SAAqBqgB,GAAiBrgB,SAAS,EAChFiQ,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,0BAAMjkB,UAAU,iBACqB,iBAA7B2xD,GAAiBrgB,SAAqBqgB,GAAiBrgB,SAAW,SAAI,SAKxE,iBAAZlvB,EACA,6BACE,yBAAKpiB,UAAU,eAEf,iDACA,6BACE,0BACAA,UAAU,WACV1F,MAAOm3D,GAAY/b,wBAAyBn2C,SAASkyD,GAAY/b,yBAA0B,MACxF+b,GAAY/b,wBAAyBn2C,SAASkyD,GAAY/b,yBAA0B,MAEvF,kBAAC,KAAD,CACA11C,UAAU,oBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAAiD,iBAAjCyiB,GAAY/c,kBAA+Bn1C,SAASkyD,GAAY/b,yBAA0B,EAC1G6L,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAGN,kBAAC,KAAD,CACAjkB,UAAU,yBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAAsD,iBAAtC2iB,GAAiBjd,kBAA+Bn1C,SAASoyD,GAAiBjc,yBAA0B,EACpH6L,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,0BACAjkB,UAAU,gBACV1F,MAAOq3D,GAAiBjc,wBAAyBn2C,SAASoyD,GAAiBjc,yBAA0B,MACpGic,GAAiBjc,wBAAyBn2C,SAASoyD,GAAiBjc,yBAA0B,QAIjG,yBAAK11C,UAAU,eAEb,uDACA,6BACE,0BACAA,UAAU,WACV1F,MAAuC,iBAAzBm3D,GAAY7c,UAAsB6c,GAAY7c,UAAY,SAAI,MACzC,iBAAzB6c,GAAY7c,UAAsB6c,GAAY7c,UAAY,SAAI,MAExE,kBAAC,KAAD,CACA50C,UAAU,oBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAAyC,iBAAzByiB,GAAY7c,UAAsB6c,GAAY7c,UAAU,EACxE2M,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAGN,kBAAC,KAAD,CACAjkB,UAAU,yBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAA8C,iBAA9B2iB,GAAiB/c,UAAsB+c,GAAiB/c,UAAU,EAClF2M,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,0BACAjkB,UAAU,gBACV1F,MAA4C,iBAA9Bq3D,GAAiB/c,UAAsB+c,GAAiB/c,UAAY,SAAI,MAC9C,iBAA9B+c,GAAiB/c,UAAsB+c,GAAiB/c,UAAY,SAAI,QAItF,yBAAK50C,UAAU,eAEb,uDACA,6BACE,0BACAA,UAAU,WACV1F,MAA6C,iBAA/Bm3D,GAAY9b,gBAA4B8b,GAAY9b,gBAAkB,SAAI,MAC/C,iBAA/B8b,GAAY9b,gBAA4B8b,GAAY9b,gBAAkB,SAAI,MAEpF,kBAAC,KAAD,CACA31C,UAAU,oBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAA+C,iBAA/ByiB,GAAY9b,gBAA4B8b,GAAY9b,gBAAgB,EACpF4L,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAGN,kBAAC,KAAD,CACAjkB,UAAU,yBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAAoD,iBAApC2iB,GAAiBhc,gBAA4Bgc,GAAiBhc,gBAAgB,EAC9F4L,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,0BACAjkB,UAAU,gBACV1F,MAAkD,iBAApCq3D,GAAiBhc,gBAA4Bgc,GAAiBhc,gBAAkB,SAAI,MACpD,iBAApCgc,GAAiBhc,gBAA4Bgc,GAAiBhc,gBAAkB,SAAI,QAIlG,yBAAK31C,UAAU,eAEb,uDACA,6BACE,0BACAA,UAAU,WACV1F,MAAyC,iBAA3Bm3D,GAAY9c,YAAwB8c,GAAY9c,YAAc,SAAI,MAC7C,iBAA3B8c,GAAY9c,YAAwB8c,GAAY9c,YAAc,SAAI,MAE1E,kBAAC,KAAD,CACA30C,UAAU,oBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAA2C,iBAA3ByiB,GAAY9c,YAAwB8c,GAAY9c,YAAY,EAC5E4M,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAGN,kBAAC,KAAD,CACAjkB,UAAU,yBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAAgD,iBAAhC2iB,GAAiBhd,YAAwBgd,GAAiBhd,YAAY,EACtF4M,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,0BACAjkB,UAAU,gBACV1F,MAA8C,iBAAhCq3D,GAAiBhd,YAAwBgd,GAAiBhd,YAAc,SAAI,MAClD,iBAAhCgd,GAAiBhd,YAAwBgd,GAAiBhd,YAAc,SAAI,SAK9E,kBAAZvyB,GAA4C,aAAZA,GAAuC,iBAAZA,EAC3D,kBAAC,IAAD,CACAmc,YAAU,EACVC,cAAe,KAEXv3B,MAAM4qB,QAAQ4/B,GAAYuB,aAC1BvB,GAAYuB,WAAWhvD,KAAI,SAACC,EAAMiD,GAChC,IAAIotD,EAAmB,GAOvB,OANArtD,MAAM4qB,QAAQ8/B,GAAiBqB,aAC/BrB,GAAiBqB,WAAW/mD,SAAQ,SAACjF,GAChCA,EAAMisD,aAAehvD,EAAKgvD,cAC3BqB,EAAmBttD,MAIrB,yBAAKhH,UAAU,cAAchG,IAAKkN,GAElC,2BAAIjD,EAAKgvD,YAAahvD,EAAKgvD,YAAa,MACxC,6BACE,0BACAjzD,UAAU,WACV1F,MACuB,iBAAd2J,EAAKwjC,MACZloC,SAAS0E,EAAKwjC,OAASxjC,EAAKswD,KAC5B,MAGsB,iBAAdtwD,EAAKwjC,MAAmBloC,SAAS0E,EAAKwjC,OAASxjC,EAAKswD,KAAM,MAEpE,kBAAC,KAAD,CACAv0D,UAAU,oBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAA8B,iBAAd/qC,EAAKwjC,MAAmBloC,SAAS0E,EAAKwjC,OAAQ,EAC9D8Z,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,kBAAC,KAAD,CACAjkB,UAAU,yBACVivC,UAAU,EACVklB,WAAW,UACXn4C,OAAO,SACPgzB,QAA0C,iBAA1BslB,EAAiB7sB,MAAmBloC,SAAS+0D,EAAiB7sB,OAAQ,EACtF8Z,YAAa,GACbrS,YAAa,CACXklB,KAAM,UACNnwC,GAAI,aAEN,0BACAjkB,UAAU,gBACV1F,MACiC,iBAA1Bg6D,EAAiB7sB,MACxBloC,SAAS+0D,EAAiB7sB,OAAS6sB,EAAiBC,KACpD,MACkC,iBAA1BD,EAAiB7sB,MACzBloC,SAAS+0D,EAAiB7sB,OAAS6sB,EAAiBC,KAAM,YASpE,IAIJ,yBAAKv0D,UAAU,kBACX,yBAAKA,UAAU,aAAaS,QAAS,kBAAI2wD,IAAkB,KAA3D,gBACA,yBAAKpxD,UAAU,aAAaS,QAAS,kBAAIqxD,IAAiB,KAA1D,8BAGN,kBAAC,GAAD,CACAx3D,MAAM,2BACN0F,UAAU,4BACV6H,QAASgqD,GACTxzD,MAAO,IACPT,SAAU,kBAAIk0D,IAAiB,IAC/BzqD,UAAW,CAAC9I,OAAQ,IAAKugB,QAAS,oBAClCvX,OAAQ,MAEL,kBAAC,IAAD,CACAg3B,YAAU,EACVC,cAAe,KAEX6zB,GAAeruD,KAAI,SAACC,EAAMiD,GACxB,OACE,yBAAKlH,UAAU,cAAchG,IAAKkN,GACjC,uBAAGlH,UAAU,cACViE,EAAKivB,UACN,wCAAQ,0BAAMh1B,MAAO,CAAC+H,MAAO,YAAahC,EAAKgiC,UAAU97B,QAAzD,kBAEF,wBAAInK,UAAU,oBAEViE,EAAKgiC,UAAUjiC,KAAI,SAACgD,EAAO0wB,GACzB,OACE,wBAAI19B,IAAK09B,EAAQj3B,QAAS,WACpBgxD,GAAY5M,WAAa79C,EAAMyoB,SAAWgiC,GAAY5M,UAAUp1B,SACnEkiC,GAAiB9M,WAAa79C,EAAMyoB,SAAWkiC,GAAiB9M,UAAUp1B,UAG3EniB,QAAQC,IAAIkkD,IACZD,GAAgBxqD,GAChB+sD,GAAa,eAAgB/sD,GAC7B8qD,IAAiB,KAChB5zD,MAAO,CACRqrB,OACGkoC,GAAY5M,WAAa79C,EAAMyoB,SAAWgiC,GAAY5M,UAAUp1B,SAClEkiC,GAAiB9M,WAAa79C,EAAMyoB,SAAWkiC,GAAiB9M,UAAUp1B,QACzE,cACA,KAGF,uBAAGzvB,UAAU,cACb,uBAAG1F,MAAO0M,EAAMhH,WAAYgH,EAAMhH,sBAYxD,kBAAC,GAAD,CACA1F,MAAM,2BACN0F,UAAU,4BACV6H,QAASkqD,GACT1zD,MAAO,IACPT,SAAU,kBAAIo0D,IAAiB,IAC/B3qD,UAAW,CAAC9I,OAAQ,IAAKugB,QAAS,oBAClCvX,OAAQ,MAEL,kBAAC,IAAD,CACAg3B,YAAU,EACVC,cAAe,KAEX6zB,GAAeruD,KAAI,SAACC,EAAMiD,GACxB,OACE,yBAAKlH,UAAU,cAAchG,IAAKkN,GACjC,uBAAGlH,UAAU,cACViE,EAAKivB,UACN,wCAAQ,0BAAMh1B,MAAO,CAAC+H,MAAO,YAAahC,EAAKgiC,UAAU97B,QAAzD,kBAEF,wBAAInK,UAAU,oBAEViE,EAAKgiC,UAAUjiC,KAAI,SAACgD,EAAO0wB,GACzB,OACE,wBAAI19B,IAAK09B,EAAQj3B,QAAS,WACxB6wD,GAAWtqD,GACX+sD,GAAa,UAAW/sD,GACxBgrD,IAAiB,KAEjB,uBAAGhyD,UAAU,cACb,uBAAG1F,MAAO0M,EAAMhH,WAAYgH,EAAMhH,uBAgB9D,IAAM+tB,GAAkB,SAAC9wB,GAIvB,MAAO,CAAE0iB,SADL1iB,EADFjB,WAAc2jB,WAIlBsO,kBAAQF,IACOzkB,sBAAKwb,qBAAW6qC,K,QCrxD/B,SAAS6E,GAAOx3D,EAAOuD,GAAM,IAAD,OAGpBP,EAAuDhD,EAAvDgD,UAAW4kB,EAA4C5nB,EAA5C4nB,KAAM6vC,EAAsCz3D,EAAtCy3D,UAA4BjzD,GAAUxE,EAA3B03D,aAHR,YAGmC13D,EAHnC,oDAKFmmB,oBAAS,GALP,mBAKnBtlB,EALmB,KAKb82D,EALa,OAOUxxC,mBAAS,IAPnB,mBAOnByxC,EAPmB,KAOPC,EAPO,OASU1xC,mBAAS,GATnB,mBASnB2xC,EATmB,KASPC,EATO,KAWpBC,EAAYzsC,kBAAO,GAEzB5E,qBAAU,WACR,IACE,GACEiB,aAAgB3d,OAChB2d,EAAKza,OAAS,GACdsqD,GACAA,EAAUtrC,QACV,CAAC,IAAD,EAMIsrC,EAAUtrC,QAFZ8rC,GAJF,EAEEC,UAFF,EAGEC,aAHF,EAIEF,iBACAG,EALF,EAKEA,gBAIEH,IAAoBG,KACtBT,GAAQ,GAEV,IAAIU,EAAY,EACZ92D,EAAS,EACTq2D,EAAa,GAEjBtnD,QAAQC,IAAI,oCAAYqX,GACxBtX,QAAQC,IAAIknD,EAAUtrC,SACtBvE,EAAK3Y,SAAQ,SAACjF,EAAOE,GACnB,GAAKF,EAAMzG,IAAX,CASA,IAAI+0D,EAAOn3D,IAAE6I,EAAMzG,KACnB80D,GAAa92D,EAGbA,EAASyI,EAAMzG,IAAI/B,aACnB8O,QAAQC,IAAIhP,EAAQyI,EAAM/M,KAAM+M,EAAMzG,IAAI/B,cAE1Co2D,EAAW9pD,KAAX,2BACK9D,GADL,IAEEsuD,OACAD,UAAWA,EAEX92D,OAAQyI,EAAMzG,IAAI/B,oBAGtBq2D,EAAcD,IAEhB,MAAOp3D,GACP8P,QAAQU,MAAMxQ,GACdm3D,GAAQ,MAET,CAAC/vC,EAAM6vC,IACV,IAAMc,EAAW9uC,uBAAY,WAC3B,GAAK5oB,EAAL,CADiC,MAU7B42D,EAAUtrC,QAHZ8rC,GAP+B,EAK/BC,UAL+B,EAM/BC,aAN+B,EAO/BF,iBACAO,EAR+B,EAQ/BA,aACAJ,EAT+B,EAS/BA,gBAGEK,EAAYD,IACZE,EAAeT,IAGfjuC,GAFeouC,IAEH,CAAEtoC,QAAQ,IAC1B8nC,EAAW3oD,SAAQ,SAACjF,EAAOE,GAAW,IAC9BmuD,EAAsBruD,EAAtBquD,UAAW92D,EAAWyI,EAAXzI,OACbo3D,EAAkBN,EAAY92D,EAC9Bq3D,GAAU,EACVC,EAAe,EACfC,EAAqBJ,EAAeD,EAExC,KAAIA,GAAaE,GAAmBG,EAAqBT,GAAzD,CAMII,EAAYJ,GAAaM,GAAmBG,EAE9CD,EAAeF,EAAkBF,EAC1BA,GAAaJ,GAAaM,EAAkBG,EAEnDD,EAAeC,EAAqBT,GAIpCO,GAAU,EACVC,EAAet3D,GAEjB,IAAIw3D,EAAa,CAAEjpC,QAAQ,EAAO+oC,eAAcD,UAAS1uD,UACrD8f,EAAU8F,SAIR9F,EAAU4uC,SAAWG,EAAWH,UAChC5uC,EAAU4uC,UACTG,EAAWH,SACZ5uC,EAAU6uC,aAAeE,EAAWF,gBANxC7uC,EAAY+uC,OAaZf,EAAU7rC,SACd4rC,EAAc/tC,EAAU9f,OAExB8tD,EAAU7rC,SAAU,KAEnB,CAACyrC,EAAY/2D,IAChBopB,8BAAoB1mB,GAAK,WACvB,MAAO,CACLg1D,eAIJ,IAAMS,EAAgBvvC,uBAAY,SAAC5qB,EAAMqL,GACvC8tD,EAAU7rC,SAAU,EACpB7b,QAAQC,IAAI1R,EAAMqL,GAElButD,EAAUtrC,QAAQ+rC,UAAUr5D,EAAKw5D,WACjCN,EAAc7tD,KAGb,IACH,OAAOrJ,EACL,uCAAKmC,UAAS,oBAAeA,GAAwB,KAAUwB,GAC7D,0BACEtD,MAAO,CAAEf,IAAkB,GAAb23D,EAAkB,EAAI,MACpC90D,UAAU,uBAgBX40D,EAAW5wD,KAAI,SAACgD,EAAOE,GACtB,OACE,yBACElH,UAAS,sBACP80D,IAAe5tD,EAAQ,gBAAkB,IAE3ClN,IAAKkN,EACL5M,MAAO0M,EAAM/M,KACbwG,QAASu1D,EAAcr1D,KAAK,EAAMqG,EAAOE,IAExCF,EAAM/M,UAMf,qCAIWqP,sBAAKwb,qBAAW0vC,KC7MzBl7C,GAAeiR,GAAfjR,WACN,SAAS28C,GAASj5D,EAAOuD,GAAM,IAE3B2lB,EAgBElpB,EAhBFkpB,MAF0B,GAkBxBlpB,EAfF2qB,QAeE3qB,EAdF5C,SAcE4C,EAbF4N,MAaE5N,EAZF8iB,UAAYgD,EANc,EAMdA,SACZiI,GAP0B,EAMJhI,WAYpB/lB,EAXF+tB,SAEAxvB,GASEyB,EAVF2M,SAUE3M,EATFzB,MACA26D,EAQEl5D,EARFk5D,SACAnG,EAOE/yD,EAPF+yD,UACAp8B,EAME32B,EANF22B,UACU7S,EAKR9jB,EALF+tB,QAAUjK,aACSiJ,EAIjB/sB,EAJF8qB,gBAAmBiC,WACNxrB,EAGXvB,EAHF02B,UAAan1B,OAfa,EAkBxBvB,EAFF2iB,SAAsBK,GAhBI,EAgBdoB,SAhBc,EAgBJpB,UAAUM,EAhBN,EAgBMA,OAChC0N,EACEhxB,EADFgxB,UAEF1gB,QAAQC,IAAI,eAAMvQ,GAnBU,MAqBEmmB,oBAAS,GArBX,mBAqBrBqW,EArBqB,KAqBZ62B,EArBY,OAuBEltC,mBAAS,WAvBX,mBAuBrBuvC,EAvBqB,KAuBZyD,EAvBY,OAyBJhzC,mBAAS,IAzBL,gCA2BYA,mBAAS,KA3BrB,mBA2BrBizC,EA3BqB,aA6BQjzC,mBAAS,KA7BjB,mBA6BTutC,GA7BS,aA+BQvtC,mBAAS,IA/BjB,mBA+BTkzC,GA/BS,aAgCUlzC,mBAAS,IAhCnB,gCAkCMA,mBAAS,KAlCf,mBAkCrBmzC,EAlCqB,KAkCVC,EAlCU,OAoCQpzC,mBAAS,IApCjB,mBAoCrByxC,EApCqB,KAoCTC,EApCS,OAsCI1xC,qBAtCJ,mBAsCrBf,EAtCqB,KAsCXo0C,EAtCW,QAyCIrzC,mBAAS,UAzCb,qBAyCrBszC,GAzCqB,MAyCXtoC,GAzCW,SA4CMhL,mBAAS,IA5Cf,qBA4CrBstB,GA5CqB,MA4CVimB,GA5CU,SA8CMvzC,mBAAS,IA9Cf,qBA8CrB8iB,GA9CqB,MA8CV0wB,GA9CU,SAgDoBxzC,mBAAS,IAhD7B,qBAgDrBitC,GAhDqB,MAgDHwG,GAhDG,SAkDMzzC,mBAAS,IAlDf,qBAkDrB0Q,GAlDqB,MAkDVuM,GAlDU,SAoDYjd,mBAAS,IApDrB,qBAoDrBkL,GApDqB,MAoDP0iC,GApDO,SAsDY5tC,mBAAS,IAtDrB,qBAsDrBiL,GAtDqB,MAsDP4iC,GAtDO,SAwDY7tC,oBAAS,GAxDrB,qBAwDrB4Q,GAxDqB,MAwDPD,GAxDO,MA6DxBrH,GAAe,UACA,UAAhB3L,IACD2L,GAAe,WAEE,UAAhB3L,GAA4C,UAAhBA,GAA4C,UAAhBA,IACzD2L,GAAe,WAEE,UAAhB3L,GAA4C,UAAhBA,IAC7B2L,GAAe,WAMjBrF,2BAAgB,WAKd,IAAIxd,EAAM0P,GAAa,4CAA8C0G,EACrEhG,GACCK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACa,KAAfA,EAAKG,QACN06C,GAAa76C,EAAKhgB,SAKtB+N,EAAM0P,GAAa,uCAAyC0G,EAC5DhG,GACCK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACa,KAAfA,EAAKG,QACN26C,GAAa96C,EAAKhgB,WAIrB,CAAC4wB,KACJrF,2BAAgB,WAEd,GAAmB,WAAhBqF,GAAH,CAGA,IAAI7iB,EAAM0P,GAAa,0CAA4CgH,EACnEtG,GACCK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACa,KAAfA,EAAKG,SACN46C,GAAoB/6C,EAAKhgB,MACzBqR,eAAeC,QAAQ,YAAaH,KAAKC,UAAU4O,EAAKhgB,OACxDggB,EAAKhgB,KAAK,IAAMk1D,GAAgBl1C,EAAKhgB,KAAK,GAAG6zB,UACzCtB,IAAgBvS,EAAKhgB,KAAK,IAC5Bm1D,GAAgBn1C,EAAKhgB,KAAK,GAAG4zB,gBAIlC,CAAChD,GAAcnM,EAAQ8N,KA6B1BzK,qBAAU,WACR6V,GAAW62B,GAAW,KACrB,CAAC72B,IAEJ7V,qBAAU,WACRqK,GAAaqiC,GAAY72B,KACxB,CAACxL,IA5JwB,OA6J+BjI,mBAAQ,WACjE,IAAIxF,EAAOwK,EAMX,MAJa,WAATxvB,IACFglB,EAAO21C,EACPC,EAAW,WAEN51C,IAEN,CAAChlB,IATI+lB,GA7JoB,GA6JpBA,SAAUC,GA7JU,GA6JVA,UAAWE,GA7JD,GA6JCA,YAAaC,GA7Jd,GA6JcA,aAYpCm1C,GAAStuC,iBAAO,IAEhBuuC,GAAYvuC,iBAAO,MACnBwuC,GAAYxuC,iBAAO,MACzB5E,qBAAU,WACRuC,GAASswC,EAAYtwC,KACpB,CAACA,EAAOuwC,KAYX,IAAIO,GAAiBl0C,EAAS9e,KAAI,SAACgD,GAAD,MAAY,CAC5CnG,MAAOmM,KAAKC,UAAU,CACpBk5B,OAAQn/B,EAAM8Y,SACd6P,SAAU3oB,EAAM2oB,SAChByW,UAAWp/B,EAAMo/B,UACjBC,QAASr/B,EAAMq/B,QACfqtB,SAAU1sD,EAAM0sD,WAElBp5D,MAAO0M,EAAM0sD,aAKf,OAHApmD,QAAQC,IAAI,2BAAQspD,GAAO1tC,SAC3B7b,QAAQC,IAAI6gB,IAGV,yBAAKpuB,UAAU,YAEC,UAAZy2D,GACA,6BACE,kBAAC,GAAD,CAEAzG,UAAW,SAACzxD,GAEVg4D,EAAah4D,IAEf4vB,YAAaA,GACbnuB,UAAW,cACX8vD,aAAc,SAACtyD,GACbkzD,EAAclzD,IAEhByyD,aAAc,SAACzyD,GACb64D,EAAc74D,GACdg5D,EAAYh5D,EAAEqD,QAEhBsvD,cAAe,SAAC3yD,GACduzD,GAAgBvzD,IAElB0yD,cAAe,SAAC1yD,GACdwzD,GAAgBxzD,IAElBqyD,SAAU/sC,EAAS9e,KAAI,SAACgD,GAAD,MAAY,CACjCnG,MAAMmM,KAAKC,UAAU,CACnBk5B,OAAQn/B,EAAM8Y,SACd6P,SAAU3oB,EAAM2oB,SAChByW,UAAWp/B,EAAMo/B,UACjBC,QAASr/B,EAAMq/B,QACfqtB,SAAU1sD,EAAM0sD,WAElBp5D,MAAO0M,EAAM0sD,aAEfnzD,IAAKs2D,GACLt7D,KAAMm3D,EACNrC,WAAYA,EACZN,UAAWA,EACXtf,UAAWA,GACXxK,UAAWA,GACX7jB,SAAUA,EACVguC,iBAAkBA,GAClB3jC,aAAcA,KAGhB,yBACEzsB,UAAU,mBACV9B,MAAO,CAAEK,OAAQA,EAAS+3D,EAAY,OAEtC,kBAAC,aAAD,CACEt2D,UAAU,kBACVO,IAAKw2D,GACLE,SAAU,SAACp2D,GACTi2D,GAAU3tC,SAAW2tC,GAAU3tC,QAAQosC,aAGzC,yBACEv1D,UAAU,cACV9B,MAAO,CAAEo4C,UAAW/3C,EAAS+3D,EAAYF,EAAe,OAE1C,iBAAbh0C,EACC,kBAAC,GAAD,CACE8d,iBAAkB,SAACg3B,GAEjBrC,EAAcqC,IAEhB7oC,aAAcwoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQkF,aAAcA,GAC3DD,aAAcyoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQiF,aAAcA,GAC3D9M,SAAUA,GACVC,UAAWA,GACXG,aAAcA,GACdD,YAAaA,GACb0e,WAAYxM,EAAUjS,IACtByM,YAAaA,GACbiS,aAAcA,GACdrM,aAAcA,GACdkM,KAAM42B,GAAO1tC,QAAS0tC,GAAO1tC,QAAQsnC,WAAYuG,GAAe,GAChEvqC,aAAcA,GACd+M,QAASA,IAGX,GAEY,oBAAbpX,EACC,kBAAC,GAAD,CACE8d,iBAAkB,SAACg3B,GAEjBrC,EAAcqC,IAEhB51C,SAAUA,GACVC,UAAWA,GACXG,aAAcA,GACdD,YAAaA,GACb0e,WAAYxM,EAAUjS,IACtBue,KAAM42B,GAAO1tC,QAAS0tC,GAAO1tC,QAAQsnC,WAAYuG,GAAe,GAChEvqC,aAAcA,GACd4B,aAAcwoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQkF,aAAcA,GAC3DD,aAAcyoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQiF,aAAcA,GAC3DoL,QAASA,IAGX,GAEY,kBAAbpX,EACC,kBAAC,GAAD,CACE8d,iBAAkB,SAACg3B,GAEjBrC,EAAcqC,IAEhB51C,SAAUA,GACVC,UAAWA,GACXG,aAAcA,GACdD,YAAaA,GACb0e,WAAYxM,EAAUjS,IACtBue,KAAM42B,GAAO1tC,QAAS0tC,GAAO1tC,QAAQsnC,WAAYuG,GAAe,GAChEvqC,aAAcA,GACd4B,aAAcwoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQkF,aAAcA,GAC3DD,aAAcyoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQiF,aAAcA,GAC3DoL,QAASA,IAGX,GAEY,cAAbpX,EACC,kBAAC,GAAD,CACE8d,iBAAkB,SAACg3B,GAEjBrC,EAAcqC,IAEhB51C,SAAUA,GACVC,UAAWA,GACXG,aAAcA,GACdD,YAAaA,GACb0e,WAAYxM,EAAUjS,IACtBue,KAAM42B,GAAO1tC,QAAS0tC,GAAO1tC,QAAQsnC,WAAYuG,GAAe,GAChEvqC,aAAcA,GACd4B,aAAcwoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQkF,aAAcA,GAC3DD,aAAcyoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQiF,aAAcA,GAC3DoL,QAASA,IAGX,GAEY,mBAAbpX,EACC,kBAAC,GAAD,CACE8d,iBAAkB,SAACg3B,GAEjBrC,EAAcqC,IAEhB7oC,aAAcwoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQkF,aAAcA,GAC3DD,aAAcyoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQiF,aAAcA,GAC3D9M,SAAUA,GACVC,UAAWA,GACXG,aAAcA,GACdD,YAAaA,GACb0e,WAAYxM,EAAUjS,IACtBue,KAAM42B,GAAO1tC,QAAS0tC,GAAO1tC,QAAQsnC,WAAYuG,GAAe,GAChEvqC,aAAcA,GACd+M,QAASA,IAGX,GAEY,kBAAbpX,EACC,kBAAC,GAAD,CACE8d,iBAAkB,SAACg3B,GAEjBrC,EAAcqC,IAEhB51C,SAAUA,GACVC,UAAWA,GACXG,aAAcA,GACdD,YAAaA,GACb0e,WAAYxM,EAAUjS,IACtBue,KAAM42B,GAAO1tC,QAAS0tC,GAAO1tC,QAAQsnC,WAAYuG,GAAe,GAChEvqC,aAAcA,GACd4B,aAAcwoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQkF,aAAcA,GAC3DD,aAAcyoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQiF,aAAcA,GAC3DoL,QAASA,IAGX,IAGJ,uBAAGx5B,UAAU,cAAc+pB,KAG/B,kBAAC,GAAD,CACExpB,IAAKu2D,GACLpC,aAAc0B,EACdxxC,KAAMgwC,EACNH,UAAWsC,MAID,UAAZN,GACA,kBAAC,GAAD,CACApoC,aAAcwoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQkF,aAAcA,GAC3DD,aAAcyoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQiF,aAAcA,GAC3DD,YAAaA,GACb/L,SAAUA,IAEE,SAAZq0C,GACA,kBAAC,GAAD,CACA5iC,UAAWA,GACXxF,aAAcwoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQkF,aAAcA,GAC3DD,aAAcyoC,GAAO1tC,QAAS0tC,GAAO1tC,QAAQiF,aAAcA,GAC3DD,YAAaA,GACb4F,aAAcA,GACdD,gBAAiBA,GACjB1R,SAAUA,IAEV,IAOR,IAAM2L,GAAkB,SAAC9wB,GAAW,IAAD,EAG7BA,EADFjB,WAEF,MAAO,CAAE+uB,QAJwB,EAEjBA,QAEEjD,gBAJe,EAERA,gBAEU4L,UAJF,EAESA,UAEI5T,SAJb,EAEoBA,SAEG6T,UAJvB,EAE8BA,UAEIhU,SAJlC,EAEyCA,SAEGqO,UAJ5C,EAEmDA,YAIvEC,qBAAQF,GAARE,CAAyBpJ,YAAWvb,eAAKwb,qBAAWmxC,OCtatDzf,I,OAAUhsB,2BACVC,GAAY,CACvBgsB,QAAS,GACTC,SAAS,KAEEC,GAAU,SAAC15C,EAAOhB,GAC7B,OAAQA,EAAQV,MACd,IAAK,eACH,OAAOsN,OAAOC,OAAO,GAAI7L,EAAO,CAC9Bw5C,QAAQx6C,EAAQJ,OAGpB,QACE,OAAOoB,ICxBPqc,GAAeiR,GAAfjR,WAMC,SAASs9B,KAA4B,IAAf5gB,EAAc,uDAAJ,GAGnC9D,EAOE8D,EAPF9D,UACAH,EAMEiE,EANFjE,SACA0kB,EAKEzgB,EALFygB,QACAn1B,EAIE0U,EAJF1U,SACAC,EAGEyU,EAHFzU,UACAE,EAEEuU,EAFFvU,YACAo1B,EACE7gB,EADF6gB,QAEEjtC,EACF0P,GAAU,qCACoBgI,GAAsB,GAD1C,oBAEc,IAAtB/hB,SAASs3C,GAAiB,EAAI,EAFtB,sBAGI3kB,GAAwB,EAH5B,qBAIRH,GAAsB,GAJd,oBAKE0kB,GAAoB,GALtB,sBAMRl1B,GAAwB,GANhB,wBAOME,GAA4B,IAK9C,OAAOzH,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,WACA,CACLA,WAAYJ,EAAKI,WACjBpgB,KAAK,2BACAggB,EAAK4E,MADN,IAEFwC,KACEpH,EAAK4E,KAAKwC,gBAAgBhc,MACtB4U,EAAK4E,KAAKwC,KAAKjf,KAAI,SAACgD,EAAOE,GAQzB,IAAI4vC,EAAoC,IAA3Bj7B,EAAK4E,KAAK8U,UAAY,GAAUruB,EAAQ,EAErD,OADA4vC,EAAQA,GAAS,GAAKA,EAAQ,IAAMA,EAC7B,2BACF9vC,GADL,IAEEhN,IAAKkN,EACLA,MAAO4vC,EACPx8C,MAAO0M,EAAM+vC,MACbC,OAAQhwC,EAAMiwC,MACdC,UAAWlwC,EAAMmwC,YACjBvlC,KAAM5K,EAAMowC,iBAGhB,GACN9hB,SAAUvD,KAcP,CACL9V,WAAYJ,EAAKI,eAWpB,SAASk7C,KAAgC,IAAfnhC,EAAc,uDAAJ,GAEnCx1B,EAAOw1B,EAAPx1B,GACFoJ,EAAM0P,GAAU,kCAA8B9Y,GAElD,OAAOwZ,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,EAAGC,SAAS,IACtCS,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,WACA,CACLA,WAAYJ,EAAKI,WACjBs7B,QAAS17B,EAAK07B,QACd17C,KAAK,2BACAggB,EAAK4E,MADN,IAEF+2B,GAAI37B,EAAK4E,KAAK22C,OAIX,CACLn7C,WAAYJ,EAAKI,WACjBs7B,QAAS17B,EAAK07B,YAWjB,SAAS8f,KAA8B,IAAfrhC,EAAc,uDAAJ,GAoBrChW,EASEgW,EATFhW,SACAwB,EAQEwU,EARFxU,UACAm2B,EAOE3hB,EAPF2hB,YACA2f,EAMEthC,EANFshC,QACAvgB,EAKE/gB,EALF+gB,MACAE,EAIEjhB,EAJFihB,MACAG,EAGEphB,EAHFohB,YACAS,EAEE7hB,EAFF6hB,QACAC,EACE9hB,EADF8hB,SAEEluC,EAAM0P,GAAU,mBAEpB,OAAOU,GACJwB,KAAK,CACJ5R,MACA0Q,cAAe,EACfL,OAAQ,CAAE,eAAgB,oBAC1B3L,KAAM,CACJ0R,WACAwB,YACAm2B,cACA2f,UACAvgB,QACAE,QACAG,cACAS,UACAC,cAGH98B,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,WACA,CACLvL,QAAQ,GAGH,CAAEA,QAAQ,MAUlB,SAAS6mD,KAA2B,IAAfvhC,EAAc,uDAAJ,GAuBlCshC,EAOEthC,EAPFshC,QACAvgB,EAME/gB,EANF+gB,MACAE,EAKEjhB,EALFihB,MACAmgB,EAIEphC,EAJFohC,IAEAvf,EAEE7hB,EAFF6hB,QACAC,EACE9hB,EADF8hB,SAEEluC,EAAM0P,GAAU,oBAEpB,OAAOU,GACJwB,KAAK,CACJ5R,MACA0Q,cAAe,EACfL,OAAQ,CAAE,eAAgB,oBAC1B3L,KAAM,CAIJgpD,UACAvgB,QACAqgB,MACAngB,QAEAY,UACAC,cAGH98B,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,WACA,CACLvL,QAAQ,GAGH,CAAEA,QAAQ,MAUlB,SAAS8mD,KAA6B,IAAfxhC,EAAc,uDAAJ,GAChCyhC,EAASzhC,EAATyhC,KACF7tD,EAAM0P,GAAU,sBAEpB,OAAOU,GACJwB,KAAK,CACJ5R,MACA0Q,cAAe,EACfhM,KAAM,CACJmpD,UAGHz8C,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,WACA,CACLvL,QAAQ,GAGH,CAAEA,QAAQ,MCjPzB,SAAS+nC,GAAKz7C,EAAOuD,GAAM,IAAD,UAOpBvD,EALF06D,kBAAqBC,MAKnB36D,EAJF+tB,SAAWzJ,EAHW,EAGXA,SAAUC,EAHC,EAGDA,UAAWE,EAHV,EAGUA,YAK9BhJ,GADAzb,EAFFkqB,UAEElqB,EADFvB,SAEY6pB,eACV3b,EAAW4b,cATS,EAapBM,qBAAW2wB,IAFJC,EAXa,EAWtBx5C,MAASw5C,QACTiC,EAZsB,EAYtBA,YAZsB,EAcEv1B,mBAAS,CACjCszB,UACAn1B,WACAC,YACAE,gBAlBsB,mBAcjBsT,EAdiB,KAcV4jB,EAdU,KAqBlBxC,EAAW5tB,iBAAO,IArBA,EAuBEpF,mBAAS,GAvBX,mBAuBjB4yB,EAvBiB,KAuBV6C,EAvBU,KAyBlBC,EAAUtwB,kBAAO,GAEnBuwB,EAAY,KAAO,KACnBjE,EAAU,CACZ,CACEv6C,MAAO,eACPi6C,UAAW,QACXwE,MAAO,SACP16C,MAAO,KACP26C,SAAU,aACVjqC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,KAKT,CACEvB,MAAO,eACP+D,MAAO,IAAMy6C,EAEb/pC,OAAQ,SAAClT,GAAU,IACXvB,EAAeuB,EAAfvB,MAAO88D,EAAQv7D,EAARu7D,IACb,OACE,0BACE32D,QAAS,WACPgY,EAAQ3N,KAAK,kBAAoBssD,IAEnCp3D,UAAU,cACV1F,MAAOA,GAENA,GAAgB,QAKzB,CACEA,MAAO,eACPy+C,MAAO,SACP16C,MAAO,IAAMy6C,EACbvE,UAAW,SACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,eAAe1F,MAAOuB,GACnCA,GAAc,QAKvB,CACEvB,MAAO,qBACPy+C,MAAO,SACP16C,MAAO,GACPk2C,UAAW,YACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,kBAAkB1F,MAAOuB,GACtCA,GAAc,QAKvB,CACEvB,MAAO,eACPy+C,MAAO,SACP16C,MAAO,IAAMy6C,EACbvE,UAAW,OACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,aAAa1F,MAAOuB,GACjCA,GAAc,QAKvB,CACEvB,MAAO,eACPy+C,MAAO,SACP16C,MAAO,IAAMy6C,EAGb/pC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,gBACd,0BACEA,UAAU,qBACVS,QAAS,WACPgY,EAAQ3N,KAAK,gBAAkBjP,EAAKu7D,OAHxC,gBAQA,0BACEp3D,UAAU,uBACVS,QAAS,WACPmO,GAAU,CACRtU,MAAO,0DACPiB,KAAM,WACN0E,YAAY,EACZtC,KAAM,WACJi6D,EACE,CAAEH,KAAM57D,EAAKu7D,KACbjhB,EAAShtB,QAAQgN,WAAWx1B,KAAK,EAAM,IAAI,SAVrD,oBAuBNy4C,EAAe,CACjB,CACE9+C,MAAO,eACPi6C,UAAW,QACXwE,MAAO,SACP16C,MAAO,KACP26C,SAAU,aACVjqC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,KAKT,CACEvB,MAAO,eACP+D,MAAO,IAEP0Q,OAAQ,SAAClT,GAAU,IACXvB,EAAeuB,EAAfvB,MAAeuB,EAARu7D,IACb,OACE,0BACE32D,QAAS,aAGTT,UAAU,cACV1F,MAAOA,GAENA,GAAgB,QAMzB,CACEA,MAAO,mDACPy+C,MAAO,SACP16C,MAAO,IAAMy6C,EACbvE,UAAW,aACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,aAAa1F,MAAOuB,GACjCA,GAAc,QAKvB,CACEvB,MAAO,eACPy+C,MAAO,SACP16C,MAAO,IAAMy6C,EAGb/pC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,gBACd,0BACEA,UAAU,qBACVS,QAAS,WACPgY,EAAQ3N,KAAK,gBAAkBjP,EAAKu7D,OAHxC,gBAQA,0BACEp3D,UAAU,uBACVS,QAAS,WAaPm3D,EAAc,CAAEH,KAAM57D,EAAKu7D,MAAO,WAChCjhB,EAAShtB,QAAQgN,WAAW,IAAI,GAEhCkjB,EAAWlwB,QAAQitB,mBAlBzB,oBA8BJwhB,EAAgBnxC,uBACpB,SAAC7b,GAAiD,IAA1CmD,EAAyC,uDAA/B,aAAUC,EAAqB,uDAAb,aAClCwpD,GAAc5sD,GAAOoQ,MAAK,SAACC,GACrBA,EAAIvK,OACN3C,IAEAC,SAIN,IAoBFoZ,2BAAgB,WAAO,IACfzZ,EAAahE,EAAbgE,SAEDkrC,EAAQ1vB,QAGM,oBAAbxb,GAEFwoC,EAAShtB,QAAQgN,aAJnB0iB,EAAQ1vB,SAAU,IAQnB,CAACxf,IACJ,IAAM2vC,EAAWvzB,mBAAQ,WACvB,MAAO,CACLzrB,MAAO,qBACPi9B,MAAOwe,EACPhhB,MAAO,CAAEtT,cAAaH,WAAUC,YAAWs1B,QAAS,GACpD7hB,IAAK4hB,GACL/B,QAASuE,KAGV,CAAC33B,EAAaH,EAAUC,EAAWw0B,IAEtC9uB,8BAAoB1mB,GAAK,iBAAO,CAC9B41B,WAAYggB,EAAShtB,QAAQgN,eAG/B,IAAMkjB,EAAa9wB,iBAAO,MAC1B,OACE,yBAAKvoB,UAAU,iCACb,kBAAC,GAAD,CACEO,IAAK84C,EACLvD,QAAS,CACPx7C,MAAO,uCACPmG,QAAS,WACPgY,EAAQ3N,KAAK,qBAGjBirC,MAAOuD,EACPzuC,OAAQ,CACN0rC,SAAU,SAAC11C,GAET63C,EAAY,CAAEn9C,KAAM,eAAgBM,KAAMgF,IAC1C83C,EAAS,CAAEr3B,WAAUC,YAAWk1B,QAAS51C,EAAO4gB,oBAItD,kBAAC,GAAD,CACEzhB,UAAU,iBACV60C,QAASA,EAET5f,UAAWF,EAAMtT,YACjBsT,MAAOA,EACPyB,aAAc,SAAC36B,GACb+8C,EAAS/8C,GAAQA,EAAK09C,MAAQ19C,EAAK09C,MAAQ,IAE7Ch5C,IAAK41C,EACLnhB,IAAK4hB,MAUb,IAAM7oB,GAAkB,SAAC9wB,GAAW,IAAD,EAI7BA,EAFFu8C,WAAcke,EAFiB,EAEjBA,kBAAmBxwC,EAFF,EAEEA,UAGnC,MAAO,CAAEwwC,oBAAmB3sC,QADxB9tB,EADFjB,WAAc+uB,QAEqB7D,cAExB+G,qBAAQF,GAAiB,KAAM,KAAM,CAAEjJ,YAAY,GAAnDmJ,CACb3kB,eAAKwb,qBAAW2zB,M,+BC9XH,SAASof,GAAiB9iC,EAAOC,GAAK,MAE/B7R,mBAAS,IAFsB,mBAE5C3iB,EAF4C,KAExCs3D,EAFwC,OAIrB30C,oBAAS,GAJY,mBAI5CwS,EAJ4C,KAInCC,EAJmC,OAMfzS,mBAAS,CAC3C40C,UAAU,EACVC,SAAS,EACTxiC,SAAS,EAETgiB,GAAI,GACJT,MAAO,GACPE,MAAO,GACPghB,OAAQ,EACRpgB,QAAS,GACTqgB,UAAW,GACX/gB,YAAa,GACbC,YAAa,GACb+gB,WAAY,GACZrgB,SAAU,KApBuC,mBAM5CsgB,EAN4C,KAMhCC,EANgC,KA+B7CC,EAAgB7xC,sBAAW,uCAC/B,WAAOuP,GAAP,eAAA9kB,EAAA,yDACE0kB,GAAW,GACXI,EAAUA,GAAO,aAAMx1B,MAAOu0B,GACzBC,EAHP,iEAOqBA,EAAIgB,GAPzB,OAS0B,OAFlBn6B,EAPR,QASWogB,WACPo8C,EAAc,2BAAKx8D,EAAKA,MAAX,IAAiBm8D,SAAS,EAAMD,UAAU,MAEnDl8D,EAAK07C,QACP8gB,EAAc,CAAEL,SAAS,EAAOxiC,SAAS,EAAMuiC,UAAU,KAM7DniC,GAAW,GAnBb,2CAD+B,sDAsB/B,CAACZ,EAAKx0B,EAAIu0B,IAeZ,OAZApR,qBAAU,WAERnjB,GAAM83D,EAAc,CAAE93D,SAErB,CAACA,IAQG,CAAC43D,EANa3xC,uBAAY,SAACjmB,GAChCs3D,EAAMt3D,KACL,IAI+Bm1B,EAHnBlP,uBAAY,WACzBjmB,GAAM83D,EAAc,CAAE93D,SACtB,CAACA,K,iCC/CmBqY,GAAhBW,YAEO,SAAS++C,GAAe/3D,EAAIqY,GAAQ,MAE7BsK,mBAAS,MAFoB,mBAE1Cq1C,EAF0C,KAEtCC,EAFsC,OAIvBt1C,mBAAS,MAJc,mBAI1Cu1C,EAJ0C,KAInCC,EAJmC,KAK3C7nD,EAAa,WAKb,IAJJzW,EAIG,uDAJM,GACT0W,EAGG,uDAHO,SACVhF,EAEG,uDAFM,OACTJ,EACG,uDADQ,aAEX,IACE,IAAIqF,EAAUpS,SAAS6P,cAAcsC,GAErC,IAAK,IAAI7G,KAAK7P,EACZ2W,EAAQ9G,GAAK7P,EAAO6P,GAGtB,GACE7P,EAAOmG,IAEP5B,SAASyP,eAAehU,EAAOmG,IAK/B,YADAmL,EAAS,WAGX/M,SAASmN,GAAQ4C,YAAYqC,GAC7BrF,GAAS,GACT,MAAOnO,GACP8P,QAAQU,MAAMxQ,KAGZyT,EAAYwV,sBAAW,sBAC3B,4CAAAvV,EAAA,6DAAO7W,EAAP,+BAAgB,GAAI0W,EAApB,+BAA8B,SAAUhF,EAAxC,+BAAiD,OAAjD,kBACS,IAAIoF,SAAQ,SAACC,EAASC,GAC3BP,EAAW,yBAEPvV,KAAM,kBACN+V,QAAS,SACNjX,GAJG,IAKNkX,OAAQ,WACNH,GAAQ,GACiB,oBAAlB/W,EAAOmX,QAAyBnX,EAAOmX,QAAO,IAEvDonD,QAAS,WACPxnD,GAAQ,GACiB,oBAAlB/W,EAAOmX,QAAyBnX,EAAOmX,QAAO,MAGzDT,EACAhF,GACA,SAAClQ,GACc,YAATA,GACFuV,GAAQ,UApBlB,2CA0BA,IAuIF,OArIAuS,qBAAU,WAAM,4CACd,0CAAAzS,EAAA,+EAGmCuO,GAAmB,CAAC,mBAHvD,uBAGUo5C,EAHV,EAGUA,eACNz6D,OAAO06D,iBAAmBD,EAAiB,YAJ/C,SAqBuB5nD,EAAU,CAC3B0X,IAAKkwC,EAAiB,4CACtBr4D,GAAI,oBACJgR,OAAQ,eAxBd,UAqBQunD,EArBR,YA6BMA,GA7BN,uCA8Ba9nD,EAAU,CACf0X,IAAKkwC,EAAiB,6BACtBr4D,GAAI,wBACJgR,OAAQ,eAjChB,+BA4BQwnD,EA5BR,UAqCMA,GArCN,uCAsCa/nD,EAAU,CACf0X,IAAKkwC,EAAiB,0BACtBr4D,GAAI,yBACJgR,OAAQ,eAzChB,+BAoCQynD,EApCR,UA6CMA,GA7CN,uCA8CahoD,EAAU,CACf0X,IAAKkwC,EAAiB,gCACtBr4D,GAAI,wBACJgR,OAAQ,eAjDhB,+BA4CQ0nD,EA5CR,UAqDMA,GArDN,uCAsDajoD,EAAU,CACf0X,IAAKkwC,EAAiB,+BACtBr4D,GAAI,4BACJgR,OAAQ,eAzDhB,+BAoDQ2nD,EApDR,KA2DI7rD,QAAQC,IAAIwrD,EAAQC,EAAYC,EAAaC,EAAWC,GAEnDA,EA7DT,wBA8DMR,GAAS,GA9Df,4BAwEQS,EAAKh7D,OAAOo6D,GAAGa,UAAU74D,EAApB,aACP84D,SAAU,CACR,CACE,aACA,WACA,OACA,SACA,YACA,aACA,cACA,gBACA,eACA,aACA,OACA,IACA,UACA,iBAQJC,WAAW,EAIXC,oBAAoB,GAEjB3gD,KAMF4gD,OAAM,WACPhB,EAAMW,GACNT,GAAS,MA9Gf,kDAiHIrrD,QAAQC,IAAR,MAGAorD,GAAS,GApHb,2DADc,uBAAC,WAAD,wBA+Hde,KAIC,IAEI,CAAClB,EAAIE,GCtLd,SAASiB,GAAQ38D,EAAOuD,GAAK,IAGrBC,EAAuDxD,EAAvDwD,GAAIqY,EAAmD7b,EAAnD6b,OAAQ3a,EAA2ClB,EAA3CkB,MAAO8B,EAAoChD,EAApCgD,UAAWmvC,EAAyBnyC,EAAzBmyC,aAAc5qC,EAAWvH,EAAXuH,OAHvB,EAId4e,oBAAS,WACpB,OAAO3iB,GAAE,mBAAmB,IAAIuX,MAAOC,cADlC4hD,EAJoB,sBASPrB,GAAeqB,EAAI/gD,GATZ,mBASpB2/C,EAToB,KAShBE,EATgB,KAU3B/0C,qBAAU,WAEJ+0C,GAASF,GAEXA,EAAGqB,WAAW1qB,GAA8B,MAG7C,CAACqpB,EAAIE,IAER/0C,qBAAU,WAMR,OALI+0C,GAGFF,EAAGsB,YAAY,OAAQC,GAElB,eAEN,CAACrB,IACJzxC,8BAAoB1mB,GAAK,iCACpBi4D,MAEL,IAAMuB,EAAOtzC,uBAAY,WAEvBliB,EAAOi0D,EAAGwB,gBACT,CAACxB,EAAIj0D,IACR,OACE,kBAAC,GAAD,CAASjD,SAAoB,OAAVo3D,EAAgBr3D,SAAS,EAAOD,IAAK,0BAC3C,IAAVs3D,GACC,yBACEl4D,GAAIo5D,EACJr1D,OAAQ,WACN+I,QAAQC,IAAI,WAEdvN,UAAS,qBAAgBA,GAAwB,IAEjD9B,MAAK,aAAIG,MAAO,QAASE,OAAQ,SAAYL,MAItC,IAAVw6D,GACC,kBAAC,KAAMuB,SAAP,CACE9qB,aAAcA,EACdnvC,UAAU,mBACVuE,OAAQ,SAAC/G,GACP8P,QAAQC,IAAI/P,GACZ+G,EAAO/G,EAAEwB,OAAO6B,QAElBq5D,KAAM,MAOD5wD,sBAAKwb,qBAAW60C,KC1G/B,SAASQ,GAAYn9D,EAAOuD,GAAM,IAE9BhF,EASEyB,EATFzB,KAEA6+D,GAOEp9D,EARFq9D,gBAQEr9D,EAPFo9D,cACAE,EAMEt9D,EANFs9D,SACAC,EAKEv9D,EALFu9D,YACAC,EAIEx9D,EAJFw9D,QAGA7qC,EACE3yB,EADF2yB,SAV6B,EAaexM,oBAAS,GAbxB,mBAaxBs3C,EAbwB,KAaPC,EAbO,OAcSv3C,mBAAS,IAdlB,mBAcxBw3C,EAdwB,KAcVC,EAdU,KAezBC,EAAWtyC,iBAAO,MAfO,EAgBOpF,oBAAS,GAhBhB,mBAgBxB23C,EAhBwB,KAgBXC,EAhBW,KAoBzBtpC,EAAO1L,mBAAQ,WACnB,OAAOu0C,GAAY,KAClB,CAACA,IAKEU,EAAYv0C,uBAAY,SAACgL,GAA+B,IAAzB9lB,EAAwB,uDAAb,aAC1CsvD,EAAa,IAAIC,WAEjBC,EACFC,KAAK/qD,UAAUgrD,UACfD,KAAK/qD,UAAUirD,aACfF,KAAK/qD,UAAUT,MAEb2rD,EAAY,QAEZC,EAASxsD,KAAKysD,KAAKhqC,EAAKtwB,KAAOo6D,GAC/BG,EAAe,EACfC,EAAQ,IAAIC,KAmBhB,SAASC,IACP,IAAI1mD,EAAQumD,EAAeH,EACzBjvD,EAAM6I,EAAQomD,GAAa9pC,EAAKtwB,KAAOswB,EAAKtwB,KAAOgU,EAAQomD,EAE7DN,EAAWa,mBAAmBX,EAAU5qD,KAAKkhB,EAAMtc,EAAO7I,IArB5D2uD,EAAW1pD,OAAS,SAAU/T,GAK5B,GAHAm+D,EAAMI,aAAav+D,EAAEwB,OAAO0R,UAC5BgrD,EAEmBF,EACjBK,QACK,CACL,IAAIG,EAAWL,EAAMrvD,MACrBX,EAASqwD,KAebH,MACC,IAIGI,EAASx1C,uBACb,SAACgL,EAAMyqC,EAAMC,GAAwD,IAA1CpuD,EAAyC,uDAA/B,aAAUC,EAAqB,uDAAb,aACjDsjB,EAAW,IAAIC,SACf6qC,EAAY,QACZvc,EAAa7wC,KAAKysD,KAAKhqC,EAAKtwB,KAAOi7D,GACnCC,EAAWrtD,KAAKk8B,KAAKgxB,EAAO,GAAKE,EAAW3qC,EAAKtwB,MACjDm7D,EAAW7qC,EAAK7hB,MAAMssD,EAAOE,EAAWC,GACxCrlD,EAAQlH,KAERyG,EAAkBlJ,GAAe,mBACjCkvD,EACFhmD,aAA2B1N,QAAU0N,EAAgBsiD,eAEnDzhD,EAAW/J,GAAe,YAC1BiU,EACFqO,GAAavY,aAAoBvO,QAAUuO,EAAS4I,SA8DtD,OA7DAsR,EAASE,OAAO,WAAYC,EAAKx3B,MACjCq3B,EAASE,OAAO,OAAQ8qC,GACxBhrC,EAASE,OAAO,WAAYj2B,GAE5B+1B,EAASE,OAAO,QAASxa,GACzBsa,EAASE,OAAO,WAAYlQ,GAC5BgQ,EAASE,OAAO,eAAgB2qC,GAEhCh+D,IAAEyZ,KAAK,CACLhO,IAAK2yD,EAAS,eACd7qC,OAAO,EACPn2B,KAAM,OACNM,KAAMy1B,EACNK,aAAa,EACbC,aAAa,EACb7jB,QAAS,SAAUlS,EAAM2gE,EAAYC,GACnC,OAAwB,MAApB5gE,EAAKogB,YACPy+C,GAAmB,GAInBptD,QAAQovD,KAAK,gEAAgBR,EAAO,GAAK,eACzCluD,EAAMnS,EAAK8gE,OAGbR,EAAetgE,EAAK4kB,KAAKm8C,QACrBV,EAAO,IAAMrc,GAEf6a,EAAmB,KACnBA,GAAmB,GACnBK,GAAe,QAGfhtD,EAAQlS,EAAK4kB,QAWfi6C,EAAmBroD,IAAgB6pD,EAAO,GAAKrc,EAAc,WAC7D+a,EAAgB,CAACnpC,IAAQyqC,EAAMrgE,EAAK4kB,KAAKm8C,QAAS7uD,EAASC,OAM7DA,MAAO,SAAUyuD,EAAOI,EAAWC,GACjCxvD,QAAQovD,KAAK,gEAAgBR,EAAO,GAAK,UACzCxB,GAAmB,GAInB1sD,EAAM,+BAIHmuD,IAET,CAACxsC,EAAUp0B,IAIPwhE,EAAat2C,uBACjB,SAAC20C,GACCR,EAAgB,CACdQ,EACA,EACA,GACA,SAACv/D,GAECu+D,EAAa,GAAD,oBAAK3oC,GAAL,CAAW51B,MAGzB,SAACugB,GACCxN,GAAU,CAAEtU,MAAO8hB,OAGvBs+C,EAAmB,KAgBrB,CAACuB,EAAQxqC,IAyBX,OAvBAxK,8BAAoB1mB,GAAK,iBAAO,CAC9BkxB,OACAgpC,sBAYF92C,qBAAU,WAENg3C,EAAaxwD,OAAS,IACF,IAApBswD,GACoB,MAApBA,GAEAwB,EAAM,WAAN,eAAUtB,MAEX,CAACF,IAEF,0BACEz6D,UAAU,cACV9B,MAAO,CACLqrB,OAASuxC,EAA0B,UAAZ,YAH3B,2BAOE,2BACEv6D,IAAKs6D,EACLt/D,KAAK,OACL2C,MAAO,CACLqrB,OAASuxC,EAA0B,UAAZ,UACvBx6D,QAASw6D,EAAc,OAAS,gBAElC96D,UAAU,aAEVS,QAAS,WACPs6D,GAAe,IAEjBr3D,SAAU,SAAClG,GAET,IAAMw/D,EAAQx/D,EAAEwB,OACVi+D,EAAQz/D,EAAEwB,OAAOi+D,MACvB,GAAIA,EAAO,CACT,IADU,IAAD,WACA/1D,GAEP,IAAMk0D,EAAO6B,EAAM/1D,GAEnB,GAAIk0D,EAAKj6D,KAAO,UAMd,OAJAyN,GAAU,CAAEtU,MAAO,yDACzBygE,GAAe,GAGH,CAAN,GAAO,GAGP,GAAI38D,OAAO88D,WACTF,EAAUI,GAAM,SAACY,GAEf,GAAKxB,EAAQjuD,MAAK,SAACvF,GAAD,OAAWA,IAAUg1D,KASrC,OAJAptD,GAAU,CAAEtU,MAAO,mCAC/BygE,GAAe,IAGI,EARPR,EAAY,GAAD,oBAAKC,GAAL,CAAcwB,KACzBe,EAAW3B,UAUV,CACL,GACG3pC,EAAKllB,MACJ,SAACvF,GAAD,OACEA,EAAMk2D,WAAa9B,EAAKnhE,MACxB+M,EAAMm2D,WAAa/B,EAAKj6D,QAU5B,OAJAyN,GAAU,CAAEtU,MAAO,mCAC7BygE,GAAe,GAGC,CAAN,GAAO,GAPPgC,EAAW3B,KApCVl0D,EAAQ,EAAGA,EAAQ+1D,EAAM9yD,OAAQjD,IAAS,CAAC,IAAD,IAA1CA,GAA0C,kCAkDnD81D,EAAMn8D,MAAQ,QAIC,IAApB45D,GACC,0BAAMz6D,UAAU,uBAAuBy6D,EAAvC,MAMOnxD,sBAAKwb,qBAAWq1C,KC3OvBiD,IADaC,KAAbpD,SACgBqD,KAAhBF,aACJp0C,GAAS,mBACb,SAASu0C,GAAOvgE,EAAOuD,GAAM,IAAD,OAIxBP,EAYEhD,EAZFgD,UACAzE,EAWEyB,EAXFzB,KACAiiE,EAUExgE,EAVFwgE,OACAC,EASEzgE,EATFygE,QACA1nB,EAQE/4C,EARF+4C,MACAj1C,EAOE9D,EAPF8D,OACA48D,EAME1gE,EANF0gE,OACA5nB,EAKE94C,EALF84C,QAEAnmB,EAGE3yB,EAHF2yB,SACA3hB,EAEEhR,EAFFgR,MACGxM,EAfqB,YAgBtBxE,EAhBsB,gGAkBtB2gE,EAAsB,iBAD1BpiE,EAAOA,GAAQ,eAC2B,eAAO,2BAlBvB,EAoBA4nB,mBAAS,IApBT,mBAoBnB7oB,EApBmB,KAoBZsjE,EApBY,OAsBcz6C,oBAAS,GAtBvB,mBAsBnB06C,EAtBmB,KAsBLC,EAtBK,OAuBM36C,mBAAS,kCAvBf,mBAuBnB46C,EAvBmB,KAuBTC,EAvBS,OA0BE76C,mBAAS,IA1BX,mBA0BnB6zB,EA1BmB,KA0BXinB,EA1BW,OA4BgB96C,oBAAS,GA5BzB,mBA4BnB+6C,EA5BmB,KA4BJC,EA5BI,OA6BQh7C,mBAAS,qBAAQw6C,GA7BzB,mBA6BnBS,EA7BmB,KA6BRC,EA7BQ,OAgCFl7C,mBAAS,IAhCP,mBAgCnBsO,EAhCmB,KAgCb6sC,EAhCa,OAkCYn7C,oBAAS,GAlCrB,gCAmCIA,mBAAS,6BAnCb,gCAqCIA,mBAAS,KArCb,mBAqCnBq3C,GArCmB,KAqCV+D,GArCU,QAuCYp7C,oBAAS,GAvCrB,qBAuCN43C,IAvCM,gBAyCF53C,mBAAS,IAzCP,qBAyCnBq7C,GAzCmB,MAyCbC,GAzCa,SA2CYt7C,oBAAS,GA3CrB,qBA2CnBu7C,GA3CmB,MA2CNC,GA3CM,SA4CIx7C,mBAAS,kCA5Cb,qBA4CnBy7C,GA5CmB,MA4CVC,GA5CU,SA8CQ17C,mBAAS,GA9CjB,qBA8CnB27C,GA9CmB,MA8CRC,GA9CQ,SAgDsB57C,oBAAS,GAhD/B,qBAgDnB67C,GAhDmB,MAgDDC,GAhDC,SAiDc97C,mBAAS,0DAjDvB,qBAiDnB+7C,GAjDmB,gBAmDA/7C,mBAAS,KAnDT,qBAmDnBg8C,GAnDmB,MAmDZC,GAnDY,SAqDcj8C,oBAAS,GArDvB,qBAqDnBk8C,GArDmB,gBAsDMl8C,mBAAS,2DAtDf,qBAsDnBm8C,GAtDmB,gBAwDcn8C,mBAAS,IAxDvB,qBAwDnBo8C,GAxDmB,MAwDLC,GAxDK,SA0D4Br8C,oBAAS,GA1DrC,qBA0DnBs8C,GA1DmB,MA0DEC,GA1DF,SA2DoBv8C,mBAAS,8CA3D7B,qBA2DnBw8C,GA3DmB,gBA8DkBx8C,mBAAS,KA9D3B,qBA8DnBy8C,GA9DmB,MA8DHC,GA9DG,SA+Dc18C,mBAAS,IA/DvB,qBA+DnB28C,GA/DmB,MA+DLC,GA/DK,SAiEsB58C,oBAAS,GAjE/B,qBAiEnB68C,GAjEmB,MAiEDC,GAjEC,SAkEc98C,mBAAS,0DAlEvB,qBAkEnB+8C,GAlEmB,MAkELC,GAlEK,SAoEUh9C,oBAAS,GApEnB,qBAoEnBi9C,GApEmB,MAoEPC,GApEO,SAuEoBl9C,oBAAS,GAvE7B,qBAuEnBs3C,GAvEmB,MAuEFC,GAvEE,MAyEpB4F,GAAY/3C,kBAAO,GAzEC,GA4EkBsvC,GAC1C,GACS,UAATt8D,EAAmB+7C,GAAiB6f,IA9EZ,qBA4EnBiB,GA5EmB,MA4EPmI,GA5EO,MAkFpBC,IAlFoB,MAkFJz6C,mBAAQ,WAC5B,MAAO,CACL,CAAEllB,MAAO,EAAGvG,MAAO,UACnB,CAAEuG,MAAO,EAAGvG,MAAO,aAEpB,KAEGmmE,GAAmB16C,mBAAQ,WAC/B,MAAO,CACL,CAAEllB,MAAO,EAAGvG,MAAO,gBACnB,CAAEuG,MAAO,EAAGvG,MAAO,mBAEpB,IAEGomE,GAAan4C,iBAAO,MAE1B5E,qBAAU,WACG,YAAX65C,GAAwBE,GAAU6C,GAAa7C,KAG9C,CAACA,IAGJ/5C,qBAAU,WACJy0C,GAAWL,UAAYK,GAAWJ,SAEpC4F,EAASxF,GAAWrhB,OACpBunB,EAAQlG,GAAWtgB,UACnB2mB,GAAQrG,GAAWvgB,SACnBomB,EAAU7F,GAAWnhB,OAKR,UAAT17C,IACFikE,GAAgBpH,GAAWlgB,cAC3B2nB,GAAkBzH,GAAWpgB,gBAC7B+nB,GAAgB3H,GAAWngB,cAC3B8mB,GAAa3G,GAAWjgB,WACxBinB,GAAShH,GAAWrgB,SAEZqgB,GAAWJ,SAEJ,oBAAVhqD,GAAwBA,MAGhC,CAACoqD,KAEJ,IAAMuI,GAAoBl6C,uBACxB,SAAC5lB,GAAuD,IAAhDkN,EAA+C,uDAArC,aAAUC,EAA2B,uDAAnB,SAAC4yD,KACnC/yD,GAAW,CAAEhN,QAAOkN,UAASC,YAE/B,IAII6yD,GAAap6C,uBACjB,SAAC5lB,GACC,IAAI6P,GAAS,EAiBb,OAhBAiwD,GACE9/D,GAASvG,GACT,WACEwjE,GAAgB,GAChBptD,GAAS,KAEX,SAACkwD,GAEG5C,EADE4C,EACU,iCAEA,8CAEd9C,GAAgB,GAChBptD,GAAS,KAGNA,IAGT,CAACpW,IAGGwmE,GAAcr6C,uBAClB,SAAC5lB,GACC,IAAI6P,GAAS,EAsBb,OApBAiwD,GACE9/D,GAASm2C,GACT,WACEmnB,GAAiB,GACjBztD,GAAS,KAEX,SAACkwD,GAMGvC,EADEuC,EACW,qBAAQjD,EAERA,EAAa,kCAE5BQ,GAAiB,GACjBztD,GAAS,KAGNA,IAGT,CAACsmC,IAGG+pB,GAAet6C,uBACnB,SAAC5lB,GACC,IAAI6P,GAAS,EAWb,OATA7P,EAAQA,GAAS29D,KAMfG,IAAe,GACfjuD,GAAS,IALTmuD,GAAW,kCACXF,IAAe,GACfjuD,GAAS,GAKJA,IAGT,CAAC8tD,KAGGwC,GAAiBv6C,uBACrB,SAAC5lB,GACC,IAAI6P,GAAS,EACb,MAAa,UAATnV,IAKU,MADdsF,EAAQA,GAASi+D,KAGfG,IAAoB,GACpBvuD,GAAS,IAETuuD,IAAoB,GACpBvuD,GAAS,GAEJA,KAGT,CAACouD,KAGGmC,GAAoBx6C,uBACxB,SAAC5lB,GACC,IAAI6P,GAAS,EACb,MAAa,UAATnV,IAKU,MADdsF,EAAQA,GAAS0+D,KAGfG,IAAuB,GACvBhvD,GAAS,IAETgvD,IAAuB,GACvBhvD,GAAS,GAEJA,KAGT,CAAC6uD,KAGG2B,GAAiBz6C,uBACrB,SAAC5lB,GAEC,IAAI6P,GAAS,EACb,GAAa,UAATnV,EAEF,OAAO,EALA,MAOUsF,GAAS,CAAC++D,GAAgBE,IAPpC,mBAOJqB,EAPI,KAOG70D,EAPH,KA8BT,OAtBA60D,EAAQtkE,KAAOskE,GACf70D,EAAMzP,KAAOyP,GACR60D,EAAMC,WAAc90D,EAAI80D,UAIjBD,EAAMC,UAIN90D,EAAI80D,UAIL90D,EAAI+0D,KAAKF,EAAO,KAAO,IAChChB,GAAgB,2GAChBF,IAAoB,GACpBvvD,GAAS,IAETuvD,IAAoB,GACpBvvD,GAAS,IATTyvD,GAAgB,0DAChBF,IAAoB,GACpBvvD,GAAS,IANTyvD,GAAgB,0DAChBF,IAAoB,GACpBvvD,GAAS,IANTyvD,GAAgB,0DAChBF,IAAoB,GACpBvvD,GAAS,GAiBJA,IAGT,CAACkvD,GAAgBE,KAGbwB,GAAa76C,uBACjB,SAAC5lB,GAEC,MAAa,UAATtF,IAIJsF,EAAQA,GAASs+D,KAFR,IAcX,CAACA,KAGGoC,GAAW,SAACnyD,GACH,CACX2xD,KACAD,KACAD,KACAI,KACAD,MACCZ,IAAcc,MACdd,IAAckB,MAGNE,OAAM,SAACx6D,GAAD,OAAWA,MACZ,oBAAPoI,GAAqBA,KA+C1B6sD,IA3CYx1C,uBAAY,SAACgL,GAA+B,IAAzB9lB,EAAwB,uDAAb,aAC1CsvD,EAAa,IAAIC,WAEjBC,EACFC,KAAK/qD,UAAUgrD,UACfD,KAAK/qD,UAAUirD,aACfF,KAAK/qD,UAAUT,MAEb2rD,EAAY,QAEZC,EAASxsD,KAAKysD,KAAKhqC,EAAKtwB,KAAOo6D,GAC/BG,EAAe,EACfC,EAAQ,IAAIC,KAmBhB,SAASC,IACP,IAAI1mD,EAAQumD,EAAeH,EACzBjvD,EAAM6I,EAAQomD,GAAa9pC,EAAKtwB,KAAOswB,EAAKtwB,KAAOgU,EAAQomD,EAE7DN,EAAWa,mBAAmBX,EAAU5qD,KAAKkhB,EAAMtc,EAAO7I,IArB5D2uD,EAAW1pD,OAAS,SAAU/T,GAK5B,GAHAm+D,EAAMI,aAAav+D,EAAEwB,OAAO0R,UAC5BgrD,EAEmBF,EACjBK,QACK,CACL,IAAIG,EAAWL,EAAMrvD,MACrBX,EAASqwD,KAebH,MACC,IAIYp1C,uBACb,SAACgL,EAAMyqC,EAAMC,GAAwD,IAA1CpuD,EAAyC,uDAA/B,aAAUC,EAAqB,uDAAb,aACjDsjB,EAAW,IAAIC,SACf6qC,EAAY,QACZvc,EAAa7wC,KAAKysD,KAAKhqC,EAAKtwB,KAAOi7D,GACnCC,EAAWrtD,KAAKk8B,KAAKgxB,EAAO,GAAKE,EAAW3qC,EAAKtwB,MACjDm7D,EAAW7qC,EAAK7hB,MAAMssD,EAAOE,EAAWC,GACxCrlD,EAAQlH,KAERyG,EAAkBlJ,GAAe,mBACjCkvD,EACFhmD,aAA2B1N,QAAU0N,EAAgBsiD,eAEnDzhD,EAAW/J,GAAe,YAC1BiU,EACFqO,GAAavY,aAAoBvO,QAAUuO,EAAS4I,SAkDtD,OAjDAsR,EAASE,OAAO,WAAYC,EAAKx3B,MACjCq3B,EAASE,OAAO,OAAQ8qC,GACxBhrC,EAASE,OAAO,WAAYj2B,GAE5B+1B,EAASE,OAAO,QAASxa,GACzBsa,EAASE,OAAO,WAAYlQ,GAC5BgQ,EAASE,OAAO,eAAgB2qC,GAEhCh+D,IAAEyZ,KAAK,CACLhO,IAAK2yD,EAAS,eACd7qC,OAAO,EACPn2B,KAAM,OACNM,KAAMy1B,EACNK,aAAa,EACbC,aAAa,EACb7jB,QAAS,SAAUlS,EAAM2gE,EAAYC,GACnC,OAAwB,MAApB5gE,EAAKogB,YACPy+C,IAAmB,GAEnBptD,QAAQovD,KAAK,gEAAgBR,EAAO,GAAK,eACzCluD,EAAMnS,EAAK8gE,OAGbR,EAAetgE,EAAK4kB,KAAKm8C,QACrBV,EAAO,IAAMrc,GACf6a,GAAmB,KAGnB3sD,EAAQlS,EAAK4kB,WAEbziB,YAAW,WACT08D,IAAmB,KAClB,OAGLA,GAAmBroD,IAAgB6pD,EAAO,GAAKrc,EAAc,WAI7Doc,GAAOxqC,IAAQyqC,EAAMrgE,EAAK4kB,KAAKm8C,QAAS7uD,EAASC,MAEnDA,MAAO,SAAUyuD,EAAOI,EAAWC,GACjCxvD,QAAQovD,KAAK,gEAAgBR,EAAO,GAAK,UACzCxB,IAAmB,GAEnB1sD,EAAM,+BAIHmuD,IAET,CAACxsC,EAAUp0B,KAIMkrB,uBACjB,SAAC20C,GACCL,IAAe,GACfL,GAAmB,GAEnBuB,GACEb,EACA,EACA,IACA,SAACv/D,GACCyiE,EAAQ,GAAD,oBAAK7sC,GAAL,CAAW51B,QAEpB,SAACugB,GACCxN,GAAU,CAAEtU,MAAO8hB,SAIzB,CAAC6/C,GAAQxqC,IAGX9N,qBAAU,WACU,IAAdm7C,IACFuB,IAAc,GACdjB,GAAS,IACTS,GAAkB,IAClBE,GAAgB,IAChBE,IAAoB,IAGpBI,IAAc,KAEf,CAACvB,KAIQ/4C,mBAAQ,WAClB,OACE00C,IACE,0BAAMz6D,UAAU,uBAAuBy6D,MAG1C,CAACA,KACoBh0C,uBAAY,SAACg7C,GACnC/G,GAAmB+G,KAClB,IATH,IAUMrH,GAAe3zC,uBAAY,SAACgL,GAChCipC,IAAmB,GACnB4D,EAAQ7sC,KACP,IACC8oC,GAAc9zC,uBAAY,SAAC5lB,GACjC09D,GAAW19D,KACT,IAEA,OACE,uCAAKb,UAAS,oBAAeA,GAAwB,KAAUwB,GAC7D,2BAAOxB,UAAU,gBACf,+BACE,4BACE,wBAAIA,UAAU,QAAd,iBACA,4BACE,kBAACqG,GAAD,CAAKwB,QAASg2D,EAAcvjE,MAAOyjE,GACjC,kBAAC,KAAD,CACEl9D,MAAOvG,EACP0F,UAAU,2BACV0hE,UAAW,IACXt9D,YAAa,oCACbV,SAAU,SAAClG,GACTogE,EAASpgE,EAAEwB,OAAO6B,QAEpB0D,OAAQ,SAAC/G,GACPqjE,GAAWrjE,EAAEwB,OAAO6B,aAM9B,4BACE,wBAAIb,UAAU,QAAQ29D,EAAtB,KACA,4BACE,kBAACt3D,GAAD,CAAKwB,QAASq2D,EAAe5jE,MAAO8jE,GAClC,kBAAC,KAAD,CACEv9D,MAAOm2C,EACPh3C,UAAU,4BACV0hE,UAAW,GACXt9D,YAAW,4BAAQu5D,EAAR,OACXj6D,SAAU,SAAClG,GACTygE,EAAUzgE,EAAEwB,OAAO6B,QAErB0D,OAAQ,SAAC/G,GACPsjE,GAAYtjE,EAAEwB,OAAO6B,aAMrB,UAATtF,EACC,4BACE,qEACA,4BACE,kBAAC8K,GAAD,CAAKwB,QAASm3D,GAAkB1kE,MAAO4kE,IACrC,kBAAC,GAAD,CACEr+D,MAAOi+D,GACPp7D,SAAU,SAAClG,GACTuhE,GAAavhE,EAAEwB,OAAO6B,OACtBo+D,IAAoB,KAIrBuB,GAAcx8D,KAAI,SAACgD,EAAOE,GACzB,OACE,kBAAC,GAAD,CAAOlN,IAAKkN,EAAOrG,MAAOmG,EAAMnG,OAC7BmG,EAAM1M,cASrB,qCAEQ,UAATiB,EACC,4BACE,qEACA,4BACE,kBAAC8K,GAAD,CAAKwB,QAASw3D,GAAc/kE,MAAOglE,IACjC,kBAAC,KAAD,CACEz+D,MAAOs+D,GAEP32D,UAAW43D,GACX7kE,KAAM,SACNyE,UAAU,2BACV0hE,UAAW,EAEXh+D,SAAU,SAAClG,GACT4hE,GAAS5hE,EAAEwB,OAAO6B,QAEpB0D,OAAQ,SAAC/G,GACP8jE,GAAW9jE,EAAEwB,OAAO6B,aAO9B,qCAEQ,UAATtF,EACC,4BACE,wBAAIyE,UAAU,QAAd,yCACA,4BACE,kBAACqG,GAAD,CACEwB,QAASu4D,IAAcJ,GACvB1lE,MAAO4lE,IAEP,kBAAC9C,GAAD,CACE15D,SAAU,SAACi+D,EAAOC,GAEhB/B,GAAkB+B,EAAW,IAC7B7B,GAAgB6B,EAAW,IAEvBA,EAAW,IAAMA,EAAW,IAE9BV,GAAeS,IASnBn5D,SAAU,EACP43D,KAAc,GACdA,KAAeR,IAElBiC,WAAY,EACTzB,KAAc,GACdA,KAAeR,IAElB/+D,MAAO,CACL++D,GAAiB/iE,KAAO+iE,IAAkB,GAC1CE,GAAejjE,KAAOijE,IAAgB,IAExCgC,aAAc,SAAC5pD,GAGb,OAFWrb,OAEGqb,GAwBhB8Q,OAAQA,GACRlsB,OAAQA,KACRilE,UAAQ,OAMhB,qCAEQ,UAATxmE,EACC,4BACE,yDACA,4BACE,kBAAC8K,GAAD,CAAKwB,QAAS43D,GAAqBnlE,MAAOqlE,IACxC,kBAAC,GAAD,CACE9+D,MAAO0+D,GACP77D,SAAU,SAAClG,GACTgiE,GAAgBhiE,EAAEwB,OAAO6B,OACzB6+D,IAAuB,KAGxBe,GAAiBz8D,KAAI,SAACgD,EAAOE,GAC5B,OACE,kBAAC,GAAD,CAAOlN,IAAKkN,EAAOrG,MAAOmG,EAAMnG,OAC7BmG,EAAM1M,cASrB,qCAEF,4BACE,6CACA,wBAAI4D,MAAO,CAAE4gB,QAAS,IACpB,8BACG2S,aAAgBxqB,OACfwqB,EAAKztB,KAAI,SAACgD,EAAOE,GACf,IAAI4vC,EAAQ9vC,EAAMk2D,SAASxtD,YAAY,KACnCsyD,EAAW,IACA,IAAXlrB,IACFkrB,EAAW,CAACh7D,EAAMk2D,SAAU,KAE9B8E,EAAS,GAAKh7D,EAAMk2D,SAASttD,MAAM,EAAGknC,GACtCkrB,EAAS,GAAKh7D,EAAMk2D,SAASttD,MAAMknC,GACnC,IAAImrB,EAAWj7D,EAAMm2D,SACrB,OACE,0BACEnjE,IAAKkN,EACLlH,UAAS,iCAA4BuP,GACnCvI,EAAMk2D,YAGR,0BAAMl9D,UAAU,YAAY1F,MAAO0M,EAAMk2D,UACtC8E,EAAS,IAEZ,0BAAMhiE,UAAU,YAAY1F,MAAO0M,EAAMk2D,UACtC8E,EAAS,IAEZ,0BAAMhiE,UAAU,YAAY1F,MAAO2nE,GAAnC,IACIA,EADJ,KAGA,uBAAGxhE,QAAS,WACV69D,EAAQ7sC,EAAK7hB,MAAM,EAAE1I,GAAOkF,OAAOqlB,EAAK7hB,MAAM1I,EAAM,KACpDq3D,GAAW/D,GAAQ5qD,MAAM,EAAE1I,GAAOkF,OAAOouD,GAAQ5qD,MAAM1I,EAAM,MAE5DlH,UAAU,eAJb,YAQPyxB,aAAgBxqB,OAASwqB,EAAKtnB,OAAS,EACtC,0BAAMnK,UAAU,iBAiEd,0BAAMA,UAAU,aAMd,kBAAC,GAAD,CAEEs6D,SAAU7oC,EACV2oC,aAAcA,GACdG,YAAaA,GACbC,QAASA,GACTj6D,IAAK+/D,GACL3wC,SAAUA,EACVp0B,KAAMA,KAGV,0BAAMyE,UAAU,YAAhB,yHAKF,MAKR,4BACE,wBAAIA,UAAU,UAAd,iBACA,4BACE,kBAACqG,GAAD,CAAKwB,QAAS62D,GAAapkE,MAAOskE,IAchC,yBAAK5+D,UAAW,2BACb,IACD,kBAAC,GAAD,CACEuE,OAAQ,SAAC/G,GACPujE,GAAavjE,GACbihE,GAAQjhE,IAEV2xC,aAAcqvB,GACdj+D,IAAKmgE,WAQnB,wBAAI1gE,UAAU,iBACXy9D,EACC,wBACEz9D,UAAU,iBACVS,QAAS,WACP8gE,GACE9D,EAAQh9D,QAAQE,KAAK,EAAM,CACzBo2C,MAAOz8C,EACP28C,MAAOD,EACPa,QAAS2mB,GACTzmB,MAAOonB,GACPnnB,eAAgB4nB,GAChB3nB,aAAc6nB,GACd5nB,aAAcqnB,GACdpnB,UAAW2mB,GACX1nB,YAAav6C,OAASmsB,OAAO,oBAC7B8uB,SAAUrmB,OAdlB,gBAsBA,GAEDskB,GAAoB,SAAXynB,EACR,wBACEx9D,UAAU,0BACVS,QAAS,WACP8gE,GACExrB,EAAMt1C,QAAQE,KAAK,EAAM,CACvBo2C,MAAOz8C,EACP28C,MAAOD,EACPa,QAAS2mB,GACTzmB,MAAOonB,GACPnnB,eAAgB4nB,GAChB3nB,aAAc6nB,GACd5nB,aAAcqnB,GACdpnB,UAAW2mB,GAEXhnB,SAAUrmB,OAdlB,kCAsBA,GAEDqkB,EACC,wBACE91C,UAAU,4BACVS,QAAS,WACP8gE,GACEzrB,EAAQr1C,QAAQE,KAAK,EAAM,CACzBo2C,MAAOz8C,EACP28C,MAAOD,EACPa,QAAS2mB,GACTzmB,MAAOonB,GACPnnB,eAAgB4nB,GAChB3nB,aAAc6nB,GACd5nB,aAAcqnB,GACdpnB,UAAW2mB,GAEXhnB,SAAUrmB,OAdlB,4BAsBA,GAED3wB,EACC,wBACEd,UAAU,2BACVS,QAAS,WAGPK,EAAOL,SAAWK,EAAOL,YAL7B,gBAWA,KAMK6I,sBAAKwb,qBAAWy4C,K,QCr8B/B,SAAS2E,GAAWllE,EAAOuD,GAAK,IAI5BP,EAWEhD,EAXFgD,UACA09D,EAUE1gE,EAVF0gE,OACAniE,EASEyB,EATFzB,KAEAiiE,GAOExgE,EARFkB,MAQElB,EAPFwgE,QAEA2E,GAKEnlE,EANFuB,OAMEvB,EALFmlE,UACAC,EAIEplE,EAJFolE,UACAC,EAGErlE,EAHFqlE,YACAj4C,EAEEptB,EAFFotB,cACG5oB,EAdyB,YAe1BxE,EAf0B,gHAkBsB66D,GAClD,GACS,UAATt8D,EAAmB+7C,GAAiB6f,IApBR,mBAkBvBiB,EAlBuB,KAkBXmI,EAlBW,KAkBG5qC,EAlBH,KAkBY9R,EAlBZ,KAuBxBy+C,EAAgBv8C,mBAAQ,WAC5B,aAAyBpkB,IAAlByoB,IAA+BA,KACrC,CAACA,IAEEm4C,EAASh6C,iBAAO,MACtB5E,qBAAU,WACG,YAAX65C,GAAwBE,GAAU6C,EAAa7C,KAG9C,CAACA,IAhC0B,MAmCjB,YAAXF,EACIpF,EADJ,aAGML,UAAU,EACVC,SAAS,EACTjhB,MAAO,GACPE,MAAO,GACPG,YAAa,GACbS,QAAS,GACTC,SAAU,IACPuqB,GAXLtK,EAlCwB,EAkCxBA,SAAUC,EAlCc,EAkCdA,QAASjhB,EAlCK,EAkCLA,MAAOE,EAlCF,EAkCEA,MAAOG,EAlCT,EAkCSA,YAAaS,EAlCtB,EAkCsBA,QAASC,EAlC/B,EAkC+BA,SAc7D1wB,2BAAgB,WACVywB,GAAS15C,IAAEokE,EAAOp5C,SAASq5C,KAAK3qB,KAEnC,CAACA,IAGJ,IAAM0kB,EAASx2C,mBAAQ,WACrB,IAAIxP,EAAkBlJ,GAAe,mBACrC,OAAOkJ,aAA2B1N,QAAU0N,EAAgBsiD,iBAC3D,IAKH,OAHA5xC,8BAAoB1mB,GAAK,iBAAO,CAC9BsjB,SAAOu0C,iBAGP,kBAAClvD,GAAD,CAAYC,YAAWm5D,GAAgBh4C,cACrC,kBAAC,GAAD,CACEjpB,SAAS,EACTC,SAAqB,YAAXk8D,GAAwB7nC,EAClCv0B,IAAK,yBAEL,uCACEpB,UAAS,wBAAmBA,GAAwB,KAChDwB,GAEHu2D,EACCC,EACE,yBAAKh4D,UAAU,sBACb,yBAAKA,UAAU,kBACb,0BAAMA,UAAU,gCAAgC1F,MAAOy8C,GACpDA,GAEH,0BAAM/2C,UAAU,+BACd,0BAAMA,UAAW,UAAW1F,MAAO88C,GAChCA,GAEH,0BAAMp3C,UAAW,UAAW1F,MAAO28C,GAChCA,IAGO,YAAXumB,EACC,0BACEx9D,UAAU,iBACVS,QAAS,WACa,oBAAb0hE,GAA2BA,MAHtC,gBASA,GAEU,YAAX3E,EACC,0BACEx9D,UAAU,kBACVS,QAAS,WACc,oBAAd2hE,GAA4BA,MAHvC,4BASA,IAGJ,yBACE7hE,IAAKgiE,EACLviE,UAAU,iBACVQ,GAAG,iBACHtC,MAAO,CAAEukE,WAAY,WAAYC,WAAY,8BAQ9C5qB,aAAoB7wC,OAAS6wC,EAAS3tC,OAAS,EAC9C,yBAAKnK,UAAU,YACb,uBAAGA,UAAU,UAAb,gBACA,yBAAKA,UAAU,cACZ83C,EAAS9zC,KAAI,SAACgD,EAAOE,GAAW,IACzBg2D,EAAgCl2D,EAAhCk2D,SAAUN,EAAsB51D,EAAtB41D,QAASO,EAAan2D,EAAbm2D,SAErBrmB,EAAQomB,EAASxtD,YAAY,KAC7BsyD,EAAW,GAQf,OANe,IAAXlrB,IACFkrB,EAAW,CAAC9E,EAAU,KAExB8E,EAAS,GAAK9E,EAASttD,MAAM,EAAGknC,GAChCkrB,EAAS,GAAK9E,EAASttD,MAAMknC,GAG3B,yBACE98C,IAAKkN,EACLlH,UAAS,6BAAwBuP,GAC/B2tD,KAGF,0BAAMl9D,UAAU,YAAY1F,MAAO4iE,GAChC8E,EAAS,IAEZ,0BAAMhiE,UAAU,YAAY1F,MAAO4iE,GAChC8E,EAAS,IAEZ,0BAAMhiE,UAAU,YAAY1F,MAAO6iE,GAAnC,IACIA,EADJ,KAGA,uBACEl0D,KAAMszD,EAASK,EAEfjJ,SAAUqO,EAAS,GAEnBhjE,OAAO,SACPgB,UAAU,iBANZ,sBAmBV,IAIJ,kBAAC,GAAD,CACEA,UAAW,sBACXzE,KAAM,IACNjB,MAAO,qDAIX,MAOGgP,sBAAKwb,qBAAWo9C,KCtMzBn9C,GAAYC,KAAZD,QAGN,SAAS49C,GAAQ3lE,EAAOuD,GAUlBvD,EARF06D,kBAAqBC,MAFK,IAG1BnxC,EAOExpB,EAPFwpB,UAEAkN,GAKE12B,EANFkqB,UAMElqB,EALF02B,WALyB,GAUvB12B,EAJFyb,QAIEzb,EAHF+tB,SAAWzJ,EAPc,EAOdA,SAAUC,EAPI,EAOJA,UAAWE,EAPP,EAOOA,YAPP,GAUvBzkB,EADFvB,SAE2BoqB,qBAAW2wB,KAXb,KAWrBv5C,MAXqB,EAWdy7C,YAEiBv1B,oBAAS,IAbZ,mBAapBs6C,EAboB,KAaXmF,EAbW,OAeOz/C,mBAAS,WAfhB,mBAepB0/C,EAfoB,KAeTvmE,EAfS,OAiBG6mB,oBAAS,GAjBZ,mBAiBpBwS,EAjBoB,KAiBXC,EAjBW,OAmBWzS,mBAAS,CAC7C4zB,MAAO,eACPE,MAAO,eACPG,YAAa,eACbS,QAAS,eACTC,SAAU,KAxBe,mBAmBpBuqB,EAnBoB,KAmBPS,EAnBO,KA6BrBhtB,EAAUrvB,uBACd,SAAC5qB,GAEC+5B,GAAW,GAFH,IAGHkiB,EAAqBj8C,EAArBi8C,SAAYjpC,EAHT,YAGkBhT,EAHlB,cAQRw7D,GAAe,aACbr3C,SAAUsB,EACVE,UAAWD,EACXo2B,YAAal2B,EACb61C,QAAS,EAAExf,YAERjpC,IACFmM,MAAK,YAAgB,EAAbtK,OACG8V,EAAU,GAAI,GAAI,iBAAiB,IAAG,eAEhDoP,GAAW,QAMjB,CAACysC,EAAa77C,IAEhB,OAEE,kBAAC,GAAD,CAASnlB,QAAS,GAAKC,SAAUq0B,GAC/B,kBAAC,KAAD,CACEnO,UAAWq7C,EACXp7C,aAAc,WACZ,MAAO,KAGT,kBAAC,GAAD,CAASrB,IAAI,UAAUpsB,IAAI,WACzB,yBAEEgG,UAAU,qDAEV,yBAAKA,UAAU,iBACb,0BAAMA,UAAU,YAAhB,wCACA,0BAAMA,UAAU,YAAhB,uFAEF,kBAAC,GAAD,CACEy9D,QAAS,CACPh9D,QAAS,SAAC5E,GAGRinE,EAAejnE,GACf+mE,GAAW,GACXtmE,EAAa,aAKjBy5C,MAAO,CACLt1C,QAAS,SAAC5E,GAQRi6C,EAAQ,2BAAIj6C,GAAL,IAAUy7D,QAAQ,OAG7BxhB,QAAS,CACPr1C,QAAS,SAAC5E,GACRi6C,EAAQ,2BAAIj6C,GAAL,IAAUy7D,QAAQ,OAG7Bx2D,OAAQ,CACNL,QAAS,WACP+lB,EAAU,GAAI,GAAI,iBAAkB,IAAI,SAACD,EAAQ3b,GAC/C0C,QAAQC,IAAIgZ,EAAQ3b,YAQhC,kBAAC,GAAD,CAASwb,IAAI,UAAUpsB,IAAI,WACxByjE,EACC,yBAAKz9D,UAAU,uBACb,yBACE9B,MAAO,CAAEK,OAAQm1B,EAAUn1B,OAAS,OAQpC,kBAAC,GAAD,CACEi/D,OAAQ,UACRjiE,KAAM,UACN8mE,YAAaA,EACbF,SAAU,WACRS,GAAW,GACXtmE,EAAa,YAEf8lE,UAAW,WACTtsB,EAAQ,2BAAIusB,GAAL,IAAiB/K,QAAQ,UAMxC,MAQZ,IAAMvpC,GAAkB,SAAC9wB,GAAW,IAElBy6D,EAEZz6D,EAFFu8C,WAAcke,kBAFiB,EAI7Bz6D,EADFjB,WAEF,MAAO,CAAE07D,oBAAmB3sC,QALK,EAGjBA,QAEqB2I,UALJ,EAGRA,YAIZzF,qBAAQF,GAARE,CAAyBpJ,YAAWvb,eAAKwb,qBAAW69C,OC5JnE,SAASI,GAAO/lE,EAAOuD,GAUjBvD,EARF06D,kBAAqBC,MAQnB36D,EAPFwpB,UAOExpB,EANFkqB,UAJyB,IAKzBwM,EAKE12B,EALF02B,UACA/pB,EAIE3M,EAJF2M,SACAnJ,EAGExD,EAHFwD,GAPwB,GAUtBxD,EAFFyb,QAEEzb,EADFvB,SAE2BoqB,qBAAW2wB,KAXd,KAWpBv5C,MAXoB,EAWby7C,YAEiBv1B,oBAAS,IAbb,mBAanBwS,EAbmB,aAeNxS,oBAAS,WAC3B,OAAO3iB,GAAU,OAhBO,mBAenBg3C,EAfmB,KAefsgB,EAfe,KAkBpBkL,EAAYz6C,iBAAO,MAuBzB,OArBA5E,qBAAU,WACR,GAAIha,EAASgE,SAAU,CACrB,IAAI8V,EAAO/V,GAAY/D,EAASgE,UAQpB,kBAAZ8V,EAAK,IACHA,EAAK,IACLA,EAAK,KAAO+zB,GACZsgB,EAAMr0C,EAAK,IACG,kBAAZA,EAAK,IAA0B+zB,GAAMwrB,EAAU75C,SAEjD65C,EAAU75C,QAAQtF,YAIrB,CAACla,EAASgE,WAEX,kBAAC,GAAD,CAAStM,QAAS,GAAKC,SAAUq0B,GAC/B,yBACE31B,UAAU,qCACV9B,MAAO,CAAEK,OAAQm1B,EAAUn1B,OAAS,OAEpC,kBAAC,GAAD,CAAYgC,IAAKyiE,EAAWtF,OAAQlmB,EAAIj8C,KAAM,cAMtD,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAElBy6D,EAEZz6D,EAFFu8C,WAAcke,kBAFiB,EAI7Bz6D,EADFjB,WAEF,MAAO,CAAE07D,oBAAmB3sC,QALK,EAGjBA,QAEqB2I,UALJ,EAGRA,YAIZzF,qBAAQF,GAARE,CAAyBpJ,YAAWvb,eAAKwb,qBAAWi+C,OC7D7Dh+C,GAAYC,KAAZD,QAGN,SAAS49C,GAAQ3lE,EAAOuD,GAWlBvD,EATF06D,kBAAqBC,MAFK,IAG1BnxC,EAQExpB,EARFwpB,UAEAkN,GAME12B,EAPFkqB,UAOElqB,EANF02B,WACA/pB,EAKE3M,EALF2M,SANyB,GAWvB3M,EAJFyb,QAIEzb,EAHF+tB,SARyB,KAQdzJ,SARc,EAQJC,UARI,EAQOE,YAG9BzkB,EADFvB,SAE2BoqB,qBAAW2wB,KAZb,KAYrBv5C,MAZqB,EAYdy7C,YAEiBv1B,oBAAS,IAdZ,mBAcpBs6C,EAdoB,KAcXmF,EAdW,OAgBOz/C,mBAAS,WAhBhB,mBAgBpB0/C,EAhBoB,KAgBTvmE,EAhBS,OAkBG6mB,oBAAS,GAlBZ,mBAkBpBwS,EAlBoB,KAkBXC,EAlBW,OAoBPzS,mBAAS,IApBF,mBAoBpBq0B,EApBoB,KAoBhBsgB,EApBgB,OAsBW30C,mBAAS,CAC7C4zB,MAAO,eACPE,MAAO,eACPG,YAAa,eACbS,QAAS,eACTC,SAAU,KA3Be,mBAsBpBuqB,EAtBoB,KAsBPS,EAtBO,KAgCrBhtB,EAAUrvB,uBACd,SAAC5qB,GAEC+5B,GAAW,GAFH,IAGFkiB,EAAoCj8C,EAApCi8C,SAA0BjpC,GAAUhT,EAA1Bu7C,YAHR,YAGkCv7C,EAHlC,6BAQR07D,GAAY,aAIVH,IAAK5f,EACL8f,QAAS,EACTxf,YAEGjpC,IACFmM,MAAK,YAAgB,EAAbtK,QACG8V,EAAU,GAAI,GAAI,iBAAkB,IAGhDoP,GAAW,QAOf,CAACysC,EAAa77C,EAAWgxB,IAa3B,OATA7zB,qBAAU,WACR,GAAIha,EAASgE,SAAU,CACrB,IAAI8V,EAAO/V,GAAY/D,EAASgE,UACpB,gBAAZ8V,EAAK,IAAwBA,EAAK,IAAMA,EAAK,KAAO+zB,GAAMsgB,EAAMr0C,EAAK,OAKtE,IAGD,kBAAC,GAAD,CAASpiB,QAAS,GAAKC,SAAUq0B,GAC/B,kBAAC,KAAD,CACEnO,UAAWq7C,EACXp7C,aAAc,WACZ,MAAO,KAGT,kBAAC,GAAD,CAASrB,IAAI,UAAUpsB,IAAI,WACzB,yBAEEgG,UAAU,qDAEV,yBAAKA,UAAU,iBACb,0BAAMA,UAAU,YAAhB,wCACA,0BAAMA,UAAU,YAAhB,uFAEF,kBAAC,GAAD,CACE09D,OAAQlmB,EACRgmB,OAAQ,OACRxvD,MAAO,WACLwY,EAAU,GAAI,GAAI,iBAAkB,IAAI,SAACD,EAAQ3b,QAEnD6yD,QAAS,CACPh9D,QAAS,SAAC5E,GAGRinE,EAAejnE,GACf+mE,GAAW,GACXtmE,EAAa,aAKjBy5C,MAAO,CACLt1C,QAAS,SAAC5E,GAQRi6C,EAAQ,2BAAKj6C,GAAN,IAAYy7D,QAAS,OAGhCxhB,QAAS,CACPr1C,QAAS,SAAC5E,GACRi6C,EAAQ,2BAAKj6C,GAAN,IAAYy7D,QAAS,OAGhCx2D,OAAQ,CACNL,QAAS,WACP+lB,EAAU,GAAI,GAAI,iBAAkB,IAAI,SAACD,EAAQ3b,GAC/C0C,QAAQC,IAAIgZ,EAAQ3b,YAQhC,kBAAC,GAAD,CAASwb,IAAI,UAAUpsB,IAAI,WACxByjE,EACC,yBAAKz9D,UAAU,uBACb,yBACE9B,MAAO,CAAEK,OAAQm1B,EAAUn1B,OAAS,OAQpC,kBAAC,GAAD,CACEi/D,OAAQ,UACRjiE,KAAM,UACN8mE,YAAaA,EACbF,SAAU,WACRS,GAAW,GACXtmE,EAAa,YAEf8lE,UAAW,WACTtsB,EAAQ,2BAAKusB,GAAN,IAAmB/K,QAAS,UAM3C,MAQZ,IAAMvpC,GAAkB,SAAC9wB,GAAW,IAElBy6D,EAEZz6D,EAFFu8C,WAAcke,kBAFiB,EAI7Bz6D,EADFjB,WAEF,MAAO,CAAE07D,oBAAmB3sC,QALK,EAGjBA,QAEqB2I,UALJ,EAGRA,YAIZzF,qBAAQF,GAARE,CAAyBpJ,YAAWvb,eAAKwb,qBAAW69C,OCnOnE,SAASM,GAAQjmE,EAAOuD,GAAM,IACtBC,EAAwBxD,EAAxBwD,GAAIsnB,EAAoB9qB,EAApB8qB,gBACJk7C,EAAYz6C,iBAAO,IAMzB,OALA5E,qBAAU,WACRrW,QAAQC,IAAIy1D,EAAU75C,WACrB,CAAC65C,EAAU75C,QAAQivC,aACtB9qD,QAAQC,IAAIy1D,EAAU75C,SAGpB,yBAAKnpB,UAAU,gBACb,yBAAKA,UAAU,WAGf,yBAAKA,UAAU,aACb,kBAAC,aAAD,KACE,yBAAKA,UAAU,cACb,kBAAC,GAAD,CACEoqB,eAAe,EACf7pB,IAAKyiE,EACLtF,OAAQl9D,EACRjF,KAAM,aAGV,yBAAKyE,UAAU,gBACZ8nB,GAAmBA,EAAgBiC,eAQhD,IAAMgE,GAAkB,SAAC9wB,GAAW,IAC5BjB,EAAeiB,EAAfjB,WACN,OAAO,eAAKA,IAECiyB,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWm+C,MCFxD,SAASA,GAAQjmE,EAAOuD,GAQlBvD,EALF2M,SAKE3M,EAJFkqB,UAJ0B,IAK1BV,EAGExpB,EAHFwpB,UACAN,EAEElpB,EAFFkpB,MAAMg9C,EAEJlmE,EAFIkmE,UACNt4D,EACE5N,EADF4N,MAPyB,EASOuY,mBAAS,IAThB,mBASpBliB,EAToB,KASTkiE,EATS,OAUEp3C,qBAAW4qB,GAASlsB,IAVtB,mBAUpBxtB,EAVoB,KAUby7C,EAVa,KAWrB0qB,EAAU76C,iBAAO,IACHtrB,EAAdkM,UAgBN,OAdAwa,qBAAU,WACRw/C,EAAav4D,KACZ,CAACA,IAaF,kBAAC,GAAQwiB,SAAT,CAAkBvsB,MAAO,CAAE5D,QAAOy7C,gBAChC,yBAAK14C,UAAU,WACE,SAAdiB,EAIC,kBAAC,GAAD,CAAMV,IAAK6iE,IAGX,GAEa,YAAdniE,EACC,kBAAC,GAAD,CAASulB,UAAWA,IAEpB,GAEa,SAAdvlB,EAAuB,kBAAC,GAAD,CAAMulB,UAAWA,IAAqB,GACnD,kBAAVN,EAA4B,kBAAC,GAAD,CAAQM,UAAWA,IAAuB,GAExD,YAAdvlB,EAA0B,kBAAC,GAAD,MAAgB,GAC9B,YAAZA,GAAuB,kBAAC,GAAD,CAAaT,GAAI0iE,MAMjD,IAAMn1C,GAAkB,SAAC9wB,GAKvB,MAAO,CAAG8tB,QADN9tB,EADFjB,WAAc+uB,UAIHkD,qBAAQF,GAARE,CAAyBpJ,YAAWvb,eAAKwb,qBAAWm+C,OCrD7Dl+C,GAAYC,KAAZD,QAGN,SAAS49C,GAAQ3lE,EAAOuD,GAAM,IAE1BimB,EAOExpB,EAPFwpB,UAEAkN,GAKE12B,EANFkqB,UAMElqB,EALF02B,WAJyB,GASvB12B,EAJFyb,QAIEzb,EAHF+tB,SAAWzJ,EANc,EAMdA,SAAUC,EANI,EAMJA,UAAWE,EANP,EAMOA,YANP,GASvBzkB,EADFvB,SAE2BoqB,qBAAW2wB,KAVb,KAUrBv5C,MAVqB,EAUdy7C,YAEiBv1B,oBAAS,IAZZ,mBAYpBs6C,EAZoB,KAYXmF,EAZW,OAcOz/C,mBAAS,WAdhB,mBAcpB0/C,EAdoB,KAcTvmE,EAdS,OAgBG6mB,oBAAS,GAhBZ,mBAgBpBwS,EAhBoB,KAgBXC,EAhBW,OAkBWzS,mBAAS,CAC7C4zB,MAAO,eACPE,MAAO,eACPG,YAAa,eACbS,QAAS,eACTC,SAAU,KAvBe,mBAkBpBuqB,EAlBoB,KAkBPS,EAlBO,KA4BrBhtB,EAAUrvB,uBACd,SAAC5qB,GAEC+5B,GAAW,GAFH,IAGFkiB,EAAuBj8C,EAAvBi8C,SAAajpC,EAHX,YAGqBhT,EAHrB,cAQR67C,GAAa,aACX13B,SAAUsB,EACVE,UAAWD,EACXo2B,YAAal2B,EACbm2B,QAAS,EACTE,YAEGjpC,IACFmM,MAAK,YAAgB,EAAbtK,OACG8V,EAAU,GAAI,GAAI,eAAgB,IAAG,eAE/CoP,GAAW,QAMjB,CAACysC,EAAa77C,IAEhB,OAEE,kBAAC,GAAD,CAASnlB,QAAS,GAAKC,SAAUq0B,GAC/B,kBAAC,KAAD,CACEnO,UAAWq7C,EACXp7C,aAAc,WACZ,MAAO,KAGT,kBAAC,GAAD,CAASrB,IAAI,UAAUpsB,IAAI,WACzB,yBAEEgG,UAAU,mDAEV,yBAAKA,UAAU,iBACb,0BAAMA,UAAU,YAAhB,yCAGF,kBAAC,GAAD,CACEzE,KAAM,QACNkiE,QAAS,CACPh9D,QAAS,SAAC5E,GAGRinE,EAAejnE,GACf+mE,GAAW,GACXtmE,EAAa,aAKjBy5C,MAAO,CACLt1C,QAAS,SAAC5E,GAQRi6C,EAAQ,2BAAKj6C,GAAN,IAAY+7C,QAAS,OAGhC9B,QAAS,CACPr1C,QAAS,SAAC5E,GACRi6C,EAAQ,2BAAKj6C,GAAN,IAAY+7C,QAAS,OAGhC92C,OAAQ,CACNL,QAAS,WACP+lB,EAAU,GAAI,GAAI,eAAgB,IAAI,SAACD,EAAQ3b,GAC7C0C,QAAQC,IAAIgZ,EAAQ3b,YAQhC,kBAAC,GAAD,CAASwb,IAAI,UAAUpsB,IAAI,WACxByjE,EACC,yBAAKz9D,UAAU,qBACb,yBACE9B,MAAO,CAAEK,OAAQm1B,EAAUn1B,OAAS,OAQpC,kBAAC,GAAD,CACEi/D,OAAQ,UACRjiE,KAAM,QACN8mE,YAAaA,EACbF,SAAU,WACRS,GAAW,GACXtmE,EAAa,YAEf8lE,UAAW,WACTtsB,EAAQ,2BAAKusB,GAAN,IAAmBzqB,QAAS,UAM3C,MAQZ,IAAM7pB,GAAkB,SAAC9wB,GAAW,IAElBw8C,EAEZx8C,EAFFu8C,WAAcC,gBAFiB,EAI7Bx8C,EADFjB,WAEF,MAAO,CAAEy9C,kBAAiB1uB,QALO,EAGjBA,QAEmB2I,UALF,EAGRA,YAIZzF,qBAAQF,GAARE,CAAyBpJ,YAAWvb,eAAKwb,qBAAW69C,OC7JnE,SAASI,GAAO/lE,EAAOuD,GAQjBvD,EANFwpB,UAMExpB,EALFkqB,UAHyB,IAIzBwM,EAIE12B,EAJF02B,UACA/pB,EAGE3M,EAHF2M,SACQ05D,GAENrmE,EAHOwD,GAGPxD,EAFFyb,QAEEzb,EAFMqmE,aACCj5C,GACPptB,EADFvB,SACEuB,EADOotB,eAPe,EAWIjH,oBAAS,GAXb,mBAWnBwS,EAXmB,aAaNxS,mBAAS,KAbH,mBAanBq0B,EAbmB,KAafsgB,EAbe,KAcpBkL,EAAYz6C,iBAAO,MAkBzB,OAfA5E,qBAAU,WACR,GAAIha,EAASgE,SAAU,CACrB,IAAI8V,EAAO/V,GAAY/D,EAASgE,UACpB,gBAAZ8V,EAAK,IACHA,EAAK,IACLA,EAAK,KAAO+zB,GACZsgB,EAAMr0C,EAAK,IAEK,gBAAZA,EAAK,IAAwB+zB,GAAMwrB,EAAU75C,SAE/C65C,EAAU75C,QAAQtF,YAIvB,CAACla,EAASgE,WAEX,kBAAC,GAAD,CAAStM,QAAS,GAAKC,SAAUq0B,GAC/B,yBACE31B,UAAU,mCACV9B,WAAqByD,IAAd0hE,GAAyBA,EAAY,CAAE9kE,OAAQm1B,EAAUn1B,OAAS,MAAO,IAEhF,kBAAC,GAAD,CAAagC,IAAKyiE,EAAW54C,cAAeA,EAAeszC,OAAQlmB,EAAIj8C,KAAM,YAMrF,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAElBw8C,EAEZx8C,EAFFu8C,WAAcC,gBAFiB,EAI7Bx8C,EADFjB,WAEF,MAAO,CAAEy9C,kBAAiB1uB,QALO,EAGjBA,QAEmB2I,UALF,EAGRA,YAIZzF,qBAAQF,GAARE,CAAyBpJ,YAAWvb,eAAKwb,qBAAWi+C,OCpD7Dh+C,GAAYC,KAAZD,QAGN,SAAS49C,GAAQ3lE,EAAOuD,GAAM,IAE1BimB,EAQExpB,EARFwpB,UAEAkN,GAME12B,EAPFkqB,UAOElqB,EANF02B,WACA/pB,EAKE3M,EALF2M,SALyB,GAUvB3M,EAJFyb,QAIEzb,EAHF+tB,SAPyB,KAOdzJ,SAPc,EAOJC,UAPI,EAOOE,YAG9BzkB,EADFvB,SAE2BoqB,qBAAW2wB,KAXb,KAWrBv5C,MAXqB,EAWdy7C,YAEiBv1B,oBAAS,IAbZ,mBAapBs6C,EAboB,KAaXmF,EAbW,OAeOz/C,mBAAS,WAfhB,mBAepB0/C,EAfoB,KAeTvmE,EAfS,OAiBG6mB,oBAAS,GAjBZ,mBAiBpBwS,EAjBoB,KAiBXC,EAjBW,OAmBPzS,mBAAS,IAnBF,mBAmBpBq0B,EAnBoB,KAmBhBsgB,EAnBgB,OAqBW30C,mBAAS,CAC7C4zB,MAAO,eACPE,MAAO,eACPG,YAAa,eACbS,QAAS,eACTC,SAAU,KA1Be,mBAqBpBuqB,EArBoB,KAqBPS,EArBO,KA+BrBhtB,EAAUrvB,uBACd,SAAC5qB,GAEC+5B,GAAW,GAFH,IAGFkiB,EAAoCj8C,EAApCi8C,SAA0BjpC,GAAUhT,EAA1Bu7C,YAHR,YAGkCv7C,EAHlC,6BAQRu8C,GAAU,aAIRX,IAAKD,EACLI,QAAS,EACTE,YAEGjpC,IACFmM,MAAK,YAAgB,EAAbtK,QACG8V,EAAU,GAAI,GAAI,eAAgB,IAG9CoP,GAAW,QAOf,CAACysC,EAAa77C,EAAWgxB,IAa3B,OATA7zB,qBAAU,WACR,GAAIha,EAASgE,SAAU,CACrB,IAAI8V,EAAO/V,GAAY/D,EAASgE,UACpB,cAAZ8V,EAAK,IAAsBA,EAAK,IAAMA,EAAK,KAAO+zB,GAAMsgB,EAAMr0C,EAAK,OAKpE,IAGD,kBAAC,GAAD,CAASpiB,QAAS,GAAKC,SAAUq0B,GAC/B,kBAAC,KAAD,CACEnO,UAAWq7C,EACXp7C,aAAc,WACZ,MAAO,KAGT,kBAAC,GAAD,CAASrB,IAAI,UAAUpsB,IAAI,WACzB,yBAEEgG,UAAU,mDAEV,yBAAKA,UAAU,iBACb,0BAAMA,UAAU,YAAhB,wCACA,0BAAMA,UAAU,YAAhB,uFAEF,kBAAC,GAAD,CACAzE,KAAM,QACJmiE,OAAQlmB,EACRgmB,OAAQ,OACRxvD,MAAO,WACLwY,EAAU,GAAI,GAAI,eAAgB,IAAI,SAACD,EAAQ3b,QAEjD6yD,QAAS,CACPh9D,QAAS,SAAC5E,GAGRinE,EAAejnE,GACf+mE,GAAW,GACXtmE,EAAa,aAKjBy5C,MAAO,CACLt1C,QAAS,SAAC5E,GAQRi6C,EAAQ,2BAAKj6C,GAAN,IAAY+7C,QAAS,OAGhC9B,QAAS,CACPr1C,QAAS,SAAC5E,GACRi6C,EAAQ,2BAAKj6C,GAAN,IAAY+7C,QAAS,OAGhC92C,OAAQ,CACNL,QAAS,WACP+lB,EAAU,GAAI,GAAI,eAAgB,IAAI,SAACD,EAAQ3b,GAC7C0C,QAAQC,IAAIgZ,EAAQ3b,YAQhC,kBAAC,GAAD,CAASwb,IAAI,UAAUpsB,IAAI,WACxByjE,EACC,yBAAKz9D,UAAU,qBACb,yBACE9B,MAAO,CAAEK,OAAQm1B,EAAUn1B,OAAS,OAQpC,kBAAC,GAAD,CACEi/D,OAAQ,UACRjiE,KAAM,QACN8mE,YAAaA,EACbF,SAAU,WACRS,GAAW,GACXtmE,EAAa,YAEf8lE,UAAW,WACTtsB,EAAQ,2BAAKusB,GAAN,IAAmBzqB,QAAS,UAM3C,MAQZ,IAAM7pB,GAAkB,SAAC9wB,GAAW,IAElBw8C,EAEZx8C,EAFFu8C,WAAcC,gBAFiB,EAI7Bx8C,EADFjB,WAEF,MAAO,CAAEy9C,kBAAiB1uB,QALO,EAGjBA,QAEmB2I,UALF,EAGRA,YAIZzF,qBAAQF,GAARE,CAAyBpJ,YAAWvb,eAAKwb,qBAAW69C,OClMnE,SAASW,GAAMtmE,EAAOuD,GAQhBvD,EANF06D,kBAME16D,EALF2M,SAKE3M,EAJFkqB,UAJwB,IAKxBV,EAGExpB,EAHFwpB,UACAN,EAEElpB,EAFFkpB,MACAtb,EACE5N,EADF4N,MAPuB,EASSuY,mBAAS,IATlB,mBASlBliB,EATkB,KASPkiE,EATO,OAUIp3C,qBAAW4qB,GAASlsB,IAVxB,mBAUlBxtB,EAVkB,KAUXy7C,EAVW,KAWnB0qB,EAAU76C,iBAAO,IACHtrB,EAAdkM,UAgBN,OAdAwa,qBAAU,WACRw/C,EAAav4D,KACZ,CAACA,IAaF,kBAAC4rC,GAAQppB,SAAT,CAAkBvsB,MAAO,CAAE5D,QAAOy7C,gBAChC,yBAAK14C,UAAU,SACE,SAAdiB,EAIC,kBAAC,GAAD,CAAMV,IAAK6iE,IAGX,GAEa,YAAdniE,EACC,kBAAC,GAAD,CAASulB,UAAWA,IAEpB,GAEa,SAAdvlB,EAAuB,kBAAC,GAAD,CAAMulB,UAAWA,IAAqB,GACnD,gBAAVN,EAA0B,kBAAC,GAAD,MAAoB,GAEhC,YAAdjlB,EAA0B,kBAAC,GAAD,MAAgB,KAMnD,IAAM8sB,GAAkB,SAAC9wB,GAKvB,MAAO,CAAEy6D,kBADLz6D,EAFFu8C,WAAcke,kBAGY3sC,QADxB9tB,EADFjB,WAAc+uB,UAIHkD,qBAAQF,GAARE,CAAyBpJ,YAAWvb,eAAKwb,qBAAWw+C,O,QC9CnE,SAASC,GAAOvmE,EAAOuD,GAAM,IAAD,EAMtBvD,EAJFhB,WACa8kB,EAHW,EAGtBiK,QAAWjK,aACXb,EAJsB,EAItBA,aAGAjJ,EAAQ3J,GAAe,SAC3B,OACE,yBAAKrN,UAAU,UACb,4BACEA,UAAU,gBACV1F,MAAM,2BAENquB,IACE1I,EAAa,KAAKwI,WAClB,+BACAzR,EACA,UACA8J,EACA,8BAMV,IAAMiN,GAAkB,SAAC9wB,GAGvB,OAAOA,GAEMgxB,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWy+C,M,QC5ExD,SAASD,GAAMtmE,EAAOuD,GAAM,IAExBkY,EAEEzb,EAFFyb,QAFuB,EAIrBzb,EADF+tB,QAAWzJ,EAHY,EAGZA,SAAUC,EAHE,EAGFA,UAAWE,EAHT,EAGSA,YAHT,EAKK0B,mBAAS,IALd,mBAKlBszB,EALkB,KAKT+sB,EALS,OAMCrgD,mBAAS,CACjCszB,UACAn1B,WACAC,YACAE,gBAVuB,mBAMlBsT,EANkB,KAMX4jB,EANW,OAYax1B,mBAAS,IAZtB,mBAYlB8yB,EAZkB,KAYLC,EAZK,KAcnBC,EAAW5tB,iBAAO,IAClBk7C,EAAW,CACf1gB,EAAG,CACD/iD,UAAW,oBACX1F,MAAO,KACPopE,WAAY,EACZC,YAAa,eACbC,gBAAiB,sBAEnB/gB,EAAG,CACD7iD,UAAW,wBACX1F,MAAO,qBACPopE,WAAY,EACZC,YAAa,eACbC,gBAAiB,qBACjB3sC,OAAQ,GAEV6rB,EAAG,CACD9iD,UAAW,uBACX1F,MAAO,GACPopE,WAAY,EACZC,YAAa,eACbC,gBAAiB,sBAEnBC,EAAG,CACD7jE,UAAW,yBACX1F,MAAO,qBACPopE,WAAY,EACZC,YAAa,eACbC,gBAAiB,sBAEnBE,EAAG,CACD9jE,UAAW,wBACX1F,MAAO,qBACPopE,WAAY,EACZC,YAAa,eACbC,gBAAiB,sBAEnBG,EAAG,CACD/jE,UAAW,yBACX1F,MAAO,qBACPopE,WAAY,EACZC,YAAa,2BACbC,gBAAiB,kBACjB3sC,OAAQ,IAIN4d,EAAU9uB,mBAAQ,WAGtB,MAAO,CACL,CAEEwuB,UAAW,QACXwE,MAAO,SACP16C,MAAO,GACP26C,SAAU,aACVjqC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,KAKT,CACEvB,MAAO,eACP+D,MAAO,IAEP0Q,OAAQ,SAAClT,GAAU,IACXvB,EAAeuB,EAAfvB,MAAOm9C,EAAQ57C,EAAR47C,IACb,OACE,0BACEh3C,QAAS,WACPgY,EAAQ3N,KAAK,gBAAkB2sC,IAEjCz3C,UAAU,cACV1F,MAAOA,GAENA,GAAgB,QAKzB,CACEA,MAAO,2BACPy+C,MAAO,SACP16C,MAAO,IACPk2C,UAAW,SACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,eAAe1F,MAAOuB,GACnCA,KAMT,CACEvB,MAAO,2BACPy+C,MAAO,SACP16C,MAAO,IAEP0Q,OAAQ,SAAClT,GAAU,IAEfo8C,EAKEp8C,EALFo8C,aACAD,EAIEn8C,EAJFm8C,eAGAgsB,GACEnoE,EAHFooE,WAGEpoE,EAFFs8C,UAEEt8C,EADFmoE,aAMannE,OAAWA,KAAOo7C,GACjC,OACE,0BAAMj4C,UAAU,aAAa1F,MAAO29C,GACjC+rB,EACC,oCACE,0BAAMhkE,UAAU,kBACbi4C,GAAgBD,EACbC,EAAe,IAAMA,EACrB,MAELwrB,EAASO,GAAa1pE,MACrB,0BACE0F,UAAS,4BAAuByjE,EAASO,GAAahkE,YAErDyjE,EAASO,GAAa1pE,OAGzB,IAIJ,QAMV,CACEA,MAAO,wCACPy+C,MAAO,SACP16C,MAAO,IAEP0Q,OAAQ,SAAClT,GAAU,IACXk8C,EAAiCl8C,EAAjCk8C,MAAOkB,EAA0Bp9C,EAA1Bo9C,WAAYd,EAAct8C,EAAds8C,UACrB79C,GACD2+C,GAA0B,GAAK,KAAOlB,GAAgB,MACzD,OACE,0BAAM/3C,UAAU,cAAc1F,MAAOA,GACnC,0BAAM0F,UAAU,qBACbm4C,EAAY79C,EAAQ,MAEtB69C,GAAac,GAAcA,IAAelB,EACzC,0BAAM/3C,UAAU,kBAAhB,gBAEA,MAMV,CACE1F,MAAO,2BACPy+C,MAAO,SACP16C,MAAO,IACPk2C,UAAW,eACXxlC,OAAQ,SAAClT,GACP,IAAIq9C,EAAe,CACjB,CAAEr4C,MAAO,EAAGvG,MAAO,gBACnB,CAAEuG,MAAO,EAAGvG,MAAO,iBAEjBA,EAAQ4+C,EAAa35C,SAAS1D,IAC9Bq9C,EAAa35C,SAAS1D,IAAOvB,MAC7B,KACJ,OACE,0BACE0F,UAAS,wCAAmCnE,GAC5CvB,MAAOA,GAENA,KAKT,CACEA,MAAO,eACPy+C,MAAO,SACP16C,MAAO,IAGP0Q,OAAQ,SAAClT,GAAU,IACXmoE,EAA2BnoE,EAA3BmoE,YACFzoE,GAD6BM,EAAds8C,UACRsrB,EAASO,IAEpB,OACE,0BAAMhkE,UAAU,gBACbzE,EAAKmoE,WACJ,0BACE1jE,UAAS,0BAAqBzE,EAAKqoE,iBACnCnjE,QAAS,WAEPyjE,EAAW,CAAEzsB,IAAK57C,EAAK47C,IAAKe,OAAQj9C,EAAK07B,SAAU,WACjDroB,GAAU,CACRtU,MAAOiB,EAAKooE,YAAc,eAC1BpoE,KAAM,OACN4K,UAAS,IAGXgwC,EAAShtB,QAAQgN,kBAKpB56B,EAAKooE,aAGR,WAQX,IAEGO,EAAaz9C,uBACjB,SAAC7b,GAAiD,IAA1CmD,EAAyC,uDAA/B,aAAUC,EAAqB,uDAAb,aAClCuqC,GAAW3tC,GAAOoQ,MAAK,SAACC,GAClBA,EAAIvK,OACN3C,IAEAC,SAIN,IAGF,OACE,yBAAKhO,UAAU,kCACb,yBAAKA,UAAU,iBACb,kBAAC,GAAD,CACE3B,MAAO,IACPkF,YAAa,kEACbvD,UAAU,aACViC,MAAOg0C,EACPvyC,SAAU,SAAClG,GACT04C,EAAe14C,EAAEwB,OAAO6B,QAE1BmC,cAAe,SAACxF,GACdgmE,EAAWhmE,EAAEqD,OACb83C,EAAS,CAAEr3B,WAAUC,YAAWk1B,QAASj5C,EAAEqD,MAAO4gB,iBAEpDje,eAAgB,SAAChG,GACf04C,EAAe,IACfstB,EAAW,QAKjB,kBAAC,GAAD,CACExjE,UAAU,WACV60C,QAASA,EAET5f,UAAWF,EAAMtT,YACjBsT,MAAOA,EACPyB,aAAc,SAAC36B,KACf0E,IAAK41C,EACLnhB,IAAKqiB,MAMb,IAAMtpB,GAAkB,SAAC9wB,GAKvB,MAAO,CAAEy6D,kBADLz6D,EAFFu8C,WAAcke,kBAGY3sC,QADxB9tB,EADFjB,WAAc+uB,UAIHkD,qBAAQF,GAARE,CAAyBpJ,YAAWvb,eAAKwb,qBAAWw+C,OCjS7DhqD,I,OAAeiR,GAAfjR,YAMC,SAAS6qD,KAA8B,IAAfnuC,EAAc,uDAAJ,GAErC9D,EASE8D,EATF9D,UACAH,EAQEiE,EARFjE,SACA0kB,EAOEzgB,EAPFygB,QACAn1B,EAME0U,EANF1U,SACAC,EAKEyU,EALFzU,UACA6iD,EAIEpuC,EAJFouC,SACAC,EAGEruC,EAHFquC,OACAntC,EAEElB,EAFFkB,UACAE,EACEpB,EADFoB,SAEExtB,EACF0P,GAAU,iCACgBgI,GAAsB,GADtC,mBAER+iD,GAAkB,GAFV,sBAGInyC,GAAwB,EAH5B,qBAIRH,GAAsB,GAJd,oBAKE0kB,GAAoB,GALtB,sBAMRl1B,GAAwB,GANhB,qBAOG6iD,GAAsB,IAPzB,OAQRltC,EAAY,cAAgBA,EAAY,IARhC,OASPE,EAAW,aAAeA,EAAW,IAE1C,OAAOpd,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,WACA,CACLA,WAAYJ,EAAKI,WACjBpgB,KAAK,2BAcAggB,EAAK4E,MAdN,IAeFwC,KACEpH,EAAK4E,KAAKwC,gBAAgBhc,MACtB4U,EAAK4E,KAAKwC,KAAKjf,KAAI,SAACgD,EAAOE,GACzB,IAAI4vC,EAAoC,IAA3Bj7B,EAAK4E,KAAK8U,UAAY,GAAUruB,EAAQ,EAErD,OADA4vC,EAAQA,GAAS,GAAKA,EAAQ,IAAMA,EAC7B,2BACF9vC,GADL,IAEEhN,IAAKkN,EACLA,MAAO4vC,OAGX,GACNxhB,SAAUvD,KAIP,CACL9V,WAAYJ,EAAKI,eAUpB,SAASqoD,KAAuB,IAAftuC,EAAc,uDAAJ,GAC1B1U,EAAwB0U,EAAxB1U,SAAUC,EAAcyU,EAAdzU,UACZ3X,EACF0P,GAAU,oCACmBgI,GAAsB,GADzC,sBAERC,GAAwB,IAE5B,OAAOvH,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,GAAwB,MAApBA,EAAKI,WAAoB,CAC3B,IAAIpgB,EAAO,CAAC,GAAI,IA4BhB,OA3BAggB,EAAK4E,gBAAgBxZ,OACnBwE,GACEoQ,EAAK4E,MACL,YAAkE,IAAD,IAA9DzZ,MAASu9D,EAAqD,EAArDA,OAAQ/W,EAA6C,EAA7CA,SAAUgX,EAAmC,EAAnCA,SAAY14D,EAAuB,EAAvBA,MAAME,EAAiB,EAAjBA,WAC9C,GAAc,IAAVF,EACFjQ,EAAK,GAAGiP,KAAK,CACXjK,MAAO0jE,EACPjqE,MAAOkzD,EACP4W,SAAUI,SAEP,GAAc,IAAV14D,EAAa,CACtB,IAAI24D,EAAW5oD,EAAK4E,KAAKzU,EAAW,IAAIu4D,OACpC1oE,EAAK,GAAG4oE,aAAqBx9D,MAC/BpL,EAAK,GAAG4oE,GAAU35D,KAAK,CACrBjK,MAAO0jE,EACPjqE,MAAOkzD,EACP4W,SAAUI,IAGZ3oE,EAAK,GAAG4oE,GAAY,CAClB,CAAE5jE,MAAO0jE,EAAQjqE,MAAOkzD,EAAU4W,SAAUI,OAKpD,UAEG,CACLvoD,WAAYJ,EAAKI,WACjBpgB,KAAMA,GAGR,MAAO,CACLogB,WAAYJ,EAAKI,eAUpB,SAASyoD,KAAkD,IAAf1uC,EAAc,uDAAJ,GACrD2uC,EAAmB3uC,EAAnB2uC,OAAQjuD,EAAWsf,EAAXtf,OAEV9M,EACF8M,EAAM,wIAFRiuD,EAASA,aAAkB19D,MAAQ09D,EAAS,IAG6F55D,KACrI,MAEJ,OAAOiP,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,GAAwB,MAApBA,EAAKI,WAAoB,CAC3B,IAAIpgB,EAAO,GAMX,OALIggB,EAAK4E,gBAAgBxZ,OACvB4U,EAAK4E,KAAKxU,SAAQ,SAACjF,GACjBnL,EAAKmL,EAAM0Z,OAAS1Z,KAGjB,CACLiV,WAAYJ,EAAKI,WACjBpgB,KAAMA,GAGR,MAAO,CACLogB,WAAYJ,EAAKI,eAiJpB,SAAS2oD,KAA6C,IAAf5uC,EAAc,uDAAJ,GAChD6uC,EAA6B7uC,EAA7B6uC,OAAQnuD,EAAqBsf,EAArBtf,OAAQ4K,EAAa0U,EAAb1U,SAClB1X,EACF8M,EAAM,8DACiDmuD,EADjD,gCAC+EvjD,GACvF,OAAOtH,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,GAAwB,MAApBA,EAAKI,WAAoB,CAC3B,IAAIpgB,EAAO,GACPogB,EAAaJ,EAAKI,WACtB,GAAIJ,EAAK4E,MAAQ5E,EAAK4E,KAAKqkD,oBAAoB79D,MAAO,CACpD,IACI89D,EADAC,EAAW,GAEXC,EAAUppD,EAAK4E,KAAKykD,QACpBD,EAAUppD,EAAK4E,KAAKqkD,SAAS36D,QAAU86D,GAAW,KACpDA,EAAU,GAEZppD,EAAK4E,KAAKqkD,SAAS74D,SAAQ,SAACjF,GAC1B,IAAInL,EAAO,CACTuvD,UAAWvuD,KAAOmK,EAAMm+D,WAAWn8C,OAAO,uBAC1Co8C,QAASvoE,KAAOmK,EAAMq+D,SAASr8C,OAAO,uBACtCnoB,MAAOmG,EAAMk+D,OACb5qE,MAAO,SAAM0M,EAAMk+D,OAAS,UAE9BF,EAASl6D,KAAKjP,GACVopE,IAAYj+D,EAAMk+D,SACpBH,EAAgBlpE,OAGpBA,EAAI,eAAQggB,EAAK4E,OACZukD,SAAWA,EAChBnpE,EAAKkpE,cAAgBA,OAErB9oD,EAAa,IAEf,MAAO,CACLA,WAAYA,EACZwE,KAAK,eAAM5kB,IAGb,MAAO,CACLogB,WAAYJ,EAAKI,eAMpB,SAASqpD,KAAiC,IAAftvC,EAAc,uDAAJ,GAExC6uC,EASE7uC,EATF6uC,OACAnuD,EAQEsf,EARFtf,OACA2C,EAOE2c,EAPF3c,MACAiI,EAME0U,EANF1U,SACAtK,EAKEgf,EALFhf,MACAuuD,EAIEvvC,EAJFuvC,aACAna,EAGEp1B,EAHFo1B,UACAoa,EAEExvC,EAFFwvC,WACAJ,EACEpvC,EADFovC,QAEEx7D,EACFyP,EAAK,iDACqCiI,EADrC,sBAC2DujD,EAD3D,kBAC2E7tD,EAD3E,uBAC+FwuD,EAD/F,yBAC0HD,EAD1H,sBACoJna,EADpJ,oBACyKga,GAChL,OACEprD,GACG0B,QAAQ,CAAEC,OAAQ/R,EAAKgS,WAAYlF,EAAQM,UAE3CgE,MAAK,SAACa,GACL,GAAmB,IAAfA,EAAK7N,OAAe6N,EAAKhgB,KAAM,CACjC,IAAIA,EAAO,GADsB,EAoB7BggB,EAAKhgB,KALP4pE,EAf+B,EAe/BA,YACAC,EAhB+B,EAgB/BA,eACAC,EAjB+B,EAiB/BA,YACAr7D,EAlB+B,EAkB/BA,IACAs7D,EAnB+B,EAmB/BA,mBAeF,OAbA/pE,EAAKgqE,SAAWp0D,GAAeg0D,GAC/B5pE,EAAKiqE,SAA4C,IAAjCr0D,GAAei0D,GAC/B7pE,EAAKkqE,SAAWt0D,GAAek0D,GAC/B9pE,EAAKyO,IAAMA,EAAM+O,EAAQ/O,EAAM,UAAY0M,EAAQ,GACnDnb,EAAKmqE,WAAa,GAClBJ,aAA8B3+D,OAC5B2+D,EAAmB35D,SAAQ,SAACjF,GAC1BnL,EAAKmqE,WAAWl7D,KAAK,CACnBm7D,YAAaj/D,EAAMi/D,YACnBC,UAAWl/D,EAAMm/D,UACjBC,MAA4C,IAArC30D,GAAezK,EAAMq/D,mBAG3B,CACLpqD,WAjCe,IAkCfwE,KAAK,eAAM5kB,IAGb,MAAO,CACLogB,WAAY,QAQjB,SAASqqD,KAAsC,IAAftwC,EAAc,uDAAJ,GAE7C6uC,EASE7uC,EATF6uC,OAEAxrD,GAOE2c,EARFtf,OAQEsf,EAPF3c,OAEArC,EAKEgf,EALFhf,MAEAo0C,EAGEp1B,EAHFo1B,UAEAga,EACEpvC,EADFovC,QAEEx7D,EACFyP,EAAK,mEACuDwrD,EADvD,sBAC2EzZ,EAD3E,oBACgGga,GACvG,OAAOprD,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,GAAwB,MAApBA,EAAKI,YAAsBJ,EAAK4E,KAAM,CACxC,IAAI5kB,EAAO,GAD6B,EAoBpCggB,EAAK4E,KALPglD,EAfsC,EAetCA,YACAC,EAhBsC,EAgBtCA,eACAK,EAjBsC,EAiBtCA,SACAQ,EAlBsC,EAkBtCA,OACAX,EAnBsC,EAmBtCA,mBAwBF,OAtBA/pE,EAAKgqE,SAAWp0D,GAAeg0D,GAC/B5pE,EAAKiqE,SAA4C,IAAjCr0D,GAAei0D,GAC/B7pE,EAAKkqE,SAAWt0D,GAAes0D,GAC/BlqE,EAAKyO,IAAMi8D,EAASltD,EAAQktD,EAAS,UAAYvvD,EAAQ,GACzDnb,EAAKmqE,WAAa,GAClBJ,aAA8B3+D,OAC5B2+D,EAAmB35D,SAAQ,SAACjF,GAC1BnL,EAAKmqE,WAAWl7D,KAAK,CACnBm7D,YAAaj/D,EAAMi/D,YACnBC,UAAWl/D,EAAMm/D,UACjBC,MAA4C,IAArC30D,GAAezK,EAAMq/D,mBAY3B,CACLpqD,WA1Ce,IA2CfwE,KAAK,eAAM5kB,IAGb,MAAO,CACLogB,WAAY,QAOf,SAASuqD,KAAoC,IAAfxwC,EAAc,uDAAJ,GAE3C6uC,EASE7uC,EATF6uC,OACAnuD,EAQEsf,EARFtf,OACA2C,EAOE2c,EAPF3c,MACAiI,EAME0U,EANF1U,SACAtK,EAKEgf,EALFhf,MAEAo0C,GAGEp1B,EAJFuvC,aAIEvvC,EAHFo1B,WAEAga,GACEpvC,EAFFwvC,WAEExvC,EADFovC,SAEEx7D,EACFyP,EAAK,gDACoCiI,EADpC,sBAC0DujD,EAD1D,sBAC8EzZ,EAD9E,oBACmGga,GAC1G,OACEprD,GACG0B,QAAQ,CAAEC,OAAQ/R,EAAKgS,WAAYlF,EAAQM,UAE3CgE,MAAK,SAACa,GAEL,GAAkB,IAAdA,EAAKzB,MAAcyB,EAAKhgB,KAAM,CAChC,IAAIA,EAAO,GADqB,EAoB5BggB,EAAKhgB,KALP4qE,EAf8B,EAe9BA,YACAC,EAhB8B,EAgB9BA,eACAC,EAjB8B,EAiB9BA,YACA/8D,EAlB8B,EAkB9BA,IACAg9D,EAnB8B,EAmB9BA,mBAgBF,OAdA/qE,EAAKgqE,SAAWp0D,GAAeg1D,GAC/B5qE,EAAKiqE,SAA4C,IAAjCr0D,GAAei1D,GAC/B7qE,EAAKkqE,SAAWt0D,GAAek1D,GAC/B9qE,EAAKyO,IAAMV,EAAMW,mBAAmBX,GAAO,UAAYoN,EAAQ,GAC/Dnb,EAAKmqE,WAAa,GAClBY,aAA8B3/D,OAC5B2/D,EAAmB36D,SAAQ,SAACjF,GAC1BnL,EAAKmqE,WAAWl7D,KAAK,CACnBm7D,YAAaj/D,EAAM6iC,YACnBq8B,UAAWl/D,EAAM6/D,UACjBT,MAA4C,IAArC30D,GAAezK,EAAM8/D,mBAGlCx5D,QAAQC,IAAI1R,EAAKyO,KACV,CACL2R,WAlCe,IAmCfwE,KAAK,eAAM5kB,IAGb,MAAO,CACLogB,WAAY,QAuDjB,SAAS8qD,KAA8B,IAAf/wC,EAAc,uDAAJ,GACjC6J,EAAwD7J,EAAxD6J,SAAUxmB,EAA8C2c,EAA9C3c,MAAO2tD,EAAuChxC,EAAvCgxC,SAA6BhwD,GAAUgf,EAA7BjE,SAA6BiE,EAAnBixC,QAAmBjxC,EAAVhf,OAChDpN,EACFyP,EAAK,yCAC6BwmB,EAD7B,YACiD,EADjD,aAC+D,IAD/D,kBAC8E7oB,EAD9E,qBACgGgwD,GACvG,OAAOhtD,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,EAAGC,SAAS,IACtCS,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,GAAkB,IAAdA,EAAKzB,KAAY,CACnB,IAAIve,EAAO,GACPogB,EAAa,IACjB,GACEJ,EAAKhgB,MACLggB,EAAKhgB,KAAKA,gBAAgBoL,OAC1B4U,EAAKhgB,KAAKA,KAAKsO,OAAS,EACxB,OAYI0R,EAAKhgB,KAAKA,KAAK,GAJjBqrE,EARF,EAQEA,uBACAC,EATF,EASEA,SACAC,EAVF,EAUEA,gBACAC,EAXF,EAWEA,cAEFxrE,EAAO,CACL4V,GAAe41D,GACf51D,GAAey1D,GACfz1D,GAAe01D,GACf11D,GAAe21D,SAGjBnrD,EAAa,MAGf,MAAO,CACLA,WAAYA,EACZwE,KAAM5kB,GAGR,MAAO,CACLogB,WAAY,QAUf,SAASqrD,KAAmC,IAAftxC,EAAc,uDAAJ,GACtC6uC,EAAmB7uC,EAAnB6uC,OACFj7D,GADqBosB,EAAXtf,OAEZ4C,GAAU,uDAAmDurD,IAC/D,OAAO7qD,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,YAAsBJ,EAAK4E,KAC3B,CACLxE,WAAYJ,EAAKI,WACjBwE,KAAM,CACJ5E,EAAK4E,KAAK8mD,aACV1rD,EAAK4E,KAAK+mD,eACV3rD,EAAK4E,KAAKgnD,gBAIP,CACLxrD,WAAY,QAUf,SAASyrD,KAAqC,IAAf1xC,EAAc,uDAAJ,GACxC6uC,EAAmB7uC,EAAnB6uC,OACFj7D,GADqBosB,EAAXtf,OAEZ4C,GAAU,yDAAqDurD,IACjE,OAAO7qD,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,GAAwB,MAApBA,EAAKI,YAAsBJ,EAAK4E,gBAAgBxZ,MAAO,CACzD,IAAIpL,EAAOggB,EAAK4E,KAAKzc,KAAI,SAACgD,EAAOE,GAC/B,OAAO,aACL5M,MAAO0M,EAAM2gE,aACb/1D,KAAM5K,EAAM4gE,YACT5gE,MAGP,MAAO,CACLiV,WAAYJ,EAAKI,WACjBwE,KAAM5kB,GAGR,MAAO,CACLogB,WAAY,QAMf,SAAS4rD,KAAkC,IAAf7xC,EAAc,uDAAJ,GACrC6uC,EAAmB7uC,EAAnB6uC,OACFj7D,GADqBosB,EAAXtf,OAEZ4C,GAAU,sDAAkDurD,IAC9D,OAAO7qD,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,GAAwB,MAApBA,EAAKI,YAAsBJ,EAAK4E,KAAM,CAExC,IAAIqnD,EAAc,CAChB,CACE3/C,KAAM,cACN4/C,MAAO,GAET,CACE5/C,KAAM,cACN4/C,MAAO,GAET,CACE5/C,KAAM,cACN4/C,MAAO,GAET,CACE5/C,KAAM,cACN4/C,MAAO,GAET,CACE5/C,KAAM,cACN4/C,MAAO,GAET,CACE5/C,KAAM,cACN4/C,MAAO,IAGXD,EAAY,GAAGC,MAAQlsD,EAAK4E,KAAL,OAAsB,EAC7CqnD,EAAY,GAAGC,MAAQlsD,EAAK4E,KAAL,OAAsB,EAC7CqnD,EAAY,GAAGC,MAAQlsD,EAAK4E,KAAL,OAAsB,EAC7CqnD,EAAY,GAAGC,MAAQlsD,EAAK4E,KAAL,OAAsB,EAC7CqnD,EAAY,GAAGC,MAAQlsD,EAAK4E,KAAL,OAAsB,EAC7CqnD,EAAY,GAAGC,MAAQlsD,EAAK4E,KAAL,OAAsB,EAjCL,MAuCpC5E,EAAK4E,KAJPunD,EAnCsC,EAmCtCA,SACAnc,EApCsC,EAoCtCA,eAEAE,EAtCsC,EAsCtCA,iBAEF,MAAO,CACL9vC,WAAYJ,EAAKI,WACjBwE,KAAK,2BACA5E,EAAK4E,MADN,IAEFunD,SAAUr2D,GAAUc,WAAWu1D,GAAU/1D,QAAQ,GAAG,KAAMG,YAC1Dy5C,eAAel6C,GAAUc,WAAWo5C,GAAgB55C,QAAQ,GAAG,KAAMG,YAErE25C,iBAAiBp6C,GAAUc,WAAWs5C,GAAkB95C,QAAQ,GAAG,KAAMG,YACzE01D,cACAG,cAAe,MAInB,MAAO,CACLhsD,WAAY,QChyBtB,SAASisD,GAAalrE,EAAOuD,GAOvBvD,EALF2M,SAKE3M,EAJFyb,QAH+B,IAAD,EAO5Bzb,EAHF+tB,QAAWrJ,EAJmB,EAInBA,aAAcJ,EAJK,EAILA,SAAUC,EAJL,EAIKA,UACnCoS,EAEE32B,EAFF22B,UACap1B,EACXvB,EADF02B,UAAan1B,OANiB,EAQM4kB,mBAAS,IARf,mBAQzB8yB,EARyB,KAQZC,EARY,KAU1BiyB,EAAWpiD,mBAAQ,WACvB,OAAO4N,EAAUjS,GACbiS,EAAUjS,GACV,CACEA,aAAc,EACdD,YAAa,EACbnnB,MAAO,GACPozD,IAAK,GACL0a,OAAQ,GACRC,WAAY,MAEjB,CAAC10C,EAAWjS,IArBiB,EAuBIyB,mBAAS,CAC3C,CAAEtiB,MAAO,GAAIvG,MAAO,8BAxBU,mBAuBzBguE,EAvByB,aA2BUnlD,mBAAS,CACjD,CAAEtiB,MAAO,GAAIvG,MAAO,eAAO6tE,EAASza,QA5BN,mBA2BzB6a,EA3ByB,KA2BVC,EA3BU,OA+BYrlD,mBAAS,CACnD,CAAEtiB,MAAO,GAAIvG,MAAO,oCAhCU,mBA+BzBmuE,EA/ByB,KA+BTC,EA/BS,OAmCUvlD,mBAAS,IAnCnB,mBAmCzBwlD,EAnCyB,KAmCVC,EAnCU,OAqCMzlD,mBAAS,IArCf,mBAqCzB0lD,EArCyB,KAqCZC,EArCY,OAsCQ3lD,mBAAS,IAtCjB,mBAsCzB4lD,EAtCyB,KAsCXC,EAtCW,OAuCN7lD,mBAAS,CACjCszB,QAAS,GACTn1B,SAA2B,IAAjBI,EAAqB,GAAKJ,EACpC+iD,OAAQ,GACRD,SAAU,KA3CoB,mBAuCzBrvC,EAvCyB,KAuClB4jB,EAvCkB,KA+ChCh1B,qBAAU,WAEa,IAAjBjC,GACF4iD,GAAQ,CAAE/iD,YAAWD,aAAYtG,MAAK,SAACC,GACd,MAAnBA,EAAIgB,aACN3O,QAAQC,IAAI0N,GACZutD,EAAiB,CACf,CAAE3nE,MAAO,GAAIvG,MAAO,eAAO6tE,EAASza,MADtB,oBAEXzyC,EAAIpf,KAAK,MAEd+sE,EAAiB3tD,EAAIpf,KAAK,UAK/B,CAAC6lB,IAEJ,IAAMy0B,EAAW5tB,iBAAO,IAElBssB,EAAU9uB,mBAAQ,WACtB,IAAI+yB,EAAY,KAAO,KACvB,MAAO,CACL,CACEx+C,MAAO,2BAEPN,IAAK,WACL++C,MAAO,OACP16C,MAAO,IAAMy6C,EACb/hB,QAAQ,EACRhoB,OAAQ,SAAClT,GAAU,IACX4tB,EAAwB5tB,EAAxB4tB,SAAUH,EAAcztB,EAAdytB,UAChB,OACE,0BAAMtpB,UAAU,aAAa1F,MAAOmvB,GAClC,uBACEvrB,MAAO,CACLmrB,WAAW,OAAD,OAASC,EAAT,+BAGbG,GAAsB,QAK/B,CACEnvB,MAAO,eACP+D,MAAO,IACP04B,QAAQ,EACR/8B,IAAK,SACL++C,MAAO,SACPxE,UAAW,SACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,eAAe1F,MAAOuB,GACnCA,GAAc,QAKvB,CACEvB,MAAO6tE,EAASc,aAAed,EAASC,OACxCrxC,QAAQ,EACRgiB,MAAO,SACP/+C,IAAKmuE,EAASE,WAEdhqE,MAAO,IAEP0Q,OAAQ,SAAClT,GACP,IAAI5B,EAAO4B,EAAKssE,EAASE,YACzB,OACE,0BAAMroE,UAAU,mBAAmB1F,MAAOL,GACvCA,GAAc,QAMvB,CACEK,MAAO,eACPy8B,QAAQ,EACRgiB,MAAO,SACP/+C,IAAK,SAELqE,MAAO,GAAKy6C,EACZvE,UAAW,SACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,eAAe1F,MAAOuB,GACnCA,GAAc,QAKvB,CACEvB,MAAO,eACPy8B,QAAQ,EACR/8B,IAAK,WACL++C,MAAO,SACP16C,MAAO,GAAKy6C,EACZvE,UAAW,WACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,iBAAiB1F,MAAOuB,GACrCA,GAAc,QAMvB,CACEvB,MAAO,2BACPy8B,QAAQ,EACR/8B,IAAK,eACL++C,MAAO,SACP16C,MAAO,IACPk2C,UAAW,WACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,iBAAiB1F,MAAOuB,GACrCA,GAAc,QAKvB,CACEvB,MAAO,2BACPy8B,QAAQ,EACR/8B,IAAK,YACL++C,MAAO,SACP16C,MAAO,IACPk2C,UAAW,YACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,kBAAkB1F,MAAOuB,GACtCA,GAAc,QAKvB,CACEvB,MAAO,2BACPy+C,MAAO,SACP16C,MAAO,IAAMy6C,EACbvE,UAAW,aACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,mBAAmB1F,MAAOuB,GACvCA,GAAc,QAKvB,CACEvB,MAAO,2BACPy+C,MAAO,SACP16C,MAAO,IAAMy6C,EAGb/pC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,gBACd,0BACEA,UAAU,aACVS,QAAS,WAEPrC,OAAOorB,KACLprB,OAAOuL,SAASkB,OACd,yBACAhP,EAAKykB,iBAUtB,CAAC6nD,IACJ,OACE,yBAAKnoE,UAAU,eAAe9B,MAAO,CAAEK,OAAQA,IAC7C,yBAAKyB,UAAU,UACb,yBAAKA,UAAU,cACK,IAAjB0hB,EACC,kBAACnY,GAAD,CACElL,MAAO,IACPE,OAAQ,IACRoI,SAAU2hE,EACVhuE,MAAO,eACPuG,MAAOk0B,EAAMzT,SACbthB,UAAU,kBACV0D,SAAU,SAAClG,KACXqJ,SAAU,SAACrJ,EAAGsJ,GACZ6xC,EAAS,2BAAK5jB,GAAN,IAAazT,SAAU9jB,QAInC,GAEgB,IAAjBkkB,EACC,oCACE,kBAACnY,GAAD,CACElL,MAAO,IACPE,OAAQ,IACRoI,SAAU4hE,EACVjuE,MAAwB,IAAjBonB,EAAqB,eAAO,qBACnC7gB,MAAOgoE,EACP7oE,UAAU,iBACV0D,SAAU,SAAClG,KACXqJ,SAAU,SAACrJ,EAAGsJ,GACZ6xC,EAAS,2BAAK5jB,GAAN,IAAasvC,OAAQ7mE,EAAG4mE,SAAUt9D,EAAOs9D,YACjD0E,EAAetrE,GACf8P,QAAQC,IAAIo7D,EAAcnrE,GAAGA,EAAEmrE,GAC/BD,EACEC,EAAcnrE,GACVmrE,EAAcnrE,GACd,CAAC,CAAEqD,MAAO,GAAIvG,MAAO,uCAIb,IAAjBonB,EACC,kBAACnY,GAAD,CACElL,MAAO,IACPE,OAAQ,IACRiK,SAA0B,KAAhBqgE,EACVliE,SAAU8hE,EACV5nE,MAAOkoE,EACP/oE,UAAU,kBACV0D,SAAU,SAAClG,KACXqJ,SAAU,SAACrJ,EAAGsJ,GACZ6xC,EAAS,2BACJ5jB,GADG,IAENsvC,OAAQ7mE,EACR4mE,SAAUt9D,EAAOs9D,YAEnB4E,EAAgBxrE,MAIpB,IAIJ,IAGJ,yBAAKwC,UAAU,cACb,kBAAC,GAAD,CACEA,UAAU,cACViC,MAAOg0C,EACP1yC,YAAa,gEACbG,SAAU,SAAClG,GACT04C,EAAe14C,EAAEwB,OAAO6B,QAE1BmC,cAAe,SAACxF,GACdm7C,EAAS,2BAAK5jB,GAAN,IAAa0hB,QAASR,MAEhCzyC,eAAgB,SAAChG,GACf04C,EAAe,IACfyC,EAAS,2BAAK5jB,GAAN,IAAa0hB,QAAS,WAMtC,yBAAKz2C,UAAU,YACb,kBAAC,aAAD,KACE,kBAAC,GAAD,CACEA,UAAU,iBACV60C,QAASA,EAGT9f,MAAOA,EACPyB,aAAc,SAAC36B,KACf0E,IAAK41C,EACLnhB,IAAKmvC,QAQjB,IAAMp2C,GAAkB,SAAC9wB,GAAW,IAAD,EAG7BA,EADFjB,WAEF,MAAO,CAAE+uB,QAJwB,EAEjBA,QAEE4I,UAJe,EAERA,UAEID,UAJI,EAEGA,YAIvBzF,qBAAQF,GAARE,CACbpJ,YAAWvb,eAAKwb,qBAAWojD,OCpV7B,SAASgB,GAAelsE,EAAOuD,GAAM,IAC7BC,EAIDxD,EAJCwD,GAAIgW,EAILxZ,EAJKwZ,gBACRsK,EAGG9jB,EAJqB+tB,QACxBjK,aAEAziB,EACGrB,EAFF02B,UACDr1B,MAGF,OACE,yBAAK2B,UAAU,kBACb,4BACA1F,MAAO,uCACP4D,MAAO,CAACG,MAAMA,GACd2B,UAAU,uBACR2oB,IACEnS,EACA,qEACAhW,EAAG,UAAU6M,GAAe,SAAS,UAAUyT,KAMzD,IAAMiN,GAAkB,SAAC9wB,GAAW,IAAD,EAM7BA,EAJFjB,WAKF,MAAO,CAAE+uB,QAPwB,EAG7BA,QAIcvU,gBAPe,EAI7BsR,gBAAmBtR,gBAGWkd,UAPD,EAIQA,YAK5BzF,qBAAQF,GAARE,CACbpJ,YAAWvb,eAAKwb,qBAAWokD,OC9B7B,SAASC,GAAgBnsE,EAAOuD,GAAM,IAElCoJ,EAOE3M,EAPF2M,SAIEpL,GAGAvB,EANFkqB,UAMElqB,EALFwpB,UAKExpB,EAJFkpB,MAIElpB,EAJI02B,UACJn1B,QAEFqM,EACE5N,EADF4N,MARiC,EAUDuY,mBAAS,IAVR,mBAU5BliB,EAV4B,KAUjBkiE,EAViB,OAWfhgD,mBAAS,IAXM,mBAW5Bq0B,EAX4B,KAWxBsgB,EAXwB,KA0BnC,OAXAn0C,qBAAU,WACRw/C,EAAav4D,KACZ,CAACA,IAEJ+Y,qBAAU,WACR,GAAIha,EAASgE,SAAU,CACrB,IAAI8V,EAAO/V,GAAY/D,EAASgE,UACpB,mBAAZ8V,EAAK,IAA2BA,EAAK,IAAMq0C,EAAMr0C,EAAK,OAGvD,IAED,yBAAKzjB,UAAU,kBAAkB9B,MAAO,CAAEK,OAAQA,IACjC,SAAd0C,EAAuB,kBAAC,GAAD,MAAgC,qCACzC,WAAdA,EAAyB,kBAAC,GAAD,CAAgBT,GAAIg3C,IAAwB,sCAK5E,IAAMzpB,GAAkB,SAAC9wB,GAAW,IAElBy6D,EAEZz6D,EAFFu8C,WAAcke,kBAFiB,EAI7Bz6D,EADFjB,WAEF,MAAO,CAAE07D,oBAAmB3sC,QALK,EAGjBA,QAEqB2I,UALJ,EAGTA,YAIXzF,qBAAQF,GAARE,CACbpJ,YAAWvb,eAAKwb,qBAAWqkD,O,QCrBtB,SAASC,GAAiBp0C,EAAKgB,GAAU,IAAD,EACjB7S,mBAAS,MADQ,mBACtCzS,EADsC,KAC9B24D,EAD8B,OAEflmD,oBAAS,GAFM,mBAEtCwS,EAFsC,KAE7BC,EAF6B,KAiC7C,OA9BAjS,qBAAU,WAER,GAAKqS,EAAL,CAGA,IAAIszC,EACAC,EAAM,GAIVD,EAFSz4D,GAAcmkB,GAEThxB,IAAJ,uCAAQ,WAAOgD,GAAP,eAAAkK,EAAA,yDACd0kB,GAAW,GACQ,oBAAV5uB,EAFK,gCAGEA,EAAMgvB,GAHR,UAIS,OADnB/a,EAHU,QAINgB,WAJM,yCAMLhB,EAAIpf,MANC,2CAAR,uDAWVsV,QAAQgP,IAAImpD,GAAStuD,MAAK,SAACC,GACzBA,EAAIhP,SAAQ,SAACjF,GACPA,IAAOuiE,EAAG,2BAAQA,GAAQviE,OAEhCqiE,EAAUE,GACV3zC,GAAW,SAEZ,CAACZ,EAAKgB,IAEF,CAACtlB,EAAOilB,GCrBjB,SAAS6zC,GAASxsE,EAAOuD,GAAK,IAG1BP,EAMEhD,EANFgD,UACA3B,EAKErB,EALFqB,MACAorE,EAIEzsE,EAJFysE,aACAz0C,EAGEh4B,EAHFg4B,IACA00C,EAEE1sE,EAFF0sE,aACAjjE,EACEzJ,EADFyJ,iBAR0B,EAUF0c,mBAAS,IAVP,mBAUrB4R,EAVqB,KAUd4jB,EAVc,OAYFywB,GAAiBp0C,EAAKD,GAZpB,mBAYrBrkB,EAZqB,KAYbilB,EAZa,OAaUxS,mBAAS,IAbnB,mBAarB8yB,EAbqB,KAaRC,EAbQ,OAcI/yB,mBAAS,MAdb,mBAcrBwmD,EAdqB,KAcXC,EAdW,KAetBC,EAAYthD,iBAAO,MAfG,EAiBEpF,oBAAS,GAjBX,mBAiBrBtb,EAjBqB,KAiBZi5B,EAjBY,KA2C5B,OAxBAnd,qBAAU,WACRimD,EAAYl5D,KACX,CAACA,IACJ0W,2BAAgB,WACd,IAAI0iD,EAAMD,EAAU1gD,QAGd/Z,EAAK,SAACsd,GACV,IAAIq9C,GAAQ,EAKVA,GAJGD,EAAI/mE,SAAS2pB,EAAK1tB,QAQvB8hC,GAAYipC,IAGd,OADAnrE,SAASwD,iBAAiB,QAASgN,GAC5B,WACLxQ,SAAS0oB,oBAAoB,QAASlY,MAEvC,IAED,kBAAC,KAAD,CACE3I,iBAAgB,wBACdA,GAAsC,IAExCH,kBAAmB,SAAC9I,GAAD,OAAOA,GAC1BksE,aAAcA,GAA8B,GAE5CzjE,MAAO,OACP8yC,MAAO,CACLixB,OAAQ,CAAC,KAAM,MACfjtC,OAAQ,CAAC,GAAI,GAEbktC,SAAU,CAAEC,SAAS,EAAMC,SAAS,IAGtCtiE,QAASA,EACTvN,MAEE,kBAAC,GAAD,CAAS+G,SAAS,EAAOC,SAAUq0B,EAASv0B,IAAK,yBACtB,oBAAjBqoE,EACJA,EAAaE,EAAU50C,EAAM0hB,SAC7BgzB,IAIR,yBACEjpE,GAAG,OACHD,IAAKspE,EACL7pE,UAAS,oBAAeA,GAAwB,KAGhD,kBAAC,GAAD,CACEuD,YAAa,gDACbvD,UAAU,eACV3B,MAAOA,GAAgB,IACvB4D,MAAOg0C,EACPvyC,SAAU,SAAClG,GACT04C,EAAe14C,EAAEwB,OAAO6B,QAE1BmC,cAAe,SAACxF,GACdm7C,EAAS,CAAElC,QAASj5C,EAAEqD,SAExB2C,eAAgB,SAAChG,GACf04C,EAAe,IACf0zB,EAAY,SAOTtgE,sBAAKwb,qBAAW0kD,KClHVj/C,GAAfjR,W,QCIN,SAAS8wD,GAAIptE,EAAOuD,GAAM,IAChB1E,EAASmB,EAATnB,KADe,EAEKsnB,oBAAS,GAFd,mBAEhBhhB,EAFgB,KAERkoE,EAFQ,OAGKlnD,mBAAS,GAHd,mBAGhB5kB,EAHgB,KAGR+rE,EAHQ,KAIjBC,EAAahiD,iBAAO,MACpB9P,EAAU6M,cAKhB,OAJA8B,2BAAgB,WACd,IAAIyX,EAAU1gC,IAAEosE,EAAWphD,SAC3BmhD,EAAUzrC,EAAQ2rC,iBACjB,CAAC3uE,IAEF,yBACEqC,MAAO,CAAEK,OAAQ4D,EAAS5D,EAAS,GAAK,IACxCyB,UAAS,qBAAgBmC,EAAS,oBAAsB,KAExD,uBAAGnC,UAAU,YACX,0BAAM1F,MAAOuB,EAAKvB,OAAQuB,EAAKvB,OAC/B,uBACEmG,QAAS,WACP4pE,GAAWloE,IAEbnC,UAAS,qBAAgBmC,EAAS,kBAAoB,OAI1D,yBAAK5B,IAAKgqE,EAAYvqE,UAAS,eAC5BnE,EAAKonB,gBAAgBhc,OAASpL,EAAKonB,KAAK9Y,OAAS,EAC9CtO,EAAKonB,KAAKjf,KAAI,SAACgD,EAAOE,GACpB,OACE,yBACElH,UAAU,oBACVhG,IAAKkN,EACLzG,QAAS,WACW,gBAAduG,EAAMhN,IAERoE,OAAOorB,KACLprB,OAAOuL,SAASkB,OACd,yBACA7D,EAAMxG,IAGViY,EAAQ3N,KAAK,IAAM9D,EAAMkf,MAAQ,IAAMlf,EAAMxG,KAGjDlG,MAAO0M,EAAMyjE,aAEZzjE,EAAM/M,SAIb,KAMGqP,sBAAKwb,qBAAWslD,KClC/B,SAASM,GAAU1tE,EAAOuD,GACqBvD,EAAvCgD,UADwB,IACbnE,EAA4BmB,EAA5BnB,KAAM46C,EAAsBz5C,EAAtBy5C,QADM,eACgBz5C,EADhB,gCAELmmB,mBAAS,KAFJ,mBAEtBF,EAFsB,KAEhB0nD,EAFgB,OAIHxnD,oBAAS,GAJN,mBAItBynD,EAJsB,KAIfC,EAJe,KASvBC,EAAS,CACbC,gBAAiB,CACf/wE,IAAK,kBACLM,MAAO,eACP4rB,MAAO,gBACP8kD,MAAO,MACPC,QAAS,SAEX3C,WAAY,CACVtuE,IAAK,aACLM,MAAO,eACP4rB,MAAO,eACP8kD,MAAO,WACPC,QAAS,cAEXC,YAAa,CACXlxE,IAAK,cACLM,MAAO,eACP4rB,MAAO,eACP8kD,MAAO,YACPC,QAAS,eAEXE,YAAa,CACXnxE,IAAK,cACLM,MAAO,eACP4rB,MAAO,iBACP8kD,MAAO,SACPC,QAAS,YAEXG,UAAW,CACTpxE,IAAK,YACLM,MAAO,eACP4rB,MAAO,cACP8kD,MAAO,MACPC,QAAS,UA8Db,OA3DAtnD,qBAAU,WACR,IAAIV,EAAO,GACPkV,GAAU,EACd,GAAIt8B,GAAQA,aAAgBgN,OAAQ,CAAC,IAAD,WACzB7O,GACP,GAAI8wE,EAAO9wE,GAAM,CACf,IAAIugC,EAAW,GACf1+B,EAAK7B,aAAgBiN,OACnBpL,EAAK7B,GAAKiS,SAAQ,SAACjF,EAAOE,GACxB,IAAIjN,EAAO,GACPoxE,EACoC,kBAA/BrkE,EAAM8jE,EAAO9wE,GAAKixE,SACrBjkE,EAAM8jE,EAAO9wE,GAAKixE,SAAShhE,MAAMwsC,GAAoB,IACrD,GAEN40B,EAAUp/D,SAAQ,SAACq/D,EAAGpkE,GACpBjN,EAAK6Q,KAAKwgE,GAEJD,EAAUlhE,OAAS,IAAMjD,GACzBmkE,EAAUlhE,OAAS,IAAM,GAEzBlQ,EAAK6Q,KACH,oCACE,0BAAM9K,UAAU,kBAAkBy2C,QAa9Clc,EAASzvB,KAAT,2BACK9D,GADL,IAEEhN,MACAwG,GAAIwG,EAAM8jE,EAAO9wE,GAAKgxE,OACtB/wE,KAAMA,EACNisB,MAAO4kD,EAAO9wE,GAAKksB,MACnBukD,YAAazjE,EAAM8jE,EAAO9wE,GAAKixE,eAGrChoD,EAAKnY,KAAL,2BAAeggE,EAAO9wE,IAAtB,IAA4BipB,KAAMsX,OAGjC1+B,EAAK7B,IACL6B,EAAK7B,aAAgBiN,OAA8B,IAArBpL,EAAK7B,GAAKmQ,UAEzCguB,GAAU,IA/Cd,IAAK,IAAIn+B,KAAO6B,EAAO,EAAd7B,GAkDT6wE,EAAS1yC,GACTwyC,EAAQ1nD,MAGT,CAACpnB,EAAM46C,IAER,yBACEz2C,UAAU,2BACV9B,MAAO,CAAEK,OAAQ,QAASF,MAAO,UAEjC,kBAAC,aAAD,KACIusE,EASA,kBAAC,GAAD,CACE5wE,IAAK,QACLgG,UAAW,qBACXzE,KAAM,IACNjB,MAAO,yCAZT2oB,EAAKjf,KAAI,SAACgD,EAAOE,GACf,OAAOF,EAAMic,KAAK9Y,OAAS,EACzB,kBAAC,GAAD,CAAKnQ,IAAKkN,EAAOrL,KAAMmL,IAEvB,kBAAC,IAAM3G,SAAP,CAAgBrG,IAAKkN,SAepBoC,sBAAKwb,qBAAW4lD,K,8BCzK/B,SAASa,GAAKvuE,EAAOuD,GAAM,IAEvBP,EAgBEhD,EAhBFgD,UACA3B,EAeErB,EAfFqB,MACAE,EAcEvB,EAdFuB,OAEAitE,GAYExuE,EAbF1C,MAaE0C,EAZFwuE,QACAC,EAWEzuE,EAXFyuE,IACAtpE,EAUEnF,EAVFmF,OACAwzB,EASE34B,EATF24B,QACA+1C,EAQE1uE,EARF0uE,KACA7vE,EAOEmB,EAPFnB,KACWoF,EAMTjE,EANFmM,UACAsjB,EAKEzvB,EALFyvB,aACA3L,EAIE9jB,EAJF8jB,aACAyY,EAGEv8B,EAHFu8B,YACAnL,EAEEpxB,EAFFoxB,aACAu9C,EACE3uE,EADF2uE,eAGE30D,EAAQ9J,eAAeM,QAAQ,SApBX,EAqBc2V,oBAAS,GArBvB,mBAqBjB6W,EArBiB,KAqBJC,EArBI,KAuBlB2xC,EAAW,CACf,CACE5xE,IAAK,WACL6xE,KAAM,oCAAsC70D,EAAQ,UAAY8J,EAAe,iBAEjF,CACE9mB,IAAK,cACL6xE,KAAM,oCAAsC70D,EAAQ,UAAY8J,EAAe,iBAEjF,CACE9mB,IAAK,eACL6xE,KAAM,oCAAsC70D,EAAQ,UAAY8J,EAAe,iBAEjF,CACE9mB,IAAK,SACL6xE,KAAM,oCAAsC70D,EAAQ,UAAY8J,EAAe,oBAEjF,CACE9mB,IAAK,YACL6xE,KAAM,oCAAsC70D,EAAQ,UAAY8J,EAAe,oBAEjF,CACE9mB,IAAK,iBACL6xE,KAAM,oCAAsC70D,EAAQ,UAAY8J,EAAe,oBAEjF,CACE9mB,IAAK,QACL6xE,KAAM,oCAAsC70D,EAAQ,UAAY8J,EAAe,cAEjF,CACE9mB,IAAK,YACL6xE,KAAM,oCAAsC70D,EAAQ,UAAY8J,EAAe,cAEjF,CACE9mB,IAAK,iBACL6xE,KAAM,oCAAsC70D,EAAQ,UAAY8J,EAAe,kBAEjF,CACE9mB,IAAK,cACL6xE,KAAM,oCAAsC70D,EAAQ,UAAY8J,EAAe,mBAEjF,CACE9mB,IAAK,OACL6xE,KAAM,oCAAsC70D,EAAQ,UAAY8J,EAAe,kBAEjF,CACE9mB,IAAK,UACL6xE,KAAM,oCAAsC70D,EAAQ,UAAY8J,EAAe,mBAGnFsG,2BAAgB,WACdvrB,GAAQo+B,GAAe,KACtB,CAACp+B,IACJ,IAAI+N,EAAM,GACVgiE,EAAS3/D,SAAQ,SAAChI,GAMbA,EAAKjK,KAAOwxE,IACb5hE,EAAM3F,EAAK4nE,SAef,OACE,yBACE7rE,UAAS,wBAAmBA,GAAwB,GAA3C,YAAiDg6B,EAAc,OAAS,GAAxE,YACP73B,IAAWqpE,EAAS,cAAgB,IAEtCttE,MAAO,CACLG,MAAOA,GAAgB,OACvBkrB,OAAS3f,EAAK,UAAW,WAE3BnJ,QAlBa,SAACjD,GACQ,UAArBA,EAAEwB,OAAO8sE,UAGRliE,GAGJxL,OAAOorB,KAAK5f,KAaV,0BAAM5J,UAAS,+BAA0B,YAAcwrE,IAErD,6BAEF,kBAAC,GAAD,CACElqE,SAAU04B,EACV34B,SAAS,EACTD,IAAK,yBAEL,yBACEpB,UAAU,aACV9B,MAAO,CACLK,OAAQA,GAAkB,SAG1Bo3B,EA6BA,GA5BA95B,EACE6vE,EACE,kBAAC,GAAD,CACE1rE,UAAU,UACV1F,MAAO,6CACPiB,KAAM,MAEN0F,EAAa,oCACdwqE,EACD,kBAACxqE,EAAD,eACApF,KAAMA,EACNo+B,eAAgBA,EAChBxN,aAAcA,EACd8M,YAAaA,EACbnL,aAAcA,GACVu9C,KAEJ,GAGA,kBAAC,GAAD,CACErxE,MAAO,2BACP0F,UAAU,WACVzE,KAAM,SAaT+N,sBAAKwb,qBAAWymD,KCnKzBjyD,GAAeiR,GAAfjR,WAON,SAASyyD,GAAS/uE,EAAOuD,GAAM,IAE3BP,EAOEhD,EAPFgD,UAF0B,GASxBhD,EANFyvB,aAMEzvB,EALFnB,KAKEmB,EAJFu8B,YAIEv8B,EAHFoxB,aAGEpxB,EAFF2iB,UAAWW,EAPe,EAOfA,OACX2Z,GAR0B,EAOPja,SAEjBhjB,EADFi9B,gBAR0B,EAUA9W,mBAAS,IAVT,mBAUrB6oD,EAVqB,KAUbC,EAVa,KAgC5B,OApBA7kD,2BAAgB,WAGd,GAAI9G,EAAJ,CAGA2Z,GAAe,GACf,IAAIrwB,EAAM0P,GAAa,iCAAmCgH,EAC1DtG,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChCowE,EAAUv7D,EAAO7U,MAEnBo+B,GAAe,SAElB,CAAC3Z,IAEF,yBACAtgB,UAAS,qCAAgCA,GAAwB,KAE7D,yBAAKA,UAAU,gBACf,yBAAKA,UAAU,iBACb,uBAAGA,UAAU,SAAS1F,MAAO0xE,EAAO57C,YAAa47C,EAAO57C,YAAa,MAClE47C,EAAO57C,YAAa47C,EAAO57C,YAAa,KACzC,0BAAMpwB,UAAU,YAAY1F,MAAO0xE,EAAO/4C,UAAY+4C,EAAO/4C,UAAY,MAAzE,IACI+4C,EAAO/4C,UAAY+4C,EAAO/4C,UAAY,KAD1C,MAIF,yBAAKjzB,UAAU,gBACb,uBAAGA,UAAU,UAAb,4BAEE,0BAAMA,UAAU,YAAY1F,MAAO0xE,EAAOx5C,YAAcw5C,EAAOx5C,YAAc,MAC1Ew5C,EAAOx5C,YAAcw5C,EAAOx5C,YAAc,OAG/C,uBAAGxyB,UAAU,UAAb,gBAEE,0BAAMA,UAAU,YAAY1F,MAAO0xE,EAAOr7C,OAASq7C,EAAOr7C,OAAS,MAChEq7C,EAAOr7C,OAASq7C,EAAOr7C,OAAS,OAGrC,uBAAG3wB,UAAU,UAAb,gBAEE,0BAAMA,UAAU,YAAY1F,MAAO0xE,EAAOz5C,OAASy5C,EAAOz5C,OAAS,MAChEy5C,EAAOz5C,OAASy5C,EAAOz5C,OAAS,QAIvC,yBAAKvyB,UAAU,gBACb,uBAAGA,UAAU,UAAb,gBAEE,0BAAMA,UAAU,YAAY1F,MAAO0xE,EAAOr5C,YAAcq5C,EAAOr5C,YAAc,MAC1Eq5C,EAAOr5C,YAAcq5C,EAAOr5C,YAAc,OAG/C,uBAAG3yB,UAAU,UAAb,4BAEE,0BAAMA,UAAU,YAAY1F,MAAO0xE,EAAOhsE,UAAYgsE,EAAOhsE,UAAY,MACtEgsE,EAAOhsE,UAAYgsE,EAAOhsE,UAAY,QAI7C,yBAAKA,UAAU,gBACb,uBAAGA,UAAU,SAAS9B,MAAO,CAACG,MAAO,UAArC,4BAEE,0BAAM2B,UAAU,qBAAqB1F,MAAO0xE,EAAOl5C,YAAck5C,EAAOl5C,YAAc,MACnFk5C,EAAOl5C,YAAck5C,EAAOl5C,YAAc,SAKnD,yBACE9yB,UAAU,WACV9B,MAAO,CACLmrB,WAAW,OAAD,OAAS2iD,EAAOn8C,UAAhB,qCAIhB,yBAAK7vB,UAAU,gBACb,uBAAGA,UAAU,SAAS9B,MAAO,CAACG,MAAO,UAArC,4BAEE,0BAAM2B,UAAU,aAAa1F,MAAO0xE,EAAO54C,YAAc44C,EAAO54C,YAAc,MAC3E44C,EAAO54C,YAAc44C,EAAO54C,YAAc,QAYjD,yBAAKpzB,UAAU,gBACb,uBAAGA,UAAU,oBAAb,wCAEE,0BAAMA,UAAU,YAAY1F,MAAO0xE,EAAO34C,YAAc24C,EAAO34C,YAAc,MAC1E24C,EAAO34C,YAAc24C,EAAO34C,YAAc,OAG/C,uBAAGrzB,UAAU,oBAAb,oDAEE,0BAAMA,UAAU,YAAY1F,MAAO0xE,EAAO14C,kBAAoB04C,EAAO14C,kBAAoB,MACtF04C,EAAO14C,kBAAoB04C,EAAO14C,kBAAoB,QAI7D,uBAAGtzB,UAAU,UAAb,wCAEE,0BAAMA,UAAU,YAAY1F,MAAO0xE,EAAOz4C,kBAAoBy4C,EAAOz4C,kBAAoB,MACtFy4C,EAAOz4C,kBAAoBy4C,EAAOz4C,kBAAoB,QAOjE,IAAMxF,GAAkB,SAAC9wB,GAAW,IAC5BjB,EAAeiB,EAAfjB,WACN,OAAO,eAAKA,IAECiyB,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWinD,MCpJlDzyD,GAAeiR,GAAfjR,WAON,SAAS4yD,GAAUlvE,EAAOuD,GAAM,IAE5BP,EAOEhD,EAPFgD,UAGAu5B,GAIEv8B,EANFyvB,aAMEzvB,EALFnB,KAKEmB,EAJFu8B,aACAnL,EAGEpxB,EAHFoxB,aAN2B,EASzBpxB,EAFF2iB,SAAWW,EAPgB,EAOhBA,OAAQN,EAPQ,EAORA,SACnBia,EACEj9B,EADFi9B,eAR2B,EAUG9W,mBAAS,IAVZ,mBAUtB6jB,EAVsB,KAUZC,EAVY,OAWS9jB,mBAAS,IAXlB,mBAWtBorB,EAXsB,KAWTwD,EAXS,KA0D7B,OA9CA3qB,2BAAgB,WAGd,GAAI9G,GAAWiZ,EAAY0G,KAA3B,CAGAhG,GAAe,GACf,IAAIrwB,EAAM0P,8DACe8U,EAAaqB,QACtC,YAAcrB,EAAasB,QAC3B,aAAe1P,EACf,WAAauZ,EAAY0G,KAJf3mB,sBAMGigB,EAAY4yC,cAAe5yC,EAAY4yC,cAAe,cACnE,SAAW5yC,EAAY6yC,YAAa7yC,EAAY6yC,YAAa,cAC7DpyD,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChCorC,EAAYv2B,EAAO7U,SAIzB+N,EAAM0P,iEACmB8U,EAAaqB,QACtC,YAAcrB,EAAasB,QAC3B,aAAe1P,EACf,WAAauZ,EAAY0G,KAJnB3mB,sBAMOigB,EAAY4yC,cAAe5yC,EAAY4yC,cAAe,cACnE,SAAW5yC,EAAY6yC,YAAa7yC,EAAY6yC,YAAa,cAC7DpyD,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChCk2C,EAAerhC,EAAO7U,MAExBo+B,GAAe,SAElB,CAAC7L,EAAc9N,EAAQiZ,IAExB,yBAAKv5B,UAAS,kCAA6BA,GAAwB,KAC/D,yBAAKA,UAAU,mBACb,uBAAGA,UAAU,oBAAb,qDACA,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,gBAEY,iBAAlBgnC,EAASS,MAChBT,EAASS,MAAMx1B,QAAQ,GAAI,MAG7B,wDAEF,yBAAKjS,UAAU,oBACb,yBAAKA,UAAU,eAEgB,iBAAtBgnC,EAAS4L,UAChB5L,EAAS4L,UAAW,MAGtB,yDAGJ,yBAAK5yC,UAAU,eACf,yBAAKA,UAAU,oBACb,uBAAGA,UAAU,oBAAb,6BACA,wBAAIA,UAAU,sBACZ,kBAAC,IAAD,CACAu+B,YAAU,EACVC,cAAe,KAEb+P,EAAYvqC,KAAI,SAACC,EAAMiD,GACrB,OACE,wBAAIlN,IAAKkN,GAAQjD,EAAK4lC,YAAtB,KAAoC,8BAAO5lC,EAAKwjC,eAWlE,IAAM1Z,GAAkB,SAAC9wB,GAAW,IAC5BjB,EAAeiB,EAAfjB,WACN,OAAO,eAAKA,IAECiyB,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWonD,M,QC5EzCG,ICpCT/yD,GAAeiR,GAAfjR,WAON,SAASgzD,GAAUtvE,EAAOuD,GAAM,IAE5BP,EAOEhD,EAPFgD,UACAysB,EAMEzvB,EANFyvB,aAEA8M,GAIEv8B,EALFnB,KAKEmB,EAJFu8B,aACAnL,EAGEpxB,EAHFoxB,aAN2B,EASzBpxB,EAFF2iB,SAAWW,EAPgB,EAOhBA,OACX2Z,GAR2B,EAORja,SAEjBhjB,EADFi9B,gBAR2B,EAUK9W,mBAAS,IAVd,gCAWCA,mBAAS,KAXV,mBAWtBvC,EAXsB,KAWb2rD,EAXa,OAYOppD,mBAAS,IAZhB,mBAYtBqpD,EAZsB,KAYVC,EAZU,OAaStpD,mBAAS,IAblB,mBAatBupD,EAbsB,KAaTC,EAbS,KAqG7B,OAtFAvlD,2BAAgB,WAGd,GAAI9G,IAGe,WAAhBmM,GAA8B2B,EAAaqB,WAG3B,WAAhBhD,GAA+BnM,GAAW8N,EAAaqB,SAA1D,CAGAwK,GAAe,GACf,IAAIrwB,EAAM0P,GAAa,4CACL,WAAhBmT,EACAnM,EACA,IAEF,YAAc8N,EAAaqB,QAC3B,YAAcrB,EAAasB,QAC3B,eAAiB6J,EAAY4yC,cAAe5yC,EAAY4yC,cAAe,cACvE,aAAe5yC,EAAY6yC,YAAa7yC,EAAY6yC,YAAa,cAgCjE,GA/BApyD,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChC4wE,EAAc/7D,EAAO7U,SAI3B+N,EAAM0P,GAAa,wDACD,WAAhBmT,EACAnM,EACA,IAEF,YAAc8N,EAAaqB,QAC3B,YAAcrB,EAAasB,QAC3B,eAAiB6J,EAAY4yC,cAAe5yC,EAAY4yC,cAAe,cACvE,aAAe5yC,EAAY6yC,YAAa7yC,EAAY6yC,YAAa,cACjEpyD,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChC8wE,EAAej8D,EAAO7U,MAExBo+B,GAAe,MAEA,WAAhBxN,EAA0B,CAE3B,IAAI7iB,EAAM0P,GAAa,iCAAmC8U,EAAaqB,QACvE,YAAcrB,EAAasB,QAC3B,eACgB,WAAhBjD,EACAnM,EACA,IACA,eAAiBiZ,EAAY4yC,cAAe5yC,EAAY4yC,cAAe,cACvE,aAAe5yC,EAAY6yC,YAAa7yC,EAAY6yC,YAAa,cACjEpyD,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChC0wE,EAAW77D,EAAO7U,SAK1B,GAAmB,WAAhB4wB,EAA0B,CAE3B,IAAI7iB,EAAM0P,GAAa,4CAA8CgH,EACrEtG,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChC0wE,EAAW77D,EAAO7U,aAIzB,CAACuyB,EAAc9N,IAEhB,yBAAKtgB,UAAS,mCAA8BA,GAAwB,KAEhD,WAAhBysB,EACA,yBAAKvuB,MAAO,CAACszC,WAAY,KACvB,uBAAGxxC,UAAU,YAAb,gBACK,8BACa,WAAhBysB,EACA7L,EAAQriB,OAAQqiB,EAAQriB,OAAQ,KAChB,WAAhBkuB,EACA7L,EAAQu9B,mBACQ,WAAhB1xB,EACA7L,EAAQw9B,mBACR,OAGF,uBAAGp+C,UAAU,YAAb,gBACK,8BACa,WAAhBysB,EACA7L,EAAQk8B,OAAQl8B,EAAQk8B,OAAQ,KAChB,WAAhBrwB,EACA7L,EAAQy9B,mBACQ,WAAhB5xB,EACA7L,EAAQ09B,mBACR,OAGF,uBAAGt+C,UAAU,YAAb,OACM,8BACJ4gB,EAAQo8B,SAAUp8B,EAAQo8B,SAAU,OAGtC,uBAAGh9C,UAAU,YAAb,sBACM,8BACJwsE,EAAWI,SAAUJ,EAAWI,SAAS36D,QAAQ,GAAI,OAGvD,uBAAGjS,UAAU,YAAb,4BACO,8BACgC,iBAA9BwsE,EAAW7sB,gBAA6B6sB,EAAW7sB,gBAAiB,OAG7E,uBAAG3/C,UAAU,YAAb,wCACS,8BACP0sE,EAAYG,yBAA0BH,EAAYG,yBAA0B,QAIhF,GAiBgB,WAAhBpgD,EACA,yBAAKvuB,MAAO,CAACsoC,UAAW,KACtB,yBAAKxmC,UAAU,oBACb,yBAAKA,UACJ,gBACwC,iBAA7B0sE,EAAYjtB,cAA2BitB,EAAYjtB,cAAe,MAC9E,oEAEF,yBAAKz/C,UAAU,oBACb,yBAAKA,UACJ,eACI0sE,EAAYhtB,aAAcgtB,EAAYhtB,aAAaztC,QAAQ,GAAI,MACpE,8DAEF,yBAAKjS,UAAU,oBACb,yBAAKA,UACJ,iBACyC,iBAA9BwsE,EAAW7sB,gBAA6B6sB,EAAW7sB,gBAAiB,MAChF,wDAEF,yBAAK3/C,UAAU,oBACb,yBAAKA,UACJ,gBACIwsE,EAAWI,SAAUrtE,SAA6B,IAApBitE,EAAWI,UAAe,MAC7D,mDAIJ,GAEF,yBAAK1uE,MAAO,CAACu1B,aAAc,OAuFjC,IAAM1F,GAAkB,SAAC9wB,GAAW,IAC5BjB,EAAeiB,EAAfjB,WACN,OAAO,eAAKA,IAECiyB,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWwnD,MClSlDhzD,GAAeiR,GAAfjR,WAON,SAASwzD,GAAK9vE,EAAOuD,GAAM,IAEvBP,EAOEhD,EAPFgD,UACAysB,EAMEzvB,EANFyvB,aAEA8M,GAIEv8B,EALFnB,KAKEmB,EAJFu8B,aACAnL,EAGEpxB,EAHFoxB,aANsB,EASpBpxB,EAFF2iB,SAAWW,EAPW,EAOXA,OAAQN,EAPG,EAOHA,SACnBia,EACEj9B,EADFi9B,eARsB,EAUU9W,mBAAS,IAVnB,mBAUjB4pD,EAViB,aAWQ5pD,mBAAS,KAXjB,mBAWjB6pD,EAXiB,KAWPC,EAXO,KA8CxB,OAjCA7lD,2BAAgB,WACd,IAAmB,WAAhBqF,GAA8B2B,EAAaqB,UAG1C8J,EAAY4yC,eAAkB5yC,EAAY6yC,YAA9C,CAGAnyC,GAAe,GAEf,IAAIrwB,EAAM0P,GAAa,0CAEL,WAAhBmT,EAA2B,EACX,WAAhBA,EAA2B,EAC3B,GAEF,cAAgBnM,EAChB,YAAc8N,EAAaqB,QAC3B,YAAcrB,EAAasB,QAC3B,aAAe1P,EATL1G,6BAYGigB,EAAY4yC,cAAe5yC,EAAY4yC,cAAe,cACnE,SAAW5yC,EAAY6yC,YAAa7yC,EAAY6yC,YAAa,cAC7DpyD,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BoxE,EAAYv8D,EAAO7U,MAEvBo+B,GAAe,SAElB,CAAC7L,EAAcmL,EAAajZ,IAE7B,yBAAKtgB,UAAS,uCAAkCA,GAAwB,KAEnEgtE,EAASE,eAAiD,iBAAzBH,EAAUp4B,YAM5C,6BACA,yBAAK30C,UAAU,wBACf,yBAAKA,UAAU,cACb,kBAAC,KAAD,CACEzE,KAAK,SACLgmD,YAAY,IACZrS,YAAa,CACX,KAAM,UACN,MAAO,UACP,OAAQ,WAEVilB,WAAW,UACXnlB,QAASzvC,SAASmS,OAAOs7D,EAASt3B,wBAAwBhrC,QAAQ,IAAK,MACvErM,MAAO,GACP2qB,OAAQ,SAACgmB,GAAW,OAAOA,GAC3BhvC,UAAU,aAEZ,2BAAoB,WAAhBysB,EAA2B,eAAM,GAArC,wBAGJ,yBAAKzsB,UAAU,eACf,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,iBACb,uBAAGA,UAAU,SAAQ,8BAAsC,iBAAxBgtE,EAASr4B,YAAyBq4B,EAASr4B,YAAa,MAA3F,UACA,wDAEF,yBAAK30C,UAAU,aACb,uBAAGA,UAAU,SAAQ,8BAAoC,iBAAtBgtE,EAASp4B,UAAuBo4B,EAASp4B,UAAW,MAAvF,UACA,wDAEF,yBAAK50C,UAAU,gBACb,uBAAGA,UAAU,SAAQ,8BAA0C,iBAA5BgtE,EAASr3B,gBAA6Bq3B,EAASr3B,gBAAiB,MAAnG,UACA,0DArCF,kBAAC,GAAD,CACEr7C,MAAO,2BACP0F,UAAU,WACVzE,KAAM,OA8ChB,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAC5BjB,EAAeiB,EAAfjB,WACN,OAAO,eAAKA,IAECiyB,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWgoD,MC9GxD,SAASK,GAAQnwE,EAAOuD,GAAM,IAE1BP,EAGEhD,EAHFgD,UACAysB,EAEEzvB,EAFFyvB,aACA5wB,EACEmB,EADFnB,KAIE47B,GAAO,EAIX,GAHkB,GAAf57B,EAAKsO,SACNstB,GAAO,GAEL57B,EAAKsO,OAAS,EAAG,CAEnBtO,EAAOA,EAAKuQ,OADD,CAAC,GAAI,GAAI,GAAI,GAAI,IACJwD,MAAM,EAAG,EAAI/T,EAAKsO,SAgF5C,OA9EAtO,EAAKoQ,SAAQ,SAAChI,GAGZ,GAAGpI,EAAK+iC,UACN,GAAmB,WAAhBnS,EAA0B,CAC3B,IACIhc,EAAM,CACNmB,KAAM/V,EAAK6jC,UACXb,QACIhjC,EAAK8jC,UACa,GAAlB9jC,EAAK+iC,UACL,eAAO/iC,EAAK8jC,WACX9jC,EAAK+jC,YAAa,eAAO/jC,EAAK+jC,YAAa,IAC3C,eAAO/jC,EAAK8jC,UACb,GAEJf,UAAW/iC,EAAK+iC,WAXV,GAaN9zB,KAAK2F,OACJ,CACH,IACIA,EAAM,CACNmB,KAAM/V,EAAK6jC,UACXb,QACIhjC,EAAK8jC,UACa,GAAlB9jC,EAAK+iC,UACL/iC,EAAKgkC,SAAW,eAAOhkC,EAAK8jC,UAC5B9jC,EAAKgkC,UACJhkC,EAAK+jC,YAAa,eAAO/jC,EAAK+jC,YAAa,IAC3C,eAAO/jC,EAAK8jC,UACb,GAEJf,UAAW/iC,EAAK+iC,WAZV,GAcN9zB,KAAK2F,GAGf,GAAG5U,EAAKqsC,MAAM,CACZ,IACIhJ,EAAM,GACS,WAAhBzS,GACI5wB,EAAKujC,OACJF,GAAO,2BAASrjC,EAAKujC,KAAO,gBAE7BvjC,EAAK0jC,SACJL,GAAO,2BAASrjC,EAAK0jC,OAAS,gBAE/B1jC,EAAK2jC,aACJN,GAAO,2BAASrjC,EAAK2jC,WAAa,gBAEnC3jC,EAAK4jC,SACJP,GAAO,2BAASrjC,EAAK4jC,OAAS,YAI/B5jC,EAAKujC,OACJF,GAAO,eAAOrjC,EAAKujC,KAAO,gBAE3BvjC,EAAK0jC,SACJL,GAAO,eAAOrjC,EAAK0jC,OAAS,gBAE7B1jC,EAAK2jC,aACJN,GAAO,eAAOrjC,EAAK2jC,WAAa,gBAEjC3jC,EAAK4jC,SACJP,GAAO,eAAOrjC,EAAK4jC,OAAS,WAGV,UAAvBP,EAAIA,EAAI/0B,OAAS,KAChB+0B,EAAMA,EAAItxB,OAAO,EAAGsxB,EAAI/0B,OAAS,IAErC,IAAIsG,EAAM,CACNmB,KAAM/V,EAAKqc,KACX2mB,QAASK,GAnCH,GAqCNp0B,KAAK2F,OAIX,yBAAKzQ,UAAS,oCAA+BA,GAAwB,KAEhEy3B,EA+FD,kBAAC,GAAD,CACEn9B,MAAO,2BACP0F,UAAU,WACVzE,KAAM,MAjGR,kBAAC,aAAD,CAAYyE,UAAU,iBACpB,yBAAKA,UAAU,cACZnE,EAAKmI,KAAI,SAACgD,EAAOE,GAEhB,IAAI4iE,EAAM,GACI,IAAV5iE,GACF4iE,EAAIh/D,KAAK,OAGXg/D,EAAMA,EAAI19D,OAAO,CAACpF,EAAQ,SAAW,MAAO,MAAO,MAAO,QACtDE,IAAUrL,EAAKsO,OAAS,IAC1B2/D,EAAMA,EAAI19D,OAAO,CAAC,MAAO,MAAO,MAAO,SAEzC,IAAI8yB,EAAM,GAuDV,OAtDGl4B,EAAM43B,YAELM,EADiB,WAAhBzS,EAEGzlB,EAAM24B,UACa,GAAnB34B,EAAM43B,UACN,eAAO53B,EAAM24B,WACZ34B,EAAM44B,YAAa,eAAO54B,EAAM44B,YAAa,IAC7C,eAAO54B,EAAM24B,UACd,GAGA34B,EAAM24B,UACa,GAAnB34B,EAAM43B,UACN53B,EAAM64B,SAAW,eAAO74B,EAAM24B,UAC9B34B,EAAM64B,UACL74B,EAAM44B,YAAa,eAAO54B,EAAM44B,YAAa,IAC7C,eAAO54B,EAAM24B,UACd,IAIL34B,EAAMkhC,QACY,WAAhBzb,GACIzlB,EAAMo4B,OACLF,GAAO,2BAASl4B,EAAMo4B,KAAO,gBAE9Bp4B,EAAMu4B,SACLL,GAAO,2BAASl4B,EAAMu4B,OAAS,gBAEhCv4B,EAAMw4B,aACLN,GAAO,2BAASl4B,EAAMw4B,WAAa,gBAEpCx4B,EAAMy4B,SACLP,GAAO,2BAASl4B,EAAMy4B,OAAS,YAIhCz4B,EAAMo4B,OACLF,GAAO,eAAOl4B,EAAMo4B,KAAO,gBAE5Bp4B,EAAMu4B,SACLL,GAAO,eAAOl4B,EAAMu4B,OAAS,gBAE9Bv4B,EAAMw4B,aACLN,GAAO,eAAOl4B,EAAMw4B,WAAa,gBAElCx4B,EAAMy4B,SACLP,GAAO,eAAOl4B,EAAMy4B,OAAS,WAGX,UAAvBP,EAAIA,EAAI/0B,OAAS,KAChB+0B,EAAMA,EAAItxB,OAAO,EAAGsxB,EAAI/0B,OAAS,KAIrC,kBAAC,IAAM9J,SAAP,CAAgBrG,IAAKkN,GAClB4iE,EAAI9lE,KAAI,SAACopE,EAAKC,GAEb,MAAe,WAARD,EACL,yBAAKpzE,IAAKqzE,EAAQrtE,UAAU,yBAC1B,0BAAMA,UAAU,eACd,yBAAKA,UAAU,cACb,uBAAGA,UAAU,kBAAkB1F,MAAO0M,EAAMkR,MAAOlR,EAAM04B,WACtD14B,EAAMkR,MAAQlR,EAAM04B,WAEvB,uBAAG1/B,UAAU,mBAAmB1F,MAAO4kC,GACpCA,MAMT,0BAAMllC,IAAKqzE,EAAQrtE,UAAU,qBAkBpCsJ,sBAAKwb,qBAAWqoD,KC1MzB7zD,GAAeiR,GAAfjR,WAON,SAASg0D,GAAYtwE,EAAOuD,GAAM,IAE9BP,EAOEhD,EAPFgD,UACAysB,EAMEzvB,EANFyvB,aAEA8M,GAIEv8B,EALFnB,KAKEmB,EAJFu8B,aACAnL,EAGEpxB,EAHFoxB,aACW9N,EAETtjB,EAFF2iB,SAAWW,OACX2Z,EACEj9B,EADFi9B,eAR6B,EAUG9W,mBAAS,IAVZ,mBAUxBshC,EAVwB,KAUbC,EAVa,OAWKvhC,mBAAS,IAXd,mBAWxBwhC,EAXwB,KAWZC,EAXY,KAYzBa,EAAiB,CACrB,EAAK,qBACL,EAAK,qBACL,EAAK,qBACL,KAAM,gBAEF8nB,EAAY,CAChB,EAAK,eACL,EAAK,eACL,EAAK,eACL,EAAK,eACL,EAAK,qBACL,KAAM,gBAERnmD,2BAAgB,WACd,GAAImS,GAAgBjZ,IAWD,WAAhBmM,GAA8B2B,EAAaqB,UAG3B,WAAhBhD,EAAH,CAGAwN,GAAe,GAEb,IAAIrwB,EAAM,GAERA,EADiB,WAAhB6iB,EACKnT,GAAa,+CAAiDgH,EACpE,eAAiBiZ,EAAY4yC,cAAe5yC,EAAY4yC,cAAe,IACvE,aAAe5yC,EAAY6yC,YAAa7yC,EAAY6yC,YAAa,IAE3D9yD,2DACQ8U,EAAaqB,QAC3B,YAAcrB,EAAasB,QAC3B,eAAiB6J,EAAY4yC,cAAe5yC,EAAY4yC,cAAe,IACvE,aAAe5yC,EAAY6yC,YAAa7yC,EAAY6yC,YAAa,IAEnEpyD,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,MAC5C6oD,EAAah0C,EAAO7U,MAEpB6oD,GAAa,GAEjBzqB,GAAe,MAGnBrwB,EAAM0P,GAAa,mDACD,WAAhBmT,EACAnM,EACA,IAEF,YAAc8N,EAAaqB,QAC3B,YAAcrB,EAAasB,QAC3B,eAAiB6J,EAAY4yC,cAAe5yC,EAAY4yC,cAAe,cACvE,aAAe5yC,EAAY6yC,YAAa7yC,EAAY6yC,YAAa,cAEjEpyD,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5C+oD,EAAcl0C,EAAO7U,MAGzBo+B,GAAe,SAEpB,CAACxN,EAAc8M,IAElBnS,2BAAgB,WACd,GAAImS,GAGe,WAAhB9M,EAAH,CAGAwN,GAAe,GAEf,IAAIrwB,EAAM0P,GAAa,oDAAsD8U,EAAaqB,QAC1F,YAAcrB,EAAasB,QAC3B,eAAiB6J,EAAY4yC,cAAe5yC,EAAY4yC,cAAe,cACvE,aAAe5yC,EAAY6yC,YAAa7yC,EAAY6yC,YAAa,cACjEpyD,GACGK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,MAC5C6oD,EAAah0C,EAAO7U,MAEpB6oD,GAAa,MAIrB96C,EAAM0P,GAAa,uDAAyD8U,EAAaqB,QACzF,YAAcrB,EAAasB,QAC3B,eAAiB6J,EAAY4yC,cAAe5yC,EAAY4yC,cAAe,cACvE,aAAe5yC,EAAY6yC,YAAa7yC,EAAY6yC,YAAa,cAEjEpyD,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC5C+oD,EAAcl0C,EAAO7U,MAGzBo+B,GAAe,SAEpB,CAACxN,EAAc8M,IAElB,IAAIgtB,EAAkB,GAClBp0B,EAAM,GACVlrB,MAAM4qB,QAAQ4yB,IAAcA,EAAUx4C,SAAQ,SAAChI,EAAMiD,GACnDirB,EAAIrnB,KAAK7G,IACJiD,EAAQ,GAAK,GAAK,GAAMA,GAASu9C,EAAUt6C,OAAS,IACrDo8C,EAAgBz7C,KAAKqnB,GACrBA,EAAM,OAKZ,IAAIq7C,EAAgB,GACpBvmE,MAAM4qB,QAAQ4yB,IAAcA,EAAUx4C,SAAQ,SAAChI,GAC7CupE,EAAc1iE,KAAKyiE,EAAWtpE,EAAKuiD,WAAYviD,EAAKuiD,YAAa,OAEnEgnB,EAAa,aAAO,IAAIjiC,IAAIiiC,IAC5B,IAAIC,EAAsB,GAC1BD,EAAcvhE,SAAQ,SAAChI,GACrB,IAAIunC,EAAM,EACViZ,EAAUx4C,SAAQ,SAACjF,GACdumE,EAAWtpE,EAAKuiD,WAAYviD,EAAKuiD,YAAa,IAAOviD,GACtDunC,OAGJ,IAAI/6B,EAAM,CACRzW,IAAKiK,EACLuO,IAAKg5B,GAEPiiC,EAAoB3iE,KAAK2F,MAG3B,IAAIi9D,EAAiB,GACrBzmE,MAAM4qB,QAAQ8yB,IAAeA,EAAW14C,SAAQ,SAAChI,GAC/CypE,EAAe5iE,KAAKyiE,EAAWtpE,EAAKqjD,gBAAiBrjD,EAAKqjD,iBAAkB,OAE9EomB,EAAc,aAAO,IAAIniC,IAAImiC,IAC7B,IAAIC,EAAuB,GAc3B,OAbAD,EAAezhE,SAAQ,SAAChI,GACtB,IAAIunC,EAAM,EACVmZ,EAAW14C,SAAQ,SAACjF,GACfumE,EAAWvmE,EAAMsgD,gBAAiBtgD,EAAMsgD,iBAAkB,IAAOrjD,GAClEunC,OAGJ,IAAI/6B,EAAM,CACRzW,IAAKiK,EACLuO,IAAKg5B,GAEPmiC,EAAqB7iE,KAAK2F,MAG1B,yBACEzQ,UAAS,yCAAoCA,GAAwB,KAI/C,GAApBykD,EAAUt6C,QAA6B,GAAdw6C,EACzB,kBAAC,GAAD,CACErqD,MAAO,2BACP0F,UAAU,WACVzE,KAAM,MAER,6BACG,kBAAC,KAAD,CACLywC,KAAM,CACFhsC,UAAW,uBAGXumD,EAAgBviD,KAAI,SAACC,EAAMiD,GACvB,OACI,yBAAKlH,UAAU,aAAahG,IAAKkN,GAE7BjD,EAAKD,KAAI,SAACgD,EAAO0wB,GACb,OACA,yBAAK13B,UAAU,YAAYhG,IAAK09B,GAC5B,uBAAG13B,UAAW,cAEU,GAApBgH,EAAMw/C,YAAuC,GAApBx/C,EAAM6+C,WAC/B,UACoB,GAApB7+C,EAAMw/C,YAAuC,GAApBx/C,EAAM6+C,WAC/B,UACoB,GAApB7+C,EAAMw/C,YAAuC,GAApBx/C,EAAM6+C,WAC/B,UACA,MAGJ,uBAAGvrD,MAAO0M,EAAM2+C,eAAiB3+C,EAAMy/C,WAClCz/C,EAAM2+C,eAAiB3+C,EAAMy/C,WAElC,uBAAGnsD,MAAOmrD,EAAez+C,EAAM6+C,aAC1BJ,EAAez+C,EAAM6+C,aAGN,WAAhBp5B,EACA,uBACAnyB,MAAO0M,EAAMopB,YACblyB,MAAO,CAAC+H,MAAO,YAFf,IAGGe,EAAMopB,YAHT,KAIA,YAW5B,yBAAKpwB,UAAU,cACf,uBAAGA,UAAU,aAAb,wCAAgC,8BAAOykD,EAAUt6C,SAC/C,kBAAC,KAAD,CACA6hC,KAAM,CACFhsC,UAAW,mBAEf,wBAAIA,UAAU,mBAEVytE,EAAoBzpE,KAAI,SAACC,EAAMiD,GAC7B,OACE,wBAAIlN,IAAKkN,GACNjD,EAAKjK,IADR,gBAEE,8BAAOiK,EAAKuO,IAAZ,iBASZ,yBAAKxS,UAAU,eACf,uBAAGA,UAAU,cAAb,wCAAiC,8BAAO2kD,EAAWx6C,SACnD,kBAAC,KAAD,CACE6hC,KAAM,CACFhsC,UAAW,oBAEf,wBAAIA,UAAU,oBAEV2tE,EAAqB3pE,KAAI,SAACC,EAAMiD,GAC9B,OACE,wBAAIlN,IAAKkN,GACNjD,EAAKjK,IADR,gBAEE,8BAAOiK,EAAKuO,IAAZ,mBAclB,IAAMub,GAAkB,SAAC9wB,GAAW,IAC5BjB,EAAeiB,EAAfjB,WACN,OAAO,eAAKA,IAECiyB,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWwoD,MC1UxD,SAASM,GAAQ5wE,GAAQ,IACjBgD,EAA6ChD,EAA7CgD,UAAWzE,EAAkCyB,EAAlCzB,KAAMjB,EAA4B0C,EAA5B1C,MAAOmG,EAAqBzD,EAArByD,QAAQrG,EAAa4C,EAAb5C,SACtC,OACE,0BACE4F,UAAS,uBAAkBA,GAAoB,GAAtC,YAA4CzE,GAAQ,gBAAkBA,GAC/EkF,QAASA,GAERrG,GAAUE,GAIFszE,UCiBTt0D,I,gBAAeiR,GAAfjR,YAON,SAASmH,GAAKzjB,EAAOuD,GAAM,IAEnBP,EAOAhD,EAPAgD,UACAysB,EAMAzvB,EANAyvB,aAEA8M,GAIAv8B,EALAnB,KAKAmB,EAJAu8B,aACAnL,EAGApxB,EAHAoxB,aANkB,EASlBpxB,EAFA2iB,SAAWW,EAPO,EAOPA,OAAQN,EAPD,EAOCA,SACnBia,EACAj9B,EADAi9B,eARkB,EAUgB9W,mBAAS,IAVzB,mBAUf0qD,EAVe,KAUFC,EAVE,KAmKxB,OAxJE1mD,2BAAgB,WAGhB,GAAI9G,GAAWiZ,EAAY0G,OAGR,WAAhBxT,GAA8B2B,EAAaqB,SAA9C,CAGAwK,GAAe,GACf,IAAIrwB,EAAM0P,oDACMgH,EAChB,YAAc8N,EAAaqB,QAC3B,YAAcrB,EAAasB,QAC3B,aAAe1P,EACf,WAAauZ,EAAY0G,KAKzBjmB,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChCiyE,EAAep9D,EAAO7U,MAExBo+B,GAAe,SAElB,CAAC7L,EAAc9N,EAAQiZ,IAC1B5V,qBAAU,WACR,IAAI8lB,EAAQ,GAAIlP,EAAW,GAC3B,GAAItzB,MAAM4qB,QAAQg8C,EAAYE,kBAA0D,GAAtCF,EAAYE,gBAAgB5jE,OAA9E,CAGA0jE,EAAYE,gBAAgB9hE,SAAQ,SAAChI,GACjC,IAAIwM,EAAM,CACNkkB,KAAM1wB,EAAK+pE,UAEfvkC,EAAM3+B,KAAK2F,GAUK,KAAbxM,EAAKgqE,MAEe,KAAbhqE,EAAKgqE,MAEQ,KAAbhqE,EAAKgqE,KAHX1zC,EAASzvB,KAAK,IAMdyvB,EAASzvB,KAAK,OAGtB,IAAIoxB,EAAWC,KAAQ3kB,KAAK5Y,SAASyP,eAAe,oBACpD6tB,EAASjsB,SACT,IAAInJ,EAAS,CAIXw1B,KAAM,CACJn/B,IAAK,EACLq/B,OAAQ,EACRt/B,KAAM,GACNq/B,MAAO,GACPoxB,cAAc,GAEhBvxB,QAAS,CACPC,QAAS,OACTkhB,cAAc,EACdnT,UAAW,SAAS/vC,GAChB,IAAI6kC,EAAM7kC,EAAOJ,KAAO,QAOxB,OANAqT,QAAQC,IAAIlT,GACZwzE,EAAYE,gBAAgB9hE,SAAQ,SAAChI,GAEjCi7B,GAAO7kC,EAAO6zE,OAASjqE,EAAK+pE,SAAW,KAAO/pE,EAAKgqE,KAAO,WAGvD/uC,IAGbivC,MAAO,CACH,CACIC,UAAW3kC,EACXvM,OAAQ,CAAC,MAAO,OAChBD,OAAQ,GACRoxC,WAAY,GACZC,YAAa,EACbvlE,MAAO,SACP9O,KAAM,CAEFwiC,UAAW,CACPx2B,MAAO,YAGfsoE,UAAW,CACPC,UAAW,CACPvoE,MAAO,CAAC,uBACJ,uBAAwB,uBACxB,uBAAwB,wBAC5BknD,YAAa,qBACbC,WAAY,KAGpB1iB,SAAU,CACNV,UAAW,CACP/jC,MAAO,yBAGfmlC,UAAW,CACPvtC,MAAM,KAIlBm/B,OAAQ,CACJ,CACI/iC,KAAM,qBACNsB,KAAM,QACN+hC,SAAU,CACN0M,UAAW,CACP3rC,MAAO,IAGfxC,KAAM,CACF,CACIgF,MAAO05B,EACPtgC,KAAM,2BACN+jD,OAAQ,SACRP,WAAY,EACZlgB,UAAW,CACPt3B,MAAO,WAEX+jC,UAAW,CACP/jC,MAAO,gBAO7Bi2B,EAASuB,UAAU32B,GACnB1I,OAAOgE,iBAAiB,UAAU,WAChC85B,EAASjsB,eAEV,CAAC49D,IAEF,yBAAK7tE,UAAS,qCAAgCA,GAAwB,KAE7DiH,MAAM4qB,QAAQg8C,EAAYE,kBAA0D,GAAtCF,EAAYE,gBAAgB5jE,OAM3E,yBAAKnK,UAAU,kBAAkBQ,GAAG,oBALpC,kBAAC,GAAD,CACAlG,MAAO,2BACP0F,UAAU,WACVzE,KAAM,OAQlB,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAC1BjB,EAAeiB,EAAfjB,WACN,OAAO,eAAKA,IAEDiyB,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWrE,MC/MlDnH,GAAeiR,GAAfjR,WACN,SAASm1D,GAAYzxE,GAAO,IAEpBgD,EAOAhD,EAPAgD,UAIAouB,GAGApxB,EANAyvB,aAMAzvB,EALAnB,KAKAmB,EAJAu8B,YAIAv8B,EAHAoxB,cANmB,EASnBpxB,EAFA2iB,SAAWW,EAPQ,EAORA,OAAkBmJ,GAPV,EAOAzJ,SAPA,EAOUyJ,UAC7BwQ,EACAj9B,EADAi9B,eARmB,EAUW9W,mBAAS,IAVpB,mBAUhB0hC,EAVgB,KAUL6pB,EAVK,KAkCvB,OAvBAtnD,2BAAgB,WAIZ,GADA6S,GAAe,GACX3Z,GAGA8N,EAAaqB,QAAjB,CAGA,IAAI7lB,EAAM0P,GAAa,6BAA+B8U,EAAaqB,QACnEzV,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9B6yE,EAAah+D,EAAO7U,MAExBo+B,GAAe,SAEpB,CAAC7L,IAEA,yBACApuB,UAAS,yCAAoCA,GAAwB,KAErE,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,cAGf,uBAAG9B,MAAO,CAACsoC,UAAW,IAAtB,sBAA8B,0BAAMlsC,MAAqC,iBAAvBuqD,EAAUzmB,UAAuBymB,EAAUzmB,UAAW,MACrE,iBAAvBymB,EAAUzmB,UAAuBymB,EAAUzmB,UAAW,KADpC,WAE9B,iDAAO,0BAAM9jC,MAAOmvB,GAAWA,IAC/B,uBAAGvrB,MAAO,CAACsoC,UAAW,KAAtB,4BACA,0BAAMlsC,MAAmC,iBAArBuqD,EAAUvqB,QAAqBuqB,EAAUvqB,QAAS,MACrC,iBAArBuqB,EAAUvqB,QAAqBuqB,EAAUvqB,QAAS,KAD9D,WAIA,uDACI,0BAAMhgC,MAAqC,iBAAvBuqD,EAAUpqB,UAAuBoqB,EAAUpqB,UAAW,MACvC,iBAAvBoqB,EAAUpqB,UAAuBoqB,EAAUpqB,UAAW,KADlE,YAaZ,IAAM1M,GAAkB,SAAC9wB,GAAW,IAC1BjB,EAAeiB,EAAfjB,WACN,OAAO,eAAKA,IAEDiyB,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW2pD,MCrElDn1D,GAAeiR,GAAfjR,WACN,SAASq1D,GAAa3xE,GAAO,IAErBgD,EAOAhD,EAPAgD,UAFoB,GASpBhD,EANAyvB,aAMAzvB,EALAnB,KAKAmB,EAJAu8B,YAIAv8B,EAHAoxB,aAGApxB,EAFA2iB,UAAmBK,GAPC,EAOTM,OAPS,EAODN,UACnBia,GARoB,EAOSxQ,SAE7BzsB,EADAi9B,gBARoB,EAUY9W,mBAAS,IAVrB,mBAUjByrD,EAViB,KAULC,EAVK,OAWY1rD,mBAAS,IAXrB,mBAWjB2rD,EAXiB,KAWLC,EAXK,KA4CxB,OAhCA3nD,2BAAgB,WAGZ,GAAIpH,EAAJ,CAGAia,GAAe,GACf,IAAIrwB,EAAM0P,GAAa,+BAAiC0G,EACxDhG,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BgzE,EAAcn+D,EAAO7U,SAG7B+N,EAAM0P,GAAa,sCAAwC0G,EAC3D,cACAhG,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAC9BkzE,EAAcr+D,EAAO7U,MAEzBo+B,GAAe,SAEpB,CAACja,IAEA,yBAAKhgB,UAAS,yCAAoCA,GAAwB,KACtE,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,eAGnB,uBAAG9B,MAAO,CAACsoC,UAAW,IAAtB,sBAA8B,8BACO,iBAAzBooC,EAAWtwC,WAAwBswC,EAAWtwC,WAAY,KADxC,WAE9B,2CAAM,8BAAOwwC,EAAW,GAAIA,EAAW,GAAGjvC,SAAU,OACpD,uBAAG3hC,MAAO,CAACsoC,UAAW,KAAtB,4BAEI,8BAC8B,iBAAtBooC,EAAWt0C,QAAqBs0C,EAAWt0C,QAAS,KAD5D,WAGCs0C,EAAWtwC,YACVswC,EAAWt0C,QAAQs0C,EAAWtwC,WAAY,KAAKrsB,QAAQ,GAAK,IAAK,MACvE,uDAAQ,8BAC4B,iBAAxB28D,EAAWn0C,UAAuBm0C,EAAWn0C,UAAW,KAD5D,WAEHm0C,EAAWtwC,YACVswC,EAAWn0C,UAAUm0C,EAAWtwC,WAAY,KAAKrsB,QAAQ,GAAK,IAAK,MACzE,uBAAGjS,UAAU,gBACT,0BAAMA,UAAU,eAAhB,6BACA,0BAAMA,UAAU,kBAAhB,QAMhB,IAAM+tB,GAAkB,SAAC9wB,GAAW,IAC1BjB,EAAeiB,EAAfjB,WACN,OAAO,eAAKA,IAEDiyB,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAW6pD,MC9ElDr1D,GAAeiR,GAAfjR,WACN,SAAS01D,GAAgBhyE,GAAO,IAExBgD,EAQAhD,EARAgD,UACAysB,EAOAzvB,EAPAyvB,aAEA8M,GAKAv8B,EANAnB,KAMAmB,EALAu8B,aACAnL,EAIApxB,EAJAoxB,aANuB,GAUvBpxB,EAHAqxB,aAGArxB,EAFA2iB,UAAWW,EARY,EAQZA,OAAQN,EARI,EAQJA,SACnBia,EACAj9B,EADAi9B,eATuB,EAYW9W,mBAAS,IAZpB,mBAYpB0qD,EAZoB,KAYPC,EAZO,KAgD3B,OAnCA1mD,2BAAgB,WAGhB,GAAI9G,GAAWiZ,EAAY0G,KAA3B,CAGAhG,GAAe,GACf,IAAIrwB,EAAM0P,GAAa,sCACH,WAAhBmT,EACA,EACgB,WAAhBA,EACA,EACA,GAEJ,cAAgBnM,EAChB,YAAc8N,EAAaqB,QAC3B,YAAcrB,EAAasB,QAC3B,aAAe1P,EACf,WAAauZ,EAAY0G,KAKzBjmB,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChCiyE,EAAep9D,EAAO7U,MAExBo+B,GAAe,SAElB,CAAC7L,EAAc9N,EAAQiZ,IAEpB,yBAAKv5B,UAAS,6CAAwCA,GAAwB,KACtE,uBAAGA,UAAU,cAAeiH,MAAM4qB,QAAQg8C,EAAYE,kBACvDF,EAAYE,gBAAgB5jE,OAAS,EAAGovB,EAAY0G,KAAM,IAE1Dh5B,MAAM4qB,QAAQg8C,EAAYE,kBAC1BF,EAAYE,gBAAgB5jE,OAAS,EACrC0jE,EAAYE,gBAAgB/pE,KAAI,SAACC,EAAMiD,GACnC,OACC,yBAAKlH,UAAU,mBAAmBhG,IAAKkN,GACnC,yBAAKlH,UACJ,WACa,KAAbiE,EAAKgqE,KACN,QACa,KAAbhqE,EAAKgqE,KACL,OACa,KAAbhqE,EAAKgqE,KACL,SACA,UACKhqE,EAAKgqE,KAAMhqE,EAAKgqE,KAAM,MAC3B,uBAAG3zE,MAAO2J,EAAK+pE,UAAW/pE,EAAK+pE,cAIxC,kBAAC,GAAD,CACC1zE,MAAO,2BACP0F,UAAU,WACVzE,KAAM,OAMtB,IAAMwyB,GAAkB,SAAC9wB,GAAW,IAC1BjB,EAAeiB,EAAfjB,WACN,OAAO,eAAKA,IAEDiyB,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWkqD,MCrFlD11D,GAAeiR,GAAfjR,WACN,SAAS21D,GAAUjyE,GAAO,IAElBgD,EAOAhD,EAPAgD,UAGAu5B,GAIAv8B,EANAyvB,aAMAzvB,EALAnB,KAKAmB,EAJAu8B,aACAnL,EAGApxB,EAHAoxB,aANiB,EASjBpxB,EAFA2iB,SAAWW,EAPM,EAONA,OAAQN,EAPF,EAOEA,SACnBia,EACAj9B,EADAi9B,eARiB,EAUW9W,mBAAS,IAVpB,mBAUd6jB,EAVc,KAUJC,EAVI,OAWiB9jB,mBAAS,IAX1B,mBAWdorB,EAXc,KAWDwD,EAXC,OAYW5uB,mBAAS,IAZpB,mBAYd+rD,EAZc,KAYJC,EAZI,KAgFrB,OAnEE/nD,2BAAgB,WAGd,GAAI9G,GAAWiZ,EAAY0G,KAA3B,CAGAhG,GAAe,GACf,IAAIrwB,EAAM0P,8DACe8U,EAAaqB,QACtC,YAAcrB,EAAasB,QAC3B,aAAe1P,EACf,WAAauZ,EAAY0G,KAJf3mB,sBAMGigB,EAAY4yC,cAAe5yC,EAAY4yC,cAAe,cACnE,SAAW5yC,EAAY6yC,YAAa7yC,EAAY6yC,YAAa,cAC7DpyD,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChCorC,EAAYv2B,EAAO7U,SAIzB+N,EAAM0P,iEACmB8U,EAAaqB,QACtC,YAAcrB,EAAasB,QAC3B,aAAe1P,EACf,WAAauZ,EAAY0G,KAJnB3mB,sBAMOigB,EAAY4yC,cAAe5yC,EAAY4yC,cAAe,cACnE,SAAW5yC,EAAY6yC,YAAa7yC,EAAY6yC,YAAa,cAC7DpyD,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChCk2C,EAAerhC,EAAO7U,SAI5B+N,EAAM0P,yCACQ8U,EAAaqB,QAC3B,YAAcrB,EAAasB,QAC3B,aAAe1P,EACf,WAAauZ,EAAY0G,KACzB,WAAa1G,EAAY4yC,cAAe5yC,EAAY4yC,cAAe,cACnE,SAAW5yC,EAAY6yC,YAAa7yC,EAAY6yC,YAAa,cAC7DpyD,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAC9B6U,EAAO7U,KAAKoQ,SAAQ,SAAChI,IACkB,GAAhCA,EAAKsjC,SAAS/8B,QAAQ,iBACrB2kE,EAAYlrE,EAAKujC,yBAIzBvN,GAAe,UAGtB,CAAC7L,EAAc9N,EAAQiZ,IAExB,yBACAv5B,UAAS,uCAAkCA,GAAwB,KAC/D,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,YACX,yBAAKA,UAAU,YAAYgnC,EAAS6L,UAAW7L,EAAS6L,UAAW,MACnE,oEAEJ,yBAAK7yC,UAAU,eACf,wBAAIA,UAAU,qBACV,kBAAC,aAAD,CACAu+B,YAAU,EACVC,cAAe,GACf4wC,oBAAqB,SAAApyE,GAAK,OAAI,yCAASA,EAAT,CAAgBgD,UAAU,sBAEpDuuC,EAAYvqC,KAAI,SAACC,EAAMiD,GACnB,OACA,wBAAIlN,IAAKkN,GACRjD,EAAK4lC,YADN,gBAEA,0BAAM7pC,UAAU,cAAciE,EAAKwjC,cAgBnD,yBAAKznC,UAAU,qBACX,yBAAKA,UAAU,cACX,yBAAKA,UAAU,mBAAmB9B,MAAO,CAACG,MAAO,QAAjD,gBACA,yBAAK2B,UAAU,WAAW9B,MAAO,CAACG,MAAO,QAAzC,gBACA,yBAAK2B,UAAU,WAAW9B,MAAO,CAACG,MAAO,QAAzC,iBAMJ,kBAAC,aAAD,CACAkgC,YAAU,EACVC,cAAe,IAEf4wC,oBAAqB,SAAApyE,GAAK,OAAI,yCAASA,EAAT,CAAgBgD,UAAU,sBAEhDkvE,EAASlrE,KAAI,SAACC,EAAMiD,GAChB,OACI,yBAAKlH,UAAU,gBAAgBhG,IAAKkN,GAChC,yBAAKlH,UAAU,WAAW9B,MAAO,CAACG,MAAO,QACrC,yBAAKsqB,IAAK1kB,EAAKw6B,QACdx6B,EAAKhK,MAEV,yBAAK+F,UAAU,UAAU9B,MAAO,CAACG,MAAO,QACnC4F,EAAKwjC,OAEV,yBAAKznC,UAAU,iBAAiB9B,MAAO,CAACG,MAAO,QAC1C4F,EAAKgqE,aAuC9C,IAAMlgD,GAAkB,SAAC9wB,GAAW,IAC1BjB,EAAeiB,EAAfjB,WACN,OAAO,eAAKA,IAEDiyB,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWmqD,MCzLlD31D,GAAeiR,GAAfjR,WACN,SAAS4yD,GAAUlvE,GAAO,IAElBgD,EAOAhD,EAPAgD,UAGAu5B,GAIAv8B,EANAyvB,aAMAzvB,EALAnB,KAKAmB,EAJAu8B,aACAnL,EAGApxB,EAHAoxB,aANiB,EASjBpxB,EAFA2iB,SAAWW,EAPM,EAONA,OAAQN,EAPF,EAOEA,SACnBia,EACAj9B,EADAi9B,eARiB,EAUqB9W,mBAAS,IAV9B,mBAUdivB,EAVc,KAUCC,EAVD,KAuCrB,OA3BEjrB,2BAAgB,WAGd,GAAI9G,GAAWiZ,EAAY0G,KAA3B,CAGAhG,GAAe,GACf,IAAIrwB,EAAM0P,0DACK0G,EACf,WAAauZ,EAAY0G,KAFf3mB,sBAIGigB,EAAY4yC,cAAe5yC,EAAY4yC,cAAe,cACnE,SAAW5yC,EAAY6yC,YAAa7yC,EAAY6yC,YAAa,cAC7DpyD,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GACH,OAAOA,EAAIY,UAEdb,MAAK,SAACtK,GACiB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChCw2C,EAAiB3hC,EAAO7U,MAE1Bo+B,GAAe,SAGlB,CAAC7L,EAAc9N,EAAQiZ,IAGxB,yBAAKv5B,UAAS,uCAAkCA,GAAwB,KACpE,kBAAC,aAAD,CACAu+B,YAAU,EACVC,cAAe,IACf4wC,oBAAqB,SAAApyE,GAAK,OAAI,yCAASA,EAAT,CAAgBgD,UAAU,sBAEhDoyC,EAAcpuC,KAAI,SAACC,EAAMiD,GACrB,IAAImoE,EAAS,EASb,OARAprE,EAAKuuC,qBAAqBvmC,SAAQ,SAACjF,GACX,gBAAjBA,EAAM6nC,SAAqC,gBAAlB7nC,EAAM0rC,WAC9B28B,EAASroE,EAAMygC,OAEf4nC,GAA2B,gBAAjBroE,EAAM6nC,SAAqC,gBAAlB7nC,EAAM0rC,WACzC28B,EAASroE,EAAMygC,UAIvB,yBAAKznC,UAAU,iBAAiBhG,IAAKkN,GACjC,uBAAGlH,UAAU,eAAeiE,EAAKivB,UAAjC,KACA,yBAAKlzB,UAAU,gBACX,yBAAKA,UAAU,eAOX,uBAAGA,UAAU,WAAWqvE,GACxB,8DAEJ,yBAAKrvE,UAAU,eACf,yBAAKA,UAAU,gBACX,wBAAIA,UAAU,oBACd,kBAAC,aAAD,CACAu+B,YAAU,EACVC,cAAe,IACf4wC,oBAAqB,SAAApyE,GAAK,OAAI,yCAASA,EAAT,CAAgBgD,UAAU,sBAEhDiE,EAAKuuC,qBAAqBxuC,KAAI,SAACgD,EAAO0wB,GAClC,GAAoB,gBAAjB1wB,EAAM6nC,QAGT,OACI,wBAAI70C,IAAK09B,GACL,uBAAG13B,UAAU,aACb,0BAAMA,UAAU,cAAcgH,EAAM6nC,SACpC,0BAAM7uC,UAAU,cAAhB,sBAAkCgH,EAAMygC,qBAkEhG,IAAM1Z,GAAkB,SAAC9wB,GAAW,IAC1BjB,EAAeiB,EAAfjB,WACN,OAAO,eAAKA,IAEDiyB,qBAAQF,GAARE,CAAyB3kB,eAAKwb,qBAAWonD,MCnBvC5iE,IC1FXgQ,GAAeiR,GAAfjR,WAEN,SAAS4vD,GAAelsE,EAAOuD,GAAM,IAAD,OAEhCP,EAUEhD,EAVFgD,UAGA8nB,GAOE9qB,EATFyb,QASEzb,EARF2M,SAQE3M,EAPF8qB,iBACAwnD,EAMEtyE,EANFsyE,WACAC,EAKEvyE,EALFuyE,UACAv4D,EAIEha,EAJFga,MARgC,EAY9Bha,EAHF+tB,QAAWjK,EATqB,EASrBA,aAAcE,EATO,EASPA,SATO,EAY9BhkB,EAFF2iB,SAAYW,EAVoB,EAUpBA,OAAkBN,GAVE,EAUZoB,SAVY,EAUFpB,UAAUwvD,EAVR,EAUQA,OAAQ/lD,EAVhB,EAUgBA,SAAUgmD,EAV1B,EAU0BA,KAV1B,YAY9BzyE,EAZ8B,4GAalCsQ,QAAQC,IAAI,eAAMvQ,GAClB,IAAI0yE,EAAkBxiE,eAAeM,QAAQ,YAAaR,KAAKS,MAAMP,eAAeM,QAAQ,aAAc,GACtG8S,IACFA,EAASovD,EAAgBpvD,QAEvBN,IACFA,EAAW0vD,EAAgB1vD,UAG7B,IAAIyM,EAAe,UACA,UAAhB3L,IACD2L,EAAe,WAEE,UAAhB3L,GAA4C,UAAhBA,GAA4C,UAAhBA,IACzD2L,EAAe,WAEE,UAAhB3L,GAA4C,UAAhBA,IAC7B2L,EAAe,WAEjBrF,2BAAgB,WACd,IAAGla,eAAeM,QAAS,YAA3B,CAGA,IAAI5D,EAAM0P,GAAa,qCACvBU,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACL,GAAoB,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,KAAK,CACrC,IAAIghB,EAAUnM,EAAO7U,KAAKm4D,WACP,UAAhBlzC,EACD6uD,KAAsB9yD,EAAQ,MAAO,SAAUyD,GACvB,UAAhBQ,EACR6uD,KAAsB9yD,EAAQ,MAAO,SAAUyD,GAE/CqvD,KAAsB9yD,EAAQ,MAAO,SAAUyD,GAEjDpT,eAAeC,QAAQ,YAAY,UAGtC,IArD+B,MAsDEgW,oBAAS,GAtDX,mBAsD3BysD,EAtD2B,aAuDVzsD,mBAAS,OAvDC,mBAuD3B2mB,EAvD2B,KAuDrB+lC,EAvDqB,OAwDc1sD,oBAAS,GAxDvB,mBAwD3B2sD,EAxD2B,KAwDTC,EAxDS,OA0DF5sD,mBAAS,QA1DP,mBA0D3B6sD,EA1D2B,KA0DjBC,EA1DiB,OA4DJ9sD,mBAAS,MA5DL,mBA4DlB02C,GA5DkB,WA6D5BqW,EAAc3nD,iBAAO,MA7DO,EA+DQpF,oBAAS,GA/DjB,mBA+D3BgtD,EA/D2B,KA+DZC,EA/DY,OAiENjtD,oBAAS,GAjEH,gCAmEEA,oBAAS,IAnEX,mBAmE3BktD,EAnE2B,KAmEfC,GAnEe,QAsENntD,mBAAS,MAtEH,qBAsE3BotD,GAtE2B,MAsEnBC,GAtEmB,SAwEFrtD,mBAAS,MAxEP,qBAwE3BstD,GAxE2B,MAwEjBC,GAxEiB,SA0ENvtD,mBAAS,MA1EH,qBA0EnBwtD,IA1EmB,gBA4EIxtD,mBAAS,MA5Eb,qBA4EdytD,IA5Ec,gBA8ERztD,mBAAS,MA9ED,qBA8EpB0tD,IA9EoB,gBAgFV1tD,mBAAS,MAhFC,qCAiFAA,mBAAS,OAjFT,qBAiF3B2tD,GAjF2B,MAiFhBC,GAjFgB,SAkFE5tD,mBAAS,MAlFX,qBAkF3B6tD,GAlF2B,MAkFfC,GAlFe,SAmFJ9tD,mBAAS,MAnFL,qBAmF3B+tD,GAnF2B,MAmFlBC,GAnFkB,SAoFIhuD,mBAAS,MApFb,qBAoF3BiuD,GApF2B,MAoFdr/B,GApFc,SAsFV5uB,mBAAS,MAtFC,qBAsFrBkuD,IAtFqB,gBAuFFluD,mBAAS,MAvFP,qBAuF3BmuD,GAvF2B,MAuFjBC,GAvFiB,SAwFMpuD,mBAAS,MAxFf,qBAwF3BquD,GAxF2B,gBA0FJruD,mBAAS,OA1FL,qBA0FlBsuD,IA1FkB,gBA6FFtuD,mBAAS,MA7FP,qBA6F3B6hD,GA7F2B,MA6FjB0M,GA7FiB,SA8FFvuD,mBAAS,MA9FP,qBA8F3BwuD,GA9F2B,MA8FjBC,GA9FiB,SAgGEzuD,mBAAS,IAhGX,qBAgG3B0uD,GAhG2B,MAgGfC,GAhGe,SAmGI3uD,mBAAS,IAnGb,qBAmG3BoW,GAnG2B,MAmGdw4C,GAnGc,SAqGA5uD,mBAAS,IArGT,qBAqG3B8iB,GArG2B,MAqGhB0wB,GArGgB,SAsGMxzC,mBAAS,IAtGf,qBAsG3BiL,GAtG2B,MAsGb4iC,GAtGa,SAuGM7tC,mBAAS,IAvGf,qBAuG3BkL,GAvG2B,MAuGb0iC,GAvGa,SAyGc5tC,mBAAS,IAzGvB,qBAyG3B6uD,GAzG2B,MAyGTC,GAzGS,SA0GY9uD,mBAAS,IA1GrB,qBA0G3B04B,GA1G2B,MA0GVq2B,GA1GU,MA4G9BC,GAAW,CACb,kBACA,cACA,QACA,OACA,OACA,WACA,WAEiB,WAAhB1lD,IACD0lD,GAAW,CACT,cACA,YACA,YACA,UACA,iBACA,cACA,YAGe,WAAhB1lD,IACD0lD,GAAW,CACT,eACA,YACA,YACA,UACA,iBACA,cACA,YAGJ/qD,2BAAgB,WACd,GAAmB,WAAhBqF,EAAH,CAGA,IAAI7iB,EAAM0P,GAAa,uCAAyC0G,EAChE,cAAgBM,EAChBtG,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACe,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,OAChCm1D,GAAgBtgD,EAAO7U,MACvBk1D,GAAgBrgD,EAAO7U,KAAK6zB,gBAG/B,CAACjD,EAAcnM,EAAQN,IAE1B,IAAM1L,GAAOyR,mBAAQ,WAAO,IAAD,EAGrB/R,GADF6B,OAAUvB,EAFa,EAEbA,KAGErB,GALW,EAEPuB,SAFO,EAEGK,UAIxBlC,GADFC,SAAYK,SAGd,OAAOqB,GAAQrB,IACd,IAEH0Q,qBAAU,YAUH4sD,IAAUzoD,EAAgBtR,iBAC7BkuD,GAAmC,CACjCC,OAXS,CACX,IAEA,MACA,MACA,OAOEjuD,OAAQoR,EAAgBtR,kBACvBwE,MAAK,SAACC,GAEgB,MAAnBA,EAAIgB,YACNu0D,GAAUv1D,EAAIpf,WAKnB,CAACisB,IAGJnE,qBAAU,WACR,IAAI/Z,EAAM0P,GAAa,yCAA2C0G,EAClEhG,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACe,KAAjBA,EAAOsL,QAAiBtL,EAAO7U,MAChCk2E,GAAerhE,EAAO7U,WAGzB,IAEHurB,2BAAgB,WACd,GAAmB,WAAhBqF,EAA0B,CAC3B,IAAI7iB,EAAM0P,GAAa,0CAA4CgH,EACnEtG,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACL,GAAoB,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,MAAM,CACpD86D,GAAajmD,EAAO7U,MACpB,IAAI4zB,EAAUviB,eAAeM,QAAQ,gBACjC4kE,EAAW,GACf1hE,EAAO7U,KAAKoQ,SAAQ,SAAChI,GAChBA,EAAKwrB,SAAWA,IACjB2iD,EAAWnuE,MAGf+sD,GAAgBohB,EAAS3iD,QAAS2iD,EAAU1hE,EAAO7U,KAAK,GAAI6U,EAAO7U,KAAK,GAAI,YAG3E,CASLm1D,GAJgB,CACdvhC,QAAS,GACTC,QAAS,QAIZ,CAACpP,EAAQmM,IAEZ9I,qBAAU,WACR,IAAIkhD,EAAS0K,EACb,GAAIznD,GACEwnD,EAAY,CAQd,GAPAwC,GAAc,2BACTD,IADQ,IAEXvwD,SAAUguD,EAAWtvD,UAAY,QACjCwlD,WAAY8J,EAAW+C,WACvB9M,aAAc+J,EAAWgD,aACzB57D,OAAQoR,EAAgBtR,mBAEa,kBAA5B84D,EAAWgD,aAA2B,CAC/C,IAAIlB,EAAc,GACdmB,EAC+B,kBAA1BjD,EAAW+C,WACd/C,EAAW+C,WAAWpoE,MAAM,KAC5B,GACNqlE,EAAWgD,aAAaroE,MAAM,KAAKgC,SAAQ,SAACjF,EAAOE,GACjDkqE,EAAYtmE,KAAK,CACf9Q,IAAKu4E,EAAcrrE,IAAUA,EAC7BrG,MAAOmG,OAGX+qC,GAAeq/B,GAUjBxM,GAA8B,CAC5BC,SACAnuD,OAAQoR,EAAgBtR,gBACxB8K,SAAUguD,EAAWtvD,UAAY,UAChChF,MAAK,SAACC,GACgB,MAAnBA,EAAIgB,YACNy1D,GAAYz2D,EAAIwF,KAAKukD,UACrB4M,GAAY32D,EAAIwF,KAAKskD,gBAErB6M,IAAY,MAIhBlB,GAAYpB,GACZqB,GAAUrB,GAEVhI,GAAoB,CAAEzC,WAAU7pD,MAAK,SAACC,GACb,MAAnBA,EAAIgB,WACN40D,GAAS51D,EAAIwF,MAEbowD,IAAS,MAIbnJ,GAAsB,CAAE7C,WAAU7pD,MAAK,SAACC,GACf,MAAnBA,EAAIgB,WACNw1D,GAAWx2D,EAAIwF,MAEfgxD,IAAW,MAIf5J,GAAmB,CAAEhD,WAAU7pD,MAAK,SAACC,GACZ,MAAnBA,EAAIgB,WACN20D,GAAe31D,EAAIwF,MAEnBmwD,IAAe,SAwDtB,CAACrB,IAEJ5rD,qBAAU,WACR,GAAK4sD,IAAWe,GAAhB,CAGA,IAAIzM,EAAS0K,EACED,EAAW7lD,SAEtB8mD,GAAM,KAAWA,GAAM,IAAQ9nD,YAAckpD,IAC/C5K,GAAe,CACblnC,SAAUglC,EACVnuD,OAAQm7D,GAAWn7D,OACnB2C,MAAOk3D,GAAM,IAAQ9nD,WACrBzR,QACAgwD,SAAUsK,GAASzwE,QAClBma,MAAK,SAACC,GACgB,MAAnBA,EAAIgB,WACNo1D,GAAQp2D,EAAIwF,MAGZ4wD,IAAQ,SAKb,CAACd,GAAQe,KAEZ3tD,qBAAU,WACR,IAAIkhD,EAAS0K,EACRgB,KAIDA,GAAM,KAAWA,GAAM,IAAQ9nD,YAAckpD,IAC/CrM,GAAkB,CAChBT,SACAnuD,OAAQm7D,GAAWn7D,OACnB2C,MAAOk3D,GAAM,IAAQ9nD,WACrBzR,QACAsK,SAAUuwD,GAAWvwD,SACrBkkD,WAAYqM,GAAWrM,WACvBD,aAAcsM,GAAWtM,aACzBna,UAAWumB,GAASvmB,UACpBga,QAASuM,GAASvM,UACjBpqD,MAAK,SAACC,GACgB,MAAnBA,EAAIgB,YACNk1D,GAAWl2D,EAAIwF,SAMjB8vD,GAAO,MAAUA,GAAO,KAAO9nD,YAAckpD,IAC/CrL,GAAuB,CACrBzB,SACAnuD,OAAQm7D,GAAWn7D,OACnB2C,MAAOk3D,GAAO,KAAO9nD,WACrBzR,QAIAo0C,UAAWumB,GAASvmB,UACpBga,QAASuM,GAASvM,UACjBpqD,MAAK,SAACC,GACgB,MAAnBA,EAAIgB,YAEN80D,GAAa91D,EAAIwF,SAMnB8vD,GAAM,KAAWA,GAAM,IAAQiC,WAAab,IAC9CnL,GAAqB,CACnB3B,SACAnuD,OAAQm7D,GAAWn7D,OACnB2C,MAAOk3D,GAAM,IAAQiC,UACrBx7D,QACAsK,SAAUuwD,GAAWvwD,SACrBkkD,WAAYqM,GAAWrM,WACvBD,aAAcsM,GAAWtM,aACzBna,UAAWumB,GAASvmB,UACpBga,QAASuM,GAASvM,UACjBpqD,MAAK,SAACC,GACgB,MAAnBA,EAAIgB,aACN3O,QAAQC,IAAI0N,EAAIwF,MAChBwwD,GAAch2D,EAAIwF,aAOvB,CAAC8vD,GAAQoB,KAEZvqD,2BAAgB,WACd,IAAIqrD,EAAOt0E,IAAE+xE,EAAY/mD,SACZspD,EAAKl0E,SACNk0E,EAAKp0E,SAEf4xE,EAAY,WAIb,IAEH7oD,2BAAgB,WACd,GAAImS,GAAY4yC,eAAkB5yC,GAAY6yC,cAG3B,WAAhB3/C,GAA8B2B,GAAaqB,WAG3B,WAAhBhD,GAA+BnM,GAAW8N,GAAaqB,WAGvC,WAAhBhD,GAA8BzM,GAAjC,CAGA,IAAIpW,EAAM0P,GAAa,kCACL,WAAhBmT,EACAnM,EACgB,WAAhBmM,EACA2B,GAAaqB,QACG,WAAhBhD,EACAzM,EACAM,GAEF,eACkB,WAAhBmM,EACA,EACgB,WAAhBA,EACA,EACgB,WAAhBA,EACA,EACA,GAEF,cAAgB8M,GAAY4yC,cAC5B,YAAc5yC,GAAY6yC,YAC1B,eACApyD,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACe,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC9Co2E,GAAoBvhE,EAAO7U,SAI/B+N,EAAM0P,GAAa,yCACD,WAAhBmT,EACA,EACgB,WAAhBA,EACA,EACgB,WAAhBA,EACA,EACA,GAEF,eACkB,WAAhBA,EACAnM,EACA,IACF,YAAc8N,GAAaqB,QAC3B,YAAcrB,GAAasB,QAC3B,aAAe1P,EACf,WAAauZ,GAAY4yC,cAAe5yC,GAAY4yC,cAAe,cACnE,SAAW5yC,GAAY6yC,YAAa7yC,GAAY6yC,YAAa,cAC7DpyD,GACCK,IAAI,CAACzQ,MAAK0Q,cAAe,IACzBU,MAAK,SAACC,GAAD,OAAOA,EAAIY,UAChBb,MAAK,SAACtK,GACe,KAAjBA,EAAOsL,QAAiB/U,MAAM4qB,QAAQnhB,EAAO7U,OAC9Cq2E,GAAmBxhE,EAAO7U,YAG7B,CAAC09B,GAAa9M,EAAc2B,GAAcpO,EAAUM,IACvD8G,2BAAgB,WACd,IAAIqrD,EAAOt0E,IAAE+xE,EAAY/mD,SAInBlZ,EAAS,WACb,IAAI1R,EAASk0E,EAAKl0E,SACdF,EAAQo0E,EAAKp0E,QAEjBw7D,EAAW,CAACx7D,EAAOE,IAEnBsxE,EAAQ,CACNxxE,EAVY,KAWC,UAAb2xE,EAAuB3xE,EAXX,KAW+BE,EAV9B,QAgBjB,OAHA0R,IACA7R,OAAOgE,iBAAiB,SAAU+M,GAASc,EAAQ,MAAM,GAElD,WACL7R,OAAOkpB,oBAAoB,SAAUnY,GAASc,EAAQ,SAEvD,CAAC+/D,IAEJ,IAAM0C,GAAQjsD,uBACZ,WAAyB,IAAxBksD,EAAuB,uDAAjB,CAAC,KAAM,MAGZ,MAAO,CACLt0E,MAAOs0E,EAAI,GACE,EAATA,EAAI,GAEJ,OACJp0E,OAAQo0E,EAAI,GACC,EAATA,EAAI,GAEJ,UAGR,CAAC7oC,IAMG8oC,GAAcnsD,uBAAY,SAACjmB,MAAW,IACtCqyE,GAAc9sD,mBAAQ,WAE1B,GACe,IAAb/E,GACCuvD,IAAUA,GAAM,KAAWA,GAAM,IAAQiC,UAAW,CAAC,IAChDlyD,EAAqBmwD,GAArBnwD,OAAQmJ,EAAagnD,GAAbhnD,SAQd,OACE,kBAAC,GAAD,CAASluB,KAAM,WAAYkF,QARV,WACjB,IAAIqyE,EACFh9D,GAAey6D,GAAM,IAAQiC,WAA7B,iCAC0Bx7D,EAD1B,kBACyCyS,EADzC,gBACyDnJ,EADzD,kBACyEQ,EADzE,UAEF1iB,OAAOorB,KAAKspD,KAIZ,wCAKF,OAAO,OAER,CAACvC,GAAQv5D,EAAO8J,EAAc2vD,KACjC,OACI,yBACAlwE,IAAK2vE,EACLlwE,UAAS,4BAAuBA,GAAwB,KAExD,kBAAC,GAAD,CACAqB,SAAS,EACTC,SAAUsuE,GAEV,yBAAK5vE,UAAS,oCAA+BgwE,IAC3C,uBACEhwE,UAAS,yBAAiC,SAAbgwE,EAAsB,YAAc,IACjEvvE,QAAS,WACPwvE,EAAY,WAGhB,uBACEjwE,UAAS,0BACM,UAAbgwE,EAAuB,YAAc,IAEvCvvE,QAAS,WACPwvE,EAAY,aAIjBnmC,EACC,yBACE9pC,UAAU,aACV9B,MACE4rC,EAAI,2BAEK4oC,GAAM,CAAC,KAAM,QAFlB,IAGEK,UAAU,SAAD,OAAWjpC,EAAK,GAAhB,YAAsBA,EAAK,GAA3B,KACT5sC,OAAS,EAAI4sC,EAAK,IAAM,EAAK,KAAO,KACpC3sC,MAAQ,EAAI2sC,EAAK,IAAM,EAAK,KAAO,KACnClZ,SAAU,aAEZ,IAGN,yBAAK5wB,UAAU,SAAS9B,MAAK,eAAOw0E,GAAM,CAAC,KAAM,OAC/C,yBAAK1yE,UAAU,YAAY9B,MAAK,eAAOw0E,GAAM,CAAC,KAAM,UAEtD,yBAAK1yE,UAAU,YAAY9B,MAAK,eAAOw0E,GAAM,CAAC,KAAM,QAClD,yBACE1yE,UAAU,eACV9B,MAAK,eAAOw0E,GAAM,CAAC,KAAM,SAE3B,yBACE1yE,UAAU,oBACV9B,MAAK,2BACAw0E,GAAM,CAAC,KAAM,OADb,IAEH5zD,QAAQ,KAAD,OAAO4zD,GAAM,CAAC,KAAKr0E,MAAnB,SAGT,yBACE2B,UAAU,yBACV9B,MAAK,2BAAOw0E,GAAM,CAAC,OAAd,IAAqBl/C,OAAO,KAAD,OAAOk/C,GAAM,CAAC,KAAKr0E,MAAnB,SAEhC,kBAAC,GAAD,CACEmtE,OAAwB,WAAhB/+C,EAA2B,cAA+B,WAAhBA,EAA2B,eAAgB,WAC7FtqB,OAAQkuE,EACR9xE,OAAwB,WAAhBkuB,EAA2B,IAAqB,WAAhBA,EAA2B,IAAK,IACxEg/C,IAAKoH,GACLl9C,SAAS,EACT95B,MAAM,EACN09B,YAAaA,GACbnL,aAAcA,GACdC,aAAcA,GACdllB,UACkB,WAAhBsjB,EAA2BgiD,GACX,WAAhBhiD,EAA2Bs/C,GAC3B4C,GACFliD,aAAcA,EACd3L,aAAcA,IAEhB,kBAAC,GAAD,CACE3e,OAAQkuE,EACR7E,OAAwB,WAAhB/+C,GAA6C,WAAhBA,EAA2B,YAAa,iBAC7E8M,YAAaA,GACbnL,aAAcA,GACdC,aAAcA,GACd9vB,OAAwB,WAAhBkuB,GAA6C,WAAhBA,EAA2B,IAAK,IACrEkJ,SAAS,EACTlJ,aAAcA,EACd3L,aAAcA,EACd3X,UACkB,WAAhBsjB,GAA6C,WAAhBA,EAA2BumD,GACxDC,GACFp3E,KAAsB,WAAhB4wB,IAER,kBAAC,GAAD,CACEtqB,OAAQkuE,EACR7E,OAAwB,WAAhB/+C,GAA6C,WAAhBA,EAA2B,YAAa,QAC7E8M,YAAaA,GACblL,aAAcA,GACdD,aAAcA,GACdjlB,UACkB,WAAhBsjB,EAA2BwiD,GACX,WAAhBxiD,EAA2By/C,GAC3B8G,GAEFz0E,OAAwB,WAAhBkuB,GAA6C,WAAhBA,EAA2B,IAAK,IACrEkJ,SAAS,EACT95B,MAAM,EACN4wB,aAAcA,EACd3L,aAAcA,KAGlB,yBACE9gB,UAAU,2BACV9B,MAAK,2BAAOw0E,GAAM,CAAC,OAAd,IAAqBl/C,OAAO,KAAD,OAAOk/C,GAAM,CAAC,KAAKr0E,MAAnB,SAEhC,yBACE2B,UAAU,+BACV9B,MAAK,eACAw0E,GAAM,CAAC,GAAI,OAGC,WAAhBjmD,GAA6C,WAAhBA,EAC5B,oCACE,uBACEzsB,UAAU,kBACV1F,MAAOmvB,GAENA,GAAqB,MAEvBgmD,EACC,uBAAGzvE,UAAU,kBAAkB1F,MAAOm1E,GACnCA,GAAc,MAGjB,IAIY,WAAhBhjD,EACA,0BAAMzsB,UAAU,cACbouB,GAAapuB,UAAWouB,GAAapuB,UAAW,2BAE/CimC,GAAU97B,OAAS,EACnB,kBAAC,KAAD,CACA00B,QACE,wBAAI7+B,UAAU,cACZ,kBAAC,IAAD,CACAu+B,YAAU,EACVC,cAAe,KAEbyH,GAAUjiC,KAAI,SAACC,EAAMiD,GACnB,OACE,wBACAlN,IAAKkN,EACLzG,QAAS,WACPyM,eAAeC,QAAQ,eAAgBlJ,EAAKwrB,SAC5CuhC,GAAgB/sD,GAChB8rE,GAAoB,KAErB9rE,EAAKjE,gBAQhB6H,QAASioE,EACTz5B,gBAAiB,SAAC68B,GAAD,OAAKnD,EAAoBmD,IAC1C72C,QAAQ,QACR71B,UAAU,UACV,0BAAMxG,UAAU,gBAAhB,iBAEA,IAKJ,IAsBJ,yBACEA,UAAU,oBACV9B,MAAK,2BACAw0E,GAAM,CAAC,GAAI,OADX,IAGHhgD,eAAe,GAAD,OAAKggD,GAAM,CAAC,MAAMr0E,MAAlB,cACZq0E,GAAM,CAAC,GAAI,MAAMn0E,OADL,UAad+V,IACA,yBACEtU,UAAS,iBACT9B,MAAO,CACL60E,UAAU,WAAD,QAAc,GAAd,gBAAgC,IAAhC,SACTI,gBAAgB,WAAD,QAAc,GAAd,gBAAgC,IAAhC,SACfC,aAAa,WAAD,QAAc,GAAd,gBAAgC,IAAhC,SACZC,WAAW,WAAD,QAAc,GAAd,gBAAgC,IAAhC,SACVC,YAAY,WAAD,QAAc,GAAd,gBAAgC,IAAhC,WAGb,yBACEtzE,UAAS,yCAGRmyE,GAASnuE,KAAI,SAACgD,EAAOE,GACpB,IAAI4V,EAAMq1D,GAAShoE,OAEfopE,EAAM,IAAMz2D,EACZ02D,EAAUD,EAAMrsE,EAChBusE,EAHQ,IAITzkE,KAAK0kE,IAAIH,EAAM,IACf,EAAIvkE,KAAK0kE,IAAIH,EAAM,IAClBpD,GAAiBjpE,IAAU4V,EAAM,GACnC9e,YAAW,WACToyE,GAAiB,KAChB,KAOL,IAAI2C,EAAa5C,EAAD,kBAED,EAFC,mBAEmB,EAFnB,yBACDqD,EADC,2BACyBC,EADzB,OAGhB,OACE,uBACEz5E,IAAKkN,EACLhJ,MAAO,CAEL60E,UAAWA,EAEXI,gBAAiBJ,EACjBK,aAAcL,EACdM,WAAYN,EACZO,YAAaP,GAEf/yE,UAAW,OAASgH,EACpBvG,QAASmyE,GAAYjyE,KAAK,EAAMqG,GAChC2sE,aAAc,SAACn2E,GACb8yE,GAActpE,IAEhB4sE,aAAc,SAACp2E,GACb8yE,IAAc,WAOzB,IACH,yBAAKtwE,UACa,WAAhBysB,EACU,GAAV+iD,EACA,WACA,UACA,cAGJ,yBACExvE,UAAU,kCACV9B,MAAK,2BACAw0E,GAAM,CAAC,IAAK,OADZ,IAEHl/C,OAAO,GAAD,OAAKk/C,GAAM,CAAC,GAAI,KAAKn0E,OAArB,aAGR,kBAAC,GAAD,CACE4D,OAAQkuE,EACR7E,OAAQ,UACRjtE,OAAQ,IACRkuB,aAAcA,EACd3L,aAAcA,EACdyY,YAAaA,GACblL,aAAcA,GACdD,aAAcA,GACdjlB,UAAW0qE,GACXl+C,SAAS,EACT95B,KACEm2E,GAAiB5lE,OAAOyvC,QAKhC,yBACE77C,UAAU,0BACV9B,MAAK,2BAAOw0E,GAAM,CAAC,OAAd,IAAqBl/C,OAAO,KAAD,OAAOk/C,GAAM,CAAC,KAAKr0E,MAAnB,SAEhC,kBAAC,GAAD,CACE8D,OAAQkuE,EACR7E,OAAQ,cACRjtE,OAAwB,WAAhBkuB,GAAgD,WAAhBA,EAAL,IAAqC,IACxEtjB,UAAWmkE,GACX/zC,YAAaA,GACblL,aAAcA,GACdD,aAAcA,GACduH,SAAS,EACT95B,KAAsB,WAAhB4wB,EACNA,aAAcA,EACd3L,aAAcA,IAEhB,kBAAC,GAAD,CACE3e,OAAQkuE,EACR7E,OAAwB,WAAhB/+C,GAA6C,WAAhBA,EAA2B,iBAAkB,OAClFluB,OAAwB,WAAhBkuB,GAA6C,WAAhBA,EAA2B,IAAK,IACrEtjB,UAAW2jE,GACXn3C,SAAS,EACT4D,YAAaA,GACblL,aAAcA,GACdD,aAAcA,GACdvyB,MAAM,EACN4wB,aAAcA,EACd3L,aAAcA,EACd6qD,eAAgB,CACdmI,aAAc,SAACt2E,GACb+zE,GAAY/zE,IAEdu2E,WAAYzC,GACZ0C,SAAUxC,MAGd,kBAAC,GAAD,CACErvE,OAAQkuE,EACR7E,OAAwB,WAAhB/+C,GAA6C,WAAhBA,EAA2B,UAAW,OAC3E8M,YAAaA,GACbnL,aAAcA,GACdC,aAAcA,GACd9vB,OAAwB,WAAhBkuB,GAA6C,WAAhBA,EAA2B,IAAK,IACrEtjB,UAA2B,WAAhBsjB,GAA6C,WAAhBA,EAA2BuiD,GAAiBvuD,GACpFgM,aAAcA,EACd3L,aAAcA,EACd6qD,eAAgB,CACdsI,aAAc,SAACz2E,GACbo0E,GAAYp0E,IAEd02E,WAAYvC,GACZwC,SAAUnP,GACVoM,YAAaA,GACbJ,WAAYA,GACZF,UAAWA,GACXI,QAASA,IAEXv7C,SAAS,EAIT95B,MAAM,MAIZ,yBAAKmE,UAAU,eAAe9B,MAAK,eAAOw0E,GAAM,CAAC,KAAM,OACpD5qD,GAAmBA,EAAgBiC,cAK1C,KASR,IAAMgE,GAAkB,SAAC9wB,GAAW,IAC5BjB,EAAeiB,EAAfjB,WACN,OAAO,eAAKA,IAECiyB,qBAAQF,GAARE,CACbpJ,YAAWvb,eAAKwb,qBAAWokD,OCtgCvB5vD,I,OAAeiR,GAAfjR,YAMC,SAAS86D,KAA6B,IAAfp+C,EAAc,uDAAJ,GAEpC9D,EAQE8D,EARF9D,UACAH,EAOEiE,EAPFjE,SACA0kB,EAMEzgB,EANFygB,QACAn1B,EAKE0U,EALF1U,SACA2e,EAIEjK,EAJFiK,KAEA/I,EAEElB,EAFFkB,UACAE,EACEpB,EADFoB,SAEExtB,EACF0P,GAAU,mDAERgI,GAAsB,GAFd,iBAGD2e,GAAc,GAHb,sBAIR/N,GAAwB,EAJhB,qBAKGH,GAAsB,IALzB,OAK8B0kB,EAAS,YAAaA,EAAU,IAL9D,OAMRvf,EAAY,cAAgBA,EAAY,IANhC,OAOPE,EAAW,aAAeA,EAAW,IAE1C,OAAOpd,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,WACA,CACLA,WAAYJ,EAAKI,WACjBpgB,KAAK,2BAcAggB,EAAK4E,MAdN,IAeFwC,KACEpH,EAAK4E,KAAKwC,gBAAiBhc,MACvB4U,EAAK4E,KAAKwC,KAAKjf,KAAI,SAACgD,EAAOE,GACzB,IAAI4vC,EAAoC,IAA3Bj7B,EAAK4E,KAAK8U,UAAY,GAAUruB,EAAQ,EAErD,OADA4vC,EAAQA,GAAS,GAAKA,EAAQ,IAAMA,EAC7B,2BACF9vC,GADL,IAEEhN,IAAKkN,EACLA,MAAO4vC,OAGX,GACNxhB,SAAUvD,KAIP,CACL9V,WAAYJ,EAAKI,eAWpB,SAASo4D,KAA4B,IAAfr+C,EAAc,uDAAJ,GAGnCquC,EAEEruC,EAFFquC,OAGEz6D,EACF0P,GAAU,mDAER+qD,GAAkB,IAGtB,OAAOrqD,GACJK,IAAI,CAAEzQ,MAAK0Q,cAAe,IAC1BU,MAAK,SAACC,GAAD,OAASA,EAAIY,UAClBb,MAAK,SAACa,GACL,OAAwB,MAApBA,EAAKI,YAAoBJ,EAAK4E,KAEzB,CACLxE,WAAYJ,EAAKI,WACjBwE,KAAO5E,EAAK4E,MAGP,CACLxE,WAAY,QC/CtB,SAASqsD,GAAWtrE,EAAOuD,GAAM,IAE7BoJ,EAOE3M,EAPF2M,SACA8O,EAMEzb,EANFyb,QAH4B,EAS1Bzb,EALF+tB,QAAWrJ,EAJiB,EAIjBA,aAAcJ,EAJG,EAIHA,SAEzB6mD,GAN4B,EAIO5mD,UAKjCvkB,EAJF22B,UAIE32B,EAHFmrE,UAN4B,EAS1BnrE,EAFF8iB,SAAYgD,EAPgB,EAOhBA,SACCvkB,GARe,EAONwkB,WAEpB/lB,EADF02B,UAAan1B,QARe,EAUQ4kB,mBAAS,IAVjB,mBAUvB8yB,EAVuB,KAUVC,EAVU,OAyBZ/yB,mBAAS,CACzB,CAAEtiB,MAAO,EAAGvG,MAAO6tE,EAASC,OAAS,2BAAQkM,YAAY,GACzD,CAAEzzE,MAAO,EAAGvG,MAAO,8CAAYg6E,YAAY,GAC3C,CAAEzzE,MAAO,EAAGvG,MAAO,wCAAWg6E,YAAY,GAC1C,CAAEzzE,MAAO,EAAGvG,MAAO,2BAAQg6E,YAAY,GACvC,CAAEzzE,MAAO,EAAGvG,MAAO,2BAAQg6E,YAAY,GACvC,CAAEzzE,MAAO,EAAGvG,MAAO,2BAAQg6E,YAAY,GACvC,CAAEzzE,MAAO,EAAGvG,MAAO,iCAASg6E,YAAY,GACxC,CAAEzzE,MAAO,EAAGvG,MAAO,iCAASg6E,YAAY,GACxC,CAAEzzE,MAAO,EAAGvG,MAAO,mDAAYg6E,YAAY,GAC3C,CAAEzzE,MAAO,EAAGvG,MAAO,mDAAYg6E,YAAY,GAC3C,CAAEzzE,MAAO,GAAIvG,MAAO,mDAAYg6E,YAAY,GAC5C,CAAEzzE,MAAO,GAAIvG,MAAO,yDAAag6E,YAAY,GAC7C,CAAEzzE,MAAO,GAAIvG,MAAO,uCAAUg6E,YAAY,GAC1C,CAAEzzE,MAAO,GAAIvG,MAAO,uCAAUg6E,YAAY,GAC1C,CAAEzzE,MAAO,GAAIvG,MAAO,uCAAUg6E,YAAY,KAfrCC,EAzBuB,sBA0CIpxD,oBAAS,GA1Cb,mBA0CvBqxD,EA1CuB,KA0CZC,EA1CY,OA2CFtxD,oBAAS,GA3CP,gCA+CYA,mBAAS,CAAC,EAAG,EAAG,EAAG,KA/C/B,mBA+CvBuxD,EA/CuB,KA+CRC,EA/CQ,OAiDJxxD,mBAAS,CAEjC8c,KAAM,GAENwW,QAAS,GACTn1B,SAA2B,IAAjBI,EAAqB,GAAKJ,IAtDR,mBAiDvByT,EAjDuB,KAiDhB4jB,EAjDgB,OA2DAx1B,oBAAS,GA3DT,mBA2DvBtb,EA3DuB,KA+DxByoD,GA/DwB,KA4DZ/nC,iBAAO,MACNA,iBAAO,MAETxC,mBAAQ,WACvB,IAAIlqB,EAAO,GASX,OARIinB,aAAoB7b,QACtBpL,EAAOinB,EAAS9e,KAAI,SAACgD,GAAD,MAAY,CAC9BnG,MAAOmG,EAAM4tE,KACbt6E,MAAO0M,EAAM6tE,aAEfl8B,EAAS,2BAAK5jB,GAAN,IAAakL,KAAMpkC,EAAK,GAAGgF,UAG9BhF,IAEN,CAACinB,KAgBEqzB,EAAW5tB,iBAAO,IAElBssB,EAAU9uB,mBAAQ,WACtB,IAAI+uD,EAA+B,IAAjBpzD,EAEdqzD,EAAa,GACbC,EAAc,CAChB,CACE16E,MAAO,eACP+D,MAAO,GACPrE,IAAK,QAEL++C,MAAO,SACPxE,UAAW,QACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,QAKvB,CACEvB,MAAO6tE,EAASC,OAAS,eACzB/pE,MAAO,IAEPrE,IAAK,aACL++C,MAAO,SAEPhqC,OAAQ,SAAClT,GAAU,IACX2xD,EAAqB3xD,EAArB2xD,SAAU+W,EAAW1oE,EAAX0oE,OAChB,OACE,0BACE9jE,QAAS,WACPgY,EAAQ3N,KAAK,iBAAmBy5D,IAElCvkE,UAAU,mBACV1F,MAAOkzD,GAENA,GAAsB,QAK/B,CACElzD,MAAO6tE,EAASC,OAAS,eACzB/pE,MAAO,IAGPrE,IAAK,QACL++C,MAAO,SACPxE,UAAW,QACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,QAKvB,CACEvB,MAAO,+DACP0F,UAAW,UACX5F,SAAU,CACR,CACEE,MAAO,2BAEPy+C,MAAO,SACP/+C,IAAK,eACLgG,UAAW,iBAEX3B,MAAO,GAEP0Q,OAAQ,SAAClT,GAAU,IACXy9B,EAAiBz9B,EAAjBy9B,aACN,OACE,0BAAMt5B,UAAU,cAAc1F,MAAOg/B,GAClCA,EAAeA,EAAe,SAAM,QAK7C,CACEh/B,MAAO,2BAEPy+C,MAAO,SACP/+C,IAAK,YACLgG,UAAW,iBAEX3B,MAAO,GACPk2C,UAAW,YACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,EAAOA,EAAO,SAAM,QAK7B,CACEvB,MAAO,2BAEPy+C,MAAO,SACP/+C,IAAK,cACLgG,UAAW,iBAEX3B,MAAO,GACPk2C,UAAW,cACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,EAAOA,EAAO,SAAM,SAK7BuQ,OACC0oE,EAoBG,GAnBA,CACE,CACEx6E,MAAO,2BAEPy+C,MAAO,SACP/+C,IAAK,cACLgG,UAAW,iBAEX3B,MAAO,GACPk2C,UAAW,cACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,WASjC,CACEvB,MAAO,wCACP0F,UAAW,UACX5F,SAAU,CACR,CACEE,MAAO,2BAEPy+C,MAAO,SACP/+C,IAAK,SACLgG,UAAW,iBAEX3B,MAAO,GACPk2C,UAAW,SACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,EAAOA,EAAO,SAAM,QAK7B,CACEvB,MAAO,2BAEPy+C,MAAO,SACP/+C,IAAK,cACLgG,UAAW,iBAEX3B,MAAO,GACPk2C,UAAW,cACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,EAAOA,EAAO,SAAM,UAOjC,CACEvB,MAAO,2BACP0F,UAAW,UACX5F,SAAU,CACR,CACEE,MAAO,qBAEPy+C,MAAO,SACP/+C,IAAK,eACLgG,UAAW,iBAEX3B,MAAO,GACPk2C,UAAW,eACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,QAKvB,CACEvB,MAAO,mDAEPy+C,MAAO,SACP/+C,IAAK,OACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,eACXxlC,OAAQ,SAAClT,GACP,IAAI4kB,EAAO5kB,EAAK,IAAM,CACpB0oE,OAAQ,OACR/W,SAAU,mDACVn4B,MAAO,GAET,OACE,0BAAMr1B,UAAU,cAAc1F,MAAOmmB,EAAK4U,OACxB,IAAf5U,EAAK4U,OAAe5U,EAAK4U,MAAQ5U,EAAK4U,MAAQ,SAAM,QAK7D,CACE/6B,MAAO,iCAEPy+C,MAAO,SACP/+C,IAAK,OACLgG,UAAW,iBAEX3B,MAAO,GACPk2C,UAAW,eACXxlC,OAAQ,SAAClT,GACP,IAAI4kB,EAAO5kB,EAAK,IAAM,CACpB0oE,OAAQ,OACR/W,SAAU,iCACVn4B,MAAO,GAET,OACE,0BAAMr1B,UAAU,cAAc1F,MAAOmmB,EAAK4U,OACxB,IAAf5U,EAAK4U,OAAe5U,EAAK4U,MAAQ5U,EAAK4U,MAAQ,SAAM,QAK7D,CACE/6B,MAAO,eAEPy+C,MAAO,SACP/+C,IAAK,OACLgG,UAAW,iBAEX3B,MAAO,GACPk2C,UAAW,eACXxlC,OAAQ,SAAClT,GACP,IAAI4kB,EAAO5kB,EAAK,IAAM,CACpB0oE,OAAQ,OACR/W,SAAU,eACVn4B,MAAO,GAET,OACE,0BAAMr1B,UAAU,cAAc1F,MAAOmmB,EAAK4U,OACxB,IAAf5U,EAAK4U,OAAe5U,EAAK4U,MAAQ5U,EAAK4U,MAAQ,SAAM,UAOjE,CACE/6B,MAAO,2BACP0F,UAAW,UACX5F,SAAU,CACR,CACEE,MAAO,mDAEPy+C,MAAO,SACP/+C,IAAK,qBACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,qBACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,QAKvB,CACEvB,MAAOw6E,EAAc,eAAO,iCAE5B/7B,MAAO,SACP/+C,IAAK,SACLgG,UAAW,iBAEX3B,MArSQ,GAqSAy2E,EAAc,GAAK,IAC3BvgC,UAAW,iBACXxlC,OAAQ,SAAClT,GACP,IAAI4kB,EAAO5kB,EAAK,IAAM,CACpB0oE,OAAQ,SACR/W,SAAU,eACVn4B,MAAO,GAET,OACE,0BAAMr1B,UAAU,cAAc1F,MAAOmmB,EAAK4U,OACxB,IAAf5U,EAAK4U,OAAe5U,EAAK4U,MAAQ5U,EAAK4U,MAAQ,SAAM,QAK7D,CACE/6B,MAAOw6E,EAAc,qBAAQ,2BAE7B/7B,MAAO,SACP/+C,IAAK,SACLgG,UAAW,iBAEX3B,MAAO,GACPk2C,UAAW,iBACXxlC,OAAQ,SAAClT,GACP,IAAI4kB,EAAO5kB,EAAK,IAAM,CACpB0oE,OAAQ,SACR/W,SAAU,qBACVn4B,MAAO,GAET,OACE,0BAAMr1B,UAAU,cAAc1F,MAAOmmB,EAAK4U,OACxB,IAAf5U,EAAK4U,OAAe5U,EAAK4U,MAAQ5U,EAAK4U,MAAQ,SAAM,QAK7D,CACE/6B,MAAOw6E,EAAc,eAAO,2BAE5B/7B,MAAO,SACP/+C,IAAK,SACLgG,UAAW,iBAEX3B,MAAO,GACPk2C,UAAW,iBACXxlC,OAAQ,SAAClT,GACP,IAAI4kB,EAAO5kB,EAAK,IAAM,CACpB0oE,OAAQ,SACR/W,SAAU,eACVn4B,MAAO,GAET,OACE,0BAAMr1B,UAAU,cAAc1F,MAAOmmB,EAAK4U,OACxB,IAAf5U,EAAK4U,OAAe5U,EAAK4U,MAAQ5U,EAAK4U,MAAQ,SAAM,UAOjE,CACE/6B,MAAO,2BACP0F,UAAW,UACX5F,SAAU,CACR,CACEE,MAAO,iCAEPy+C,MAAO,SACP/+C,IAAK,YACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,YACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,QAKvB,CACEvB,MAAO,6CAEPy+C,MAAO,SACP/+C,IAAK,YACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,YACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,UAO3B,CACEvB,MAAO,iCAGPy+C,MAAO,SACP/+C,IAAK,aACLgG,UAAW,wBAEX3B,MAAO,IACPk2C,UAAW,aACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,QAKvB,CACEvB,MAAO,iCAGPy+C,MAAO,SACP/+C,IAAK,cACLgG,UAAW,wBAEX3B,MAAO,IACPk2C,UAAW,cACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,QAKvB,CACEvB,MAAO,mDACP0F,UAAW,UACX5F,SAAU,CACR,CACEE,MAAO,iCAEPy+C,MAAO,SACP/+C,IAAK,mBACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,mBACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,QAKvB,CACEvB,MAAO,uCAEPy+C,MAAO,SACP/+C,IAAK,4BACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,4BACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,EAAOwW,GAAcxW,GAAQ,QAKtC,CACEvB,MAAO,yDAEPy+C,MAAO,SACP/+C,IAAK,qBACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,qBACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,EAA6B,IAAtBwW,GAAcxW,GAAc,IAAM,UAOtD,CACEvB,MAAO,mDACP0F,UAAW,UACX5F,SAAU,CACR,CACEE,MAAO,2BAEPy+C,MAAO,SACP/+C,IAAK,aACLgG,UAAW,iBAEX3B,MAAO,GACPk2C,UAAW,aACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,QAKvB,CACEvB,MAAO,uCAEPy+C,MAAO,SACP/+C,IAAK,sBACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,sBACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,QAKvB,CACEvB,MAAO,yDAEPy+C,MAAO,SACP/+C,IAAK,qBACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,qBACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,EAA6B,IAAtBwW,GAAcxW,GAAc,IAAM,UAOtD,CACEvB,MAAO,mDACP0F,UAAW,UACX5F,SAAU,CACR,CACEE,MAAO,uCAEPy+C,MAAO,SACP/+C,IAAK,cACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,cACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,QAKvB,CACEvB,MAAO,uCAEPy+C,MAAO,SACP/+C,IAAK,eACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,eACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,EAAOwW,GAAcxW,GAAQ,QAKtC,CACEvB,MAAO,+DAEPy+C,MAAO,SACP/+C,IAAK,mBACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,mBACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,EAA6B,IAAtBwW,GAAcxW,GAAc,IAAM,UAOtD,CACEvB,MAAO,yDAGPy+C,MAAO,SACP/+C,IAAK,eACLgG,UAAW,wBAEX3B,MAAO,IACPk2C,UAAW,eACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,EAAOwW,GAAcxW,GAAQ,QAKtC,CACEvB,MAAO,uCACP0F,UAAW,UACX5F,SAAU,CACR,CACEE,MAAO,uCAEPy+C,MAAO,SACP/+C,IAAK,kBACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,kBACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,QAKvB,CACEvB,MAAO,uCAEPy+C,MAAO,SACP/+C,IAAK,kBACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,kBACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,EAAOwW,GAAcxW,GAAQ,QAKtC,CACEvB,MAAO,2BAEPy+C,MAAO,SACP/+C,IAAK,oBACLgG,UAAW,iBAEX3B,MAAO,GACPk2C,UAAW,oBACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,QAKvB,CACEvB,MAAO,6CAEPy+C,MAAO,SACP/+C,IAAK,oBACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,oBACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GACzB,IAATA,GAAcA,EAA6B,IAAtBwW,GAAcxW,GAAc,IAAM,UAOpE,CACEvB,MAAO,uCACP0F,UAAW,UACX5F,SAAU,CACR,CACEE,MAAO,uCAEPy+C,MAAO,SACP/+C,IAAK,mBACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,mBACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,QAKvB,CACEvB,MAAO,uCAEPy+C,MAAO,SACP/+C,IAAK,kBACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,kBACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,GAAc,QAKvB,CACEvB,MAAO,6CAEPy+C,MAAO,SACP/+C,IAAK,oBACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,oBACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GACzB,IAATA,GAAcA,EAA6B,IAAtBwW,GAAcxW,GAAc,IAAM,UAOpE,CACEvB,MAAO,uCACP0F,UAAW,UACX5F,SAAU,CACR,CACEE,MAAO,+DAEPy+C,MAAO,SACP/+C,IAAK,oBACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,oBACXxlC,OAAQ,SAAClT,GAEP,IAAI+V,EAAOF,OAAO7V,GACdvB,EAAQ,GACZ,GAAKsX,EAAO,EACVtX,EAAQ,sCACH,GAAKsX,EAAO,GACjBtX,EAASsX,EAAO,oBACX,GAAKA,GAAQ,GAAI,CACtB,IAAI8b,EAAW9b,EAAO,GACtBtX,GACIsX,EAAO,IAAIK,UACb,gBACCyb,EAAS,EAAIA,EAAOzb,UAAY,eAAO,IAE5C,OACE,0BAAMjS,UAAU,cAAc1F,MAAOA,GAClCA,GAAgB,QAMzB,CACEA,MAAO,mDAEPy+C,MAAO,SACP/+C,IAAK,yBACLgG,UAAW,iBAEX3B,MAAO,IACPk2C,UAAW,yBACXxlC,OAAQ,SAAClT,GACP,OACE,0BAAMmE,UAAU,cAAc1F,MAAOuB,GAClCA,EAA6B,IAAtBwW,GAAcxW,GAAc,IAAM,UAOtD,CACEvB,MACE,kBAAC26E,GAAD,CACEP,cAAeA,EACfQ,cAAe,SAAC13E,GACdm3E,EACEn3E,EAAE23E,MAAK,SAACjkE,EAAGkkE,GACT,OAAOlkE,EAAIkkE,OAKjBb,QAASA,IAGbx7B,MAAO,SACP16C,MAAO,GACPg3E,MAAO,QACPr1E,UAAW,wBAGX+O,OAAQ,SAAClT,GACP,OAAO,0BAAMmE,UAAU,qBAiD7B,OA7CA+0E,EAAaA,EAAW3oE,OACtB4oE,EAAYplE,MAAM,EAAoB,IAAjB8R,EAAqB,EAAI,IAQhDszD,EAAY/oE,SAAQ,SAACjF,EAAOE,GAEtBA,GAAS,GAAKA,IAAU8tE,EAAY7qE,OAAS,IAI7CuqE,EAAcnoE,MAAK,SAAC2E,GAClB,OAAOA,EAAI,IAAMhK,OAMnBF,EAAM1M,MAAQ,GACd0M,EAAM3I,MAAQ,EACd2I,EAAM+vB,QAAS,EACX/vB,EAAM5M,SACR4M,EAAM5M,SAAW4M,EAAM5M,SAAS4J,KAAI,SAACsnE,EAAGphE,GAOtC,OANAohE,EAAEhxE,MAAQ,GACVgxE,EAAEjtE,MAAQ,EACVitE,EAAEv0C,QAAS,EACXu0C,EAAEv8D,OAAS,WACT,MAAO,IAEFu8D,KAGTtkE,EAAM+H,OAAS,WACb,MAAO,KAlBXgmE,EAAWjqE,KAAK9D,OAyBtB+tE,EAAWjqE,KAAKkqE,EAAYA,EAAY7qE,OAAS,IAC1C4qE,IAEN,CAAC5M,EAAUuM,EAAe7sE,IAsC7B,OAnCA8b,qBAAU,WACH6wD,GAGa,mBAFL9mE,GAAY/D,EAASgE,UAEvB,IACPwoC,EAAShtB,QAAQgN,aAIrBq+C,GAAaC,GAAa,KAEzB,CAAC9qE,EAASgE,WAyBX,yBAAK3N,UAAU,aAAa9B,MAAO,CAAEK,OAAQA,IAC3C,yBAAKyB,UAAU,UACb,yBAAKA,UAAU,cACZswD,EAASnmD,OAAS,GACjB,kBAACZ,GAAD,CACElL,MAAO,IACPE,OAAQ,IACRoI,SAAU2pD,EACVh2D,MAAO,iCACPuG,MAAOk0B,EAAMkL,KACbjgC,UAAU,kBACV0D,SAAU,SAAClG,KACXqJ,SAAU,SAACrJ,EAAGsJ,GACZ6xC,EAAS,2BAAK5jB,GAAN,IAAakL,KAAMziC,QAIf,IAAjBkkB,GACC,kBAACnY,GAAD,CACElL,MAAO,IACPE,OAAQ,IACRoI,SAAU2pD,EACVh2D,MAAO,2BACPuG,MAAOk0B,EAAMkL,KACbjgC,UAAU,kBACV0D,SAAU,SAAClG,KACXqJ,SAAU,SAACrJ,EAAGsJ,GACZ6xC,EAAS,2BAAK5jB,GAAN,IAAakL,KAAMziC,SAKnC,yBAAKwC,UAAU,cACb,kBAAC,GAAD,CACEA,UAAU,cACViC,MAAOg0C,EACP1yC,YAAa,eAAO4kE,EAASC,OAAS,2BACtC1kE,SAAU,SAAClG,GACT04C,EAAe14C,EAAEwB,OAAO6B,QAE1BmC,cAAe,SAACxF,GACdm7C,EAAS,2BAAK5jB,GAAN,IAAa0hB,QAASR,MAEhCzyC,eAAgB,SAAChG,GACf04C,EAAe,IACfyC,EAAS,2BAAK5jB,GAAN,IAAa0hB,QAAS,WAMtC,yBAAKz2C,UAAU,YACb,kBAAC,aAAD,KACE,kBAAC,GAAD,CAIEs1E,OAAQ,CAAEt5C,EAAG,eACbh8B,UAAU,iBACV60C,QAASA,EAGT9f,MAAOA,EACPyB,aAAc,SAAC36B,KACf0E,IAAK41C,EACLnhB,IAAKo/C,QAOjB,SAASa,GAASj4E,EAAOuD,GAAM,IACvBm0E,EAA0C13E,EAA1C03E,cAAeQ,EAA2Bl4E,EAA3Bk4E,cAAeX,EAAYv3E,EAAZu3E,QADR,EAGEpxD,oBAAS,GAHX,mBAGrBtb,EAHqB,KAGZi5B,EAHY,KAKtB+oC,EAAYthD,iBAAO,MACnBgtD,EAAahtD,iBAAO,MA6B1B,OA5BAnB,2BAAgB,WAId,IAAMhY,EAAK,SAACsd,GACV,IAAIq9C,GAAQ,EACRD,EAAMD,EAAU1gD,QAChBqsD,EAAOD,EAAWpsD,QASpB4gD,IANCD,EAAI/mE,SAAS2pB,EAAK1tB,SACjBw2E,GAASA,EAAKzyE,SAAS2pB,EAAK1tB,SAShC8hC,GAAYipC,IAGd,OADAnrE,SAASwD,iBAAiB,QAASgN,GAC5B,WACLxQ,SAAS0oB,oBAAoB,QAASlY,MAEvC,IAGD,yBAAKpP,UAAU,gBACb,kBAAC,KAAD,CACEyG,iBAAgB,wBAGhBgvE,sBAAsB,EACtBxvE,MAAO,OACP8yC,MAAO,CACLixB,OAAQ,CAAC,KAAM,MACfjtC,OAAQ,CAAC,GAAI,IAEbktC,SAAU,CAAEC,SAAS,EAAMC,SAAS,IAGtCtiE,QAASA,EACTvN,MACE,yBAAKiG,IAAKg1E,EAAYv1E,UAAS,iBAC7B,uBAAGA,UAAU,cAAb,sBACA,kBAAC,GAAD,CACEa,MAAO6zE,EACPhxE,SAAU,SAAClG,GACT03E,EAAc13E,KAQhB,yBAAKwC,UAAU,YACb,kBAAC,aAAD,KACGu0E,EAAQvwE,KAAI,SAACgD,EAAOE,GACnB,OACE,yBAAKlN,IAAKkN,EAAOlH,UAAU,gBACzB,kBAAC,GAAD,CACEa,MAAOmG,EAAMnG,MACb2H,cACuB7G,IAArBqF,EAAMstE,aAA6BttE,EAAMstE,YAG1CttE,EAAM1M,aAMZ,OAKb,uBACEmG,QAAS,WACPqgC,GAAW,IAEbvgC,IAAKspE,MAMf,IAAM97C,GAAkB,SAAC9wB,GAAW,IAAD,EAG7BA,EADFjB,WAEF,MAAO,CAAE+uB,QAJwB,EAEjBA,QAEE4I,UAJe,EAERA,UAEID,UAJI,EAEGA,UAEI5T,SAJP,EAEcA,WAIlCmO,qBAAQF,GAARE,CACbpJ,YAAWvb,eAAKwb,qBAAWwjD,OCxuC7B,SAASoN,GAAa14E,EAAOuD,GAAM,IAE/BC,EAMExD,EANFwD,GAF8B,GAQ5BxD,EALFwZ,gBAKExZ,EAJF+tB,SAAyBzJ,GAJK,EAInBR,aAJmB,EAILQ,UACzB6mD,EAGEnrE,EAHFmrE,SAEApY,GACE/yD,EAFF02B,UAAar1B,MAEXrB,EADF+yD,WAP8B,EASE5sC,mBAAS,CACzC+C,MAAO,iBACPyB,QAAS,yCAXqB,mBASzBguD,EATyB,KAa1Bzf,GAb0B,KAafnwC,mBAAQ,WACvB,IAAIvlB,IAAK2nE,EACP,MAAO,GAFoB,IAIvByN,EAAiDzN,EAAjDyN,iBAAkBC,EAA+B1N,EAA/B0N,gBACpBh6E,GADmDssE,EAAd2N,UAC9B,CAAEr0D,YAAao0D,EAAiBn0D,aAAck0D,IAYzD,OAXyB,IAArBA,GAEF/5E,EAAKylB,SAAW9gB,EAChB3E,EAAK0lB,UAAY,IACa,IAArBq0D,GACT/5E,EAAKylB,SAAWA,EAChBzlB,EAAK0lB,UAAY/gB,GAGjB3E,EAAK6lB,cAAe,EAEf7lB,IAEN,CAACssE,EAAS3nE,KACb,OACE,yBAAKR,UAAU,gBACZk2D,GAAUA,EAASx0C,aAClB,kBAAC,GAAD,CACEnmB,KAAM,SACN26D,SAAUA,EACVnG,UAAWA,EACX7pC,MAAOyvD,EAAUzvD,QAGnB,IAeR,IAAM6H,GAAkB,SAAC9wB,GAAW,IAAD,EAO7BA,EALFjB,WAMF,MAAO,CAAE+uB,QARwB,EAG7BA,QAKcvU,gBARe,EAI7BsR,gBAAmBtR,gBAIYkd,UARF,EAK7BA,YAKSzF,qBAAQF,GAARE,CACbpJ,YAAWvb,eAAKwb,qBAAW4wD,OCjE7B,SAASK,GAAO/4E,EAAOuD,GAAM,IAEzBoJ,EASE3M,EATF2M,SAEAgqB,GAOE32B,EARFkqB,UAQElqB,EAPF22B,WACAnN,EAMExpB,EANFwpB,UALwB,EAWtBxpB,EALF+tB,QAAWrJ,EANa,EAMbA,aAEEnjB,GARW,EAMC+iB,SAND,EAMWC,UAKjCvkB,EAJFkpB,MAIElpB,EAHF02B,UAAan1B,QAEbqM,GACE5N,EAFF+yD,UAEE/yD,EADF4N,OAVwB,EAYQuY,mBAAS,IAZjB,mBAYnBliB,EAZmB,KAYRkiE,EAZQ,OAaNhgD,mBAAS,IAbH,mBAanBq0B,EAbmB,KAafsgB,EAbe,OAcQ30C,mBAAS,MAdjB,mBAcnB6yD,EAdmB,KAcRC,EAdQ,OAeI9yD,oBAAS,GAfb,mBAenBwS,EAfmB,KAeVC,EAfU,KAmBpBuyC,EAAWpiD,mBAAQ,WACvB,OAAO4N,EAAUjS,GACbiS,EAAUjS,GACV,CACEA,aAAc,EACdD,YAAa,EACbnnB,MAAO,GACPozD,IAAK,GACL0a,OAAQ,GACRC,WAAY,MAEjB,CAAC10C,EAAWjS,IAgCf,OA/BAiC,qBAAU,WACRw/C,EAAav4D,KACZ,CAACA,IAEJ+Y,qBAAU,WACR,GAAIha,EAASgE,SAAU,CACrB,IAAI8V,EAAO/V,GAAY/D,EAASgE,UAChB,iBAAZ8V,EAAK,IAAyBA,EAAK,KACrCnW,QAAQC,IAAI46D,GACZkM,GAAa,CAAEhQ,OAAQ5gD,EAAK,KAAMzI,MAAK,SAACC,GACf,MAAnBA,EAAIgB,YACN67C,EAAMr0C,EAAK,IACXwyD,EAAah7D,EAAIwF,QAGjBw1D,GAAa,GAET9N,EAASyN,iBAEXpvD,EAAU,GAAI,GAAI,iBAAkB,IAAI,eAExCA,EAAU,GAAI,GAAI,iBAAkB,IAAI,gBAG5CoP,GAAW,UAKhB,IAGD,kBAAC,GAAD,CACEt0B,SAAwB,WAAdL,GAA0B00B,EACpCv0B,IAAK,wBACLC,SAAS,GAET,yBAAKrB,UAAU,SAAS9B,MAAO,CAAEK,OAAQA,IACxB,SAAd0C,EACC,kBAAC,GAAD,CAAYknE,SAAUA,IAEtB,qCAEa,WAAdlnE,EACC,kBAAC,GAAD,CACEknE,SAAUA,EACVpY,UAAWimB,EACXx1E,GAAIg3C,IAGN,uCAOV,IAAMzpB,GAAkB,SAAC9wB,GAAW,IAElBy6D,EAEZz6D,EAFFu8C,WAAcke,kBAFiB,EAI7Bz6D,EADFjB,WAEF,MAAO,CAAE07D,oBAAmB3sC,QALK,EAGjBA,QAEqB2I,UALJ,EAGRA,UAEuBC,UALf,EAGGA,YAIvB1F,qBAAQF,GAARE,CAAyBpJ,YAAWvb,eAAKwb,qBAAWixD,OC5EnE,SAASG,GAAIl5E,EAAOuD,GAAK,IAGrBkY,EAkBEzb,EAlBFyb,QACA9O,EAiBE3M,EAjBF2M,SAJqB,EAqBnB3M,EAhBFhB,WAEEL,GAPmB,EAMnBqb,MANmB,EAOnBrb,UAEmBouB,GATA,EAQnB1vB,OARmB,EASnBytB,gBAAmBiC,YATA,IAUnBgB,QAAWzJ,EAVQ,EAURA,SAAUC,EAVF,EAUEA,UAAWE,EAVb,EAUaA,YAAaC,EAV1B,EAU0BA,aAV1B,KAUwCZ,aAVxC,EAWnBnB,SAAYW,OAUZtjB,EARFw8C,WACEke,mBAESye,GAhBU,EAejBC,QAfiB,EAgBjBze,OAOJ37D,GAvBqB,EAiBjB3B,OAIF2C,EADFq5E,MAIEr5E,EADFhB,YAaFsR,QAAQC,IAAI,uCAAU5R,EAAUqB,GAoBhC,IAAIvB,EAAW0xB,wBAxDQ,EAyDahK,mBAAS,4BAzDtB,gCA0DeA,mBAAS,yCA1DxB,mBA0DhBmzD,EA1DgB,aA2DmBnzD,mBAAS,aA3D5B,gCA6DWA,wBAASxhB,IA7DpB,mBA6DhBggB,EA7DgB,KA6DL40D,EA7DK,OA+DCpzD,mBAAS,IA/DV,mBA+DVO,GA/DU,aAkEgBP,oBAAS,GAlEzB,mBAkEfqzD,EAlEe,KAkEFC,EAlEE,OAoEatzD,mBAAS,MApEtB,mBAoEhBuzD,EApEgB,aAsEWvzD,mBAAS,OAtEpB,mBAsEhBwzD,EAtEgB,aAwESxzD,mBAAS,OAxElB,mBAwEhBf,EAxEgB,KAwENo0C,EAxEM,OA0ESrzC,oBAAS,GA1ElB,mBA0EhByzD,GA1EgB,KA0ENC,GA1EM,QA4EW1zD,mBAAS,MA5EpB,qBA4EhB2zD,GA5EgB,gBA+Ea3zD,mBAAS,iBA/EtB,qCAiFaA,mBAAS,KAjFtB,qBAqFjB4zD,IArFiB,YAqFNxuD,iBAAO,KAIlByuD,GAAWjxD,mBAAQ,WACvB,IAAIlqB,EAAO,CAAEo7E,WAAY,2BAAQC,aAAc,4BAC/C,OAAQx1D,GACN,KAAK,EACH7lB,EAAO,CAAEo7E,WAAY,2BAAQC,aAAc,4BAK/C,OAAOr7E,IACN,CAAC6lB,IAGJiC,qBAAU,WACR,IAAIF,EAAO/V,GAAY/D,EAASgE,UAChCL,QAAQC,IAAI,uCAAUkW,GACtB,IAAI0zD,EAAa3tE,GAAiB,cAGlB,SAAZia,EAAK,IAAiBA,EAAK,IAEb,YAAZA,EAAK,IAEPozD,IAAY,GAEdN,EAAa,QAEb/f,EAAY,KAOO,YAAf2gB,GACF3gB,EAAY,UAEZ+f,EAAa,aAGb/f,EAAY,UACZ+f,EAAa,WAER9yD,EAAK,KAGR8yD,EAAa,QAEb/f,EAAY,QAKjB,IACHpvC,2BAAgB,WAEd,GAAKzF,EAAL,CAGA,IAAI8B,EAAO/V,GAAY/D,EAASgE,UAchC,GAbAL,QAAQC,IAAI,kBAAmBkW,EAAMrlB,OAAOi4E,OAU5C3yD,EAAQD,GAGU,YAAd9B,EAAyB,CAE3B,IAAK8B,EAAK,IAAM9nB,aAAoBsL,OAAStL,EAASwO,OAAS,EAO7D,OAHAosE,EAAa,aAEb/f,EAAY,IAEP,GAAgB,kBAAZ/yC,EAAK,GAWd,YATIA,EAAK,IAuEf,WACE,IAAIG,EAAO,GACX,IAAK,IAAI5pB,KAAOib,UACd2O,GAAQ3O,UAAUjb,GAAO,IAAMib,UAAUjb,GAAO,GAElDye,EAAQ3N,KAAK8Y,GAvEPwzD,CAAa,iBAuBjB,IAAIv0D,GAAU,EAiBd,GAhBApX,GAAQ9P,GAAU,SAACqL,IAEfA,EAAMA,MAAMhN,MAAQypB,EAAK,IACxBzc,EAAMA,MAAM3M,kBAAkB4M,OAC7BD,EAAMA,MAAM3M,OAAOkS,MAAK,SAAC3B,GAAD,OAAW6Y,EAAK,KAAO7Y,EAAM5Q,UAEvD6oB,GAAU,OAUTA,GAAWlnB,EAASwO,OAAS,EAW9B,OAHAosE,EAAa,aAEb/f,EAAY,IAKlB,MAAkB,YAAd70C,GACF40D,EAAa,aAEb/f,EAAY,UAHd,KAQC,CAAC7sD,EAAUhO,EAAUgmB,IAWxB,IAAMkJ,GAAWpE,sBAAW,uCAE1B,WAAO5qB,GAAP,SAAAqV,EAAA,6DACe,EAEFxD,GAAY/D,EAASgE,UAS5B9R,IAGFA,EAAK+jB,gBACHnkB,EAAS,CACPF,KAAMgB,EAAc1B,oBACpBgB,KAAMA,EAAK+jB,iBAEf/jB,EAAK8jB,UACHlkB,EAAS,CACPF,KAAMgB,EAAczB,qBACpBe,KAAMA,EAAK8jB,WAEf9jB,EAAK6jB,iBACHjkB,EAAS,CACPF,KAAMgB,EAAcxB,8BACpBc,KAAMA,EAAK6jB,kBAEf7jB,EAAK0kB,MACH9kB,EAAS,CACPF,KAAMgB,EAAcvB,oBACpBa,KAAMA,EAAK0kB,OAEf1kB,EAAKikB,UACHrkB,EAAS,CACPF,KAAMgB,EAActB,qBACpBY,KAAMA,EAAKikB,WAEfjkB,EAAKokB,cACHxkB,EAAS,CACPF,KAAMgB,EAAcpB,yBACpBU,KAAMA,EAAKokB,eAEfpkB,EAAKmb,OACHnb,EAAKmb,OACLvb,EAASc,EAAcR,cAAc,CAAEib,MAAOnb,EAAKmb,UA/CzD,kBACe,MADf,2CAF0B,sDA4H1B,CAAC2K,IAGG01D,GAAY5wD,uBAChB,SAACuP,MASD,CAAC1U,EAAUC,EAAWE,IAGlB61D,GAEJ,WAAa,IAAD,EAK4B,oBAA/BP,GAAS5tD,QAAQ3C,YACtB,EAAAuwD,GAAS5tD,SAAQ3C,UAAjB,oBAWN,OACE,kBAAC,GAAD,CACEqE,SAAUA,GACVtvB,KAAMomB,EACNhmB,SAAUA,EACV2jB,SAAU8C,EACVc,cAAeuzD,EACfl3D,SAAUq3D,GACV56E,WAAYA,EAEZ6O,OACE,kBAAC,GAAD,CACEmqB,IAAKqiD,GAEL5N,aAAc,SAACxuD,EAAKw7B,GAClB,OAAO,kBAAC,GAAD,CAAaA,QAASA,EAAS56C,KAAMof,KAE9Cjb,UAAU,qBAGdO,IAAKw2E,GACLjsD,aAzBiB,SAAC5D,GACpBzrB,EAASgB,EAAcH,aAAa4qB,KAyBlC9B,gBAAiB,SAAC7mB,EAAQF,GAExB5C,EAAS,CACPF,KAAMgB,EAAcrB,sBACpBW,KAAM,CAAE0C,SAAQF,YAGpBgnB,SAAU,CACR3hB,SAAU,SAAClG,GACT8P,QAAQC,IAAI/P,IAEd+5E,OAAQ,SAAC/5E,EAAGy5B,GACV3pB,QAAQC,IAAI/P,EAAGy5B,MAWjB,kBAAC,GAAD,CAAU/Q,MAAO,gBAAiByB,QAAS,uCAAU6uD,YAAaA,GAAlE,wCAGA,kBAAC,GAAD,CAAUtwD,MAAO,iBAAkByB,QAAS,2BAAQ6uD,YAAaA,GAAjE,4BAGA,kBAAC,GAAD,CAAUtwD,MAAO,YAAayB,QAAS,2BAAQ6uD,YAAaA,GAA5D,4BAGA,kBAAC,GAAD,CAAUtwD,MAAO,gBAAiByB,QAAS,2BAAQ6uD,YAAaA,GAAhE,4BAGA,kBAAC,GAAD,CAAUtwD,MAAO,kBAAmByB,QAAS,2BAAQ6uD,YAAaA,GAAlE,4BAGA,kBAAC,GAAD,CAAUtwD,MAAO,eAAgByB,QAAS,2BAAQ6uD,YAAaA,GAA/D,4BAGF,kBAAC,GAAD,CACEtwD,MAAO,kBACPyB,QAAS2uD,EACT1rE,MAAO,aAEN0rE,GAEH,kBAAC,GAAD,CACEpwD,MAAOiwD,EACPxuD,QAAS,mDACT/c,MAAO,QAHT,oDASA,kBAAC,GAAD,CACEsb,MAAO,iBACPyB,QAAS,uCACT/c,MAAO,UACP4b,UAAW8wD,IAJb,wCAQA,kBAAC,GAAD,CACEpxD,MAAO,gBACPyB,QAAS,uCACT/c,MAAO,SACPub,UAAW,OACXvL,SAAU,iBACV4L,UAAW8wD,IANb,wCAUA,kBAAC,GAAD,CACEpxD,MAAO,cACPyB,QAAS,uCACT/c,MAAO,OACPub,UAAW,OACXvL,SAAU,iBACV4L,UAAW8wD,IANb,wCAUA,kBAAC,GAAD,CAAOpxD,MAAO,eAAgByB,QAAS,mDAAY/c,MAAO,QAA1D,oDAGA,kBAAC,GAAD,CACEsb,MAAO,eACPyB,QAAS,uCACT/c,MAAO,UACP4b,UAAW8wD,IAJb,wCAQA,kBAAC,GAAD,CACEpxD,MAAO,cACPyB,QAAS,uCACTxB,UAAW,OACXvL,SAAU,eACVhQ,MAAO,SACP4b,UAAW8wD,IANb,wCAUA,kBAAC,GAAD,CACEpxD,MAAO,YACPyB,QAAS,uCACT/c,MAAO,OACPub,UAAW,OACXvL,SAAU,eACV4L,UAAW8wD,IANb,wCAUA,kBAAC,GAAD,CACEpxD,MAAO,kBACPyB,QAAS,uCACT/c,MAAO,OAGP4b,UAAW8wD,IANb,wCAUA,kBAAC,GAAD,CACEpxD,MAAO,iBACPyB,QAAS,uCACT/c,MAAO,SAGP4b,UAAW8wD,IANb,wCAUA,kBAAC,GAAD,CAAQpxD,MAAO,SAAUyB,QAAS,6BAGlC,kBAAC,GAAD,CACEsF,UAAW,UACXhD,QAAS,iBAEX,kBAAC,GAAD,CACEgD,UAAW,UACXhD,QAAS,cACT8C,UAAW,uCACXniB,MAAO,KACPy4D,YAAa,GACbj5C,eAAe,GANjB,wCAUA,uBACE+B,WAAYpC,EACZ/pB,UAAU,qBACVitB,UAAW,WAEVlD,GAIH,kBAAC,GAAD,CACEkD,UAAW,OACX5C,OAAQ,iBACRzf,MAAO,KACP0kE,WAAYoH,EACZnH,UAAWoH,IAKb,kBAAC,GAAD,CACEa,UAAW,uCACXvqD,UAAW,OACX5C,OAAQ,UACRzf,MAAO,UACPs4D,UAAW4T,KAMb,kBAAC,GAAD,CACE5wD,MAAO,iBACPyB,QAASqvD,GAASC,WAClBrsE,MAAO,OACP4b,UAAW8wD,KAEb,kBAAC,GAAD,CACE3vD,QAASqvD,GAASE,aAClBhxD,MAAO,eACPtb,MAAO,SACPub,UAAW,OACXvL,SAAU,iBACV4L,UAAW8wD,KAEb,uBAAGnrD,WAAYpC,EAAY/pB,UAAU,kBAAkBitB,UAAW,QAC/DlD,IAMT,IAAMgE,GAAkB,SAAC9wB,GAGvB,OAAOA,GAEMgxB,qBAAQF,GAARE,CAAyBpJ,YAAWvb,eAAKwb,qBAAWoxD,OC/qB7DuB,GAAkB,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,+BAAqB38D,MAAK,YAAkD,IAA/C48D,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OAKCD,M,UCQTz7E,GAAa,WAsEb,IArEJiB,EAqEG,uDArEK,CACNuR,OAAO,EACP7S,SAAU,GACVqyB,WAAW,EAKXrO,SAAU,GACVgB,SAAU,GACVmH,gBAAiB,GACjBiD,QAAS,GACTjL,SAAU,CACRiD,YAAY,EACZD,SAAU,IAEZ6Q,UAAW,CACTkvB,EAAG,CACDnhC,aAAc,EACdD,YAAa,EACbnnB,MAAO,eACPozD,IAAK,eACL0a,OAAQ,eACRa,aAAc,eACdZ,WAAY,aACZ4P,OAAQ,eACRrC,iBAAkB,EAClBC,gBAAiB,EACjBC,UAAW,gBAEbhzB,EAAG,CACDphC,aAAc,EACdD,YAAa,EACbnnB,MAAO,eACPozD,IAAK,eACL0a,OAAQ,eACRa,aAAc,eACdZ,WAAY,cACZ4P,OAAQ,eACRrC,iBAAkB,EAClBC,gBAAiB,EACjBC,UAAW,gBAEbjS,EAAG,CACDniD,aAAc,EACdD,YAAa,EACbnnB,MAAO,eACPozD,IAAK,eACLub,aAAc,eACdb,OAAQ,eACRC,WAAY,eACZ4P,OAAQ,gBAEVnU,EAAG,CACDpiD,aAAc,EACdD,YAAa,EACbnnB,MAAO,eACPozD,IAAK,qBACLub,aAAc,eAEdb,OAAQ,qBACRC,WAAY,YACZ4P,OAAQ,iBAGZvkD,UAAW,CAAEn1B,OAAQ,EAAGF,MAAO,GAC/B4hB,aAAc,IAEhBhkB,EACG,uCACH,OAAQA,EAAQV,MACd,KAAKgB,EAAcnB,eACjB,OAAOyN,OAAOC,OAAO,GAAI7L,EAAO,CAC9B+wB,UAAW/xB,EAAQJ,OAEvB,KAAKU,EAAcT,uBACjB,OAAO+M,OAAOC,OAAO,GAAI7L,EAAOhB,EAAQJ,MAC1C,KAAKU,EAActB,qBACjB,OAAO4N,OAAOC,OAAO,GAAI7L,EAAO,CAC9B6iB,SAAU7jB,EAAQJ,OAEtB,KAAKU,EAAclB,qBACjB,OAAOwN,OAAOC,OAAO,GAAI7L,EAAO,CAC9BtB,SAAUM,EAAQJ,OAEtB,KAAKU,EAAcrB,sBACjB,OAAO2N,OAAOC,OAAO,GAAI7L,EAAO,CAC9By2B,UAAU,2BAAMz2B,EAAMy2B,WAAcz3B,EAAQJ,QAEhD,KAAKU,EAAc3B,gBACjB,OAAOiO,OAAOC,OAAO,GAAI7L,EAAO,CAC9BuR,OAAO,IAEX,KAAKjS,EAAc1B,oBACjB,OAAOgO,OAAOC,OAAO,GAAI7L,EAAO,CAC9B0jB,SAAU1kB,EAAQJ,OAEtB,KAAKU,EAAczB,qBACjB,OAAO+N,OAAOC,OAAO,GAAI7L,EAAO,CAC9B0iB,SAAU1jB,EAAQJ,OAEtB,KAAKU,EAAcxB,8BACjB,OAAO8N,OAAOC,OAAO,GAAI7L,EAAO,CAC9B6qB,gBAAiB7rB,EAAQJ,OAE7B,KAAKU,EAAcvB,oBACjB,OAAO6N,OAAOC,OAAO,GAAI7L,EAAO,CAC9B8tB,QAAS9uB,EAAQJ,OAErB,KAAKU,EAAcpB,yBACjB,OAAO0N,OAAOC,OAAO,GAAI7L,EAAO,CAC9BgjB,aAAchkB,EAAQJ,OAE1B,QACE,OAAOoB,IAGEjB,MCvHTw9C,GAAa,WAcb,IAbJv8C,EAaG,uDAbK,CACNy6D,kBAAmB,CACjB0e,QAAS,mDACTze,MAAO,iBACPxuD,UAAW,OACX9O,OAAQ,CACN,CAAEL,IAAK,GAAIM,MAAO,oDAClB,CAAEN,IAAK,UAAWM,MAAO,0CAG7B4sB,UAAW,IAEbjrB,EACG,uCACH,OAAQA,EAAQV,MACd,KAAKkB,EAAcJ,sBACjB,OAAOwM,OAAOC,OAAO,GAAI7L,EAAO,CAC9BiqB,UAAWjrB,EAAQJ,OAEvB,KAAKY,EAAcP,+BACjB,OAAO2M,OAAOC,OAAO,GAAI7L,EAAO,CAC9By6D,kBAAkB,2BAAMz6D,EAAMy6D,mBAAsBz7D,EAAQJ,QAGhE,QACE,OAAOoB,IAGEu8C,MC7BT0+B,GAAW,WAKX,IAJJj7E,EAIG,uDAJK,CACNuR,OAAO,GAETvS,EACG,uCAQC,OAPIA,EAAQV,KAOL0B,GAGEi7E,MC9BFC,GAAe,GAExBC,GAAeC,aAAgB,CACjCr8E,cAAWw9C,cAAW0+B,YAEtBI,YAAa,KAEAF,M,wECLXG,ICFWC,0BACb,kBAAC,KAAD,CAAaC,kBAAkB,EAClBC,oBAAoB,SACpBC,kBAAkB,UAC7B,kBAAC,KAAD,QDFWC,aAAgBC,OAQ/B,IAAIC,GAAQC,aAAYX,GAAcD,GAAcI,IAsCrCO,UEzCTE,GAActiD,QACW,cAA7Bt4B,OAAOuL,SAASsvE,UAEe,UAA7B76E,OAAOuL,SAASsvE,UAEhB76E,OAAOuL,SAASsvE,SAAS3lE,MACvB,2DAIC,SAAS4lE,GAASrgE,GACvB,GAA6C,kBAAmB/F,UAAW,CAGzE,GADkB,IAAIqmE,IAAIC,GAAwBh7E,OAAOuL,SAASV,MACpDowE,SAAWj7E,OAAOuL,SAAS0vE,OAIvC,OAGFj7E,OAAOgE,iBAAiB,QAAQ,WAC9B,IAAMk3E,EAAK,UAAMF,GAAN,sBAEPJ,IAEFO,GAAwBD,EAAOzgE,GAI/B/F,UAAU0mE,cAAc/f,MAAMz+C,MAAK,WACjC1N,QAAQC,IACN,iHAMJksE,GAAgBH,EAAOzgE,OAM/B,SAAS4gE,GAAgBH,EAAOzgE,GAC9B/F,UAAU0mE,cACPN,SAASI,GACTt+D,MAAK,SAAA0+D,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB38E,QACf6V,UAAU0mE,cAAcO,YAI1BzsE,QAAQC,IACN,iHAKEsL,GAAUA,EAAOo+C,UACnBp+C,EAAOo+C,SAASyiB,KAMlBpsE,QAAQC,IAAI,sCAGRsL,GAAUA,EAAOmhE,WACnBnhE,EAAOmhE,UAAUN,WAO5Bx/D,OAAM,SAAAlM,GACLV,QAAQU,MAAM,4CAA6CA,MAIjE,SAASurE,GAAwBD,EAAOzgE,GAEtCmB,MAAMs/D,GACHt+D,MAAK,SAAAc,GAEJ,IAAM8V,EAAc9V,EAAStB,QAAQH,IAAI,gBAEnB,MAApByB,EAASE,QACO,MAAf4V,IAA8D,IAAvCA,EAAYpnB,QAAQ,cAG5CsI,UAAU0mE,cAAc/f,MAAMz+C,MAAK,SAAA0+D,GACjCA,EAAaO,aAAaj/D,MAAK,WAC7B5c,OAAOuL,SAASka,eAKpB41D,GAAgBH,EAAOzgE,MAG1BqB,OAAM,WACL5M,QAAQC,IACN,oEC7GRuB,IAASC,OACP,kBAAC,IAAMmrE,WAAP,KACE,kBAAC,WAAD,CAAUpB,MAAOA,IACf,kBAAC,KAAD,KAEE,kBAAC,GAAD,SAKNl6E,SAASyP,eAAe,SAM1BopE,KACA+B,M,kIC5BOW,EAAOC,QAIL,SAASxwE,EAAKqM,EAAOokE,EAASxV,EAAQl5D,GAC7C,IAAIy/C,GAAY,IAAIrzC,MAAOC,UACvBsiE,EAAaC,OAAOtkE,GAASskE,OAAOF,GACpCG,GAAS,EA0Eb,SAASC,IACP,IAAIC,EAAsBttE,aAAaI,QAAQ,uBAC3CmtE,GAAU,IAAI5iE,MAAOC,UAKzB,MAAO,CACL0iE,oBALFA,EAAsBA,EAClB1tE,KAAKS,MAAMitE,GACX,GAIFC,QAASA,EACTC,gBAJoBF,EAAoBJ,IAS5C,SAASO,IACP78E,WAAW68E,EAAoB,KAC/B,IAAIC,EAAYL,IACZC,EAAsBI,EAAUJ,oBAChCE,EAAkBE,EAAUF,gBAChC,IAAKA,EACH,OAAO,EAET,IAAKA,EAAgBG,YACnB,OAAO,EAET,IAAIA,EAAcH,EAAgBG,YAE9BC,EADUF,EAAUH,QACHI,EAAc,IAOnC,OANAH,EAAgBG,YAAcD,EAAUH,QACxCD,EAAoBJ,GAAcM,EAClCxtE,aAAaD,QACX,sBACAH,KAAKC,UAAUytE,IAEVM,EAGT,SAASC,EAASrxE,EAAKwhD,EAAWga,GAChC,IAAI8V,EACA98E,OAAO+8E,eACTD,EAAM,IAAIC,eACD/8E,OAAOg9E,eAChBF,EAAM,IAAIG,cAAc,sBAE1B,IAAIC,EAAOC,IACPn1C,EAAY1pB,EAAW0uC,GACvB/kB,EAAU3pB,EAAW0oD,GACrBoW,EAAY,CACdC,SAAU,CACR,CACEC,QAAS,WAAaJ,EACtBh7D,OAAQukD,EACR8W,YAAatB,EACbuB,UAAWx1C,EACXy1C,aAAcx1C,EACd3lB,MAAOzK,KAIbulE,EAAYxuE,KAAKC,UAAUuuE,GAC3B,IAAI3/E,EAAO,CACT6kB,MAAOzK,EACP6lE,UAAW,UACXN,UAAWA,GAEb3/E,EAAOkgF,EAAalgF,GACpBq/E,EAAI1xD,KAAK,OAAQ5f,GAAK,GACtBsxE,EAAIc,iBAAiB,eAAgB,qCACrCd,EAAIe,KAAKpgF,GAGX,SAASkgF,EAAalgF,GACpB,IAAIs2B,EAAM,GACV,IAAK,IAAIl4B,KAAQ4B,EACfs2B,EAAIrnB,KAAKyN,mBAAmBte,GAAQ,IAAMse,mBAAmB1c,EAAK5B,KAEpE,OAAOk4B,EAAIpnB,KAAK,KAGlB,SAAS2R,EAAWw/D,GAClB,IAAItqE,EAAO,IAAImG,KAAKxY,SAAS28E,IACzBt/C,EAAIhrB,EAAKkM,cACTq+D,EAAIvqE,EAAKyL,WAAa,EACtB8+D,EAAI,KACNA,EAAI,IAAMA,GAEZ,IAAIC,EAAIxqE,EAAK0L,UACT8+D,EAAI,KACNA,EAAI,IAAMA,GAEZ,IAAIC,EAAIzqE,EAAK2L,WACT8+D,EAAI,KACNA,EAAI,IAAMA,GAEZ,IAAIC,EAAK1qE,EAAK4L,aACV8+D,EAAK,KACPA,EAAK,IAAMA,GAEb,IAAIC,EAAI3qE,EAAK6L,aAKb,OAJI8+D,EAAI,KACNA,EAAI,IAAMA,GAEE3/C,EAAI,IAAMu/C,EAAI,IAAMC,EAAI,IAAMC,EAAI,IAAMC,EAAK,IAAMC,EAInE,SAAShB,IACP,SAASiB,IACP,OAA+B,OAArB,EAAIxtE,KAAKE,UAAuB,GAAGoB,SAAS,IAAI4N,UAAU,GAEtE,OACEs+D,IACAA,IACA,IACAA,IACA,IACAA,IACA,IACAA,IACA,IACAA,IACAA,IACAA,IApMJ5yE,GAAY,6BACZxL,OAAOgE,iBAAiB,QAAQ,WAC9B,GAAK6T,GAAUokE,EAAf,CAGAG,GAAS,EACT,IAAIM,EAAYL,IACZC,EAAsBI,EAAUJ,oBAChCE,EAAkBE,EAAUF,gBAC5B6B,EAAkB5B,IACtBD,EAAkBA,GAEd,CACExvB,UAAWA,EACXga,QAAS,EACTsX,iBAAkB,EAClB3B,YAAa3vB,EACbyZ,OAAQA,KAIV33D,eAAeM,QAAQ8sE,IACa,GAApCM,EAAgB8B,kBAClBD,KAEA7B,EAAgBxvB,UAAYA,EAC5BwvB,EAAgBxV,QAAU,GAE5BwV,EAAgB8B,iBAAmBD,EAC/B,EACA7B,EAAgB8B,iBAAmB,EACvC9B,EAAgB8B,iBAAmB1tE,KAAKm8B,IACtCyvC,EAAgB8B,iBAChB,GAEFhC,EAAoBJ,GAAcM,EAClCxtE,aAAaD,QACX,sBACAH,KAAKC,UAAUytE,QAGnBt8E,OAAOgE,iBAAiB,gBAAgB,WACtC,IACE,IAAK6T,IAAUokE,EACb,OAEF,IAAIS,EAAYL,IACZC,EAAsBI,EAAUJ,oBAChCtV,EAAU0V,EAAUH,QACpBC,EAAkBE,EAAUF,gBAC5B8B,EAAmB9B,EAAgB8B,iBACvCA,EAAmBlC,EAASkC,EAAmB,EAAIA,EACnDA,EAAmB1tE,KAAKm8B,IAAIuxC,EAAkB,GAC9C9B,EAAgBxV,QAAUA,EAC1BwV,EAAgB8B,iBAAmBA,EACnChC,EAAoBJ,GAAcM,EAClCxtE,aAAaD,QACX,sBACAH,KAAKC,UAAUytE,IAEO,GAApBgC,GAAyBlC,IAE3BS,EAASrxE,EAAKgxE,EAAgBxvB,UAAWga,GAClB,mBAAZz5D,GACTA,EAASsK,EAAOokE,EAASxV,EAAQ+V,EAAgBxvB,UAAWga,IAGhEl4D,eAAeC,QAAQmtE,GAAY,GACnC,MAAO98E,GACP8P,QAAQC,IAAI/P,S","file":"static/js/main.b9102c77.chunk.js","sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAARCAYAAADUryzEAAABA0lEQVQ4jWP8////YQYGBhsGCDjC6L7BloEEwATSnNx3fm5I86ldUINqSTWAYd7Oh+wbXRSFQWxGc+kmlmleh9EV/t8ZcPj/zoD/UHwYxQCwRjk+YyT1NugG4HIpCzZnHZBmZbDeGfAfPVxALmWKtQe7lEFFtonB2tiNCZsB1hyMDDjDRZQfxaVYDYDZtsFcGRIuBtJNuNThNACsURolXEg3gBgwagAVDACnxGAbKbE3bKhmgcReczFiiL0SQDMBlJ3/Q8HRz7//M9ae+n/+x7+PcLH3v/8zlp36f/4LQuzIyz//GbLO/GdY+v8II4PbepA5oKSqBjXzFgMDQzNRYgwMzQAGCns6Yrh4jwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAADDElEQVQ4jX2Ub0yNURzHv+d57r1z09Qli1GZFl4Y2VqKXhhboVk0a0N4Ie9sTZMXMloSS6PxQiL9Q/mz1dRGKsuEwvzpqpSr3FsL/V/XfbpP97nPzw73aUn8trOz8+f32fn+zvccEJHWRCJKIaIOIhr39CmeefyrIboCAn4HA1BOhNjUqx8u+eyoztuc9vxjm82ebO2XGhJOvxLxn9Ag+wEE+MZXV+Xcs3iPSUpuzev+nQmZLzcJjAVtWOVXxGIq2b8wOk9/4HqN9e6YpPgCyNTlbY2DG+kdCkJSfgi9GWH+MQCiAJQCCJqSb+NjDbLmWGFbA4A7+mtb4klBuUci6iQKLg40ggWYkgAsYTGVFwD4TQHlahAobgpkplkWAFUaQAvGGOBj3CY2KqKQus1BTiZDZqAJ5kRRZboGaYmLXOhfErF4ybTjItKL4b2kAgbR5IrSdQtAgLbmdOO7sQiTkPyTiStOVd7sXG4PmDMJ0DMg3V9EnkUC8zFC36iEqTmPTkOl33JUcnM5/K51RJRNRPSxx94V2ScPenXLFGaboLofbj5N2c0DZLj1tU946hKEWuWGvtp998E36rY5aIj7hEPOEVHr4byW41llHc1fRuVxl0rUKat06LNEEeXdZP4mUYl51ILoCtFjvlIOL3s93IboiiwuJynpwtuzBQ+tJt3R8IYTTYPhqnkQZJ8A8zKAhczHni436ld7Bxsil+YDMABIvPZqtP9gfucCAGYO8S14aF3K/cFWzGuBCgjL/ACuVgHgYmh1AX5eIoq2L97LS1X6ZsR6sNDiD8d4GoCyX44VBTabarb3cOD/7L0rdK7+9ruRjn2FlkWQXWfo1obz8Nh+eGPofJPH1upMySuNDAoBOfV9jl3FlhCAXaSCdRmTG4got3dgfOj+i69xhl5nk97mJF2XTLpPMunbZVr7yUVmSaXLVvk7dtc+ZmktV6e+aO12DE3twzWSU+HP/68YVogu2WTVeKT5OUt7e2X6l8AhvLATEclPYrlkAOsBzJ5BkQPAM15EIPTPFQA/AUv+wU3Niak0AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAARCAYAAADUryzEAAABsklEQVQ4jZWTz0sbURDHPy9JV6uHiopUwQRtQURBRQ9iCnoTBUEtiGCFFuo/IHjxIHgWIehZ8CAeRLQXEaUntRSK9Fb8AR6iVsWDFtrqJrvryEuymsQEzMDs7Mzum/l+580gIukazhDLGtePLhE5k9zkLHEOpZ35zePxT9M/m4Giy6WuvrKB9VXSJDn+/l1F2dxoU7Cofy3oA8oTh2dlo/fQOInUqNKCCe9kxxU2B1jqu1hQvq9CBEqmPANtv1ZMFVou9OwCnzUCSa/2XFEfvx1pBKjOLwvaelorhrQrokCnvePRuuooxAGZaYGX+dU+t5hs9A4bvyMf9E9iK3AAG7AUmsKDNVVcY5VRvmS0R68NKr0qK4HjCFRtOymxlARvLqI4i3vIXys7BSMP2uozJ4ghGGt8UhgIuI73q+MXk3AuCPzkG+LprIv3gFSKz0EQhxGFqh/2k3huPcgzUO312RPEOA7WutcYsN4amv/jtx3bTxJ/N8G5nu2EH9F1Eu/hF/vRlDlwJVgMF6ZGJ47exu4//6L/c9nF01uRns0bk+GtHb0LepQbgBHgVcYOZpZrYO4eLDZVA1Pwm7cAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAACAUlEQVQ4je2TS0hUYRTHf9+983BmJEdRc5xQUHrQQyeIotdEWjMYCcNEO6FlQSs3UW1cuyyFqFUURFjgGBTMkBmRkUTYA9MarKmwxMjSsO6MM/fEtRFDoceiXX84i/Od8/utvoOINInIOxFJisgZEYmISJGIsKist2h+J5lnmgh1o6zmfOLNyXM3Ug0Hg37fvs3LS2p9nlqleKZrqhfQgN3A6mxO+gdGJofau5Kfizz2QOfRumZv9Pp2SyIqHOsEOoApYJ3Lqdfv31IRbGtZs9brsRsdPaNXTsVe2o1Mrhx4DjwBhiQeGbdYGz/ilXjkhWMsfQKT47NZ9ag7bfYe1s2Z16+mKtu7klncjqta694STHujGKqNtArMs/OS+bQBTiCITQvectopLsxltAN11aq+6pjMUozBkiyWOBcv5MCBw1azFF2I9qvhn+a/5B9KjEKXTf9bsECHtLkguTBweleDkckd8unq4+/gCge0+BWJHYrLKfkKZK3PdqTn3nujcWNZ63BNkT4ufLn2TdyJGdFdCty6IuQvIFSlsWeZotSm6JswzbMPpkcvXRy8Ddy3DhAVjikgoCm1NbypfGc06K/cFiirXllasMIUtDvjhuqflsm+hx+G795MjZkTU5/ImY+BAWBwTvJz8sIqYD2wAViVn49Ylws8Bd5KPDIHqnCM7w8x42SpsWfMAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAARCAYAAAACCvahAAACP0lEQVQ4jY2TW0hUURRA15mHd2YcRMoMSyNSjLIIbkVRBJORTRPBJInlV0X+VJQRRKEf9VFIVD9KT0jKH4ugiSgYSBILsweZhiX4CkWpNClf13meuIMjestq/ZwNZ6+zz9nsI8h7wHSk3+sCTgPrAQE0AOVim68OAyaDeAyoae762bjpxPMr6uFnjy/ca3eOauFHH67nnjfKZjL3xMV1QGVR+dtTRypbsnq+aU++DAWqnjYN1PQOaG17Xenn7Ip5rK558FVcnrq29HvvtvWOtC47WJsKnLVUeNwExUkZIoug6KiaH2nN0sbWbCipdwMdGK7t2n+pKQr4LFc9RcAdYAVg09fSr5bCnCXJacD2uGCZJqc2fhpKM3uzu4GHxvf1BSBJMTmwWlYRCmOsrJNk2pGpAg6jPIXTnh0PjbJOyqxirMUm5W/yfxOTpd9rB7R/SVoEEhXzVMF4cCAUjt4GgoYmzuBWn6TEk6E/KyEmS79XTy7Zd/HdC6AeyJ9NvtwtKd6asSDJYcmNVy6Ukv7xQMR9pmKzTU0QLlURqDaBaheoDoGaKFjtFMy1QnfAlHBo99IyvXVCSunTApG1E6GobUIx26xCOBQBAyEZqzbPKghEYDgsQR8hKejsHx3OO1rriY/ncSBdLHRmuFemzKkuztmYf6O1S0tOXO4rWMyu6k7evB98LceCPbEDolLyY+Tlb19S5+PNLWWLUh2lUYvJVNo5ISqvtXTJz993Mh5sn573R3kSvSkFk/F9oHbGLvALzCTHW3Z1uTAAAAAASUVORK5CYII=\"","/*\r\n *                                |~~~~~~~|\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *     |~.\\\\\\_\\~~~~~~~~~~~~~~xx~~~         ~~~~~~~~~~~~~~~~~~~~~/_//;~|\r\n *     |  \\  o \\_         ,XXXXX),                         _..-~ o /  |\r\n *     |    ~~\\  ~-.     XXXXX`)))),                 _.--~~   .-~~~   |\r\n *      ~~~~~~~`\\   ~\\~~~XXX' _/ ';))     |~~~~~~..-~     _.-~ ~~~~~~~\r\n *               `\\   ~~--`_\\~\\, ;;;\\)__.---.~~~      _.-~\r\n *                 ~-.       `:;;/;; \\          _..-~~\r\n *                    ~-._      `''        /-~-~\r\n *                        `\\              /  /\r\n *                          |         ,   | |\r\n *                           |  '        /  |\r\n *                            \\/;          |\r\n *                             ;;          |\r\n *                             `;   .       |\r\n *                             |~~~-----.....|\r\n *                            | \\             \\\r\n *                           | /\\~~--...__    |\r\n *                           (|  `\\       __-\\|\r\n *                           ||    \\_   /~    |\r\n *                           |)     \\~-'      |\r\n *                            |      | \\      '\r\n *                            |      |  \\    :\r\n *                             \\     |  |    |\r\n *                              |    )  (    )\r\n *                               \\  /;  /\\  |\r\n *                               |    |/   |\r\n *                               |    |   |\r\n *                                \\  .'  ||\r\n *                                |  |  | |\r\n *                                (  | |  |\r\n *                                |   \\ \\ |\r\n *                                || o `.)|\r\n *                                |`\\\\) |\r\n *                                |       |\r\n *                                |       |\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-17 14:14:26\r\n * @LastEditTime: 2020-12-22 16:33:43\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\redux\\actions\\commonActions.js\r\n */\r\nimport Icon_1 from \"./images/icon-select-1.png\";\r\nimport Icon_2 from \"./images/icon-select-2.png\";\r\nimport Icon_3 from \"./images/icon-select-3.png\";\r\nimport Icon_4 from \"./images/icon-select-4.png\";\r\nimport Icon_5 from \"./images/icon-select-5.png\";\r\nconst leftMenu_1 = [\r\n  {\r\n    key: \"teacherBaseMsg\",\r\n    name: \"师资统计分析\",\r\n    icon: Icon_1,\r\n    children: [\r\n      {\r\n        key: \"teacherBaseMsg\",\r\n        name: \"教师基本信息\",\r\n      },\r\n      {\r\n        key: \"workMsg\",\r\n        name: \"教师工作量\",\r\n      },\r\n      {\r\n        key: \"teachingAbility\",\r\n        name: \"教师教学能力\",\r\n      },\r\n      {\r\n        key: \"informationizeAbility\",\r\n        name: \"教师信息化能力\",\r\n      },\r\n      {\r\n        key: \"schoolResource\",\r\n        name: \"各校师资\",\r\n        params: [{ key: \"schoolDetail\", title: \"学校详情\" }],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    key: \"teacherPersonal\",\r\n    name: \"教师画像查询\",\r\n    icon: Icon_2,\r\n    children: [],\r\n    params: [{ key: \"page/personalDetail/\", title: \"教师画像详情\" }],\r\n  },\r\n  {\r\n    key: \"teacherRecruit\",\r\n    name: \"教师招聘计划管理\",\r\n    icon: Icon_3,\r\n    children: [],\r\n    // 除了左侧菜单的其它合法一级路由,打开这个路由，左侧会对应打开所属的节点\r\n    params: [\r\n      { key: \"publishRecruit\", title: \"发布招聘计划\" },\r\n      { key: \"editRecruit\", title: \"编辑招聘计划\" },\r\n      { key: \"recruitDetail\", title: \"招聘计划详情\" },\r\n    ],\r\n  },\r\n  {\r\n    key: \"teacherTrain\",\r\n    name: \"教师培训计划管理\",\r\n    icon: Icon_4,\r\n    children: [],\r\n    params: [\r\n      { key: \"publishTrain\", title: \"发布培训计划\" },\r\n      { key: \"editTrain\", title: \"编辑培训计划\" },\r\n      { key: \"trainDetail\", title: \"培训计划详情\" },\r\n    ],\r\n  },\r\n  { key: \"notice\", name: \"通知公告\", icon: Icon_5, children: [] },\r\n];\r\nconst leftMenu_0 = [\r\n  {\r\n    key: \"teacherPersonal\",\r\n    name: \"智能画像\",\r\n    icon: Icon_2,\r\n    children: [],\r\n    params: [{ key: \"page/personalDetail\", title: \"智能画像\" }],\r\n  },\r\n  {\r\n    key: \"stuStatusMsg\",\r\n    name: \"多维档案\",\r\n    icon: Icon_1,\r\n    children: [\r\n      {\r\n        key: \"stuStatusMsg\",\r\n        name: \"学籍档案\",\r\n      },\r\n      {\r\n        key: \"stuConditionMsg\",\r\n        name: \"学情档案\",\r\n      },\r\n      {\r\n        key: \"attendanceMsg\",\r\n        name: \"考勤档案\",\r\n      },\r\n      {\r\n        key: \"healthMsg\",\r\n        name: \"健康档案\",\r\n      },\r\n      {\r\n        key: \"awardAndPunish\",\r\n        name: \"奖惩档案\",\r\n      },\r\n      {\r\n        key: \"schoolLiveMsg\",\r\n        name: \"校园生活档案\",\r\n      },\r\n\r\n    ],\r\n  },\r\n  \r\n  // {\r\n  //   key: \"teacherRecruit\",\r\n  //   name: \"教师招聘计划管理\",\r\n  //   icon: Icon_3,\r\n  //   children: [],\r\n  //   // 除了左侧菜单的其它合法一级路由,打开这个路由，左侧会对应打开所属的节点\r\n  //   params: [\r\n  //     { key: \"publishRecruit\", title: \"发布招聘计划\" },\r\n  //     { key: \"editRecruit\", title: \"编辑招聘计划\" },\r\n  //     { key: \"recruitDetail\", title: \"招聘计划详情\" },\r\n  //   ],\r\n  // },\r\n  // {\r\n  //   key: \"teacherTrain\",\r\n  //   name: \"教师培训计划管理\",\r\n  //   icon: Icon_4,\r\n  //   children: [],\r\n  //   params: [\r\n  //     { key: \"publishTrain\", title: \"发布培训计划\" },\r\n  //     { key: \"editTrain\", title: \"编辑培训计划\" },\r\n  //     { key: \"trainDetail\", title: \"培训计划详情\" },\r\n  //   ],\r\n  // },\r\n  // { key: \"notice\", name: \"通知公告\", icon: Icon_5, children: [] },\r\n];\r\nconst COMMON_SET_TEST = \"COMMON_SET_TEST\";\r\nconst COMMON_SET_IDENTITY = \"COMMON_SET_IDENTITY\";\r\nconst COMMON_SET_USER_INFO = \"COMMON_SET_USER_INFO\";\r\nconst COMMON_SET_BASE_PLAT_FORM_MSG = \"COMMON_SET_BASE_PLAT_FORM_MSG\";\r\nconst COMMON_SET_ROLE_MSG = \"COMMON_SET_ROLE_MSG\";\r\nconst COMMON_SET_TERM_INFO = \"COMMON_SET_TERM_INFO\";\r\nconst COMMON_SET_CONTENT_HW = \"COMMON_SET_CONTENT_HW\";\r\nconst COMMON_SET_SYSTEM_SERVER = \"COMMON_SET_SYSTEM_SERVER\";\r\n//刷新当前档案\r\nconst COMMON_REFLASH = \"COMMON_REFLASH\";\r\n// 设置左侧菜单\r\nconst COMMON_SET_LEFT_MENU = \"COMMON_SET_LEFT_MENU\";\r\n// *type:0教育局的学校，大学的学院，1教育局，大学的学校，默认0\r\nconst SetLeftMenu = (type = 0, haveNotice = true) => {\r\n  return (dispatch, getState) => {\r\n    let leftMenu = type === 1 ? leftMenu_1 : leftMenu_0;\r\n    switch (type) {\r\n      case 0:\r\n        leftMenu = leftMenu_0; //学院或中小学学校\r\n\r\n        break;\r\n      case 1:\r\n        leftMenu = leftMenu_1; //加各校师资，教育局\r\n\r\n        break;\r\n      case 2:\r\n        leftMenu_1[0].children[4].name = \"各院师资\";\r\n        leftMenu_1[0].children[4].params[0].title = \"学院详情\";\r\n        leftMenu = leftMenu_1; //各校师资改为各院，大学\r\n\r\n        break;\r\n      default:\r\n        leftMenu = leftMenu_0;\r\n    }\r\n    if (!haveNotice) {\r\n      leftMenu.pop();\r\n    }\r\n    dispatch({\r\n      type: COMMON_SET_LEFT_MENU,\r\n      data: leftMenu,\r\n    });\r\n  };\r\n};\r\n// 统一修改common,有风险，快捷\r\nconst COMMON_SET_COMMON_DATA = \"COMMON_SET_COMMON_DATA\";\r\nconst SetCommonData = (data) => {\r\n  return (dispatch, getState) => {\r\n    let { commonData } = getState();\r\n    dispatch({\r\n      type: COMMON_SET_COMMON_DATA,\r\n      data: { ...commonData, ...data },\r\n    });\r\n  };\r\n};\r\nconst actions = {\r\n  COMMON_SET_COMMON_DATA,\r\n  SetCommonData,\r\n  COMMON_SET_TERM_INFO,\r\n  COMMON_SET_TEST,\r\n  COMMON_SET_USER_INFO,\r\n  COMMON_SET_BASE_PLAT_FORM_MSG,\r\n  COMMON_SET_IDENTITY,\r\n  COMMON_SET_ROLE_MSG,\r\n  COMMON_SET_CONTENT_HW,\r\n  COMMON_SET_SYSTEM_SERVER,\r\n  COMMON_SET_LEFT_MENU,\r\n  COMMON_REFLASH,\r\n  SetLeftMenu,\r\n};\r\nexport default actions;\r\n","/*\r\n *                                |~~~~~~~|\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *     |~.\\\\\\_\\~~~~~~~~~~~~~~xx~~~         ~~~~~~~~~~~~~~~~~~~~~/_//;~|\r\n *     |  \\  o \\_         ,XXXXX),                         _..-~ o /  |\r\n *     |    ~~\\  ~-.     XXXXX`)))),                 _.--~~   .-~~~   |\r\n *      ~~~~~~~`\\   ~\\~~~XXX' _/ ';))     |~~~~~~..-~     _.-~ ~~~~~~~\r\n *               `\\   ~~--`_\\~\\, ;;;\\)__.---.~~~      _.-~\r\n *                 ~-.       `:;;/;; \\          _..-~~\r\n *                    ~-._      `''        /-~-~\r\n *                        `\\              /  /\r\n *                          |         ,   | |\r\n *                           |  '        /  |\r\n *                            \\/;          |\r\n *                             ;;          |\r\n *                             `;   .       |\r\n *                             |~~~-----.....|\r\n *                            | \\             \\\r\n *                           | /\\~~--...__    |\r\n *                           (|  `\\       __-\\|\r\n *                           ||    \\_   /~    |\r\n *                           |)     \\~-'      |\r\n *                            |      | \\      '\r\n *                            |      |  \\    :\r\n *                             \\     |  |    |\r\n *                              |    )  (    )\r\n *                               \\  /;  /\\  |\r\n *                               |    |/   |\r\n *                               |    |   |\r\n *                                \\  .'  ||\r\n *                                |  |  | |\r\n *                                (  | |  |\r\n *                                |   \\ \\ |\r\n *                                || o `.)|\r\n *                                |`\\\\) |\r\n *                                |       |\r\n *                                |       |\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-17 14:14:26\r\n * @LastEditTime: 2020-12-07 16:27:28\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\redux\\actions\\handleActions.js\r\n */\r\n// 设置招聘的信息\r\nconst COMMON_SET_TEACHER_RECRUIT_MSG = \"COMMON_SET_TEACHER_RECRUIT_MSG\";\r\nconst setTeacherRecruitMsg = (data) => {\r\n  return (dispatch, getProp) => {\r\n    dispatch({ type: COMMON_SET_TEACHER_RECRUIT_MSG, data });\r\n  };\r\n};\r\n// 设置获得的tab\r\nconst COMMON_SET_ACTIVE_TAB = \"COMMON_SET_ACTIVE_TAB\";\r\nconst setActiveTab = (data) => {\r\n  return (dispatch, getProp) => {\r\n    dispatch({ type: COMMON_SET_ACTIVE_TAB, data });\r\n  };\r\n};\r\nconst actions = {\r\n  COMMON_SET_ACTIVE_TAB,\r\n  setActiveTab,\r\n\r\n  COMMON_SET_TEACHER_RECRUIT_MSG,\r\n  setTeacherRecruitMsg,\r\n};\r\nexport default actions;\r\n","/*\r\n *  ┌─────────────────────────────────────────────────────────────┐\r\n *  │┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐│\r\n *  ││Esc│!1 │@2 │#3 │$4 │%5 │^6 │&7 │*8 │(9 │)0 │_- │+= │|\\ │`~ ││\r\n *  │├───┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴───┤│\r\n *  ││ Tab │ Q │ W │ E │ R │ T │ Y │ U │ I │ O │ P │{[ │}] │ BS  ││\r\n *  │├─────┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴─────┤│\r\n *  ││ Ctrl │ A │ S │ D │ F │ G │ H │ J │ K │ L │: ;│\" '│ Enter  ││\r\n *  │├──────┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴────┬───┤│\r\n *  ││ Shift  │ Z │ X │ C │ V │ B │ N │ M │< ,│> .│? /│Shift │Fn ││\r\n *  │└─────┬──┴┬──┴──┬┴───┴───┴───┴───┴───┴──┬┴───┴┬──┴┬─────┴───┘│\r\n *  │      │Fn │ Alt │         Space         │ Alt │Win│   HHKB   │\r\n *  │      └───┴─────┴───────────────────────┴─────┴───┘          │\r\n *  └─────────────────────────────────────────────────────────────┘\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-17 14:14:09\r\n * @LastEditTime: 2020-12-03 10:22:35\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\redux\\actions\\index.js\r\n */\r\n\r\nimport CommonActions from \"./commonActions\";\r\nimport HandleActions from \"./handleActions\";\r\nimport MainActions from \"./mainActions\";\r\nexport let commonActions = CommonActions;\r\nexport let handleActions = HandleActions;\r\nexport let mainActions = MainActions;\r\nconst actions = {\r\n  commonActions,mainActions,handleActions\r\n};\r\n\r\nexport default actions;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM8AAAAzCAYAAAAw0Vw9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBNDNCMjU4MjQ2NUMxMUVCOTM3NUI3MDJFRjBFNjE2MiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBNDNCMjU4MzQ2NUMxMUVCOTM3NUI3MDJFRjBFNjE2MiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE0M0IyNTgwNDY1QzExRUI5Mzc1QjcwMkVGMEU2MTYyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkE0M0IyNTgxNDY1QzExRUI5Mzc1QjcwMkVGMEU2MTYyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+sNTDRgAAGBlJREFUeNrsXQl4FFW2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\"","\r\nimport React, { memo, useMemo, createRef } from \"react\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"es6-shim\";\r\nimport moment from \"moment\";\r\nimport $ from \"jquery\";\r\nimport \"antd/dist/antd.min.css\";\r\nimport \"./index.scss\";\r\nimport zhCN from \"antd/es/locale/zh_CN\";\r\nimport \"moment/locale/zh-cn\";\r\nimport {\r\n  Spin,\r\n  Input as AntdInput,\r\n  ConfigProvider,\r\n  Radio as AntRadio,\r\n  Checkbox as AntCheckBox,\r\n  Table as AntTable,\r\n  Pagination as AntPagination,\r\n  Button as AntdButton,\r\n  Tooltip,\r\n  Modal as AntdModal,\r\n  Select,\r\n} from \"antd\";\r\nlet { Option } = Select;\r\nmoment.locale(\"zh-cn\");\r\n\r\n/*\r\n * 弹出框 start\r\n * */\r\n\r\nclass AppAlert extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      left: 0,\r\n\r\n      top: 0,\r\n\r\n      xTemp: 0,\r\n\r\n      yTemp: 0,\r\n\r\n      can_move: false,\r\n\r\n      readyShow: false,\r\n    };\r\n    let setTime = \"\";\r\n  }\r\n\r\n  //关闭按钮\r\n  closeAlert(e) {\r\n    const { onClose } = this.props;\r\n    if (onClose) {\r\n      onClose();\r\n    }\r\n  }\r\n  //点击ok\r\n  ok(e) {\r\n    const { onOk } = this.props;\r\n    if (onOk) {\r\n      onOk();\r\n    }\r\n  }\r\n  //点击cancel按钮\r\n  cancel(e) {\r\n    const { onCancel } = this.props;\r\n    if (onCancel) {\r\n      onCancel();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { show, type, onHide } = this.props;\r\n    if (show) {\r\n      if (\r\n        type === \"success\" ||\r\n        type === \"error\" ||\r\n        type === \"tips\" ||\r\n        type === \"warn\"\r\n      ) {\r\n        if (onHide) {\r\n          this.setTime = setTimeout(onHide, 1000);\r\n        }\r\n      }\r\n    }\r\n\r\n    /*if(this.AlertBody&&show&&!this.state.readyShow){\r\n  \r\n              this.setState({readyShow:true,left:($(window).width() - this.AlertBody.clientWidth) /2,top:($(window).height() - this.AlertBody.clientHeight)/ 2});\r\n  \r\n          }\r\n  \r\n          if(!show&&this.state.readyShow){\r\n  \r\n              this.setState({can_move:false,readyShow:false});\r\n  \r\n          }*/\r\n\r\n    //新的尝试 new try\r\n\r\n    if (this.AlertBody && show && !this.state.readyShow) {\r\n      this.AlertBody.style.left =\r\n        ($(window).width() - this.AlertBody.clientWidth) / 2 + \"px\";\r\n\r\n      this.AlertBody.style.top =\r\n        ($(window).height() - this.AlertBody.clientHeight) / 2 + \"px\";\r\n\r\n      this.setState({ readyShow: true });\r\n\r\n      $(\".alert_dialog_footer input.cancel\").focus();\r\n    }\r\n\r\n    if (!show && this.state.readyShow) {\r\n      this.setState({ readyShow: false });\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    clearTimeout(this.setTime);\r\n  }\r\n  componentDidMount() {\r\n    const { show, type, onHide } = this.props;\r\n    if (show) {\r\n      if (\r\n        type === \"success\" ||\r\n        type === \"error\" ||\r\n        type === \"tips\" ||\r\n        type === \"warn\"\r\n      ) {\r\n        if (onHide) {\r\n          this.setTime = setTimeout(onHide, 1000);\r\n        }\r\n      }\r\n    }\r\n\r\n    /* if(this.AlertBody&&show&&!this.state.readyShow){\r\n  \r\n               this.setState({readyShow:true,left:($(window).width() - this.AlertBody.clientWidth) /2,top:($(window).height() - this.AlertBody.clientHeight)/ 2});\r\n  \r\n           }\r\n  \r\n           if(!show&&this.state.readyShow){\r\n  \r\n               this.setState({can_move:false,readyShow:false});\r\n  \r\n           }\r\n  \r\n           const that = this;\r\n  \r\n           $(document).on('dragstart', '.alert_dialog_wrapper', function(e) { return false; });\r\n  \r\n           $(document).on('mousedown', '.alert_dialog_wrapper', function(event) {\r\n  \r\n               let $win = $(event.target).closest('.alert_dialog_wrapper');\r\n  \r\n               $win.css('cursor', 'move');\r\n  \r\n               let mx = event.clientX;\r\n  \r\n               let my = event.clientY;\r\n  \r\n               let can_move = true;\r\n  \r\n               let xTemp = mx - parseInt($win.offset().left-$(window).scrollLeft());\r\n  \r\n               let yTemp = my - parseInt($win.offset().top-$(window).scrollTop());\r\n  \r\n               that.setState({\r\n  \r\n                   can_move,xTemp,yTemp\r\n  \r\n               })\r\n  \r\n           });\r\n           //var win;\r\n           ///MSIE 8.0/.test(window.navigator.userAgent) ? win = document : win = window;\r\n  \r\n           $(window).mousemove(function(event) {\r\n  \r\n               if (that.AlertBody) {\r\n  \r\n                   if (that.state.can_move){\r\n  \r\n                       let $win = $(event.target).closest('.alert_dialog_wrapper');\r\n  \r\n                       let $window = $(window);\r\n  \r\n                       let mx = event.clientX;\r\n  \r\n                       let my = event.clientY;\r\n  \r\n  \r\n  \r\n                       if (mx - that.state.xTemp > 0 && mx - that.state.xTemp < $window.width() - $win.width()) {\r\n  \r\n                           /!*$win.css('left', mx - xTemp+'px');*!/\r\n  \r\n                           that.setState({left:mx - that.state.xTemp});\r\n  \r\n  \r\n  \r\n                       }\r\n  \r\n                       if (my - that.state.yTemp > 0 && my - that.state.yTemp < $window.height() - $win.height()) {\r\n  \r\n                           /!*$win.css('top', my - yTemp+'px');*!/\r\n  \r\n                           that.setState({top:my - that.state.yTemp});\r\n  \r\n  \r\n  \r\n                       }\r\n  \r\n                   }\r\n  \r\n               }\r\n  \r\n           }).mouseup(function(event) {\r\n  \r\n               if (that.AlertBody){\r\n  \r\n                   that.setState({can_move:false});\r\n  \r\n                   $('.alert_dialog_wrapper').css('cursor', 'default');\r\n  \r\n               }\r\n  \r\n           });\r\n   */\r\n\r\n    //新的尝试 new try\r\n\r\n    if (this.AlertBody && show && !this.state.readyShow) {\r\n      this.AlertBody.style.left =\r\n        ($(window).width() - this.AlertBody.clientWidth) / 2 + \"px\";\r\n\r\n      this.AlertBody.style.top =\r\n        ($(window).height() - this.AlertBody.clientHeight) / 2 + \"px\";\r\n\r\n      this.setState({ readyShow: true });\r\n    }\r\n\r\n    if (!show && this.state.readyShow) {\r\n      this.setState({ readyShow: false });\r\n    }\r\n\r\n    $(function () {\r\n      var xTemp, yTemp;\r\n\r\n      var can_move = false;\r\n\r\n      $(document).on(\"dragstart\", \".alert_dialog_dragheader\", function () {\r\n        return false;\r\n      });\r\n\r\n      $(document).on(\"mousedown\", \".alert_dialog_dragheader\", function (event) {\r\n        let $win = $(event.target).closest(\".alert_dialog_wrapper\");\r\n\r\n        can_move = true;\r\n\r\n        $(\".alert_dialog_wrapper\").css(\"cursor\", \"move\");\r\n\r\n        var mx = event.pageX;\r\n\r\n        var my = event.pageY;\r\n\r\n        xTemp = mx - parseInt($win.css(\"left\"));\r\n\r\n        yTemp = my - parseInt($win.css(\"top\"));\r\n      });\r\n\r\n      $(window)\r\n        .mousemove(function (event) {\r\n          if (can_move) {\r\n            let $win = $(event.target).closest(\".alert_dialog_wrapper\");\r\n\r\n            var $window = $(window);\r\n\r\n            var mx = event.pageX;\r\n\r\n            var my = event.pageY;\r\n\r\n            if (mx - xTemp > 0 && mx - xTemp < $window.width() - $win.width()) {\r\n              $win.css(\"left\", mx - xTemp);\r\n            }\r\n\r\n            if (\r\n              my - yTemp > 0 &&\r\n              my - yTemp < $window.height() - $win.height()\r\n            ) {\r\n              $win.css(\"top\", my - yTemp);\r\n            }\r\n          }\r\n        })\r\n        .mouseup(function () {\r\n          can_move = false;\r\n\r\n          $(\".alert_dialog_wrapper\").css(\"cursor\", \"default\");\r\n        });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      type,\r\n      title,\r\n      abstract,\r\n      okTitle,\r\n      cancelTitle,\r\n      show,\r\n      contentMaxWidth,\r\n      className,\r\n    } = this.props;\r\n\r\n    let { cancelShow, okShow } = this.props;\r\n\r\n    let maskShow = false;\r\n\r\n    let okContent,\r\n      cancelContent = \"\";\r\n\r\n    switch (type) {\r\n      case \"btn-success\":\r\n      case \"btn-error\":\r\n      case \"btn-warn\":\r\n        maskShow = true;\r\n        okShow = okShow === \"n\" ? false : true;\r\n        cancelShow = cancelShow === \"n\" ? false : true;\r\n        okContent = okTitle ? okTitle : \"确定\";\r\n        cancelContent = cancelTitle ? cancelTitle : \"取消\";\r\n        break;\r\n      case \"btn-query\":\r\n        maskShow = true;\r\n        okShow = okShow === \"n\" ? false : true;\r\n        cancelShow = cancelShow === \"n\" ? false : true;\r\n        okContent = okTitle ? okTitle : \"确定\";\r\n        cancelContent = cancelTitle ? cancelTitle : \"取消\";\r\n        break;\r\n      case \"btn-tips\":\r\n        maskShow = true;\r\n        okShow = false;\r\n        cancelShow = cancelShow === \"n\" ? false : true;\r\n        cancelContent = cancelTitle ? cancelTitle : \"我知道了\";\r\n        break;\r\n      default:\r\n        maskShow = false;\r\n        cancelShow = false;\r\n        okShow = false;\r\n        okContent = \"确定\";\r\n        cancelContent = \"取消\";\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {show ? (\r\n          maskShow ? (\r\n            <React.Fragment>\r\n              <div\r\n                className={`alert_dialog_mask ${className ? className : \"\"}`}\r\n                style={{ display: `${show ? \"block\" : \"none\"}` }}\r\n              ></div>\r\n              <div\r\n                className={`alert_dialog_tab ${className ? className : \"\"}`}\r\n                style={{ display: `${show ? \"block\" : \"none\"}` }}\r\n              >\r\n                <div\r\n                  ref={(ref) => (this.AlertBody = ref)}\r\n                  className=\"border alert_dialog_wrapper\"\r\n                  id=\"alert_dialog_wrapper\"\r\n                >\r\n                  {/*style={{left:this.state.left,top:this.state.top}} 这个地方应该是AlertBody的行内样式*/}\r\n\r\n                  <div className=\"alert_dialog_dragheader\"></div>\r\n\r\n                  <div\r\n                    className=\"alert_close_btn\"\r\n                    onClick={this.closeAlert.bind(this)}\r\n                  ></div>\r\n                  <div\r\n                    className={`alert_dialog_content ${\r\n                      abstract ? \"has-abstract\" : \"\"\r\n                    }`}\r\n                  >\r\n                    {abstract ? (\r\n                      <div className={`big_icon ${type}`}></div>\r\n                    ) : (\r\n                      <div className={`left-icon ${type}`}></div>\r\n                    )}\r\n                    <div\r\n                      className={`alert_dialog_msg ${abstract ? \"big\" : type}`}\r\n                    >\r\n                      {title}\r\n                    </div>\r\n                    {abstract ? (\r\n                      <div className=\"alert_dialog_abstract\">{abstract}</div>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                  <div className=\"alert_dialog_footer\">\r\n                    {okShow ? (\r\n                      <input\r\n                        type=\"button\"\r\n                        className=\"ok\"\r\n                        onClick={this.ok.bind(this)}\r\n                        value={okContent}\r\n                      />\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    {cancelShow ? (\r\n                      <input\r\n                        type=\"button\"\r\n                        className=\"cancel\"\r\n                        onClick={this.cancel.bind(this)}\r\n                        value={cancelContent}\r\n                      />\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          ) : (\r\n            <div\r\n              className={`alert_tips_tab ${show ? \"animation\" : \"\"} ${\r\n                className ? className : \"\"\r\n              }`}\r\n              ref=\"alert_tips_tab\"\r\n            >\r\n              <div className=\"border\">\r\n                <div\r\n                  className={`alert_tab_content ${type}`}\r\n                  style={contentMaxWidth ? { maxWidth: contentMaxWidth } : {}}\r\n                >\r\n                  {title}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 弹出框 end\r\n * */\r\n/*\r\n * 加载中 start\r\n * */\r\n\r\nclass Loading extends React.Component {\r\n  render() {\r\n    const {\r\n      type,\r\n      size,\r\n      tip,\r\n      opacity,\r\n      spinning,\r\n      wrapperClassName,\r\n      children,\r\n      ...reset\r\n    } = this.props;\r\n\r\n    let Fragments = \"\";\r\n\r\n    let opacityClass = \"\";\r\n\r\n    if (opacity) {\r\n      //透明度为true意味透明\r\n      if (opacity === true) {\r\n        opacityClass = \"ant-spin-transparent\";\r\n      }\r\n    } else {\r\n      if (opacity === undefined) {\r\n        //透明度为false意味不透明\r\n        opacityClass = \"\";\r\n      } else {\r\n        opacityClass = \"ant-spin-opaque\";\r\n      }\r\n    }\r\n\r\n    if (type) {\r\n      if (type === \"point\") {\r\n        //自己写的loading\r\n\r\n        Fragments = (\r\n          <div className={`loading_mask ${opacityClass}`}>\r\n            <div className=\"loading_point_container\">\r\n              <div className=\"point_container\">\r\n                <span className=\"point1 point\"></span>\r\n                <span className=\"point2 point\"></span>\r\n                <span className=\"point3 point\"></span>\r\n                <span className=\"point4 point\"></span>\r\n              </div>\r\n              <div className=\"point_loading_text\">{tip}</div>\r\n            </div>\r\n          </div>\r\n        );\r\n      } else {\r\n        //icon图标的loading\r\n        // let antIcon = <Icon type={type} spin {...reset} />;\r\n        Fragments = (\r\n          <Spin\r\n            // indicator={antIcon}\r\n            spinning={spinning}\r\n            size={size}\r\n            tip={tip}\r\n            wrapperClassName={`${\r\n              wrapperClassName ? wrapperClassName : \"\"\r\n            } ${opacityClass}`}\r\n          >\r\n            {children}\r\n          </Spin>\r\n        );\r\n      }\r\n    } else {\r\n      //默认loading\r\n      Fragments = (\r\n        <Spin\r\n          {...reset}\r\n          size={size}\r\n          spinning={spinning}\r\n          tip={tip}\r\n          wrapperClassName={`${\r\n            wrapperClassName ? wrapperClassName : \"\"\r\n          } ${opacityClass}`}\r\n        >\r\n          {children}\r\n        </Spin>\r\n      );\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        {\" \"}\r\n        {/*空标签*/}\r\n        {Fragments}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 加载中 end\r\n * */\r\n/*\r\n * 下拉 start\r\n * */\r\nclass DropComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dropSelectd: props.dropSelectd ? props.dropSelectd : \"\",\r\n      dropListShow: false,\r\n      range2ListShow: \"\",\r\n      range2ListActive: \"\",\r\n      simpleSearchList: [],\r\n      simpleSearchShow: false,\r\n      simpleSearchValue: \"\",\r\n    };\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    const { dropSelectd, dropList, type } = nextProps;\r\n\r\n    let simpleSearchList = [];\r\n\r\n    if (type !== \"multiple\") {\r\n      simpleSearchList = dropList;\r\n    }\r\n\r\n    this.setState({ dropSelectd: dropSelectd, simpleSearchList });\r\n  }\r\n\r\n  onToggleDropList() {\r\n    this.setState({ dropListShow: !this.state.dropListShow }, () => {\r\n      $(this.refs.dropdown_select_ul).slideToggle(\"fast\");\r\n    });\r\n  } //展示或者隐藏下拉列表\r\n\r\n  onSimpleDropChange(e) {\r\n    const { activeValue } = this.props;\r\n\r\n    const { onChange, value, title } = e;\r\n\r\n    this.setState(\r\n      { dropListShow: false, dropSelectd: { value, title } },\r\n      () => {\r\n        $(this.refs.dropdown_select_ul).hide();\r\n        if (onChange) {\r\n          onChange({ value, title });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  //改变下拉选项的时候调用\r\n  onMultipleRang2DropChange(e) {\r\n    const { id, name, onChange } = e;\r\n    this.setState(\r\n      {\r\n        //点击选项之后\r\n        dropListShow: false,\r\n        dropSelectd: {\r\n          value: id,\r\n          title: name,\r\n        },\r\n        range2ListActive: id,\r\n      },\r\n      () => {\r\n        $(this.refs.dropdown_select_ul).hide(); //隐藏下拉框\r\n        if (onChange) {\r\n          onChange({ value: name, id: id }); //调用外部传入的行数\r\n        }\r\n      }\r\n    );\r\n  } //二级下拉改变下拉的时候调用\r\n\r\n  onRange2ListShow(k1) {\r\n    if (this.state.range2ListShow === k1) {\r\n      this.setState({ range2ListShow: \"\" });\r\n    } else {\r\n      this.setState({ range2ListShow: k1 });\r\n    }\r\n  } //在二级的时候展开下拉\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"click\", (e) =>\r\n      this.outDropClick({\r\n        that: this,\r\n        target: e.target,\r\n        ulDom: this.refs.dropdown_select_ul,\r\n        spanDom: this.refs.dropdown_default_span,\r\n      })\r\n    ); //当点击事件发生在下拉之外的时候\r\n  }\r\n\r\n  outDropClick(e) {\r\n    const { that, target, ulDom, spanDom } = e;\r\n\r\n    const { dropList = [] } = this.props;\r\n\r\n    if (ulDom && spanDom) {\r\n      //在该界面上已有该组件才这样展示\r\n      if (!spanDom.contains(target) && !ulDom.contains(target)) {\r\n        that.setState(\r\n          {\r\n            dropListShow: false,\r\n            simpleSearchList: dropList,\r\n            simpleSearchShow: false,\r\n            simpleSearchValue: \"\",\r\n          },\r\n          () => {\r\n            $(ulDom).hide();\r\n          }\r\n        );\r\n      }\r\n    }\r\n  } //当点击事件发生在下拉组件之外的时候\r\n  onClickSearch(e) {\r\n    const { mutipleOptions } = this.props;\r\n    if (e.value) {\r\n      if (mutipleOptions && mutipleOptions.dropClickSearch) {\r\n        mutipleOptions.dropClickSearch(e);\r\n      }\r\n    } else {\r\n      if (mutipleOptions && mutipleOptions.dropClickSearch) {\r\n        mutipleOptions.dropClickSearch(e);\r\n      }\r\n    }\r\n  } //点击搜索之后\r\n  onCancelSearch(e) {\r\n    const { mutipleOptions } = this.props;\r\n\r\n    if (mutipleOptions && mutipleOptions.dropCancelSearch) {\r\n      mutipleOptions.dropCancelSearch();\r\n    }\r\n  }\r\n\r\n  simpleSearch() {\r\n    const { dropList } = this.props;\r\n\r\n    if (this.state.simpleSearchValue) {\r\n      const list = dropList.filter((i) => {\r\n        if (typeof i.title === \"string\" || typeof i.title === \"number\") {\r\n          return i.title.toString().includes(this.state.simpleSearchValue);\r\n        } else {\r\n          let hasValue = this.recursive(i.title);\r\n\r\n          return hasValue;\r\n        }\r\n      });\r\n\r\n      const simpleSearchList =\r\n        list.length > 0\r\n          ? list\r\n          : [{ value: \"symbol_none_value\", title: \"无数据\" }];\r\n\r\n      this.setState({ simpleSearchShow: true, simpleSearchList });\r\n    }\r\n  }\r\n\r\n  //递归函数\r\n  recursive(reactDom) {\r\n    let hasValue = false;\r\n\r\n    if (\r\n      typeof reactDom.props.children === \"string\" ||\r\n      typeof reactDom.props.children === \"number\"\r\n    ) {\r\n      if (\r\n        reactDom.props.children\r\n          .toString()\r\n          .includes(this.state.simpleSearchValue)\r\n      ) {\r\n        hasValue = true;\r\n      }\r\n    } else {\r\n      for (let i = 0; i <= reactDom.props.children.length - 1; i++) {\r\n        if (!hasValue) {\r\n          if (\r\n            typeof reactDom.props.children[i] === \"string\" ||\r\n            typeof reactDom.props.children[i] === \"number\"\r\n          ) {\r\n            if (\r\n              reactDom.props.children[i]\r\n                .toString()\r\n                .includes(this.state.simpleSearchValue)\r\n            ) {\r\n              hasValue = true;\r\n            }\r\n          } else {\r\n            hasValue = this.recursive(reactDom.props.children[i]);\r\n          }\r\n        }\r\n\r\n        return hasValue;\r\n      }\r\n    }\r\n  }\r\n  //简单搜索的值发生变化\r\n  simpleSearchValueChange(e) {\r\n    const { dropList } = this.props;\r\n\r\n    const searchValue = e.target.value;\r\n\r\n    this.setState(\r\n      {\r\n        simpleSearchValue: searchValue,\r\n      },\r\n      () => {\r\n        const list = dropList.filter((i) => {\r\n          if (typeof i.title === \"string\" || typeof i.title === \"number\") {\r\n            return i.title.toString().includes(searchValue);\r\n          } else {\r\n            let hasValue = this.recursive(i.title);\r\n\r\n            return hasValue;\r\n          }\r\n        });\r\n\r\n        const simpleSearchList =\r\n          list.length > 0\r\n            ? list\r\n            : [{ value: \"symbol_none_value\", title: \"无数据\" }];\r\n\r\n        this.setState({ simpleSearchShow: true, simpleSearchList });\r\n      }\r\n    );\r\n    // }\r\n\r\n    // return hasValue;\r\n  }\r\n\r\n  // //简单搜索的值发生变化\r\n  // simpleSearchValueChange(e) {\r\n  //   this.setState({\r\n  //     simpleSearchValue: e.target.value,\r\n  //   });\r\n  // }\r\n\r\n  //简单搜索关闭\r\n\r\n  simpleSearchClose() {\r\n    const { dropList } = this.props;\r\n\r\n    this.setState({\r\n      simpleSearchValue: \"\",\r\n      simpleSearchShow: false,\r\n      simpleSearchList: dropList,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      Title,\r\n      TitleShow,\r\n      title,\r\n      width,\r\n      height,\r\n      activeValue,\r\n      disabled,\r\n      dropSelectd,\r\n      dropList,\r\n      onChange,\r\n      type,\r\n      className,\r\n      mutipleOptions,\r\n      dropLoadingShow,\r\n      dropSimpleSearch,\r\n      ...reset\r\n    } = this.props;\r\n\r\n    let simpleSearchList = [];\r\n\r\n    if (type !== \"multiple\" && this.state.simpleSearchShow) {\r\n      simpleSearchList = this.state.simpleSearchList;\r\n    } else {\r\n      simpleSearchList = dropList;\r\n    }\r\n\r\n    let dropContainer = \"\";\r\n\r\n    let selectUlWidth =\r\n      mutipleOptions && mutipleOptions.width ? mutipleOptions.width : 540;\r\n\r\n    let selectUlHeight =\r\n      mutipleOptions && mutipleOptions.height ? mutipleOptions.height : 280;\r\n\r\n    let searchWidth =\r\n      mutipleOptions && mutipleOptions.searchWidth\r\n        ? mutipleOptions.searchWidth\r\n        : 320;\r\n\r\n    let scrollWrapperWidth =\r\n      mutipleOptions && mutipleOptions.width ? mutipleOptions.width - 20 : 520;\r\n\r\n    let scrollWrapperHeight =\r\n      mutipleOptions && mutipleOptions.height\r\n        ? mutipleOptions.height - 72\r\n        : 228;\r\n\r\n    let searchOpen =\r\n      mutipleOptions && mutipleOptions.searchOpen\r\n        ? mutipleOptions.searchOpen\r\n        : false;\r\n\r\n    //所需的参数\r\n    let dropMultipleList = \"\";\r\n\r\n    //判断等级渲染相对应的元素\r\n    if (searchOpen) {\r\n      //如果开启搜索的话\r\n\r\n      dropMultipleList = (\r\n        <ul className=\"dropdown_list_ul3 clearfix\" style={{ display: \"block\" }}>\r\n          <Loading\r\n            tip=\"加载中...\"\r\n            opacity={false}\r\n            spinning={\r\n              mutipleOptions && mutipleOptions.searchLoadingShow\r\n                ? mutipleOptions.searchLoadingShow\r\n                : false\r\n            }\r\n          >\r\n            {mutipleOptions.searchList.length > 0 ? (\r\n              mutipleOptions.searchList.map((item, ks) => {\r\n                let CanActive = \"\";\r\n\r\n                if (mutipleOptions.dropSelectd) {\r\n                  CanActive =\r\n                    mutipleOptions.dropSelectd.value === item.id\r\n                      ? \"active\"\r\n                      : \"\";\r\n                } else {\r\n                  CanActive =\r\n                    this.state.range2ListActive === item.id ? \"active\" : \"\";\r\n                }\r\n\r\n                return (\r\n                  <li\r\n                    key={ks}\r\n                    className={`dropdown_item3_li ${CanActive}`}\r\n                    onClick={this.onMultipleRang2DropChange.bind(this, {\r\n                      name: item.name,\r\n                      id: item.id,\r\n                      onChange: mutipleOptions.dropMultipleChange,\r\n                    })} //绑定点击事件\r\n                    title={TitleShow ? (Title ? Title : item.name) : \"\"}\r\n                  >\r\n                    <span className=\"dropdown_item3_name\">{item.name}</span>\r\n                  </li>\r\n                );\r\n              })\r\n            ) : (\r\n              <Empty\r\n                type=\"5\"\r\n                title={\r\n                  mutipleOptions.empSearchTitle\r\n                    ? mutipleOptions.empSearchTitle\r\n                    : \"暂未有相关数据\"\r\n                }\r\n              ></Empty>\r\n            )}\r\n          </Loading>\r\n        </ul>\r\n      );\r\n    } else if (mutipleOptions && mutipleOptions.range === 2) {\r\n      //如果range的等级为2\r\n\r\n      //内容是否为空\r\n      if (\r\n        mutipleOptions.dropMultipleList &&\r\n        mutipleOptions.dropMultipleList.length > 0\r\n      ) {\r\n        dropMultipleList = mutipleOptions.dropMultipleList.map((item1, k1) => {\r\n          //遍历第一个数组\r\n\r\n          return (\r\n            <li key={k1} className=\"dropdown_list_item1\">\r\n              <div\r\n                className={`dropdown_item1_name ${\r\n                  this.state.range2ListShow === k1 ? \"slide\" : \"\"\r\n                }`} //判断是否是活动状态\r\n                title={TitleShow ? (Title ? Title : item1.name) : \"\"}\r\n                onClick={this.onRange2ListShow.bind(this, k1)}\r\n              >\r\n                {item1.name}\r\n              </div>\r\n              <ul\r\n                ref={`dropdown_list_ul3_${k1}`}\r\n                className={`dropdown_list_ul3 clearfix`}\r\n                style={{\r\n                  display: `${\r\n                    this.state.range2ListShow === k1 ? \"block\" : \"none\"\r\n                  }`,\r\n                }}\r\n              >\r\n                {\r\n                  //遍历第二个数组\r\n                  item1.list.map((item2, k2) => {\r\n                    let CanActive = \"\";\r\n\r\n                    if (mutipleOptions.dropSelectd) {\r\n                      CanActive =\r\n                        mutipleOptions.dropSelectd.value === item2.id\r\n                          ? \"active\"\r\n                          : \"\";\r\n                    } else {\r\n                      CanActive =\r\n                        this.state.range2ListActive === item2.id\r\n                          ? \"active\"\r\n                          : \"\";\r\n                    }\r\n\r\n                    return (\r\n                      <li\r\n                        key={k2}\r\n                        className={`dropdown_item3_li ${CanActive}`} //判断是否是active\r\n                        title={TitleShow ? (Title ? Title : item2.name) : \"\"}\r\n                        onClick={this.onMultipleRang2DropChange.bind(this, {\r\n                          name: item2.name,\r\n                          id: item2.id,\r\n                          onChange: mutipleOptions.dropMultipleChange,\r\n                        })} //绑定点击事件\r\n                      >\r\n                        <span className=\"dropdown_item3_name\">\r\n                          {item2.name}\r\n                        </span>\r\n                      </li>\r\n                    );\r\n                  })\r\n                }\r\n              </ul>\r\n            </li>\r\n          );\r\n        });\r\n      } else {\r\n        dropMultipleList = (\r\n          <Empty\r\n            type=\"3\"\r\n            title={\r\n              mutipleOptions.empTitle\r\n                ? mutipleOptions.empTitle\r\n                : \"暂未有相关数据\"\r\n            }\r\n          ></Empty>\r\n        );\r\n      }\r\n    } else if (mutipleOptions && mutipleOptions.range === 3) {\r\n      //等待后期扩展使用\r\n    }\r\n\r\n    if (type && type === \"multiple\") {\r\n      dropContainer = (\r\n        <div\r\n          ref=\"dropdown_select_ul\"\r\n          className=\"dropdown_select_ul\"\r\n          style={{ width: selectUlWidth }}\r\n        >\r\n          <div className=\"dropdown_multiple_container\">\r\n            <div className=\"dropdown_search_wrapper\">\r\n              <Search\r\n                placeHolder={\r\n                  mutipleOptions && mutipleOptions.searchPlaceholder\r\n                    ? mutipleOptions.searchPlaceholder\r\n                    : null\r\n                }\r\n                width={searchWidth}\r\n                onClickSearch={this.onClickSearch.bind(this)}\r\n                onCancelSearch={this.onCancelSearch.bind(this)}\r\n                CancelBtnShow={mutipleOptions.CancelBtnShow}\r\n                Value={mutipleOptions.inputValue}\r\n              ></Search>\r\n            </div>\r\n\r\n            <Scrollbars\r\n              renderTrackHorizontal={(props) => {\r\n                return <span style={{ display: \"none\" }}></span>;\r\n              }}\r\n              renderThumbHorizontal={(props) => {\r\n                return <span style={{ display: \"none\" }}></span>;\r\n              }}\r\n              autoHeight\r\n              autoHeightMin={160}\r\n              autoHeightMax={scrollWrapperHeight}\r\n              style={{ width: scrollWrapperWidth }}\r\n            >\r\n              <Loading\r\n                opacity={false}\r\n                spinning={\r\n                  mutipleOptions && mutipleOptions.dropLoadingShow\r\n                    ? mutipleOptions.dropLoadingShow\r\n                    : false\r\n                }\r\n              >\r\n                <ul className=\"dropdown_list_ul\">{dropMultipleList}</ul>\r\n              </Loading>\r\n            </Scrollbars>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      dropContainer = (\r\n        <ul\r\n          className=\"dropdown_select_ul\"\r\n          ref=\"dropdown_select_ul\"\r\n          style={{ width: width, overflow: \"initial\" }}\r\n        >\r\n          <Loading opacity={false} spinning={dropLoadingShow}>\r\n            {dropList && dropList.length > 12 && dropSimpleSearch ? (\r\n              <li className={\"dropdown_select_search\"}>\r\n                <AntdInput\r\n                  value={this.state.simpleSearchValue}\r\n                  onChange={this.simpleSearchValueChange.bind(this)}\r\n                  onPressEnter={this.simpleSearch.bind(this)}\r\n                  className={\"search-input\"}\r\n                />\r\n\r\n                <i\r\n                  onClick={this.simpleSearchClose.bind(this)}\r\n                  className={\"dropdown_search_close\"}\r\n                  style={{\r\n                    display: `${\r\n                      this.state.simpleSearchShow ? \"block\" : \"none\"\r\n                    }`,\r\n                  }}\r\n                ></i>\r\n\r\n                <i\r\n                  onClick={this.simpleSearch.bind(this)}\r\n                  className={\"drop_search_btn\"}\r\n                  style={{\r\n                    display: `${\r\n                      this.state.simpleSearchShow ? \"none\" : \"block\"\r\n                    }`,\r\n                  }}\r\n                ></i>\r\n              </li>\r\n            ) : null}\r\n\r\n            <Scrollbars\r\n              autoHeight\r\n              autoHeightMin={0}\r\n              autoHeightMax={height ? height : 288}\r\n              // style={{height:height?(this.state.simpleSearchList.length*24<height?this.state.simpleSearchList.length*24:height):'auto'}}\r\n              renderTrackHorizontal={(props) => {\r\n                return <span style={{ display: \"none\" }}></span>;\r\n              }}\r\n              renderThumbHorizontal={(props) => {\r\n                return <span style={{ display: \"none\" }}></span>;\r\n              }}\r\n            >\r\n              {simpleSearchList.map((item, key) => {\r\n                return (\r\n                  <li\r\n                    key={key}\r\n                    className={`dropdown_select_li ${\r\n                      activeValue && activeValue === item.value\r\n                        ? \"active\"\r\n                        : dropSelectd.value === item.value\r\n                        ? \"active\"\r\n                        : \"\"\r\n                    }`}\r\n                    title={TitleShow ? (Title ? Title : item.title) : \"\"}\r\n                    data-vaule={item.value}\r\n                    onClick={\r\n                      item.value === \"symbol_none_value\"\r\n                        ? () => {}\r\n                        : this.onSimpleDropChange.bind(this, {\r\n                            onChange: onChange,\r\n                            value: item.value,\r\n                            title: item.title,\r\n                          })\r\n                    }\r\n                  >\r\n                    {item.title}\r\n                  </li>\r\n                );\r\n              })}\r\n            </Scrollbars>\r\n          </Loading>\r\n        </ul>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={`dropdown_container ${className ? className : \"\"}`}\r\n        {...reset}\r\n      >\r\n        <span className=\"dropdown_title_span\">{title}</span>\r\n        <span className=\"dropdown_wrapper\" style={{ width: width }}>\r\n          <span\r\n            ref=\"dropdown_default_span\"\r\n            className={`dropdown_default_span ${disabled ? \"disabled\" : \"\"}`}\r\n            onClick={\r\n              //点击展示和隐藏下拉列表\r\n              disabled ? () => {} : this.onToggleDropList.bind(this)\r\n            }\r\n            style={{ width: width }}\r\n          >\r\n            <span\r\n              className={`dropdown_icon_span ${\r\n                this.state.dropListShow ? \"slide\" : \"\"\r\n              }`}\r\n            ></span>\r\n            {\r\n              //判断this.state.dropSelectd?this.state.dropSelectd:(判断外界传入的dropSelectd？外界传入的dropSelectd:'')\r\n              this.state.dropSelectd ? (\r\n                <span\r\n                  data-value={this.state.dropSelectd.value}\r\n                  className=\"dropdown_text_span\"\r\n                  title={\r\n                    TitleShow\r\n                      ? Title\r\n                        ? Title\r\n                        : this.state.dropSelectd.title\r\n                      : \"\"\r\n                  }\r\n                >\r\n                  {this.state.dropSelectd.title}\r\n                </span>\r\n              ) : dropSelectd ? (\r\n                <span\r\n                  data-value={dropSelectd.value}\r\n                  className=\"dropdown_text_span\"\r\n                  title={TitleShow ? (Title ? Title : dropSelectd.title) : \"\"}\r\n                >\r\n                  {dropSelectd.title}\r\n                </span>\r\n              ) : (\r\n                \"\"\r\n              )\r\n            }\r\n          </span>\r\n\r\n          {dropContainer}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 下拉 end\r\n * */\r\n/*\r\n * 搜索 start\r\n * */\r\nclass Search extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectShow: false,\r\n      selectdValue: \"\",\r\n      cancleShow: false,\r\n      inputFocus: false,\r\n      Value: \"\",\r\n      SearchBlank: false,\r\n    };\r\n  }\r\n\r\n  InputChange(e) {\r\n    this.setState({ Value: e.target.value });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { select } = this.props;\r\n    if (select) {\r\n      document.addEventListener(\"click\", (e) =>\r\n        this.outSpanClickHandler({\r\n          that: this,\r\n          target: e.target,\r\n          spanDom: this.refs.search_select_span,\r\n          ulDom: this.refs.search_select_ul,\r\n        })\r\n      ); //点击其他地方将需要进行判断的元素传输给事件outSpanClickHandler\r\n    }\r\n  }\r\n\r\n  toggleSelectd(e) {\r\n    //切换下拉和上拉\r\n    this.setState({ selectShow: !this.state.selectShow }, () => {\r\n      $(this.refs.search_select_ul).slideToggle(\"fast\");\r\n    });\r\n  } //切换下拉状态为slideDown和slideUp\r\n  changeSelect(e) {\r\n    const { selectChange } = this.props;\r\n\r\n    this.setState({ selectdValue: { value: e.value, title: e.title } });\r\n    this.setState({ selectShow: !this.state.selectShow }, () => {\r\n      $(this.refs.search_select_ul).hide();\r\n\r\n      selectChange(e);\r\n    });\r\n  } //改变选项\r\n  outSpanClickHandler(e) {\r\n    const { target, ulDom, that, spanDom } = e;\r\n    if (spanDom && !spanDom.contains(target)) {\r\n      that.setState({ selectShow: false }, () => {\r\n        $(ulDom).hide();\r\n      });\r\n    }\r\n  } //点击其他地方将下拉收起\r\n  onInputFocus() {\r\n    this.setState({ inputFocus: true });\r\n  } //input focus事件\r\n\r\n  //点击搜索按钮事件\r\n\r\n  SearchClick() {\r\n    const { onClickSearch, select, selectOptions } = this.props;\r\n\r\n    if (this.SearchInput.value.trim()) {\r\n      this.setState({ cancleShow: true, SearchBlank: false }, () => {\r\n        if (onClickSearch) {\r\n          onClickSearch({\r\n            selectdValue: select\r\n              ? this.state.selectdValue\r\n                ? this.state.selectdValue.value\r\n                : selectOptions.selectdValue.value\r\n              : null,\r\n            value: this.SearchInput.value,\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      this.setState({ SearchBlank: true });\r\n\r\n      this.SearchInput.focus();\r\n    }\r\n  }\r\n\r\n  onInputBlur() {\r\n    this.setState({ inputFocus: false, SearchBlank: false });\r\n  } //input blur事件\r\n  handleEnterKey(e) {\r\n    const { select, selectOptions, onClickSearch, onSearchKeyUp } = this.props;\r\n\r\n    if (e.nativeEvent.keyCode === 13) {\r\n      if (this.SearchInput.value.trim()) {\r\n        this.setState({ cancleShow: true, SearchBlank: false }, () => {\r\n          if (onClickSearch) {\r\n            return onClickSearch({\r\n              selectdValue: select\r\n                ? this.state.selectdValue\r\n                  ? this.state.selectdValue.value\r\n                  : selectOptions.selectdValue.value\r\n                : null,\r\n              value: this.SearchInput.value,\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        this.setState({ SearchBlank: true });\r\n\r\n        this.SearchInput.focus();\r\n      }\r\n    } else {\r\n      if (onSearchKeyUp) {\r\n        onSearchKeyUp();\r\n      }\r\n    }\r\n  } //键盘enter事件\r\n  render() {\r\n    const {\r\n      width,\r\n      select,\r\n      selectChange,\r\n      placeHolder,\r\n      selectOptions,\r\n      onClickSearch,\r\n      onCancelSearch,\r\n      className,\r\n      CancelBtnShow,\r\n      Value,\r\n      onChange,\r\n    } = this.props;\r\n\r\n    let CancelBtnDisplay = CancelBtnShow\r\n      ? CancelBtnShow === \"y\"\r\n        ? \"block\"\r\n        : \"none\"\r\n      : this.state.cancleShow === true\r\n      ? \"block\"\r\n      : \"none\";\r\n\r\n    return (\r\n      <div\r\n        className={`search_container ${className ? className : \"\"}  ${\r\n          this.state.SearchBlank ? \"border\" : \"\"\r\n        }`}\r\n        style={{\r\n          width: width ? width : \"\",\r\n          borderColor: this.state.SearchBlank\r\n            ? \"#ff0000\"\r\n            : this.state.inputFocus\r\n            ? \"#5897ed\"\r\n            : \"#bac7d9\",\r\n        }}\r\n      >\r\n        <table className=\"search_wrapper_table\">\r\n          <tbody>\r\n            <tr>\r\n              {\r\n                //控制下拉部分的宽度\r\n                select ? (\r\n                  <td\r\n                    style={{\r\n                      width:\r\n                        selectOptions && selectOptions.width\r\n                          ? selectOptions.width\r\n                          : \"86px\",\r\n                    }}\r\n                  >\r\n                    <div className=\"search_select_wrapper\">\r\n                      <span\r\n                        className=\"search_select_span\"\r\n                        ref=\"search_select_span\"\r\n                        onClick={this.toggleSelectd.bind(this)}\r\n                        style={{\r\n                          width:\r\n                            selectOptions && selectOptions.width\r\n                              ? selectOptions.width - 14\r\n                              : \"\",\r\n                        }}\r\n                      >\r\n                        <span\r\n                          className={`search_select_icon ${\r\n                            this.state.selectShow === true\r\n                              ? \"search_slide_icon\"\r\n                              : \"\"\r\n                          }`}\r\n                        ></span>\r\n                        {\r\n                          // 判断是否有state的选中值（this.state.selectdValue）?使用state.selectdValue值：(判断是否有外界传值)?使用外界传值:''\r\n\r\n                          selectOptions && selectOptions.selectdValue ? (\r\n                            <span\r\n                              className=\"search_select_text\"\r\n                              data-value={selectOptions.selectdValue.value}\r\n                              title={selectOptions.selectdValue.title}\r\n                            >\r\n                              {selectOptions.selectdValue.title}\r\n                            </span>\r\n                          ) : this.state.selectdValue ? (\r\n                            <span\r\n                              className=\"search_select_text\"\r\n                              data-value={this.state.selectdValue.value}\r\n                              title={this.state.selectdValue.title}\r\n                            >\r\n                              {this.state.selectdValue.title}\r\n                            </span>\r\n                          ) : (\r\n                            \"\"\r\n                          )\r\n                        }\r\n                      </span>\r\n                      <ul className=\"search_select_ul\" ref=\"search_select_ul\">\r\n                        {\r\n                          //选项列表 (是否外界传值)？：使用外界值：''\r\n                          selectOptions && selectOptions.selectList\r\n                            ? selectOptions.selectList.map((item, k) => {\r\n                                return (\r\n                                  <li\r\n                                    key={k}\r\n                                    onClick={this.changeSelect.bind(this, {\r\n                                      value: item.value,\r\n                                      title: item.title,\r\n                                    })}\r\n                                    className=\"search_select_li\"\r\n                                    data-value={item.value}\r\n                                    title={item.title}\r\n                                  >\r\n                                    {item.title}\r\n                                  </li>\r\n                                );\r\n                              })\r\n                            : \"\"\r\n                        }\r\n                      </ul>\r\n                      <span className=\"search_select_gap\"></span>\r\n                    </div>\r\n                  </td>\r\n                ) : null\r\n              }\r\n              <td className=\"search_left_td\">\r\n                <input\r\n                  ref={(ref) => (this.SearchInput = ref)}\r\n                  className={`search_text_input`}\r\n                  type=\"text\"\r\n                  placeholder={placeHolder ? placeHolder : \"输入关键词快速搜索\"}\r\n                  onFocus={this.onInputFocus.bind(this)}\r\n                  onBlur={this.onInputBlur.bind(this)}\r\n                  onKeyUp={this.handleEnterKey.bind(this)}\r\n                  value={Value ? Value : this.state.Value}\r\n                  onChange={onChange ? onChange : this.InputChange.bind(this)}\r\n                />\r\n                <input\r\n                  className=\"search_cancel_input\"\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    this.setState({ cancleShow: false, Value: \"\" }, () => {\r\n                      this.SearchInput.value = \"\";\r\n                      if (onCancelSearch) {\r\n                        onCancelSearch({\r\n                          selectdValue: select\r\n                            ? this.state.selectdValue\r\n                              ? this.state.selectdValue.value\r\n                              : selectOptions.selectdValue.value\r\n                            : null,\r\n\r\n                          value: \"\",\r\n                        });\r\n                      }\r\n                    });\r\n                  }}\r\n                  style={{ display: CancelBtnDisplay }}\r\n                />\r\n              </td>\r\n              <td className=\"search_right_td\">\r\n                <div\r\n                  className=\"search_btn_input\"\r\n                  onClick={(e) => this.SearchClick(e)}\r\n                ></div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 空数据提示\r\n * */\r\nclass Empty extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      type: props.type,\r\n      title: props.title,\r\n      style: props.style,\r\n      className: props.className ? props.className : \"\",\r\n      noTitle: props.noTitle,\r\n      className_1: \"tips-error-1\",\r\n      imageStyle: props.imageStyle,\r\n      titleStyle: !props.noTitle\r\n        ? props.titleStyle\r\n          ? props.titleStyle\r\n          : \"\"\r\n        : \"noTitle\",\r\n    };\r\n  }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  componentDidMount(nextProps) {\r\n    const { style, title } = this.props;\r\n\r\n    this.setState({\r\n      title: title,\r\n      style: style,\r\n    });\r\n    this.selectType(this.state.type);\r\n  }\r\n\r\n  selectType = (type) => {\r\n    let className_1 = \"tips-error-1\";\r\n    switch (type) {\r\n      case \"1\":\r\n        if (!this.state.title) this.setState({ title: \"请选择要查看的学校\" });\r\n        className_1 = \"tips-error-1\";\r\n        break;\r\n      case \"2\":\r\n        if (!this.state.title) this.setState({ title: \"早起的鸟儿有虫吃~\" });\r\n        className_1 = \"tips-error-2\";\r\n        break;\r\n      case \"3\":\r\n        if (!this.state.title)\r\n          this.setState({ title: \"空空如也，暂时还没有资源～\" });\r\n        className_1 = \"tips-error-3\";\r\n        break;\r\n      case \"4\":\r\n        if (!this.state.title)\r\n          this.setState({ title: \"空空如也，暂时还没有资料～\" });\r\n        className_1 = \"tips-error-4\";\r\n        break;\r\n      case \"5\":\r\n        if (!this.state.title)\r\n          this.setState({ title: \"无搜索结果，换个词试试吧~\" });\r\n        className_1 = \"tips-error-5\";\r\n        break;\r\n      default:\r\n        if (!this.state.title) this.setState({ title: \"请选择要查看的学校\" });\r\n        className_1 = \"tips-error-1\";\r\n        break;\r\n    }\r\n\r\n    this.setState({\r\n      className_1: className_1,\r\n    });\r\n  };\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // UNSAFE_componentWillMount() {\r\n  //   this.selectType(this.state.type);\r\n  // }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={`emptyBox ${this.state.className}`}\r\n        style={this.state.style}\r\n      >\r\n        <i\r\n          style={this.state.imageStyle}\r\n          className={`empty ${this.state.className_1}`}\r\n        ></i>\r\n        <span className={`initTitle ${this.state.titleStyle}`}>\r\n          {this.state.title}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 搜索 end\r\n * */\r\n/*\r\n * 选择组件（单选、多选、全选） start\r\n * */\r\nclass Radio extends React.Component {\r\n  render() {\r\n    const { children, type, ...reset } = this.props;\r\n\r\n    let ClassName = \"\";\r\n\r\n    switch (type) {\r\n      case \"gray\":\r\n        ClassName = \"ant-radio-gray\";\r\n\r\n        break;\r\n\r\n      case \"green\":\r\n        ClassName = \"ant-radio-green\";\r\n\r\n        break;\r\n\r\n      default:\r\n        ClassName = \"\";\r\n    }\r\n\r\n    return (\r\n      <ConfigProvider locale={zhCN}>\r\n        <AntRadio className={ClassName} {...reset}>\r\n          {children}\r\n        </AntRadio>\r\n      </ConfigProvider>\r\n    );\r\n  }\r\n}\r\nclass RadioGroup extends React.Component {\r\n  render() {\r\n    const { children, ...reset } = this.props;\r\n    return (\r\n      <ConfigProvider locale={zhCN}>\r\n        <AntRadio.Group {...reset}>{children}</AntRadio.Group>\r\n      </ConfigProvider>\r\n    );\r\n  }\r\n}\r\nclass CheckBox extends React.Component {\r\n  render() {\r\n    const { children, className, type, ...reset } = this.props;\r\n\r\n    let CheckClassName = \"\";\r\n\r\n    switch (type) {\r\n      case \"gray\":\r\n        CheckClassName = \"ant-checkbox-gray\";\r\n\r\n        break;\r\n\r\n      case \"circle\":\r\n        CheckClassName = \"ant-checkbox-circle\";\r\n\r\n        break;\r\n\r\n      default:\r\n        CheckClassName = \"\";\r\n    }\r\n\r\n    return (\r\n      <ConfigProvider locale={zhCN}>\r\n        <AntCheckBox\r\n          className={`${className ? className : \"\"} ${CheckClassName}`}\r\n          {...reset}\r\n        >\r\n          {children}\r\n        </AntCheckBox>\r\n      </ConfigProvider>\r\n    );\r\n  }\r\n}\r\nclass CheckBoxGroup extends React.Component {\r\n  render() {\r\n    const { children, ...reset } = this.props;\r\n    return (\r\n      <ConfigProvider locale={zhCN}>\r\n        <AntCheckBox.Group {...reset}>{children}</AntCheckBox.Group>\r\n      </ConfigProvider>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 选择组件（单选、多选、全选） end\r\n * */\r\n\r\n/*\r\n * table组件 start\r\n * */\r\nclass Table extends React.Component {\r\n  render() {\r\n    const { children, ...reset } = this.props;\r\n    return (\r\n      <ConfigProvider locale={zhCN}>\r\n        <AntTable {...reset}>{children}</AntTable>\r\n      </ConfigProvider>\r\n    );\r\n  }\r\n}\r\n/*\r\n * table组件 end\r\n * */\r\n/*\r\n * 分页组件 start\r\n * */\r\nclass PageComponent extends React.Component {\r\n  render() {\r\n    const { children, size, className, showSizeChanger, ...reset } = this.props;\r\n\r\n    return (\r\n      <ConfigProvider locale={zhCN}>\r\n        <AntPagination\r\n          className={`${className ? className : \"\"} ${\r\n            size && size === \"micro\" ? \"micro\" : \"\"\r\n          } `}\r\n          size={size}\r\n          showSizeChanger={showSizeChanger}\r\n          showTotal={\r\n            showSizeChanger\r\n              ? (total) => (\r\n                  <span>\r\n                    共<span style={{ color: \"#ff6600\" }}>{total}</span>条\r\n                  </span>\r\n                )\r\n              : () => {}\r\n          }\r\n          {...reset}\r\n        >\r\n          {children}\r\n        </AntPagination>\r\n      </ConfigProvider>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 分页组件 end\r\n * */\r\n\r\n/**\r\n * @description: 封装的错误提醒\r\n * @param {*}\r\n * @return {*component}\r\n */\r\nexport class ErrorAlert extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      show: props.show,\r\n      autoHide: props.autoHide ? props.autoHide : false,\r\n      type:props.type ? props.type : props.autoHide ? \"warn\" :  \"btn-error\",\r\n    };\r\n  }\r\n  // componentWillReceiveProps(nextProps){\r\n  //   this.setState({\r\n  //     // show: nextProps.show,\r\n  //     autoHide:nextProps.autoHide?nextProps.autoHide:false,\r\n  //     type:nextProps.autoHide?'warn':nextProps.type?nextProps.type:'btn-error',\r\n  //   })\r\n  // }\r\n  onOk = () => {\r\n    let { onOk } = this.props;\r\n    typeof onOk === \"function\" && onOk();\r\n    this.setState({\r\n      show: false,\r\n    });\r\n  };\r\n\r\n  onCancel = () => {\r\n    let { onCancel } = this.props;\r\n    typeof onCancel === \"function\" && onCancel();\r\n    this.setState({\r\n      show: false,\r\n    });\r\n  };\r\n  onClose = () => {\r\n    let { onClose } = this.props;\r\n    typeof onClose === \"function\" && onClose();\r\n    this.setState({\r\n      show: false,\r\n    });\r\n  };\r\n  onHide = () => {\r\n    typeof this.state.autoHide === \"function\" && this.state.autoHide();\r\n    this.state.autoHide && this.onClose();\r\n  };\r\n  render() {\r\n    // console.log(this.state.show)\r\n    return (\r\n      <Alert\r\n        show={this.state.show}\r\n        type={this.state.type}\r\n        title={this.props.title}\r\n        onOk={this.onOk}\r\n        onCancel={this.onCancel}\r\n        onClose={this.onClose}\r\n        cancelShow={this.props.cancelShow ? \"y\" : \"n\"}\r\n        onHide={this.onHide}\r\n      ></Alert>\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * @description: 高阶组件，封装组件挂载在alert上\r\n * @param {*component}\r\n * @return {*component}\r\n */\r\n// 暂时不能用\r\nexport const withAlert = (Component) => {\r\n  if (!(Component instanceof Object)) {\r\n    console.log(\"Component 不是组件:\" + Component);\r\n    return;\r\n  }\r\n  let AlertDom = document.getElementById(\"alert\");\r\n  if (!AlertDom) {\r\n    //alert节点不存在，创建一个\r\n    let body = document.getElementsByTagName(\"body\")[0];\r\n    let alert = document.createElement(\"div\");\r\n    alert.setAttribute(\"id\", \"alert\");\r\n    body.appendChild(alert);\r\n    AlertDom = document.getElementById(\"alert\");\r\n  }\r\n  ReactDOM.render(Component, AlertDom);\r\n};\r\n\r\n/**\r\n * @description: 错误提示\r\n * @param {*}\r\n * @return {*}\r\n */\r\nfunction Tip(props) {\r\n  let { className, children, ...reset } = props;\r\n  return (\r\n    <Tooltip\r\n      getPopupContainer={(e) => e.parentNode}\r\n      placement={\"right\"}\r\n      overlayClassName={`lg-tip ${className ? className : \"\"}`}\r\n      {...reset}\r\n    >\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n}\r\n/**\r\n * @description: 下拉选择器\r\n * @param {*}\r\n * @return {*}\r\n */\r\nfunction DropDownComponent(props) {\r\n  const {\r\n    // value,\r\n    dropList,\r\n    width,\r\n    className,\r\n    dropdownClassName,\r\n    style,\r\n    title,\r\n    onSelect,\r\n    ...reset\r\n  } = props;\r\n  // console.log(props);\r\n  return (\r\n    <div\r\n      className={`lg-dropdown ${!title ? \"second-level-dropdown\" : \"\"} ${\r\n        className ? className : \"\"\r\n      }`}\r\n    >\r\n      {title ? <span className=\"dropdown-title\">{title}:</span> : \"\"}\r\n      <Select\r\n        className={`dropdown-box ${dropdownClassName ? dropdownClassName : \"\"}`}\r\n        width={width}\r\n        style={{ width: (width ? width : 200) + \"px\", ...style }}\r\n        onSelect={(e, option) => {\r\n          typeof onSelect === \"function\" &&\r\n            onSelect(e, {\r\n              ...option,\r\n              ...dropList.find((child) => child.value === e),\r\n            });\r\n        }}\r\n        {...reset}\r\n      >\r\n        {dropList instanceof Array &&\r\n          dropList.map((child, index) => {\r\n            return (\r\n              <Option value={child.value} key={index}>\r\n                {child.title}\r\n              </Option>\r\n            );\r\n          })}\r\n      </Select>\r\n    </div>\r\n  );\r\n}\r\n\r\n/*\r\n * 弹出框\r\n * */\r\nclass Modal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      afterClose: props.afterClose /*Modal 完全关闭后的回调*/,\r\n      bodyStyle: props.bodyStyle /*Modal body 样式*/,\r\n      closable: props.closable /*是否显示右上角的关闭按钮*/,\r\n      footer:\r\n        props.footer /*底部内容，当不需要默认底部按钮时，可以设为 footer={null}*/,\r\n      mask: props.mask /*是否展示遮罩*/,\r\n      maskClosable: props.maskClosable\r\n        ? props.maskClosable\r\n        : false /*Modal 完全关闭后的回调*/,\r\n      maskStyle: props.maskStyle /*遮罩样式*/,\r\n      okText: props.okText /*确认按钮文字*/,\r\n      okType: props.okType /*确认按钮类型*/,\r\n      style: props.style /*可用于设置浮层的样式，调整浮层位置等*/,\r\n      title: props.title /*标题*/,\r\n      width: props.width /*宽度*/,\r\n      onCancel: props.onCancel /*点击遮罩层或右上角叉或取消按钮的回调*/,\r\n      onOk: props.onOk /*点击确定回调*/,\r\n      visible: props.visible /*对话框是否可见*/,\r\n      className: props.className ? props.className : \"\" /**/,\r\n      destroyOnClose: props.destroyOnClose ? props.destroyOnClose : true,\r\n      ModalStyle: \"Modal-1\",\r\n    };\r\n  }\r\n\r\n  selectType(type) {\r\n    let width = 810;\r\n    let ModalStyle = \"Modal-1\";\r\n    switch (type) {\r\n      case \"1\":\r\n        width = 810;\r\n        ModalStyle = \"Modal-1\";\r\n        break;\r\n      case \"2\":\r\n        width = 810;\r\n        ModalStyle = \"Modal-2\";\r\n        this.setState({\r\n          footer: null,\r\n        });\r\n        break;\r\n      case \"3\":\r\n        width = 588;\r\n        ModalStyle = \"Modal-3\";\r\n        break;\r\n      default:\r\n        width = 810;\r\n        ModalStyle = \"Modal-1\";\r\n    }\r\n    this.setState({\r\n      width: this.props.width ? this.props.width : width,\r\n      ModalStyle: ModalStyle,\r\n    });\r\n    const Ref = createRef();\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.selectType(this.props.type);\r\n  }\r\n\r\n  // UNSAFE_componentWillReceiveProps(nextProps) {\r\n  //   const { title, bodyStyle, className, footer, mask } = nextProps;\r\n\r\n  //   this.selectType(this.props.type);\r\n\r\n  //   this.setState({ title: title, bodyStyle, className, footer, mask });\r\n  // }\r\n  // 拖拽modal\r\n\r\n  componentDidMount() {\r\n    const { title, bodyStyle, className, footer, mask } = this.props;\r\n\r\n    // this.selectType(this.props.type);\r\n\r\n    // this.setState({ title: title, bodyStyle, className, footer, mask });\r\n    //         let modalHeader = $('.ant-modal-header');\r\n    //         let modal = $(this.refs.Modal);\r\n    //         console.log(modalHeader,modal)\r\n    //         modal.click((e)=>{\r\n    // console.log(e)\r\n    //         })\r\n    //         modal.mousedown(function(e) {\r\n    //             // e.pageX\r\n    //             console.log('215')\r\n    //             var positionDiv = $(this).offset();\r\n    //             var distenceX = e.pageX - positionDiv.left;\r\n    //             var distenceY = e.pageY - positionDiv.top;\r\n    //             //alert(distenceX)\r\n    //             // alert(positionDiv.left);\r\n    //             $(document).mousemove(function(e) {\r\n    //                 var x = e.pageX - distenceX;\r\n    //                 var y = e.pageY - distenceY;\r\n    //                 if (x < 0) {\r\n    //                     x = 0;\r\n    //                 } else if (x > $(document).width() - modal.outerWidth(true)) {\r\n    //                     x = $(document).width() - modal.outerWidth(true);\r\n    //                 }\r\n    //                 if (y < 0) {\r\n    //                     y = 0;\r\n    //                 } else if (y > $(document).height() - modal.outerHeight(true)) {\r\n    //                     y = $(document).height() - $modal.outerHeight(true);\r\n    //                 }\r\n    //                 modal.css({\r\n    //                     'left': x + 'px',\r\n    //                     'top': y + 'px'\r\n    //                 });\r\n    //             });\r\n    //             $(document).mouseup(function() {\r\n    //                 $(document).off('mousemove');\r\n    //             });\r\n    //         });\r\n    /* $('.ant-modal').each((index,that)=>{\r\n\r\n            console.log($(that).width());\r\n\r\n            $(that).css({\r\n\r\n                left:($(window).width()-$(that).width()/2)+'px',\r\n\r\n                top:($(window).height()-$(that).height()/2)+'px',\r\n\r\n            });\r\n\r\n        });\r\n\r\n        let xTemp, yTemp;\r\n\r\n        let can_move = false;\r\n\r\n        $(document).on('dragstart', '.ant-modal-header', function(e) { return false; });\r\n\r\n        $(document).on('mousedown', '.ant-modal-header', function(event) {\r\n\r\n            let $win = $(event.target).closest('.ant-modal');\r\n\r\n            can_move = true;\r\n\r\n            $(event.target).css('cursor', 'move');\r\n\r\n            let mx = event.pageX;\r\n\r\n            let my = event.pageY;\r\n\r\n            xTemp = mx - parseInt($win.offset().left);\r\n\r\n            yTemp = my - parseInt($win.offset().top);\r\n\r\n            console.log(xTemp,yTemp);\r\n\r\n        });\r\n        //var win;\r\n        ///MSIE 8.0/.test(window.navigator.userAgent) ? win = document : win = window;\r\n\r\n        $(window).mousemove(function(event) {\r\n\r\n            if (can_move) {\r\n\r\n                let $win = $(event.target).closest('.ant-modal');\r\n\r\n                let $window = $(window);\r\n\r\n                let mx = event.pageX;\r\n\r\n                let my = event.pageY;\r\n\r\n                if (mx - xTemp > 0 && mx - xTemp < $window.width() - $win.width()) {\r\n\r\n                    console.log(mx - xTemp);\r\n\r\n                    $win.css('left', mx - xTemp+'px');\r\n\r\n                }\r\n\r\n                if (my - yTemp > 0 && my - yTemp < $window.height() - $win.height()) {\r\n\r\n                    console.log(my - yTemp);\r\n\r\n                    $win.css('top', my - yTemp+'px');\r\n\r\n                }\r\n\r\n\r\n\r\n            }\r\n\r\n        }).mouseup(function(event) {\r\n\r\n            can_move = false;\r\n\r\n            $('.ant-modal-header').css('cursor', 'default');\r\n\r\n        });*/\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <AntdModal\r\n        // ref={ref=>this.Modal=ref}\r\n        ref={this.Ref}\r\n        onOk={this.state.onOk}\r\n        onCancel={this.state.onCancel}\r\n        title={this.state.title}\r\n        className={`initModel ${this.state.ModalStyle} ${this.state.className}`}\r\n        style={this.state.style}\r\n        okText={this.state.okText}\r\n        maskClosable={this.state.maskClosable}\r\n        mask={this.state.mask}\r\n        maskStyle={this.props.maskStyle}\r\n        closable={this.state.closable}\r\n        destroyOnClose={this.state.destroyOnClose}\r\n        bodyStyle={this.state.bodyStyle}\r\n        afterClose={this.state.afterClose}\r\n        visible={this.props.visible}\r\n        centered={this.props.centered ? this.props.centered : true}\r\n        width={this.state.width}\r\n        zIndex={this.state.zIndex}\r\n        closeIcon={\r\n          this.state.ModalStyle === \"Modal-1\" ? (\r\n            <i className={\"modal-close-icon\"}></i>\r\n          ) : null\r\n        }\r\n        footer={\r\n          this.state.footer === null\r\n            ? null\r\n            : this.state.footer\r\n            ? this.state.footer\r\n            : [\r\n                <Button\r\n                  key=\"onOk\"\r\n                  type=\"primary\"\r\n                  size=\"small\"\r\n                  color=\"green\"\r\n                  onClick={this.state.onOk}\r\n                >\r\n                  {this.props.okText ? this.props.okText : \"确定\"}\r\n                </Button>,\r\n                <Button\r\n                  key=\"onCancel\"\r\n                  size=\"small\"\r\n                  color=\"blue\"\r\n                  onClick={this.state.onCancel}\r\n                >\r\n                  {this.props.cancelText ? this.props.cancelText : \"取消\"}\r\n                </Button>,\r\n              ]\r\n        }\r\n        id=\"AntdModal\"\r\n      >\r\n        {this.props.children}\r\n      </AntdModal>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 按钮组件\r\n * */\r\n\r\nclass Button extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      type: props.type /*type:primary、default、默认primary*/,\r\n      size: props.size /*size:large、normal、small默认normal*/,\r\n      disabled: props.disabled ? true : false,\r\n      color: props.color,\r\n      value: props.value,\r\n      shape: props.shape /*shape:round、circle、默认border-radius:4px*/,\r\n      onClick: props.onClick,\r\n      onChange: props.onChange,\r\n      style: props.style,\r\n      className: props.className ? props.className : \"\",\r\n    };\r\n  }\r\n  componentWillReceiveProps(props) {\r\n    this.setState({\r\n      type: props.type /*type:primary、default、默认primary*/,\r\n      size: props.size /*size:large、normal、small默认normal*/,\r\n      disabled: props.disabled ? true : false,\r\n      color: props.color,\r\n      value: props.value,\r\n      shape: props.shape /*shape:round、circle、默认border-radius:4px*/,\r\n      onClick: props.onClick,\r\n      onChange: props.onChange,\r\n      style: props.style,\r\n      className: props.className ? props.className : \"\",\r\n    });\r\n  }\r\n\r\n  /*\r\n   * size筛选:large、normal、small，不写默认为normal\r\n   * */\r\n  HandleSize = (size) => {\r\n    switch (size) {\r\n      case \"large\":\r\n        return \"btn-large\";\r\n      case \"normal\":\r\n        return \"btn-normal\";\r\n      case \"small\":\r\n        return \"btn-small\";\r\n      default:\r\n        return \"btn-size\";\r\n    }\r\n  };\r\n\r\n  /*\r\n   * color筛选:orange、green、blue、red、mazarine(深蓝色)，不写默认为blue\r\n   * */\r\n  HandleColor = (color, disabled, type) => {\r\n    if (type === \"primary\") {\r\n      if (disabled) return \"btn-disabled\";\r\n      else {\r\n        switch (color) {\r\n          case \"orange\":\r\n            return \"btn-orange\";\r\n          case \"green\":\r\n            return \"btn-green\";\r\n          case \"blue\":\r\n            return \"btn-blue\";\r\n          case \"red\":\r\n            return \"btn-red\";\r\n          case \"mazarine\":\r\n            return \"btn-mazarine\";\r\n          default:\r\n            return \"btn-orange\";\r\n        }\r\n      }\r\n    } else if (type === \"default\") {\r\n      if (disabled) return \"btn-disabled-default\";\r\n      else {\r\n        switch (color) {\r\n          case \"orange\":\r\n            return \"btn-orange-default\";\r\n          case \"green\":\r\n            return \"btn-green-default\";\r\n          case \"blue\":\r\n            return \"btn-blue-default\";\r\n          case \"red\":\r\n            return \"btn-red-default\";\r\n          case \"mazarine\":\r\n            return \"btn-mazarine-default\";\r\n          default:\r\n            return \"btn-orange-default\";\r\n        }\r\n      }\r\n    } else {\r\n      if (disabled) return \"btn-disabled\";\r\n      else {\r\n        switch (color) {\r\n          case \"orange\":\r\n            return \"btn-orange\";\r\n          case \"green\":\r\n            return \"btn-green\";\r\n          case \"blue\":\r\n            return \"btn-blue\";\r\n          case \"red\":\r\n            return \"btn-red\";\r\n          case \"mazarine\":\r\n            return \"btn-mazarine\";\r\n          default:\r\n            return \"btn-orange\";\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  handleHeight = (height) => {\r\n    return {\r\n      height: height + \"px\",\r\n      lineHeight: height + \"px\",\r\n    };\r\n  };\r\n  handleWidth = (width) => {\r\n    return {\r\n      width: width + \"px\",\r\n    };\r\n  };\r\n\r\n  handleStyle = () => {\r\n    let style = this.state.style ? this.state.style : {};\r\n    if (this.props.height) {\r\n      style = Object.assign({}, style, this.handleHeight(this.props.height));\r\n    }\r\n    if (this.props.width) {\r\n      style = Object.assign({}, style, this.handleWidth(this.props.width));\r\n    }\r\n    // console.log(style)\r\n    return { style };\r\n  };\r\n  render() {\r\n    return (\r\n      <ConfigProvider locale={zhCN}>\r\n        <AntdButton\r\n          className={`Button ${this.HandleSize(\r\n            this.state.size\r\n          )} ${this.HandleColor(\r\n            this.state.color,\r\n            this.state.disabled,\r\n            this.state.type\r\n          )} ${this.state.className}`}\r\n          shape={this.state.shape}\r\n          disabled={this.state.disabled}\r\n          onClick={this.state.onClick}\r\n          style={this.state.style}\r\n          block={this.props.block}\r\n          href={this.props.href}\r\n          target={this.props.target}\r\n        >\r\n          {this.props.children ? this.props.children : this.state.value}\r\n        </AntdButton>\r\n      </ConfigProvider>\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * @description: 空标签，通过传入组件来控制是否渲染组件，方便做是否使用操作\r\n * @param {*}\r\n * @return {*}\r\n */\r\nfunction EmptyReact(props) {\r\n  let { component: Component, children,props:Props } = props;\r\n\r\n  return <>{Component ? <Component {...Props}>{children}</Component> : <>{children}</>}</>;\r\n}\r\nconst PagiNation = memo(PageComponent);\r\nconst Alert = memo(AppAlert);\r\nconst DropDown = memo(DropComponent);\r\nconst Dropdown = memo(DropDownComponent);\r\nexport {\r\n  Alert,\r\n  Loading,\r\n  DropDown,\r\n  Search,\r\n  Empty,\r\n  PagiNation,\r\n  Table,\r\n  CheckBoxGroup,\r\n  CheckBox,\r\n  RadioGroup,\r\n  Radio,\r\n  Tip,\r\n  Modal,\r\n  Button,\r\n  Dropdown,\r\n  EmptyReact,\r\n};\r\n","\r\n/* eslint-disable no-undef */\r\n// import { func } from \"prop-types\";\r\n\r\n// import config from \"./config\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport $ from \"jquery\";\r\nimport { ErrorAlert } from \"../component/common\";\r\nimport resolve from \"resolve\";\r\n//对象深度对比\r\nexport const deepCompare = (x, y) => {\r\n  var i, l, leftChain, rightChain;\r\n\r\n  function compare2Objects(x, y) {\r\n    var p;\r\n\r\n    // remember that NaN === NaN returns false\r\n    // and isNaN(undefined) returns true\r\n    if (\r\n      isNaN(x) &&\r\n      isNaN(y) &&\r\n      typeof x === \"number\" &&\r\n      typeof y === \"number\"\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    // Compare primitives andexport functions.\r\n    // Check if both arguments link to the same object.\r\n    // Especially useful on the step where we compare prototypes\r\n    if (x === y) {\r\n      return true;\r\n    }\r\n\r\n    // Works in case whenexport functions are created in constructor.\r\n    // Comparing dates is a common scenario. Another built-ins?\r\n    // We can even handleexport functions passed across iframes\r\n    if (\r\n      (typeof x === \"function\" && typeof y === \"function\") ||\r\n      (x instanceof Date && y instanceof Date) ||\r\n      (x instanceof RegExp && y instanceof RegExp) ||\r\n      (x instanceof String && y instanceof String) ||\r\n      (x instanceof Number && y instanceof Number)\r\n    ) {\r\n      return x.toString() === y.toString();\r\n    }\r\n\r\n    // At last checking prototypes as good as we can\r\n    if (!(x instanceof Object && y instanceof Object)) {\r\n      return false;\r\n    }\r\n\r\n    if (x.isPrototypeOf(y) || y.isPrototypeOf(x)) {\r\n      return false;\r\n    }\r\n\r\n    if (x.constructor !== y.constructor) {\r\n      return false;\r\n    }\r\n\r\n    if (x.prototype !== y.prototype) {\r\n      return false;\r\n    }\r\n\r\n    // Check for infinitive linking loops\r\n    if (leftChain.indexOf(x) > -1 || rightChain.indexOf(y) > -1) {\r\n      return false;\r\n    }\r\n\r\n    // Quick checking of one object being a subset of another.\r\n    // todo: cache the structure of arguments[0] for performance\r\n    for (p in y) {\r\n      if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\r\n        return false;\r\n      } else if (typeof y[p] !== typeof x[p]) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    for (p in x) {\r\n      if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\r\n        return false;\r\n      } else if (typeof y[p] !== typeof x[p]) {\r\n        return false;\r\n      }\r\n\r\n      switch (typeof x[p]) {\r\n        case \"object\":\r\n        case \"function\":\r\n          leftChain.push(x);\r\n          rightChain.push(y);\r\n\r\n          if (!compare2Objects(x[p], y[p])) {\r\n            return false;\r\n          }\r\n\r\n          leftChain.pop();\r\n          rightChain.pop();\r\n          break;\r\n\r\n        default:\r\n          if (x[p] !== y[p]) {\r\n            return false;\r\n          }\r\n          break;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  if (arguments.length < 1) {\r\n    return true; //Die silently? Don't know how to handle such case, please help...\r\n    // throw \"Need two or more arguments to compare\";\r\n  }\r\n\r\n  for (i = 1, l = arguments.length; i < l; i++) {\r\n    leftChain = []; //Todo: this can be cached\r\n    rightChain = [];\r\n\r\n    if (!compare2Objects(arguments[0], arguments[i])) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\n//获取url参数\r\nexport function getQueryVariable(variable) {\r\n  // var query =\r\n  // window.location.search.substring(1) ||\r\n  // window.location.href.split(\"?\")[1] ||\r\n  // window.location.href;\r\n  return getUrlQueryVariable(window.location.href, variable);\r\n  // var vars = query.split(\"&\");\r\n  // for (var i = 0; i < vars.length; i++) {\r\n  //   var pair = vars[i].split(\"=\");\r\n  //   if (pair[0] === variable) {\r\n  //     return pair[1];\r\n  //   }\r\n  // }\r\n  // return false;\r\n}\r\n\r\n//获取url参数\r\n/**\r\n * @description: 通过参数url查询是否存在variable键\r\n * @param {*url：链接，variable：所查询的键}\r\n * @return {*boolean}\r\n */\r\nexport function getUrlQueryVariable(url, variable) {\r\n  if (typeof url === \"string\" && !url.includes(\"?\")) {\r\n    //判断是否为字符串和包含？，不是则返回false\r\n    return false;\r\n  }\r\n  let { urlSearch } = divideUrl(url);\r\n  var vars = urlSearch.split(\"&\");\r\n  for (var i = 0; i < vars.length; i++) {\r\n    var pair = vars[i].split(\"=\");\r\n    if (pair[0] === variable) {\r\n      return pair[1];\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n *\r\n * 返回对相应的数据类型\r\n */\r\nexport function getType(data) {\r\n  return Object.prototype.toString.call(data).substring(8).split(/]/)[0];\r\n}\r\n\r\n/**\r\n *\r\n * @param {*} sourceObj\r\n * @param {*} compareObj\r\n *\r\n * 比较对象是否相等\r\n *\r\n */\r\nexport function comparisonObject(sourceObj, compareObj) {\r\n  // eslint-disable-next-line no-throw-literal\r\n  if (arguments.length < 2) throw \"Incorrect number of parameters\";\r\n  let sourceType = getType(sourceObj);\r\n  if (sourceType !== getType(compareObj)) return false;\r\n  // Not objects and arrays\r\n  if (\r\n    sourceType !== \"Array\" &&\r\n    sourceType !== \"Object\" &&\r\n    sourceType !== \"Set\" &&\r\n    sourceType !== \"Map\"\r\n  ) {\r\n    if (sourceType === \"Number\" && sourceObj.toString() === \"NaN\") {\r\n      return compareObj.toString() === \"NaN\";\r\n    }\r\n    if (sourceType === \"Date\" || sourceType === \"RegExp\") {\r\n      return sourceObj.toString() === compareObj.toString();\r\n    }\r\n    return sourceObj === compareObj;\r\n  } else if (sourceType === \"Array\") {\r\n    if (sourceObj.length !== compareObj.length) return false;\r\n    if (sourceObj.length === 0) return true;\r\n    for (let i = 0; i < sourceObj.length; i++) {\r\n      if (!comparisonObject(sourceObj[i], compareObj[i])) return false;\r\n    }\r\n  } else if (sourceType === \"Object\") {\r\n    let sourceKeyList = Reflect.ownKeys(sourceObj);\r\n    let compareKeyList = Reflect.ownKeys(compareObj);\r\n    let key;\r\n    if (sourceKeyList.length !== compareKeyList.length) return false;\r\n    for (let i = 0; i < sourceKeyList.length; i++) {\r\n      key = sourceKeyList[i];\r\n      if (key !== compareKeyList[i]) return false;\r\n      if (!comparisonObject(sourceObj[key], compareObj[key])) return false;\r\n    }\r\n  } else if (sourceType === \"Set\" || sourceType === \"Map\") {\r\n    // 把 Set Map 转为 Array\r\n    if (!comparisonObject(Array.from(sourceObj), Array.from(compareObj)))\r\n      return false;\r\n  }\r\n  return true;\r\n}\r\n// 处理链接，获取lg_tk\r\nexport function urlRemLg_tk(url) {\r\n  let Url = decodeURIComponent(url);\r\n  if (Url.indexOf(\"lg_tk\") === -1) {\r\n    return Url;\r\n  }\r\n  let lg_tk = \"\";\r\n  if (Url.indexOf(\"#\") === -1) {\r\n    lg_tk = Url.split(\"lg_tk=\")[1].split(\"&\")[0];\r\n  } else {\r\n    lg_tk = Url.split(\"lg_tk=\")[1].split(\"#\")[0].split(\"&\")[0];\r\n  }\r\n\r\n  lg_tk = Url.includes(\"&lg_tk=\") ? \"&lg_tk=\" + lg_tk : \"lg_tk=\" + lg_tk;\r\n\r\n  return Url.replace(lg_tk + \"&\", \"\").replace(lg_tk, \"\");\r\n}\r\nexport function removeToken(url) {\r\n  return removeParam(url, \"lg_tk\");\r\n}\r\n/**\r\n * @description: location去除指定键值,可\r\n * @param {*param:string 所去除的键，url：string,要处理的url}\r\n * @return {*success返回url}\r\n */\r\nexport function removeParam(url, param) {\r\n  if (typeof url !== \"string\") {\r\n    console.error(\"url类型应该为String\");\r\n    return url;\r\n  }\r\n  url = decodeURIComponent(url); //解码\r\n  if (url.indexOf(param) === -1 || url.indexOf(\"?\") === -1) {\r\n    //不存在，直接返回\r\n    return url;\r\n  }\r\n  let { urlHash, urlPath, urlSearch } = divideUrl(url);\r\n  urlSearch = noHashUrl(urlSearch, param);\r\n  return urlPath + \"?\" + urlSearch + \"#/\" + urlHash;\r\n}\r\nfunction noHashUrl(urlSearch, param) {\r\n  let params = urlSearch.split(\"&\");\r\n  let search = [];\r\n  for (let i = 0; i < params.length; i++) {\r\n    let pair = params[i].split(\"=\");\r\n    if (pair[0] !== param) {\r\n      search.push(params[i]);\r\n    }\r\n  }\r\n  return search.join(\"&\");\r\n}\r\n/**\r\n * @description: 替换url上的参数\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const addOrgToUrl = (url = \"\", paramName = \"\", replaceWith = \"\") => {\r\n  //url字符串添加参数\r\n  //url:路径地址 paramName：参数名 replaceWith：参数值\r\n  let { urlHash, urlPath, urlSearch } = divideUrl(url);\r\n  let paraStr = paramName + \"=\" + replaceWith;\r\n  // console.log(replaceWith,paramName)\r\n  if (url.indexOf(paramName) > -1) {\r\n    //原本存在\r\n    // var re = eval(\"/(\" + paramName + \"=)([^&]*)/gi\");\r\n    // url = url.replace(re, paramName + \"=\" + replaceWith);\r\n    url =\r\n      urlPath +\r\n      \"?\" +\r\n      noHashUrl(urlSearch, paramName) +\r\n      \"&\" +\r\n      paraStr +\r\n      \"#/\" +\r\n      urlHash;\r\n  } else {\r\n    var idx = url.indexOf(\"?\");\r\n    if (idx < 0) {\r\n      //没有?\r\n      url = urlPath + \"?\" + paraStr + \"#/\" + urlHash;\r\n    } else if (idx >= 0 && idx !== url.length - 1) {\r\n      url = urlPath + \"?\" + urlSearch + \"&\" + paraStr + \"#/\" + urlHash;\r\n    }\r\n  }\r\n  return url;\r\n};\r\n\r\n/**\r\n * @description: 处理url，分为三段，path,search,hash\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst divideUrl = (url) => {\r\n  let urlSearch = \"\";\r\n  let urlHash = \"\";\r\n  let urlPath = \"\";\r\n  let hashIndex = url.indexOf(\"#/\"); //hash 的位置,查询是否有哈希，有先分离，后面加回来\r\n  let searchIndex = url.indexOf(\"?\"); //参数的位置\r\n  if (hashIndex !== -1) {\r\n    //不存在hash\r\n    if (hashIndex < searchIndex) {\r\n      //哈希在前面，直接切\r\n      urlSearch = url.split(\"#/\")[1].split(\"?\")[1];\r\n      urlPath = url.split(\"#/\")[0];\r\n      urlHash = url.split(\"#/\")[1].split(\"?\")[0];\r\n    } else {\r\n      //在后面，需要先去掉哈希\r\n      urlSearch = url.split(\"#/\")[0].split(\"?\")[1];\r\n      urlPath = url.split(\"#/\")[0].split(\"?\")[0];\r\n      urlHash = url.split(\"#/\")[1];\r\n    }\r\n  } else {\r\n    urlSearch = url.split(\"?\")[1];\r\n    urlPath = url.split(\"?\")[0];\r\n  }\r\n  return {\r\n    urlHash,\r\n    urlPath,\r\n    urlSearch,\r\n  };\r\n};\r\n// 处理url适合获取icon\r\nexport const UrlGetIcon = (url) => {\r\n  let urlArr = \"\";\r\n  // console.log(url,url instanceof String,typeof url)\r\n  if (typeof url !== \"string\") {\r\n    return;\r\n  }\r\n  if (url.indexOf(\"://\") !== \"-1\") {\r\n    urlArr = url.split(\"/\").slice(0, 3).join(\"/\");\r\n    // console.log(urlArr)\r\n    return urlArr;\r\n  } else {\r\n    urlArr = url.split(\"/\")[0];\r\n    // console.log(urlArr)\r\n\r\n    return urlArr;\r\n  }\r\n};\r\n\r\n/**\r\n * @description: 数组遍历，下级是对象切存在下级字段可进行深层遍历\r\n * @param {*array:遍历的数组，*childrenKey:代表下级的对象字段,*callback:查找的回调}\r\n * @return {*}\r\n */\r\nexport const deepMap = (\r\n  array,\r\n  callback = () => {},\r\n  childrenKey = \"children\",\r\n  levelback = false, //深遍历到第几层，缺省默认遍历全部，定义为number遍历到该层，从1开始，包括number层\r\n  // 后面的为自己回调用\r\n  level = 1,\r\n  parent = [],\r\n  indexArray = []\r\n) => {\r\n  if (!(array instanceof Array)) {\r\n    return false;\r\n  }\r\n\r\n  array.forEach((child, index) => {\r\n    let IndexArray = indexArray.map((child) => child);\r\n    IndexArray.push(index);\r\n    callback({ child, index, indexArray: IndexArray, level, parent });\r\n    if (\r\n      (!levelback || isNaN(levelback) || level < levelback) &&\r\n      child[childrenKey] instanceof Array\r\n    ) {\r\n      deepMap(\r\n        child[childrenKey],\r\n        callback,\r\n        childrenKey,\r\n        levelback,\r\n        level + 1,\r\n        [child].concat(parent),\r\n        IndexArray\r\n      );\r\n    }\r\n  });\r\n};\r\n// export const requestNextAnimationFrame = (function () {\r\n//   var originalWebkitMethod,\r\n//     wrapper = undefined,\r\n//     callback = undefined,\r\n//     geckoVersion = 0,\r\n//     userAgent = navigator.userAgent,\r\n//     index = 0,\r\n//     self = this;\r\n//   if (window.webkitRequestAnimationFrame) {\r\n//     wrapper =export function (time) {\r\n//       if (time === undefined) {\r\n//         time += new Date();\r\n//       }\r\n//       self.callback(time);\r\n//     };\r\n//     originalWebkitMethod = window.webkitRequestAnimationFrame;\r\n//     window.webkitRequestAnimationFrame =export function (callback=()=>{}, element) {\r\n//       if(!self ){\r\n//         self = this;\r\n//       }\r\n//       console.log(self,this ,callback)\r\n//       self.callback = callback;\r\n//       originalWebkitMethod(wrapper, element);\r\n//     };\r\n//   }\r\n//   if (window.mozRequestAnimationFrame) {\r\n//     index = userAgent.indexOf(\"rv:\");\r\n//     if (userAgent.indexOf(\"Gecko\") !== -1) {\r\n//       geckoVersion = userAgent.substr(index + 3, 3);\r\n//       if (geckoVersion === \"2.0\") {\r\n//         window.mozRequestAnimationFrame = undefined;\r\n//       }\r\n//     }\r\n//   }\r\n\r\n//   return (\r\n//     window.requestNextAnimationFrame ||\r\n//     window.webkitRequestAnimationFrame ||\r\n//     window.mozRequestAnimationFrame ||\r\n//     window.oRequestAnimationFrame ||\r\n//     window.msRequestAnimationFrame ||\r\n//    export function (callback, element) {\r\n//       var start, finish;\r\n//       window.setTimeout(function () {\r\n//         start = +new Date();\r\n//         callback(start);\r\n//         finish = +new Date();\r\n//         self.timeout = 1000 / 60 - (finish - start);\r\n//       }, self.timeout);\r\n//     }\r\n//   );\r\n// })();\r\n\r\nexport const IEVersion = () => {\r\n  let userAgent = navigator.userAgent; //取得浏览器的userAgent字符串\r\n  // console.log(userAgent)\r\n  let isIE =\r\n    userAgent.indexOf(\"compatible\") > -1 && userAgent.indexOf(\"MSIE\") > -1; //判断是否IE<11浏览器\r\n  let isEdge = userAgent.indexOf(\"Edge\") > -1 && !isIE; //判断是否IE的Edge浏览器\r\n  let isIE11 =\r\n    userAgent.indexOf(\"Trident\") > -1 && userAgent.indexOf(\"rv:11.0\") > -1;\r\n  if (isIE) {\r\n    let reIE = new RegExp(\"MSIE (\\\\d+\\\\.\\\\d+);\");\r\n    reIE.test(userAgent);\r\n    let fIEVersion = parseFloat(RegExp[\"$1\"]);\r\n    if (fIEVersion < 10) {\r\n      //IE版本低于10 跳转到错误页面\r\n      //   window.location.href = config.ErrorProxy + \"/browser-tips.html\";\r\n      return false;\r\n      //   console.log(\"版本过低\");\r\n\r\n      //   console.log(fIEVersion);\r\n    } else {\r\n      console.log(\"这是IE10\");\r\n      return true; //IE版本>=10\r\n    }\r\n  } else if (isEdge) {\r\n    console.log(\"这个edge\");\r\n    return true; //edge\r\n  } else if (isIE11) {\r\n    console.log(\"这是IE11\");\r\n    return true; //IE11\r\n  } else {\r\n    console.log(\"不是ie浏览器\");\r\n    return true;\r\n  }\r\n};\r\n// 给教务系统，处理url，改变布局，设置跳转逻辑\r\nexport function checkUrlAndPostMsg(\r\n  { sysid = \"000\", btnName = \"\", url = \"\" },\r\n  useDefault = true,\r\n  func = () => {}\r\n) {\r\n  let iFrame = getQueryVariable(\"iFrame\");\r\n  let isIFrame = false;\r\n  // let { sysid, btnName, url } = params;\r\n  // console.log(iFrame, sysid, btnName, url, arguments);\r\n  if (iFrame === \"true\") {\r\n    isIFrame = true;\r\n\r\n    window.parent.postMessage({ sysid, btnName, url }, \"*\");\r\n  } else if (useDefault) {\r\n    window.open(url);\r\n  }\r\n  if (typeof arguments[arguments.length - 1] === \"function\") {\r\n    arguments[arguments.length - 1](isIFrame);\r\n  }\r\n  // (isIFrame);\r\n  return isIFrame;\r\n}\r\n\r\n// 设置用户角色,模块角色统一在这处理\r\nexport const setRole = (LoginMsg) => {\r\n  // let {\r\n  //   dispatch,\r\n  //   DataState,\r\n  //   PublicState: {\r\n  //     LoginMsg: { UserType, UserClass },\r\n  //   },\r\n  // } = this.props;\r\n  let { UserType, UserClass } = LoginMsg;\r\n  let Role = \"\";\r\n  UserType = parseInt(UserType);\r\n  UserClass = parseInt(UserClass);\r\n  if (UserType === 0 && (UserClass === 1 || UserClass === 2)) {\r\n    //学校管理员（admin_学校代码，创建学校时生成）\r\n    Role = \"Admin-School\";\r\n  } else if (UserType === 0 && (UserClass === 3 || UserClass === 4)) {\r\n    //学院管理员\r\n    Role = \"Admin-College\";\r\n  } else if (UserType === 1) {\r\n    //教师,— UserClass=100000~111111：\r\n    //后5位分别代表：\r\n    //任课教师、班主任、教研者（V3.0无效，恒为0）、学科主管、校领导\r\n    //（V3.0无效，恒为0），值为1时代表有该身份；\r\n    Role = \"Teacher\";\r\n  } else if (UserType === 2) {\r\n    //学生\r\n    Role = \"Student\";\r\n  } else if (UserType === 7) {\r\n    //学校领导（V3.0之后的版本才有此角色）\r\n    // — UserClass=0 校长\r\n    //— UserClass=1 副校长\r\n    //— UserClass=2 教务主任\r\n    Role = \"Leader-School\";\r\n  } else if (UserType === 10) {\r\n    //学院领导（V3.0之后的版本才有此角色）\r\n    // — UserClass=3 院长\r\n    //— UserClass=4 副院长\r\n    Role = \"Leader-College\";\r\n  } else if (UserType === 3) {\r\n    //家长\r\n\r\n    Role = \"Parent\";\r\n  } else if (UserType === 4) {\r\n    //教育专家\r\n\r\n    Role = \"Specialist\";\r\n  } else if (UserType === 5) {\r\n    //教育局领导\r\n\r\n    Role = \"Leader-Education\";\r\n  }\r\n  return { ...LoginMsg, Role };\r\n};\r\n// 数组与与元素 去重添加\r\nexport const noRepeat = (data, value) => {\r\n  //data:Array,value:string\r\n  let end = [];\r\n  data instanceof Array && data.push(value);\r\n  data instanceof Array &&\r\n    data.forEach((child) => {\r\n      // let isRepeat = false;\r\n      // eslint-disable-next-line eqeqeq\r\n      if (child === \"\" || child == undefined) {\r\n        return;\r\n      }\r\n      if (end.length === 0) {\r\n        end.push(child);\r\n      } else {\r\n        if (!end.some((child2) => child2 === child)) {\r\n          end.push(child);\r\n        }\r\n      }\r\n    });\r\n  return end;\r\n};\r\n// 数组与数组去重合并\r\nexport const ArrayNoRepeat = (Arr1 = [], Arr2 = []) => {\r\n  let end = Arr1;\r\n  Arr2 instanceof Array &&\r\n    Arr2.forEach((child, index) => {\r\n      end = noRepeat(end, child);\r\n    });\r\n  return end;\r\n};\r\n/**\r\n * @description:数组内部去重\r\n * @param {*array}\r\n * @return {*array}\r\n */\r\nexport const SimpleArrayNoRepeat = (Arr) => {\r\n  return ArrayNoRepeat(Arr, Arr);\r\n};\r\n// 适配工作平台跳转到对应班级\r\n//array:[classid,classid]\r\nexport function matchParamfromArray(\r\n  { param = \"classid\", array = [] },\r\n\r\n  fn = () => {}\r\n) {\r\n  let Param = getQueryVariable(param);\r\n  let Class = false;\r\n  if (Param && array instanceof Array) {\r\n    array.some((child) => {\r\n      let isTrue = child.value === Param;\r\n      if (isTrue) {\r\n        Class = child;\r\n      }\r\n      return isTrue;\r\n    });\r\n  }\r\n  fn(Class);\r\n  return Class;\r\n}\r\n// 适配工作平台跳转到对应班级\r\n//array:[classid,classid]\r\nexport function matchTypeAdd(\r\n  { param = \"type\" },\r\n\r\n  fn = () => {}\r\n) {\r\n  let Param = getQueryVariable(param);\r\n  let isAdd = false;\r\n  if (Param === \"add\") {\r\n    isAdd = true;\r\n  }\r\n  fn(isAdd);\r\n  return isAdd;\r\n}\r\n// export default {\r\n//   deepCompare,\r\n//   getQueryVariable,\r\n//   getUrlQueryVariable,\r\n//   comparisonObject,\r\n//   urlRemLg_tk,\r\n//   UrlGetIcon,\r\n//   IEVersion,\r\n//   // requestNextAnimationFrame,\r\n//   checkUrlAndPostMsg,\r\n//   setRole,\r\n//   noRepeat,\r\n//   ArrayNoRepeat,\r\n//   matchTypeAdd,\r\n//   matchParamfromArray,\r\n// };\r\n/**\r\n * @description: 存数据到storage,sessionStorage,localStorage\r\n * @param {*key:键,value:值，haveLocalStorage:是否存到localStorage}\r\n * @return {*boolean:是否存成功}\r\n */\r\nexport const setDataStorage = (\r\n  key = \"error\",\r\n  value = \"key is undefined\",\r\n  haveLocalStorage = false\r\n) => {\r\n  value = value instanceof Object ? JSON.stringify(value) : value;\r\n  sessionStorage.setItem(key, value);\r\n  haveLocalStorage && localStorage.setItem(key, value);\r\n};\r\n\r\n/**\r\n * @description: 获取storage的数据\r\n * @param {*key:键，haveLocalStorage:是否取localStorage}\r\n * @return {*value:不存在返回null}\r\n */\r\nexport const getDataStorage = (key, haveLocalStorage = false) => {\r\n  if (key === undefined) {\r\n    console.log(\"Storage key is not undefined\");\r\n    return null;\r\n  }\r\n  let value = \"\";\r\n  if (haveLocalStorage) {\r\n    value = localStorage.getItem(key);\r\n  } else {\r\n    value = sessionStorage.getItem(key);\r\n  }\r\n  if (value === null) {\r\n    console.log(key + \" Storage is not exist\");\r\n\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    value = JSON.parse(value);\r\n  } catch (e) {}\r\n  return value;\r\n};\r\n\r\n/**\r\n * @description: 处理路由pathname,返回数组\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const handleRoute = (pathname) => {\r\n  console.log(\"pathname\", pathname)\r\n  return pathname.substr(1).split(\"/\");\r\n};\r\n\r\n/**\r\n * @description: 项目检查input输入\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function checkInput({ value, regular, success, error }) {\r\n  let fun = () => {};\r\n  value = value || \"\";\r\n  regular = regular || /^[A-Za-z0-9_()\\u4e00-\\u9fa5-]{0,100}$/;\r\n  success = success || fun;\r\n  error = error || fun;\r\n\r\n  if (value === \"\") {\r\n    error(true);\r\n    return;\r\n  }\r\n  // 普通：[A-Za-z0-9_()\\u4e00-\\u9fa5-]\r\n  // 严格：  /^[a-zA-Z0-9_\\u4e00-\\u9fa5][a-zA-Z0-9_\\u4e00-\\u9fa5 ]{0,48}[a-zA-Z0-9_\\u4e00-\\u9fa5]$|^[a-zA-Z0-9_\\u4e00-\\u9fa5]{1,50}$/\r\n  let Test = regular.test(value);\r\n  if (Test) {\r\n    success();\r\n  } else {\r\n    error(false);\r\n  }\r\n}\r\n\r\n/**\r\n * @description: 获取alert节点\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getAlertDom() {\r\n  let AlertDom = document.getElementById(\"alert\");\r\n  if (!AlertDom) {\r\n    //alert节点不存在，创建一个\r\n    let body = document.getElementsByTagName(\"body\")[0];\r\n    let alert = document.createElement(\"div\");\r\n    alert.setAttribute(\"id\", \"alert\");\r\n    body.appendChild(alert);\r\n    AlertDom = document.getElementById(\"alert\");\r\n  }\r\n  return AlertDom;\r\n}\r\n/**\r\n * @description: 打开提示框，自动挂载\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const autoAlert = ({ title, type, autoHide, ...other }) => {\r\n  title = title || \"服务器出现未知异常，请重试或联系管理员\";\r\n\r\n  let AlertDom = getAlertDom();\r\n  ReactDOM.render(\r\n    // eslint-disable-next-line react/react-in-jsx-scope\r\n    <ErrorAlert\r\n      key={\"alert-400-\" + Math.round(Math.random() * 10000)}\r\n      show={true}\r\n      title={title}\r\n      type={type}\r\n      autoHide={autoHide}\r\n      {...other}\r\n    />,\r\n    AlertDom\r\n  );\r\n};\r\n/**\r\n * @description: 防抖，适用滚动、resize\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function debounce(fn, delay) {\r\n  let timer = null;\r\n  return function () {\r\n    if (timer) {\r\n      clearTimeout(timer);\r\n    }\r\n    timer = setTimeout(fn, delay);\r\n  };\r\n}\r\n// 分析文件类型\r\nexport const constructFileType = (fileName) => {\r\n  //moduleType:plan,preview\r\n  let VideoType = [\r\n    \"avi\",\r\n    \"asf\",\r\n    \"wmv\",\r\n    \"avs\",\r\n    \"flv\",\r\n    \"mkv\",\r\n    \"mov\",\r\n    \"3gp\",\r\n    \"mp4\",\r\n    \"mpg\",\r\n    \"mpeg\",\r\n    \"dat\",\r\n    \"ogm\",\r\n    \"vob\",\r\n    \"rm\",\r\n    \"rmvb\",\r\n    \"ts\",\r\n    \"tp\",\r\n    \"ifo\",\r\n    \"nsv\",\r\n    \"m4v\",\r\n    \"m3u8\",\r\n    \"3gpp\",\r\n    \"3gpp2\",\r\n    \"divx\",\r\n    \"f4v\",\r\n    \"ram\",\r\n    \"v8\",\r\n    \"swf\",\r\n    \"m2v\",\r\n    \"asx\",\r\n    \"ndivx\",\r\n    \"xvid\",\r\n  ];\r\n  let AudioType = [\r\n    \"mp3\",\r\n    \"aac\",\r\n    \"wav\",\r\n    \"cda\",\r\n    \"flac\",\r\n    \"m4a\",\r\n    \"mid\",\r\n    \"mka\",\r\n    \"mp2\",\r\n    \"mpa\",\r\n    \"mpc\",\r\n    \"ape\",\r\n    \"ofr\",\r\n    \"ogg\",\r\n    \"ra\",\r\n    \"wv\",\r\n    \"tta\",\r\n    \"ac3\",\r\n    \"dts\",\r\n    \"wma\",\r\n    \"midi\",\r\n  ];\r\n  // 压缩文件类型\r\n  let CompressType = [\r\n    \"rar\",\r\n    \"zip\",\r\n    \"7z\",\r\n    \"arj\",\r\n    \"cab\",\r\n    \"lzh\",\r\n    \"ace\",\r\n    \"gz\",\r\n    \"uue\",\r\n    \"bz2\",\r\n    \"jar\",\r\n    \"iso\",\r\n  ];\r\n  let PicType = [\"jpeg\", \"jpg\", \"tiff\", \"raw\", \"bmp\", \"gif\", \"png\"];\r\n  let type = \"file\"; //默认教案集\r\n  let isDecide = false;\r\n  if (typeof fileName === \"string\") {\r\n    let index = fileName.lastIndexOf(\".\");\r\n    if (index === -1) {\r\n      // 不存在，表示是单纯的字符串，使用教案集\r\n      // if(moduleType==='plan')\r\n      // type = \"plan\";\r\n      // else {\r\n      type = \"unknown\";\r\n      // }\r\n    } else {\r\n      let FileType = fileName.slice(index + 1).toLowerCase();\r\n      VideoType.some((child) => {\r\n        if (child === FileType) {\r\n          //视屏\r\n          type = \"video\";\r\n          isDecide = true;\r\n        }\r\n        return child === FileType;\r\n      });\r\n      AudioType.some((child) => {\r\n        //音频\r\n        if (child === FileType) {\r\n          type = \"audio\";\r\n          isDecide = true;\r\n          return child === FileType;\r\n        }\r\n        return child === FileType;\r\n      });\r\n      PicType.some((child) => {\r\n        //图片\r\n        if (child === FileType) {\r\n          type = \"pic\";\r\n          isDecide = true;\r\n        }\r\n        return child === FileType;\r\n      });\r\n      CompressType.some((child) => {\r\n        //压缩\r\n        if (child === FileType) {\r\n          type = \"zip\";\r\n          isDecide = true;\r\n        }\r\n        return child === FileType;\r\n      });\r\n      if (!isDecide) {\r\n        //前面不匹配\r\n\r\n        if (FileType === \"doc\" || FileType === \"docx\") {\r\n          type = \"doc\";\r\n        } else if (FileType === \"xls\" || FileType === \"xlsx\") {\r\n          type = \"excel\";\r\n        } else if (FileType === \"ppt\") {\r\n          type = \"ppt\";\r\n        } else if (FileType === \"pdf\") {\r\n          type = \"pdf\";\r\n        } else if (FileType === \"html\" || FileType === \"xml\") {\r\n          type = \"html\";\r\n        } else if (FileType === \"txt\") {\r\n          type = \"txt\";\r\n        } else {\r\n          type = \"unknown\";\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return type;\r\n};\r\n\r\n/**\r\n * @description: 文件大小\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const calculateFileSize = (fileSize) => {\r\n  let unit = [\"B\", \"KB\", \"M\", \"G\", \"T\"];\r\n  let i = unit.length - 1;\r\n  let myUnit = \"B\";\r\n  for (i; i >= 0; i--) {\r\n    if (fileSize / Math.pow(1024, i) >= 1) {\r\n      myUnit = unit[i];\r\n      break;\r\n    }\r\n  }\r\n  let str = Math.round((fileSize / Math.pow(1024, i)) * 100) / 100;\r\n  let Size = str.toString() + myUnit;\r\n  // // console.log(i,myUnit,Size)\r\n  return Size;\r\n};\r\n\r\n/**\r\n * @description: 获取平台的token，先url，后session，最后local，如果都没有，直接掉线\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const getToken = () => {\r\n  let token =\r\n    getQueryVariable(\"lg_tk\") ||\r\n    getDataStorage(\"token\") ||\r\n    getDataStorage(\"token\", true);\r\n  return token;\r\n};\r\n\r\n/**\r\n * @description: 使用echarts后，界面resize，对echarts实例要进行重绘\r\n * @param {*echartsInstance:echarts实例，必选，*params:function,返回{width,height},可缺省}\r\n * @return {*}\r\n */\r\nexport const resizeForEcharts = (echartsInstance, fn) => {\r\n  if (!echartsInstance) {\r\n    return;\r\n  }\r\n  $(window).resize(() => {\r\n    let height = null;\r\n    let width = null;\r\n    if (typeof fn === \"function\") {\r\n      let back = fn();\r\n      if (back instanceof Object) {\r\n        height = back.height || null;\r\n        width = back.width || null;\r\n      }\r\n    }\r\n\r\n    echartsInstance.resize(width, height);\r\n  });\r\n};\r\n\r\nfunction getClass(o) {\r\n  //判断数据类型\r\n  return Object.prototype.toString.call(o).slice(8, -1);\r\n}\r\n/**\r\n * @description: 深拷贝\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function deepCopy(obj) {\r\n  var result,\r\n    oClass = getClass(obj);\r\n\r\n  if (oClass === \"Object\") result = {};\r\n  //判断传入的如果是对象，继续遍历\r\n  else if (oClass === \"Array\") result = [];\r\n  //判断传入的如果是数组，继续遍历\r\n  else return obj; //如果是基本数据类型就直接返回\r\n\r\n  for (var i in obj) {\r\n    var copy = obj[i];\r\n\r\n    if (getClass(copy) === \"Object\") result[i] = deepCopy(copy);\r\n    //递归方法 ，如果对象继续变量obj[i],下一级还是对象，就obj[i][i]\r\n    else if (getClass(copy) === \"Array\") result[i] = deepCopy(copy);\r\n    //递归方法 ，如果对象继续数组obj[i],下一级还是数组，就obj[i][i]\r\n    else result[i] = copy; //基本数据类型则赋值给属性\r\n  }\r\n\r\n  return result;\r\n}\r\n// 处理为数组，\r\nexport const changeToArray = (param) => {\r\n  let end = [];\r\n  if (!(param instanceof Array)) {\r\n    // if (!param) {\r\n    //   end = [];\r\n    // }\r\n    if (typeof param === \"object\") {\r\n      for (let i in param) {\r\n        end.push(param[i]);\r\n      }\r\n    } else if (typeof param === \"string\") {\r\n      end = [param];\r\n    } else {\r\n      end = [param];\r\n    }\r\n  } else {\r\n    end = param;\r\n  }\r\n  return end;\r\n};\r\n\r\n/**\r\n * @description: 动态添加标签到dom\r\n * @param {*params:节点的属性，*element：所要添加的标签名，*parent:所添加的标签放到的位置}\r\n * @return {*}\r\n */\r\nexport const addElement = (\r\n  params = {},\r\n  element = \"script\",\r\n  parent = \"body\",\r\n  callback = () => {}\r\n) => {\r\n  try {\r\n    let Element = document.createElement(element);\r\n    // Element = { ...Element, ...params };\r\n    for (let i in params) {\r\n      Element[i] = params[i];\r\n    }\r\n    // 如果params带有id属性，判断dom是否有该节点了\r\n    if (\r\n      params.id &&\r\n      // params.src &&\r\n      document.getElementById(params.id)\r\n      // &&\r\n      // params.src === document.getElementById(params.id).src\r\n    ) {\r\n      callback(false);\r\n      return;\r\n    }\r\n    document[parent].appendChild(Element);\r\n    callback(true);\r\n  } catch (e) {\r\n    callback(false);\r\n\r\n    console.error(e);\r\n  }\r\n};\r\n/**\r\n * @description: 添加script,params传onLoad表示使用同步\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const addScript = async (\r\n  params = {},\r\n  element = \"script\",\r\n  parent = \"body\"\r\n) => {\r\n  // if (params.onLoad) {\r\n  return new Promise((resolve, reject) => {\r\n    addElement(\r\n      {\r\n        type: \"text/javascript\",\r\n        charset: \"utf-8\",\r\n        ...params,\r\n        onload: () => {\r\n          resolve(true);\r\n          typeof params.onLoad === \"function\" && params.onLoad();\r\n        },\r\n      },\r\n      element,\r\n      parent,\r\n      (data) => {\r\n        // if(!data)\r\n        resolve(data);\r\n      }\r\n    );\r\n  });\r\n  // } else {\r\n  //   addElement({ type: \"text/javascript\", ...params }, element, parent);\r\n  // }\r\n};\r\n\r\nexport const SetNaNToNumber = (data) => {\r\n  return isNaN(Number(data)) ? 0 : Number(data);\r\n};\r\n\r\n/**\r\n * @description: 时间转换,单纯的秒分时装换\r\n * @param {*time:要转换的时间，*front：转换前单位，*back：转换后单位}\r\n * 先简单点,分=>时\r\n * @return {*}\r\n */\r\nexport const transTime = (time, front, back) => {\r\n  time = isNaN(time) ? 0 : Number(time);\r\n  let data = {\r\n    time: time,\r\n    unit_zh: \"分钟\",\r\n    unit_En_Up: \"M\",\r\n    unit_En_Low: \"m\",\r\n    // Time_zh: time + \"分\",\r\n  };\r\n  if (back === \"h\" || time >= 60) {\r\n    data.time = Number((time / 60).toFixed(2));\r\n    data.unit_zh = \"小时\";\r\n    data.unit_En_Up = \"H\";\r\n    data.unit_En_Low = \"h\";\r\n  }\r\n  data.Time_zh = data.time + data.unit_zh;\r\n  data.Time_En = data.time + data.unit_En_Up;\r\n  data.Time_En_Low = data.time + data.unit_En_Low;\r\n  return data;\r\n};\r\n// 解决js数字失精问题\r\n// 0.7*100=7.0000000000001\r\n// 0.1+0.2=0.30000000000004\r\n/**\r\n * @description:\r\n * @param {*} number:要操作的数\r\n * @param {*} keepDecimal:保留多少小数，缺省不操作\r\n * @return {*}\r\n */\r\nexport function correctNumber(number = 0, keepDecimal) {\r\n  number = Number(number);\r\n  try {\r\n    let num = parseFloat(number.toPrecision(12));\r\n\r\n    return keepDecimal === undefined && typeof keepDecimal === \"number\"\r\n      ? num\r\n      : Number(num.toFixed(keepDecimal));\r\n  } catch (e) {\r\n    console.log(e);\r\n    return 0;\r\n  }\r\n}\r\n/**\r\n * @description: 判断浏览器内核\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const BrowserMsg = {\r\n  versions: (function () {\r\n    let u = navigator.userAgent,\r\n      app = navigator.appVersion;\r\n    return {\r\n      trident: u.indexOf(\"Trident\") > -1, //IE内核\r\n      presto: u.indexOf(\"Presto\") > -1, //opera内核\r\n      webKit: u.indexOf(\"AppleWebKit\") > -1, //苹果、谷歌内核\r\n      gecko: u.indexOf(\"Gecko\") > -1 && u.indexOf(\"KHTML\") === -1, //火狐内核\r\n      mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端\r\n      ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端\r\n      android: u.indexOf(\"Android\") > -1 || u.indexOf(\"Adr\") > -1, //android终端\r\n      iPhone: u.indexOf(\"iPhone\") > -1, //是否为iPhone或者QQHD浏览器\r\n      iPad: u.indexOf(\"iPad\") > -1, //是否iPad\r\n      webApp: u.indexOf(\"Safari\") === -1, //是否web应该程序，没有头部与底部\r\n      weixin: u.indexOf(\"MicroMessenger\") > -1, //是否微信 （2015-01-22新增）\r\n      qq: u.match(/\\sQQ/i) === \" qq\", //是否QQ\r\n    };\r\n  })(),\r\n  language: (navigator.browserLanguage || navigator.language).toLowerCase(),\r\n};\r\n\r\n/**\r\n * @description: 判断各种浏览器类型和版本\r\n * @param {*} window\r\n * @return {*}\r\n */\r\nexport const Browser=Browser || (function(window){\r\n\tvar document = window.document,\r\n\t\tnavigator = window.navigator,\r\n\t\tagent = navigator.userAgent.toLowerCase(),\r\n\t\t//IE8+支持.返回浏览器渲染当前文档所用的模式\r\n\t\t//IE6,IE7:undefined.IE8:8(兼容模式返回7).IE9:9(兼容模式返回7||8)\r\n\t\t//IE10:10(兼容模式7||8||9)\r\n\t\tIEMode = document.documentMode,\r\n\t\t//chorme\r\n\t\tchrome = window.chrome || false,\r\n\t\tSystem = {\r\n\t\t\t//user-agent\r\n\t\t\tagent : agent,\r\n\t\t\t//是否为IE\r\n\t\t\tisIE : /msie/.test(agent),\r\n\t\t\t//Gecko内核\r\n\t\t\tisGecko: agent.indexOf(\"gecko\")>0 && agent.indexOf(\"like gecko\")<0,\r\n\t\t\t//webkit内核\r\n\t\t\tisWebkit: agent.indexOf(\"webkit\")>0,\r\n\t\t\t//是否为标准模式\r\n\t\t\tisStrict: document.compatMode === \"CSS1Compat\",\r\n\t\t\t//是否支持subtitle\r\n\t\t\tsupportSubTitle:function(){\r\n\t\t\t\treturn \"track\" in document.createElement(\"track\");\r\n\t\t\t},\r\n\t\t\t//是否支持scoped\r\n\t\t\tsupportScope:function(){\r\n\t\t\t\treturn \"scoped\" in document.createElement(\"style\");\r\n\t\t\t},\r\n\t\t\t//获取IE的版本号\r\n\t\t\tieVersion:function(){\r\n\t\t\t\ttry {\r\n\t\t\t\t   return agent.match(/msie ([\\d.]+)/)[1] || 0;\r\n\t\t\t\t} catch(e) {\r\n\t\t\t\t   console.log(\"error\");\r\n\t\t\t\t   return IEMode;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//Opera版本号\r\n\t\t\toperaVersion:function(){\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif(window.opera) {\r\n\t\t\t\t\t\treturn agent.match(/opera.([\\d.]+)/)[1];\r\n\t\t\t\t\t} else if(agent.indexOf(\"opr\") > 0) {\r\n\t\t\t\t\t\treturn agent.match(/opr\\/([\\d.]+)/)[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(e) {\r\n\t\t\t\t\tconsole.log(\"error\");\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//描述:version过滤.如31.0.252.152 只保留31.0\r\n\t\t\tversionFilter:function(){\r\n\t\t\t\tif(arguments.length === 1 && typeof arguments[0] === \"string\") {\r\n\t\t\t\t\tvar version = arguments[0];\r\n\t\t\t\t\t\tstart = version.indexOf(\".\");\r\n\t\t\t\t\tif(start>0){\r\n\t\t\t\t\t\tend = version.indexOf(\".\",start+1);\r\n\t\t\t\t\t\tif(end !== -1) {\r\n\t\t\t\t\t\t\treturn version.substr(0,end);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn version;\r\n\t\t\t\t} else if(arguments.length === 1) {\r\n\t\t\t\t\treturn arguments[0];\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\ttry {\r\n\t\t//浏览器类型(IE、Opera、Chrome、Safari、Firefox)\r\n\t\tSystem.type = System.isIE?\"IE\":\r\n\t\t\twindow.opera || (agent.indexOf(\"opr\") > 0)?\"Opera\":\r\n\t\t\t(agent.indexOf(\"chrome\")>0)?\"Chrome\":\r\n\t\t\t//safari也提供了专门的判定方式\r\n\t\t\twindow.openDatabase?\"Safari\":\r\n\t\t\t(agent.indexOf(\"firefox\")>0)?\"Firefox\":\r\n\t\t\t'unknow';\r\n\r\n\t\t//版本号\r\n\t\tSystem.version = (System.type === \"IE\")?System.ieVersion():\r\n\t\t\t(System.type === \"Firefox\")?agent.match(/firefox\\/([\\d.]+)/)[1]:\r\n\t\t\t(System.type === \"Chrome\")?agent.match(/chrome\\/([\\d.]+)/)[1]:\r\n\t\t\t(System.type === \"Opera\")?System.operaVersion():\r\n\t\t\t(System.type === \"Safari\")?agent.match(/version\\/([\\d.]+)/)[1]:\r\n\t\t\t\"0\";\r\n\r\n\t\t//浏览器外壳\r\n\t\tSystem.shell=function(){\r\n\t\t\t//遨游浏览器\r\n\t\t\tif(agent.indexOf(\"maxthon\") > 0) {\r\n\t\t\t\tSystem.version = agent.match(/maxthon\\/([\\d.]+)/)[1] || System.version ;\r\n\t\t\t\treturn \"傲游浏览器\";\r\n\t\t\t}\r\n\t\t\t//QQ浏览器\r\n\t\t\tif(agent.indexOf(\"qqbrowser\") > 0) {\r\n\t\t\t\tSystem.version = agent.match(/qqbrowser\\/([\\d.]+)/)[1] || System.version ;\r\n\t\t\t\treturn \"QQ浏览器\";\r\n\t\t\t}\r\n\r\n\t\t\t//搜狗浏览器\r\n\t\t\tif( agent.indexOf(\"se 2.x\")>0) {\r\n\t\t\t\treturn '搜狗浏览器';\r\n\t\t\t}\r\n\r\n\t\t\t//Chrome:也可以使用window.chrome && window.chrome.webstore判断\r\n\t\t\tif(chrome && System.type !== \"Opera\") {\r\n\t\t\t\tvar external = window.external,\r\n\t\t\t\t\tclientInfo = window.clientInformation,\r\n\t\t\t\t\t//客户端语言:zh-cn,zh.360下面会返回undefined\r\n\t\t\t\t\tclientLanguage = clientInfo.languages;\r\n\r\n\t\t\t\t//猎豹浏览器:或者agent.indexOf(\"lbbrowser\")>0\r\n\t\t\t\tif( external && 'LiebaoGetVersion' in external) {\r\n\t\t\t\t\t return '猎豹浏览器';\r\n\t\t\t\t}\r\n\t\t\t\t//百度浏览器\r\n\t\t\t\tif (agent.indexOf(\"bidubrowser\")>0) {\r\n\t\t\t\t\tSystem.version = agent.match(/bidubrowser\\/([\\d.]+)/)[1] ||\r\n\t\t\t\t\t\tagent.match(/chrome\\/([\\d.]+)/)[1];\r\n\t\t\t\t\treturn \"百度浏览器\";\r\n\t\t\t\t}\r\n\t\t\t\t//360极速浏览器和360安全浏览器\r\n\t\t\t\tif( System.supportSubTitle() && typeof clientLanguage === \"undefined\") {\r\n\t\t\t\t\t//object.key()返回一个数组.包含可枚举属性和方法名称\r\n\t\t\t\t\tvar storeKeyLen = Object.keys(chrome.webstore).length,\r\n\t\t\t\t\t\tv8Locale = \"v8Locale\" in window;\r\n\t\t\t\t\treturn storeKeyLen > 1? '360极速浏览器':'360安全浏览器';\r\n\t\t\t\t}\r\n\t\t\t\treturn \"Chrome\";\r\n\t\t\t}\r\n\t\t\treturn System.type;\r\n\t\t};\r\n\r\n\t\t//浏览器名称(如果是壳浏览器,则返回壳名称)\r\n\t\tSystem.name = System.shell();\r\n\t\t//对版本号进行过滤过处理\r\n\t\tSystem.version = System.versionFilter(System.version);\r\n\r\n\t} catch(e) {\r\n\t\tconsole.log(\"error\");\r\n\t}\r\n\treturn {\r\n\t\tclient:System\r\n\t};\r\n\r\n})(window);\r\n/**\r\n * @description: \r\n * @param {*} removeSlashUrl:需要去掉 / 的链接 \r\n * @return {*}\r\n */\r\nexport const removeSlashUrl = (url)=>{\r\n\r\n  const urlArr = url.split('');\r\n\r\n  if (urlArr[urlArr.length-1]==='/'){\r\n\r\n      return url.substr(0,urlArr.length-1);\r\n\r\n  }else{\r\n\r\n      return url;\r\n\r\n  }\r\n\r\n};","/*\r\n *\r\n * 　　┏┓　　　┏┓+ +\r\n * 　┏┛┻━━━┛┻┓ + +\r\n * 　┃　　　　　　　┃\r\n * 　┃　　　━　　　┃ ++ + + +\r\n *  ████━████ ┃+\r\n * 　┃　　　　　　　┃ +\r\n * 　┃　　　┻　　　┃\r\n * 　┃　　　　　　　┃ + +\r\n * 　┗━┓　　　┏━┛\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ + + + +\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ +  神兽保佑\r\n * 　　　┃　　　┃    代码无bug\r\n * 　　　┃　　　┃　　+\r\n * 　　　┃　 　　┗━━━┓ + +\r\n * 　　　┃ 　　　　　　　┣┓\r\n * 　　　┃ 　　　　　　　┏┛\r\n * 　　　┗┓┓┏━┳┓┏┛ + + + +\r\n * 　　　　┃┫┫　┃┫┫\r\n * 　　　　┗┻┛　┗┻┛+ + + +\r\n *\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-18 15:49:51\r\n * @LastEditTime: 2020-12-07 14:39:16\r\n * @Description: token查询掉线机制\r\n * @FilePath: \\teacher-development\\src\\util\\connect.js\r\n */\r\n// import config from \"./ipConfig\";\r\n\r\nimport $ from \"jquery\";\r\n// import React from \"react\";\r\nimport {\r\n  getQueryVariable,\r\n  getDataStorage,\r\n  setDataStorage,\r\n  SimpleArrayNoRepeat,\r\n  urlRemLg_tk,\r\n  addOrgToUrl,removeParam\r\n} from \"./public\";\r\nimport {getBasePlatformMsg} from './init';\r\n// import { useHistory, useLocation } from \"react-router-dom\";\r\n// import { createHashHistory } from \"history\";\r\n// let history = createHashHistory();\r\n\r\n/**\r\n * @description: token检查，是否有效\r\n * @param {*sysID:系统id，默认000；*callback：回调函数,*isFirst:是否是第一次进来}\r\n * @return {*}\r\n */\r\nexport const TokenCheck = async ({ sysID, callback, firstLoad }) => {\r\n  sysID = sysID ? sysID : \"L10\"; //默认基础平台000；\r\n  callback = callback ? callback : (tokenValid) => {}; //回调函数；params:*tokenvalid:token是否有效\r\n  firstLoad = firstLoad ? firstLoad : false; //是否第一次进来判断，默认false\r\n  // token的比重是URL_TOKEN>SESSION_TOKEN>LOCAL_TOKEN\r\n\r\n  const { SESSION_TOKEN, URL_TOKEN, LOCAL_TOKEN } = getToken();\r\n  // session暂无基础平台链接，先写死；\r\n  // if(!baseIP){\r\n    let BasePlatformMsg = JSON.parse(sessionStorage.getItem(\"BasePlatformMsg\"));\r\n    let BasicWebRootUrl = BasePlatformMsg? BasePlatformMsg.WebRootUrl: \"\";\r\n    let baseIP = BasicWebRootUrl\r\n  // }\r\n//   let { BasicWebRootUrl: baseIP } =\r\n//  await getBasePlatformMsg(['BasicWebRootUrl'])\r\n\r\n      // console.log(getDataStorage(\"BasePlatformMsg\").BasicWebRootUrl,baseIP)\r\n  // // 柯里化\r\n  const myTokenError = () => {\r\n    tokenError(baseIP);\r\n  };\r\n  if (!SESSION_TOKEN && !URL_TOKEN && !LOCAL_TOKEN) {\r\n    //检查三者是否都存在，不存在直接跳到登陆页\r\n    myTokenError(); //掉线后重新定向到登陆页\r\n  }\r\n  let tokenList = SimpleArrayNoRepeat([URL_TOKEN, SESSION_TOKEN, LOCAL_TOKEN]); //去重后的\r\n  let isSuccess = false;\r\n  // 柯里化\r\n  const myCheckToken = async (token, success = () => {}, error = () => {}) => {\r\n    isSuccess = await checkToken(\r\n      baseIP,\r\n      token,\r\n      sysID,\r\n      () => {\r\n        success();\r\n      },\r\n      error\r\n    );\r\n    // if (isSuccess) {\r\n    //   success();\r\n    // } else {\r\n    //   error();\r\n    // }\r\n    return isSuccess;\r\n  };\r\n  let loop = 0;\r\n  // 第一步：验证token\r\n\r\n  let isComplete = false; //是否完成\r\n  tokenList.forEach(async (child, index) => {\r\n    if (isComplete) {\r\n      return;\r\n    }\r\n    //some 返回true结束遍历，false继续遍历\r\n    let result = await myCheckToken(\r\n      child,\r\n      () => {},\r\n      () => {\r\n        console.log(++loop, child);\r\n      }\r\n    );\r\n\r\n    if (result) {\r\n      //验证通过\r\n      // 第二步：获取用户信息\r\n      // 获取用户信息，不成功则跳登陆页\r\n      let UserInfo = getDataStorage(\"UserInfo\");\r\n      if (!UserInfo || firstLoad) {\r\n        //不存在就获取\r\n        UserInfo = await getUserInfo();\r\n\r\n        if (!UserInfo) {\r\n          callback(false);\r\n          // myTokenError();\r\n          return;\r\n        }\r\n      }\r\n\r\n      // 最后，执行回调\r\n      callback(UserInfo,child);\r\n      // 通过后需要轮询是否在线\r\n      CirculTokenCheck();\r\n      isComplete = true;\r\n      return true;\r\n    }\r\n    if (index === tokenList.length - 1) {\r\n      //最后都没通过，全部无效\r\n      // alert(\"token失效\");\r\n      callback(false);\r\n      myTokenError();\r\n    }\r\n    return result;\r\n  });\r\n};\r\n\r\n/**\r\n * @description: 退出登陆\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport async function  LogOut ({ baseIP, sysID, init }) {\r\n  const { SESSION_TOKEN, URL_TOKEN, LOCAL_TOKEN } = getToken();\r\n\r\n  if (sysID) {\r\n    sysID = \"L10\";\r\n  }\r\n  baseIP = baseIP\r\n    ? baseIP\r\n    : getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n    ? getDataStorage(\"BasePlatformMsg\").WebRootUrl\r\n    : \"\";\r\n  let token = URL_TOKEN || SESSION_TOKEN || LOCAL_TOKEN;\r\n\r\n  setDataStorage(\"LogOuting\", true);\r\n  loginApi({\r\n    token,\r\n    sysID,\r\n    baseIP,\r\n    method: \"Logout\",\r\n    success: (data) => {\r\n      //验证成功，则\r\n      let json = data;\r\n\r\n      if (json.data.result) {\r\n        //result为true\r\n\r\n        sessionStorage.setItem(\"LogOuting\", false);\r\n        tokenError(baseIP, (init? init: false));\r\n      }\r\n    },\r\n    error: (err) => {\r\n      //请求失败后调用的函数\r\n\r\n      alert(err);\r\n    },\r\n  });\r\n}\r\n/**\r\n * @description: 登陆jsonp的api\r\n * @param {*}\r\n * @return {*}\r\n */\r\n\r\n const loginApi =async ({ baseIP, token, method, sysID, success, error }) => {\r\n  // if (!baseIP) {\r\n  //   const { BasicWebRootUrl } = await getBasePlatformMsg(['BasicWebRootUrl'])\r\n  //   baseIP = BasicWebRootUrl;\r\n  // }\r\n  if(!baseIP){\r\n    let BasePlatformMsg = JSON.parse(sessionStorage.getItem(\"BasePlatformMsg\"));\r\n    let BasicWebRootUrl = BasePlatformMsg? BasePlatformMsg.WebRootUrl: \"\";\r\n  //  let {BasicWebRootUrl} = await getBasePlatformMsg(['BasicWebRootUrl'])\r\n   baseIP = BasicWebRootUrl\r\n  }\r\n  const ajax = $.ajax({\r\n    url: `${baseIP}/UserMgr/Login/Api/Login.ashx?method=${method}&params=${sysID}${\r\n      token ? \"&token=\" + token : \"\"\r\n    }`,\r\n    type: \"GET\",\r\n    dataType: \"jsonp\",\r\n    jsonp: \"jsoncallback\", //这里的值需要和回调函数名一样\r\n    success: (data) => {\r\n      typeof success === \"function\" && success(data);\r\n    },\r\n    error: (data) => {\r\n      typeof error === \"function\" && error(data);\r\n    },\r\n  });\r\n\r\n  return ajax;\r\n};\r\n/**\r\n * @description: 获取token，从url，session，local\r\n * @param {*}\r\n * @return {*SESSION_TOKEN,URL_TOKEN,LOCAL_TOKEN}\r\n */\r\nconst getToken = () => {\r\n  const SESSION_TOKEN = getDataStorage(\"token\"); //存在session的token\r\n  const URL_TOKEN = getQueryVariable(\"lg_tk\"); //存在session的token\r\n  const LOCAL_TOKEN = getDataStorage(\"token\", true); //存在localStorage的token\r\n  return {\r\n    SESSION_TOKEN,\r\n    URL_TOKEN,\r\n    LOCAL_TOKEN,\r\n  };\r\n};\r\n/**\r\n * @description: 轮询是否在线是否有效\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst CirculTokenCheck = () => {\r\n  if (!getDataStorage(\"lastTime\")) {\r\n    //session没有lasttime,给提供一个，一般是初始进来的时候\r\n    let date = new Date();\r\n    let time = date.getTime();\r\n    setDataStorage(\"lastTime\", time); //下次check前的时间\r\n  }\r\n  let interval = 60000;\r\n  setTimeout(async () => {\r\n    let lastTime = getDataStorage(\"lastTime\");\r\n    let date = new Date();\r\n    let time = date.getTime();\r\n    if (interval <= time - lastTime) {\r\n      //少于interval秒不会请求，可能浏览器存在多个同源的站点运行了tokencheck\r\n      // 保证该浏览器只有一个运行\r\n      //当运行TokenCheck后，后台验证需要时间，成功会再次运行CirculTokenCheck\r\n      // 在setTimeout后，时间间隔会大于interval\r\n      // 如果另一个界面更新共用的session里的lasttime后\r\n      // 时间会在interval之间更新，所以间隔会小于interval，该界面不在进行轮询\r\n      // 尽量保证只有一个界面是进行轮询\r\n      setDataStorage(\"lastTime\", time);\r\n      await TokenCheck({});\r\n    }\r\n  }, interval);\r\n};\r\n/**\r\n * @description: 获取用户信息\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const getUserInfo = async (\r\n  baseIP,\r\n  token,\r\n  sysID = \"L10\",\r\n  fun = () => {}\r\n) => {\r\n  token = token ? token : getDataStorage(\"token\");\r\n  // baseIP = baseIP\r\n  //   ? baseIP\r\n  //   : getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n  //   ? getDataStorage(\"BasePlatformMsg\").BasicWebRootUrl\r\n  //   : \"\";\r\n  // if (!baseIP) {\r\n  //   const { BasicWebRootUrl } = await getBasePlatformMsg(['BasicWebRootUrl'])\r\n  //   baseIP = BasicWebRootUrl;\r\n  // }\r\n  if(!baseIP){\r\n    let BasePlatformMsg = JSON.parse(sessionStorage.getItem(\"BasePlatformMsg\"));\r\n    let BasicWebRootUrl = BasePlatformMsg? BasePlatformMsg.WebRootUrl: \"\";\r\n  //  let {BasicWebRootUrl} = await getBasePlatformMsg(['BasicWebRootUrl'])\r\n   baseIP = BasicWebRootUrl\r\n  }\r\n  return new Promise((resolve) => {\r\n    if (!token) {\r\n      resolve(false);\r\n      return;\r\n    }\r\n    loginApi({\r\n      token,\r\n      sysID,\r\n      baseIP,\r\n      method: \"GetUserInfo\",\r\n      success: (data) => {\r\n        if (!data || !data.data) {\r\n          resolve(false);\r\n          return;\r\n        }\r\n        let loginInfo = data ? (data.data ? data.data : {}) : {};\r\n\r\n        let UserInfo = {};\r\n\r\n        UserInfo[\"TruethUserType\"] = loginInfo[\"UserType\"];\r\n        for(let key in loginInfo){\r\n          let value = loginInfo[key]\r\n          // console.log(key,value)\r\n          if (key === \"PhotoPath\") {\r\n            let date = new Date();\r\n            let time = date.getTime();\r\n            value = value + \"?T=\" + time;\r\n          }\r\n          // 锁控处理\r\n          if (key === \"LockerState\" && parseInt(value) !== 1) {\r\n            window.location.href =\r\n              baseIP + \"/LockerMgr/ErrorTips.aspx?ErrorCode=\" + value;\r\n            return;\r\n          }\r\n          UserInfo[key] = decodeURIComponent(value);\r\n        }\r\n\r\n        // for (let [key, value] of Object.entries(loginInfo)) {\r\n        //   // console.log(key,value)\r\n        //   if (key === \"PhotoPath\") {\r\n        //     let date = new Date();\r\n        //     let time = date.getTime();\r\n        //     value = value + \"?T=\" + time;\r\n        //   }\r\n        //   // 锁控处理\r\n        //   if (key === \"LockerState\" && parseInt(value) !== 1) {\r\n        //     window.location.href =\r\n        //       baseIP + \"/LockerMgr/ErrorTips.aspx?ErrorCode=\" + value;\r\n        //     return;\r\n        //   }\r\n        //   UserInfo[key] = decodeURIComponent(value);\r\n        // }\r\n\r\n        UserInfo.isLogin = true;\r\n\r\n        setDataStorage(\"UserInfo\", UserInfo);\r\n\r\n        fun();\r\n        resolve(UserInfo);\r\n      },\r\n      error: (err) => {\r\n        //请求失败后调用的函数\r\n        resolve(false);\r\n      },\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * @description: 掉线页\r\n * @param {*initType:是否带lg_preurl}\r\n * @return {*}\r\n */\r\nconst routeToDisconnect = (baseIP, initType = true) => {\r\n  window.location.href =\r\n    baseIP +\r\n    (initType\r\n      ? \"/?lg_preurl=\" + encodeURIComponent(urlRemLg_tk(window.location.href))\r\n      : \"\");\r\n};\r\n\r\n/**\r\n * @description: ajax获取token验证，返回promise\r\n * @param {*}\r\n * @return {*boolean,返回的都是布尔值，true 通过，false失败}\r\n */\r\nconst checkToken = (\r\n  baseIP,\r\n  token,\r\n  sysID,\r\n  success = () => {},\r\n  error = () => {}\r\n) => {\r\n  return new Promise((resolve, reject) => {\r\n    if (!baseIP || !token || !sysID) {\r\n      resolve(false);\r\n      console.error(\"baseIP or token or sysID is not undefined\");\r\n      return;\r\n    }\r\n    loginApi({\r\n      token,\r\n      sysID,\r\n      baseIP,\r\n      method: \"tokenCheck\",\r\n      success: (data) => {\r\n        if (data && data.data && data.data.result) {\r\n          // console.log(\"success\");\r\n\r\n          tokenSuccess(token);\r\n          success();\r\n          resolve(true);\r\n        } else {\r\n          // console.log(\"error\");\r\n\r\n          error(); //这个error是每次验证失败都运行\r\n          resolve(false);\r\n        }\r\n      },\r\n      error: (data) => {\r\n        // 出错就按token过期处理\r\n        error();\r\n        reject(false);\r\n      },\r\n    });\r\n  });\r\n};\r\n/**\r\n * @description: 验证token成功后,需要存token等操作\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst tokenSuccess = (token) => {\r\n  setDataStorage(\"token\", token); //存在session\r\n  setDataStorage(\"token\", token, true); //local\r\n  // 替换链接token\r\n  window.history.pushState(\r\n    null,\r\n    null,\r\n    addOrgToUrl(window.location.href, \"lg_tk\", token)\r\n  );\r\n};\r\n/**\r\n * @description: 验证token失败后跳转至登陆页，需要所有token都验证完\r\n * @param {*initType:是否带上lg_preurl}\r\n * @return {*}\r\n */\r\nconst tokenError = (baseIP,initType=true) => {\r\n  // 清掉storage\r\n  sessionStorage.clear();\r\n  localStorage.removeItem(\"token\");\r\n  routeToDisconnect(baseIP,initType); //掉线后重新定向到登陆页\r\n};\r\n/**\r\n * @description: 更新url上的token，有就替换，没有就加上\r\n * @param {*}\r\n * @return {*}\r\n */\r\n","/*\r\n *\r\n *    ┏┓　　　┏┓\r\n *  ┏┛┻━━━┛┻┓\r\n *  ┃　　　　　　　┃\r\n *  ┃　　　━　　　┃\r\n *  ┃　＞　　　＜　┃\r\n *  ┃　　　　　　　┃\r\n *  ┃...　⌒　...　┃\r\n *  ┃　　　　　　　┃\r\n *  ┗━┓　　　┏━┛\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃  神兽保佑\r\n *      ┃　　　┃  代码无bug\r\n *      ┃　　　┃\r\n *      ┃　　　┗━━━┓\r\n *      ┃　　　　　　　┣┓\r\n *      ┃　　　　　　　┏┛\r\n *      ┗┓┓┏━┳┓┏┛\r\n *        ┃┫┫　┃┫┫\r\n *        ┗┻┛　┗┻┛\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-18 15:41:25\r\n * @LastEditTime: 2020-12-10 08:59:14\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\util\\ipConfig.js\r\n */\r\n\r\nlet config = {};\r\n\r\nconst host = window.location.host;\r\n\r\nconst pathName = window.location.pathname;\r\n\r\nconst protocol = window.location.protocol;\r\n\r\nlet pathFolder = \"\";\r\n\r\nif (pathName.includes(\"/html/\")) {\r\n  pathFolder = pathName.split(\"/html/\")[0];\r\n} else if (pathName.includes(\".html\")) {\r\n  let strArr = window.location.pathname.split(\".html\")[0].split(\"/\");\r\n\r\n  strArr.pop();\r\n\r\n  pathFolder = strArr.join(\"/\");\r\n} else {\r\n  pathFolder = pathName;\r\n}\r\n\r\nconst RootUrl = protocol + \"//\" + host + pathFolder;\r\nif (process.env.NODE_ENV === \"development\") {\r\n  // 129.64:20103/Web_TeacherGrow/\r\n  //  129.1:8023\r\n  // let baseIP = \"http://192.168.129.134:10103/student-growth\";\r\n  let baseIP = \"http://192.168.129.174:10102/student-growth\";\r\n  // let baseIP = 'http://192.168.129.147:8081/';//本地服务器\r\n  // let baseIP = 'http://192.168.122.100:20105/student-growth';//基础平台服务器\r\n  // let baseIP = 'http://192.168.129.3:10105/student-growth';//基础平台服务器\r\n  // let baseIP = 'http://192.168.129.75:10103/student-growth';//基础平台服务器\r\n  // let baseIP = 'http://192.168.129.1:10103/student-growth';//基础平台服务器\r\n  // let baseIP = 'http://129.64:20103/Web_TeacherGrow';//中小学服务器\r\n  // let baseIP = 'http://192.168.129.182:10103/Web_Teachergrow';//大学服务器\r\n  // let baseIP = 'http://192.168.129.242:10101/Web_TeacherGrow';//大学服务器\r\n  config = {\r\n    TokenProxy: baseIP+\"\",\r\n    // TokenProxy:'http://47.115.20.102:10102',\r\n    proxy:\r\n      \"http://192.168.2.202:7300/mock/5d7726e0ed0ccd1564c8df05/webCloudDev\",\r\n    BasicProxy: baseIP+\"\",\r\n    EditorProxy: \"/UEditor/\",\r\n    // LoginProxy: \"http://192.168.129.64:20102\",\r\n    LoginProxy: \"http://192.168.129.1:10103\",\r\n    ErrorProxy: \"http://192.168.129.1:30103\",\r\n    HashPrevProxy: RootUrl,\r\n    RootProxy: RootUrl,\r\n  };\r\n}\r\n\r\nif (process.env.NODE_ENV === \"production\") {\r\n  config = {\r\n    // TokenProxy: \"\",\r\n\r\n    // BasicProxy: \"\",\r\n    // LoginProxy: \"\",\r\n\r\n    // ErrorProxy: \"\",\r\n    TokenProxy: \"\",\r\n    // TokenProxy:'http://47.115.20.102:10102',\r\n    proxy:\r\n      \"http://192.168.2.202:7300/mock/5d7726e0ed0ccd1564c8df05/webCloudDev\",\r\n    BasicProxy: RootUrl,\r\n    LoginProxy: RootUrl,\r\n    EditorProxy: \"/UEditor/\",\r\n\r\n    ErrorProxy: \"http://192.168.129.1:30103\",\r\n    HashPrevProxy: RootUrl,\r\n    RootProxy: RootUrl,\r\n  };\r\n  console.log = ()=>{}\r\n}\r\n\r\nexport default config;\r\n","import \"whatwg-fetch\";\r\n// import loggerService from \"./logger\";\r\nimport \"es6-promise\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport md5 from \"md5\";\r\nimport $ from \"jquery\";\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n// import { urlRemLg_tk } from \"./public\";\r\nimport { ErrorAlert } from \"../component/common\";\r\nimport { LogOut } from \"./connect\";\r\nimport { getAlertDom } from \"./public\";\r\nconst COMMONKEY = \"123456789\";\r\nconst TESTKEY = \"abcdefgabcdefg12\";\r\n\r\nlet notAuthorizedCounter = 0;\r\nlet fetchService = {\r\n  fetch: (url, method, header, body) => {\r\n    if (!header) {\r\n      header = {};\r\n    }\r\n\r\n    return fetchService[method.toLowerCase()](url, header, body).catch(\r\n      function (exception) {\r\n        console.log(\"fetchService failed:\" + exception);\r\n\r\n        // token过期，重新获取token并发起请求\r\n        if (exception.code === \"401\" || exception.code === \"403\") {\r\n          notAuthorizedCounter++;\r\n          // 最多重试3次\r\n          if (notAuthorizedCounter > 2) {\r\n            notAuthorizedCounter = 0;\r\n            // loggerService.warn(\"401 or 403 received. Max attemps reached.\");\r\n            return;\r\n          } else {\r\n            return fetchService.fetch(url, method, header, body);\r\n          }\r\n        }\r\n      }\r\n    );\r\n  },\r\n  get: ({ url, header, securityLevel, config, advance }) => {\r\n    //advance:是否提前处理,boolean:false表示不用提前，true表示使用，{}表示有选择的使用，里面为number，状态码\r\n    if (!header) {\r\n      //Content-Type: \"application/x-www-form-urlencoded\",\r\n      // \"application/json\",\r\n      // \"multipart/form-data\",\r\n      header = {};\r\n    }\r\n    if (!config) {\r\n      //fetch配置控制\r\n      config = {};\r\n    }\r\n    if (!securityLevel) {\r\n      securityLevel = 2;\r\n    }\r\n    if (advance === undefined) {\r\n      advance = true; //\r\n    }\r\n    let result = fetch(url, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain, */*\", //请求头，代表的、发送端（客户端）希望接收的数据类型\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\", //实体头，代表发送端（客户端|服务器）发送的实体数据的数据类型\r\n        Authorization: requestSecure(url, TESTKEY, securityLevel),\r\n        ...header,\r\n      },\r\n      redirect: \"follow\", //manual、*follow(自动重定向)、error，此项为重定向的相关配置\r\n      // referrer: 'no-referrer',//该首部字段会告知服务器请求的原始资源的URI\r\n      mode: \"cors\", //no-cors(跨域模式但服务器端不支持cors),*cors(跨域模式，需要服务器通过Access-control-Allow-Origin来\r\n      //允许指定的源进行跨域),same-origin(同源)\r\n      cache: \"no-cache\", //*no-cache,default,reload,force-cache,only-ifcached,此项为缓存相关配置\r\n      credentials: \"omit\", //*include(携带cookie)、same-origin(cookie同源携带)、omit(不携带)\r\n      ...config,\r\n    });\r\n    // result.then((res) => {\r\n    //   //做提前处理\r\n    //   let clone = res.clone();\r\n    //   //console.log(clone.json());\r\n    //   return clone;\r\n    // }).then(\r\n    //   (res) => res.json(),\r\n    //   (err) => {\r\n    //     return false;\r\n    //   }\r\n    // )\r\n    result.then((res) => {\r\n      //做提前处理\r\n      // console.log(res)\r\n      if (advance) {\r\n        advanceFetch(res, advance);\r\n      }\r\n    });\r\n    return result;\r\n  },\r\n  put: ({ url, header, body, securityLevel, config, advance, data }) => {\r\n    // header[\"Content-Type\"] = \"application/json\";\r\n    if (!header) {\r\n      header = {};\r\n    }\r\n    if (!config) {\r\n      //fetch配置控制\r\n      config = {};\r\n    }\r\n    if (!securityLevel) {\r\n      securityLevel = 2;\r\n    }\r\n    if (advance === undefined) {\r\n      advance = true; //\r\n    }\r\n    let content_type =\r\n      header[\"Content-Type\"] && header[\"Content-Type\"] === \"application/json\"\r\n        ? \"json\"\r\n        : \"default\";\r\n    let result = fetch(AESEncryptionUrl(url, TESTKEY, securityLevel), {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain, */*\", //请求头，代表的、发送端（客户端）希望接收的数据类型\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\", //实体头，代表发送端（客户端|服务器）发送的实体数据的数据类型\r\n        Authorization: requestSecure(url, TESTKEY, securityLevel),\r\n\r\n        ...header,\r\n      },\r\n      redirect: \"follow\", //manual、*follow(自动重定向)、error，此项为重定向的相关配置\r\n      // referrer: 'no-referrer',//该首部字段会告知服务器请求的原始资源的URI\r\n      mode: \"cors\", //no-cors(跨域模式但服务器端不支持cors),*cors(跨域模式，需要服务器通过Access-control-Allow-Origin来\r\n      //允许指定的源进行跨域),same-origin(同源)\r\n      cache: \"no-cache\", //*no-cache,default,reload,force-cache,only-ifcached,此项为缓存相关配置\r\n      credentials: \"omit\", //*include(携带cookie)、same-origin(cookie同源携带)、omit(不携带)\r\n      body: AESEncryptionBody(body, TESTKEY, securityLevel, content_type), //此处需要和headers里的\"Content-Type\"相对应\r\n      // data: JSON.stringify(data),\r\n      ...config,\r\n    });\r\n    result.then((res) => {\r\n      //做提前处理\r\n      if (advance) {\r\n        advanceFetch(res, advance);\r\n      }\r\n    });\r\n\r\n    return result;\r\n  },\r\n  delete: ({ url, header, body, securityLevel, config, advance, data }) => {\r\n    // header[\"Content-Type\"] = \"application/json\";\r\n    if (!header) {\r\n      header = {};\r\n    }\r\n    if (!config) {\r\n      //fetch配置控制\r\n      config = {};\r\n    }\r\n    if (!securityLevel) {\r\n      securityLevel = 2;\r\n    }\r\n    if (advance === undefined) {\r\n      advance = true; //\r\n    }\r\n    let content_type =\r\n      header[\"Content-Type\"] && header[\"Content-Type\"] === \"application/json\"\r\n        ? \"json\"\r\n        : \"default\";\r\n    let result = fetch(AESEncryptionUrl(url, TESTKEY, securityLevel), {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain, */*\", //请求头，代表的、发送端（客户端）希望接收的数据类型\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\", //实体头，代表发送端（客户端|服务器）发送的实体数据的数据类型\r\n        Authorization: requestSecure(url, TESTKEY, securityLevel),\r\n\r\n        ...header,\r\n      },\r\n      redirect: \"follow\", //manual、*follow(自动重定向)、error，此项为重定向的相关配置\r\n      // referrer: 'no-referrer',//该首部字段会告知服务器请求的原始资源的URI\r\n      mode: \"cors\", //no-cors(跨域模式但服务器端不支持cors),*cors(跨域模式，需要服务器通过Access-control-Allow-Origin来\r\n      //允许指定的源进行跨域),same-origin(同源)\r\n      cache: \"no-cache\", //*no-cache,default,reload,force-cache,only-ifcached,此项为缓存相关配置\r\n      credentials: \"omit\", //*include(携带cookie)、same-origin(cookie同源携带)、omit(不携带)\r\n      body: AESEncryptionBody(body, TESTKEY, securityLevel, content_type), //此处需要和headers里的\"Content-Type\"相对应\r\n      data: JSON.stringify(data),\r\n      ...config,\r\n    });\r\n    result.then((res) => {\r\n      //做提前处理\r\n      if (advance) {\r\n        advanceFetch(res, advance);\r\n      }\r\n    });\r\n\r\n    return result;\r\n  },\r\n  post: ({ url, header, body, securityLevel, config, advance }) => {\r\n    // header[\"Content-Type\"] = \"application/json\";\r\n    if (!header) {\r\n      header = {};\r\n    }\r\n    if (!config) {\r\n      //fetch配置控制\r\n      config = {};\r\n    }\r\n    if (!securityLevel) {\r\n      securityLevel = 2;\r\n    }\r\n    if (advance === undefined) {\r\n      advance = true; //\r\n    }\r\n    let content_type =\r\n      header[\"Content-Type\"] && header[\"Content-Type\"] === \"application/json\"\r\n        ? \"json\"\r\n        : \"default\";\r\n    let result = fetch(AESEncryptionUrl(url, TESTKEY, securityLevel), {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain, */*\", //请求头，代表的、发送端（客户端）希望接收的数据类型\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\", //实体头，代表发送端（客户端|服务器）发送的实体数据的数据类型\r\n        Authorization: requestSecure(url, TESTKEY, securityLevel),\r\n\r\n        ...header,\r\n      },\r\n      redirect: \"follow\", //manual、*follow(自动重定向)、error，此项为重定向的相关配置\r\n      // referrer: 'no-referrer',//该首部字段会告知服务器请求的原始资源的URI\r\n      mode: \"cors\", //no-cors(跨域模式但服务器端不支持cors),*cors(跨域模式，需要服务器通过Access-control-Allow-Origin来\r\n      //允许指定的源进行跨域),same-origin(同源)\r\n      cache: \"no-cache\", //*no-cache,default,reload,force-cache,only-ifcached,此项为缓存相关配置\r\n      credentials: \"omit\", //*include(携带cookie)、same-origin(cookie同源携带)、omit(不携带)\r\n      body: AESEncryptionBody(body, TESTKEY, securityLevel, content_type), //此处需要和headers里的\"Content-Type\"相对应\r\n      ...config,\r\n    });\r\n    result.then((res) => {\r\n      //做提前处理\r\n      if (advance) {\r\n        advanceFetch(res, advance);\r\n      }\r\n    });\r\n\r\n    return result;\r\n  },\r\n  post2: ({ url, header, body, securityLevel, config, advance }) => {\r\n    // header[\"Content-Type\"] = \"application/json\";\r\n    if (!header) {\r\n      header = {};\r\n    }\r\n    if (!config) {\r\n      //fetch配置控制\r\n      config = {};\r\n    }\r\n    if (!securityLevel) {\r\n      securityLevel = 2;\r\n    }\r\n    if (advance === undefined) {\r\n      advance = true; //\r\n    }\r\n    let content_type =\r\n      header[\"Content-Type\"] && header[\"Content-Type\"] === \"application/json\"\r\n        ? \"json\"\r\n        : \"default\";\r\n    let result = fetch(AESEncryptionUrl(url, TESTKEY, securityLevel), {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain, */*\", //请求头，代表的、发送端（客户端）希望接收的数据类型\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\", //实体头，代表发送端（客户端|服务器）发送的实体数据的数据类型\r\n        Authorization: requestSecure(url, TESTKEY, securityLevel),\r\n\r\n        ...header,\r\n      },\r\n      redirect: \"follow\", //manual、*follow(自动重定向)、error，此项为重定向的相关配置\r\n      // referrer: 'no-referrer',//该首部字段会告知服务器请求的原始资源的URI\r\n      mode: \"cors\", //no-cors(跨域模式但服务器端不支持cors),*cors(跨域模式，需要服务器通过Access-control-Allow-Origin来\r\n      //允许指定的源进行跨域),same-origin(同源)\r\n      cache: \"no-cache\", //*no-cache,default,reload,force-cache,only-ifcached,此项为缓存相关配置\r\n      credentials: \"omit\", //*include(携带cookie)、same-origin(cookie同源携带)、omit(不携带)\r\n      body: AESEncryptionBody(body, TESTKEY, securityLevel, content_type), //此处需要和headers里的\"Content-Type\"相对应\r\n      ...config,\r\n    });\r\n    result.then((res) => {\r\n      //做提前处理\r\n      if (advance) {\r\n        advanceFetch(res, advance);\r\n      }\r\n    });\r\n\r\n    return result;\r\n  },\r\n  tranfer: async ({ reqUrl, url, basicProxy = \"\", token }) => {\r\n    let data = null;\r\n    token =\r\n      token || sessionStorage.getItem(\"token\") || getQueryVariable(\"lg_tk\");\r\n    url =\r\n      url ||\r\n      basicProxy +\r\n        \"/Global/GetHttpRequestTransfer?appid=000&token=\" +\r\n        token +\r\n        \"&reqUrl=\" +\r\n        encodeURIComponent(reqUrl);\r\n    try {\r\n      let res = await fetchService.get({ url, securityLevel: 2, advance:false});\r\n      let json = await res.json();\r\n      data = JSON.parse(json);\r\n      // console.log(json)\r\n\r\n      // if (json.error === 0) {\r\n      //   data = json;\r\n      // } else {\r\n      //   data = false; //有错误\r\n      // }\r\n    } catch {\r\n      data = false; //有错误\r\n    }\r\n    return data;\r\n  },\r\n};\r\n\r\n// fecth Advance 提前处理函数\r\n/**\r\n * @description: post get 统一提前处理返回的数据\r\n * @param {*res:promise ,promise，advance：是否提前处理\r\n * false表示不用提前，true表示使用，{}表示有选择的使用，里面为number，状态码}\r\n * @return {*}\r\n */\r\nfunction advanceFetch(res, advance) {\r\n  //做提前处理\r\n  let response = res.clone();\r\n  // clone.then((response)=>{\r\n  let AlertDom = getAlertDom();\r\n  try {\r\n    let json = response.json();\r\n    json.then((json) => {\r\n      // console.log(!json.StatusCode, json);\r\n      let title = \"\";\r\n      // return\r\n      if(json.status){\r\n        json.StatusCode = json.status;\r\n      }\r\n      \r\n      if (!json) {\r\n        title = \"服务器出现未知异常，请重试或联系管理员\";\r\n        ReactDOM.render(\r\n          // eslint-disable-next-line react/react-in-jsx-scope\r\n          <ErrorAlert\r\n            key={\"alert-400-\" + Math.round(Math.random() * 10000)}\r\n            show={true}\r\n            title={title}\r\n          />,\r\n          AlertDom\r\n        );\r\n        // withAlert()\r\n        return;\r\n      }\r\n\r\n      if (!json.StatusCode) {\r\n        title = \"服务器出现未知异常，请重试或联系管理员\";\r\n        ReactDOM.render(\r\n          // eslint-disable-next-line react/react-in-jsx-scope\r\n          <ErrorAlert\r\n            key={\"alert-400-\" + Math.round(Math.random() * 10000)}\r\n            show={true}\r\n            title={title}\r\n          />,\r\n          AlertDom\r\n        );\r\n        return;\r\n      }\r\n      if (json.StatusCode === 200) return;\r\n      // console.log(json.StatusCode);\r\n\r\n      let isAllSelect = false;\r\n      let isSelect = {};\r\n      if (advance === true) {\r\n        isAllSelect = true;\r\n      } else if (advance instanceof Array) {\r\n        advance.forEach((child) => {\r\n          isSelect[child] = true;\r\n        });\r\n      } else {\r\n        console.log(\"参数错误\");\r\n        return;\r\n      }\r\n      switch (json.StatusCode) {\r\n        case 400:\r\n          if (isAllSelect || isSelect[400]) {\r\n            title = json.msg;\r\n            ReactDOM.render(\r\n              // eslint-disable-next-line react/react-in-jsx-scope\r\n              <ErrorAlert\r\n                key={\"alert-400-\" + Math.round(Math.random() * 10000)}\r\n                show={true}\r\n                title={title}\r\n              />,\r\n              AlertDom\r\n            );\r\n          }\r\n          break;\r\n        case 500:\r\n          if (isAllSelect || isSelect[500]) {\r\n            title = \"服务器出现未知异常，请重试或联系管理员\";\r\n            ReactDOM.render(\r\n              // eslint-disable-next-line react/react-in-jsx-scope\r\n              <ErrorAlert\r\n                key={\"alert-400-\" + Math.round(Math.random() * 10000)}\r\n                show={true}\r\n                title={title}\r\n              />,\r\n              AlertDom\r\n            );\r\n          }\r\n          break;\r\n        case 401:\r\n          if (isAllSelect || isSelect[401]) {\r\n          }\r\n          // TokenCheck();\r\n\r\n          break;\r\n        case 403:\r\n          // if (isAllSelect || isSelect[403])\r\n          // {\r\n\r\n          // }\r\n          // window.location.href = config.ErrorProxy + \"/Error.aspx?errcode=E011\";\r\n          break;\r\n        default:\r\n        // window.location.href = config.ErrorProxy + \"/Error.aspx?errcode=E011\";\r\n      }\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n\r\n  // })\r\n  // return clone;\r\n}\r\n/**\r\n * @description: 获取alert节点\r\n * @param {*}\r\n * @return {*}\r\n */\r\n// function getAlertDom() {\r\n//   let AlertDom = document.getElementById(\"alert\");\r\n//   if (!AlertDom) {\r\n//     //alert节点不存在，创建一个\r\n//     let body = document.getElementsByTagName(\"body\")[0];\r\n//     let alert = document.createElement(\"div\");\r\n//     alert.setAttribute(\"id\", \"alert\");\r\n//     body.appendChild(alert);\r\n//     AlertDom = document.getElementById(\"alert\");\r\n//   }\r\n//   return AlertDom;\r\n// }\r\n//请求安全，根据安全级别SecurityLevel返回token+签名\r\nfunction requestSecure(params, securityKey, SecurityLevel = 1) {\r\n  let token = sessionStorage.getItem(\"token\") || getQueryVariable(\"lg_tk\");\r\n  let Autorization = null;\r\n\r\n  if (!token && SecurityLevel !== 1) {\r\n    console.log(\"token无效，请重新登录\"); //后期会进行无token的事件操作\r\n    //返回登录界面\r\n    let baseUrl = sessionStorage.getItem(\"baseUrl\");\r\n    window.location.href = baseUrl;\r\n    // LogOut({});\r\n    return;\r\n  }\r\n\r\n  if (SecurityLevel === 1) {\r\n    //级别1为不做任何安全认证\r\n    return Autorization;\r\n  } else if (SecurityLevel === 2) {\r\n    //级别2为带上token\r\n    Autorization = \"X-Token=\" + token;\r\n  } else if (SecurityLevel === 3) {\r\n    //级别2为带上token和签名\r\n    Autorization =\r\n      \"X-Token=\" + token + \"&sign=\" + getSign(token, params, securityKey);\r\n  } else if (SecurityLevel === 4) {\r\n    //级别4为带上token+随机字符串+时间戳+签名\r\n    let timeStamp = formatDate(\r\n      \"http://192.168.2.248:8075/Global/GetTimestramp\"\r\n    ); //生成统一的时间戳\r\n    let randomString = getRandomString(8, timeStamp);\r\n    Autorization =\r\n      \"X-Token=\" +\r\n      token +\r\n      \"&randomString=\" +\r\n      randomString +\r\n      \"&sign=\" +\r\n      getSign(token, params, securityKey, randomString);\r\n  } else {\r\n    console.log(\"SecurityLevel有误，请重新设置\");\r\n  }\r\n  // console.log(SecurityLevel,Autorization)\r\n  return Autorization;\r\n}\r\n//生成随机字符串和时间戳(前端本地时间)\r\nfunction getRandomString(len, timeStamp) {\r\n  len = len || 8; //默认8位\r\n\r\n  /****默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1****/\r\n  let $chars = \"ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678\";\r\n  let maxPos = $chars.length;\r\n  let randomStr = \"\";\r\n  for (let i = 0; i < len; i++) {\r\n    randomStr += $chars.charAt(Math.floor(Math.random() * maxPos));\r\n  }\r\n  return randomStr + timeStamp;\r\n}\r\n//格式化日期,\r\nfunction formatDate(url) {\r\n  let date = new Date();\r\n  let fmt = \"yyyyMMddHH\";\r\n  var o = {\r\n    \"M+\": date.getMonth() + 1, //月份\r\n    \"d+\": date.getDate(), //日\r\n    \"H+\": date.getHours(), //小时\r\n    \"m+\": date.getMinutes(), //分\r\n    \"s+\": date.getSeconds(), //秒\r\n    \"q+\": Math.floor((date.getMonth() + 3) / 3), //季度\r\n    S: date.getMilliseconds(), //毫秒\r\n  };\r\n  if (/(y+)/.test(fmt))\r\n    fmt = fmt.replace(\r\n      RegExp.$1,\r\n      (date.getFullYear() + \"\").substr(4 - RegExp.$1.length)\r\n    );\r\n  for (var k in o)\r\n    if (new RegExp(\"(\" + k + \")\").test(fmt))\r\n      fmt = fmt.replace(\r\n        RegExp.$1,\r\n        RegExp.$1.length === 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length)\r\n      );\r\n\r\n  let nonce = fetch(url, {\r\n    method: \"get\", //*post、get、put、delete，此项为请求方法相关的配置\r\n    mode: \"no-cors\", //no-cors(跨域模式但服务器端不支持cors),*cors(跨域模式，需要服务器通过Access-control-Allow-Origin来\r\n    //允许指定的源进行跨域),same-origin(同源)\r\n    cache: \"no-cache\", //*no-cache,default,reload,force-cache,only-ifcached,此项为缓存相关配置\r\n    credentials: \"include\", //*include(携带cookie)、same-origin(cookie同源携带)、omit(不携带)\r\n\r\n    headers: {\r\n      Accept: \"application/json, text/plain, */*\", //请求头，代表的、发送端（客户端）希望接收的数据类型\r\n      \"Content-Type\": \"application/x-www-form-urlencodeed\", //实体头，代表发送端（客户端|服务器）发送的实体数据的数据类型\r\n    },\r\n    redirect: \"follow\", //manual、*follow(自动重定向)、error，此项为重定向的相关配置\r\n    // referrer: 'no-referrer',//该首部字段会告知服务器请求的原始资源的URI\r\n    // 注意post时候参数的形式\r\n  });\r\n\r\n  return nonce;\r\n}\r\nfunction getSign(token, params, securityKey, randomString) {\r\n  // 获取签名   返回一个包含\"?\"的参数串\r\n  try {\r\n    let param = handleParam(params); //处理params,返回序列化后的params\r\n\r\n    let sign = calculateSign(param, securityKey, token, randomString);\r\n    return sign;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n// 生成sign\r\nfunction calculateSign(param, securityKey, token, randomString) {\r\n  //等级3时是不需要randomString\r\n\r\n  return md5(token + param + securityKey + randomString); //签名顺序：token + 参数 + 秘钥 + randomString\r\n}\r\n//解析是get或post传进来的是url还是param，返回序列化字符串\r\nfunction handleParam(params) {\r\n  let param = \"\";\r\n  if (\"string\" == typeof params) {\r\n    let urlArray = params.split(\"?\");\r\n    param = urlArray[1];\r\n  } else if (\"object\" == typeof params) {\r\n    param = $.param(params);\r\n  } else {\r\n    console.log(\"参数不合法\");\r\n  }\r\n  return param;\r\n}\r\n//获取url参数\r\nfunction getQueryVariable(variable) {\r\n  var query =\r\n    window.location.search.substring(1) ||\r\n    window.location.href.split(\"?\")[1] ||\r\n    window.location.href;\r\n\r\n  var vars = query.split(\"&\");\r\n  for (var i = 0; i < vars.length; i++) {\r\n    var pair = vars[i].split(\"=\");\r\n    if (pair[0] === variable) {\r\n      return pair[1];\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\n// // 根据statuscode进行不同alter操作\r\n// class ErrorAlert extends React.Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//     this.state = {\r\n//       show: props.show,\r\n//     };\r\n//   }\r\n\r\n//   onOk = () => {\r\n//     let { onOk } = this.props;\r\n//     typeof onOk === \"function\" && onOk();\r\n//     this.setState({\r\n//       show: false,\r\n//     });\r\n//   };\r\n\r\n//   onCancel = () => {\r\n//     let { onCancel } = this.props;\r\n//     typeof onCancel === \"function\" && onCancel();\r\n//     this.setState({\r\n//       show: false,\r\n//     });\r\n//   };\r\n//   onClose = () => {\r\n//     let { onClose } = this.props;\r\n//     typeof onClose === \"function\" && onClose();\r\n//     this.setState({\r\n//       show: false,\r\n//     });\r\n//   };\r\n\r\n//   render() {\r\n//     // console.log(this.state.show)\r\n//     return (\r\n//       <Alert\r\n//         show={this.state.show}\r\n//         type=\"btn-error\"\r\n//         title={this.props.title}\r\n//         onOk={this.onOk}\r\n//         onCancel={this.onCancel}\r\n//         onClose={this.onClose}\r\n//         cancelShow={\"n\"}\r\n//       ></Alert>\r\n//     );\r\n//   }\r\n// }\r\n\r\n//AES加密传输参数：post\r\nfunction AESEncryptionBody(\r\n  paramsObj,\r\n  CRYPTOJSKEY = COMMONKEY,\r\n  SecurityLevel,\r\n  content_type\r\n) {\r\n  //加密所使用的的key，需要与服务器端的解密key相对应\r\n  if (content_type === \"json\") {\r\n    //let body = JSON.stringify(paramsObj);\r\n    let plain = JSON.stringify(paramsObj); //json序列化\r\n    // if (SecurityLevel === 4) {\r\n    //     plain = getSign(paramsObj, CRYPTOJSKEY, randomString, 'post');\r\n    // }\r\n\r\n    // console.log(decrypt(encrypt(plain,CRYPTOJSKEY)))\r\n    if (SecurityLevel === 3 || SecurityLevel === 4) {\r\n      plain = JSON.stringify({ p: encrypt(plain, CRYPTOJSKEY) });\r\n    }\r\n    //console.log(plain)\r\n    return plain;\r\n  } else {\r\n    //let body = JSON.stringify(paramsObj);\r\n    let plain = $.param(paramsObj); //json序列化\r\n    // if (SecurityLevel === 4) {\r\n    //     plain = getSign(paramsObj, CRYPTOJSKEY, randomString, 'post');\r\n    // }\r\n\r\n    // console.log(decrypt(encrypt(plain,CRYPTOJSKEY)))\r\n    if (SecurityLevel === 3 || SecurityLevel === 4) {\r\n      plain = $.param({ p: encrypt(plain, CRYPTOJSKEY) });\r\n    }\r\n\r\n    return plain;\r\n  }\r\n}\r\n//AES加密传输参数：get\r\nfunction AESEncryptionUrl(url, CRYPTOJSKEY = COMMONKEY, SecurityLevel, IsDesk) {\r\n  //加密所使用的的key，需要与服务器端的解密key相对应\r\n  let newUrl = url;\r\n  let urlArray = url.split(\"?\");\r\n  let params = urlArray[1];\r\n  let host = urlArray[0];\r\n\r\n  if (SecurityLevel === 3 || SecurityLevel === 4) {\r\n    newUrl = host + \"?p=\" + encrypt(params, CRYPTOJSKEY); //参数加密处理\r\n  }\r\n\r\n  return newUrl;\r\n}\r\n// 加密\r\nfunction encrypt(plaintText, CRYPTOJSKEY) {\r\n  var options = {\r\n    mode: CryptoJS.mode.ECB,\r\n    padding: CryptoJS.pad.Pkcs7,\r\n  };\r\n  var key = CryptoJS.enc.Utf8.parse(CRYPTOJSKEY);\r\n  var encryptedData = CryptoJS.AES.encrypt(plaintText, key, options);\r\n  var encryptedBase64Str = encryptedData.toString().replace(/\\//g, \"_\");\r\n  encryptedBase64Str = encryptedBase64Str.replace(/\\+/g, \"-\");\r\n  return encryptedBase64Str;\r\n}\r\n//解密\r\n// eslint-disable-next-line\r\nfunction decrypt(encryptedBase64Str, CRYPTOJSKEY) {\r\n  // eslint-disable-next-line\r\n  var vals = encryptedBase64Str.replace(/\\-/g, \"+\").replace(/_/g, \"/\");\r\n  var options = {\r\n    mode: CryptoJS.mode.ECB,\r\n    padding: CryptoJS.pad.Pkcs7,\r\n  };\r\n  var key = CryptoJS.enc.Utf8.parse(CRYPTOJSKEY);\r\n  var decryptedData = CryptoJS.AES.decrypt(vals, key, options);\r\n  var decryptedStr = CryptoJS.enc.Utf8.stringify(decryptedData);\r\n  return decryptedStr;\r\n}\r\nexport default fetchService;\r\n","/**\r\n * @description: 初始化总开关\r\n * @param {*callback:回调函数}\r\n * @return {*}\r\n */\r\nimport { TokenCheck, LogOut } from \"./connect\";\r\nimport config from \"./ipConfig\";\r\nimport {\r\n  setDataStorage,\r\n  getDataStorage,\r\n  getQueryVariable,\r\n  addOrgToUrl,\r\n  changeToArray,\r\n  urlRemLg_tk,\r\n} from \"./public\";\r\nimport fetch from \"./fetch\";\r\nlet { BasicProxy } = config;\r\nlet { get, post } = fetch;\r\nlet initCount = 0;\r\nexport const init = (params, success = () => {}, error = () => {}) => {\r\n  //   L10001 师资发展管理       管理员、教师（学校领导）\r\n  // 默认权限身份IC0002、IC0010\r\n\r\n  // L10002   师资发展培训  教师\r\n  // 默认权限身份IC0011、IC0012、IC0013\r\n  let moduleID = \"\";\r\n  // 先对params进行判断，是对象还是字符串，字符串就是moduleID，对象就是有很多数据存在里面\r\nlet onlyBase = false;//只要基础信息，不用验证用户，不用登陆功能\r\n  if (!params) {\r\n    //没定义或为null，undefiened,'',false,表示所有人都能进来\r\n    moduleID = \"\";\r\n  } else if (typeof params === \"string\") {\r\n    moduleID = params;\r\n  } else if (typeof params === \"object\") {\r\n    moduleID = params.moduleID || \"\";\r\n    onlyBase = params.onlyBase || false;\r\n  }\r\n  console.log(params);\r\n  // tokencheck前需要进行基础信息的请求\r\n  initCount++;\r\n  getBaseUrl((baseUrl)=>{\r\n    getBasePlatformMsg(baseUrl).then((data) => {\r\n      //data：基础平台信息，object,{BasePlatformAddr}\r\n      // console.log(data)\r\n      if(onlyBase){\r\n        success({\r\n          basePlatformMsg: data,\r\n        })\r\n        return;\r\n      }\r\n      if (data) {\r\n        TokenCheck({\r\n          //里面进行token验证，用户信息获取，回调返回true才能正常，不然页面初始化失败\r\n          firstLoad: true,\r\n          callback: (userInfo, token) => {\r\n            //有用户信息才能继续下面的工作\r\n            if (userInfo) {\r\n              // 检查锁控,不等于1的时候跳\r\n              // http://192.168.129.1/baseshare/Temp/V23%E7%9B%B8%E5%85%B3%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/%E5%8A%A0%E5%AF%86%E9%94%81%E6%8E%A7%E5%88%B6%E9%9B%86%E6%88%90%E7%9B%B8%E5%85%B3%E6%96%87%E6%A1%A3/%E3%80%90-2%E3%80%91%E4%BA%91%E5%B9%B3%E5%8F%B0%E5%8A%A0%E5%AF%86%E9%94%81%E6%8E%A7%E5%88%B6%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E.pdf\r\n              // if (userInfo.LockerState !== \"1\") {\r\n              //   window.location.href =\r\n              //     data.LockerServerRootUrl +\r\n              //     \"/LockerMgr/ErrorTips.aspx?ErrorCode=\" +\r\n              //     userInfo.LockerState;\r\n              //   return;\r\n              // }\r\n              let identityDetail = getIdentityDetail(moduleID);\r\n              \r\n              let termInfo = getTermInfo(\r\n                userInfo.SchoolID ? userInfo.SchoolID : \"\"\r\n              );\r\n              let systemServer = getSystemServer([\r\n                310, //教学方案\r\n                // 300, //教学方案\r\n                \"D21\", //精品课程\r\n                \"E34\", //档案\r\n                \"C10\", //电子资源\r\n              ]);\r\n  \r\n              // 多个接口，不能用await阻塞，要用Promise\r\n              // let identityDetail = getPromise(\r\n              //   getIdentityDetail.bind(this, moduleID)\r\n              // );\r\n              // let termInfo = getPromise(\r\n              //   getTermInfo.bind(this, userInfo.SchoolID ? userInfo.SchoolID : \"\")\r\n              // );\r\n              Promise.all([identityDetail, termInfo, systemServer]).then(\r\n                (res) => {\r\n                  let [identityDetail, termInfo, systemServer] = res;\r\n                    if(![\"IC0001\",\"IC0002\", \"IC0010\", \"IC0012\", \"IC0014\", \"IC0015\"].includes(identityDetail.IdentityCode) &&\r\n                    identityDetail.IsPreset){\r\n                      alert(\"暂不支持该身份登录，请重新登录！\");\r\n                      LogOut({init: false});\r\n                      return;\r\n                    }\r\n                    if(identityDetail.IdentityCode == \"IC0015\"){\r\n                      //家长看自己孩子的信息，需要把UserID换成自己孩子的\r\n                      userInfo.UserID = userInfo.UserID.substr(userInfo.UserID.indexOf(\"_\") + 1);\r\n                      sessionStorage.setItem(\"UserInfo\", JSON.stringify(userInfo));\r\n                    }\r\n                  success({\r\n                    identityDetail,\r\n                    basePlatformMsg: data,\r\n                    userInfo,\r\n                    termInfo,\r\n                    systemServer,\r\n                    token,\r\n                    role: setUnifyRole(userInfo, identityDetail, data),\r\n                  });\r\n                }\r\n              );\r\n            } else {\r\n              // error();\r\n            }\r\n          },\r\n        });\r\n      }\r\n       else {\r\n        //获取基础平台信息失败，进行三次，三次失败就失败了\r\n        if (initCount <= 2) {\r\n          init();\r\n        }\r\n  \r\n        error();\r\n      }\r\n    });\r\n  \r\n  })\r\n    \r\n    \r\n  \r\n};\r\n\r\n// 传个promise进去，返回promise\r\nconst getPromise = (promise) => {\r\n  return new Promise((resolve, reject) => {\r\n    promise().then((res) => {\r\n      resolve(res);\r\n    });\r\n  });\r\n};\r\n// 获取子系统的服务器地址信息\r\n/**\r\n * @description: 获取子系统的服务器地址信息\r\n * @param {*sysID：额外要求请求的sysid,可为数组或字符串}\r\n * @return {*}\r\n */\r\nconst getSystemServer = async (sysID) => {\r\n  let { WebRootUrl: baseIP } =\r\n    getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n      ? getDataStorage(\"BasePlatformMsg\")\r\n      : {};\r\n  // 200:个人信息管理系统ID\r\n  sysID = [400, 200].concat(changeToArray(sysID)).join(\",\"); //处理为数组\r\n  // 先处理，看storage里是否有全部的sysid,\r\n\r\n  const result = await get({\r\n    url: `${baseIP}/BaseApi/Global/GetSubSystemsMainServerBySubjectID?appid=L10&access_token=7f0fc0ce1335b77b0f3f944003713e09&subjectID=&sysIDs=${sysID}`,\r\n    securityLevel: 2,\r\n  });\r\n\r\n  const res = await result.json();\r\n  if (res.StatusCode === 200) {\r\n    let data = {};\r\n    if (res.Data instanceof Array) {\r\n      res.Data.forEach((child) => {\r\n        data[child.SysID] = child;\r\n      });\r\n    }\r\n    setDataStorage(\"SubSystemsMainServer\", data);\r\n    return data;\r\n  } else {\r\n    return {};\r\n  }\r\n};\r\n/**\r\n * @description: 处理用户信息，统一角色身份，返回统一后的教育局端、高校端的各种身份\r\n * @param {*userInfo:后台返回的用户个人信息，*identity：后台返回的身份信息,*baseMsg:平台基础信息}\r\n * @return {*}\r\n */\r\nconst setUnifyRole = (userInfo, identity, baseMsg) => {\r\n  ////*version:教育局：education，教育局学校：education-school，高校：university,高校学院：university-academy\r\n  // *identityCode:身份code,*identityName:身份名称，*userType:用户类型（旧的身份识别，保留），*userClass：用户类型2\r\n  // baseMsg.ProductUseRange:学校场景\r\n  // 1：单个专业英语院校，\r\n  // 2：单个普通大学，\r\n  // 3：单个中小学校，\r\n  // 4：多个中小学，\r\n  // 5：单个中职学校，\r\n  // 6：单个高职学校，\r\n  // 7：多个大学，\r\n  // 8：多个中职学校，\r\n  // 9：多个高职学校。\r\n  let Role = {\r\n    version: \"noPower\",\r\n    identityCode: \"\",\r\n    identityName: \"\",\r\n    userType: \"\",\r\n    userClass: \"\",\r\n  };\r\n  try {\r\n    let { ProductUseRange } = baseMsg;\r\n    let { IdentityCode, IdentityName } = identity;\r\n    Role.userType = parseInt(userInfo.UserType);\r\n    Role.userClass = parseInt(userInfo.UserClass);\r\n    Role.identityCode = IdentityCode;\r\n    Role.identityName = IdentityName;\r\n\r\n    ProductUseRange = parseInt(ProductUseRange);\r\n    let version = \"noPower\";\r\n    // 中小学教育局端没有学校id，用户信息拿到什么就传什么\r\n    let schoolID = userInfo.SchoolID ? userInfo.SchoolID : \"\";\r\n    // 学院id，大学有用\r\n    let collegeID = userInfo.CollegeID ? userInfo.CollegeID : \"\";\r\n    // 控制级别：1教育局，2学校，3学院\r\n    let selectLevel = 2;\r\n    // 数字记录组织类型：*1：教育局，*2：大学学校，*3：教育局学校*4大学学院\r\n    let productLevel = 3; //默认为3\r\n    // 根据身份和产品类型判断显示的版本\r\n    switch (ProductUseRange) {\r\n      // 1，2，6：单个大学，为高校版本学校端\r\n      case 1:\r\n      case 2:\r\n      case 6:\r\n      case 9:\r\n        //非学院管理员\r\n        if (IdentityCode !== \"IC0008\") {\r\n          //学校\r\n          version = \"university\";\r\n          productLevel = 2;\r\n          selectLevel = 2;\r\n        } else if (IdentityCode === \"IC0008\") {\r\n          //学院\r\n          version = \"university-academy\";\r\n          productLevel = 4;\r\n\r\n          selectLevel = 3;\r\n        }\r\n        break;\r\n      // 3,5:单个中小学，为教育局版本学校端\r\n      case 3:\r\n      case 5:\r\n        // if (IdentityCode.includes(\"IC000\")) {\r\n        //学校\r\n        version = \"education-school\";\r\n        selectLevel = 2;\r\n        productLevel = 3;\r\n\r\n        // } else {\r\n        //   version = 'noPower'; //无权限进入\r\n        // }\r\n        break;\r\n      // 4,8:多个中小学，为教育局版本教育局端\r\n      case 4:\r\n      case 8:\r\n        version = \"education-school\";\r\n        selectLevel = 2;\r\n        productLevel = 3;\r\n\r\n        //非g管理员\r\n        if (IdentityCode.includes(\"IC000\")) {\r\n          //code之后会有\r\n          //教育局\r\n          version = \"education\";\r\n          selectLevel = 1;\r\n          productLevel = 1;\r\n        }\r\n        // else if (IdentityCode === \"IC0008\") {\r\n        //   //教育局\r\n        //   version = \"education\";\r\n        // }\r\n        // else {\r\n        //   version = 'noPower'; //无权限进入\r\n        // }\r\n        break;\r\n      default:\r\n        version = \"noPower\";\r\n    }\r\n    // Role.version = version;\r\n    //2,3为学生家长，没有权限进来\r\n    // if (Role.userType === 2 || Role.userType === 3) {\r\n    //   goErrorPage(\"E011\");\r\n    //   return;\r\n    // }\r\n    Role = {\r\n      ...Role,\r\n      version,\r\n      selectLevel,\r\n      collegeID,\r\n      schoolID,\r\n      productLevel,\r\n      frameType:\r\n        Role.userType === 1\r\n          ? \"teacher\"\r\n          : Role.userType === 2 || Role.userType === 3\r\n          ? \"\"\r\n          : \"default\", //教师是没有左侧的，其它的都一样,2,3为学生家长，没有权限进来\r\n      //教师 UserType=1\r\n      level: !version.includes(\"-\") ? 1 : 0,\r\n    };\r\n    // if ( ProductUseRange === 1||) {\r\n    // }\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n  return Role;\r\n};\r\n/**\r\n * @description: 获取用户身份信息详情\r\n * @param {*模块id,不传则是所有的都可以}\r\n * @return {*{IconUrl: \"http://192.168.129.1:30101/lgftp/Power/IC0001.png\"\r\n              IdentityCode: \"IC0001\"\r\n              IdentityName: \"学校管理员\"\r\n              IsPreset: true}}\r\n */\r\nconst getIdentityDetail = async (moduleID = \"\") => {\r\n  let lg_ic = getQueryVariable(\"lg_ic\"); //获取url上的身份id，\r\n  let identityDetail = getDataStorage(\"IdentityMsg\")\r\n    ? getDataStorage(\"IdentityMsg\")\r\n    : false;\r\n  let identityList = [];\r\n  if (lg_ic) {\r\n    //存在，进行身份信息获取\r\n    // lg_ic可能有误，要进行用户所拥有的的身份列表验证\r\n    identityList = await getIdentityList();\r\n    identityList.forEach((child) => {});\r\n    if (\r\n      identityList.some((child) => {\r\n        return child.IdentityCode === lg_ic;\r\n      })\r\n    ) {\r\n      identityList = await GetIdentityTypeByCode(lg_ic);\r\n    }\r\n    // identityDetail = data[0];\r\n  } else if (identityDetail && identityDetail.IdentityCode) {\r\n    //不存在，获取session上存的身份信息,存在本次用这个\r\n    identityList = [identityDetail];\r\n  } else {\r\n    //不存在，获取该用户的身份列表，拿第一个\r\n    if (\r\n      getDataStorage(\"IdentityList\") instanceof Array &&\r\n      getDataStorage(\"IdentityList\").length > 0\r\n    ) {\r\n      identityList = getDataStorage(\"IdentityList\");\r\n    } else {\r\n      //请求\r\n      identityList = await getIdentityList();\r\n    }\r\n    // if (identityList instanceof Array && identityList.length > 0) {\r\n    //   identityDetail = identityList[0];\r\n    //   setDataStorage(\"IdentityMsg\", identityDetail);\r\n    //   // console.log(identityDetail);\r\n    // }\r\n  }\r\n\r\n  //判断该身份是否拥有访问本系统的权限\r\n  identityDetail =await IdentityRecognition(identityList, \"\");\r\n\r\n  identityDetail &&\r\n    window.history.pushState(\r\n      null,\r\n      null,\r\n      replaceIcOfUrl(identityDetail.IdentityCode)\r\n    );\r\n  return identityDetail;\r\n};\r\n/**\r\n * @description: 替换urllg_ic\r\n * @param {*}\r\n * @return {*url}\r\n */\r\nconst replaceIcOfUrl = (lg_ic) => {\r\n  return addOrgToUrl(window.location.href, \"lg_ic\", lg_ic);\r\n};\r\n//根据用户身份code获取用户身份详情\r\nconst GetIdentityTypeByCode = async (IdentityCodes) => {\r\n  const { SchoolID } = getDataStorage(\"UserInfo\")\r\n    ? getDataStorage(\"UserInfo\")\r\n    : {};\r\n  let { WebRootUrl: baseIP } =\r\n    getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n      ? getDataStorage(\"BasePlatformMsg\")\r\n      : {};\r\n  const result = await get({\r\n    url: `${baseIP}/UserMgr/PowerMgr/GetIdentityTypeByCode?SchoolID=${SchoolID}&IdentityCodes=${IdentityCodes}`,\r\n    securityLevel: 2,\r\n  });\r\n\r\n  const res = await result.json();\r\n\r\n  if (res.StatusCode === 200) {\r\n    return res.Data;\r\n  }\r\n};\r\n/**\r\n * @description: 确认身份是否有权限访问该模块，ModuleID不存在就默认能null,IdentityList必须是数组且有值为对象\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst IdentityRecognition = async (\r\n  IdentityList,\r\n  ModuleID = \"\",\r\n  callBack = () => {}\r\n) => {\r\n  if (!(IdentityList instanceof Array) || IdentityList.length === 0) {\r\n    goErrorPage(\"E011\");\r\n    return false;\r\n  }\r\n  let IdentityMsg = {};\r\n  if (ModuleID) {\r\n    const promiseList = IdentityList.map((i) => {\r\n      const res = ValidateIdentity(i.IdentityCode, ModuleID);\r\n\r\n      return res;\r\n    });\r\n    // 需要等所有请求返回\r\n    let res = await Promise.all(promiseList);\r\n\r\n    const index = res.findIndex((i) => i === true);\r\n    if (index >= 0) {\r\n      const IdentityItem = IdentityList[index];\r\n\r\n      setDataStorage(\"IdentityMsg\", IdentityItem);\r\n\r\n      typeof callBack === \"function\" && callBack(IdentityItem);\r\n      IdentityMsg = IdentityItem;\r\n    } else {\r\n      goErrorPage(\"E011\");\r\n      IdentityMsg = false;\r\n    }\r\n  } else {\r\n    setDataStorage(\"IdentityMsg\", IdentityList[0]);\r\n\r\n    typeof callBack === \"function\" && callBack(IdentityList[0]);\r\n    IdentityMsg = IdentityList[0];\r\n  }\r\n  return IdentityMsg;\r\n};\r\n/**\r\n * @description: 跳转至错误界面\r\n * @param {*}\r\n * @return {*}\r\n */\r\n\r\nconst goErrorPage = (errcode) => {\r\n  //  保证这个基础平台的信息是存在才能用\r\n  let { WebRootUrl: baseIP } =\r\n    getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n      ? getDataStorage(\"BasePlatformMsg\")\r\n      : {};\r\n  window.location.href = baseIP + \"/Error.aspx?errcode=\" + errcode;\r\n};\r\n//模块和身份校验\r\nconst ValidateIdentity = async (IdentityCode, ModuleID) => {\r\n  const { UserID } = getDataStorage(\"UserInfo\")\r\n    ? getDataStorage(\"UserInfo\")\r\n    : {};\r\n  let { WebRootUrl: baseIP } =\r\n    getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n      ? getDataStorage(\"BasePlatformMsg\")\r\n      : {};\r\n  const result = await post({\r\n    url: `${baseIP}/UserMgr/PowerMgr/ValidateIdentity`,\r\n    body: {\r\n      IdentityCode,\r\n      ModuleID,\r\n      UserID,\r\n    },\r\n    securityLevel: 2,\r\n  });\r\n\r\n  const res = await result.json();\r\n\r\n  if (res.StatusCode === 200) {\r\n    return res.Data;\r\n  }\r\n};\r\n/**\r\n * @description: 获取登陆用户身份列表\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst getIdentityList = async () => {\r\n  const { UserID } = getDataStorage(\"UserInfo\")\r\n    ? getDataStorage(\"UserInfo\")\r\n    : {};\r\n  // let { WebRootUrl: baseIP } =\r\n  //   getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n  //     ? getDataStorage(\"BasePlatformMsg\")\r\n  //     : {};\r\n  let { WebRootUrl: baseIP } =\r\n    getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n      ? getDataStorage(\"BasePlatformMsg\")\r\n      : {};\r\n  const result = await get({\r\n    url: `${baseIP}/UserMgr/PowerMgr/GetIdentityTypeByUserID?UserID=${UserID}`,\r\n    securityLevel: 2,\r\n  });\r\n\r\n  const res = await result.json();\r\n  if (res.StatusCode === 200) {\r\n    setDataStorage(\"IdentityList\", res.Data);\r\n    return res.Data;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\n//获取基础平台地址\r\n///api/base/getServerInfo\r\nexport const getBaseUrl = (callback) => {\r\n  // callback(\"http://192.168.129.1:10102\");\r\n  // sessionStorage.setItem(\"baseUrl\", \"http://192.168.129.1:10102\");\r\n  // let url = BasicProxy + \"/api/base/getServerInfo?sysIds=000\";\r\n  let url = BasicProxy + \"/api/base/getMainServerUrl\";\r\n  fetch\r\n  .get({ url })\r\n  .then((res)=>{\r\n    return res.json();\r\n  })\r\n  .then((result)=>{\r\n    if(result.status == 200 && result.data){\r\n      callback(result.data);\r\n      sessionStorage.setItem(\"baseUrl\", result.data);\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * @description: 异步，获取基础平台信息\r\n * @param {*keys:需要判断BasePlatformMsg是否存在这些字段，不匹配就请求}\r\n * @return {*promise}\r\n */\r\nexport const getBasePlatformMsg = async (baseUrl, keys = []) => {\r\n  // let url = BasicProxy + \"/Global/GetBaseInfo\";\r\n  console.log(baseUrl);\r\n  let url = baseUrl + \"/Global/GetBaseInfo\"\r\n  \r\n  let BasePlatformMsg = getDataStorage(\"BasePlatformMsg\"); //具体有什么字段这里不做判断，外部判断\r\n  let json = \"\";\r\n  let isExist = false;\r\n  keys = keys instanceof Array ? keys : [];\r\n  if (BasePlatformMsg && BasePlatformMsg instanceof Object) {\r\n    for (let key in keys) {\r\n      if (BasePlatformMsg[keys[key]] === undefined) {\r\n        isExist = false;\r\n      }\r\n    }\r\n  } else {\r\n    isExist = false;\r\n  }\r\n\r\n  if (isExist) {\r\n    json = await new Promise((resolve, reject) => {\r\n      resolve({\r\n        StatusCode: 200,\r\n        Data: BasePlatformMsg,\r\n      });\r\n    });\r\n  } else {\r\n    let res = await get({ url });\r\n    json = await res.json();\r\n  }\r\n\r\n  // let json = await pro();\r\n  // let res = await getData(url, 2, \"cors\", false, false);\r\n  // let json = await res.json();\r\n  if (json.StatusCode === 200) {\r\n    BasePlatformMsg = json.Data;\r\n  } else {\r\n    if (keys.length > 0) {\r\n      BasePlatformMsg = {}; //想获取某个值的时候给空对象\r\n    } else {\r\n      BasePlatformMsg = false; //有错误\r\n    }\r\n\r\n    // return ;\r\n  }\r\n  setDataStorage(\"BasePlatformMsg\", json.Data);\r\n\r\n  return BasePlatformMsg;\r\n};\r\n/**\r\n * @description: 异步，获取学年学期,http://192.168.129.1:8033/showdoc/web/#/21?page_id=2085\r\n * @param {*SchoolID:}\r\n * @return {*promise}\r\n */\r\nexport const getTermInfo = async (SchoolID, baseUrl) => {\r\n  // let url = BasicProxy + \"/Global/GetTermInfo\";\r\n  let url = BasicProxy + \"/api/base/listTermInfo?schoolId=\" + SchoolID;\r\n  let TermInfo = getDataStorage(\"TermInfo\"); //具体有什么字段这里不做判断，外部判断\r\n  let json = \"\";\r\n  //  界面第一次加载获取后保存，基本不会出错\r\n\r\n  if (TermInfo && TermInfo.TermInfo instanceof Array && TermInfo.length > 0) {\r\n    json = await new Promise((resolve, reject) => {\r\n      resolve({\r\n        StatusCode: 200,\r\n        Data: TermInfo,\r\n      });\r\n    });\r\n  } else {\r\n    let res = await get({ url });\r\n    json = await res.json();\r\n  }\r\n\r\n  // if (json.StatusCode == 200) {\r\n  //   TermInfo = json.Data;\r\n  // } else {\r\n  //   TermInfo = { TermInfo: [], HasHistory: false }; //有错误\r\n  // }\r\n  if (json.status == 200) {\r\n    let obj = {\r\n      HasHistory: json.data.length > 0? true: false,\r\n      TermInfo: json.data\r\n    }\r\n    TermInfo = obj;\r\n  } else {\r\n    TermInfo = { TermInfo: [], HasHistory: false }; //有错误\r\n  }\r\n  // console.log(TermInfo)\r\n  // if(!(json.Data instanceof Array)&&)\r\n  setDataStorage(\"TermInfo\", TermInfo);\r\n\r\n  return TermInfo;\r\n};\r\n","\r\n// leftmenu数据结构\r\n// leftMenu: [\r\n//   {\r\n//     key: \"teacherBaseMsg\",\r\n//     name: \"师资统计分析\",\r\n//     icon: Icon_1,\r\n//     children: [\r\n//       {\r\n//         key: \"teacherBaseMsg\",\r\n//         name: \"教师基本信息\",\r\n//       },\r\n//       {\r\n//         key: \"workMsg\",\r\n//         name: \"教师工作量\",\r\n//       },\r\n//       {\r\n//         key: \"teachingAbility\",\r\n//         name: \"教师教学能力\",\r\n//       },\r\n//       {\r\n//         key: \"informationizeAbility\",\r\n//         name: \"教师信息化能力\",\r\n//       },\r\n//       {\r\n//         key: \"schoolResource\",\r\n//         name: \"各校师资\",\r\n//       },\r\n//     ],\r\n//   },\r\n//   {\r\n//     key: \"teacherPersona\",\r\n//     name: \"教师画像查询\",\r\n//     icon: Icon_2,\r\n//     children: [],\r\n//   },\r\n//   {\r\n//     key: \"teacherRecruit\",\r\n//     name: \"教师招聘计划管理\",\r\n//     icon: Icon_3,\r\n//     children: [],\r\n//     // 除了左侧菜单的其它合法一级路由,打开这个路由，左侧会对应打开所属的节点\r\n//     params: [\r\n//       { key: \"publishRecruit\", title: \"发布招聘计划\" },\r\n//       { key: \"editRecruit\", title: \"编辑招聘计划\" },\r\n//       { key: \"recruitDetail\", title: \"招聘计划详情\" },\r\n//     ],\r\n//   },\r\n//   {\r\n//     key: \"teacherTrain\",\r\n//     name: \"教师培训计划管理\",\r\n//     icon: Icon_4,\r\n//     children: [],\r\n//   },\r\n//   { key: \"notice\", name: \"通知公告\", icon: Icon_5, children: [] },\r\n// ],\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  //   useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport $ from \"jquery\";\r\nimport { withRouter, NavLink } from \"react-router-dom\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { deepMap, handleRoute } from \"../../../util/public\";\r\nimport \"./index.scss\";\r\n// 在listen中无法做到list的实时更新，唯有做这个全局变量进行更新\r\n// let List = [];\r\n/**\r\n * @description: 下拉箭头控制\r\n * @param {*}\r\n * @return {*}\r\n */\r\nfunction MenuLink(props, ref) {\r\n  let { children: List, location, UserID, setShowModule } = props;\r\n  console.log(\"左边菜单\", props)\r\n  // list 全局赋值，保证listen里的值是最新\r\n  // list里的key值要保证名字不重复切字符不全包含，\r\n  // 下面的监听匹配是通过string.includes进行match的\r\n\r\n  // 设置该层唯一打开的菜单,空表示没有打开\r\n  const [openMenu, setOpenMenu] = useState(\"\");\r\n  // 设置选中的第一级菜单项，通过二级控制一级\r\n  const [selectMenu, setSelectMenu] = useState(false);\r\n\r\n  // 下级开关\r\n  const [routeAgain, setRouteAgain] = useState(true);\r\n  const [Path, setPath] = useState([]);\r\n\r\n  //  路由监听\r\n  useEffect(() => {\r\n    // 控制当下级箭头操作时在不影响路由的前提下可控isactive\r\n    // setRouteAgain(true);\r\n    let Path = handleRoute(location.pathname);\r\n    if(location.pathname.indexOf(\"page\") != -1){\r\n      window.location.reload();\r\n      return;\r\n    }\r\n    setPath(Path);\r\n    // let Path = location && location.pathname ? location.pathname : \"\";\r\n    deepMap(List, ({ child, index, level, parent }) => {\r\n      if (level === 1) {\r\n        if (\r\n          Path.some((path) => child.key === path) ||\r\n          selectMenu === child.key\r\n        ) {\r\n          setSelectMenu(false);\r\n          setOpenMenu(child.key);\r\n        }\r\n      } else if (level === 2) {\r\n        if (Path.some((path) => child.key === path)) {\r\n          setSelectMenu(parent[level - 2].key);\r\n        }\r\n      }\r\n    });\r\n    \r\n  }, [location, List, selectMenu]);\r\n  \r\n  return (\r\n    List instanceof Array &&\r\n    List.map((child, index) => {\r\n      let { key, name, icon, children, params } = child;\r\n      // icon:*false,表示不要图标且位置也不要，*undefined,表示使用默认标点,\r\n      // *true,保留图标位置，但不要图标,*string,图标url\r\n      // children:是否有下一级，非array或array length为0不做渲染\r\n      if (key === undefined) {\r\n        //如果key 为undefined，这个节点不能渲染\r\n        return \"\";\r\n      }\r\n      let haveChild = children instanceof Array && children.length > 0;\r\n      // 初始时是否打开下级菜单\r\n      let openChild = openMenu === key;\r\n      \r\n      return (\r\n        <div key={index} className=\"select-box\">\r\n          <div className=\"select-sub\">\r\n            <NavLink\r\n              isActive={(match, location) => {\r\n                // 选择下级的话就必定上级选中\r\n                if (\r\n                  match ||\r\n                  selectMenu === key ||\r\n                  (params instanceof Array &&\r\n                    params.some((param) => {\r\n                      return param.key === Path[0];\r\n                    })) ||\r\n                  (children instanceof Array &&\r\n                    children.some((child) => {\r\n                      return (\r\n                        child.params instanceof Array &&\r\n                        child.params.some((param) => {\r\n                          return param.key === Path[0];\r\n                        })\r\n                      );\r\n                    }))\r\n                ) {\r\n                  // 一级级选中后影响一级选中\r\n                  // setSelectMenu(false);\r\n                  // 路由变化的open才能使用\r\n                  if (routeAgain) {\r\n                    // setOpenMenu(key);\r\n                  }\r\n                  return true;\r\n                }\r\n              }}\r\n              to={\"/\" + (key.indexOf('page') == -1? key: key + \"/\" +　UserID)}\r\n              activeClassName={\"link-select\"}\r\n              className={`link-bar ${\"link-level-1\"}`}\r\n            >\r\n              {icon !== false ? (\r\n                <i\r\n                  className={`link-icon ${icon === undefined ? \"dot\" : \"\"}`}\r\n                  style={\r\n                    typeof icon === \"string\"\r\n                      ? { backgroundImage: `url(${icon})` }\r\n                      : {}\r\n                  }\r\n                ></i>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              <span className=\"link-name\" title={name}>\r\n                {name}\r\n              </span>\r\n            </NavLink>\r\n            {haveChild ? (\r\n              <i\r\n                className={`link-arrow ${openChild ? \"link-arrow-open\" : \"\"}`}\r\n                onClick={(e) => {\r\n                  // 阻止合成事件的冒泡\r\n                  e.stopPropagation();\r\n                  // 阻止与原生事件的冒泡\r\n                  e.nativeEvent.stopImmediatePropagation();\r\n                  setRouteAgain(false);\r\n                  // 可控制菜单的打开，取反\r\n                  setOpenMenu(openChild ? false : key);\r\n                }}\r\n              ></i>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n          {haveChild ? (\r\n            <div\r\n              className={`link-child-box ${openChild ? \"link-child-open\" : \"\"}`}\r\n              style={{ height: openChild ? `${children.length * 44}px` : 0 }}\r\n            >\r\n              {children.map((second, secondIndex) => {\r\n                let { key, name, icon, params } = second;\r\n                return (\r\n                  <NavLink\r\n                    isActive={(match, location) => {\r\n                      //  选中操作，可影响上级，只做选中操作\r\n\r\n                      // 选择下级的话就必定上级选中\r\n                      if (\r\n                        match ||\r\n                        (params instanceof Array &&\r\n                          params.some((param) => {\r\n                            return param.key === Path[0];\r\n                          }))\r\n                      ) {\r\n                        // 二级选中后影响一级选中\r\n                        // setSelectMenu(child.key);\r\n                        return true;\r\n                      }\r\n                    }}\r\n                    key={secondIndex}\r\n                    // location={'/'+key}\r\n                    to={\"/\" + key}\r\n                    onClick={()=>{\r\n                      setShowModule(key);\r\n                      let myEvent = new Event('resize');\r\n                      setTimeout(() => {\r\n                        window.dispatchEvent(myEvent);\r\n                      }, 20);\r\n                    }}\r\n                    activeClassName={\"link-select\"}\r\n                    className={`link-bar ${\"link-level-2\"}`}\r\n                  >\r\n                    {icon !== false ? (\r\n                      <i\r\n                        className={`link-icon ${\r\n                          icon === undefined ? \"dot\" : \"\"\r\n                        }`}\r\n                        style={\r\n                          typeof icon === \"string\"\r\n                            ? { backgroundImage: `url(${icon})` }\r\n                            : {}\r\n                        }\r\n                      ></i>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    <span className=\"link-name\" title={name}>\r\n                      {name}\r\n                    </span>\r\n                  </NavLink>\r\n                );\r\n              })}\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          \r\n        </div>\r\n      );\r\n    })\r\n  );\r\n}\r\nfunction LeftMenu(props, ref) {\r\n  let { \r\n    list: List,\r\n    location,\r\n    commonData: {\r\n      userInfo: {\r\n        UserID\r\n      }\r\n    },\r\n    setShowModule\r\n  } = props;\r\n  \r\n  return (\r\n    <div className=\"LeftMenu\">\r\n      <Scrollbars>\r\n        <MenuLink children={List} location={location} UserID={UserID} setShowModule={setShowModule}></MenuLink>{\" \"}\r\n      </Scrollbars>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(memo(forwardRef(LeftMenu)));\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAARCAYAAADUryzEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpERTFDQzM3QjY1MzcxMUVCOEUwOEU0OEUzMUY1NUU5MiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpERTFDQzM3QzY1MzcxMUVCOEUwOEU0OEUzMUY1NUU5MiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkRFMUNDMzc5NjUzNzExRUI4RTA4RTQ4RTMxRjU1RTkyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkRFMUNDMzdBNjUzNzExRUI4RTA4RTQ4RTMxRjU1RTkyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NjuCUgAAAltJREFUeNpiPHjrHgMO0ArEeUA8CYircSliwsKPBGI2IC4BYp6fv36Vuyem5UDFmfAZoATEp4A4K7u+xe/v3399QM3/th88/JqDnR2kOevLt283vn3/roLNAJDmw89fv1nnlpL1+sV/hub6Szdjcldu+Dd/935Bfh29v/nb9qVt2XfwNdDgi5v3HbCEGcAIDAOQISefvXy1Mrm+NVzd3V1bUluHE4t3PwNxmNm7FwEq8nIROY2tuhtnTH4MMiAK5DyP1OxXRv4B7tLa2lwMuAHIEL0oIZ7tq7fvfLNiy3Z7kO2x+46fPCIqK6OlaajPxcfGwoAH8wJxuSA/X6OjhbkCUK8bC5AwWbB241NTH28hQTY2BiKAFxA3y0tLglzqBTJA5MmLFwpx6ur8nOxEGSABxG/YWFl5gLQayIA3okKCotJC/C+BbFkiDHgBshSI3wIxPygMHN99/Pjm/5cv+4SALiAC7wDqeXn60pVwIP0R5ILIXQtmW/xnZLzxm40VFMq8+GKB7ffv3wz/GT6Y6GpPBvKzQS4oYWRk5Pr961d6Y0fPIn6gIUDMgAWDxMMY//9PBSXxX79/lwFpd5ABPbAke+f+Q2MeVhZdIJ4JxI+B+BeUBvF1f3z5ehZZPZAdAfJCtWdSxlOQV+Z3tvC8ePNuBQsz80QgvwkUwNAAswPiJUD82ikmKRlIP4VmrhWMaNmZaeG6jRstDPT0FGVluIFRBQqPt0DnXjp+7sL55qkzxf79+/du35J5pTANLGiB9A9ogD8Qu4L8B8SaQCwAlWMH4tVAvAtZA0CAAQAhOufsxm5eowAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpENERBRjJBNzY1MzcxMUVCQjE3RkMyRDhENDgwQTI0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpENERBRjJBODY1MzcxMUVCQjE3RkMyRDhENDgwQTI0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQ0REFGMkE1NjUzNzExRUJCMTdGQzJEOEQ0ODBBMjREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQ0REFGMkE2NjUzNzExRUJCMTdGQzJEOEQ0ODBBMjREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+J80QOAAAArxJREFUeNpiPHjrHgMUMANxPhCnA7EcED8C4plAPBGI/zLgAE4xSQwsUDYjEK/4+uev8uS9B3kunT3PKsHJIZse6FPLzcEePnf1eqv63EycBjFB6fif//5pFsxZqHft+g0pJUdHZiEPT86lz99yMzAyqajKy20C2shIyJDk5SfPsf/68oVZ38ubQVhMjIGbjY1BUEyM9cJfxgc2JkYmQDXeQPwAiP8j4YcgzTDvGJ46c5ZN3dycgZedDcWW13//qsvKSIDCK3DWw+cMhxYvZvjx+TNY7t/fvxJAagvMEIbv794xycjJMrCwsqAYwsrIyMDIyAiyVT1NXlIhraYMZ8BeUpeT1uVlYeZBN0Sane3Gv3///kADH+QdeSRpUAzKw3TMivZ07z/0/PUfaUUFuClAXb/1eLk4zl+9vh5k3oEPX2RWzJjF8PnTRwzvgLCWrIS4gPmvX+9+s7K8/sHAoMjFzHRPmZ31Gwsjo9HHz5//c3Fw1DoI8CQ5VBRheAcUO+3//zMErTl45MWRs+fZxP/8lDLgYmdWY2flePT23d8Zaze8V1dSUG0qzMkFamBGiyF47KSsPXj497nLV0SDA/0Zjty4zXD0+EmG9+/fKwgKCipYW5ozvP/7/6GGspI1UG3OK6Anu3onMHz48JHhD5J3BA4fO8GQl5bMICUpwaClqMDgamOFnp7kOX//AtG+Ygz/FXqK8zFj5/evnwxqctIM+MDf32BKAOoFOfTYeScpKsrFwczMwcSIPWX//fv39jcGBmEQm5eP939hUzvD2w8fGP78QXhncWpYcNqLZ89vK8vJqkDTAwz8//3nz40v376zvH73fi2Qr/L502eTpoIcDO+UvXj9xlhDWdHs1fsP6E4B8SWABmyNK6kEeWUDNpeCDPlV1NblBC1LvICYD4s6UIBtA+Lp2AwBCDAAnov81yEcI9wAAAAASUVORK5CYII=\"","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useMemo,\r\n  useLayoutEffect,\r\n  //   useReducer,\r\n  //   createContext,\r\n  useContext,\r\n  useRef,\r\n  // forwardRef,\r\n} from \"react\";\r\nimport { withRouter, useHistory, useLocation } from \"react-router-dom\";\r\n// import {frameContext} from '../index'\r\nimport \"./index.scss\";\r\nimport $ from \"jquery\";\r\nimport { handleRoute, autoAlert } from \"../../../util/public\";\r\nimport { Tabs } from \"antd\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { frameContext } from \"../index\";\r\nimport { debounce } from \"../../../util/public\";\r\nlet { TabPane } = Tabs;\r\n\r\nfunction Tab(props, ref) {\r\n  const {\r\n    // type,\r\n\r\n    // className,\r\n    componentList: ComponentList,\r\n    // children,\r\n    // history,\r\n    // location,\r\n    onContentresize,\r\n    // 传回来的tab的props，跟antd的Tab一样\r\n    tabPorps,\r\n    search,\r\n  } = props;\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  // 设置标签选择\r\n  const [TabActive, setTabActive] = useState(\"\");\r\n  // reduce\r\n  // const [state, dispatch] = useReducer(frameReducer, initState);\r\n  // ComponentList\r\n  //   const [ComponentList, setComponentList] = useState(componentList);\r\n  const [TabList, setTabList] = useState([]);\r\n  const [, setTabListLength] = useState(TabList.length);\r\n\r\n  const { state, dispatch } = useContext(frameContext);\r\n  // 路径\r\n  const Path = useMemo(() => {\r\n    // console.log(location);\r\n\r\n    return location && typeof location.pathname === \"string\"\r\n      ? handleRoute(location.pathname)\r\n      : \"\";\r\n  }, [location]);\r\n\r\n  // 标签页\r\n  useEffect(() => {\r\n    // console.log(Path, ComponentList, TabList);\r\n    // 查是否存在compoent\r\n    let resetRoute = \"\";\r\n    let tabkey = Path[0] + (Path[1] ? \"|\" + Path[1] : \"\");\r\n\r\n    Path instanceof Array &&\r\n      Path.length > 0 &&\r\n      ComponentList instanceof Array &&\r\n      ComponentList.forEach((child, index) => {\r\n        let { props } = child;\r\n        // 路由匹配包含，同事看tablist是否存在,尽量不要tabid有字符一样\r\n        // 是否重定向，当节点设置了mustParam的时候，path没有param则会重定向到指定的redirct路径，没设置redirct则重定向到该节点key\r\n        resetRoute = props.tabid === Path[0] && props.mustparam && !Path[1];\r\n        if (\r\n          Path[0] === props.tabid &&\r\n          !TabList.some((tab) => {\r\n            // id一样，如果没有param就返回true，如果有param就看param是否一样，一样就true\r\n            // 返回true说明tab是已经存在了这个tab，不会加，只会跳到对应的tab页\r\n            // 当component的param是存在，但路由没有传，则照常打开窗口，逻辑使用者处理\r\n\r\n            return (\r\n              props.tabid === tab.props.tabid &&\r\n              (!props.param || Path[1] === tab.props.param)\r\n            );\r\n          }) &&\r\n          !resetRoute\r\n          //  &&\r\n          // // paramList为限制二级路由的列表，如果路由出现不在列表的，不允许打开\r\n          // (!props.paramList ||\r\n          //   props.paramList.find((param) => {\r\n          //     return !Path[1] || param.key === Path[1];\r\n          //   }))\r\n        ) {\r\n          // tab数量最多10个，多了就删前面的\r\n          if (TabList.length >= 10) {\r\n            let len = TabList.length;\r\n            for (let i = 0; i < len - 9; i++) {\r\n              TabList.shift();\r\n            }\r\n          }\r\n          // 如果有param，替换param\r\n          let obj = {};\r\n          if (child.props.param) {\r\n            obj.param = Path[1];\r\n            obj.tabid = Path[0];\r\n          }\r\n          obj.tabkey = tabkey;\r\n\r\n          // if(props.paramList){\r\n          //   props.paramList.some((param) => {\r\n          //     obj.tabname = param.title;\r\n          //     return param.key === (Path[1]?Path[1]:'');\r\n          //   })\r\n          // }\r\n          TabList.push({ ...child, props: { ...props, ...obj } });\r\n          setTabList(TabList);\r\n          setTabListLength(TabList.length);\r\n        }\r\n        if (resetRoute) {\r\n          resetRoute = props.redirect;\r\n          // history.push(props.redirect);\r\n        }\r\n      });\r\n\r\n    if (resetRoute) {\r\n      history.push(resetRoute);\r\n    } else {\r\n      setTabActive(tabkey);\r\n    }\r\n    // console.log(Path, ComponentList);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [Path, ComponentList]);\r\n  // bar跳转\r\n  const routeTo = (active, param) => {\r\n    history.push(\"/\" + active.split(\"|\")[0] + (param ? \"/\" + param : \"\"));\r\n  };\r\n  // 移除tab\r\n  const removeTab = useCallback(\r\n    /**\r\n     * @description: *rmTabid:要移除的tabid,为'',undefined,null时删除当前tab，*reParam：有二级的时候要匹配的二级路由\r\n     * nextTabid,nextParam:要route到自己想到的位置时，\r\n     * @param {*}\r\n     * @return {*}\r\n     */\r\n    (rmTabid, reParam, nextTabid, nextParam, onlyOne) => {\r\n      if (TabList.length <= 0) {\r\n        return;\r\n      }\r\n      let List = [];\r\n\r\n      let tabIndex = 0;\r\n      let active = TabActive.split(\"|\")[0];\r\n      // let activeParam = TabActive.split(\"|\")[1];\r\n      let param = TabActive.split(\"|\")[1];\r\n      if (TabList.length === 1) {\r\n        // 当一个的时候，rmTabid有值，说明是先移除当前节点，再添加下一节点\r\n        if (typeof onlyOne === \"function\") {\r\n          // 更新活动\r\n          // setTabActive(active);\r\n\r\n          // 更新列表\r\n          setTabList(List);\r\n\r\n          // 通过路由修改\r\n          routeTo(nextTabid || active, nextTabid ? nextParam : param);\r\n          onlyOne(active, param);\r\n        } else {\r\n          routeTo(nextTabid || active, nextTabid ? nextParam : param);\r\n          // rmTabid&&removeTab(rmTabid,reParam)\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      if (!rmTabid) {\r\n        rmTabid = active;\r\n        reParam = param;\r\n      }\r\n      //不传rmTabid，表示移除当前tab 如果是删当前，选中往前移\r\n      if (rmTabid === active && reParam === param) {\r\n        let activeBar = {};\r\n        // 找到该tab的位置\r\n        TabList.some((child, index) => {\r\n          if (child.props.tabid === active && child.props.param === param) {\r\n            tabIndex = index;\r\n            return true;\r\n          }\r\n          return false;\r\n        });\r\n        if (tabIndex === TabList.length - 1) {\r\n          //最后往前移\r\n          activeBar = TabList[TabList.length - 2];\r\n        } else {\r\n          activeBar = TabList[tabIndex + 1];\r\n        }\r\n        active = activeBar.props.tabid;\r\n        param = activeBar.props.param;\r\n      }\r\n      // let List = [];\r\n      TabList.forEach((tab) => {\r\n        if (tab.props.tabid !== rmTabid || tab.props.param !== reParam) {\r\n          List.push(tab);\r\n        }\r\n      });\r\n      // 更新活动\r\n      // setTabActive(active);\r\n\r\n      // 更新列表\r\n      setTabList(List);\r\n\r\n      // 通过路由修改\r\n      routeTo(nextTabid || active, nextTabid ? nextParam : param);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [TabList, TabActive]\r\n  );\r\n  // 向外部传值\r\n  useImperativeHandle(\r\n    ref,\r\n    () => ({\r\n      activeTab: TabActive,\r\n      tabList: TabList,\r\n      removeTab,\r\n      // removeActiveTab: () => {\r\n      //   removeTab(TabActive);\r\n      // },\r\n    }),\r\n    [TabActive, TabList, removeTab]\r\n  );\r\n  // 获取可视区域高度\r\n  useLayoutEffect(() => {\r\n    let tabContent = $(\".Frame-contain-right  .ant-tabs-content-holder\");\r\n    let height = tabContent.height();\r\n    let width = tabContent.width();\r\n    typeof onContentresize === \"function\" && onContentresize(height, width);\r\n    dispatch({ type: \"RESIZE_CONTENT\", data: height });\r\n    let resize = (e) => {\r\n      let height = tabContent.height();\r\n      let width = tabContent.width();\r\n      typeof onContentresize === \"function\" && onContentresize(height, width);\r\n\r\n      dispatch({ type: \"RESIZE_CONTENT\", data: height });\r\n    };\r\n    window.addEventListener(\"resize\", debounce(resize, 500), false);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", debounce(resize, 500));\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  // console.log(ref)\r\n  return (\r\n    <Tabs\r\n      {...tabPorps}\r\n      animated={false}\r\n      activeKey={TabActive}\r\n      renderTabBar={(props, DefaultTabBar) => {\r\n        // console.log(TabList, TabList.length);\r\n\r\n        return (\r\n          <>\r\n            <DefaultTabBar\r\n              {...props}\r\n              // onTabClick={(key, e) => {\r\n              //   // setTabActive(key);\r\n              //   TabList.forEach((child) => {\r\n              //     let route = key.split(\"|\");\r\n              //     if (\r\n              //       route[0] === child.props.tabid &&\r\n              //       route[1] === child.props.param\r\n              //     ) {\r\n              //       // 通过路由修改\r\n              //       routeTo(key, child.props.param);\r\n              //       return true;\r\n              //     }\r\n              //     return false;\r\n              //   });\r\n              // }}\r\n              \r\n              className={`tab-nav-bar ${search ? \"haveSearch\" : \"\"}`}\r\n            ></DefaultTabBar>\r\n            {/* {search ? <div className=\"search-context\">{search}</div> : \"\"} */}\r\n          </>\r\n        );\r\n      }}\r\n    >\r\n      {TabList.map((child, index) => {\r\n        let { children, props } = child;\r\n        return (\r\n          <TabPane\r\n            tab={\r\n              // <NavLink to={\"/\" + props.tabid} className=\"tab-name\">\r\n              <div\r\n                className=\"tabname\"\r\n                title={props.tabname}\r\n                onClick={(key, e) => {\r\n                  // setTabActive(key);\r\n                  // let route = key.split(\"|\");\r\n                  let myEvent = new Event('resize');\r\n                  setTimeout(() => {\r\n                    window.dispatchEvent(myEvent);\r\n                  }, 20);\r\n                  \r\n                  routeTo(child.props.tabid, child.props.param);\r\n                  // TabList.forEach((child) => {\r\n                  //   let route = key.split(\"|\");\r\n                  //   if (\r\n                  //     route[0] === child.props.tabid &&\r\n                  //     route[1] === child.props.param\r\n                  //   ) {\r\n                  //     // 通过路由修改\r\n                  //     routeTo(key, child.props.param);\r\n                  //     return true;\r\n                  //   }\r\n                  //   return false;\r\n                  // });\r\n                }}\r\n              >\r\n                {props.tabname}\r\n                <i\r\n                  className=\"tab-close-btn\"\r\n                  onClick={(e) => {\r\n                    // 阻止合成事件的冒泡\r\n                    e.stopPropagation();\r\n                    // 阻止与原生事件的冒泡\r\n                    e.nativeEvent.stopImmediatePropagation();\r\n                    // console.log(e);\r\n                    removeTab(props.tabid, props.param);\r\n                    // // 一个不许删\r\n                    // if (TabList.length <= 1) {\r\n                    //   return;\r\n                    // }\r\n                    // let active = TabActive.split(\"|\")[0];\r\n                    // // let activeParam = TabActive.split(\"|\")[1];\r\n                    // let param = TabActive.split(\"|\")[1];\r\n                    // // 如果是删当前，选中往前移\r\n                    // if (props.tabid === active && props.param === param) {\r\n                    //   let activeBar = {};\r\n                    //   if (index === TabList.length - 1) {\r\n                    //     //最后往前移\r\n                    //     activeBar = TabList[TabList.length - 2];\r\n                    //   } else {\r\n                    //     activeBar = TabList[index + 1];\r\n                    //   }\r\n                    //   active = activeBar.props.tabid;\r\n                    //   param = activeBar.props.param;\r\n                    // }\r\n                    // let List = [];\r\n                    // TabList.forEach((tab) => {\r\n                    //   if (\r\n                    //     tab.props.tabid !== props.tabid ||\r\n                    //     tab.props.param !== props.param\r\n                    //   ) {\r\n                    //     List.push(tab);\r\n                    //   }\r\n                    // });\r\n                    // // 更新活动\r\n                    // // setTabActive(active);\r\n                    // // 更新列表\r\n                    // setTabList(List);\r\n                    // // 通过路由修改\r\n                    // routeTo(active, param);\r\n                  }}\r\n                ></i>\r\n              </div>\r\n            }\r\n            key={props.tabkey}\r\n          >\r\n            <Scrollbars>{children}</Scrollbars>\r\n          </TabPane>\r\n        );\r\n      })}\r\n    </Tabs>\r\n  );\r\n}\r\nexport default memo(React.forwardRef(Tab));\r\n","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  //   useImperativeHandle,\r\n  //   useMemo,\r\n  //   useReducer,\r\n  //   createContext,\r\n  //   useContext,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport {\r\n  getDataStorage,\r\n  addElement,\r\n  addScript,\r\n  autoAlert,\r\n  urlRemLg_tk\r\n} from \"@/util/public\";\r\nimport { LogOut } from \"@/util/connect\";\r\nimport fetch from \"@/util/fetch\";\r\nimport \"./index.scss\";\r\nimport moment from \"moment\";\r\nimport $ from \"jquery\";\r\nlet { get, post } = fetch;\r\n\r\nfunction TopBar(props, ref) {\r\n  let {\r\n    userInfo: UserInfo,\r\n    basePlatFormMsg: BasePlatFormMsg,\r\n    platMsg: PlatMsg,\r\n    identity: Identity,\r\n    type,\r\n    systemServer,\r\n    moduleName,\r\n    initData,\r\n  } = props;\r\n  const [Time, setTime] = useState(\"\");\r\n  // 消息中心加载完成\r\n  const [MsgInit, setMsgInit] = useState(false);\r\n  const msgRef = useRef(null);\r\n  // 获取消息中心\r\n  useEffect(() => {\r\n    // if (BasePlatFormMsg && BasePlatFormMsg.WebRootUrl) {\r\n    //   let { WebRootUrl: baseIP } = BasePlatFormMsg;\r\n    //   post({\r\n    //     url: `${baseIP}Base/WS/Service_Basic.asmx/WS_G_GetSubSystemServerInfo`,\r\n    //     body: {\r\n    //       subjectID: \"\",\r\n    //       sysID: 200,\r\n    //     },\r\n    //     // securityLevel: 2,\r\n    //   })\r\n    //     .then((result) => {\r\n    //       return result.json();\r\n    //     })\r\n    //     .then((res) => {\r\n    //       if (res.StatusCode === 200) {\r\n    //         let data = {};\r\n    //         console.log(res);\r\n    //         return data;\r\n    //       } else {\r\n    //         return {};\r\n    //       }\r\n    //     });\r\n    // }\r\n    if (initData && initData.systemServer && initData.systemServer[200]) {\r\n      let wsAddr = initData.systemServer[200].WebSvrAddr;\r\n      let {\r\n        token,\r\n        basePlatformMsg: { WebRootUrl },\r\n      } = initData;\r\n      //1.动态引入css\r\n      addElement(\r\n        {\r\n          rel: \"stylesheet\",\r\n          type: \"text/css\",\r\n          id: \"PsnMgr_link_assistantInfoCenter\",\r\n\r\n          href:\r\n            wsAddr +\r\n            \"/PsnMgr/LgAssistant/css/lancoo.cp.assistantInfoCenter.css\",\r\n        },\r\n        \"link\",\r\n        \"body\"\r\n      );\r\n      // 2.将用户Token，基础平台地址MainServerAddr，\r\n      // 个人信息管理系统地址LgAssistantAddr，三个值保存到sessionStorage\r\n      sessionStorage.setItem(\"PsnMgrToken\", token); //用户Token\r\n      sessionStorage.setItem(\"PsnMgrMainServerAddr\", WebRootUrl); //基础平台IP地址和端口号形如：http://192.168.129.1:30103/\r\n      sessionStorage.setItem(\"PsnMgrLgAssistantAddr\", wsAddr); //个人信息管理系统Web站点IP地址和端口号形如：http://192.168.129.1:10103/\r\n      // 3.引入js\r\n      //\r\n      addScript({\r\n        src: wsAddr + \"/PsnMgr/LgAssistant/js/jquery-1.7.2.min.js\",\r\n        id: \"PsnMgr_script_jq\",\r\n      }).then((res) => {\r\n        if (res) {\r\n          addScript({\r\n            src: wsAddr + \"/PsnMgr/LgAssistant/assets/jquery.pagination.js\",\r\n            id: \"PsnMgr_script_pagination\",\r\n          }).then((res) => {\r\n            if (res) {\r\n              addScript({\r\n                src:\r\n                  wsAddr +\r\n                  \"/PsnMgr/LgAssistant/js/lancoo.cp.assistantInfoCenter.js\",\r\n                id: \"PsnMgr_script_assistantInfoCenter\",\r\n              }).then((res) => {\r\n                if (res) {\r\n                  setMsgInit(true);\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n    // console.log(systemServer)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [initData]);\r\n  useEffect(() => {\r\n    let Interval = setInterval(() => {\r\n      let Moment = moment();\r\n      let now = (\r\n        <>\r\n          {Moment.format(\"YYYY-MM-DD\")}\r\n          <span className={\"time-space\"}></span>\r\n          {Moment.format(\"dddd\")}\r\n          <span className={\"time-space\"}></span>\r\n          {Moment.format(\"hh:mm\")}\r\n        </>\r\n      );\r\n      // console.log(\r\n      //   now\r\n      // );\r\n      setTime(now);\r\n    }, 1000);\r\n    return () => {\r\n      clearInterval(Interval);\r\n    };\r\n  }, []);\r\n  // 点击消息字也可以打开消息中心\r\n  const onMsgClick = useCallback(() => {\r\n    $(msgRef.current).click();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [MsgInit]);\r\n  return (\r\n    <div\r\n      className={` Frame-topBar ${\r\n        type === \"teacher\" ? \"Frame-topBar-teacher\" : \"Frame-topBar-default\"\r\n      }`}\r\n    >\r\n      {type === \"default\" && (\r\n        <>\r\n          {\" \"}\r\n          <i\r\n            className=\"Frame-logo\"\r\n            // style={{ background: `url(${PlatMsg.logo}) no-repeat` }}\r\n          ></i>\r\n          {UserInfo ? (\r\n            <div className={\"Frame-userMsg  Frame-devide\"}>\r\n              <i\r\n                className=\"user-pic\"\r\n                style={{\r\n                  background: `url(${UserInfo.PhotoPath}) no-repeat center center/28px 28px`,\r\n                  cursor: BasePlatFormMsg ? \"pointer\" : \"auto\",\r\n                }}\r\n                onClick={() => {\r\n                \r\n                  BasePlatFormMsg &&\r\n                    window.open(\r\n                      BasePlatFormMsg.WebRootUrl +\r\n                        \"/html/personalMgr/?lg_tk=\" +\r\n                        getDataStorage(\"token\") +\r\n                        \"#/\"\r\n                    );\r\n                }}\r\n              >\r\n                {\" \"}\r\n              </i>\r\n              <span\r\n                onClick={() => {\r\n               \r\n                  BasePlatFormMsg &&\r\n                    window.open(\r\n                      BasePlatFormMsg.WebRootUrl +\r\n                        \"/html/personalMgr/?lg_tk=\" +\r\n                        getDataStorage(\"token\") +\r\n                        \"#/\"\r\n                    );\r\n                }}\r\n                title={UserInfo.UserName}\r\n                className={\"user-name\"}\r\n              >\r\n                {UserInfo.UserName}\r\n              </span>\r\n              <span\r\n                className=\"user-iden\"\r\n                style={{\r\n                  background: `url(${Identity.IconUrl}) no-repeat center center/contain  `,\r\n                }}\r\n                title={Identity.IdentityName}\r\n              >\r\n                {Identity.IdentityCode && Identity.IdentityCode.includes(\"IC1\")\r\n                  ? Identity.IdentityName\r\n                  : \"\"}\r\n              </span>\r\n              <span\r\n                className=\"logout\"\r\n                onClick={() => {\r\n                  autoAlert({\r\n                    title: \"确定要退出登录吗?\",\r\n                    type: \"btn-warn\",\r\n                    cancelShow: true,\r\n                    onOk: () => {\r\n                    // let baseUrl = JSON.parse(sessionStorage.getItem(\"BasePlatformMsg\")).WebRootUrl;\r\n                    // // 清掉storage\r\n                    // sessionStorage.clear();\r\n                    // localStorage.removeItem(\"token\");\r\n                    // // console.log(urlRemLg_tk(window.location.href))\r\n                    // window.location.href =\r\n                    // baseUrl + \"?lg_preurl=\" + encodeURIComponent(urlRemLg_tk(window.location.href));\r\n                      LogOut({});\r\n                    },\r\n                  });\r\n                }}\r\n              ></span>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <div className=\"Frame-open Frame-devide\">\r\n            {MsgInit ? (\r\n              <span className=\"open-msg\" onClick={onMsgClick}>\r\n                <i ref={msgRef} className=\"msg\" id={\"Assistant_infoCenter\"}></i>\r\n                消息\r\n              </span>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            <span\r\n              className=\"open-help\"\r\n              onClick={() => {\r\n                // if(identity == \"IC0010\"){\r\n                //   window.open(\"/UserHelp/270-L.html?lg_tk=\" + sessionStorage.getItem('token'))\r\n                //   return;\r\n                // }\r\n                if(Identity.IdentityCode == \"IC0012\"){\r\n                  window.open(\"/student-growth/UserHelp/270-T.html?lg_tk=\" + sessionStorage.getItem('token'))\r\n                  return;\r\n                }\r\n                if(Identity.IdentityCode == \"IC0014\" || Identity.IdentityCode == \"IC0015\"){\r\n                  window.open(\"/student-growth/UserHelp/270-S.html?lg_tk=\" + sessionStorage.getItem('token'))\r\n                  return;\r\n                }\r\n                window.open(\"/student-growth/UserHelp/270-L.html?lg_tk=\" + sessionStorage.getItem('token'))\r\n              }}\r\n            >\r\n              帮助\r\n            </span>\r\n          </div>\r\n          {Time ? <div className=\"Frame-time  Frame-devide\">{Time}</div> : \"\"}\r\n        </>\r\n      )}\r\n      {type === \"teacher\" && (\r\n        <>\r\n          <div className=\"tb-bar\">\r\n            <i\r\n              className=\"tb-logo\"\r\n              style={{\r\n                background: `url(${BasePlatFormMsg.ProductLogoUrl}) no-repeat center center/contain`,\r\n              }}\r\n            ></i>\r\n            <span className=\"tb-title\">\r\n              {BasePlatFormMsg.ProductName\r\n                ? BasePlatFormMsg.ProductName\r\n                : \"一体化智慧校园\"}\r\n            </span>\r\n            {UserInfo ? (\r\n              <div className={\"Frame-userMsg  Frame-devide\"}>\r\n                <i\r\n                  className=\"user-pic\"\r\n                  style={{\r\n                    background: `url(${UserInfo.PhotoPath}) no-repeat center center/28px 28px`,\r\n                    cursor: BasePlatFormMsg ? \"pointer\" : \"auto\",\r\n                  }}\r\n                  onClick={() => {\r\n                    BasePlatFormMsg &&\r\n                      window.open(\r\n                        BasePlatFormMsg.WebRootUrl +\r\n                          \"/html/personalMgr/?lg_tk=\" +\r\n                          getDataStorage(\"token\") +\r\n                          \"#/\"\r\n                      );\r\n                  }}\r\n                >\r\n                  {\" \"}\r\n                </i>\r\n                <span\r\n                  onClick={() => {\r\n                    BasePlatFormMsg &&\r\n                      window.open(\r\n                        BasePlatFormMsg.WebRootUrl +\r\n                          \"/html/personalMgr/?lg_tk=\" +\r\n                          getDataStorage(\"token\") +\r\n                          \"#/\"\r\n                      );\r\n                  }}\r\n                  title={UserInfo.UserName}\r\n                  className={\"user-name\"}\r\n                >\r\n                  {UserInfo.UserName}\r\n                </span>\r\n                <span\r\n                  className=\"user-iden\"\r\n                  style={{\r\n                    background: `url(${Identity.IconUrl}) no-repeat center center/contain  `,\r\n                  }}\r\n                  title={Identity.IdentityName}\r\n                >\r\n                  {Identity.IdentityCode &&\r\n                  Identity.IdentityCode.includes(\"IC1\")\r\n                    ? Identity.IdentityName\r\n                    : \"\"}\r\n                </span>\r\n                <span\r\n                  className=\"logout\"\r\n                  onClick={() => {\r\n                    return;\r\n                    // let baseUrl = JSON.parse(sessionStorage.getItem(\"BasePlatformMsg\")).WebRootUrl;\r\n                    // // 清掉storage\r\n                    // sessionStorage.clear();\r\n                    // localStorage.removeItem(\"token\");\r\n                    // // console.log(urlRemLg_tk(window.location.href))\r\n                    // window.location.href =\r\n                    // baseUrl + \"?lg_preurl=\" + encodeURIComponent(urlRemLg_tk(window.location.href));\r\n                    // LogOut({});\r\n                  }}\r\n                ></span>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            <div className=\"Frame-open Frame-devide\">\r\n              {MsgInit ? (\r\n                <span className=\"open-msg\" onClick={onMsgClick}>\r\n                  <i\r\n                    ref={msgRef}\r\n                    className=\"msg\"\r\n                    id={\"Assistant_infoCenter\"}\r\n                  ></i>\r\n                  {/* 消息 */}\r\n                </span>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"tb-name\">\r\n            {moduleName ? (\r\n              <span className=\"tb-module-name\">{moduleName}</span>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default memo(forwardRef(TopBar));\r\n","import React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  // useMemo,\r\n  useReducer,\r\n  createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n  ForwardedRef,\r\n  useCallback,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport $ from \"jquery\";\r\nimport { withRouter, Router, Route, HashRouter } from \"react-router-dom\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { handleRoute } from \"@/util/public\";\r\n\r\nfunction RouteTab(props, ref) {\r\n  let {\r\n    children,\r\n    routeList,\r\n    basePlatFormMsg,\r\n    domList,\r\n    ProVersion,\r\n    location,\r\n    history,\r\n  } = props;\r\n  // 路由变化,控制头部modulename\r\n  useEffect(() => {\r\n    let Path = handleRoute(location.pathname);\r\n    let isExist = false;\r\n    routeList.forEach((child, index) => {\r\n      if (child.props.routeid === Path[0]) {\r\n        isExist = true;\r\n        // 路由上有parma，但组件没有，改变路由\r\n        if (Path[1] && !child.props.param) {\r\n          history.push(\"/\" + child.props.routeid);\r\n        } else if (!Path[1] && child.props.param) {\r\n          //有设置param但路由没有\r\n          if (!routeList[0].props.param)\r\n            history.push(\"/\" + routeList[0].props.routeid);\r\n          else {\r\n            window.location.href =\r\n              basePlatFormMsg.BasicWebRootUrl + \"/Error.aspx?errcode=E012\";\r\n\r\n            //http://192.168.2.207:10108/Error.aspx?errcode=E012\r\n          }\r\n        }\r\n      }\r\n    });\r\n    if (!isExist && routeList.length > 0) {\r\n      history.push(\"/\" + routeList[0].props.routeid);\r\n    }\r\n    return () => {};\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location, routeList]);\r\n  return (\r\n    <Scrollbars>\r\n      <div className=\"lg-route-tab\">\r\n        {/* <div style={{ height: \"1000px\" }}> */}\r\n        <HashRouter>\r\n          {routeList.map((child, index) => {\r\n            let param = child.props.param ? \"/:\" + child.props.param : \"\";\r\n            return (\r\n              <Route\r\n                key={index}\r\n                path={\"/\" + child.props.routeid + param}\r\n                \r\n                //   component={child}\r\n              >\r\n                {child}\r\n              </Route>\r\n            );\r\n          })}\r\n        </HashRouter>\r\n        {/* </div> */}\r\n        {ProVersion}\r\n      </div>\r\n    </Scrollbars>\r\n  );\r\n}\r\n\r\nexport default withRouter(memo(forwardRef(RouteTab)));\r\n","import React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  //   useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport { withRouter, Router, Route, HashRouter } from \"react-router-dom\";\r\nimport { handleRoute } from \"@/util/public\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { EmptyReact } from \"@/component/common\";\r\nimport \"./index.scss\";\r\n//   import { Search, Empty } from \"../common\";\r\n\r\nfunction Page(props, ref) {\r\n  let {\r\n    className,\r\n    basePlatFormMsg,\r\n    pageList,\r\n    location,\r\n    history,\r\n    useScrollbars,\r\n    ProVersion,\r\n    domList,\r\n    // commonData: {\r\n    //   userInfo: {\r\n    //     UserID\r\n    //   }\r\n    // }\r\n  } = props;\r\n  useEffect(() => {\r\n    let Path = handleRoute(location.pathname);\r\n    let isExist = false;\r\n    pageList.forEach((child, index) => {\r\n      if (child.props.pageid === Path[1]) {\r\n        isExist = true;\r\n        // 路由上有parma，但组件没有，改变路由\r\n        if (Path[2] && !child.props.param) {\r\n          history.push(\"/page/\" + child.props.pageid);\r\n        } else if (!Path[2] && child.props.param) {\r\n          //有设置param但路由没有,如果第一个也没有就有组件自己控制\r\n          if (!pageList[0].props.param) {\r\n            history.push(\"/page/\" + pageList[0].props.pageid);\r\n          } else {\r\n            window.location.href =\r\n              basePlatFormMsg.BasicWebRootUrl + \"/Error.aspx?errcode=E012\";\r\n\r\n            //http://192.168.2.207:10108/Error.aspx?errcode=E012\r\n          }\r\n        }\r\n      }\r\n    });\r\n    if (!isExist && pageList.length > 0) {\r\n      let UserID = sessionStorage.getItem(\"UserInfo\")? JSON.parse(sessionStorage.getItem(\"UserInfo\")).UserID: \"\";\r\n      history.push(\"/page/\" + pageList[0].props.pageid + \"/\" + UserID);\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [pageList, location]);\r\n  return (\r\n    <EmptyReact\r\n      component={useScrollbars === undefined || useScrollbars ? Scrollbars : \"\"}\r\n    >\r\n      <div className={`lg-page ${className ? className : \"\"}`}>\r\n        <HashRouter>\r\n          {pageList.map((child, index) => {\r\n            let param = child.props.param ? \"/:\" + child.props.param : \"\";\r\n            return (\r\n              <Route\r\n                key={index}\r\n                path={\"/page/\" + child.props.pageid + param}\r\n                //   component={child}\r\n              >\r\n                {child}\r\n              </Route>\r\n            );\r\n          })}\r\n        </HashRouter>\r\n        {/* <p className='lg-page-proversion'>{ProVersion}</p> */}\r\n      </div>\r\n    </EmptyReact>\r\n  );\r\n}\r\nexport default withRouter(memo(forwardRef(Page)));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: pengzhiwen\r\n * @LastEditors: pengzhiwen\r\n * @Description: 平台框架\r\n */\r\nimport React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  // useMemo,\r\n  useReducer,\r\n  createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n  ForwardedRef,\r\n  useCallback,\r\n} from \"react\";\r\nimport {\r\n  connect,\r\n  useDispatch\r\n} from \"react-redux\";\r\nimport \"./index.scss\";\r\nimport { withRouter, useLocation } from \"react-router-dom\";\r\nimport $ from \"jquery\";\r\nimport { commonActions, handleActions } from \"@/redux/actions\";\r\nimport logo from \"./images/image-top-name.png\";\r\nimport { init } from \"@/util/init\";\r\nimport { Loading } from \"@/component/common\";\r\n\r\nimport LeftMenu from \"./leftMenu\";\r\nimport Icon_1 from \"./images/icon-select-1.png\";\r\nimport Icon_2 from \"./images/icon-select-2.png\";\r\nimport Tab from \"./Tab\";\r\nimport TopBar from \"./TopBar\";\r\nimport RouteTab from \"./routeTab\";\r\nimport Page from \"./page\";\r\nimport { handleRoute } from \"@/util/public\";\r\nimport fetch from \"@/util/fetch\";\r\nimport ipConfig from \"@/util/ipConfig\";\r\nimport { message } from \"_antd@4.12.1@antd\";\r\nlet { BasicProxy } = ipConfig;\r\n// 创建frame的context\r\nexport const frameContext = createContext();\r\nconst initState = {\r\n  contentHeight: 0,\r\n};\r\nconst frameReducer = (state, actions) => {\r\n  switch (actions.type) {\r\n    case \"RESIZE_CONTENT\":\r\n      return Object.assign({}, state, {\r\n        contentHeight: actions.data,\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n/**\r\n * @description: frame的children的属性需要包含tabid，tabname，可有param\r\n * @param {*}\r\n * @return {*}\r\n */\r\nfunction Frame(props, ref) {\r\n  // type控制显示骨架类型，不存在或false则界面loading\r\n  // type:*default:默认模式，存在左侧菜单和默认头部，children为中部内容区\r\n  // *default-teacher:没有左侧区域，只有中间区域\r\n  // search为tab的搜索区域，undefined则不会出现\r\n  const {\r\n    type,\r\n    // 初始化回调\r\n    pageInit,\r\n    className,\r\n    moduleID,\r\n    // 平台信息，头部的logo和名称\r\n    platMsg,\r\n    // 左侧菜单，结构看leftmenu里面注释\r\n    leftMenu,\r\n    children,\r\n    // 主动获取frame当前的活动标签页，回调函数\r\n    getActiveTab,\r\n    // 控制tab的props，与antd的tabs一样配置\r\n    tabPorps,\r\n    // 回调函数，获取标签页主要区域的宽高\r\n    onContentresize,\r\n    // 是否需要进行默认的趋势化操作，缺省为需要，false为不需要，配合不需要登陆逻辑的界面\r\n    onlyBase,\r\n    search,\r\n    commonData,\r\n    setShowModule,\r\n    commonData: {\r\n      roleMsg: {identityCode},\r\n    },\r\n  } = props;\r\n  console.log(\"frame\", props);\r\n  \r\n  // 是否初始化\r\n  let [Init, setInit] = useState(false);\r\n  // 身份信息\r\n  let [Identity, setIdentity] = useState(false);\r\n  // 用户信息\r\n  let [UserInfo, setUserInfo] = useState(false);\r\n  // 基础平台信息\r\n  let [BasePlatFormMsg, setBasePlatFormMsg] = useState(false);\r\n  // 可用区域高度\r\n  // const [contentHeight, setContentHeight] = useState(0);\r\n  // 骨架外层loading\r\n  let [FrameLoading, setFrameLoading] = useState(true);\r\n  // 平台信息\r\n  let [PlatMsg, setPlatMsg] = useState({ logo });\r\n  // 各服务器url\r\n  let [SystemServer, setSystemServer] = useState(null);\r\n  // // init 的所有数据\r\n  // const [InitData,setInitData] =useState(null)\r\n  // 左侧菜单\r\n  let [MenuList, setMenuList] = useState([]);\r\n  // tab的ref；\r\n  const tabRef = useRef({});\r\n  // reduce\r\n  const [state, dispatch] = useReducer(frameReducer, initState);\r\n  // ComponentList\r\n  const [ComponentList, setComponentList] = useState([]);\r\n\r\n  // 单页面的,还保留头部的\r\n  //   存得到路由标签\r\n  const [routeList, setRouteList] = useState([]);\r\n  //   存普通的节点\r\n  const [domList, setDomList] = useState([]);\r\n  //   存底部版本\r\n  const [proversion, setProVersion] = useState(\"\");\r\n\r\n  // 路由\r\n  const location = useLocation();\r\n\r\n  // 设置modulename\r\n  const [moduleName, setModuleName] = useState(undefined);\r\n  // end 单页面\r\n\r\n  // 单页面2\r\n  //   存得到路由标签\r\n  const [pageList, setPageList] = useState([]);\r\n  // let { ComponentList, TabList } = state;\r\n  // init成功\r\n  const [initData, setInitData] = useState(false);\r\n  //最后刷新时间\r\n  const [lastTime, setLastTime] = useState(\"\");\r\n  // 页面初始化副作用，依赖moduleID，pageInit,type\r\n  let userIdentity = \"manager\";\r\n  if(identityCode == \"IC0010\"){\r\n    userIdentity = \"manager\";\r\n  }\r\n  if(identityCode == \"IC0013\" || identityCode == \"IC0011\" || identityCode == \"IC0012\"){\r\n    userIdentity = \"teacher\";\r\n  }\r\n  if(identityCode == \"IC0014\" || identityCode == \"IC0015\"){\r\n    userIdentity = \"student\";\r\n  }\r\n  useLayoutEffect(() => {\r\n    // if(userIdentity == \"manager\"){\r\n    //   setMenuList([\r\n    //     {\r\n    //       key: \"page/personalDetail\",\r\n    //       name: \"智能画像\",\r\n    //       icon: Icon_2,\r\n    //       children: [],\r\n    //       params: [{ key: \"page/personalDetail\", title: \"智能画像\" }],\r\n    //     },\r\n    //     {\r\n    //       key: \"stuStatusMsg\",\r\n    //       name: \"多维档案\",\r\n    //       icon: Icon_1,\r\n    //       children: [\r\n    //         {\r\n    //           key: \"stuStatusMsg\",\r\n    //           name: \"学籍档案\",\r\n    //         },\r\n    //         {\r\n    //           key: \"stuConditionMsg\",\r\n    //           name: \"学情档案\",\r\n    //         },\r\n    //         {\r\n    //           key: \"attendanceMsg\",\r\n    //           name: \"考勤档案\",\r\n    //         }\r\n      \r\n    //       ],\r\n    //     },\r\n    //   ])\r\n    // } else {\r\n      setMenuList([\r\n        {\r\n          key: \"page/personalDetail\",\r\n          name: \"智能画像\",\r\n          icon: Icon_2,\r\n          children: [],\r\n          params: [{ key: \"page/personalDetail\", title: \"智能画像\" }],\r\n        },\r\n        {\r\n          key: \"stuStatusMsg\",\r\n          name: \"多维档案\",\r\n          icon: Icon_1,\r\n          children: [\r\n            {\r\n              key: \"stuStatusMsg\",\r\n              name: \"学籍档案\",\r\n            },\r\n            {\r\n              key: \"stuConditionMsg\",\r\n              name: \"学情档案\",\r\n            },\r\n            {\r\n              key: \"attendanceMsg\",\r\n              name: \"考勤档案\",\r\n            },\r\n            {\r\n              key: \"healthMsg\",\r\n              name: \"健康档案\",\r\n            },\r\n            {\r\n              key: \"awardAndPunish\",\r\n              name: \"奖惩档案\",\r\n            },\r\n            {\r\n              key: \"schoolLiveMsg\",\r\n              name: \"校园生活档案\",\r\n            },\r\n      \r\n          ],\r\n        },\r\n      ]);\r\n    // }\r\n  }, [identityCode])\r\n  useLayoutEffect(()=>{\r\n    let node = $(\".link-child-box a\");\r\n    let currentIndex = 1;\r\n    node.each((index, item)=>{\r\n      if($(item).attr(\"class\") && $(item).attr(\"class\").indexOf(\"link-select\") != -1){\r\n        currentIndex = index + 1;\r\n      }\r\n    })\r\n    let url = BasicProxy + \"/cache/time?moduleId=\" + currentIndex;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && result.data){\r\n        setLastTime(result.data.substr(0, 16));\r\n      }\r\n    })\r\n  }, [userIdentity]);\r\n  useEffect(() => {\r\n    //初始化，didmount，只依赖moduleid，依赖type会请求多次\r\n    type &&\r\n      // onlyBase !== false &&\r\n      init(\r\n        {moduleID,onlyBase:onlyBase},//onlyBase:只要基础信息，不用验证用户，不用登陆功能\r\n        (data) => {\r\n          //成功\r\n          if (data.identityDetail && data.role.version !== \"noPower\") {\r\n            //true表示该身份有效\r\n            setIdentity(data.identityDetail);\r\n            data.userInfo && setUserInfo(data.userInfo);\r\n            data.basePlatformMsg && setBasePlatFormMsg(data.basePlatformMsg);\r\n            setSystemServer(data.systemServer ? data.systemServer : false);\r\n            // typeof pageInit === \"function\" && pageInit(data);\r\n            setInitData(data);\r\n            // type && setFrameLoading(false); //加载完毕，去掉laoding，需要type存在\r\n            setInit(true);\r\n          }else if(onlyBase){\r\n            data.basePlatformMsg && setBasePlatFormMsg(data.basePlatformMsg);\r\n            setInitData(data);\r\n            setInit(true);\r\n            \r\n          } else {\r\n            //身份无效\r\n            // console.log('无效')\r\n            document.location.href =\r\n              data.basePlatformMsg.BasicWebRootUrl + \"/Error.aspx?errcode=E011\";\r\n          }\r\n        },\r\n        () => {\r\n          // type && setFrameLoading(true); //加载完毕，去掉laoding，需要type存在\r\n        }\r\n      );\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [moduleID]);\r\n\r\n  // 监听type变化，修改loading,解决接口因为type变化请求多次问题请求多次\r\n  // 初始化成功后的逻辑与初始化分开比较好\r\n  useEffect(() => {\r\n    // 初始化成功和loading还在才运行\r\n    if ((Init ) && FrameLoading) {\r\n      typeof pageInit === \"function\" &&\r\n        pageInit(initData).then((isInit) => {\r\n          if (isInit) {\r\n            type && setFrameLoading(false);\r\n          }\r\n        });\r\n    }\r\n  }, [type, initData, Init, pageInit, FrameLoading, onlyBase]);\r\n  // 平台信息副作用,\r\n  useEffect(() => {\r\n    // 对platMsg做把控，防止传进来的数据不对\r\n    platMsg instanceof Object &&\r\n      setPlatMsg({\r\n        logo: platMsg.logo ? platMsg.logo : logo,\r\n        ...platMsg,\r\n      });\r\n  }, [platMsg]);\r\n  // 初始化左侧菜单列表和顶部数据\r\n  // useEffect(() => {\r\n  //   // 对platMsg做把控，防止传进来的数据不对\r\n  //   platMsg instanceof Object &&\r\n  //     setPlatMsg({\r\n  //       logo: platMsg.logo ? platMsg.logo : logo,\r\n  //       ...platMsg,\r\n  //     });\r\n  //   leftMenu instanceof Array && setMenuList(leftMenu);\r\n  // }, [platMsg, leftMenu]);\r\n  // 路由变化,控制头部modulename\r\n  useEffect(() => {\r\n    let Path = handleRoute(location.pathname);\r\n    routeList.forEach((child, index) => {\r\n      if (child.props.routeid === Path[0]) {\r\n        setModuleName(child.props.routename);\r\n      }\r\n    });\r\n\r\n    return () => {};\r\n  }, [location, routeList]);\r\n  // 当type不一样的时候，处理界面显示不同的模式，返回不同的节点列表\r\n  useEffect(() => {\r\n    // 默认的才有tab\r\n\r\n    if (checkType(\"default\")) {\r\n      let List = [];\r\n      children.forEach((child) => {\r\n        try {\r\n          // 不存在这两个参数的不要\r\n          if (\r\n            !child.props ||\r\n            child.props.tabid === undefined ||\r\n            child.props.tabname === undefined\r\n          ) {\r\n            return \"\";\r\n          }\r\n        } catch {\r\n          return \"\";\r\n        }\r\n\r\n        List.push({\r\n          children: child,\r\n          props: {\r\n            ...child.props,\r\n            redirect:\r\n              \"/\" +\r\n              (child.props.redirect\r\n                ? child.props.redirect\r\n                : leftMenu[0]\r\n                ? leftMenu[0].key\r\n                : \"\"),\r\n          },\r\n        });\r\n      });\r\n      // 存compoent\r\n      setComponentList(List);\r\n    }\r\n    // 教师端，也就是有路由的\r\n    if (checkType(\"teacher\")) {\r\n      let routeList = [];\r\n      let domList = [];\r\n      let proversion = [];\r\n\r\n      children instanceof Array &&\r\n        children.forEach((child) => {\r\n          // frametype为teacher的都是要的\r\n          if (child.props.frametype === \"teacher\") {\r\n            if (child.props.routeid) {\r\n              routeList.push(child);\r\n            } else if (child.props.proversion) {\r\n              proversion.push(child);\r\n            } else {\r\n              domList.push(child);\r\n            }\r\n          }\r\n        });\r\n      setRouteList(routeList);\r\n      setProVersion(proversion);\r\n      setDomList(domList);\r\n    }\r\n\r\n    // 单页面,新开界面\r\n    if (checkType(\"page\")) {\r\n      let pageList = [];\r\n      let domList = [];\r\n      let proversion = [];\r\n      children instanceof Array &&\r\n        children.forEach((child) => {\r\n          // frametype为page的都是要的\r\n          if (child.props.frametype === \"page\") {\r\n            if (child.props.pageid) {\r\n              pageList.push(child);\r\n            } else if (child.props.proversion) {\r\n              proversion.push(child);\r\n            } else {\r\n              domList.push(child);\r\n            }\r\n          }\r\n        });\r\n        console.log(pageList)\r\n\r\n      setPageList(pageList);\r\n      setProVersion(proversion);\r\n      setDomList(domList);\r\n    }\r\n    return () => {};\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [children, type, leftMenu]);\r\n\r\n  // 对type字段解析，查看是否包含\r\n  const checkType = useCallback(\r\n    (key = null) => {\r\n      return typeof type === \"string\" && type.includes(key);\r\n    },\r\n    [type]\r\n  );\r\n  let { activeTab, tabList, removeTab } = tabRef.current ? tabRef.current : {};\r\n  // 返回方法，外部使用\r\n  useImperativeHandle(\r\n    ref,\r\n    () => {\r\n      return {\r\n        // pageInit,\r\n        activeTab,\r\n        tabList,\r\n        removeTab,\r\n        contentHeight: state.contentHeight,\r\n      };\r\n    },\r\n    [activeTab, tabList, removeTab, state.contentHeight]\r\n  );\r\n  // 保存活动的tab\r\n  useEffect(() => {\r\n    typeof getActiveTab === \"function\" && getActiveTab(activeTab);\r\n    // dispatch(handleActions.setActiveTab(activeTab));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [activeTab]);\r\n  let dispatchs = useDispatch();\r\n  const getNewInfo = () => {\r\n    let node = $(\".link-child-box a\");\r\n    let currentIndex = 1;\r\n    node.each((index, item)=>{\r\n      if($(item).attr(\"class\") && $(item).attr(\"class\").indexOf(\"link-select\") != -1){\r\n        currentIndex = index + 1;\r\n      }\r\n    })\r\n    let url = BasicProxy + \"/cache/delete?moduleIds=\" + currentIndex;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200){\r\n        dispatchs({\r\n            type: commonActions.COMMON_REFLASH,\r\n            data: true\r\n        });\r\n        //刷新后将状态还原，以便于下次刷新\r\n        setTimeout(() => {\r\n          dispatchs({\r\n            type: commonActions.COMMON_REFLASH,\r\n            data: false\r\n          });\r\n        }, 2000);\r\n        //刷新后更新数据刷新时间显示\r\n        let date = new Date();\r\n        let year = date.getFullYear();\r\n        let month = date.getMonth() + 1;\r\n        let day = date.getDate();\r\n        let hour = date.getHours();\r\n        let minute = date.getMinutes();\r\n        if(month < 10){\r\n          month = \"0\" + month;\r\n        }\r\n        if(day < 10){\r\n          day = \"0\" + day;\r\n        }\r\n        if(hour < 10){\r\n          hour = \"0\" + hour;\r\n        }\r\n        if(minute < 10){\r\n          minute = \"0\" + minute;\r\n        }\r\n        setLastTime(year + \"-\" + month + \"-\" + day + \" \" + hour + \":\" + minute);\r\n        message.destroy();\r\n        message.config({\r\n          rtl: false,\r\n          getContainer: ()=>document.body\r\n        });\r\n        message.success(\"刷新成功~\");\r\n      }\r\n    })\r\n  }\r\n  return (\r\n    <frameContext.Provider value={{ state, dispatch }}>\r\n      <Loading\r\n        spinning={FrameLoading \r\n          // || MenuList.length === 0\r\n        }\r\n        opacity={false}\r\n        tip={\"加载中...\"}\r\n      >\r\n        <div\r\n          id=\"Frame\"\r\n          style={checkType(\"page\") ? { minWidth: \"auto\" } : {}}\r\n          className={`Frame ${className ? className : \"\"}`}\r\n        >\r\n          {checkType(\"page\") ? (\r\n            BasePlatFormMsg && (\r\n              <Page\r\n                pageList={pageList}\r\n                useScrollbars={false}\r\n                basePlatFormMsg={BasePlatFormMsg}\r\n                domList={domList}\r\n                ProVersion={proversion}\r\n                commonData={commonData}\r\n              ></Page>\r\n            )\r\n          ) : (\r\n            <>\r\n              <TopBar\r\n                userInfo={UserInfo}\r\n                basePlatFormMsg={BasePlatFormMsg}\r\n                platMsg={PlatMsg}\r\n                identity={Identity}\r\n                type={type}\r\n                systemServer={SystemServer}\r\n                moduleName={moduleName}\r\n                initData={initData}\r\n              ></TopBar>\r\n\r\n              {type ? (\r\n                <div\r\n                  className={`Frame-contain  ${\r\n                    checkType(\"teacher\") ? \"Frame-contain-2\" : \"\"\r\n                  }`}\r\n                >\r\n                  {checkType(\"default\") ? (\r\n                    <div className=\"Frame-contain-left\">\r\n                      <LeftMenu list={MenuList} commonData={commonData} setShowModule={setShowModule}></LeftMenu>\r\n                      <p className=\"reflash\" onClick={getNewInfo}>最后刷新: {lastTime}<i className=\"reflashlogo\"></i></p>\r\n                    </div>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n\r\n                  <div\r\n                    className={`Frame-contain-right ${\r\n                      checkType(\"teacher\") ? \"only-center\" : \"\"\r\n                    }`}\r\n                  >\r\n                    {Init ? (\r\n                      checkType(\"teacher\") ? (\r\n                        <RouteTab\r\n                          routeList={routeList}\r\n                          domList={domList}\r\n                          basePlatFormMsg={BasePlatFormMsg}\r\n                          ProVersion={proversion}\r\n                        >\r\n                          {children}\r\n                        </RouteTab>\r\n                      ) : ComponentList instanceof Array &&\r\n                        ComponentList.length > 0 ? (\r\n                        <Tab\r\n                          tabPorps={tabPorps}\r\n                          ref={tabRef}\r\n                          componentList={ComponentList}\r\n                          search={search}\r\n                          type={type}\r\n                          onContentresize={onContentresize}\r\n                        >\r\n                          {children}\r\n                        </Tab>\r\n                      ) : (\r\n                        \"\"\r\n                      )\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </Loading>\r\n    </frameContext.Provider>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: { isReflash },\r\n  } = state;\r\n  return { isReflash };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(Frame)));\r\n","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport $ from \"jquery\";\r\nimport \"./index.scss\";\r\nimport { Empty } from \"../../component/common\";\r\nimport { Upload, Pagination, ConfigProvider, message } from \"antd\";\r\nimport zhCN from \"antd/es/locale/zh_CN\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n\r\nfunction ImportPage(props, ref) {\r\n    let {\r\n        setShowType,\r\n        basePlatFormMsg: { ProVersion },\r\n        ModuleID,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID},\r\n        ModuleType\r\n    } = props;\r\n    //当前步骤进度  import导入文件；preview预览；save保存\r\n    const [currentStep, setCurrentStep] = useState(\"import\");\r\n\r\n    //存储导入的学籍数据\r\n    const [statusList, setStatusList] = useState([]);\r\n    //当前展示的学籍数据\r\n    const [currentStatus, setCurrentStatus] = useState({});\r\n    //分页器当前页数\r\n    const [currentIndex, setCurrentIndex] = useState(1);\r\n    const [currentIndex2, setCurrentIndex2] = useState(1);\r\n    //文件名\r\n    const [fileName, setFileNameStep] = useState(\"\");\r\n    //步骤是否完成的标志\r\n    const [importSign, setImportSign] = useState(0);\r\n    const [previewSign, setPreviewSign] = useState(0);\r\n    const [saveSign, setSaveSign] = useState(0);\r\n    //下载的模板类别\r\n    const download = () => {\r\n        let url = BasicProxy + \"/api/base/template?schoolId=\" + SchoolID +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&classId=\" + currentClass +\r\n        \"&templateType=STATUS_LOGS\" +\r\n        \"&blankSheet=0\";\r\n        //导出excel文档\r\n        window.location.href = url;\r\n    }\r\n    const importFile = (data) => {\r\n        let formData = new FormData();\r\n        formData.append(\"multipartFile\", data.file);\r\n        let url = BasicProxy + \"/api/status/import\";\r\n        $.ajax({\r\n            url: url,\r\n            type: 'post',\r\n            async: true,\r\n            data: formData,\r\n            dataType:'json',\r\n            cache: false, // 上传文件无需缓存\r\n            processData : false, // 使数据不做处理\r\n            contentType: false,\r\n            headers: {\r\n              \"Authorization\": \"X-Token=\" + sessionStorage.getItem(\"token\"),\r\n            },\r\n            success: function(data){\r\n              if(data.status == 200 && Array.isArray(data.data)){\r\n                message.success(\"导入成功~\");\r\n                setStatusList(data.data);\r\n                setCurrentStatus(data.data[0]);\r\n                setImportSign(1);\r\n              } else {\r\n                if(data.msg && data.msg.indexOf(\".xls\") != -1){\r\n                  message.error(\"文档内数据错误，请下载文件并修改标红行的数据！\", 3);\r\n                  window.location.href = BasicProxy + \"/api/base/fileDownload?filePath=\" + data.msg;\r\n                  return;\r\n                }\r\n                message.error(\"导入失败！请在当前界面下载正确的模板文件~\");\r\n              }\r\n              \r\n               \r\n            },\r\n            error:function(response){\r\n                message.error(\"导入失败！请在当前界面下载正确的模板文件~\");\r\n            }\r\n        })\r\n    }\r\n    //判断当前步骤进度\r\n    useEffect(() => {\r\n        if(importSign == 0){\r\n            setCurrentStep(\"import\");\r\n        }\r\n        if(importSign == 1 && saveSign == 0){\r\n            setCurrentStep(\"preview\");\r\n        }\r\n        if(importSign == 1 && previewSign == 1){\r\n            setCurrentStep(\"save\");\r\n        }\r\n        if(importSign == 1 && previewSign == 1 && saveSign == 1){\r\n            statusList.forEach((item)=>{\r\n                item.extraInfo = JSON.stringify(item.extraInfoJson);\r\n                item.guardianList = [];\r\n                item.classId = item.classId? item.classId: \"\";\r\n                item.gradeId = item.gradeId? item.gradeId: \"\";\r\n                item.schoolId = item.schoolId? item.schoolId: \"\";\r\n                item.isPoor = item.isPoor? item.isPoor: \"\";\r\n                item.photoPath = item.photoPath? item.photoPath: \"\";\r\n                item.errorCorrection = item.errorCorrection? item.errorCorrection: \"\";\r\n                //传给后台的数据需要转换成字段\r\n                item.guardianJson.forEach((child)=>{\r\n                    let obj = {\r\n                        name: child[\"姓名\"],\r\n                        relationship: child[\"关系\"],\r\n                        serviceUnit: child[\"工作单位\"],\r\n                        tel: child[\"联系方式\"],\r\n                        userId: item.studentName,\r\n                        changeItem: 1,\r\n                        id: 0,\r\n                        address: child[\"现住址\"],\r\n                        censusPlace: child[\"户口所在地\"],\r\n                        idCardNum: child[\"身份证件号码\"],\r\n                        idCardType: child[\"身份证件类型\"],\r\n                        isGuardian: child[\"是否监护人\"],\r\n                        nation: child[\"民族\"],\r\n                        position: child[\"职务\"]\r\n                    }\r\n                    item.guardianList.push(obj);\r\n                })\r\n                item.resumeList = [];\r\n                //传给后台的数据需要转换成字段\r\n                item.resumeJson.forEach((child)=>{\r\n                    let obj = {\r\n                        learningContent: child[\"学习内容\"],\r\n                        school: child[\"学习单位\"],\r\n                        semesterStartTime: child[\"学习结束时间\"],\r\n                        certifier: child[\"学习证明人\"],\r\n                        semesterEndTime: child[\"学习起始时间\"],\r\n                        duty: child[\"担任职务\"],\r\n                        userId: item.studentName,\r\n                        changeItem: 1,\r\n                        id: 0\r\n                    }\r\n                    item.resumeList.push(obj);\r\n                })\r\n            })\r\n            // console.log(statusList)\r\n            let url = BasicProxy + \"/api/status/student\";\r\n            fetch\r\n            .post({\r\n                url, \r\n                securityLevel: 2, \r\n                body: statusList,\r\n                header: {\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            })\r\n            .then((res)=>res.json())\r\n            .then((result)=>{\r\n                if(result.status == 200){\r\n                    message.success(\"导入成功~\");\r\n                    setShowType(\"detail\");\r\n                } else {\r\n                    message.error(\"导入失败！\");\r\n                }\r\n            })\r\n            // $.ajax({\r\n            //     url: url,\r\n            //     type: 'post',\r\n            //     data: statusList,\r\n            //     // dataType: 'json',\r\n            //     headers: {\r\n            //         \"Authorization\": \"X-Token=\" + sessionStorage.getItem(\"token\"),\r\n            //     },\r\n            //     success: function(result){\r\n            //         if(result.status == 200){\r\n            //             message.success(\"导入成功~\");\r\n            //             setShowType(\"detail\");\r\n            //         } else {\r\n            //             message.error(\"导入失败！\");\r\n            //         }\r\n            //     }\r\n            // })\r\n                \r\n        }\r\n    }, [importSign, previewSign, saveSign])\r\n\r\n    //删除某一条学籍信息\r\n    const deleteStatusOne = () => {\r\n        let arr = statusList.splice(currentIndex, 1);\r\n        if(arr.length == 0){\r\n            message.warn(\"当前暂无导入数据，请重新导入数据~\", 3);\r\n            setImportSign(0);\r\n            return;\r\n        }\r\n        setStatusList(arr);\r\n        setCurrentStatus(arr[currentIndex - 1]);\r\n        \r\n    }\r\n    return (\r\n        <div className=\"import-page\">\r\n            <div className=\"import-top\">\r\n                导入学籍信息\r\n                <div className=\"goback\" onClick={()=>setShowType(\"detail\")}>返回详情界面</div>\r\n            </div>\r\n            <div className=\"import-step-list\">\r\n                <div \r\n                className={\"step-1 \" +\r\n                (currentStep == \"import\"? \"active\": \"prev\")} \r\n                // onClick={()=>setCurrentStep(\"import\")}\r\n                >\r\n                    1.导入文件\r\n                </div>\r\n                <div \r\n                className={\"step-2 \" + \r\n                (currentStep == \"preview\"? \"active\": currentStep == \"save\"? \"prev\": \"\")}\r\n                // onClick={()=>setCurrentStep(\"preview\")}\r\n                >\r\n                    2.内容预览\r\n                </div>\r\n                <div \r\n                className={\"step-3 \" +\r\n                (currentStep == \"save\"? \"active\": \"\")} \r\n                // onClick={()=>setCurrentStep(\"save\")}\r\n                >\r\n                    3.保存\r\n                </div>\r\n            </div>\r\n            {\r\n                currentStep == \"import\"?\r\n                <div className=\"import-file\">\r\n                    <p className=\"import-tip\">\r\n                        <i className=\"warnlogo\"></i>\r\n                        导入提醒:\r\n                    </p>\r\n                    <p>1.选择导入的文件必须为模板文件。&nbsp;&nbsp;\r\n                        \"\r\n                        <span className=\"template-download\" onClick={download}>模板下载</span>\r\n                        \"\r\n                    </p>\r\n                    <p>2.模板文件内可以同时有多个学籍信息。</p>\r\n                    <div className=\"file-upload\">\r\n                        {fileName}\r\n                        <Upload\r\n                        customRequest={importFile}\r\n                        showUploadList={false}\r\n                        >\r\n                            <div className=\"file-upload-btn\">选择文件</div>\r\n                        </Upload>\r\n                    </div>\r\n                </div>:\r\n                currentStep == \"preview\"?\r\n                <div className=\"preview-file\">\r\n                    <div className=\"preview-top\">\r\n                        <ConfigProvider locale={zhCN}>\r\n                            <Pagination\r\n                            className=\"preview-pagination\"\r\n                            size=\"small\"\r\n                            total={statusList.length}\r\n                            current={currentIndex}\r\n                            pageSize={1}\r\n                            showQuickJumper={true}\r\n                            showSizeChanger={false}\r\n                            hideOnSinglePage\r\n                            onChange={(pageIndex)=>{\r\n                                setCurrentStatus(statusList[pageIndex - 1]);\r\n                                setCurrentIndex(pageIndex)\r\n                            }}\r\n                            />\r\n                        </ConfigProvider>\r\n                        <div className=\"btn-group\">\r\n                            {\r\n                                statusList.length > 0?\r\n                                <div className=\"delete-btn\" onClick={deleteStatusOne}>删除</div>:\r\n                                \"\"\r\n                            }\r\n                            <div className=\"next-btn\" onClick={()=>{\r\n                                setPreviewSign(1)\r\n                                setCurrentStep(\"save\")\r\n                            }}>下一步</div>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        currentStatus?\r\n                       <div className=\"stu-status\" style={{padding: 0}}>\r\n                       <table className=\"base-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                           <caption>基本信息及辅助信息</caption>\r\n                           <tr>\r\n                                <td>姓名</td>\r\n                                <td title={currentStatus.studentName? currentStatus.studentName: \"--\"}>\r\n                                    {currentStatus.studentName? currentStatus.studentName: \"--\"}\r\n                                </td>\r\n                                <td>性别</td>\r\n                                <td title={currentStatus.gender? currentStatus.gender: \"--\"}>\r\n                                    {currentStatus.gender? currentStatus.gender: \"--\"}\r\n                                </td>\r\n                                <td>出生日期</td>\r\n                                <td title={currentStatus.dateOfBirth? currentStatus.dateOfBirth: \"--\"}>\r\n                                    {currentStatus.dateOfBirth? currentStatus.dateOfBirth: \"--\"}\r\n                                </td>\r\n                                <td>出生地</td>\r\n                                <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"出生地\"]?\r\n                                currentStatus.extraInfoJson[\"出生地\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"出生地\"]?\r\n                                    currentStatus.extraInfoJson[\"出生地\"]: \"--\"}\r\n                                </td> \r\n                            <td rowSpan=\"6\" style={{\r\n                                backgroundImage: `url(${currentStatus.photoPath})`,\r\n                                backgroundSize: '100% 100%'\r\n                                }}></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>籍贯</td>\r\n                                <td title={currentStatus.nativePlace? currentStatus.nativePlace: \"--\"}>\r\n                                    {currentStatus.nativePlace? currentStatus.nativePlace: \"--\"}\r\n                                </td>\r\n                                <td>民族</td>\r\n                                <td title={currentStatus.nation? currentStatus.nation: \"--\"}>\r\n                                    {currentStatus.nation? currentStatus.nation: \"--\"}\r\n                                </td>\r\n                                <td>国籍/地区</td>\r\n                                <td title={currentStatus.nationality? currentStatus.nationality: \"--\"}>\r\n                                    {currentStatus.nationality? currentStatus.nationality: \"--\"}\r\n                                </td>\r\n                                <td>身份证件类型</td>\r\n                                <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"身份证件类型\"]?\r\n                                currentStatus.extraInfoJson[\"身份证件类型\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"身份证件类型\"]?\r\n                                    currentStatus.extraInfoJson[\"身份证件类型\"]: \"--\"}\r\n                                </td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>身份证件号码</td>\r\n                                <td colSpan=\"3\" title={currentStatus.identityNum? currentStatus.identityNum: \"--\"}>\r\n                                    {currentStatus.identityNum? currentStatus.identityNum: \"--\"}\r\n                                </td>\r\n                                <td>港澳台侨胞</td>\r\n                                <td title={currentStatus.overseaPeople? currentStatus.overseaPeople: \"--\"}>\r\n                                    {currentStatus.overseaPeople? currentStatus.overseaPeople: \"--\"}\r\n                                </td>\r\n                                <td>政治面貌</td>\r\n                                <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"政治面貌\"]?\r\n                                currentStatus.extraInfoJson[\"政治面貌\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"政治面貌\"]?\r\n                                    currentStatus.extraInfoJson[\"政治面貌\"]: \"--\"}\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>健康状况</td>\r\n                                <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"健康状况\"]?\r\n                                currentStatus.extraInfoJson[\"健康状况\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"健康状况\"]?\r\n                                    currentStatus.extraInfoJson[\"健康状况\"]: \"--\"}\r\n                                </td>\r\n                                <td>姓名拼音</td>\r\n                                <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"姓名拼音\"]?\r\n                                currentStatus.extraInfoJson[\"姓名拼音\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"姓名拼音\"]?\r\n                                    currentStatus.extraInfoJson[\"姓名拼音\"]: \"--\"}\r\n                                </td>\r\n                                <td>曾用名</td>\r\n                                <td title={currentStatus.formerName? currentStatus.formerName: \"--\"}>\r\n                                    {currentStatus.formerName? currentStatus.formerName: \"--\"}\r\n                                </td>\r\n                                <td>身份证件有效期</td>\r\n                                <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"身份证件有效期\"]?\r\n                                currentStatus.extraInfoJson[\"身份证件有效期\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"身份证件有效期\"]?\r\n                                    currentStatus.extraInfoJson[\"身份证件有效期\"]: \"--\"}\r\n                                </td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>户口所在地</td>\r\n                                <td title={currentStatus.censusPlace? currentStatus.censusPlace: \"--\"}>\r\n                                    {currentStatus.censusPlace? currentStatus.censusPlace: \"--\"}\r\n                                </td>\r\n                                <td>特长</td>\r\n                                <td colSpan=\"5\" title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"特长\"]?\r\n                                currentStatus.extraInfoJson[\"特长\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"特长\"]?\r\n                                    currentStatus.extraInfoJson[\"特长\"]: \"--\"}\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>学籍辅号</td>\r\n                                <td title={currentStatus.studentId? currentStatus.studentId: \"--\"}>\r\n                                    {currentStatus.studentId? currentStatus.studentId: \"--\"}\r\n                                </td>\r\n                                <td>班内学号</td>\r\n                                <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"班内学号\"]?\r\n                                currentStatus.extraInfoJson[\"班内学号\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"班内学号\"]?\r\n                                    currentStatus.extraInfoJson[\"班内学号\"]: \"--\"}\r\n                                </td>\r\n                                <td>年级</td>\r\n                                <td title={currentStatus.gradeName? currentStatus.gradeName: \"--\"}>\r\n                                    {currentStatus.gradeName? currentStatus.gradeName: \"--\"}\r\n                                </td>\r\n                                <td>班级</td>\r\n                                <td title={currentStatus.className? currentStatus.className: \"--\"}>\r\n                                    {currentStatus.className? currentStatus.className: \"--\"}\r\n                                </td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>入学年月</td>\r\n                                <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"入学年月\"]?\r\n                                currentStatus.extraInfoJson[\"入学年月\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"入学年月\"]?\r\n                                    currentStatus.extraInfoJson[\"入学年月\"]: \"--\"}\r\n                                </td>\r\n                                <td>入学方式</td>\r\n                                <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"入学方式\"]?\r\n                                currentStatus.extraInfoJson[\"入学方式\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"入学方式\"]?\r\n                                    currentStatus.extraInfoJson[\"入学方式\"]: \"--\"}\r\n                                </td>\r\n                                <td>就读方式</td>\r\n                                <td title={currentStatus.studyingWay?\r\n                                currentStatus.studyingWay: \"--\"}>\r\n                                    {currentStatus.studyingWay?\r\n                                    currentStatus.studyingWay: \"--\"}\r\n                                </td>\r\n                                <td>学生来源</td>\r\n                                <td colSpan=\"2\" title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"学生来源\"]?\r\n                                currentStatus.extraInfoJson[\"学生来源\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"学生来源\"]?\r\n                                    currentStatus.extraInfoJson[\"学生来源\"]: \"--\"}\r\n                                </td> \r\n                            </tr>\r\n                        </table>\r\n                        <table className=\"person-link\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                            <caption>个人联系方式</caption>\r\n                            <tr>\r\n                                <td>现住址</td>\r\n                                <td colSpan=\"3\" title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"现住址\"]?\r\n                                currentStatus.extraInfoJson[\"现住址\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"现住址\"]?\r\n                                    currentStatus.extraInfoJson[\"现住址\"]: \"--\"}\r\n                                </td>\r\n                                <td>通信地址</td>\r\n                                <td colSpan=\"3\" title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"通讯地址\"]?\r\n                                currentStatus.extraInfoJson[\"通讯地址\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"通讯地址\"]?\r\n                                    currentStatus.extraInfoJson[\"通讯地址\"]: \"--\"}\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>家庭地址</td>\r\n                                <td colSpan=\"3\" title={currentStatus.homeAddress? currentStatus.homeAddress: \"--\"}>\r\n                                    {currentStatus.homeAddress? currentStatus.homeAddress: \"--\"}\r\n                                </td>\r\n                                <td>联系电话</td>\r\n                                <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"联系电话\"]?\r\n                                currentStatus.extraInfoJson[\"联系电话\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"联系电话\"]?\r\n                                    currentStatus.extraInfoJson[\"联系电话\"]: \"--\"}\r\n                                </td>\r\n                                <td>邮政编码</td>\r\n                                <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"邮政编号\"]?\r\n                                currentStatus.extraInfoJson[\"邮政编号\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"邮政编号\"]?\r\n                                    currentStatus.extraInfoJson[\"邮政编号\"]: \"--\"}\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>电子邮箱</td>\r\n                                <td colSpan=\"3\" title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"电子邮箱\"]?\r\n                                currentStatus.extraInfoJson[\"电子邮箱\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"电子邮箱\"]?\r\n                                    currentStatus.extraInfoJson[\"电子邮箱\"]: \"--\"}\r\n                                </td>\r\n                                <td>主页地址</td>\r\n                                <td colSpan=\"3\" title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"主页地址\"]?\r\n                                currentStatus.extraInfoJson[\"主页地址\"]: \"--\"}>\r\n                                    {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"主页地址\"]?\r\n                                    currentStatus.extraInfoJson[\"主页地址\"]: \"--\"}\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                       <table className=\"person-more-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                           <caption>个人扩展信息</caption>\r\n                           <tr>\r\n                               <td width=\"200\">是否独生子女</td>\r\n                               <td width=\"85\">{currentStatus.isOnlychild? currentStatus.isOnlychild: \"--\"}</td>\r\n                               <td width=\"200\">是否受过学前教育</td>\r\n                               <td width=\"85\">{currentStatus.isAcceptpreschool? currentStatus.isAcceptpreschool: \"--\"}</td>\r\n                               <td width=\"200\">是否留守儿童</td>\r\n                               <td width=\"85\">{currentStatus.isLeftbehindchild? currentStatus.isLeftbehindchild: \"--\"}</td>\r\n                               <td width=\"200\">是否进城务工人员随迁子女</td>\r\n                               <td width=\"85\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否进城务工人员随迁子女\"]?\r\n                                currentStatus.extraInfoJson[\"是否进城务工人员随迁子女\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td width=\"200\">是否孤儿</td>\r\n                               <td width=\"85\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否孤儿\"]?\r\n                                currentStatus.extraInfoJson[\"是否孤儿\"]: \"--\"}</td>\r\n                               <td width=\"200\">是否烈士或优抚子女</td>\r\n                               <td width=\"85\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否烈士或优抚子女\"]?\r\n                                currentStatus.extraInfoJson[\"是否烈士或优抚子女\"]: \"--\"}</td>\r\n                               <td width=\"200\">随班就读</td>\r\n                               <td width=\"85\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"随班就读\"]?\r\n                                currentStatus.extraInfoJson[\"随班就读\"]: \"--\"}</td>\r\n                               <td width=\"200\">是否需要申请资助</td>\r\n                               <td width=\"85\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否需要申请资助\"]?\r\n                                currentStatus.extraInfoJson[\"是否需要申请资助\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td width=\"200\">是否享受一补</td>\r\n                               <td width=\"85\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否享受一补\"]?\r\n                                currentStatus.extraInfoJson[\"是否享受一补\"]: \"--\"}</td>\r\n                               <td width=\"200\">残疾人类型</td>\r\n                               <td colSpan=\"5\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"残疾人类型\"]?\r\n                                currentStatus.extraInfoJson[\"残疾人类型\"]: \"--\"}</td>\r\n                           </tr>\r\n                       </table>\r\n                       <table className=\"study-status\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                           <caption>学习经历</caption>\r\n                           <tr>\r\n                               <th width=\"148\">学习起始时间</th>\r\n                               <th width=\"148\">学习结束时间</th>\r\n                               <th width=\"395\">学习单位</th>\r\n                               <th width=\"160\">学习内容</th>\r\n                               <th width=\"140\">担任职务</th>\r\n                               <th width=\"150\">学习证明人</th>\r\n                           </tr>\r\n                           {\r\n                               Array.isArray(currentStatus.resumeJson) &&\r\n                               currentStatus.resumeJson.map((item, index)=>{\r\n                                   return (\r\n                                       <tr key={index}>\r\n                                           <td width=\"148\">{item[\"学习起始时间\"]? item[\"学习起始时间\"]: \"--\"}</td>\r\n                                           <td width=\"148\">{item[\"学习结束时间\"]? item[\"学习结束时间\"]: \"--\"}</td>\r\n                                           <td width=\"395\">{item[\"学习单位\"]? item[\"学习单位\"]: \"--\"}</td>\r\n                                           <td width=\"160\">{item[\"学习内容\"]? item[\"学习内容\"]: \"--\"}</td>\r\n                                           <td width=\"140\">{item[\"担任职务\"]? item[\"担任职务\"]: \"--\"}</td>\r\n                                           <td width=\"150\">{item[\"学习证明人\"]? item[\"学习证明人\"]: \"--\"}</td>\r\n                                       </tr>\r\n                                   )\r\n                               })\r\n                           }\r\n                           \r\n                       </table>\r\n                       <table className=\"transport-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                           <caption>上下学交通方式</caption>\r\n                           <tr>\r\n                               <td width=\"200\">上下学距离(千米)</td>\r\n                               <td width=\"178\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"上下学距离（千米）\"]?\r\n                                currentStatus.extraInfoJson[\"上下学距离（千米）\"]: \"--\"}</td>\r\n                               <td width=\"200\">上下学交通方式</td>\r\n                               <td width=\"178\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"上下学交通方式\"]?\r\n                                currentStatus.extraInfoJson[\"上下学交通方式\"]: \"--\"}</td>\r\n                               <td width=\"200\">是否需要乘坐校车</td>\r\n                               <td width=\"178\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否需要乘坐校车\"]?\r\n                                currentStatus.extraInfoJson[\"是否需要乘坐校车\"]: \"--\"}</td>\r\n                           </tr>\r\n                       </table>\r\n                       {\r\n                           Array.isArray(currentStatus.guardianJson) &&\r\n                           currentStatus.guardianJson.map((item, index)=>{\r\n                               return (\r\n                                   <table className=\"family-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                                       {\r\n                                           index == 0?\r\n                                           <caption>家庭成员或监护人信息</caption>:\r\n                                           \"\"\r\n                                       }\r\n                                       <tr>\r\n                                           <td>姓名</td>\r\n                                           <td>{item[\"姓名\"]? item[\"姓名\"]: \"--\"}</td>\r\n                                           <td>关系</td>\r\n                                           <td>{item[\"关系\"]? item[\"关系\"]: \"--\"}</td>\r\n                                           <td>身份证件类型</td>\r\n                                           <td>{item[\"身份证件类型\"]? item[\"身份证件类型\"]: \"--\"}</td>\r\n                                           <td>身份证件号码</td>\r\n                                           <td>{item[\"身份证件号码\"]? item[\"身份证件号码\"]: \"--\"}</td> \r\n                                       </tr>\r\n                                       <tr>\r\n                                           <td>民族</td>\r\n                                           <td>{item[\"民族\"]? item[\"民族\"]: \"--\"}</td>\r\n                                           <td>是否监护人</td>\r\n                                           <td>{item[\"是否监护人\"]? item[\"是否监护人\"]: \"--\"}</td>\r\n                                           <td>户口所在地</td>\r\n                                           <td>{item[\"户口所在地\"]? item[\"户口所在地\"]: \"--\"}</td>\r\n                                           <td>联系方式</td>\r\n                                           <td>{item[\"联系方式\"]? item[\"联系方式\"]: \"--\"}</td> \r\n                                       </tr>\r\n                                       <tr>\r\n                                           <td>现住址</td>\r\n                                           <td colSpan=\"3\">{item[\"现住址\"]? item[\"现住址\"]: \"--\"}</td>\r\n                                           <td>工作单位</td>\r\n                                           <td>{item[\"工作单位\"]? item[\"工作单位\"]: \"--\"}</td>\r\n                                           <td>职务</td>\r\n                                           <td>{item[\"职务\"]? item[\"职务\"]: \"--\"}</td>\r\n                                       </tr>\r\n                                       {/* <tr>\r\n                                           <td colSpan=\"8\" style={{height: 7}}></td>\r\n                                       </tr> */}\r\n                                   </table>\r\n                               )\r\n                           })\r\n                       }\r\n                       <table className=\"economic-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                           <caption>家庭经济情况</caption>\r\n                           <tr>\r\n                               <td>家庭人口</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭人口\"]?\r\n                                currentStatus.extraInfoJson[\"家庭人口\"]: \"--\"}</td>\r\n                               <td>赡养人口</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"赡养人口\"]?\r\n                                currentStatus.extraInfoJson[\"赡养人口\"]: \"--\"}</td>\r\n                               <td>家庭年收入</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭年收入\"]?\r\n                                currentStatus.extraInfoJson[\"家庭年收入\"]: \"--\"}</td>\r\n                               <td>主要收入来源</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"主要收入来源\"]?\r\n                                currentStatus.extraInfoJson[\"主要收入来源\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td>具备劳动力人数</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"具备劳动力人数\"]?\r\n                                currentStatus.extraInfoJson[\"具备劳动力人数\"]: \"--\"}</td>\r\n                               <td>是否低保</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否低保\"]?\r\n                                currentStatus.extraInfoJson[\"是否低保\"]: \"--\"}</td>\r\n                               <td>就学地低保线</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"就学地低保线\"]?\r\n                                currentStatus.extraInfoJson[\"就学地低保线\"]: \"--\"}</td>\r\n                               <td>困难程度</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"困难程度\"]?\r\n                                currentStatus.extraInfoJson[\"困难程度\"]: \"--\"}</td> \r\n                           </tr>\r\n                           <tr>\r\n                               <td>是否父母丧失劳动能力</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否父母丧失劳动能力\"]?\r\n                                currentStatus.extraInfoJson[\"是否父母丧失劳动能力\"]: \"--\"}</td>\r\n                               <td>是否农村绝对贫困家庭</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否农村绝对贫困家庭\"]?\r\n                                currentStatus.extraInfoJson[\"是否农村绝对贫困家庭\"]: \"--\"}</td>\r\n                               <td colSpan=\"3\">是否经民政部门确认的农村特困救助范围的家庭子女</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否经民政部门确认的农村特困救助范围的家庭子女\"]?\r\n                                currentStatus.extraInfoJson[\"是否经民政部门确认的农村特困救助范围的家庭子女\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td>是否军烈属</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否军烈属\"]?\r\n                                currentStatus.extraInfoJson[\"是否军烈属\"]: \"--\"}</td>\r\n                               <td>家庭是否五保户</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭是否五保户\"]?\r\n                                currentStatus.extraInfoJson[\"家庭是否五保户\"]: \"--\"}</td>\r\n                               <td colSpan=\"3\">家庭是否有大病患者</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家中是否有大病患者\"]?\r\n                                currentStatus.extraInfoJson[\"家中是否有大病患者\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td>家庭是否遭受自然灾害</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭是否遭受自然灾害\"]?\r\n                                currentStatus.extraInfoJson[\"家庭是否遭受自然灾害\"]: \"--\"}</td>\r\n                               <td colSpan=\"2\">自然灾害具体情况描述</td>\r\n                               <td colSpan=\"4\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"自然灾害具体情况描述\"]?\r\n                                currentStatus.extraInfoJson[\"自然灾害具体情况描述\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td>家庭失业人数</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭失业人数\"]?\r\n                                currentStatus.extraInfoJson[\"家庭失业人数\"]: \"--\"}</td>\r\n                               <td>家庭欠债金额</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭欠债金额\"]?\r\n                                currentStatus.extraInfoJson[\"家庭欠债金额\"]: \"--\"}</td>\r\n                               <td>欠债原因</td>\r\n                               <td colSpan=\"3\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"欠债原因\"]?\r\n                                currentStatus.extraInfoJson[\"欠债原因\"]: \"--\"}</td>\r\n                           </tr>\r\n                       </table>\r\n                       \r\n                     </div> \r\n                        :\r\n                        <Empty\r\n                        // className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                </div>:\r\n                currentStep == \"save\"?\r\n                <div className=\"save-file\">\r\n                    <div className=\"preview-top\">\r\n                        <ConfigProvider locale={zhCN}>\r\n                            <Pagination\r\n                            className=\"preview-pagination\"\r\n                            size=\"small\"\r\n                            total={statusList.length}\r\n                            current={currentIndex2}\r\n                            pageSize={1}\r\n                            showQuickJumper={true}\r\n                            showSizeChanger={false}\r\n                            hideOnSinglePage\r\n                            onChange={(pageIndex)=>{\r\n                                setCurrentStatus(statusList[pageIndex - 1]);\r\n                                setCurrentIndex2(pageIndex)\r\n                            }}\r\n                        />\r\n                        </ConfigProvider>\r\n                        <div className=\"btn-group\">\r\n                            {/* <div className=\"edit-btn\">编辑</div> */}\r\n                            <div className=\"confirm-btn\" onClick={()=>{\r\n                                setImportSign(1);\r\n                                setPreviewSign(1);\r\n                                setSaveSign(1);\r\n                            }}>确认</div>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        currentStatus?\r\n                       <div className=\"stu-status\">\r\n                       <table className=\"base-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                           <caption>基本信息及辅助信息</caption>\r\n                           <tr>\r\n                               <td>姓名</td>\r\n                               <td>{currentStatus.studentName? currentStatus.studentName: \"--\"}</td>\r\n                               <td>性别</td>\r\n                               <td>{currentStatus.gender? currentStatus.gender: \"--\"}</td>\r\n                               <td>出生日期</td>\r\n                               <td>{currentStatus.dateOfBirth? currentStatus.dateOfBirth: \"--\"}</td>\r\n                               <td>出生地</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"出生地\"]?\r\n                                currentStatus.extraInfoJson[\"出生地\"]: \"--\"}</td> \r\n                           <td rowSpan=\"6\" style={{\r\n                               backgroundImage: `url(${currentStatus.photoPath})`,\r\n                               backgroundSize: '100% 100%'\r\n                               }}></td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td>籍贯</td>\r\n                               <td>{currentStatus.nativePlace? currentStatus.nativePlace: \"--\"}</td>\r\n                               <td>民族</td>\r\n                               <td>{currentStatus.nation? currentStatus.nation: \"--\"}</td>\r\n                               <td>国籍/地区</td>\r\n                               <td>{currentStatus.nationality? currentStatus.nationality: \"--\"}</td>\r\n                               <td>身份证件类型</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"身份证件类型\"]?\r\n                                currentStatus.extraInfoJson[\"身份证件类型\"]: \"--\"}</td> \r\n                           </tr>\r\n                           <tr>\r\n                               <td>身份证件号码</td>\r\n                               <td colSpan=\"3\">{currentStatus.identityNum? currentStatus.identityNum: \"--\"}</td>\r\n                               <td>港澳台侨胞</td>\r\n                               <td>{currentStatus.overseaPeople? currentStatus.overseaPeople: \"--\"}</td>\r\n                               <td>政治面貌</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"政治面貌\"]?\r\n                                currentStatus.extraInfoJson[\"政治面貌\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td>健康状况</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"健康状况\"]?\r\n                                currentStatus.extraInfoJson[\"健康状况\"]: \"--\"}</td>\r\n                               <td>姓名拼音</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"姓名拼音\"]?\r\n                                currentStatus.extraInfoJson[\"姓名拼音\"]: \"--\"}</td>\r\n                               <td>曾用名</td>\r\n                               <td>{currentStatus.formerName? currentStatus.formerName: \"--\"}</td>\r\n                               <td>身份证件有效期</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"身份证件有效期\"]?\r\n                                currentStatus.extraInfoJson[\"身份证件有效期\"]: \"--\"}</td> \r\n                           </tr>\r\n                           <tr>\r\n                               <td>户口所在地</td>\r\n                               <td>{currentStatus.censusPlace? currentStatus.censusPlace: \"--\"}</td>\r\n                               <td>特长</td>\r\n                               <td colSpan=\"5\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"特长\"]?\r\n                                currentStatus.extraInfoJson[\"特长\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td>学籍辅号</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"学籍辅号\"]?\r\n                                currentStatus.extraInfoJson[\"学籍辅号\"]: \"--\"}</td>\r\n                               <td>班内学号</td>\r\n                               <td>{currentStatus.studentId? currentStatus.studentId: \"--\"}</td>\r\n                               <td>年级</td>\r\n                               <td>{currentStatus.gradeName? currentStatus.gradeName: \"--\"}</td>\r\n                               <td>班级</td>\r\n                               <td>{currentStatus.className? currentStatus.className: \"--\"}</td> \r\n                           </tr>\r\n                           <tr>\r\n                               <td>入学年月</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"入学年月\"]?\r\n                                currentStatus.extraInfoJson[\"入学年月\"]: \"--\"}</td>\r\n                               <td>入学方式</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"入学方式\"]?\r\n                                currentStatus.extraInfoJson[\"入学方式\"]: \"--\"}</td>\r\n                               <td>就读方式</td>\r\n                               <td>{currentStatus.studyingWay?\r\n                                currentStatus.studyingWay: \"--\"}</td>\r\n                               <td>学生来源</td>\r\n                               <td colSpan=\"2\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"学生来源\"]?\r\n                                currentStatus.extraInfoJson[\"学生来源\"]: \"--\"}</td> \r\n                           </tr>\r\n                       </table>\r\n                       <table className=\"person-link\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                           <caption>个人联系方式</caption>\r\n                           <tr>\r\n                               <td>现住址</td>\r\n                               <td colSpan=\"3\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"现住址\"]?\r\n                                currentStatus.extraInfoJson[\"现住址\"]: \"--\"}</td>\r\n                               <td>通信地址</td>\r\n                               <td colSpan=\"3\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"通讯地址\"]?\r\n                                currentStatus.extraInfoJson[\"通讯地址\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td>家庭地址</td>\r\n                               <td colSpan=\"3\">{currentStatus.homeAddress?\r\n                                currentStatus.homeAddress: \"--\"}</td>\r\n                               <td>联系电话</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"联系电话\"]?\r\n                                currentStatus.extraInfoJson[\"联系电话\"]: \"--\"}</td>\r\n                               <td>邮政编码</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"邮政编号\"]?\r\n                                currentStatus.extraInfoJson[\"邮政编号\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td>电子邮箱</td>\r\n                               <td colSpan=\"3\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"电子邮箱\"]?\r\n                                currentStatus.extraInfoJson[\"电子邮箱\"]: \"--\"}</td>\r\n                               <td>主页地址</td>\r\n                               <td colSpan=\"3\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"主页地址\"]?\r\n                                currentStatus.extraInfoJson[\"主页地址\"]: \"--\"}</td>\r\n                           </tr>\r\n                       </table>\r\n                       <table className=\"person-more-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                           <caption>个人扩展信息</caption>\r\n                           <tr>\r\n                               <td width=\"200\">是否独生子女</td>\r\n                               <td width=\"85\">{currentStatus.isOnlychild? currentStatus.isOnlychild: \"--\"}</td>\r\n                               <td width=\"200\">是否受过学前教育</td>\r\n                               <td width=\"85\">{currentStatus.isAcceptpreschool? currentStatus.isAcceptpreschool: \"--\"}</td>\r\n                               <td width=\"200\">是否留守儿童</td>\r\n                               <td width=\"85\">{currentStatus.isLeftbehindchild? currentStatus.isLeftbehindchild: \"--\"}</td>\r\n                               <td width=\"200\">是否进城务工人员随迁子女</td>\r\n                               <td width=\"85\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否进城务工人员随迁子女\"]?\r\n                                currentStatus.extraInfoJson[\"是否进城务工人员随迁子女\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td width=\"200\">是否孤儿</td>\r\n                               <td width=\"85\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否孤儿\"]?\r\n                                currentStatus.extraInfoJson[\"是否孤儿\"]: \"--\"}</td>\r\n                               <td width=\"200\">是否烈士或优抚子女</td>\r\n                               <td width=\"85\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否烈士或优抚子女\"]?\r\n                                currentStatus.extraInfoJson[\"是否烈士或优抚子女\"]: \"--\"}</td>\r\n                               <td width=\"200\">随班就读</td>\r\n                               <td width=\"85\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"随班就读\"]?\r\n                                currentStatus.extraInfoJson[\"随班就读\"]: \"--\"}</td>\r\n                               <td width=\"200\">是否需要申请资助</td>\r\n                               <td width=\"85\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否需要申请资助\"]?\r\n                                currentStatus.extraInfoJson[\"是否需要申请资助\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td width=\"200\">是否享受一补</td>\r\n                               <td width=\"85\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否享受一补\"]?\r\n                                currentStatus.extraInfoJson[\"是否享受一补\"]: \"--\"}</td>\r\n                               <td width=\"200\">残疾人类型</td>\r\n                               <td colSpan=\"5\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"残疾人类型\"]?\r\n                                currentStatus.extraInfoJson[\"残疾人类型\"]: \"--\"}</td>\r\n                           </tr>\r\n                       </table>\r\n                       <table className=\"study-status\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                           <caption>学习经历</caption>\r\n                           <tr>\r\n                               <th width=\"148\">学习起始时间</th>\r\n                               <th width=\"148\">学习结束时间</th>\r\n                               <th width=\"395\">学习单位</th>\r\n                               <th width=\"160\">学习内容</th>\r\n                               <th width=\"140\">担任职务</th>\r\n                               <th width=\"150\">学习证明人</th>\r\n                           </tr>\r\n                           {\r\n                               Array.isArray(currentStatus.resumeJson) &&\r\n                               currentStatus.resumeJson.map((item, index)=>{\r\n                                   return (\r\n                                    <tr key={index}>\r\n                                        <td width=\"148\">{item[\"学习起始时间\"]? item[\"学习起始时间\"]: \"--\"}</td>\r\n                                        <td width=\"148\">{item[\"学习结束时间\"]? item[\"学习结束时间\"]: \"--\"}</td>\r\n                                        <td width=\"395\">{item[\"学习单位\"]? item[\"学习单位\"]: \"--\"}</td>\r\n                                        <td width=\"160\">{item[\"学习内容\"]? item[\"学习内容\"]: \"--\"}</td>\r\n                                        <td width=\"140\">{item[\"担任职务\"]? item[\"担任职务\"]: \"--\"}</td>\r\n                                        <td width=\"150\">{item[\"学习证明人\"]? item[\"学习证明人\"]: \"--\"}</td>\r\n                                    </tr>\r\n                                   )\r\n                               })\r\n                           }\r\n                           \r\n                       </table>\r\n                       <table className=\"transport-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                           <caption>上下学交通方式</caption>\r\n                           <tr>\r\n                               <td width=\"200\">上下学距离(千米)</td>\r\n                               <td width=\"178\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"上下学距离（千米）\"]?\r\n                                currentStatus.extraInfoJson[\"上下学距离（千米）\"]: \"--\"}</td>\r\n                               <td width=\"200\">上下学交通方式</td>\r\n                               <td width=\"178\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"上下学交通方式\"]?\r\n                                currentStatus.extraInfoJson[\"上下学交通方式\"]: \"--\"}</td>\r\n                               <td width=\"200\">是否需要乘坐校车</td>\r\n                               <td width=\"178\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否需要乘坐校车\"]?\r\n                                currentStatus.extraInfoJson[\"是否需要乘坐校车\"]: \"--\"}</td>\r\n                           </tr>\r\n                       </table>\r\n                       {\r\n                           Array.isArray(currentStatus.guardianJson) &&\r\n                           currentStatus.guardianJson.map((item, index)=>{\r\n                               return (\r\n                                   <table className=\"family-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                                       {\r\n                                           index == 0?\r\n                                           <caption>家庭成员或监护人信息</caption>:\r\n                                           \"\"\r\n                                       }\r\n                                       <tr>\r\n                                           <td>姓名</td>\r\n                                           <td>{item[\"姓名\"]? item[\"姓名\"]: \"--\"}</td>\r\n                                           <td>关系</td>\r\n                                           <td>{item[\"关系\"]? item[\"关系\"]: \"--\"}</td>\r\n                                           <td>身份证件类型</td>\r\n                                           <td>{item[\"身份证件类型\"]? item[\"身份证件类型\"]: \"--\"}</td>\r\n                                           <td>身份证件号码</td>\r\n                                           <td>{item[\"身份证件号码\"]? item[\"身份证件号码\"]: \"--\"}</td> \r\n                                       </tr>\r\n                                       <tr>\r\n                                           <td>民族</td>\r\n                                           <td>{item[\"民族\"]? item[\"民族\"]: \"--\"}</td>\r\n                                           <td>是否监护人</td>\r\n                                           <td>{item[\"是否监护人\"]? item[\"是否监护人\"]: \"--\"}</td>\r\n                                           <td>户口所在地</td>\r\n                                           <td>{item[\"户口所在地\"]? item[\"户口所在地\"]: \"--\"}</td>\r\n                                           <td>联系方式</td>\r\n                                           <td>{item[\"联系方式\"]? item[\"联系方式\"]: \"--\"}</td> \r\n                                       </tr>\r\n                                       <tr>\r\n                                           <td>现住址</td>\r\n                                           <td colSpan=\"3\">{item[\"现住址\"]? item[\"现住址\"]: \"--\"}</td>\r\n                                           <td>工作单位</td>\r\n                                           <td>{item[\"工作单位\"]? item[\"工作单位\"]: \"--\"}</td>\r\n                                           <td>职务</td>\r\n                                           <td>{item[\"职务\"]? item[\"职务\"]: \"--\"}</td>\r\n                                       </tr>\r\n                                       {/* <tr>\r\n                                           <td colSpan=\"8\" style={{height: 7}}></td>\r\n                                       </tr> */}\r\n                                   </table>\r\n                               )\r\n                           })\r\n                       }\r\n                       <table className=\"economic-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                           <caption>家庭经济情况</caption>\r\n                           <tr>\r\n                               <td>家庭人口</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭人口\"]?\r\n                                currentStatus.extraInfoJson[\"家庭人口\"]: \"--\"}</td>\r\n                               <td>赡养人口</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"赡养人口\"]?\r\n                                currentStatus.extraInfoJson[\"赡养人口\"]: \"--\"}</td>\r\n                               <td>家庭年收入</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭年收入\"]?\r\n                                currentStatus.extraInfoJson[\"家庭年收入\"]: \"--\"}</td>\r\n                               <td>主要收入来源</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"主要收入来源\"]?\r\n                                currentStatus.extraInfoJson[\"主要收入来源\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td>具备劳动力人数</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"具备劳动力人数\"]?\r\n                                currentStatus.extraInfoJson[\"具备劳动力人数\"]: \"--\"}</td>\r\n                               <td>是否低保</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否低保\"]?\r\n                                currentStatus.extraInfoJson[\"是否低保\"]: \"--\"}</td>\r\n                               <td>就学地低保线</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"就学地低保线\"]?\r\n                                currentStatus.extraInfoJson[\"就学地低保线\"]: \"--\"}</td>\r\n                               <td>困难程度</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"困难程度\"]?\r\n                                currentStatus.extraInfoJson[\"困难程度\"]: \"--\"}</td> \r\n                           </tr>\r\n                           <tr>\r\n                               <td>是否父母丧失劳动能力</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否父母丧失劳动能力\"]?\r\n                                currentStatus.extraInfoJson[\"是否父母丧失劳动能力\"]: \"--\"}</td>\r\n                               <td>是否农村绝对贫困家庭</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否农村绝对贫困家庭\"]?\r\n                                currentStatus.extraInfoJson[\"是否农村绝对贫困家庭\"]: \"--\"}</td>\r\n                               <td colSpan=\"3\">是否经民政部门确认的农村特困救助范围的家庭子女</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否经民政部门确认的农村特困救助范围的家庭子女\"]?\r\n                                currentStatus.extraInfoJson[\"是否经民政部门确认的农村特困救助范围的家庭子女\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td>是否军烈属</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否军烈属\"]?\r\n                                currentStatus.extraInfoJson[\"是否军烈属\"]: \"--\"}</td>\r\n                               <td>家庭是否五保户</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭是否五保户\"]?\r\n                                currentStatus.extraInfoJson[\"家庭是否五保户\"]: \"--\"}</td>\r\n                               <td colSpan=\"3\">家庭是否有大病患者</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家中是否有大病患者\"]?\r\n                                currentStatus.extraInfoJson[\"家中是否有大病患者\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td>家庭是否遭受自然灾害</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭是否遭受自然灾害\"]?\r\n                                currentStatus.extraInfoJson[\"家庭是否遭受自然灾害\"]: \"--\"}</td>\r\n                               <td colSpan=\"2\">自然灾害具体情况描述</td>\r\n                               <td colSpan=\"4\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"自然灾害具体情况描述\"]?\r\n                                currentStatus.extraInfoJson[\"自然灾害具体情况描述\"]: \"--\"}</td>\r\n                           </tr>\r\n                           <tr>\r\n                               <td>家庭失业人数</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭失业人数\"]?\r\n                                currentStatus.extraInfoJson[\"家庭失业人数\"]: \"--\"}</td>\r\n                               <td>家庭欠债金额</td>\r\n                               <td>{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭欠债金额\"]?\r\n                                currentStatus.extraInfoJson[\"家庭欠债金额\"]: \"--\"}</td>\r\n                               <td>欠债原因</td>\r\n                               <td colSpan=\"3\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"欠债原因\"]?\r\n                                currentStatus.extraInfoJson[\"欠债原因\"]: \"--\"}</td>\r\n                           </tr>\r\n                       </table>\r\n                       \r\n                     </div> \r\n                        :\r\n                        <Empty\r\n                        // className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                </div>:\r\n                \"\"\r\n            }\r\n            <p className=\"ProVersion\" style={{marginBottom: 0}}>{ProVersion}</p>\r\n        </div>  \r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n      commonData: { roleMsg, basePlatFormMsg, contentHW, termInfo, levelHash, userInfo },\r\n    } = state;\r\n    return { roleMsg, basePlatFormMsg, contentHW, termInfo, levelHash, userInfo };\r\n  };\r\nexport default connect(mapStateToProps)(memo(forwardRef(ImportPage)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n    useStore,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport $ from \"jquery\";\r\nimport \"./index.scss\";\r\nimport { Empty } from \"../../component/common\";\r\nimport { Upload, Pagination, ConfigProvider, message, Tooltip } from \"antd\";\r\nimport zhCN from \"antd/es/locale/zh_CN\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nimport { use } from \"_echarts@5.0.2@echarts/lib/extension\";\r\nlet { BasicProxy } = ipConfig;\r\n\r\nfunction ErrorCheck(props, ref) {\r\n    let {\r\n        setShowType,\r\n        basePlatFormMsg: { ProVersion },\r\n        ModuleID,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID},\r\n        ModuleType,\r\n        checkList,\r\n        setReflashError,\r\n        reflashError\r\n    } = props;\r\n    //当前展示的学籍数据\r\n    const [currentStatus, setCurrentStatus] = useState({});\r\n    //纠错数据\r\n    const [errorStatus, setErrorStatus] = useState({});\r\n    //记录学习经历被修改的数据\r\n    const [resumeModifyList, setResumeModifyList] = useState([]);\r\n    //记录家庭监护人被修改的数据\r\n    const [familyModifyList, setFamilyModifyList] = useState([]);\r\n    //分页器当前页数\r\n    const [currentIndex, setCurrentIndex] = useState(1);\r\n    //checkList即纠错信息列表\r\n    useLayoutEffect(()=>{\r\n        if(Array.isArray(checkList) && checkList[currentIndex - 1]){\r\n            setCurrentStatus(checkList[currentIndex - 1]);\r\n            if(checkList[currentIndex - 1].errorCorrection){\r\n                setErrorStatus(JSON.parse(checkList[currentIndex - 1].errorCorrection));\r\n            }\r\n            \r\n        }\r\n    }, [checkList, currentIndex]);\r\n    //操作纠错信息\r\n    const operateStatus = (type) => {\r\n        //type: 0不通过，1通过\r\n        if(type == 1){\r\n            let arr = [];\r\n            arr.push(currentStatus);\r\n            let url = BasicProxy + \"/api/status/student\";\r\n            fetch\r\n            .put({\r\n                url, \r\n                securityLevel: 2, \r\n                body: arr, \r\n                header: {\r\n                \"Content-Type\": \"application/json\"\r\n                }\r\n            })\r\n            .then((res)=>res.json())\r\n            .then((result)=>{\r\n                if(result.status == 200){\r\n                    let url = BasicProxy + \"/api/status/student/correction?studentIds=\" + \r\n                    (checkList[currentIndex - 1]? checkList[currentIndex - 1].studentId: \"\");\r\n                    fetch\r\n                    .delete({url, securityLevel: 2})\r\n                    .then((res)=>res.json())\r\n                    .then((result)=>{\r\n                        message.success(\"操作成功~\");\r\n                        setShowType(\"detail\");\r\n                        setReflashError(!reflashError);\r\n                    })\r\n                }\r\n            })\r\n        }\r\n        if(type == 0){\r\n            let url = BasicProxy + \"/api/status/student/correction\";\r\n            fetch\r\n            .delete({url, securityLevel: 2, body: {\r\n                studentIds: (checkList[currentIndex - 1]? checkList[currentIndex - 1].studentId: \"\")\r\n            }})\r\n            .then((res)=>res.json())\r\n            .then((result)=>{\r\n                if(result.status == 200){\r\n                    let url = BasicProxy + \"/api/status/student/correction?studentIds=\" + \r\n                    (checkList[currentIndex - 1]? checkList[currentIndex - 1].studentId: \"\");\r\n                    fetch\r\n                    .delete({url, securityLevel: 2})\r\n                    .then((res)=>res.json())\r\n                    .then((result)=>{\r\n                        message.success(\"操作成功~\");\r\n                        setShowType(\"detail\");\r\n                        setReflashError(!reflashError);\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n    useEffect(()=>{\r\n        //标红纠错信息\r\n        if(JSON.stringify(currentStatus) == \"{}\"){\r\n            return;\r\n        }\r\n        let tdList = $(\".error-page td\");\r\n        let finalObj = Object.assign({}, {...currentStatus});\r\n        console.log(finalObj);\r\n        for(let value in errorStatus){\r\n            if(value != \"resumeList\" && value != \"guardianList\" && value != \"extraInfo\"){\r\n                tdList.each((index, item)=>{\r\n                    if($(item).attr(\"data-value\") == value){\r\n                        $(item).css({\r\n                            color: 'red',\r\n                            textDecoration: 'underline'\r\n                        })\r\n                        let text = $(item).text();\r\n                        $(item).attr('title', '原：' + text + \"\\n\" + \"改：\" + errorStatus[value]);\r\n                        $(item).text(errorStatus[value]);\r\n                        // let obj = currentStatus;\r\n                        finalObj[value] = errorStatus[value];\r\n                        // setCurrentStatus(obj);\r\n                    }\r\n                })\r\n            }\r\n            if(value == \"extraInfo\"){\r\n                let extraInfo = errorStatus[value];\r\n                let obj = Object.assign({}, {...currentStatus});\r\n                obj.extraInfo = obj.extraInfo? obj.extraInfo: {};\r\n                for(let key in extraInfo){\r\n                    tdList.each((index, item)=>{\r\n                        if($(item).attr(\"data-value\") == key){\r\n                            $(item).css({\r\n                                color: 'red',\r\n                                textDecoration: 'underline'\r\n                            })\r\n                            let text = $(item).text();\r\n                            $(item).attr('title', '原：' + text + \"\\n\" + \"改：\" + extraInfo[key]);\r\n                            $(item).text(extraInfo[key]);\r\n                            obj.extraInfo[key] = extraInfo[key];  \r\n                        }\r\n                    })\r\n                }\r\n                finalObj.extraInfo = JSON.stringify(obj.extraInfo);\r\n\r\n                // setCurrentStatus(obj);\r\n            }\r\n            if(value == \"resumeList\"){\r\n                let resumeList = JSON.parse(errorStatus[value]);\r\n                //标红并记录未改前数据\r\n                let arr = [];\r\n                resumeList.forEach((item, index)=>{\r\n                    let obj = {};\r\n                    if(currentStatus.resumeJson && currentStatus.resumeJson[index]){\r\n                        for(let key in item){\r\n                            if(item[key] != currentStatus.resumeJson[index][key]){\r\n                                obj[key] = currentStatus.resumeJson[index][key];\r\n                            }\r\n                        }\r\n                    } else {\r\n                        obj = {...item};\r\n                        for(let key in obj){\r\n                            obj[key] = \"无\";\r\n                        }\r\n                    }\r\n                    arr.push(obj);\r\n                })\r\n                setResumeModifyList(arr);\r\n                //修改数据\r\n                // let obj = Object.assign({}, {...currentStatus});\r\n                finalObj.resume = errorStatus[value];\r\n                finalObj.resumeJson = resumeList;\r\n                // console.log(resumeList, \"学习\", obj);\r\n                // setCurrentStatus(obj);\r\n            }\r\n            if(value == \"guardianList\"){\r\n                \r\n                let guardianList = JSON.parse(errorStatus[value]);\r\n                 //标红并记录未改前数据\r\n                 let arr = [];\r\n                 guardianList.forEach((item, index)=>{\r\n                     let obj = {};\r\n                     if(currentStatus.guardianJson && currentStatus.guardianJson[index]){\r\n                         for(let key in item){\r\n                             if(item[key] != currentStatus.guardianJson[index][key]){\r\n                                 obj[key] = currentStatus.guardianJson[index][key];\r\n                             }\r\n                         }\r\n                     } else {\r\n                         obj = {...item};\r\n                         for(let key in obj){\r\n                             obj[key] = \"无\";\r\n                         }\r\n                     }\r\n                     arr.push(obj);\r\n                 })\r\n                 setFamilyModifyList(arr);\r\n                 //修改数据\r\n                // let obj = Object.assign({}, {...currentStatus});\r\n                finalObj.guardian = errorStatus[value];\r\n                finalObj.guardianJson = guardianList;\r\n                // setCurrentStatus(obj);\r\n            }\r\n        }\r\n        setCurrentStatus(finalObj);\r\n    }, [errorStatus, currentIndex, checkList])\r\n    return (\r\n        <div className=\"error-page\">\r\n            <div className=\"import-top\">\r\n                学籍纠错审核\r\n                <div className=\"btn-group\">\r\n                    <div className=\"reject-btn\" onClick={()=>operateStatus(0)}>不通过</div>\r\n                    <div className=\"agree-btn\" onClick={()=>operateStatus(1)}>通过</div>\r\n                </div>\r\n                {/* <div className=\"goback\" onClick={()=>setShowType(\"detail\")}>返回详情界面</div> */}\r\n            </div>\r\n            <div className=\"preview-file\">\r\n                <div className=\"preview-top\">\r\n                    <ConfigProvider locale={zhCN}>\r\n                        <Pagination\r\n                        className=\"preview-pagination\"\r\n                        size=\"small\"\r\n                        total={checkList.length}\r\n                        current={currentIndex}\r\n                        pageSize={1}\r\n                        showQuickJumper={true}\r\n                        showSizeChanger={false}\r\n                        hideOnSinglePage\r\n                        onChange={(pageIndex)=>{\r\n                            setCurrentStatus(checkList[pageIndex - 1]);\r\n                            setCurrentIndex(pageIndex)\r\n                        }}\r\n                        />\r\n                    </ConfigProvider>\r\n                </div>\r\n                <div className=\"stu-status\" style={{padding: 0}}>\r\n                    <table className=\"base-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                        <caption>基本信息及辅助信息</caption>\r\n                        <tr>\r\n                            <td>姓名</td>\r\n                            {/* <Tooltip\r\n                                trigger=\"hover\"\r\n                                overlayClassName=\"error-container\"\r\n                                placement=\"bottomRight\"\r\n                                title={\r\n\r\n                                    <div className=\"error-tips\">\r\n                                        <p>原：<span>{currentStatus.studentName? currentStatus.studentName: \"--\"}</span></p>\r\n                                        <p>改：<span>{currentStatus.studentName? currentStatus.studentName: \"--\"}</span></p>\r\n                                    </div>\r\n                                }> */}\r\n                                <td title={currentStatus.studentName? currentStatus.studentName: \"--\"} data-value=\"studentName\">\r\n                                    {currentStatus.studentName? currentStatus.studentName: \"--\"}\r\n                                </td> \r\n                                {/* </Tooltip> */}\r\n                            <td>性别</td>\r\n                            <td title={currentStatus.gender? currentStatus.gender: \"--\"} data-value=\"gender\">\r\n                                {currentStatus.gender? currentStatus.gender: \"--\"}\r\n                            </td>\r\n                            <td>出生日期</td>\r\n                            <td title={currentStatus.dateOfBirth? currentStatus.dateOfBirth: \"--\"} data-value=\"dateOfBirth\">\r\n                                {currentStatus.dateOfBirth? currentStatus.dateOfBirth: \"--\"}\r\n                            </td>\r\n                            <td>出生地</td>\r\n                            <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"出生地\"]?\r\n                            currentStatus.extraInfoJson[\"出生地\"]: \"--\"} data-value=\"出生地\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"出生地\"]?\r\n                                currentStatus.extraInfoJson[\"出生地\"]: \"--\"}\r\n                            </td> \r\n                        <td rowSpan=\"6\" style={{\r\n                            backgroundImage: `url(${currentStatus.photoPath})`,\r\n                            backgroundSize: '100% 100%'\r\n                            }}></td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>籍贯</td>\r\n                            <td title={currentStatus.nativePlace? currentStatus.nativePlace: \"--\"} data-value=\"nativePlace\">\r\n                                {currentStatus.nativePlace? currentStatus.nativePlace: \"--\"}\r\n                            </td>\r\n                            <td>民族</td>\r\n                            <td title={currentStatus.nation? currentStatus.nation: \"--\"} data-value=\"nation\">\r\n                                {currentStatus.nation? currentStatus.nation: \"--\"}\r\n                            </td>\r\n                            <td>国籍/地区</td>\r\n                            <td title={currentStatus.nationality? currentStatus.nationality: \"--\"} data-value=\"nationality\">\r\n                                {currentStatus.nationality? currentStatus.nationality: \"--\"}\r\n                            </td>\r\n                            <td>身份证件类型</td>\r\n                            <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"身份证件类型\"]?\r\n                            currentStatus.extraInfoJson[\"身份证件类型\"]: \"--\"} data-value=\"身份证件类型\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"身份证件类型\"]?\r\n                                currentStatus.extraInfoJson[\"身份证件类型\"]: \"--\"}\r\n                            </td> \r\n                        </tr>\r\n                        <tr>\r\n                            <td>身份证件号码</td>\r\n                            <td colSpan=\"3\" title={currentStatus.identityNum? currentStatus.identityNum: \"--\"} data-value=\"identityNum\">\r\n                                {currentStatus.identityNum? currentStatus.identityNum: \"--\"}\r\n                            </td>\r\n                            <td>港澳台侨胞</td>\r\n                            <td title={currentStatus.overseaPeople? currentStatus.overseaPeople: \"--\"} data-value=\"overseaPeople\">\r\n                                {currentStatus.overseaPeople? currentStatus.overseaPeople: \"--\"}\r\n                            </td>\r\n                            <td>政治面貌</td>\r\n                            <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"政治面貌\"]?\r\n                            currentStatus.extraInfoJson[\"政治面貌\"]: \"--\"} data-value=\"政治面貌\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"政治面貌\"]?\r\n                                currentStatus.extraInfoJson[\"政治面貌\"]: \"--\"}\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>健康状况</td>\r\n                            <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"健康状况\"]?\r\n                            currentStatus.extraInfoJson[\"健康状况\"]: \"--\"} data-value=\"健康状况\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"健康状况\"]?\r\n                                currentStatus.extraInfoJson[\"健康状况\"]: \"--\"}\r\n                            </td>\r\n                            <td>姓名拼音</td>\r\n                            <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"姓名拼音\"]?\r\n                            currentStatus.extraInfoJson[\"姓名拼音\"]: \"--\"} data-value=\"姓名拼音\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"姓名拼音\"]?\r\n                                currentStatus.extraInfoJson[\"姓名拼音\"]: \"--\"}\r\n                            </td>\r\n                            <td>曾用名</td>\r\n                            <td title={currentStatus.formerName? currentStatus.formerName: \"--\"} data-value=\"formerName\">\r\n                                {currentStatus.formerName? currentStatus.formerName: \"--\"}\r\n                            </td>\r\n                            <td>身份证件有效期</td>\r\n                            <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"身份证件有效期\"]?\r\n                            currentStatus.extraInfoJson[\"身份证件有效期\"]: \"--\"} data-value=\"身份证件有效期\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"身份证件有效期\"]?\r\n                                currentStatus.extraInfoJson[\"身份证件有效期\"]: \"--\"}\r\n                            </td> \r\n                        </tr>\r\n                        <tr>\r\n                            <td>户口所在地</td>\r\n                            <td title={currentStatus.censusPlace? currentStatus.censusPlace: \"--\"} data-value=\"censusPlace\">\r\n                                {currentStatus.censusPlace? currentStatus.censusPlace: \"--\"}\r\n                            </td>\r\n                            <td>特长</td>\r\n                            <td colSpan=\"5\" title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"特长\"]?\r\n                            currentStatus.extraInfoJson[\"特长\"]: \"--\"} data-value=\"特长\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"特长\"]?\r\n                                currentStatus.extraInfoJson[\"特长\"]: \"--\"}\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>学籍辅号</td>\r\n                            <td title={currentStatus.studentId? currentStatus.studentId: \"--\"} data-value=\"studentId\">\r\n                                {currentStatus.studentId? currentStatus.studentId: \"--\"}\r\n                            </td>\r\n                            <td>班内学号</td>\r\n                            <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"班内学号\"]?\r\n                            currentStatus.extraInfoJson[\"班内学号\"]: \"--\"} data-value=\"班内学号\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"班内学号\"]?\r\n                                currentStatus.extraInfoJson[\"班内学号\"]: \"--\"}\r\n                            </td>\r\n                            <td>年级</td>\r\n                            <td title={currentStatus.gradeName? currentStatus.gradeName: \"--\"} data-value=\"gradeName\">\r\n                                {currentStatus.gradeName? currentStatus.gradeName: \"--\"}\r\n                            </td>\r\n                            <td>班级</td>\r\n                            <td title={currentStatus.className? currentStatus.className: \"--\"} data-value=\"className\">\r\n                                {currentStatus.className? currentStatus.className: \"--\"}\r\n                            </td> \r\n                        </tr>\r\n                        <tr>\r\n                            <td>入学年月</td>\r\n                            <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"入学年月\"]?\r\n                            currentStatus.extraInfoJson[\"入学年月\"]: \"--\"} data-value=\"入学年月\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"入学年月\"]?\r\n                                currentStatus.extraInfoJson[\"入学年月\"]: \"--\"}\r\n                            </td>\r\n                            <td>入学方式</td>\r\n                            <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"入学方式\"]?\r\n                            currentStatus.extraInfoJson[\"入学方式\"]: \"--\"} data-value=\"入学方式\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"入学方式\"]?\r\n                                currentStatus.extraInfoJson[\"入学方式\"]: \"--\"}\r\n                            </td>\r\n                            <td>就读方式</td>\r\n                            <td title={currentStatus.studyingWay?\r\n                            currentStatus.studyingWay: \"--\"} data-value=\"studyingWay\">\r\n                                {currentStatus.studyingWay?\r\n                                currentStatus.studyingWay: \"--\"}\r\n                            </td>\r\n                            <td>学生来源</td>\r\n                            <td colSpan=\"2\" title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"学生来源\"]?\r\n                            currentStatus.extraInfoJson[\"学生来源\"]: \"--\"} data-value=\"学生来源\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"学生来源\"]?\r\n                                currentStatus.extraInfoJson[\"学生来源\"]: \"--\"}\r\n                            </td> \r\n                        </tr>\r\n                    </table>\r\n                    <table className=\"person-link\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                        <caption>个人联系方式</caption>\r\n                        <tr>\r\n                            <td>现住址</td>\r\n                            <td colSpan=\"3\" title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"现住址\"]?\r\n                            currentStatus.extraInfoJson[\"现住址\"]: \"--\"} data-value=\"现住址\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"现住址\"]?\r\n                                currentStatus.extraInfoJson[\"现住址\"]: \"--\"}\r\n                            </td>\r\n                            <td>通信地址</td>\r\n                            <td colSpan=\"3\" title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"通讯地址\"]?\r\n                            currentStatus.extraInfoJson[\"通讯地址\"]: \"--\"} data-value=\"通讯地址\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"通讯地址\"]?\r\n                                currentStatus.extraInfoJson[\"通讯地址\"]: \"--\"}\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>家庭地址</td>\r\n                            <td colSpan=\"3\" title={currentStatus.homeAddress? currentStatus.homeAddress: \"--\"} data-value=\"censusPlace\">\r\n                                {currentStatus.homeAddress? currentStatus.homeAddress: \"--\"}\r\n                            </td>\r\n                            <td>联系电话</td>\r\n                            <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"联系电话\"]?\r\n                            currentStatus.extraInfoJson[\"联系电话\"]: \"--\"} data-value=\"联系电话\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"联系电话\"]?\r\n                                currentStatus.extraInfoJson[\"联系电话\"]: \"--\"}\r\n                            </td>\r\n                            <td>邮政编码</td>\r\n                            <td title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"邮政编号\"]?\r\n                            currentStatus.extraInfoJson[\"邮政编号\"]: \"--\"} data-value=\"邮政编号\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"邮政编号\"]?\r\n                                currentStatus.extraInfoJson[\"邮政编号\"]: \"--\"}\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>电子邮箱</td>\r\n                            <td colSpan=\"3\" title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"电子邮箱\"]?\r\n                            currentStatus.extraInfoJson[\"电子邮箱\"]: \"--\"} data-value=\"电子邮箱\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"电子邮箱\"]?\r\n                                currentStatus.extraInfoJson[\"电子邮箱\"]: \"--\"}\r\n                            </td>\r\n                            <td>主页地址</td>\r\n                            <td colSpan=\"3\" title={currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"主页地址\"]?\r\n                            currentStatus.extraInfoJson[\"主页地址\"]: \"--\"} data-value=\"主页地址\">\r\n                                {currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"主页地址\"]?\r\n                                currentStatus.extraInfoJson[\"主页地址\"]: \"--\"}\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                    <table className=\"person-more-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                        <caption>个人扩展信息</caption>\r\n                        <tr>\r\n                            <td width=\"200\">是否独生子女</td>\r\n                            <td width=\"85\" data-value=\"isOnlychild\">{currentStatus.isOnlychild? currentStatus.isOnlychild: \"--\"}</td>\r\n                            <td width=\"200\">是否受过学前教育</td>\r\n                            <td width=\"85\" data-value=\"isAcceptpreschool\">{currentStatus.isAcceptpreschool? currentStatus.isAcceptpreschool: \"--\"}</td>\r\n                            <td width=\"200\">是否留守儿童</td>\r\n                            <td width=\"85\" data-value=\"isLeftbehindchild\">{currentStatus.isLeftbehindchild? currentStatus.isLeftbehindchild: \"--\"}</td>\r\n                            <td width=\"200\">是否进城务工人员随迁子女</td>\r\n                            <td width=\"85\" data-value=\"是否进城务工人员随迁子女\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否进城务工人员随迁子女\"]?\r\n                            currentStatus.extraInfoJson[\"是否进城务工人员随迁子女\"]: \"--\"}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td width=\"200\">是否孤儿</td>\r\n                            <td width=\"85\" data-value=\"是否孤儿\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否孤儿\"]?\r\n                            currentStatus.extraInfoJson[\"是否孤儿\"]: \"--\"}</td>\r\n                            <td width=\"200\">是否烈士或优抚子女</td>\r\n                            <td width=\"85\" data-value=\"是否烈士或优抚子女\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否烈士或优抚子女\"]?\r\n                            currentStatus.extraInfoJson[\"是否烈士或优抚子女\"]: \"--\"}</td>\r\n                            <td width=\"200\">随班就读</td>\r\n                            <td width=\"85\" data-value=\"随班就读\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"随班就读\"]?\r\n                            currentStatus.extraInfoJson[\"随班就读\"]: \"--\"}</td>\r\n                            <td width=\"200\">是否需要申请资助</td>\r\n                            <td width=\"85\" data-value=\"是否需要申请资助\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否需要申请资助\"]?\r\n                            currentStatus.extraInfoJson[\"是否需要申请资助\"]: \"--\"}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td width=\"200\">是否享受一补</td>\r\n                            <td width=\"85\" data-value=\"是否享受一补\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否享受一补\"]?\r\n                            currentStatus.extraInfoJson[\"是否享受一补\"]: \"--\"}</td>\r\n                            <td width=\"200\">残疾人类型</td>\r\n                            <td colSpan=\"5\" data-value=\"残疾人类型\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"残疾人类型\"]?\r\n                            currentStatus.extraInfoJson[\"残疾人类型\"]: \"--\"}</td>\r\n                        </tr>\r\n                    </table>\r\n                    <table className=\"study-status\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                        <caption>学习经历</caption>\r\n                        <tr>\r\n                            <th width=\"148\">学习起始时间</th>\r\n                            <th width=\"148\">学习结束时间</th>\r\n                            <th width=\"395\">学习单位</th>\r\n                            <th width=\"160\">学习内容</th>\r\n                            <th width=\"140\">担任职务</th>\r\n                            <th width=\"150\">学习证明人</th>\r\n                        </tr>\r\n                        {\r\n                            Array.isArray(currentStatus.resumeJson) &&\r\n                            currentStatus.resumeJson.map((item, index)=>{\r\n                                console.log(resumeModifyList, currentStatus);\r\n                                return (\r\n                                    <tr key={index}>\r\n                                        <td \r\n                                        width=\"148\"\r\n                                        style={{\r\n                                            color:(resumeModifyList[index] &&\r\n                                            resumeModifyList[index].semesterStartTime?\"red\":\"\")\r\n                                        }}\r\n                                        title={(resumeModifyList[index] &&\r\n                                        resumeModifyList[index].semesterStartTime? \r\n                                        `原：${resumeModifyList[index].semesterStartTime}\\n改：${item.semesterStartTime}`: item.semesterStartTime)}\r\n                                        >{item.semesterStartTime? item.semesterStartTime: \"--\"}</td>\r\n                                        <td width=\"148\"\r\n                                        style={{\r\n                                            color:(resumeModifyList[index] &&\r\n                                            resumeModifyList[index].semesterStartTime?\"red\":\"\")\r\n                                        }}\r\n                                        title={(resumeModifyList[index] &&\r\n                                        resumeModifyList[index].semesterStartTime? \r\n                                        `原：${resumeModifyList[index].semesterStartTime}\\n改：${item.semesterStartTime}`: item.semesterStartTime)}\r\n                                        >{item.semesterEndTime? item.semesterEndTime: \"--\"}</td>\r\n                                        <td \r\n                                        width=\"395\"\r\n                                        style={{\r\n                                            color:(resumeModifyList[index] &&\r\n                                            resumeModifyList[index].school?\"red\":\"\")\r\n                                        }}\r\n                                        title={(resumeModifyList[index] &&\r\n                                        resumeModifyList[index].school? \r\n                                        `原：${resumeModifyList[index].school}\\n改：${item.school}`: item.school)}\r\n                                        >{item.school? item.school: \"--\"}</td>\r\n                                        <td \r\n                                        width=\"160\"\r\n                                        style={{\r\n                                            color:(resumeModifyList[index] &&\r\n                                            resumeModifyList[index].learningContent?\"red\":\"\")\r\n                                        }}\r\n                                        title={(resumeModifyList[index] &&\r\n                                        resumeModifyList[index].learningContent? \r\n                                        `原：${resumeModifyList[index].learningContent}\\n改：${item.learningContent}`: item.learningContent)}\r\n                                        >{item.learningContent? item.learningContent: \"--\"}</td>\r\n                                        <td \r\n                                        width=\"140\"\r\n                                        style={{\r\n                                            color:(resumeModifyList[index] &&\r\n                                            resumeModifyList[index].duty?\"red\":\"\")\r\n                                        }}\r\n                                        title={(resumeModifyList[index] &&\r\n                                        resumeModifyList[index].duty? \r\n                                        `原：${resumeModifyList[index].duty}\\n改：${item.duty}`: item.duty)}\r\n                                        >{item.duty? item.duty: \"--\"}</td>\r\n                                        <td \r\n                                        width=\"150\"\r\n                                        style={{\r\n                                            color:(resumeModifyList[index] &&\r\n                                            resumeModifyList[index].certifier?\"red\":\"\")\r\n                                        }}\r\n                                        title={(resumeModifyList[index] &&\r\n                                        resumeModifyList[index].certifier? \r\n                                        `原：${resumeModifyList[index].certifier}\\n改：${item.certifier}`: item.certifier)}\r\n                                        >{item.certifier? item.certifier: \"--\"}</td>\r\n                                    </tr>\r\n                                )\r\n                            })\r\n                        }\r\n                        \r\n                    </table>\r\n                    <table className=\"transport-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                        <caption>上下学交通方式</caption>\r\n                        <tr>\r\n                            <td width=\"200\">上下学距离(千米)</td>\r\n                            <td width=\"178\" data-value=\"上下学距离（千米）\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"上下学距离（千米）\"]?\r\n                            currentStatus.extraInfoJson[\"上下学距离（千米）\"]: \"--\"}</td>\r\n                            <td width=\"200\">上下学交通方式</td>\r\n                            <td width=\"178\" data-value=\"上下学交通方式\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"上下学交通方式\"]?\r\n                            currentStatus.extraInfoJson[\"上下学交通方式\"]: \"--\"}</td>\r\n                            <td width=\"200\">是否需要乘坐校车</td>\r\n                            <td width=\"178\" data-value=\"是否需要乘坐校车\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否需要乘坐校车\"]?\r\n                            currentStatus.extraInfoJson[\"是否需要乘坐校车\"]: \"--\"}</td>\r\n                        </tr>\r\n                    </table>\r\n                    {\r\n                        Array.isArray(currentStatus.guardianJson) &&\r\n                        currentStatus.guardianJson.map((item, index)=>{\r\n                            return (\r\n                                <table className=\"family-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                                    {\r\n                                        index == 0?\r\n                                        <caption>家庭成员或监护人信息</caption>:\r\n                                        \"\"\r\n                                    }\r\n                                    <tr>\r\n                                        <td>姓名</td>\r\n                                        <td \r\n                                        style={{\r\n                                            color:(familyModifyList[index] &&\r\n                                            familyModifyList[index].name?\"red\":\"\")\r\n                                        }}\r\n                                        title={(familyModifyList[index] &&\r\n                                        familyModifyList[index].name? \r\n                                        `原：${familyModifyList[index].name}\\n改：${item.name}`: item.name)}\r\n                                        >{item.name? item.name: \"--\"}</td>\r\n                                        <td>关系</td>\r\n                                        <td\r\n                                        style={{\r\n                                            color:(familyModifyList[index] &&\r\n                                            familyModifyList[index].relationship?\"red\":\"\")\r\n                                        }}\r\n                                        title={(familyModifyList[index] &&\r\n                                        familyModifyList[index].relationship? \r\n                                        `原：${familyModifyList[index].relationship}\\n改：${item.relationship}`: item.relationship)}\r\n                                        >{item.relationship? item.relationship: \"--\"}</td>\r\n                                        <td>身份证件类型</td>\r\n                                        <td\r\n                                        style={{\r\n                                            color:(familyModifyList[index] &&\r\n                                            familyModifyList[index].idCardType?\"red\":\"\")\r\n                                        }}\r\n                                        title={(familyModifyList[index] &&\r\n                                        familyModifyList[index].idCardType? \r\n                                        `原：${familyModifyList[index].idCardType}\\n改：${item.idCardType}`: item.idCardType)}\r\n                                        >{item.idCardType? item.idCardType: \"--\"}</td>\r\n                                        <td>身份证件号码</td>\r\n                                        <td\r\n                                        style={{\r\n                                            color:(familyModifyList[index] &&\r\n                                            familyModifyList[index].idCardNum?\"red\":\"\")\r\n                                        }}\r\n                                        title={(familyModifyList[index] &&\r\n                                        familyModifyList[index].idCardNum? \r\n                                        `原：${familyModifyList[index].idCardNum}\\n改：${item.idCardNum}`: item.idCardNum)}\r\n                                        >{item.idCardNum? item.idCardNum: \"--\"}</td> \r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td>民族</td>\r\n                                        <td\r\n                                        style={{\r\n                                            color:(familyModifyList[index] &&\r\n                                            familyModifyList[index].nation?\"red\":\"\")\r\n                                        }}\r\n                                        title={(familyModifyList[index] &&\r\n                                        familyModifyList[index].nation? \r\n                                        `原：${familyModifyList[index].nation}\\n改：${item.nation}`: item.nation)}\r\n                                        >{item.nation? item.nation: \"--\"}</td>\r\n                                        <td>是否监护人</td>\r\n                                        <td\r\n                                        style={{\r\n                                            color:(familyModifyList[index] &&\r\n                                            familyModifyList[index].isGuardian?\"red\":\"\")\r\n                                        }}\r\n                                        title={(familyModifyList[index] &&\r\n                                        familyModifyList[index].isGuardian? \r\n                                        `原：${familyModifyList[index].isGuardian}\\n改：${item.isGuardian}`: item.isGuardian)}\r\n                                        >{item.isGuardian? item.isGuardian: \"--\"}</td>\r\n                                        <td>户口所在地</td>\r\n                                        <td\r\n                                        style={{\r\n                                            color:(familyModifyList[index] &&\r\n                                            familyModifyList[index].censusPlace?\"red\":\"\")\r\n                                        }}\r\n                                        title={(familyModifyList[index] &&\r\n                                        familyModifyList[index].censusPlace? \r\n                                        `原：${familyModifyList[index].censusPlace}\\n改：${item.censusPlace}`: item.censusPlace)}\r\n                                        >{item.censusPlace? item.censusPlace: \"--\"}</td>\r\n                                        <td>联系方式</td>\r\n                                        <td\r\n                                        style={{\r\n                                            color:(familyModifyList[index] &&\r\n                                            familyModifyList[index].tel?\"red\":\"\")\r\n                                        }}\r\n                                        title={(familyModifyList[index] &&\r\n                                        familyModifyList[index].tel? \r\n                                        `原：${familyModifyList[index].tel}\\n改：${item.tel}`: item.tel)}\r\n                                        >{item.tel? item.tel: \"--\"}</td> \r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td>现住址</td>\r\n                                        <td colSpan=\"3\"\r\n                                        style={{\r\n                                            color:(familyModifyList[index] &&\r\n                                            familyModifyList[index].address?\"red\":\"\")\r\n                                        }}\r\n                                        title={(familyModifyList[index] &&\r\n                                        familyModifyList[index].address? \r\n                                        `原：${familyModifyList[index].address}\\n改：${item.address}`: item.address)}\r\n                                        >{item.address? item.address: \"--\"}</td>\r\n                                        <td>工作单位</td>\r\n                                        <td\r\n                                        style={{\r\n                                            color:(familyModifyList[index] &&\r\n                                            familyModifyList[index].serviceUnit?\"red\":\"\")\r\n                                        }}\r\n                                        title={(familyModifyList[index] &&\r\n                                        familyModifyList[index].serviceUnit? \r\n                                        `原：${familyModifyList[index].serviceUnit}\\n改：${item.serviceUnit}`: item.serviceUnit)}\r\n                                        >{item.serviceUnit? item.serviceUnit: \"--\"}</td>\r\n                                        <td>职务</td>\r\n                                        <td\r\n                                        style={{\r\n                                            color:(familyModifyList[index] &&\r\n                                            familyModifyList[index].position?\"red\":\"\")\r\n                                        }}\r\n                                        title={(familyModifyList[index] &&\r\n                                        familyModifyList[index].position? \r\n                                        `原：${familyModifyList[index].position}\\n改：${item.position}`: item.position)}\r\n                                        >{item.position? item.position: \"--\"}</td>\r\n                                    </tr>\r\n                                    {/* <tr>\r\n                                        <td colSpan=\"8\" style={{height: 7}}></td>\r\n                                    </tr> */}\r\n                                </table>\r\n                            )\r\n                        })\r\n                    }\r\n                    <table className=\"economic-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                        <caption>家庭经济情况</caption>\r\n                        <tr>\r\n                            <td>家庭人口</td>\r\n                            <td data-value=\"家庭人口\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭人口\"]?\r\n                            currentStatus.extraInfoJson[\"家庭人口\"]: \"--\"}</td>\r\n                            <td>赡养人口</td>\r\n                            <td data-value=\"赡养人口\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"赡养人口\"]?\r\n                            currentStatus.extraInfoJson[\"赡养人口\"]: \"--\"}</td>\r\n                            <td>家庭年收入</td>\r\n                            <td data-value=\"家庭年收入\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭年收入\"]?\r\n                            currentStatus.extraInfoJson[\"家庭年收入\"]: \"--\"}</td>\r\n                            <td>主要收入来源</td>\r\n                            <td data-value=\"主要收入来源\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"主要收入来源\"]?\r\n                            currentStatus.extraInfoJson[\"主要收入来源\"]: \"--\"}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>具备劳动力人数</td>\r\n                            <td data-value=\"具备劳动力人数\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"具备劳动力人数\"]?\r\n                            currentStatus.extraInfoJson[\"具备劳动力人数\"]: \"--\"}</td>\r\n                            <td>是否低保</td>\r\n                            <td data-value=\"是否低保\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否低保\"]?\r\n                            currentStatus.extraInfoJson[\"是否低保\"]: \"--\"}</td>\r\n                            <td>就学地低保线</td>\r\n                            <td data-value=\"就学地低保线\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"就学地低保线\"]?\r\n                            currentStatus.extraInfoJson[\"就学地低保线\"]: \"--\"}</td>\r\n                            <td>困难程度</td>\r\n                            <td data-value=\"困难程度\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"困难程度\"]?\r\n                            currentStatus.extraInfoJson[\"困难程度\"]: \"--\"}</td> \r\n                        </tr>\r\n                        <tr>\r\n                            <td>是否父母丧失劳动能力</td>\r\n                            <td data-value=\"是否父母丧失劳动能力\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否父母丧失劳动能力\"]?\r\n                            currentStatus.extraInfoJson[\"是否父母丧失劳动能力\"]: \"--\"}</td>\r\n                            <td>是否农村绝对贫困家庭</td>\r\n                            <td data-value=\"是否农村绝对贫困家庭\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否农村绝对贫困家庭\"]?\r\n                            currentStatus.extraInfoJson[\"是否农村绝对贫困家庭\"]: \"--\"}</td>\r\n                            <td colSpan=\"3\">是否经民政部门确认的农村特困救助范围的家庭子女</td>\r\n                            <td data-value=\"是否经民政部门确认的农村特困救助范围的家庭子女\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否经民政部门确认的农村特困救助范围的家庭子女\"]?\r\n                            currentStatus.extraInfoJson[\"是否经民政部门确认的农村特困救助范围的家庭子女\"]: \"--\"}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>是否军烈属</td>\r\n                            <td data-value=\"是否军烈属\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"是否军烈属\"]?\r\n                            currentStatus.extraInfoJson[\"是否军烈属\"]: \"--\"}</td>\r\n                            <td>家庭是否五保户</td>\r\n                            <td data-value=\"家庭是否五保户\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭是否五保户\"]?\r\n                            currentStatus.extraInfoJson[\"家庭是否五保户\"]: \"--\"}</td>\r\n                            <td colSpan=\"3\">家中是否有大病患者</td>\r\n                            <td data-value=\"家中是否有大病患者\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家中是否有大病患者\"]?\r\n                            currentStatus.extraInfoJson[\"家中是否有大病患者\"]: \"--\"}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>家庭是否遭受自然灾害</td>\r\n                            <td data-value=\"家庭是否遭受自然灾害\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭是否遭受自然灾害\"]?\r\n                            currentStatus.extraInfoJson[\"家庭是否遭受自然灾害\"]: \"--\"}</td>\r\n                            <td colSpan=\"2\">自然灾害具体情况描述</td>\r\n                            <td colSpan=\"4\" data-value=\"自然灾害具体情况描述\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"自然灾害具体情况描述\"]?\r\n                            currentStatus.extraInfoJson[\"自然灾害具体情况描述\"]: \"--\"}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>家庭失业人数</td>\r\n                            <td data-value=\"家庭失业人数\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭失业人数\"]?\r\n                            currentStatus.extraInfoJson[\"家庭失业人数\"]: \"--\"}</td>\r\n                            <td>家庭欠债金额</td>\r\n                            <td data-value=\"家庭欠债金额\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"家庭欠债金额\"]?\r\n                            currentStatus.extraInfoJson[\"家庭欠债金额\"]: \"--\"}</td>\r\n                            <td>欠债原因</td>\r\n                            <td colSpan=\"3\" data-value=\"欠债原因\">{currentStatus.extraInfoJson && currentStatus.extraInfoJson[\"欠债原因\"]?\r\n                            currentStatus.extraInfoJson[\"欠债原因\"]: \"--\"}</td>\r\n                        </tr>\r\n                    </table>\r\n                </div> \r\n            </div>\r\n            <p className=\"ProVersion\" style={{marginBottom: 0}}>{ProVersion}</p>\r\n        </div>  \r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n      commonData: { roleMsg, basePlatFormMsg, contentHW, termInfo, levelHash, userInfo },\r\n    } = state;\r\n    return { roleMsg, basePlatFormMsg, contentHW, termInfo, levelHash, userInfo };\r\n  };\r\nexport default connect(mapStateToProps)(memo(forwardRef(ErrorCheck)));\r\n  ","/*\r\n *                                                     __----~~~~~~~~~~~------___\r\n *                                    .  .   ~~//====......          __--~ ~~\r\n *                    -.            \\_|//     |||\\\\  ~~~~~~::::... /~\r\n *                 ___-==_       _-~o~  \\/    |||  \\\\            _/~~-\r\n *         __---~~~.==~||\\=_    -_--~/_-~|-   |\\\\   \\\\        _/~\r\n *     _-~~     .=~    |  \\\\-_    '-~7  /-   /  ||    \\      /\r\n *   .~       .~       |   \\\\ -_    /  /-   /   ||      \\   /\r\n *  /  ____  /         |     \\\\ ~-_/  /|- _/   .||       \\ /\r\n *  |~~    ~~|--~~~~--_ \\     ~==-/   | \\~--===~~        .\\\r\n *           '         ~-|      /|    |-~\\~~       __--~~\r\n *                       |-~~-_/ |    |   ~\\_   _-~            /\\\r\n *                            /  \\     \\__   \\/~                \\__\r\n *                        _--~ _/ | .-~~____--~-/                  ~~==.\r\n *                       ((->/~   '.|||' -_|    ~~-/ ,              . _||\r\n *                                  -_     ~\\      ~~---l__i__i__i--~~_/\r\n *                                  _-~-__   ~)  \\--______________--~~\r\n *                                //.-~~~-~_--~- |-------~~~~~~~~\r\n *                                       //.-~~~--\\\r\n *                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *                               神兽保佑            永无BUG\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-08 18:30:14\r\n * @LastEditTime: 2020-12-14 11:25:56\r\n * @Description: table请求的hooks\r\n * @FilePath: \\teacher-development\\src\\component\\table\\hooks.js\r\n */\r\n\r\nimport { useEffect, useState, useRef, useMemo } from \"react\";\r\nexport  function useTableRequest(query = {}, api, prepare = true) {\r\n  // *prepare:是否准备好了，默认是，可以直接请求\r\n  /* 是否是第一次请求 */\r\n  const fisrtRequest = useRef(false);\r\n  /* 保存分页信息 */\r\n  const [pageOptions, setPageOptions] = useState({\r\n    pageIndex: 1,\r\n    pageSize: 10,\r\n  });\r\n  /* 保存表格数据 */\r\n  const [tableData, setTableData] = useState({\r\n    List: [],\r\n    Total: 10,\r\n    PageSize: 10,\r\n    PageIndex: 1,\r\n    IsError: false,\r\n  });\r\n  // 保存是否在请求的状态\r\n  const [loading, setLoading] = useState(false);\r\n  const [isUnMount, setIsUnMount] = useState(false);\r\n\r\n  /* 请求数据 ,数据处理逻辑根后端协调着来 */\r\n  const getList = useMemo(() => {\r\n    return async (payload) => {\r\n      // console.log(payload);\r\n      // 组件卸载了之后不应该再修改它的状态\r\n      if (isUnMount) {\r\n        return;\r\n      }\r\n      // console.log(payload);\r\n\r\n      setLoading(true);\r\n      payload = payload || { ...query, ...pageOptions };\r\n\r\n      if (!api) {\r\n        //api无效，静态更改前端数据\r\n        setTableData({\r\n          ...tableData,\r\n          PageSize: payload.pageSize,\r\n          PageIndex: payload.pageIndex,\r\n        });\r\n        fisrtRequest.current = true;\r\n\r\n        return;\r\n      }\r\n      //  请求,需要提前处理好json转换和处理成tableData的数据结构\r\n      const data = await api(payload);\r\n      // const res = await data.json();\r\n      if (data.StatusCode === 200) {\r\n        setTableData(data.data);\r\n        fisrtRequest.current = true;\r\n      } else {\r\n        setTableData({ isError: true });\r\n      }\r\n      setLoading(false);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  /* 改变分页，重新请求数据 */\r\n  useEffect(() => {\r\n    // console.log(query)\r\n    fisrtRequest.current &&\r\n      getList({\r\n        ...query,\r\n        ...pageOptions,\r\n      });\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [pageOptions]);\r\n  /* 改变查询条件。重新请求数据 */\r\n  useEffect(() => {\r\n    // console.log(query)\r\n\r\n    prepare &&\r\n      getList({\r\n        ...pageOptions,\r\n\r\n        ...query,\r\n        pageIndex: 1,\r\n      });\r\n    return () => {\r\n      setIsUnMount(true);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [query,prepare]);\r\n  /* 处理分页逻辑 */\r\n  const handerChange = useMemo(\r\n    () => (options) => {\r\n      return setPageOptions({ ...query, ...pageOptions, ...options });\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [pageOptions, query]\r\n  );\r\n  // 刷新\r\n  const reloadList = useMemo(\r\n    () => (options,initIndex=true) => {\r\n      options = options || {};\r\n      return getList({\r\n        ...query,\r\n        ...pageOptions,\r\n        pageIndex: initIndex?1:pageOptions.pageIndex,\r\n        ...options,\r\n      });\r\n    },\r\n    [pageOptions, query, getList]\r\n  );\r\n  return [tableData, handerChange, getList, loading, reloadList];\r\n}\r\n","import React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  //   useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Table, Empty, Loading, PagiNation } from \"../common\";\r\nimport { useTableRequest } from \"./hooks\";\r\nfunction $Table(props, ref) {\r\n  let {\r\n    className,\r\n    loading: outLoading,\r\n    tip,\r\n    opacity,\r\n    query,\r\n    // : Query\r\n    pageProps,\r\n    api,\r\n    prepare,\r\n    onDataChange,\r\n    ...reset\r\n  } = props;\r\n  // let { dataSource } = reset;\r\n  /* 控制表格查询条件 */\r\n  // const [query, setQuery] = useState(typeof Query === \"object\" ? Query : {});\r\n  // tableData：列表数据，handerChange:更改查询的条件，getList：获取数据\r\n  const [\r\n    tableData,\r\n    handerChange,\r\n    getList,\r\n    loading,\r\n    reloadList,\r\n  ] = useTableRequest(query, api, prepare);\r\n  const { PageIndex, PageSize, Total, List, IsError } = tableData;\r\n  // useEffect(() => {\r\n  //   console.log(query)\r\n  // }, [query]);\r\n  const PageProps = useMemo(() => {\r\n    return pageProps instanceof Object ? pageProps : {};\r\n  }, [pageProps]);\r\n  useImperativeHandle(\r\n    ref,\r\n    () => ({\r\n      getList,\r\n      reloadList,\r\n      data: tableData,\r\n    }),\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [getList, tableData, reloadList, Total]\r\n  );\r\n  // 监听tableData的变化\r\n  useEffect(() => {\r\n    // console.log(tableData);\r\n    // 实时更新data给使用者\r\n    typeof onDataChange === \"function\" && onDataChange(tableData);\r\n  }, [tableData, onDataChange]);\r\n  return (\r\n    <Loading\r\n      spinning={\r\n        outLoading !== undefined\r\n          ? outLoading instanceof Boolean\r\n            ? outLoading\r\n            : false\r\n          : loading\r\n      }\r\n      tip={tip ? tip : \"加载中...\"}\r\n      opacity={opacity ? opacity : false}\r\n    >\r\n      <div className={`lg-table-box ${className ? className : \"\"}`}>\r\n        {!IsError && List instanceof Array && List.length > 0 ? (\r\n          <>\r\n            <Table\r\n              dataSource={List}\r\n              pagination={false}\r\n              showSorterTooltip={false}\r\n              onChange={(pagination, filters, sorter, extra) => {\r\n                if(extra.action==='sort')\r\n                handerChange({\r\n                  sortFiled: sorter.columnKey,\r\n                  sortType:\r\n                    sorter.order === \"ascend\"\r\n                      ? \"ASC\"\r\n                      : sorter.order === \"descend\"\r\n                      ? \"DESC\"\r\n                      : \"\",\r\n                });\r\n              }}\r\n              className={`lg-table`}\r\n              {...reset}\r\n            ></Table>\r\n            <PagiNation\r\n              showQuickJumper\r\n              showSizeChanger\r\n              // onShowSizeChange={(Current, PageSize) => {\r\n              //   console.log(PageSize);\r\n              //   handerChange({ PageSize });\r\n              // }}\r\n              pageSize={PageSize}\r\n              current={PageIndex}\r\n              hideOnSinglePage={Total === 0 ? true : false}\r\n              total={Total}\r\n              onChange={(pageIndex, pageSize) => {\r\n                handerChange({\r\n                  pageIndex,\r\n                  pageSize:\r\n                    PageProps.showSizeChanger === undefined ||\r\n                    PageProps.showSizeChanger\r\n                      ? pageSize\r\n                      : PageSize,\r\n                });\r\n              }}\r\n              {...PageProps}\r\n            ></PagiNation>\r\n          </>\r\n        ) : (\r\n          <Empty\r\n            className={\"lg-table-empty\"}\r\n            type={\"4\"}\r\n            title={\"暂无数据\"}\r\n          ></Empty>\r\n        )}\r\n      </div>\r\n    </Loading>\r\n  );\r\n}\r\nexport default memo(forwardRef($Table));\r\n","/*\r\n *                                                     __----~~~~~~~~~~~------___\r\n *                                    .  .   ~~//====......          __--~ ~~\r\n *                    -.            \\_|//     |||\\\\  ~~~~~~::::... /~\r\n *                 ___-==_       _-~o~  \\/    |||  \\\\            _/~~-\r\n *         __---~~~.==~||\\=_    -_--~/_-~|-   |\\\\   \\\\        _/~\r\n *     _-~~     .=~    |  \\\\-_    '-~7  /-   /  ||    \\      /\r\n *   .~       .~       |   \\\\ -_    /  /-   /   ||      \\   /\r\n *  /  ____  /         |     \\\\ ~-_/  /|- _/   .||       \\ /\r\n *  |~~    ~~|--~~~~--_ \\     ~==-/   | \\~--===~~        .\\\r\n *           '         ~-|      /|    |-~\\~~       __--~~\r\n *                       |-~~-_/ |    |   ~\\_   _-~            /\\\r\n *                            /  \\     \\__   \\/~                \\__\r\n *                        _--~ _/ | .-~~____--~-/                  ~~==.\r\n *                       ((->/~   '.|||' -_|    ~~-/ ,              . _||\r\n *                                  -_     ~\\      ~~---l__i__i__i--~~_/\r\n *                                  _-~-__   ~)  \\--______________--~~\r\n *                                //.-~~~-~_--~- |-------~~~~~~~~\r\n *                                       //.-~~~--\\\r\n *                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *                               神兽保佑            永无BUG\r\n *\r\n * @Author: pengzhiwen\r\n * @LastEditors: pengzhiwen\r\n * @Description: \r\n * //自制的表格列表，方便修改样式，用那些组件改样式太麻烦了\r\n//使用规则\r\n//传入tableHeader和data两个参数\r\n//tableHeader格式：\r\n// [\r\n//     {\r\n//         key: \"xxx\",  //data中该顺序位置对应的字段名\r\n//         name: \"xxx\" //该顺序位置对应的表头名称\r\n//         width: \"xxx\" //该字段所占的宽度，该功能不完善，最好自己计算所有宽度总和为100%否则可能会有问题\r\n//     },\r\n//     {\r\n//         key: \"xxx\",\r\n//         name: \"xxx\"\r\n//     }\r\n//     ...\r\n// ]\r\n//data格式：\r\n//传入参数必须是数组，并且必须拥有与tableHeader内key值相同的所有字段，便于取值放于相应位置\r\n//关于头像需要自己写地址参数，后续需要在tableHeader里添加一个头像对象\r\n */\r\nimport React, {\r\n    useState,\r\n    useEffect\r\n} from \"react\";\r\nimport table from \"../table\";\r\nimport { Pagination, ConfigProvider } from \"antd\";\r\nimport zhCN from \"antd/es/locale/zh_CN\";\r\nimport { Empty } from \"../common\";\r\nimport \"./index.scss\";\r\n\r\nfunction Table(props) {\r\n    let {\r\n        tableHeader,\r\n        data,\r\n        style\r\n    } = props;\r\n    const [currentIndex, setCurrentIndex] = useState(1);\r\n    //不是数组就不收，哪来的回哪去吧\r\n    if(!Array.isArray(tableHeader) || !Array.isArray(data)){\r\n        return;\r\n    }\r\n    //若没有设置width值则默认都一样宽度\r\n    let count = tableHeader.length;\r\n    let width = parseInt(100/count) + \"%\";\r\n    let updateDataList = [];\r\n    data.forEach((item)=>{\r\n        let sign = true;\r\n        tableHeader.forEach((child)=>{\r\n            if(child.key == \"score\" && !item[child.key]){\r\n                sign = false;\r\n            }\r\n            if(child.key == \"useTime\" && !item[child.key]){\r\n                sign = false;\r\n            }\r\n        })\r\n        if(sign){\r\n            updateDataList.push(item);\r\n        }\r\n    })\r\n    return (\r\n        <div className=\"data-table\" style={style? style: null}>\r\n            <div className=\"table-thead\">\r\n            {\r\n                tableHeader.map((item, index)=>{\r\n                    return (\r\n                        <div\r\n                        className=\"table-th\" \r\n                        style={{\r\n                            width\r\n                        }}\r\n                        key={index}\r\n                        >{item.name}</div>\r\n                    )\r\n                })\r\n            }\r\n            </div>\r\n            {  \r\n                Array.isArray(updateDataList) &&\r\n                updateDataList.length > 0?\r\n                updateDataList.slice((currentIndex - 1)*8, currentIndex*8).map((item, index)=>{\r\n                    let arr = [];\r\n                    tableHeader.forEach((child, index1)=>{\r\n                        if(child.key === \"index\"){\r\n                            arr.push(\r\n                            <div \r\n                            className=\"table-td\" \r\n                            style={{\r\n                                width\r\n                            }}\r\n                            key={index1}>\r\n                                {\r\n                                    index + 1\r\n                                }\r\n                            </div>\r\n                            )\r\n                        } else {\r\n                            arr.push(\r\n                            <div \r\n                            className=\"table-td\" \r\n                            style={{\r\n                                width\r\n                            }}\r\n                            key={index1}>\r\n                                {\r\n                                    child.key == \"userName\"?\r\n                                    <img \r\n                                    className=\"user-head\" \r\n                                    src={item.userImgUrl || item.studentImgUrl}\r\n                                    alt=\"\" />:\r\n                                    \"\"\r\n                                }\r\n                                {\r\n                                    item[child.key]?\r\n                                    item[child.key]:\r\n                                    \"--\"\r\n                                }\r\n                            </div>\r\n                            )\r\n                        } \r\n                    })\r\n                    return (\r\n                        <div className=\"table-tr\">\r\n                            {arr}\r\n                        </div>\r\n                    )\r\n                }):\r\n                <Empty\r\n                // className={\"list-empty\"}\r\n                style={{margin: \"183px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }\r\n            {\r\n                updateDataList.length > 8?\r\n                <ConfigProvider locale={zhCN}>\r\n                    <Pagination\r\n                    className=\"table-pagination\"\r\n                    size=\"small\"\r\n                    total={updateDataList.length}\r\n                    current={currentIndex}\r\n                    pageSize={8}\r\n                    showQuickJumper={true}\r\n                    showSizeChanger={false}\r\n                    hideOnSinglePage\r\n                    onChange={(pageIndex)=>{\r\n                        setCurrentIndex(pageIndex);\r\n                    }}\r\n                    />\r\n                </ConfigProvider>\r\n                \r\n                :\r\n                \"\"\r\n            }\r\n        </div>  \r\n    )\r\n}\r\n\r\nexport default Table;","import React, {\r\n  //   useCallback,\r\n  memo,\r\n  // useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useLayoutEffect,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport $ from \"jquery\";\r\nimport \"./index.scss\";\r\nimport { Loading, Empty } from \"../common\";\r\n\r\n/**\r\n * @description: 在frame中使用的bar\r\n * @param {*}\r\n * @return {*}\r\n */\r\nfunction $Bar(props, ref) {\r\n  let {\r\n    topContext,\r\n    width,\r\n    marginLR,\r\n    style,\r\n    className,\r\n    barName,\r\n    loading,\r\n    barId,\r\n    children,\r\n    isEmpty,\r\n    emptyTitle,\r\n    userIdentity,\r\n    ...reset\r\n  } = props;\r\n  // bar的高度\r\n  // const [barHeight, setBarHeight] = useState(0);\r\n  // 获取bar ref\r\n  const barRef = useRef(null);\r\n  // 挂载后\r\n  // useLayoutEffect(() => {\r\n  //   let bar = $(barRef.current);\r\n  //   // setBarHeight(bar.height());\r\n  //   console.log(barRef.current.height, bar.outerHeight(true));\r\n  // }, []);\r\n  useImperativeHandle(ref, () => {\r\n    return barRef.current;\r\n  });\r\n  return (\r\n    <div\r\n      ref={barRef}\r\n      style={Object.assign(\r\n        {},\r\n        {\r\n          width: `calc(${width ? width : \"100%\"} - ${\r\n            typeof marginLR === \"number\" ? marginLR * 2 : 32\r\n          }px)`,\r\n          marginLeft: typeof marginLR === \"number\" ? marginLR + \"px\" : \"16px\",\r\n          marginRight: typeof marginLR === \"number\" ? marginLR + \"px\" : \"16px\",\r\n        },\r\n        style instanceof Object ? style : {}\r\n      )}\r\n      className={`frame-bar-context ${className ? className : \"\"}`}\r\n      {...reset}\r\n    >\r\n      <div className=\"fbc-top\">\r\n        <span className=\"ftc-bar-name\" title={barName}>\r\n          {barName}\r\n        </span>\r\n        {topContext ? (\r\n          <span className=\"ftc-top-custom\">\r\n            {\r\n              //当loading为true时，阻止该区域点击,下级的捕获\r\n              /** 后期自己看是否需要加可控属性 */\r\n            }\r\n            {loading ? (\r\n              <div\r\n                style={{ height: \"100%\", width: \"100%\", position: \"absolute\" }}\r\n              ></div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {/* 判断是否是reactDom，是渲染，否用组件的 */}\r\n            {/* *topContext:{\r\n            title:按钮名称,存在才渲染\r\n            icon:有就用这个，没有就有默认的\r\n            className:类\r\n            onClick:点击\r\n          } */}\r\n            {topContext.$$typeof ? (\r\n              topContext\r\n            ) : topContext.title ? (\r\n              <span\r\n                className={`ftc-default-btn ${\r\n                  topContext.className ? topContext.className : \"\"\r\n                }`}\r\n                onClick={() => {\r\n                  typeof topContext.onClick === \"function\" &&\r\n                    topContext.onClick();\r\n                }}\r\n                style={\r\n                  topContext.icon\r\n                    ? {\r\n                        background: `url(${topContext.icon}) no-repeat left center/15px 15px`,\r\n                      }\r\n                    : {}\r\n                }\r\n              >\r\n                {topContext.title}\r\n              </span>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </span>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n      <div className=\"fbc-contain\">\r\n        <Loading\r\n          spinning={loading ? loading : false}\r\n          opacity={false}\r\n          tip={\"加载中...\"}\r\n        >\r\n          {isEmpty === undefined || !isEmpty ? (\r\n            <div className=\"fbc-contain-box\">{children}</div>\r\n          ) : (\r\n            <Empty\r\n              className={\"bar-empty\"}\r\n              title={emptyTitle ? emptyTitle : \"暂无数据...\"}\r\n              type={\"4\"}\r\n            ></Empty>\r\n          )}\r\n        </Loading>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n// $Context.Bar = $Bar\r\nexport default memo(forwardRef($Bar));\r\n","/*\r\n *\r\n *    ┏┓　　　┏┓\r\n *  ┏┛┻━━━┛┻┓\r\n *  ┃　　　　　　　┃\r\n *  ┃　　　━　　　┃\r\n *  ┃　＞　　　＜　┃\r\n *  ┃　　　　　　　┃\r\n *  ┃...　⌒　...　┃\r\n *  ┃　　　　　　　┃\r\n *  ┗━┓　　　┏━┛\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃  神兽保佑\r\n *      ┃　　　┃  代码无bug\r\n *      ┃　　　┃\r\n *      ┃　　　┗━━━┓\r\n *      ┃　　　　　　　┣┓\r\n *      ┃　　　　　　　┏┛\r\n *      ┗┓┓┏━┳┓┏┛\r\n *        ┃┫┫　┃┫┫\r\n *        ┗┻┛　┗┻┛\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 11:46:56\r\n * @LastEditTime: 2020-12-21 11:22:13\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\api\\baseMsg.js\r\n */\r\nimport fetch from \"../util/fetch\";\r\nimport ipConfig from \"../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description:获取教师人数概况  http://192.168.129.1:8033/showdoc/web/#/21?page_id=2087\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getTeacherCount(payload = {}) {\r\n  // *RStatus:状态：0草稿；1正式发布\r\n  let { schoolID, collegeID, selectLevel, term } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/Basic/TeacherCount?SchoolID=${\r\n      schoolID ? schoolID : \"\"\r\n    }&CollegeID=${collegeID ? collegeID : \"\"}&SelectLevel=${\r\n      selectLevel ? selectLevel : \"\"\r\n    }&Term=${term ? term : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        // \"Total\":50,\r\n        // \"MaleCount\":50,\r\n        // \"FemaleCount\":50,\r\n        // \"TeaSthRatio\":\"1:17\",\r\n        // \"SubSet\":[{\r\n        //     \"NodeID\":\"XXXXXXXXXXX\",\r\n        //     \"NodeName\":\"语文\",\r\n        //     \"Total\":50,\r\n        //     \"MaleCount\":10,\r\n        //     \"FemaleCount\":10,\r\n        //     \"MalePercent\":\"50%\",\r\n        //     \"FemalePercent\":\"50%\",\r\n        // }]\r\n        return json.Data?json.Data:{};\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n}\r\n\r\n/**\r\n * @description:获取教师人数概况  http://192.168.129.1:8033/showdoc/web/#/21?page_id=2087\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getHonorTeacher(payload = {}) {\r\n  // *RStatus:状态：0草稿；1正式发布\r\n  let { schoolID, collegeID, selectLevel, term } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/Basic/HonorTeacher?SchoolID=${\r\n      schoolID ? schoolID : \"\"\r\n    }&CollegeID=${collegeID ? collegeID : \"\"}&SelectLevel=${\r\n      selectLevel ? selectLevel : \"\"\r\n    }&Term=${term ? term : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        // \"Total\":50,\r\n        // \"MaleCount\":50,\r\n        // \"FemaleCount\":50,\r\n        // \"TeaSthRatio\":\"1:17\",\r\n        // \"SubSet\":[{\r\n        //     \"NodeID\":\"XXXXXXXXXXX\",\r\n        //     \"NodeName\":\"语文\",\r\n        //     \"Total\":50,\r\n        //     \"MaleCount\":10,\r\n        //     \"FemaleCount\":10,\r\n        //     \"MalePercent\":\"50%\",\r\n        //     \"FemalePercent\":\"50%\",\r\n        // }]\r\n        return json.Data?json.Data:{};\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n}\r\n\r\n/**\r\n * @description:获取教师人数概况  http://192.168.129.1:8033/showdoc/web/#/21?page_id=2087\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getTeacherAge(payload = {}) {\r\n  // *RStatus:状态：0草稿；1正式发布\r\n  let { schoolID, collegeID, selectLevel, term } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/Basic/Age?SchoolID=${schoolID ? schoolID : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }&SelectLevel=${selectLevel ? selectLevel : \"\"}&Term=${term ? term : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        // \"Term\":\"2020-202102\",\r\n        // \"SchoolID\":\"S-002\",\r\n        // \"CollegeID\":\"S-002-02\",\r\n        // \"AgeAvg\":36,            //平均年龄,\r\n        // \"TeachAgeAvg\":36,        //平均教龄\r\n        // \"AgeList\":[{\r\n        //     \"NodeID\":\"XXXXXXXXXXX\",\r\n        //     \"NodeName\":\"20-30岁\",\r\n        //     \"Total\":50,\r\n        // }]\r\n        return json.Data?json.Data:{};\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n}\r\n\r\n/**\r\n * @description:学历职称统计  http://192.168.129.1:8033/showdoc/web/#/21?page_id=2091\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getTeacherEduAndTitle(payload = {}) {\r\n  // *RStatus:状态：0草稿；1正式发布\r\n  let { schoolID, collegeID, selectLevel, term } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/Basic/EduAndTitle?SchoolID=${schoolID ? schoolID : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }&SelectLevel=${selectLevel ? selectLevel : \"\"}&Term=${term ? term : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        // \"Term\":\"2020-202102\",\r\n        // \"SchoolID\":\"S-002\",\r\n        // \"CollegeID\":\"S-002-02\",\r\n        // \"AgeAvg\":36,            //平均年龄,\r\n        // \"TeachAgeAvg\":36,        //平均教龄\r\n        // \"AgeList\":[{\r\n        //     \"NodeID\":\"XXXXXXXXXXX\",\r\n        //     \"NodeName\":\"20-30岁\",\r\n        //     \"Total\":50,\r\n        // }]\r\n        return json.Data?json.Data:{};\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n}\r\n\r\n","import React, {\r\n    useState,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    memo,\r\n    useImperativeHandle,\r\n    forwardRef\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport $ from \"jquery\";\r\nimport { Select } from \"antd\";\r\nconst { Option } = Select;\r\n//输入框\r\nfunction MyInput(props) {\r\n    let {\r\n        title,\r\n        type,\r\n        data,\r\n        list,\r\n        width,\r\n        getValue,\r\n        titleWidth,\r\n        inputWidth,\r\n        inputRef,\r\n        className\r\n    } = props;\r\n    const [value, setValue] = useState(data? data: \"\");\r\n    const [isUpdate, setIsUpdate] = useState(false);\r\n    const saveValue = (e) => {\r\n        setValue(e.target.value);\r\n    }\r\n    //判断当前值是否修改，用于学籍纠错\r\n    useEffect(()=>{\r\n        let compare = data? data: \"\";\r\n        if(value != compare){\r\n            setIsUpdate(true);\r\n        } else {\r\n            setIsUpdate(false);\r\n        }\r\n    }, [value]);\r\n    useImperativeHandle(\r\n        inputRef,\r\n        () => ({\r\n           value,\r\n           isUpdate\r\n        }),\r\n        [value, data, type, list, isUpdate],\r\n    )\r\n    return (\r\n        <div ref={inputRef} className=\"input-container\" style={{width: width}}>\r\n            <span className=\"input-title\" style={{width: titleWidth}}>{title}:</span>\r\n            <span className={className} style={{display: 'none'}}>{value}</span>\r\n            {\r\n                type == \"select\"?\r\n                <Select \r\n                value={value? value: \"否\"}\r\n                onChange={(value)=>setValue(value)}\r\n                getPopupContainer={()=>$('.body-container')[0]}\r\n                style={{width: inputWidth}}>\r\n                    <Option value=\"否\">否</Option>\r\n                    <Option value=\"是\">是</Option>\r\n                </Select>:\r\n                type == \"list\"?\r\n                <Select \r\n                value={value} \r\n                onChange={(value)=>setValue(value)} \r\n                getPopupContainer={()=>$('.body-container')[0]}\r\n                style={{width: inputWidth}}>\r\n                    {\r\n                        Array.isArray(list) &&\r\n                        list.map((item, index)=>{\r\n                            return (\r\n                                <Option \r\n                                key={index} \r\n                                value={item}>\r\n                                    {item}\r\n                                </Option>\r\n                            )\r\n                        })\r\n                    }\r\n                </Select>:\r\n                type == \"input\"?\r\n                <input \r\n                className=\"input-btn\" \r\n                type=\"text\" \r\n                value={value} \r\n                onChange={saveValue} \r\n                style={{width: inputWidth}}/>:\r\n                <div \r\n                className=\"input-btn\" \r\n                style={{width: inputWidth}}>\r\n                    {value}\r\n                </div>\r\n            }\r\n        </div>\r\n            \r\n    )\r\n}\r\n\r\nexport default memo(forwardRef(MyInput));","import React, {\r\n    useState,\r\n    useEffect\r\n} from \"react\";\r\nimport \"./index.scss\";\r\n\r\nfunction Item(props) {\r\n    let {\r\n        title,\r\n        content,\r\n        titleWidth,\r\n        contentWidth\r\n    } = props;\r\n    return (\r\n        <div className=\"list-one\">\r\n            <div className=\"list-title\" style={{width: Number(titleWidth)}}>{title}</div>\r\n            <div className=\"list-content\" style={{width: Number(contentWidth)}}>{content}</div>\r\n        </div>  \r\n    )\r\n}\r\n\r\nexport default Item;","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport Item from \"@/component/tableItem\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\n\r\nlet { BasicProxy } = ipConfig;\r\n  function StucherCount(props, ref) {\r\n    let {\r\n        userInfo: { UserID },\r\n        userStatus\r\n    } = props;\r\n    // const [userStatus, setUserStatus] = useState({});\r\n    \r\n    // userStatus.extraInfoJson = JSON.parse(userStatus.extraInfoJson);\r\n    // console.log(userStatus.extraInfoJson);\r\n    return (\r\n      <div className=\"stu-status\">\r\n        <table className=\"base-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>基本信息及辅助信息</caption>\r\n            <tr>\r\n                <td>姓名</td>\r\n                <td title={userStatus.studentName? userStatus.studentName: \"--\"}>\r\n                    {userStatus.studentName? userStatus.studentName: \"--\"}\r\n                </td>\r\n                <td>性别</td>\r\n                <td title={userStatus.gender? userStatus.gender: \"--\"}>\r\n                    {userStatus.gender? userStatus.gender: \"--\"}\r\n                </td>\r\n                <td>出生日期</td>\r\n                <td title={userStatus.dateOfBirth? userStatus.dateOfBirth: \"--\"}>\r\n                    {userStatus.dateOfBirth? userStatus.dateOfBirth: \"--\"}\r\n                </td>\r\n                <td>出生地</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"出生地\"]?\r\n                 userStatus.extraInfoJson[\"出生地\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"出生地\"]?\r\n                    userStatus.extraInfoJson[\"出生地\"]: \"--\"}\r\n                </td> \r\n                <td rowSpan=\"6\" style={{\r\n                    backgroundImage: `url(${userStatus.photoPath})`,\r\n                    backgroundSize: `calc(100% - 24px) calc(100% - 24px)`,\r\n                    backgroundRepeat: 'no-repeat',\r\n                    backgroundPosition: 'center center'\r\n                    }}>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>籍贯</td>\r\n                <td title={userStatus.nativePlace? userStatus.nativePlace: \"--\"}>\r\n                    {userStatus.nativePlace? userStatus.nativePlace: \"--\"}\r\n                </td>\r\n                <td>民族</td>\r\n                <td title={userStatus.nation? userStatus.nation: \"--\"}>\r\n                    {userStatus.nation? userStatus.nation: \"--\"}\r\n                </td>\r\n                <td>国籍/地区</td>\r\n                <td title={userStatus.nationality? userStatus.nationality: \"--\"}>\r\n                    {userStatus.nationality? userStatus.nationality: \"--\"}\r\n                </td>\r\n                <td>身份证件类型</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"身份证件类型\"]?\r\n                 userStatus.extraInfoJson[\"身份证件类型\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"身份证件类型\"]?\r\n                    userStatus.extraInfoJson[\"身份证件类型\"]: \"--\"}\r\n                </td> \r\n            </tr>\r\n            <tr>\r\n                <td>身份证件号码</td>\r\n                <td colSpan=\"3\" title={userStatus.identityNum? userStatus.identityNum: \"--\"}>\r\n                    {userStatus.identityNum? userStatus.identityNum: \"--\"}\r\n                </td>\r\n                <td>港澳台侨胞</td>\r\n                <td title={userStatus.overseaPeople? userStatus.overseaPeople: \"--\"}>\r\n                    {userStatus.overseaPeople? userStatus.overseaPeople: \"--\"}\r\n                </td>\r\n                <td>政治面貌</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"政治面貌\"]?\r\n                 userStatus.extraInfoJson[\"政治面貌\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"政治面貌\"]?\r\n                    userStatus.extraInfoJson[\"政治面貌\"]: \"--\"}\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>健康状况</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"健康状况\"]?\r\n                 userStatus.extraInfoJson[\"健康状况\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"健康状况\"]?\r\n                    userStatus.extraInfoJson[\"健康状况\"]: \"--\"}\r\n                </td>\r\n                <td>姓名拼音</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"姓名拼音\"]?\r\n                 userStatus.extraInfoJson[\"姓名拼音\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"姓名拼音\"]?\r\n                    userStatus.extraInfoJson[\"姓名拼音\"]: \"--\"}\r\n                </td>\r\n                <td>曾用名</td>\r\n                <td title={userStatus.formerName? userStatus.formerName: \"--\"}>\r\n                    {userStatus.formerName? userStatus.formerName: \"--\"}\r\n                </td>\r\n                <td>身份证件有效期</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"身份证件有效期\"]?\r\n                 userStatus.extraInfoJson[\"身份证件有效期\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"身份证件有效期\"]?\r\n                    userStatus.extraInfoJson[\"身份证件有效期\"]: \"--\"}\r\n                </td> \r\n            </tr>\r\n            <tr>\r\n                <td>户口所在地</td>\r\n                <td title={userStatus.censusPlace? userStatus.censusPlace: \"--\"}>\r\n                    {userStatus.censusPlace? userStatus.censusPlace: \"--\"}\r\n                </td>\r\n                <td>特长</td>\r\n                <td colSpan=\"5\" title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"特长\"]?\r\n                 userStatus.extraInfoJson[\"特长\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"特长\"]?\r\n                    userStatus.extraInfoJson[\"特长\"]: \"--\"}\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>学籍辅号</td>\r\n                <td title={userStatus.studentId? userStatus.studentId: \"--\"}>\r\n                    {userStatus.studentId? userStatus.studentId: \"--\"}\r\n                </td>\r\n                <td>班内学号</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"班内学号\"]?\r\n                 userStatus.extraInfoJson[\"班内学号\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"班内学号\"]?\r\n                    userStatus.extraInfoJson[\"班内学号\"]: \"--\"}\r\n                </td>\r\n                <td>年级</td>\r\n                <td title={userStatus.gradeName? userStatus.gradeName: \"--\"}>\r\n                    {userStatus.gradeName? userStatus.gradeName: \"--\"}\r\n                </td>\r\n                <td>班级</td>\r\n                <td title={userStatus.className? userStatus.className: \"--\"}>\r\n                    {userStatus.className? userStatus.className: \"--\"}\r\n                </td> \r\n            </tr>\r\n            <tr>\r\n                <td>入学年月</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"入学年月\"]?\r\n                 userStatus.extraInfoJson[\"入学年月\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"入学年月\"]?\r\n                    userStatus.extraInfoJson[\"入学年月\"]: \"--\"}\r\n                </td>\r\n                <td>入学方式</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"入学方式\"]?\r\n                 userStatus.extraInfoJson[\"入学方式\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"入学方式\"]?\r\n                    userStatus.extraInfoJson[\"入学方式\"]: \"--\"}\r\n                </td>\r\n                <td>就读方式</td>\r\n                <td title={userStatus.studyingWay? userStatus.studyingWay: \"--\"}>\r\n                    {userStatus.studyingWay? userStatus.studyingWay: \"--\"}\r\n                </td>\r\n                <td>学生来源</td>\r\n                <td colSpan=\"2\" title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"学生来源\"]?\r\n                 userStatus.extraInfoJson[\"学生来源\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"学生来源\"]?\r\n                    userStatus.extraInfoJson[\"学生来源\"]: \"--\"}\r\n                </td> \r\n            </tr>\r\n        </table>\r\n        <table className=\"person-link\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>个人联系方式</caption>\r\n            <tr>\r\n                <td>现住址</td>\r\n                <td colSpan=\"3\" title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"现住址\"]?\r\n                 userStatus.extraInfoJson[\"现住址\"]: \"--\"}>\r\n                     {userStatus.extraInfoJson && userStatus.extraInfoJson[\"现住址\"]?\r\n                    userStatus.extraInfoJson[\"现住址\"]: \"--\"}\r\n                </td>\r\n                <td>通信地址</td>\r\n                <td colSpan=\"3\" title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"通讯地址\"]?\r\n                 userStatus.extraInfoJson[\"通讯地址\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"通讯地址\"]?\r\n                    userStatus.extraInfoJson[\"通讯地址\"]: \"--\"}\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>家庭地址</td>\r\n                <td colSpan=\"3\" title={userStatus.homeAddress? userStatus.homeAddress: \"--\"}>\r\n                     {userStatus.homeAddress? userStatus.homeAddress: \"--\"}\r\n                 </td>\r\n                <td>联系电话</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"联系电话\"]?\r\n                 userStatus.extraInfoJson[\"联系电话\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"联系电话\"]?\r\n                    userStatus.extraInfoJson[\"联系电话\"]: \"--\"}\r\n                </td>\r\n                <td>邮政编码</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"邮政编号\"]?\r\n                 userStatus.extraInfoJson[\"邮政编号\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"邮政编号\"]?\r\n                    userStatus.extraInfoJson[\"邮政编号\"]: \"--\"}\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>电子邮箱</td>\r\n                <td colSpan=\"3\" title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"电子邮箱\"]?\r\n                 userStatus.extraInfoJson[\"电子邮箱\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"电子邮箱\"]?\r\n                    userStatus.extraInfoJson[\"电子邮箱\"]: \"--\"}\r\n                </td>\r\n                <td>主页地址</td>\r\n                <td colSpan=\"3\" title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"主页地址\"]?\r\n                 userStatus.extraInfoJson[\"主页地址\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"主页地址\"]?\r\n                    userStatus.extraInfoJson[\"主页地址\"]: \"--\"}\r\n                </td>\r\n            </tr>\r\n        </table>\r\n        <table className=\"person-more-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>个人扩展信息</caption>\r\n            <tr>\r\n                <td width=\"200\">是否独生子女</td>\r\n                <td width=\"85\">{userStatus.isOnlychild? userStatus.isOnlychild: \"--\"}</td>\r\n                <td width=\"200\">是否受过学前教育</td>\r\n                <td width=\"85\">{userStatus.isAcceptpreschool? userStatus.isAcceptpreschool: \"--\"}</td>\r\n                <td width=\"200\">是否留守儿童</td>\r\n                <td width=\"85\">{userStatus.isLeftbehindchild? userStatus.isLeftbehindchild: \"--\"}</td>\r\n                <td width=\"200\">是否进城务工人员随迁子女</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否进城务工人员随迁子女\"]?\r\n                 userStatus.extraInfoJson[\"是否进城务工人员随迁子女\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td width=\"200\">是否孤儿</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否孤儿\"]?\r\n                 userStatus.extraInfoJson[\"是否孤儿\"]: \"--\"}</td>\r\n                <td width=\"200\">是否烈士或优抚子女</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否烈士或优抚子女\"]?\r\n                 userStatus.extraInfoJson[\"是否烈士或优抚子女\"]: \"--\"}</td>\r\n                <td width=\"200\">随班就读</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"随班就读\"]?\r\n                 userStatus.extraInfoJson[\"随班就读\"]: \"--\"}</td>\r\n                <td width=\"200\">是否需要申请资助</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要申请资助\"]?\r\n                 userStatus.extraInfoJson[\"是否需要申请资助\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td width=\"200\">是否享受一补</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否享受一补\"]?\r\n                 userStatus.extraInfoJson[\"是否享受一补\"]: \"--\"}</td>\r\n                <td width=\"200\">残疾人类型</td>\r\n                <td colSpan=\"5\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"残疾人类型\"]?\r\n                 userStatus.extraInfoJson[\"残疾人类型\"]: \"--\"}</td>\r\n            </tr>\r\n        </table>\r\n        <table className=\"study-status\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>学习经历</caption>\r\n            <tr>\r\n                <th width=\"148\">学习起始时间</th>\r\n                <th width=\"148\">学习结束时间</th>\r\n                <th width=\"395\">学习单位</th>\r\n                <th width=\"160\">学习内容</th>\r\n                <th width=\"140\">担任职务</th>\r\n                <th width=\"150\">学习证明人</th>\r\n            </tr>\r\n            {\r\n                Array.isArray(userStatus.resumeJson) &&\r\n                userStatus.resumeJson.map((item, index)=>{\r\n                    return (\r\n                        <tr key={index}>\r\n                            <td width=\"148\">{item.semesterStartTime? item.semesterStartTime: \"--\"}</td>\r\n                            <td width=\"148\">{item.semesterEndTime? item.semesterEndTime: \"--\"}</td>\r\n                            <td width=\"395\">{item.school? item.school: \"--\"}</td>\r\n                            <td width=\"160\">{item.learningContent? item.learningContent: \"--\"}</td>\r\n                            <td width=\"140\">{item.duty? item.duty: \"--\"}</td>\r\n                            <td width=\"150\">{item.certifier? item.certifier: \"--\"}</td>\r\n                        </tr>\r\n                    )\r\n                })\r\n            }\r\n            \r\n        </table>\r\n        <table className=\"transport-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>上下学交通方式</caption>\r\n            <tr>\r\n                <td width=\"200\">上下学距离(千米)</td>\r\n                <td width=\"178\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"上下学距离（千米）\"]?\r\n                 userStatus.extraInfoJson[\"上下学距离（千米）\"]: \"--\"}</td>\r\n                <td width=\"200\">上下学交通方式</td>\r\n                <td width=\"178\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"上下学交通方式\"]?\r\n                 userStatus.extraInfoJson[\"上下学交通方式\"]: \"--\"}</td>\r\n                <td width=\"200\">是否需要乘坐校车</td>\r\n                <td width=\"178\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]?\r\n                 userStatus.extraInfoJson[\"是否需要乘坐校车\"]: \"--\"}</td>\r\n            </tr>\r\n        </table>\r\n        {\r\n            Array.isArray(userStatus.guardianJson) &&\r\n            userStatus.guardianJson.map((item, index)=>{\r\n                return (\r\n                    <table className=\"family-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                        {\r\n                            index == 0?\r\n                            <caption>家庭成员或监护人信息</caption>:\r\n                            \"\"\r\n                        }\r\n                        <tr>\r\n                            <td>姓名</td>\r\n                            <td>{item.name? item.name: \"--\"}</td>\r\n                            <td>关系</td>\r\n                            <td>{item.relationship? item.relationship: \"--\"}</td>\r\n                            <td>身份证件类型</td>\r\n                            <td>{item.idCardType? item.idCardType: \"--\"}</td>\r\n                            <td>身份证件号码</td>\r\n                            <td>{item.idCardNum? item.idCardNum: \"--\"}</td> \r\n                        </tr>\r\n                        <tr>\r\n                            <td>民族</td>\r\n                            <td>{item.nation? item.nation: \"--\"}</td>\r\n                            <td>是否监护人</td>\r\n                            <td>{item.isGuardian? item.isGuardian: \"--\"}</td>\r\n                            <td>户口所在地</td>\r\n                            <td>{item.censusPlace? item.censusPlace: \"--\"}</td>\r\n                            <td>联系方式</td>\r\n                            <td>{item.tel? item.tel: \"--\"}</td> \r\n                        </tr>\r\n                        <tr>\r\n                            <td>现住址</td>\r\n                            <td colSpan=\"3\">{item.address? item.address: \"--\"}</td>\r\n                            <td>工作单位</td>\r\n                            <td>{item.serviceUnit? item.serviceUnit: \"--\"}</td>\r\n                            <td>职务</td>\r\n                            <td>{item.position? item.position: \"--\"}</td>\r\n                        </tr>\r\n                        {/* <tr>\r\n                            <td colSpan=\"8\" style={{height: 7}}></td>\r\n                        </tr> */}\r\n                    </table>\r\n                )\r\n            })\r\n        }\r\n        <table className=\"economic-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>家庭经济情况</caption>\r\n            <tr>\r\n                <td>家庭人口</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭人口\"]?\r\n                 userStatus.extraInfoJson[\"家庭人口\"]: \"--\"}</td>\r\n                <td>赡养人口</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"赡养人口\"]?\r\n                 userStatus.extraInfoJson[\"赡养人口\"]: \"--\"}</td>\r\n                <td>家庭年收入</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭年收入\"]?\r\n                 userStatus.extraInfoJson[\"家庭年收入\"]: \"--\"}</td>\r\n                <td>主要收入来源</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"主要收入来源\"]?\r\n                 userStatus.extraInfoJson[\"主要收入来源\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>具备劳动力人数</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"具备劳动力人数\"]?\r\n                 userStatus.extraInfoJson[\"具备劳动力人数\"]: \"--\"}</td>\r\n                <td>是否低保</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否低保\"]?\r\n                 userStatus.extraInfoJson[\"是否低保\"]: \"--\"}</td>\r\n                <td>就学地低保线</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"就学地低保线\"]?\r\n                 userStatus.extraInfoJson[\"就学地低保线\"]: \"--\"}</td>\r\n                <td>困难程度</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"困难程度\"]?\r\n                 userStatus.extraInfoJson[\"困难程度\"]: \"--\"}</td> \r\n            </tr>\r\n            <tr>\r\n                <td>是否父母丧失劳动能力</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否父母丧失劳动能力\"]?\r\n                 userStatus.extraInfoJson[\"是否父母丧失劳动能力\"]: \"--\"}</td>\r\n                <td>是否农村绝对贫困家庭</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否农村绝对贫困家庭\"]?\r\n                 userStatus.extraInfoJson[\"是否农村绝对贫困家庭\"]: \"--\"}</td>\r\n                <td colSpan=\"3\">是否经民政部门确认的农村特困救助范围的家庭子女</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否经民政部门确认的农村特困救助范围的家庭子女\"]?\r\n                 userStatus.extraInfoJson[\"是否经民政部门确认的农村特困救助范围的家庭子女\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>是否军烈属</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否军烈属\"]?\r\n                 userStatus.extraInfoJson[\"是否军烈属\"]: \"--\"}</td>\r\n                <td>家庭是否五保户</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭是否五保户\"]?\r\n                 userStatus.extraInfoJson[\"家庭是否五保户\"]: \"--\"}</td>\r\n                <td colSpan=\"3\">家庭是否有大病患者</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家中是否有大病患者\"]?\r\n                 userStatus.extraInfoJson[\"家中是否有大病患者\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>家庭是否遭受自然灾害</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭是否遭受自然灾害\"]?\r\n                 userStatus.extraInfoJson[\"家庭是否遭受自然灾害\"]: \"--\"}</td>\r\n                <td colSpan=\"2\">自然灾害具体情况描述</td>\r\n                <td colSpan=\"4\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"自然灾害具体情况描述\"]?\r\n                 userStatus.extraInfoJson[\"自然灾害具体情况描述\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>家庭失业人数</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭失业人数\"]?\r\n                 userStatus.extraInfoJson[\"家庭失业人数\"]: \"--\"}</td>\r\n                <td>家庭欠债金额</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭欠债金额\"]?\r\n                 userStatus.extraInfoJson[\"家庭欠债金额\"]: \"--\"}</td>\r\n                <td>欠债原因</td>\r\n                <td colSpan=\"3\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"欠债原因\"]?\r\n                 userStatus.extraInfoJson[\"欠债原因\"]: \"--\"}</td>\r\n            </tr>\r\n        </table>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n  \r\n  const mapStateToProps = (state) => {\r\n    let {\r\n      commonData: { levelHash, userInfo },\r\n    } = state;\r\n    return { levelHash, userInfo };\r\n  };\r\n  export default connect(mapStateToProps)(memo(forwardRef(StucherCount)));\r\n  ","import {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport { Modal, Empty } from '@/component/common';\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nimport { Loading } from \"../../../component/common\";\r\n\r\nlet { BasicProxy } = ipConfig;\r\n// import { resizeForEcharts } from \"../../../util/public\";\r\nfunction TeacherCount(props, ref) {\r\n  let {\r\n    currentClass,\r\n    currentGrade,\r\n    currentTerm,\r\n    userIdentity,\r\n    userInfo: {SchoolID},\r\n    reflash\r\n  } = props;\r\n  const [countKindList, setCountKindList] = useState([\r\n    '男生',\r\n    '走读生',\r\n    '独生子女',\r\n    '留守儿童',\r\n    '接受过学前教育',\r\n    '贫困生',\r\n    '女生',\r\n    '住宿生',\r\n    '非独生子女',\r\n    '非留守儿童',\r\n    '未接受过学前教育',\r\n    '非贫困生'\r\n  ])\r\n  const [kindDataList, setKindDataList] = useState([]);\r\n  // const [titleDom, setTitleDom] = useState(\"\");\r\n  const [titleDom, setTitleDom] = useState(\"\");\r\n  const [statusInfo, setStatusInfo] = useState({});\r\n  const [currentKind, setCurrentKind] = useState({});\r\n  const [isEmpty, setIsEmpty] = useState(false);\r\n  const [loadVisible, setLoadVisible] = useState(true);\r\n  const [stuStatusVisible, setStuStatusVisible] = useState(false);\r\n  //弹出框学生列表\r\n  const [modalStuList, setModalStuList] = useState([]);\r\n  \r\n  useLayoutEffect(() => {\r\n    let url, classId = \"\", gradeId = \"\";\r\n    if(userIdentity == \"manager\" && !SchoolID){\r\n      return;\r\n    }\r\n    if(userIdentity == \"teacher\" && !currentClass){\r\n      return;\r\n    }\r\n    // if(userIdentity == \"manager\" && !currentGrade ){\r\n    //   return;\r\n    // }\r\n    if(userIdentity == \"teacher\"){\r\n      url = BasicProxy + \"/api/status/class?classId=\" + currentClass;\r\n    }\r\n    if(userIdentity == \"manager\"){\r\n      if(currentClass){\r\n        url = BasicProxy + \"/api/status/class?classId=\" + currentClass;\r\n      }\r\n      if(!currentClass && currentGrade){\r\n        url = BasicProxy + \"/api/status/grade?gradeId=\" + currentGrade;\r\n      }\r\n      if(!currentClass && !currentGrade){\r\n        url = BasicProxy + \"/api/status/school?schoolId=\" + SchoolID;\r\n      } \r\n    }\r\n    setLoadVisible(true);\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && result.data){\r\n        let arr = [];\r\n        countKindList.forEach((item)=>{\r\n          if(item == \"男生\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.maleNum,\r\n              dataList: result.data.maleList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"女生\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.femaleNum,\r\n              dataList: result.data.femaleList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"走读生\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.dayNum,\r\n              dataList: result.data.dayList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"住宿生\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.boardNum,\r\n              dataList: result.data.boardList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"独生子女\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.onlyChildNum,\r\n              dataList: result.data.onlyChildList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"非独生子女\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.notOnlyChildNum,\r\n              dataList: result.data.notOnlyChildList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"留守儿童\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.leftChildNum,\r\n              dataList: result.data.leftChildList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"非留守儿童\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.notLeftChildNum,\r\n              dataList: result.data.notLeftChildList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"接受过学前教育\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.acceptPreSchoolNum,\r\n              dataList: result.data.acceptPreSchoolList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"未接受过学前教育\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.notAcceptPreSchoolNum,\r\n              dataList: result.data.notAcceptPreSchoolList\t\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"贫困生\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.poorNum,\r\n              dataList: result.data.poorList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"非贫困生\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.notPoorNum,\r\n              dataList: result.data.notPoorList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n        })\r\n        setStatusInfo(result.data);\r\n        setKindDataList(arr);\r\n      }\r\n      setLoadVisible(false);\r\n    })\r\n  }, [currentClass, currentGrade, currentTerm, userIdentity, SchoolID, reflash])\r\n  useEffect(()=>{\r\n    if(!document.getElementById(\"age-position-echart\")){\r\n      return;\r\n    }\r\n    let ageData = [];\r\n    //求出年龄分布\r\n    for(let x in statusInfo.ageDistribution){\r\n      let obj = {\r\n        name: x,\r\n        value: statusInfo.ageDistribution[x]\r\n      }\r\n      ageData.push(obj);\r\n    }\r\n    let myEchart = echarts.init(document.getElementById(\"age-position-echart\"));\r\n    myEchart.resize();\r\n    let option = {\r\n      tooltip: {\r\n          trigger: 'item'\r\n      },\r\n      grid: {\r\n          top: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          left: 0\r\n      },\r\n      title: {\r\n          text: '年龄分布图',\r\n          left: 'center',\r\n          top: '85%',\r\n          textStyle: {\r\n              padding: [0, 0, 30, 0],\r\n              fontSize: 14,\r\n          }\r\n      },\r\n      backgroundColor: {\r\n        type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n        x: 0.5,  //x，y控制渐变的圆心\r\n        y: 0.45, \r\n        r: 0.35, //半径\r\n        //颜色配置\r\n        colorStops: [\r\n          {\r\n            offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n            color: 'white', // 0% 处的颜色\r\n          },\r\n          {\r\n            offset: 0.65,\r\n            color: 'white',\r\n          },\r\n          {\r\n            offset: 0.66,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.8,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'transparent',\r\n          },\r\n          {\r\n            offset: 1,\r\n            color: 'transparent', // 100% 处的颜色\r\n          },\r\n        ],\r\n      },\r\n      color: ['#89df89', '#f77575', '#71add8', '#2d3047', '#ffb782', 'pink'],\r\n      series: [\r\n        {\r\n          type: 'pie',\r\n          radius: ['25%', '60%'],\r\n          center: ['50%', '45%'],\r\n          minAngle: 25,\r\n          avoidLabelOverlap: false,\r\n          label: {\r\n              show: true\r\n          },\r\n          emphasis: {\r\n              itemStyle: {\r\n                  borderWidth: 10,\r\n                  borderColor: 'rgba(0, 0, 0, 0.05)'\r\n              },\r\n          },\r\n          \r\n          data: ageData\r\n        }\r\n      ]\r\n    };         \r\n    myEchart.setOption(option, true);\r\n    window.addEventListener(\"resize\", function(){\r\n      myEchart.resize();\r\n    })\r\n  }, [statusInfo]);\r\n  useEffect(()=>{\r\n    if(!document.getElementById(\"native-position-echart\")){\r\n      return;\r\n    }\r\n    let nativePlace = [];\r\n    //求出籍贯分布\r\n    for(let x in statusInfo.nativePlaceDistribution){\r\n      let obj = {\r\n        name: x,\r\n        value: statusInfo.nativePlaceDistribution[x]\r\n      }\r\n      nativePlace.push(obj);\r\n    }\r\n    let myEchart2 = echarts.init(document.getElementById(\"native-position-echart\"));\r\n    myEchart2.resize();\r\n    let option2 = {\r\n      tooltip: {\r\n          trigger: 'item'\r\n      },\r\n      grid: {\r\n          top: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          left: 0\r\n      },\r\n      title: {\r\n          text: '籍贯分布图',\r\n          left: 'center',\r\n          top: '85%',\r\n          textStyle: {\r\n              padding: [0, 0, 30, 0],\r\n              fontSize: 14,\r\n          }\r\n      },\r\n      backgroundColor: {\r\n        type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n        x: 0.5,  //x，y控制渐变的圆心\r\n        y: 0.45, \r\n        r: 0.35, //半径\r\n        //颜色配置\r\n        colorStops: [\r\n          {\r\n            offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n            color: 'white', // 0% 处的颜色\r\n          },\r\n          {\r\n            offset: 0.65,\r\n            color: 'white',\r\n          },\r\n          {\r\n            offset: 0.66,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.8,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'transparent',\r\n          },\r\n          {\r\n            offset: 1,\r\n            color: 'transparent', // 100% 处的颜色\r\n          },\r\n        ],\r\n      },\r\n      color: ['#89df89', '#f77575', '#71add8', '#2d3047', '#ffb782', 'pink'],\r\n      series: [\r\n        {\r\n          // name: '访问来源',\r\n          type: 'pie',\r\n          radius: ['25%', '60%'],\r\n          center: ['50%', '45%'],\r\n          minAngle: 25,\r\n          avoidLabelOverlap: false,\r\n          label: {\r\n              show: true\r\n          },\r\n          emphasis: {\r\n              itemStyle: {\r\n                  borderWidth: 10,\r\n                  borderColor: 'rgba(0, 0, 0, 0.05)'\r\n              },\r\n          },\r\n          \r\n          data: nativePlace\r\n        }\r\n      ]\r\n    };             \r\n    myEchart2.setOption(option2, true);\r\n    window.addEventListener(\"resize\", function(){\r\n      myEchart2.resize();\r\n    })\r\n  }, [statusInfo]);\r\n  useEffect(()=>{\r\n    if(!document.getElementById(\"nation-position-echart\")){\r\n      return;\r\n    }\r\n    let nationData = [];\r\n    //求出民族分布\r\n    for(let x in statusInfo.nationDistribution){\r\n      let obj = {\r\n        name: x,\r\n        value: statusInfo.nationDistribution[x]\r\n      }\r\n      nationData.push(obj);\r\n    }\r\n    let myEchart3 = echarts.init(document.getElementById(\"nation-position-echart\"));\r\n    myEchart3.resize();   \r\n    let option3 = {\r\n      tooltip: {\r\n          trigger: 'item'\r\n      },\r\n      grid: {\r\n          top: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          left: 0\r\n      },\r\n      title: {\r\n          text: '民族分布图',\r\n          left: 'center',\r\n          top: '85%',\r\n          textStyle: {\r\n              padding: [0, 0, 30, 0],\r\n              fontSize: 14,\r\n          }\r\n      },\r\n      backgroundColor: {\r\n        type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n        x: 0.5,  //x，y控制渐变的圆心\r\n        y: 0.45, \r\n        r: 0.35, //半径\r\n        //颜色配置\r\n        colorStops: [\r\n          {\r\n            offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n            color: 'white', // 0% 处的颜色\r\n          },\r\n          {\r\n            offset: 0.65,\r\n            color: 'white',\r\n          },\r\n          {\r\n            offset: 0.66,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.8,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'transparent',\r\n          },\r\n          {\r\n            offset: 1,\r\n            color: 'transparent', // 100% 处的颜色\r\n          },\r\n        ],\r\n      },\r\n      color: ['#89df89', '#f77575', '#71add8', '#2d3047', '#ffb782', 'pink'],\r\n      series: [\r\n        {\r\n          type: 'pie',\r\n          radius: ['25%', '60%'],\r\n          center: ['50%', '45%'],\r\n          minAngle: 25,\r\n          avoidLabelOverlap: false,\r\n          label: {\r\n              show: true\r\n          },\r\n          emphasis: {\r\n              itemStyle: {\r\n                  borderWidth: 10,\r\n                  borderColor: 'rgba(0, 0, 0, 0.05)'\r\n              },\r\n          },\r\n          \r\n          data: nationData\r\n        }\r\n      ]\r\n    };             \r\n\r\n    myEchart3.setOption(option3, true);\r\n    window.addEventListener(\"resize\", function(){\r\n\r\n      myEchart3.resize();\r\n    })\r\n  }, [statusInfo]);\r\n  useEffect(()=>{\r\n    if(!document.getElementById(\"nationality-position-echart\")){\r\n      return;\r\n    }\r\n    let nationality = [];\r\n    //求出国籍分布\r\n    for(let x in statusInfo.nationalityDistribution){\r\n      let obj = {\r\n        name: x,\r\n        value: statusInfo.nationalityDistribution[x]\r\n      }\r\n      nationality.push(obj);\r\n    }\r\n    let myEchart4 = echarts.init(document.getElementById(\"nationality-position-echart\"));\r\n    myEchart4.resize();    \r\n    let option4 = {\r\n      tooltip: {\r\n          trigger: 'item'\r\n      },\r\n      grid: {\r\n          top: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          left: 0\r\n      },\r\n      title: {\r\n          text: '国籍分布图',\r\n          left: 'center',\r\n          top: '85%',\r\n          textStyle: {\r\n              padding: [0, 0, 30, 0],\r\n              fontSize: 14,\r\n          }\r\n      },\r\n      backgroundColor: {\r\n        type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n        x: 0.5,  //x，y控制渐变的圆心\r\n        y: 0.45, \r\n        r: 0.35, //半径\r\n        //颜色配置\r\n        colorStops: [\r\n          {\r\n            offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n            color: 'white', // 0% 处的颜色\r\n          },\r\n          {\r\n            offset: 0.65,\r\n            color: 'white',\r\n          },\r\n          {\r\n            offset: 0.66,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.8,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'transparent',\r\n          },\r\n          {\r\n            offset: 1,\r\n            color: 'transparent', // 100% 处的颜色\r\n          },\r\n        ],\r\n      },\r\n      color: ['#89df89', '#f77575', '#71add8', '#2d3047', '#ffb782', 'pink'],\r\n      series: [\r\n        {\r\n          type: 'pie',\r\n          radius: ['25%', '60%'],\r\n          center: ['50%', '45%'],\r\n          minAngle: 25,\r\n          avoidLabelOverlap: false,\r\n          label: {\r\n              show: true\r\n          },\r\n          emphasis: {\r\n              itemStyle: {\r\n                  borderWidth: 10,\r\n                  borderColor: 'rgba(0, 0, 0, 0.05)'\r\n              },\r\n          },\r\n          \r\n          data: nationality\r\n        }\r\n      ]\r\n    };           \r\n    myEchart4.setOption(option4, true);\r\n    window.addEventListener(\"resize\", function(){\r\n      myEchart4.resize();\r\n    })\r\n  }, [statusInfo]);\r\n  // useEffect(()=>{\r\n  //   setTitleDom(<p style={{padding: 0, margin: 0}}>学籍统计<span>-{currentKind.key}</span></p>);\r\n  // }, [currentKind, modalStuList])\r\n  let ageData = [];\r\n  //求出年龄分布\r\n  for(let x in statusInfo.ageDistribution){\r\n    let obj = {\r\n      name: x,\r\n      value: statusInfo.ageDistribution[x]\r\n    }\r\n    ageData.push(obj);\r\n  }\r\n  let nativePlace = [];\r\n    //求出籍贯分布\r\n    for(let x in statusInfo.nativePlaceDistribution){\r\n      let obj = {\r\n        name: x,\r\n        value: statusInfo.nativePlaceDistribution[x]\r\n      }\r\n      nativePlace.push(obj);\r\n    }\r\n    let nationData = [];\r\n    //求出民族分布\r\n    for(let x in statusInfo.nationDistribution){\r\n      let obj = {\r\n        name: x,\r\n        value: statusInfo.nationDistribution[x]\r\n      }\r\n      nationData.push(obj);\r\n    }\r\n    let nationality = [];\r\n    //求出国籍分布\r\n    for(let x in statusInfo.nationalityDistribution){\r\n      let obj = {\r\n        name: x,\r\n        value: statusInfo.nationalityDistribution[x]\r\n      }\r\n      nationality.push(obj);\r\n    }\r\n    useLayoutEffect(() => {\r\n      // titleDom = \"学籍统计\" + <span>{\"-\" + currentKind.key}</span>\r\n    }, [currentKind])\r\n  return (\r\n    <div className={`TeacherCount`}>\r\n      <Loading\r\n      opacity={false}\r\n      tip=\"加载中...\"\r\n      spinning={loadVisible}>\r\n        <div className=\"count-status\">\r\n        <div className=\"count-status-left\">\r\n          <div className=\"all-count\">{\r\n          userIdentity == \"teacher\"? \r\n          statusInfo.classSize:\r\n          currentClass?\r\n          statusInfo.classSize:\r\n          currentGrade?\r\n          statusInfo.gradeSize:\r\n          statusInfo.schoolSize\r\n        }</div>\r\n          <p>总人数</p>\r\n        </div>\r\n        <div className=\"slice-line\"></div>\r\n        <div className=\"count-status-right\">\r\n          {\r\n            Array.isArray(countKindList) &&\r\n            // countKindList.map((item)=>{\r\n              kindDataList.map((item, index)=>{\r\n                return (\r\n                  <div \r\n                  className={\"count-kind-one \" + (index > 5? \"orange\": \"\")}\r\n                  key={index}\r\n                  onClick={()=>{\r\n                    setCurrentKind(item);\r\n                    setModalStuList(item.dataList);\r\n                    setStuStatusVisible(true);\r\n                    \r\n                  }}\r\n                  >\r\n                    <p>{item.key}</p>\r\n                    <p className=\"kind-one-num\">{item.num}</p>\r\n                  </div>\r\n                )\r\n              })\r\n              \r\n            // })\r\n          }\r\n        </div>\r\n      </div>\r\n      \r\n      </Loading>\r\n      \r\n      {\r\n        ageData.length == 0 && nativePlace.length == 0 && nationality.length == 0 && nationData.length == 0?\r\n        \"\":\r\n        // <Empty\r\n        // // className={\"bar-empty\"}\r\n        // style={{margin: \"20px 0\"}}\r\n        // title={\"暂无数据\"}\r\n        // type={\"4\"}\r\n        // ></Empty>:\r\n        <div className=\"kind-position\">\r\n          <div className=\"x-line\"></div>\r\n          <div className=\"y-line\"></div>\r\n          <div className=\"age-position-echart\" id=\"age-position-echart\"></div>\r\n          <div className=\"native-position-echart\" id=\"native-position-echart\"></div>\r\n          <div className=\"nation-position-echart\" id=\"nation-position-echart\"></div>\r\n          <div className=\"nationality-position-echart\" id=\"nationality-position-echart\"></div>\r\n        </div>\r\n      }\r\n      \r\n      <Modal\r\n        type=\"1\"\r\n        title={\"学籍统计\"}\r\n        visible={stuStatusVisible}\r\n        onOk={()=>setStuStatusVisible(true)}\r\n        onCancel={()=>setStuStatusVisible(false)}\r\n        footer={null}\r\n        destroyOnClose={false}\r\n        width={576}\r\n        className=\"stu-member-info\"\r\n        bodyStyle={{height: 432 + 'px', padding: '20px 36px'}}\r\n      >\r\n        <p className=\"stu-count\">共<span>{\r\n          modalStuList.length\r\n          }</span>人</p>\r\n        <ul className=\"member-list\">\r\n          <Scrollbars \r\n          autoHeight\r\n          autoHeightMax={350}>\r\n            {\r\n              modalStuList.length > 0?\r\n              modalStuList.map((item, index)=>{\r\n                return (\r\n                <li key={index}>\r\n                  <i className=\"user-header\" style={{\r\n                    backgroundImage:\r\n                    (\r\n                      item.photo?\r\n                      item.photo:\r\n                      \"\"\r\n                    )\r\n                  }}></i>\r\n                  <p title={item.studentName}>{item.studentName}</p>\r\n                </li>\r\n                )\r\n              }):\r\n              <Empty\r\n              className={\"bar-empty\"}\r\n              style={{margin: \"80px 0 0\"}}\r\n              title={\"暂无数据\"}\r\n              type={\"4\"}\r\n              ></Empty>\r\n            }\r\n          \r\n          </Scrollbars>\r\n          \r\n        </ul>  \r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: { levelHash, userInfo },\r\n  } = state;\r\n  return { levelHash, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(TeacherCount)));\r\n","import React, {\r\n    useState,\r\n    useEffect\r\n} from \"react\";\r\nimport \"./index.scss\";\r\n\r\nfunction Flag(props) {\r\n    let {\r\n        type,\r\n        left,\r\n        direction,\r\n        dataType,\r\n        data,\r\n        userIdentity,\r\n        dataList\r\n    } = props;\r\n    \r\n    // const [dataList, setDataList] = useState([]);\r\n    \r\n    // console.log(updateDataList, \"轨迹\");\r\n    // console.log(\"轨迹信息\", dataType, dataList);\r\n    return (\r\n        <div \r\n        className={\r\n            direction == 'top'?\r\n            type == 'red'? 'top-flag-red': type == 'green'? 'top-flag-green': 'top-flag-blue':\r\n            type == 'red'? 'bottom-flag-red': type == 'green'? 'bottom-flag-green': 'bottom-flag-blue'\r\n        }\r\n        style={{\r\n            left: left\r\n        }}\r\n        >\r\n            {\r\n                data && Array.isArray(data) &&\r\n                data.length > 0?\r\n                data.map((item, index)=>{\r\n                    return (\r\n                    <div key={index}>\r\n                        <div className=\"flag-circle\">\r\n                        <div className=\"in-circle\"></div>\r\n                        </div>\r\n                        <div className=\"flag-line\"></div>\r\n                        <div className=\"flag-content\">\r\n                            <p className=\"content-title\">\r\n                                <span title={item.time}>{item.time}</span>\r\n                                {\r\n                                    item.eventType?\r\n                                    <span \r\n                                    title={\r\n                                        dataType == \"awardAndPunish\"?\r\n                                        item.eventType == 1? \"奖励信息\": \"处罚信息\":\r\n                                        item.eventType == 1? \"上网\": item.eventType == 2? \"消费\": \"社交\"\r\n                                    }>\r\n                                    {\r\n                                        dataType == \"awardAndPunish\"?\r\n                                        item.eventType == 1? \"奖励信息\": \"处罚信息\":\r\n                                        item.eventType == 1? \"上网\": item.eventType == 2? \"消费\": \"社交\"\r\n                                    }\r\n                                    </span>:\r\n                                    \"\"\r\n                                }\r\n                                \r\n                            </p>\r\n                            <p \r\n                            className=\"content-details\"\r\n                            title={item.content}\r\n                            >{item.content}</p>\r\n                        </div>\r\n                    </div>\r\n                    )\r\n                })\r\n                :\r\n                \"\"\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Flag;","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n * @Author: pengzhiwen\r\n * @LastEditors: pengzhiwen\r\n * @Description: 轨迹组件\r\n */\r\nimport React, {\r\n    useState,\r\n    useEffect\r\n} from \"react\";\r\nimport Flag from \"./flag\";\r\nimport {Carousel} from \"antd\";\r\nimport {Empty} from \"../common\"\r\nimport \"./index.scss\";\r\n\r\nfunction Track(props) {\r\n    //type是区别模块\r\n    let {\r\n        type,\r\n        userIdentity,\r\n        data\r\n    } = props;\r\n    //暂时只显示6个\r\n    const [showEmpty, setShowEmpty] = useState(false);\r\n    // const [dataList, setDataList] = useState([]);\r\n    data = Array.isArray(data) && data.slice(data.length - 6,);\r\n    let circleList = [], flagList = [];\r\n    for(let i = 0; i < 34; i++){\r\n        circleList.push(\r\n            <div className=\"circle-one\"></div>\r\n        )\r\n    }\r\n    // useEffect(()=>{\r\n        let arr = [];\r\n        data.forEach((item)=>{\r\n            if(type == \"baseMsg\"){\r\n                let obj = {\r\n                    time: item.recordDate,\r\n                    content: item.content\r\n                }\r\n                arr.push(obj);\r\n            }\r\n            if(type == \"stuConditionMsg\"){\r\n                let str = \"\";\r\n                if(item.examScore){\r\n                    str += \"考试分数\" + item.late + \"分，\";\r\n                }\r\n                if(item.homeworkScore){\r\n                    str += \"日常作业平均分数\" + item.homeworkScore + \"分，\";\r\n                }\r\n                if(item.performanceScore){\r\n                    str += \"课堂表现总分数\" + item.performanceScore + \"分\";\r\n                }\r\n                let obj = {\r\n                    time: item.date,\r\n                    content: str\r\n                }\r\n                arr.push(obj);\r\n            }\r\n            if(type == \"attendanceMsg\"){\r\n                let str = \"\";\r\n                if(userIdentity != \"student\"){\r\n                    if(item.late){\r\n                        str += \"迟到人数\" + item.late + \"人，\";\r\n                    }\r\n                    if(item.absent){\r\n                        str += \"缺勤人数\" + item.absent + \"人，\";\r\n                    }\r\n                    if(item.leaveEarly){\r\n                        str += \"早退人数\" + item.leaveEarly + \"人，\";\r\n                    }\r\n                    if(item.vacate){\r\n                        str += \"请假人数\" + item.vacate + \"人\";\r\n                    }\r\n                }\r\n                else {\r\n                    if(item.late){\r\n                        str += \"迟到\" + item.late + \"次，\";\r\n                    }\r\n                    if(item.absent){\r\n                        str += \"缺勤\" + item.absent + \"次，\";\r\n                    }\r\n                    if(item.leaveEarly){\r\n                        str += \"早退\" + item.leaveEarly + \"次，\";\r\n                    }\r\n                    if(item.vacate){\r\n                        str += \"请假\" + item.vacate + \"次\";\r\n                    }\r\n                }\r\n                if(str[str.length - 1] == \"，\"){\r\n                    str = str.substr(0, str.length - 1);\r\n                }\r\n                let obj = {\r\n                    time: item.date,\r\n                    content: str\r\n                }\r\n                arr.push(obj);\r\n            }\r\n            if(type == \"awardAndPunish\"){\r\n                if(userIdentity == \"student\"){\r\n                    let obj = {\r\n                        time: item.eventTime,\r\n                        content: (\r\n                            item.eventName?\r\n                            item.eventType == 1?\r\n                            \"获得\" + item.eventName:\r\n                            (item.eventReason? \"因为\" + item.eventReason: \"\") + \r\n                            (\"受到\" + item.eventName):\r\n                            \"\"\r\n                        ),\r\n                        eventType: item.eventType\r\n                    }\r\n                    arr.push(obj);\r\n                } else {\r\n                    let obj = {\r\n                        time: item.eventTime,\r\n                        content: (\r\n                            item.eventName?\r\n                            item.eventType == 1?\r\n                            item.userName + \"获得\" + item.eventName:\r\n                            item.userName + \r\n                            (item.eventReason? \"因为\" + item.eventReason: \"\") + \r\n                            (\"受到\" + item.eventName):\r\n                            \"\"\r\n                        ),\r\n                        eventType: item.eventType\r\n                    }\r\n                    arr.push(obj);\r\n                }\r\n                \r\n            }\r\n            if(type == \"schoolLiveMsg\"){\r\n                if(userIdentity == \"student\"){\r\n                    let obj = {\r\n                        time: item.eventTime,\r\n                        content: item.eventName,\r\n                        eventType: item.eventType\r\n                    }\r\n                    arr.push(obj);\r\n                } else {\r\n                    let obj = {\r\n                        time: item.eventTime,\r\n                        content: (\r\n                            item.eventName?\r\n                            item.userName + item.eventName:\r\n                            \"\"\r\n                        ),\r\n                        eventType: item.eventType\r\n                    }\r\n                    arr.push(obj);\r\n                }\r\n                \r\n            }\r\n        })\r\n        // setDataList(arr);\r\n    // }, [type, data])\r\n    let dataList = arr;\r\n    let updateDataList = [];\r\n    dataList.forEach((item)=>{\r\n        if(item.content){\r\n            updateDataList.push(item);\r\n        }\r\n    })\r\n    console.log(dataList, \"轨迹\")\r\n   if(Array.isArray(dataList) && dataList.length){\r\n    dataList.forEach((item, j)=>{\r\n        j = j + 1;\r\n        flagList.push(\r\n            <Flag\r\n            userIdentity={userIdentity}\r\n            dataType={type}\r\n            direction={j%2 == 0? 'bottom': 'top'}\r\n            type={j%3 == 0? 'red': j%3 == 2? 'green': 'blue'}\r\n            left={j == 1? -5 + j*112: j*140 - 33}\r\n            data={[item]}\r\n            ></Flag>\r\n        )\r\n    })\r\n   }\r\n    return (\r\n        <div className=\"track-show\">\r\n            {\r\n                updateDataList && Array.isArray(updateDataList) &&\r\n                updateDataList.length > 0?\r\n                <div className=\"circle-container\">\r\n                    {flagList}\r\n                    {circleList}\r\n                </div>\r\n                :\r\n                <Empty\r\n                // className={\"bar-empty\"}\r\n                style={{position: 'relative', top: '80px'}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Track;","import React, {\r\n    useLayoutEffect,\r\n    useEffect,\r\n    useState,\r\n    useRef\r\n} from \"react\";\r\n\r\nfunction StuStatistic(props){\r\n    let {\r\n        data\r\n    } = props;\r\n    const [userStatus, setUserStatus] = useState(data? data: {});\r\n    return (\r\n        <div className=\"stu-statistic-template\">\r\n            <table className=\"base-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>基本信息及辅助信息</caption>\r\n            <tr>\r\n                <td>姓名</td>\r\n                <td title={userStatus.studentName? userStatus.studentName: \"--\"}>\r\n                    {userStatus.studentName? userStatus.studentName: \"--\"}\r\n                </td>\r\n                <td>性别</td>\r\n                <td title={userStatus.gender? userStatus.gender: \"--\"}>\r\n                    {userStatus.gender? userStatus.gender: \"--\"}\r\n                </td>\r\n                <td>出生日期</td>\r\n                <td title={userStatus.dateOfBirth? userStatus.dateOfBirth: \"--\"}>\r\n                    {userStatus.dateOfBirth? userStatus.dateOfBirth: \"--\"}\r\n                </td>\r\n                <td>出生地</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"出生地\"]?\r\n                 userStatus.extraInfoJson[\"出生地\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"出生地\"]?\r\n                    userStatus.extraInfoJson[\"出生地\"]: \"--\"}\r\n                </td> \r\n            <td rowSpan=\"6\" style={{\r\n                backgroundImage: `url(${userStatus.photoPath})`,\r\n                backgroundSize: `calc(100% - 24px) calc(100% - 24px)`,\r\n                backgroundRepeat: 'no-repeat',\r\n                backgroundPosition: 'center center'\r\n            }}></td>\r\n            </tr>\r\n            <tr>\r\n                <td>籍贯</td>\r\n                <td title={userStatus.nativePlace? userStatus.nativePlace: \"--\"}>\r\n                    {userStatus.nativePlace? userStatus.nativePlace: \"--\"}\r\n                </td>\r\n                <td>民族</td>\r\n                <td title={userStatus.nation? userStatus.nation: \"--\"}>\r\n                    {userStatus.nation? userStatus.nation: \"--\"}\r\n                </td>\r\n                <td>国籍/地区</td>\r\n                <td title={userStatus.nationality? userStatus.nationality: \"--\"}>\r\n                    {userStatus.nationality? userStatus.nationality: \"--\"}\r\n                </td>\r\n                <td>身份证件类型</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"身份证件类型\"]?\r\n                 userStatus.extraInfoJson[\"身份证件类型\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"身份证件类型\"]?\r\n                    userStatus.extraInfoJson[\"身份证件类型\"]: \"--\"}\r\n                </td> \r\n            </tr>\r\n            <tr>\r\n                <td>身份证件号码</td>\r\n                <td colSpan=\"3\" title={userStatus.identityNum? userStatus.identityNum: \"--\"}>\r\n                    {userStatus.identityNum? userStatus.identityNum: \"--\"}\r\n                </td>\r\n                <td>港澳台侨胞</td>\r\n                <td title={userStatus.overseaPeople? userStatus.overseaPeople: \"--\"}>\r\n                    {userStatus.overseaPeople? userStatus.overseaPeople: \"--\"}\r\n                </td>\r\n                <td>政治面貌</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"政治面貌\"]?\r\n                 userStatus.extraInfoJson[\"政治面貌\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"政治面貌\"]?\r\n                    userStatus.extraInfoJson[\"政治面貌\"]: \"--\"}\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>健康状况</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"健康状况\"]?\r\n                 userStatus.extraInfoJson[\"健康状况\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"健康状况\"]?\r\n                    userStatus.extraInfoJson[\"健康状况\"]: \"--\"}\r\n                </td>\r\n                <td>姓名拼音</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"姓名拼音\"]?\r\n                 userStatus.extraInfoJson[\"姓名拼音\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"姓名拼音\"]?\r\n                    userStatus.extraInfoJson[\"姓名拼音\"]: \"--\"}\r\n                </td>\r\n                <td>曾用名</td>\r\n                <td title={userStatus.formerName? userStatus.formerName: \"--\"}>\r\n                    {userStatus.formerName? userStatus.formerName: \"--\"}\r\n                </td>\r\n                <td>身份证件有效期</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"身份证件有效期\"]?\r\n                 userStatus.extraInfoJson[\"身份证件有效期\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"身份证件有效期\"]?\r\n                    userStatus.extraInfoJson[\"身份证件有效期\"]: \"--\"}\r\n                </td> \r\n            </tr>\r\n            <tr>\r\n                <td>户口所在地</td>\r\n                <td title={userStatus.censusPlace? userStatus.censusPlace: \"--\"}>\r\n                    {userStatus.censusPlace? userStatus.censusPlace: \"--\"}\r\n                </td>\r\n                <td>特长</td>\r\n                <td colSpan=\"5\" title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"特长\"]?\r\n                 userStatus.extraInfoJson[\"特长\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"特长\"]?\r\n                    userStatus.extraInfoJson[\"特长\"]: \"--\"}\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>学籍辅号</td>\r\n                <td title={userStatus.studentId? userStatus.studentId: \"--\"}>\r\n                    {userStatus.studentId? userStatus.studentId: \"--\"}\r\n                </td>\r\n                <td>班内学号</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"班内学号\"]?\r\n                 userStatus.extraInfoJson[\"班内学号\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"班内学号\"]?\r\n                    userStatus.extraInfoJson[\"班内学号\"]: \"--\"}\r\n                </td>\r\n                <td>年级</td>\r\n                <td title={userStatus.gradeName? userStatus.gradeName: \"--\"}>\r\n                    {userStatus.gradeName? userStatus.gradeName: \"--\"}\r\n                </td>\r\n                <td>班级</td>\r\n                <td title={userStatus.className? userStatus.className: \"--\"}>\r\n                    {userStatus.className? userStatus.className: \"--\"}\r\n                </td> \r\n            </tr>\r\n            <tr>\r\n                <td>入学年月</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"入学年月\"]?\r\n                 userStatus.extraInfoJson[\"入学年月\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"入学年月\"]?\r\n                    userStatus.extraInfoJson[\"入学年月\"]: \"--\"}\r\n                </td>\r\n                <td>入学方式</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"入学方式\"]?\r\n                 userStatus.extraInfoJson[\"入学方式\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"入学方式\"]?\r\n                    userStatus.extraInfoJson[\"入学方式\"]: \"--\"}\r\n                </td>\r\n                <td>就读方式</td>\r\n                <td title={userStatus.studyingWay? userStatus.studyingWay: \"--\"}>\r\n                    {userStatus.studyingWay? userStatus.studyingWay: \"--\"}\r\n                </td>\r\n                <td>学生来源</td>\r\n                <td colSpan=\"2\" title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"学生来源\"]?\r\n                 userStatus.extraInfoJson[\"学生来源\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"学生来源\"]?\r\n                    userStatus.extraInfoJson[\"学生来源\"]: \"--\"}\r\n                </td> \r\n            </tr>\r\n        </table>\r\n        <table className=\"person-link\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>个人联系方式</caption>\r\n            <tr>\r\n                <td>现住址</td>\r\n                <td colSpan=\"3\" title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"现住址\"]?\r\n                 userStatus.extraInfoJson[\"现住址\"]: \"--\"}>\r\n                     {userStatus.extraInfoJson && userStatus.extraInfoJson[\"现住址\"]?\r\n                    userStatus.extraInfoJson[\"现住址\"]: \"--\"}\r\n                </td>\r\n                <td>通信地址</td>\r\n                <td colSpan=\"3\" title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"通讯地址\"]?\r\n                 userStatus.extraInfoJson[\"通讯地址\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"通讯地址\"]?\r\n                    userStatus.extraInfoJson[\"通讯地址\"]: \"--\"}\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>家庭地址</td>\r\n                <td colSpan=\"3\" title={userStatus.homeAddress? userStatus.homeAddress: \"--\"}>\r\n                     {userStatus.homeAddress? userStatus.homeAddress: \"--\"}\r\n                 </td>\r\n                <td>联系电话</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"联系电话\"]?\r\n                 userStatus.extraInfoJson[\"联系电话\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"联系电话\"]?\r\n                    userStatus.extraInfoJson[\"联系电话\"]: \"--\"}\r\n                </td>\r\n                <td>邮政编码</td>\r\n                <td title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"邮政编号\"]?\r\n                 userStatus.extraInfoJson[\"邮政编号\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"邮政编号\"]?\r\n                    userStatus.extraInfoJson[\"邮政编号\"]: \"--\"}\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>电子邮箱</td>\r\n                <td colSpan=\"3\" title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"电子邮箱\"]?\r\n                 userStatus.extraInfoJson[\"电子邮箱\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"电子邮箱\"]?\r\n                    userStatus.extraInfoJson[\"电子邮箱\"]: \"--\"}\r\n                </td>\r\n                <td>主页地址</td>\r\n                <td colSpan=\"3\" title={userStatus.extraInfoJson && userStatus.extraInfoJson[\"主页地址\"]?\r\n                 userStatus.extraInfoJson[\"主页地址\"]: \"--\"}>\r\n                    {userStatus.extraInfoJson && userStatus.extraInfoJson[\"主页地址\"]?\r\n                    userStatus.extraInfoJson[\"主页地址\"]: \"--\"}\r\n                </td>\r\n            </tr>\r\n        </table>\r\n        <table className=\"person-more-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>个人扩展信息</caption>\r\n            <tr>\r\n                <td width=\"200\">是否独生子女</td>\r\n                <td width=\"85\">{userStatus.isOnlychild? userStatus.isOnlychild: \"--\"}</td>\r\n                <td width=\"200\">是否受过学前教育</td>\r\n                <td width=\"85\">{userStatus.isAcceptpreschool? userStatus.isAcceptpreschool: \"--\"}</td>\r\n                <td width=\"200\">是否留守儿童</td>\r\n                <td width=\"85\">{userStatus.isLeftbehindchild? userStatus.isLeftbehindchild: \"--\"}</td>\r\n                <td width=\"200\">是否进城务工人员随迁子女</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否进城务工人员随迁子女\"]?\r\n                 userStatus.extraInfoJson[\"是否进城务工人员随迁子女\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td width=\"200\">是否孤儿</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否孤儿\"]?\r\n                 userStatus.extraInfoJson[\"是否孤儿\"]: \"--\"}</td>\r\n                <td width=\"200\">是否烈士或优抚子女</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否烈士或优抚子女\"]?\r\n                 userStatus.extraInfoJson[\"是否烈士或优抚子女\"]: \"--\"}</td>\r\n                <td width=\"200\">随班就读</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"随班就读\"]?\r\n                 userStatus.extraInfoJson[\"随班就读\"]: \"--\"}</td>\r\n                <td width=\"200\">是否需要申请资助</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要申请资助\"]?\r\n                 userStatus.extraInfoJson[\"是否需要申请资助\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td width=\"200\">是否享受一补</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否享受一补\"]?\r\n                 userStatus.extraInfoJson[\"是否享受一补\"]: \"--\"}</td>\r\n                <td width=\"200\">残疾人类型</td>\r\n                <td colSpan=\"5\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"残疾人类型\"]?\r\n                 userStatus.extraInfoJson[\"残疾人类型\"]: \"--\"}</td>\r\n            </tr>\r\n        </table>\r\n        <table className=\"study-status\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>学习经历</caption>\r\n            <tr>\r\n                <th width=\"148\">学习起始时间</th>\r\n                <th width=\"148\">学习结束时间</th>\r\n                <th width=\"395\">学习单位</th>\r\n                <th width=\"160\">学习内容</th>\r\n                <th width=\"140\">担任职务</th>\r\n                <th width=\"150\">学习证明人</th>\r\n            </tr>\r\n            {\r\n                Array.isArray(userStatus.resumeJson) &&\r\n                userStatus.resumeJson.map((item, index)=>{\r\n                    return (\r\n                        <tr key={index}>\r\n                            <td width=\"148\">{item.semesterStartTime? item.semesterStartTime: \"--\"}</td>\r\n                            <td width=\"148\">{item.semesterEndTime? item.semesterEndTime: \"--\"}</td>\r\n                            <td width=\"395\">{item.school? item.school: \"--\"}</td>\r\n                            <td width=\"160\">{item.learningContent? item.learningContent: \"--\"}</td>\r\n                            <td width=\"140\">{item.duty? item.duty: \"--\"}</td>\r\n                            <td width=\"150\">{item.certifier? item.certifier: \"--\"}</td>\r\n                        </tr>\r\n                    )\r\n                })\r\n            }\r\n            \r\n        </table>\r\n        <table className=\"transport-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>上下学交通方式</caption>\r\n            <tr>\r\n                <td width=\"200\">上下学距离(千米)</td>\r\n                <td width=\"178\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"上下学距离（千米）\"]?\r\n                 userStatus.extraInfoJson[\"上下学距离（千米）\"]: \"--\"}</td>\r\n                <td width=\"200\">上下学交通方式</td>\r\n                <td width=\"178\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"上下学交通方式\"]?\r\n                 userStatus.extraInfoJson[\"上下学交通方式\"]: \"--\"}</td>\r\n                <td width=\"200\">是否需要乘坐校车</td>\r\n                <td width=\"178\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]?\r\n                 userStatus.extraInfoJson[\"是否需要乘坐校车\"]: \"--\"}</td>\r\n            </tr>\r\n        </table>\r\n        {\r\n            Array.isArray(userStatus.guardianJson) &&\r\n            userStatus.guardianJson.map((item, index)=>{\r\n                return (\r\n                    <table className=\"family-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                        {\r\n                            index == 0?\r\n                            <caption>家庭成员或监护人信息</caption>:\r\n                            \"\"\r\n                        }\r\n                        <tr>\r\n                            <td>姓名</td>\r\n                            <td>{item.name? item.name: \"--\"}</td>\r\n                            <td>关系</td>\r\n                            <td>{item.relationship? item.relationship: \"--\"}</td>\r\n                            <td>身份证件类型</td>\r\n                            <td>{item.idCardType? item.idCardType: \"--\"}</td>\r\n                            <td>身份证件号码</td>\r\n                            <td>{item.idCardNum? item.idCardNum: \"--\"}</td> \r\n                        </tr>\r\n                        <tr>\r\n                            <td>民族</td>\r\n                            <td>{item.nation? item.nation: \"--\"}</td>\r\n                            <td>是否监护人</td>\r\n                            <td>{item.isGuardian? item.isGuardian: \"--\"}</td>\r\n                            <td>户口所在地</td>\r\n                            <td>{item.censusPlace? item.censusPlace: \"--\"}</td>\r\n                            <td>联系方式</td>\r\n                            <td>{item.tel? item.tel: \"--\"}</td> \r\n                        </tr>\r\n                        <tr>\r\n                            <td>现住址</td>\r\n                            <td colSpan=\"3\">{item.address? item.address: \"--\"}</td>\r\n                            <td>工作单位</td>\r\n                            <td>{item.serviceUnit? item.serviceUnit: \"--\"}</td>\r\n                            <td>职务</td>\r\n                            <td>{item.position? item.position: \"--\"}</td>\r\n                        </tr>\r\n                        {/* <tr>\r\n                            <td colSpan=\"8\" style={{height: 7}}></td>\r\n                        </tr> */}\r\n                    </table>\r\n                )\r\n            })\r\n        }\r\n        <table className=\"economic-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>家庭经济情况</caption>\r\n            <tr>\r\n                <td>家庭人口</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭人口\"]?\r\n                 userStatus.extraInfoJson[\"家庭人口\"]: \"--\"}</td>\r\n                <td>赡养人口</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"赡养人口\"]?\r\n                 userStatus.extraInfoJson[\"赡养人口\"]: \"--\"}</td>\r\n                <td>家庭年收入</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭年收入\"]?\r\n                 userStatus.extraInfoJson[\"家庭年收入\"]: \"--\"}</td>\r\n                <td>主要收入来源</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"主要收入来源\"]?\r\n                 userStatus.extraInfoJson[\"主要收入来源\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>具备劳动力人数</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"具备劳动力人数\"]?\r\n                 userStatus.extraInfoJson[\"具备劳动力人数\"]: \"--\"}</td>\r\n                <td>是否低保</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否低保\"]?\r\n                 userStatus.extraInfoJson[\"是否低保\"]: \"--\"}</td>\r\n                <td>就学地低保线</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"就学地低保线\"]?\r\n                 userStatus.extraInfoJson[\"就学地低保线\"]: \"--\"}</td>\r\n                <td>困难程度</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"困难程度\"]?\r\n                 userStatus.extraInfoJson[\"困难程度\"]: \"--\"}</td> \r\n            </tr>\r\n            <tr>\r\n                <td>是否父母丧失劳动能力</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否父母丧失劳动能力\"]?\r\n                 userStatus.extraInfoJson[\"是否父母丧失劳动能力\"]: \"--\"}</td>\r\n                <td>是否农村绝对贫困家庭</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否农村绝对贫困家庭\"]?\r\n                 userStatus.extraInfoJson[\"是否农村绝对贫困家庭\"]: \"--\"}</td>\r\n                <td colSpan=\"3\">是否经民政部门确认的农村特困救助范围的家庭子女</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否经民政部门确认的农村特困救助范围的家庭子女\"]?\r\n                 userStatus.extraInfoJson[\"是否经民政部门确认的农村特困救助范围的家庭子女\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>是否军烈属</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否军烈属\"]?\r\n                 userStatus.extraInfoJson[\"是否军烈属\"]: \"--\"}</td>\r\n                <td>家庭是否五保户</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭是否五保户\"]?\r\n                 userStatus.extraInfoJson[\"家庭是否五保户\"]: \"--\"}</td>\r\n                <td colSpan=\"3\">家庭是否有大病患者</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家中是否有大病患者\"]?\r\n                 userStatus.extraInfoJson[\"家中是否有大病患者\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>家庭是否遭受自然灾害</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭是否遭受自然灾害\"]?\r\n                 userStatus.extraInfoJson[\"家庭是否遭受自然灾害\"]: \"--\"}</td>\r\n                <td colSpan=\"2\">自然灾害具体情况描述</td>\r\n                <td colSpan=\"4\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"自然灾害具体情况描述\"]?\r\n                 userStatus.extraInfoJson[\"自然灾害具体情况描述\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>家庭失业人数</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭失业人数\"]?\r\n                 userStatus.extraInfoJson[\"家庭失业人数\"]: \"--\"}</td>\r\n                <td>家庭欠债金额</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭欠债金额\"]?\r\n                 userStatus.extraInfoJson[\"家庭欠债金额\"]: \"--\"}</td>\r\n                <td>欠债原因</td>\r\n                <td colSpan=\"3\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"欠债原因\"]?\r\n                 userStatus.extraInfoJson[\"欠债原因\"]: \"--\"}</td>\r\n            </tr>\r\n        </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StuStatistic;","/*\r\n *           佛曰:\r\n *                   写字楼里写字间，写字间里程序员；\r\n *                   程序人员写程序，又拿程序换酒钱。\r\n *                   酒醒只在网上坐，酒醉还来网下眠；\r\n *                   酒醉酒醒日复日，网上网下年复年。\r\n *                   但愿老死电脑间，不愿鞠躬老板前；\r\n *                   奔驰宝马贵者趣，公交自行程序员。\r\n *                   别人笑我忒疯癫，我笑自己命太贱；\r\n *                   不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-29 16:47:13\r\n * @LastEditTime: 2021-01-05 10:00:20\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\teachersStatisticAnalysis\\historyModal.js\r\n */\r\n\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n  useImperativeHandle,\r\n  useLayoutEffect,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport { Modal } from \"../../component/common\";\r\nimport { deepMap, resizeForEcharts,changeToArray } from \"../../util/public\";\r\nimport echarts from \"echarts/lib/echarts\";\r\n\r\nimport \"echarts/lib/chart/line\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nfunction HistoryModal(props, ref) {\r\n  // *data:数据，结构看下面对data处理\r\n  // *visible:控制弹窗的显示，\r\n  // *title：弹窗的头部文案\r\n  // *childKey:data有下级的时候的键,可缺省，默认为children\r\n  // *类型选择名字，可缺省，默认类型选择\r\n  let {\r\n    title,\r\n    visible,\r\n    data,\r\n    childKey,\r\n    color,\r\n    width,\r\n    typeName,\r\n    className,\r\n    onClose,\r\n  } = props;\r\n  // 控制显示\r\n  const [Visible, setVisible] = useState(visible ? true : false);\r\n  // 处理后的数据\r\n  const [Source, setSource] = useState([]);\r\n  // 类型选择\r\n  const [TypeSelect, setTypeSelect] = useState(0);\r\n  // 展示的数据选择\r\n  const [SourceSelect, setSourceSelect] = useState([]);\r\n \r\n  // 柱状\r\n\r\n \r\n  // 处理颜色\r\n  const colors = useMemo(() => {\r\n    return (\r\n      color || [\r\n        \"#30a0f6\",\r\n        \"#fbb458\",\r\n        \"#fd8273\",\r\n        \"#3fb43f\",\r\n        \"#e84855\",\r\n        \"#e58d4c\",\r\n        \"#2d3047\",\r\n        \"#71add8\",\r\n      ]\r\n    );\r\n  }, [color]);\r\n  useEffect(() => {\r\n    setVisible(!!visible);\r\n  }, [visible]);\r\n  // 对data进行处理\r\n  useEffect(() => {\r\n    if (data !== undefined && !(data instanceof Array)) {\r\n      return;\r\n    }\r\n    const myData = data || [\r\n      {\r\n        nodeName: \"全部\",\r\n        nodeID: \"all\",\r\n        titleList: [\r\n          [\"\", \"年\", \"教师人均周课时\", \"节次\"],\r\n          [\"人均总课时\", \"节\"],\r\n          [\"人均任教班级\", \"个\"],\r\n          [\"人均任教学生\", \"人\"],\r\n        ],\r\n        xName: \"周课时数\",\r\n        yName: \"年份\",\r\n        source: [], //数据源\r\n        type: [\"测试1\", \"测试2\"], //多个数据时候的名称lengen\r\n        children: [\r\n          {\r\n            nodeName: \"2018\",\r\n            nodeID: 2018,\r\n            dataList: [[\"2018\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [70, 65],\r\n          },\r\n          {\r\n            nodeName: \"2019\",\r\n            nodeID: 2019,\r\n            dataList: [[\"2019\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [60, 30],\r\n          },\r\n          {\r\n            nodeName: \"2020\",\r\n            nodeID: 2020,\r\n            dataList: [[\"2020\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [85, 40],\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        nodeName: \"类型2\",\r\n        nodeID: \"all1\",\r\n        titleList: [\r\n          [\"\", \"年\", \"教师人均周课时\", \"节次\"],\r\n          [\"人均总课时\", \"节\"],\r\n          [\"人均任教班级\", \"个\"],\r\n          [\"人均任教学生\", \"人\"],\r\n        ],\r\n        xName: \"周课时数\",\r\n        yName: \"年份\",\r\n        type: [\"测试1\", \"测试2\"], //多个数据时候的名称lengen\r\n        children: [\r\n          {\r\n            nodeName: \"2018\",\r\n            nodeID: 2018,\r\n            dataList: [[\"2018\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [10, 300],\r\n          },\r\n          {\r\n            nodeName: \"2019\",\r\n            nodeID: 2019,\r\n            dataList: [[\"2019\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [50, 60],\r\n          },\r\n          {\r\n            nodeName: \"2020\",\r\n            nodeID: 2020,\r\n            dataList: [[\"2020\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [20, 70],\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        nodeName: \"类型3\",\r\n        nodeID: \"all3\",\r\n        titleList: [\r\n          [\"\", \"年\", \"教师人均周课时\", \"节次\"],\r\n          [\"人均总课时\", \"节\"],\r\n          [\"人均任教班级\", \"个\"],\r\n          [\"人均任教学生\", \"人\"],\r\n        ],\r\n        xName: \"周课时数\",\r\n        yName: \"周课时数\",\r\n        type: [\"测试1\"], //多个数据时候的名称lengen\r\n        children: [\r\n          {\r\n            nodeName: \"2018\",\r\n            nodeID: 2018,\r\n            dataList: [\r\n              [\"2018\", \"初中学段\", \"21\"],\r\n              [\"<span class='title-2'>150</span>\"],\r\n              [\"2\"],\r\n              [\"60\"],\r\n            ],\r\n            source: [10, 300],\r\n          },\r\n          {\r\n            nodeName: \"2019\",\r\n            nodeID: 2019,\r\n            dataList: [[\"2019\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [50, 60],\r\n          },\r\n          {\r\n            nodeName: \"2020\",\r\n            nodeID: 2020,\r\n            dataList: [[\"2020\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [20, 70],\r\n          },\r\n        ],\r\n      },\r\n    ];\r\n    // 先判断有几层，一层不要类型选择，二层要\r\n    let haveChald = false; //控制后面的数据加层,false加\r\n    let source_level_2 = [];\r\n    // let source_level_1 = []; //当只有一级的时候使用这个\r\n    let source_level_1 = [\r\n      {\r\n        nodeName: \"全部\",\r\n        nodeID: \"all\",\r\n        xName: \"x坐标轴\",\r\n        yName: \"y坐标轴\",\r\n        children: [],\r\n      },\r\n    ]; //一层的时候默认的第一级\r\n    let typeList = []; //做类型选择\r\n    let typeIndex = -1; //第一层位置\r\n    // let dataIndex = -1; //第二层位置\r\n    // 处理方法,合成tooltip的title\r\n    const handleSource = ({\r\n      nodeName,\r\n      nodeID,\r\n      titleList,\r\n      dataList,\r\n      source,\r\n      xName,\r\n      yName,\r\n      ...other\r\n    }) => {\r\n      // 没有用第一级的\r\n      titleList = titleList || typeList[typeIndex].titleList || [];\r\n      dataList = dataList || [];\r\n      xName = xName || \"x坐标轴\";\r\n      yName = yName || \"y坐标轴\";\r\n      let tooltip = [];\r\n      let maxLen =\r\n        titleList.length > dataList.length ? titleList.length : dataList.length; //最长长度\r\n      // 处理tooltip\r\n      for (let i = 0; i < maxLen; i++) {\r\n        // 第一级是行，第二级才拼起来，需要保持一样长度\r\n        let title = changeToArray(titleList[i]); //转化为数组\r\n        let data = changeToArray(dataList[i]);\r\n        let maxLen2 = title.length > data.length ? title.length : data.length; //最长长度\r\n        let culunm = [];\r\n        for (let j = 0; j < maxLen2; j++) {\r\n          culunm.push(title[j]);\r\n          culunm.push(data[j]);\r\n        }\r\n        tooltip.push(culunm);\r\n      }\r\n      return {\r\n        nodeName,\r\n        nodeID,\r\n        tooltip,\r\n        source: changeToArray(source),\r\n        xName,\r\n        yName,\r\n        ...other,\r\n      };\r\n    };\r\n    deepMap(\r\n      myData,\r\n      ({ child, level, parent, indexArray }) => {\r\n        let { nodeName, nodeID, titleList, xName, yName, type } = child;\r\n        // 第一层\r\n        if (level === 1) {\r\n          typeIndex++;\r\n          // dataIndex = 0;\r\n          typeList[typeIndex] = {\r\n            nodeName,\r\n            nodeID,\r\n            titleList: titleList,\r\n            type: changeToArray(type),\r\n          };\r\n          source_level_2[typeIndex] = {\r\n            nodeName,\r\n            xName,\r\n            yName,\r\n            nodeID,\r\n            type: changeToArray(type),\r\n            children: [],\r\n          };\r\n\r\n          source_level_1[0].xName = xName || source_level_1[0].xName;\r\n          source_level_1[0].yName = yName || source_level_1[0].yName;\r\n          source_level_1[0].children.push(handleSource(child));\r\n        }\r\n\r\n        if (level === 2) {\r\n          source_level_2[typeIndex].children.push(handleSource(child));\r\n\r\n          // 干煸状态\r\n          // dataIndex++;\r\n          haveChald = true;\r\n        }\r\n      },\r\n      childKey || \"children\"\r\n    );\r\n    if (!haveChald) {\r\n      //一层，替换source\r\n      // typeList_level_1[0].children = source_level_1;\r\n      source_level_2 = source_level_1;\r\n    }\r\n\r\n    setTypeSelect(0);\r\n    setSourceSelect(source_level_2[0].children);\r\n    setSource(source_level_2);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [data, childKey]);\r\n  // 进行echarts 的挂载\r\n \r\n\r\n  // 处理为数组\r\n  const changeToArray = useCallback((param) => {\r\n    let end = [];\r\n    if (!(param instanceof Array)) {\r\n      // if (!param) {\r\n      //   end = [];\r\n      // }\r\n      if (typeof param === \"object\") {\r\n        for (let i in param) {\r\n          end.push(param[i]);\r\n        }\r\n      } else if (typeof param === \"string\") {\r\n        end = [param];\r\n      } else {\r\n        end = [];\r\n      }\r\n    } else {\r\n      end = param;\r\n    }\r\n    return end;\r\n  }, []);\r\n\r\n  // useImperativeHandle(ref,()=>({\r\n  //   controlVisible:(bool)=>{\r\n  //     setVisible(!!bool)\r\n  //   }\r\n  // }))\r\n  return (\r\n    <Modal\r\n      className={`HistoryModal ${className ? className : \"\"}`}\r\n      footer={null}\r\n      type={\"4\"}\r\n      visible={Visible}\r\n      width={width || 886}\r\n      title={title ? title : \"历年人均\"}\r\n      onCancel={() => {\r\n        setVisible(false);\r\n        onClose(false);\r\n      }}\r\n    >\r\n      {Visible ? (\r\n        <>\r\n          {Source.length > 1 ? (\r\n            <p className=\"type-label\">\r\n              <span className=\"type-name\">{typeName || \"类型选择\"}:</span>\r\n              {Source.map((child, index) => {\r\n                return (\r\n                  <span\r\n                    key={index}\r\n                    onClick={() => {\r\n                      setTypeSelect(index);\r\n                      setSourceSelect(Source[index]);\r\n                    }}\r\n                    className={`type-select ${\r\n                      index === TypeSelect ? \"type-select-active\" : \"\"\r\n                    }`}\r\n                  >\r\n                    {child.nodeName}\r\n                  </span>\r\n                );\r\n              })}\r\n            </p>\r\n          ) : (\r\n            <div style={{height:'40px'}}></div>\r\n          )}\r\n\r\n          {/* <div ref={echartsRef} className=\"teacher-bar hm-echarts\">\r\n      \r\n          </div> */}\r\n          <MyEcharts\r\n            colors={colors}\r\n            Source={Source}\r\n            Visible={Visible}\r\n            TypeSelect={TypeSelect}\r\n          ></MyEcharts>\r\n        </>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Modal>\r\n  );\r\n}\r\nfunction MyEcharts(props) {\r\n  let { colors, Source, Visible, TypeSelect } = props;\r\n  // 柱状\r\n\r\n  let [myEchart, setMyEchart] = useState(null);\r\n\r\n  // echartref\r\n  const echartsRef = useRef(null);\r\n\r\n  // 进行echarts 的挂载\r\n  useLayoutEffect(() => {\r\n    if (!Visible || Source.length === 0 || !echartsRef.current) {\r\n      return;\r\n    }\r\n    if (!myEchart) {\r\n      // 数据更新后，防止二次初始化echarts，第一次进来初始化echarts\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      myEchart = echarts.init(echartsRef.current);\r\n      // 保存echart实例\r\n      setMyEchart(myEchart);\r\n      // 对界面resize进行监听重绘echart\r\n      resizeForEcharts(myEchart);\r\n    }\r\n    let source = Source[TypeSelect];\r\n    let data = [[\"nodename\", ...source.type]];\r\n    let series = [];\r\n    source.children.forEach((child) => {\r\n      let tooltip = \"\";\r\n      child.tooltip.forEach((tip, index) => {\r\n        tip = changeToArray(tip);\r\n        let title = \"\";\r\n        tip.forEach((data) => {\r\n          title += data || \"\";\r\n        });\r\n        if (index === 0) {\r\n          tooltip += `<p class=\"nodename\">${title}</p>`;\r\n        } else {\r\n          tooltip += `<p class='msg msg-2'>${title}</p>`;\r\n        }\r\n      });\r\n      data.push([child.nodeName, ...child.source, tooltip]);\r\n    });\r\n    source.type.forEach((child, index) => {\r\n      series.push({\r\n        type: \"line\",\r\n        // xAxisIndex: 1,\r\n        smooth: true,\r\n        symbolSize: 7,\r\n        showSymbol: false,\r\n      });\r\n    });\r\n    let option = {\r\n      dataset: {\r\n        source: data,\r\n      },\r\n      color: colors,\r\n\r\n      tooltip: {\r\n        trigger: \"axis\",\r\n        axisPointer: {\r\n          type: \"cross\",\r\n        },\r\n        backgroundColor: \"rgba(0,0,0,0.7)\",\r\n        borderColor: \"transparent\",\r\n        borderWidth: 0,\r\n        formatter: (params) => {\r\n          return `<div class='t-tooltip'>${\r\n            params[0].data[params[0].data.length - 1]\r\n          }</div>`;\r\n        },\r\n      },\r\n\r\n      legend: {\r\n        show: source.type.length > 1,\r\n        right: 50,\r\n        top: 0,\r\n        // itemWidth: 11,\r\n        // itemHeight: 11,\r\n        itemGap: 30,\r\n        // formatter: (id) => {\r\n        //   return `{name|${sexData[id].title}:}{count|${sexData[id].value}}{name|人}`;\r\n        // },\r\n        textStyle: {\r\n          rich: {\r\n            name: {\r\n              fontSize: 12,\r\n              color: \"#999999\",\r\n            },\r\n            count: {\r\n              fontSize: 14,\r\n              fontWeight: \"bold\",\r\n              color: \"#333\",\r\n            },\r\n          },\r\n        },\r\n      },\r\n      grid: {\r\n        top: 30,\r\n        // bottom: 20,\r\n        right: 80,\r\n        left: 40,\r\n        containLabel: true,\r\n        height: 330,\r\n      },\r\n      xAxis: {\r\n        type: \"category\",\r\n        name: source.xName,\r\n        axisTick: {\r\n          show: true,\r\n          inside: true,\r\n          alignWithLabel: true,\r\n          length: 305,\r\n          lineStyle: {\r\n            color: \"#e5e5e5\",\r\n          },\r\n        },\r\n        axisLine: {\r\n          // onZero: false,\r\n          lineStyle: {\r\n            color: \"#cccccc\",\r\n          },\r\n        },\r\n        nameTextStyle: {\r\n          color: \"#b8b8b8\",\r\n        },\r\n        axisLabel: {\r\n          color: \"#666666\",\r\n          fontSize: 12,\r\n          margin: 13,\r\n        },\r\n        splitLine: {\r\n          show: false,\r\n        },\r\n      },\r\n\r\n      yAxis: {\r\n        type: \"value\",\r\n        name: source.yName,\r\n        axisLine: { show: false },\r\n        nameTextStyle: {\r\n          color: \"#b8b8b8\",\r\n          align: \"left\",\r\n        },\r\n        axisLabel: {\r\n          color: \"#b8b8b8\",\r\n          margin: 20,\r\n          fontSize: 12,\r\n        },\r\n        splitLine: {\r\n          lineStyle: {\r\n            type: \"dashed\",\r\n          },\r\n        },\r\n      },\r\n\r\n      series: series,\r\n    };\r\n\r\n    // option.dataset.source = dataList;\r\n\r\n    // 设置option\r\n    myEchart.setOption(option);\r\n    return () => {\r\n      // 卸载echarts实例的事件\r\n\r\n      myEchart.off();\r\n    };\r\n  }, [Source, Visible, TypeSelect]);\r\n \r\n return  <div ref={echartsRef} className=\"teacher-bar hm-echarts\"></div>;\r\n}\r\nexport default memo(forwardRef(HistoryModal));\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport { Empty, Modal } from '@/component/common';\r\nimport Table from '@/component/tableList';\r\nimport $ from 'jquery';\r\nimport \"./index.scss\";\r\nimport Bar from \"../../../component/bar\";\r\nimport {\r\n  getTeacherCount,\r\n  getHonorTeacher,\r\n  getTeacherAge,\r\n  getTeacherEduAndTitle,\r\n} from \"../../../api/baseMsg\";\r\nimport Scrollbars from \"react-custom-scrollbars\";\r\nimport MyInput from '@/component/input';\r\nimport StuStatusCount from \"./stuStatusCount\";\r\nimport TeaStatusCount from \"./teaStatusCount\";\r\nimport Track from \"../../../component/Track\";\r\nimport StuStatistic from \"./stuStatiscModal\";\r\nimport HistoryModal from \"../historyModal\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nimport { message } from \"antd\";\r\n\r\nlet { BasicProxy } = ipConfig;\r\nfunction BaseMsg(props, ref) {\r\n  // *selectLevel:这里的selectLevel与用户的没关系，与看的级别有关，例如教育局的看学校的，selectLevel===2\r\n  // *productLevel:产品类型，给用户看的界面类型，用来控制界面的一些属性：1教育局，2大学学校，3教育局学校，4大学学院，\r\n  // *product:包含该productLevel的所有信息,有使用组件者使用productLevel和commonData的levelHash匹配使用，必须传，不传将出问题\r\n  let {\r\n    term,\r\n    HasHistory,\r\n    onAnchorComplete,\r\n    schoolID,\r\n    collegeID,\r\n    productMsg,\r\n    userIdentity,\r\n    userInfo: {UserID, SchoolID},\r\n    currentClass,\r\n    currentGrade,\r\n    reflash,\r\n    setShowType,\r\n    setCheckList,\r\n    checkList,\r\n    reflashError\r\n  } = props;\r\n  const selectLevel = 2;\r\n  // const { selectLevel } = productMsg;\r\n  // 教师人数\r\n  const [teacherCount, setTeacherCount] = useState(false);\r\n  const [teacherFamous, setTeacherFamous] = useState(false);\r\n  const [teacherAge, setTeacherAge] = useState(false);\r\n  const [teacherEduAndTitle, setTeacherEduAndTitle] = useState(false);\r\n  const [studentList, setStudentList] = useState([]);\r\n  const [selectStudentList, setSelectStudentList] = useState([]);\r\n  //单个学生详情数据\r\n  const [stuStatistic, setStuStatistic] = useState([]);\r\n  //控制模态框显示内容\r\n  const [modalShowType, setModalShowType] = useState(userIdentity == \"student\"? \"detail\": \"list\");\r\n  // 弹框\r\n  const [visible, setVisible] = useState(false);\r\n  const [courseVisible, setCourseVisible] = useState(false);\r\n  const [recordVisible, setRecordVisible] = useState(false);\r\n  //学生学籍信息\r\n  const [userStatus, setUserStatus] = useState({});\r\n  //学习经历\r\n  const [studyList, setStudyList] = useState([]);\r\n  //家庭成员信息\r\n  const [familyList, setFamilyList] = useState([]);\r\n  //轨迹信息\r\n  const [trackInfo, setTrackInfo] = useState([]);\r\n  const [trackVisible, setTrackVisible] = useState(true);\r\n\r\n  //纠错审核信息\r\n  const [statisticCheckList, setStatisticCheckList] = useState([]);\r\n\r\n  const tableHeader = [\r\n    {\r\n      key: \"studentName\",\r\n      name: \"姓名\"\r\n    },\r\n    {\r\n      key: \"gender\",\r\n      name: \"性别\"\r\n    },\r\n    {\r\n      key: \"nativePlace\",\r\n      name: \"籍贯\"\r\n    },\r\n    {\r\n      key: \"dateOfBirth\",\r\n      name: \"出生日期\"\r\n    },\r\n    {\r\n      key: \"studyingWay\",\r\n      name: \"就读方式\"\r\n    },\r\n    {\r\n      key: \"isPoor\",\r\n      name: \"是否贫困生\"\r\n    },\r\n    {\r\n      key: \"isLeftbehindchild\",\r\n      name: \"是否留守儿童\"\r\n    },\r\n    {\r\n      key: \"identityNum\",\r\n      name: \"身份证号码\"\r\n    }\r\n  ]\r\n  //学籍所有字段ref\r\n  const stuNameRef = useRef(null);\r\n  const censusPlaceRef = useRef(null);\r\n  const classIdRef = useRef(null);\r\n  const classNameRef = useRef(null);\r\n  const dateOfBirthRef = useRef(null);\r\n  const errorCorrectionRef = useRef(null);\r\n  //额外信息\r\n  const extraInfoRef = useRef(null);\r\n\r\n  const formerNameRef = useRef(null);\r\n  const genderRef = useRef(null);\r\n  const gradeIdRef = useRef(null);\r\n  const gradeNameRef = useRef(null);\r\n  //监护人信息\r\n  const guardianListRef = useRef(null);\r\n\r\n  const homeAddressRef = useRef(null);\r\n  const identityNumRef = useRef(null);\r\n  const isAcceptpreschoolRef = useRef(null);\r\n  const isLeftbehindchildRef = useRef(null);\r\n  const isOnlychildRef = useRef(null);\r\n  const isPoorRef = useRef(null);\r\n  const nationRef = useRef(null);\r\n  const nationalityRef = useRef(null);\r\n  const overseaPeopleRef = useRef(null);\r\n  const studentIdRef = useRef(null);\r\n  const studentNameRef = useRef(null);\r\n  const studyingWayRef = useRef(null);\r\n  const schoolIdRef = useRef(null);\r\n  const martyrChildRef = useRef(null);\r\n  const lowProtectRef = useRef(null);\r\n  const postalCodeRef = useRef(null);\r\n  const nativePlaceRef = useRef(null);\r\n  const isParentWorkRef = useRef(null);\r\n  const takeCareRef = useRef(null);\r\n  const isLowBadRef = useRef(null);\r\n  const isFiveRef = useRef(null);\r\n  const classNumRef = useRef(null);\r\n\r\n  const hobbitRef = useRef(null);\r\n  const bitrhPlaceRef = useRef(null);\r\n  const studyLowProtectRef = useRef(null);\r\n  const disasterStatusRef = useRef(null);\r\n  const inSchoolWayRef = useRef(null);\r\n  const politicRef = useRef(null);\r\n\r\n  const indexAddrRef = useRef(null);\r\n  const moneyFromRef = useRef(null);\r\n  const identityTypeRef = useRef(null);\r\n  const nowLiveRef = useRef(null);\r\n  const connectAddrRef = useRef(null);\r\n  const faimlyNumRef = useRef(null);\r\n  const nameRef = useRef(null);\r\n  const relationshipRef = useRef(null);\r\n  const serviceUnitRef = useRef(null);\r\n  const telRef = useRef(null);\r\n  const changeItemRef = useRef(null);\r\n  const userIdRef = useRef(null);\r\n\r\n  const semesterStartTimeRef = useRef(null);\r\n  const semesterEndTimeRef = useRef(null);\r\n  const schoolRef = useRef(null);\r\n  const learningContentRef = useRef(null);\r\n  const dutyRef = useRef(null);\r\n  const certifierRef = useRef(null);\r\n  const birthPlaceRef = useRef(null);\r\n\r\n  const identityTimeRef = useRef(null);\r\n  const badManRef = useRef(null);\r\n  const trafficWayRef = useRef(null);\r\n  const notWorkRef = useRef(null);\r\n  const badTypeRef = useRef(null);\r\n  const readTypeRef = useRef(null);\r\n  const onlyOneRef = useRef(null);\r\n\r\n  const isbadestRef = useRef(null);\r\n  const healthTypeRef = useRef(null);\r\n  const nameChineseRef = useRef(null);\r\n  const cityWorkRef = useRef(null);\r\n  const emailRef = useRef(null);\r\n  const isHelpRef = useRef(null);\r\n  const isTakeBusRef = useRef(null);\r\n  const followClassRef = useRef(null);\r\n  const isSoldierRef= useRef(null);\r\n  const isDisasterRef = useRef(null);\r\n  const isHaveOneRef = useRef(null);\r\n  const isHavePatientRef = useRef(null);\r\n  const debtReasonRef = useRef(null);\r\n  const stuFromRef = useRef(null);\r\n  const faimlyMoneyRef = useRef(null);\r\n  const telphoneRef = useRef(null);\r\n  const ableManRef = useRef(null);\r\n  const debtNumRef = useRef(null);\r\n  const inSchoolRef = useRef(null);\r\n  const schoolDistanceRef = useRef(null);\r\n  const nationPlaceRef = useRef(null);\r\n  // const isLeftbehindchildRef = useRef(null);\r\n  // const isOnlychildRef = useRef(null);\r\n  // const isPoorRef = useRef(null);\r\n  //向上传bar的信息\r\n  // const [anchorList, setAnchorList] = useState([]);\r\n  // 获取每一块的ref，实现锚点功能\r\n  const countRef = useRef(null);\r\n  const myStatusRef = useRef(null);\r\n  const statusTrackRef = useRef(null);\r\n  const attendanceTrack = useRef(null);\r\n  const search = () => {\r\n    //搜索\r\n    let keyowrd = $('.search-input').val();\r\n    \r\n  }\r\n  useLayoutEffect(() => {\r\n    // setAnchorList();\r\n    let arr = [];\r\n    if(userIdentity == \"student\"){\r\n      arr = [\r\n        { ref: myStatusRef.current, name: \"我的学籍\" },\r\n        { ref: statusTrackRef.current, name: \"学籍轨迹\" },\r\n      ]\r\n    } else {\r\n      arr = [\r\n        { ref: countRef.current, name: \"学籍统计\" },\r\n        { ref: statusTrackRef.current, name: \"学籍轨迹\" },\r\n      ]\r\n    }\r\n    typeof onAnchorComplete === \"function\" &&\r\n      onAnchorComplete(arr);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  // 初始请求\r\n  //获取轨迹信息\r\n  useLayoutEffect(() => {\r\n    if(userIdentity == \"teacher\" && !currentClass){\r\n      return;\r\n    }\r\n    setTrackVisible(true);\r\n    let url = BasicProxy + \"/api/status/record?type=\" +\r\n    (\r\n      userIdentity == \"student\"?\r\n      1:\r\n      userIdentity == \"manager\"?\r\n      currentClass?\r\n      2:\r\n      currentGrade?\r\n      3:\r\n      4:\r\n      2\r\n    ) +\r\n    \"&studentId=\" + (userIdentity == \"student\"?UserID: \"\") +\r\n    \"&classId=\" + currentClass +\r\n    \"&gradeId=\" + currentGrade +\r\n    \"&schoolId=\" + SchoolID;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && result.data){\r\n        setTrackInfo(result.data);\r\n      }\r\n      setTrackVisible(false);\r\n    })\r\n  }, [userIdentity, currentGrade, currentClass, UserID, SchoolID, reflash])\r\n  //获取学生自身学籍信息\r\n  useLayoutEffect(()=>{\r\n    if(userIdentity != \"student\"){\r\n      return;\r\n    }\r\n    let url = BasicProxy + \"/api/status/student?studentId=\" + UserID;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n            result.data.resumeJson = JSON.parse(result.data.resume);\r\n            result.data.guardianJson = JSON.parse(result.data.guardian);\r\n            result.data.extraInfoJson = JSON.parse(result.data.extraInfo);\r\n            if(Array.isArray(result.data.resumeJson)){\r\n              setStudyList(result.data.resumeJson);\r\n            }\r\n            if(Array.isArray(result.data.guardianJson)){\r\n              setFamilyList(result.data.guardianJson);\r\n            }\r\n            \r\n            setUserStatus(result.data);\r\n        }\r\n    })\r\n  }, [UserID, userIdentity, reflash])\r\n  //如果是老师则先获取学生列表\r\n  useLayoutEffect(() => {\r\n    if(userIdentity == \"teacher\" && currentClass){\r\n      let url = BasicProxy + \"/api/base/getStudentInfo?schoolId=\" +\r\n      SchoolID +\r\n      \"&gradeId=\" + currentGrade +\r\n      \"&classId=\" + currentClass;\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && result.data){\r\n              setStudentList(result.data);\r\n              setSelectStudentList(result.data);\r\n          }\r\n      })\r\n      \r\n      //如果是老师就查询是否有学籍审核\r\n      url = BasicProxy + \"/api/status/student/correction?classId=\" + currentClass;\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n        if(result.status == 200 && Array.isArray(result.data)){\r\n          setStatisticCheckList(result.data);\r\n          setCheckList(result.data);\r\n        }\r\n      })\r\n    }\r\n  }, [userIdentity, UserID, currentClass, currentGrade, term, reflash, reflashError])\r\n  //获取弹出框详细信息\r\n  useLayoutEffect(() => {\r\n    if(userIdentity != \"student\"){\r\n      return;\r\n    }\r\n    let termInfo = term && term.value? JSON.parse(term.value): {};\r\n    let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n    let classGradeId = \"\";\r\n    classList.forEach((item)=>{\r\n        if(item.classId == currentClass){\r\n            classGradeId = item.gradeId;\r\n        }\r\n    })\r\n    let url = BasicProxy + \"/api/learning2/exam/scoreRank?type=1\" + \r\n    \"&studentId=\" + UserID +\r\n    \"&classId=\" + currentClass +\r\n    \"&gradeId=\" + classGradeId +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&termId=\" + termInfo.termId +\r\n    \"&examType=3\" +\r\n    \"&start=\" + (termInfo.startDate? termInfo.startDate.substr(0, 10): \"\") +\r\n    \"&end=\" + (termInfo.endDate? termInfo.endDate.substr(0, 10): \"\");\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n            setStuStatistic(result.data);\r\n        }\r\n    })     \r\n  }, [term, currentClass, currentGrade, userIdentity, UserID, reflash]);\r\n  //增删学习经历\r\n  const operateStudyList = (type, index) => {\r\n    let arr = [];\r\n    studyList.forEach((item)=>{\r\n      arr.push(item);\r\n    })\r\n    if(type == \"add\"){\r\n      arr.push({\r\n        changeItem: 1\r\n      });\r\n    }\r\n    if(type == \"delete\"){\r\n      arr.splice(index, 1);\r\n    }\r\n    setStudyList(arr);\r\n  }\r\n  //增删家庭成员\r\n  const operateFamilyList = (type, index) => {\r\n    let arr = [];\r\n    familyList.forEach((item)=>{\r\n      arr.push(item);\r\n    })\r\n    if(type == \"add\"){\r\n      arr.push({\r\n        changeItem: 1\r\n      });\r\n    }\r\n    if(type == \"delete\"){\r\n      arr.splice(index, 1);\r\n    }\r\n    setFamilyList(arr);\r\n  }\r\n  //发起纠错申请\r\n  const sendStatus = () => {\r\n    let stuName = stuNameRef.current.isUpdate? stuNameRef.current.value: undefined;\r\n    let censusPlace = censusPlaceRef.current.isUpdate? censusPlaceRef.current.value: undefined;\r\n    let className = classNameRef.current.isUpdate? classNameRef.current.value: undefined;\r\n    let dateOfBirth = dateOfBirthRef.current.isUpdate? dateOfBirthRef.current.value: undefined;\r\n    let extraInfo = {\r\n      \"身份证件有效期\": identityTimeRef.current.isUpdate? identityTimeRef.current.value: undefined,\r\n      \"残疾人类型\": badManRef.current.isUpdate? badManRef.current.value: undefined,\r\n      \"上下学交通方式\": trafficWayRef.current.isUpdate? trafficWayRef.current.value: undefined,\r\n      \"家庭失业人数\": notWorkRef.current.isUpdate? notWorkRef.current.value: undefined,\r\n      \"困难程度\": badTypeRef.current.isUpdate? badTypeRef.current.value: undefined,\r\n      \"是否随班就读\": followClassRef.current.isUpdate? followClassRef.current.value: undefined,\r\n      \"是否孤儿\": onlyOneRef.current.isUpdate? onlyOneRef.current.value: undefined,\r\n      \"是否经民政部门确认的农村特困救助范围的家庭子女\": isbadestRef.current.isUpdate? isbadestRef.current.value: undefined,\r\n      \"健康状况\": healthTypeRef.current.isUpdate? healthTypeRef.current.value: undefined,\r\n      \"姓名拼音\": nameChineseRef.current.isUpdate? nameChineseRef.current.value: undefined,\r\n      \"是否进城务工人员随迁子女\": cityWorkRef.current.isUpdate? cityWorkRef.current.value: undefined,\r\n      \"电子邮箱\": emailRef.current.isUpdate? emailRef.current.value: undefined,\r\n      \"是否需要申请资助\": isHelpRef.current.isUpdate? isHelpRef.current.value: undefined,\r\n      \"是否需要乘坐校车\": isTakeBusRef.current.isUpdate? isTakeBusRef.current.value: undefined,\r\n      \"是否军烈属\": isSoldierRef.current.isUpdate? isSoldierRef.current.value: undefined,\r\n      \"家庭是否遭受自然灾害\": isDisasterRef.current.isUpdate? isDisasterRef.current.value: undefined,\r\n      \"是否享受一补\": isHaveOneRef.current.isUpdate? isHaveOneRef.current.value: undefined,\r\n      \"家中是否有大病患者\": isHavePatientRef.current.isUpdate? isHavePatientRef.current.value: undefined,\r\n      \"欠债原因\": debtReasonRef.current.isUpdate? debtReasonRef.current.value: undefined,\r\n      \"学生来源\": stuFromRef.current.isUpdate? stuFromRef.current.value: undefined,\r\n      \"家庭年收入\": faimlyMoneyRef.current.isUpdate? faimlyMoneyRef.current.value: undefined,\r\n      \"联系电话\": telphoneRef.current.isUpdate? telphoneRef.current.value: undefined,\r\n      \"具备劳动力人数\": ableManRef.current.isUpdate? ableManRef.current.value: undefined,\r\n      \"家庭欠债金额\": debtNumRef.current.isUpdate? debtNumRef.current.value: undefined,\r\n      \"入学年月\": inSchoolRef.current.isUpdate? inSchoolRef.current.value: undefined,\r\n      \"上下学距离（千米）\": schoolDistanceRef.current.isUpdate? schoolDistanceRef.current.value: undefined,\r\n      \"是否烈士或优抚子女\": martyrChildRef.current.isUpdate? martyrChildRef.current.value: undefined,\r\n      \"是否低保\":  lowProtectRef.current.isUpdate? lowProtectRef.current.value: undefined,\r\n      \"邮政编号\":  postalCodeRef.current.isUpdate? postalCodeRef.current.value: undefined,\r\n      \"是否父母丧失劳动能力\": isParentWorkRef.current.isUpdate? isParentWorkRef.current.value: undefined,\r\n      \"赡养人口\": takeCareRef.current.isUpdate? takeCareRef.current.value: undefined,\r\n      \"是否农村绝对贫困家庭\": isLowBadRef.current.isUpdate? isLowBadRef.current.value: undefined,\r\n      \"家庭是否五保户\": isFiveRef.current.isUpdate? isFiveRef.current.value: undefined,\r\n      \"班内学号\": classNumRef.current.isUpdate? classNumRef.current.value: undefined,\r\n      \"特长\": hobbitRef.current.isUpdate? hobbitRef.current.value: undefined,\r\n      \"出生地\": birthPlaceRef.current.isUpdate? birthPlaceRef.current.value: undefined,\r\n      \"就学地低保线\": studyLowProtectRef.current.isUpdate? studyLowProtectRef.current.value: undefined,\r\n      \"自然灾害具体情况描述\": disasterStatusRef.current.isUpdate? disasterStatusRef.current.value: undefined,\r\n      \"入学方式\": inSchoolWayRef.current.isUpdate? inSchoolWayRef.current.value: undefined,\r\n      \"政治面貌\": politicRef.current.isUpdate? politicRef.current.value: undefined,\r\n      \"主页地址\": indexAddrRef.current.isUpdate? indexAddrRef.current.value: undefined,\r\n      \"主要收入来源\": moneyFromRef.current.isUpdate? moneyFromRef.current.value: undefined,\r\n      \"身份证件类型\": identityTypeRef.current.isUpdate? identityTypeRef.current.value: undefined,\r\n      \"现住址\": nowLiveRef.current.isUpdate? nowLiveRef.current.value: undefined,\r\n      \"通讯地址\": connectAddrRef.current.isUpdate? connectAddrRef.current.value: undefined,\r\n      \"家庭人口\":  faimlyNumRef.current.isUpdate? faimlyNumRef.current.value: undefined\r\n    };\r\n    //曾用名\r\n    let formerName = formerNameRef.current.isUpdate? formerNameRef.current.value: undefined;\r\n    let gender = genderRef.current.isUpdate? genderRef.current.value: undefined;\r\n    let gradeName = gradeNameRef.current.isUpdate? gradeNameRef.current.value: undefined;\r\n    let homeAddress = homeAddressRef.current.isUpdate? homeAddressRef.current.value: undefined;\r\n    let identityNum = identityNumRef.current.isUpdate? identityNumRef.current.value: undefined;\r\n    let isAcceptpreschool = isAcceptpreschoolRef.current.isUpdate? isAcceptpreschoolRef.current.value: undefined;\r\n    let isLeftbehindchild = isLeftbehindchildRef.current.isUpdate? isLeftbehindchildRef.current.value: undefined;\r\n    let isOnlychild = isOnlychildRef.current.isUpdate? isOnlychildRef.current.value: undefined;\r\n    // let isPoor = isPoorRef.current.value: undefined;\r\n    let nation = nationRef.current.isUpdate? nationRef.current.value: undefined;\r\n    let nationality = nationalityRef.current.isUpdate? nationalityRef.current.value: undefined;\r\n    let nativePlace = nativePlaceRef.current.isUpdate? nativePlaceRef.current.value: undefined;\r\n    let overseaPeople = overseaPeopleRef.current.isUpdate? overseaPeopleRef.current.value: undefined;\r\n    // let schoolId = schoolIdRef.current.value: undefined;\r\n    let studentId = studentIdRef.current.isUpdate? studentIdRef.current.value: undefined;\r\n    let studyingWay = studyingWayRef.current.isUpdate? studyingWayRef.current.value: undefined;\r\n    let guardianList = [];\r\n    let resumeList = [];\r\n    //学习经历和家庭成员信息数据需要额外处理，通过遍历dom获取数据\r\n    $(\".studyList>div\").each((index, item)=>{\r\n      let obj = {};\r\n      obj.certifier = $(item).find('.certifier').text();\r\n      obj.duty = $(item).find('.duty').text();\r\n      obj.learningContent = $(item).find('.learningContent').text();\r\n      obj.semesterEndTime = $(item).find('.semesterEndTime').text();\r\n      obj.semesterStartTime = $(item).find('.semesterStartTime').text();\r\n      obj.school = $(item).find('.school').text();\r\n      resumeList.push(obj);\r\n    })\r\n    $(\".familyList>div\").each((index, item)=>{\r\n      let obj = {};\r\n      obj.address = $(item).children('.address').text();\r\n      obj.censusPlace = $(item).children('.censusPlace').text();\r\n      obj.idCardNum = $(item).children('.idCardNum').text();\r\n      obj.idCardType = $(item).children('.idCardType').text();\r\n      obj.isGuardian = $(item).children('.isGuardian').text();\r\n      obj.name = $(item).children('.name').text();\r\n      obj.nation = $(item).children('.nation').text();\r\n      obj.position = $(item).children('.position').text();\r\n      obj.relationship = $(item).children('.relationship').text();\r\n      obj.serviceUnit = $(item).children('.serviceUnit').text();\r\n      obj.tel = $(item).children('.tel').text();\r\n      guardianList.push(obj);\r\n    })\r\n    let params = {\r\n      censusPlace,\r\n      dateOfBirth,\r\n      // errorCorrection,\r\n      extraInfo,\r\n      formerName,\r\n      guardianList: JSON.stringify(guardianList),\r\n      // guardianList,\r\n      homeAddress,\r\n      identityNum,\r\n      isAcceptpreschool,\r\n      isLeftbehindchild,\r\n      isOnlychild,\r\n      // isPoor,\r\n      nation,\r\n      nationality,\r\n      nativePlace,\r\n      overseaPeople,\r\n      resumeList: JSON.stringify(resumeList),\r\n      // resumeList,\r\n      studentId,\r\n      studentName: stuName,\r\n      studyingWay,\r\n    }\r\n    let extraInfocount = 0, paramsCount = 0;\r\n    for(let x in extraInfo){\r\n      if(typeof extraInfo[x] == \"undefined\"){\r\n        delete extraInfo[x];\r\n      } else {\r\n        extraInfocount++;\r\n      }\r\n    }\r\n    if(extraInfocount < 1){\r\n      params.extraInfo = undefined;\r\n    }\r\n    for(let x in params){\r\n      if(typeof params[x] == \"undefined\"){\r\n        delete params[x];\r\n      } else {\r\n        paramsCount++;\r\n      }\r\n    }\r\n    // console.log(paramsCount, guardianList.length, resumeList.length)\r\n    if(paramsCount < 3 && guardianList.length == 0 && resumeList.length == 0){\r\n      message.destroy();\r\n      message.config({\r\n        rtl: false,\r\n        getContainer: ()=>$(\".body-container\")[0]\r\n      });\r\n      message.warn(\"发起纠错申请失败，并未修改数据~\");\r\n      return;\r\n    }\r\n    console.log(params);\r\n    let url = BasicProxy + \"/api/status/student/correction\";\r\n    fetch\r\n    .put({url, body: {\r\n      studentId: UserID,\r\n      jsonString: JSON.stringify(params)\r\n    },  securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200){\r\n        message.destroy();\r\n        message.config({\r\n          rtl: false,\r\n          getContainer: ()=>document.body\r\n        });\r\n        message.success(\"纠错申请发起成功~\");\r\n        setRecordVisible(false);\r\n      }\r\n    })\r\n  }\r\n  //点击学生查看学生详细信息\r\n  const setStudentInfo = (data) => {\r\n    let url = BasicProxy + \"/api/status/student?type=1\" + \r\n    \"&studentId=\" + data.userId;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n            result.data.resumeJson = JSON.parse(result.data.resume);\r\n            result.data.guardianJson = JSON.parse(result.data.guardian);\r\n            result.data.extraInfoJson = JSON.parse(result.data.extraInfo);\r\n            setStuStatistic(result.data);\r\n            setModalShowType(\"detail\");\r\n        }\r\n    })\r\n  }\r\n  return (\r\n    <div className=\"BaseMsg\" id=\"stuStatusMsg\">\r\n      {\r\n        userIdentity == 'teacher' || userIdentity == 'manager'?\r\n        <div>\r\n          <Bar\r\n          barName={\"学籍统计\"}\r\n          ref={countRef}\r\n          topContext={\r\n            userIdentity != \"manager\"\r\n              ?\r\n                <div className=\"module-link-group\">\r\n                  <span onClick={()=>{\r\n                    if(statisticCheckList.length > 0){\r\n                      setShowType(\"error\")\r\n                    } else {\r\n                      message.warn(\"暂无学籍纠错审核~\");\r\n                    }\r\n                    \r\n                  }}>\r\n                    {\r\n                      statisticCheckList.length > 0?\r\n                      <i className=\"red-dot\"></i>:\r\n                      \"\"\r\n                    }\r\n                    \r\n                    学籍纠错审核\r\n                  </span>\r\n                  {/* <span className=\"download\">\r\n                    下载模板\r\n                  </span> */}\r\n                  <span \r\n                  className=\"status\"\r\n                  onClick={()=>setVisible(true)}\r\n                  >\r\n                    查看学籍详情信息\r\n                  </span>\r\n\r\n                </div>\r\n              : false\r\n          }\r\n          loading={false}\r\n        >\r\n          <TeaStatusCount\r\n            data={teacherCount} \r\n            userIdentity={userIdentity}\r\n            productMsg={productMsg}\r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            reflash={reflash}\r\n            statisticCheckList={statisticCheckList}\r\n          ></TeaStatusCount>\r\n        </Bar>\r\n        <Bar \r\n        loading={trackVisible} \r\n        barName={\"学籍轨迹\"}\r\n        ref={statusTrackRef}\r\n        >\r\n          <Track\r\n          type=\"baseMsg\"\r\n          userIdentity={userIdentity}\r\n          data={trackInfo}>\r\n          </Track>\r\n        </Bar>\r\n        </div>:\r\n        <div>\r\n          <Bar\r\n          barName={\"我的学籍\"}\r\n          ref={myStatusRef}\r\n          topContext={\r\n            <div className=\"module-link-group\">\r\n              <span onClick={()=>setRecordVisible(true)}>\r\n                <i className=\"errorlogo\"></i>\r\n                学籍纠错\r\n              </span>\r\n            </div>\r\n          }\r\n          loading={false}>\r\n            <StuStatusCount\r\n            userStatus={userStatus}\r\n          ></StuStatusCount>\r\n          </Bar>\r\n          <Bar loading={trackVisible} barName={\"学籍轨迹\"} ref={statusTrackRef}>\r\n            <Track\r\n            type=\"baseMsg\"\r\n            userIdentity={userIdentity}\r\n            data={trackInfo}>\r\n            </Track>\r\n          </Bar>\r\n        </div>\r\n      }\r\n      <Modal\r\n        type=\"1\"\r\n        title=\"变更档案信息\"\r\n        visible={recordVisible}\r\n        onCancel={()=>setRecordVisible(false)}\r\n        footer={null}\r\n        width={1180}\r\n        className=\"change-status\"\r\n        bodyStyle={{height: 650 + 'px', padding: 0}}\r\n      >\r\n        <Scrollbars\r\n        autoHeight\r\n        autoHeightMax={640}>\r\n        <div className=\"body-container\">\r\n          <div>\r\n            <MyInput \r\n            title=\"学生姓名\"\r\n            type=\"input\"\r\n            data={userStatus.studentName}\r\n            width=\"25%\"\r\n            inputRef={stuNameRef}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"性别\"\r\n            type=\"list\"\r\n            inputRef={genderRef}\r\n            data={userStatus.gender}\r\n            list={[\"男\", \"女\"]}\r\n            width=\"25%\"\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"出生日期\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={dateOfBirthRef}\r\n            data={userStatus.dateOfBirth}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"出生地\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={birthPlaceRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"出生地\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"籍贯\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={nativePlaceRef}\r\n            data={userStatus.nativePlace}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"民族\"\r\n            type=\"list\"\r\n            width=\"25%\"\r\n            list={[\"汉族\", \"蒙古族\", \"回族\", \"藏族\", \"维吾尔族\", \"苗族\", \"彝族\", \"壮族\", \"布依族\", \"朝鲜族\", \"满族\", \"侗族\", \"瑶族\", \"白族\", \"土家族\",\r\n            \"哈尼族\", \"哈萨克族\", \"傣族\", \"黎族\", \"傈僳族\", \"佤族\", \"畲族\", \"高山族\", \"拉祜族\", \"水族\", \"东乡族\", \"纳西族\", \"景颇族\", \"柯尔克孜族\",\r\n            \"土族\", \"达斡尔族\", \"仫佬族\", \"羌族\", \"布朗族\", \"撒拉族\", \"毛南族\", \"仡佬族\", \"锡伯族\", \"阿昌族\", \"普米族\", \"塔吉克族\", \"怒族\", \"乌孜别克族\",\r\n            \"俄罗斯族\", \"鄂温克族\", \"德昂族\", \"保安族\", \"裕固族\", \"京族\", \"塔塔尔族\", \"独龙族\", \"鄂伦春族\", \"赫哲族\", \"门巴族\", \"珞巴族\", \"基诺族\", \"其它国外民族\"]}\r\n            inputRef={nationRef}\r\n            data={userStatus.nation}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"国家/地区\"\r\n            type=\"list\"\r\n            width=\"25%\"\r\n            list={[\"中国\", \"美国\", \"俄罗斯\", \"日本\", \"英国\", \"韩国\", \"法国\", \"德国\", \"其它国家\"]}\r\n            inputRef={nationalityRef}\r\n            data={userStatus.nationality}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"身份证件类型\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={identityTypeRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"身份证件类型\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"身份证件号码\"\r\n            type=\"input\"\r\n            width=\"50%\"\r\n            inputRef={identityNumRef}\r\n            data={userStatus.identityNum}\r\n            inputWidth={421}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"港澳台侨胞\"\r\n            type=\"select\"\r\n            width=\"25%\"\r\n            inputRef={overseaPeopleRef}\r\n            data={userStatus.overseaPeople}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"政治面貌\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={politicRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"政治面貌\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"健康状况\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={healthTypeRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"健康状况\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"姓名拼音\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={nameChineseRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"姓名拼音\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"曾用名\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={formerNameRef}\r\n            data={userStatus.formerName}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"身份证件有效期\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={identityTimeRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"身份证件有效期\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"户口所在地\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={censusPlaceRef}\r\n            data={userStatus.censusPlace}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"特长\"\r\n            type=\"input\"\r\n            width=\"75%\"\r\n            inputRef={hobbitRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"特长\"]}\r\n            inputWidth={702}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"学籍编号\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={studentIdRef}\r\n            data={userStatus.studentId? userStatus.studentId: \"--\"}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"班内学号\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={classNumRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"班内学号\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"年级\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={gradeNameRef}\r\n            data={userStatus.gradeName}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"班级\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={classNameRef}\r\n            data={userStatus.className}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"入学年月\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={inSchoolRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"入学年月\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"入学方式\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={inSchoolWayRef}\r\n            // list={[\"就近入学\", \"其他\"]}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"入学方式\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"就读方式\"\r\n            type=\"list\"\r\n            width=\"25%\"\r\n            list={[\"寄宿\", \"走读\"]}\r\n            inputRef={studyingWayRef}\r\n            data={userStatus.studyingWay}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"学生来源\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            // list={[\"学区内\", \"本市学区外\", \"外地借读\"]}\r\n            inputRef={stuFromRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"学生来源\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n          </div>\r\n          <div className=\"slice-line\"></div>\r\n\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"现住址\"\r\n            type=\"input\"\r\n            width=\"50%\"\r\n            inputRef={nowLiveRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"现住址\"]}\r\n            inputWidth={421}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"通信地址\"\r\n            type=\"input\"\r\n            width=\"50%\"\r\n            inputRef={connectAddrRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"通讯地址\"]}\r\n            inputWidth={421}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"家庭地址\"\r\n            type=\"input\"\r\n            width=\"50%\"\r\n            inputRef={homeAddressRef}\r\n            data={userStatus.homeAddress}\r\n            inputWidth={421}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"联系电话\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={telphoneRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"联系电话\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"邮政编码\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={postalCodeRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"邮政编号\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"电子邮箱\"\r\n            type=\"input\"\r\n            width=\"50%\"\r\n            inputRef={emailRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"电子邮箱\"]}\r\n            inputWidth={421}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"主页地址\"\r\n            type=\"input\"\r\n            width=\"50%\"\r\n            inputRef={indexAddrRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"主页地址\"]}\r\n            inputWidth={421}\r\n            ></MyInput>\r\n          </div>\r\n          <div className=\"slice-line\"></div>\r\n        \r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"是否独生子女\"\r\n            type=\"select\"\r\n            inputRef={isOnlychildRef}\r\n            data={userStatus.isOnlychild}\r\n            width=\"22%\"\r\n            titleWidth={169}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"是否受过学前教育\"\r\n            type=\"select\"\r\n            inputRef={isAcceptpreschoolRef}\r\n            data={userStatus.isAcceptpreschool}\r\n            width=\"25%\"\r\n            titleWidth={203}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"是否留守儿童\"\r\n            type=\"select\"\r\n            inputRef={isLeftbehindchildRef}\r\n            data={userStatus.isLeftbehindchild}\r\n            width=\"25%\"\r\n            titleWidth={203}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"是否进城务工人员随迁子女\"\r\n            type=\"select\"\r\n            inputRef={cityWorkRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否进城务工人员随迁子女\"]}\r\n            width=\"25%\"\r\n            titleWidth={203}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"是否孤儿\"\r\n            type=\"select\"\r\n            inputRef={onlyOneRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否孤儿\"]}\r\n            width=\"22%\"\r\n            titleWidth={169}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"是否烈士或优抚子女\"\r\n            type=\"select\"\r\n            inputRef={martyrChildRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否烈士或优抚子女\"]}\r\n            width=\"25%\"\r\n            titleWidth={203}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"是否随班就读\"\r\n            type=\"select\"\r\n            data=\"张三\"\r\n            width=\"25%\"\r\n            inputRef={followClassRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否随班就读\"]}\r\n            titleWidth={203}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"是否需要申请资助\"\r\n            type=\"select\"\r\n            data=\"张三\"\r\n            width=\"25%\"\r\n            inputRef={isHelpRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要申请资助\"]}\r\n            titleWidth={203}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"是否享受一补\"\r\n            type=\"select\"\r\n            data=\"张三\"\r\n            width=\"22%\"\r\n            inputRef={isHaveOneRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否享受一补\"]}\r\n            titleWidth={169}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"残疾人类型\"\r\n            type=\"input\"\r\n            data=\"张三\"\r\n            width=\"78%\"\r\n            inputRef={badManRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"残疾人类型\"]}\r\n            titleWidth={203}\r\n            inputWidth={632}\r\n            ></MyInput>\r\n          </div>\r\n          <div className=\"slice-line\"></div>\r\n          \r\n          <div className=\"study-record\">\r\n            <div className=\"record-title\">\r\n              学习经历:\r\n            </div>\r\n            <div className=\"list-container studyList\" style={{width: (studyList.length == 0? \"0\": \"\")}}>\r\n              {\r\n                studyList.map((item, index)=>{\r\n                  return (\r\n                    <div className=\"record-list\" key={index}>\r\n                      <i className=\"deletelogo\" onClick={()=>operateStudyList(\"delete\", index)}></i>\r\n                      <div>\r\n                        <MyInput\r\n                        title=\"学习起始时间\"\r\n                        type=\"input\"\r\n                        width=\"28%\"\r\n                        className=\"semesterEndTime\"\r\n                        data={item.semesterEndTime}\r\n                        inputWidth={140} />\r\n                        <MyInput\r\n                        title=\"学习结束时间\"\r\n                        type=\"input\"\r\n                        width=\"28%\"\r\n                        className=\"semesterStartTime\"\r\n                        data={item.semesterStartTime}\r\n                        inputWidth={140} />\r\n                        <MyInput\r\n                        title=\"学习单位\"\r\n                        type=\"input\"\r\n                        width=\"44%\"\r\n                        className=\"school\"\r\n                        data={item.school}\r\n                        inputWidth={240} />\r\n                      </div>\r\n                      <div style={{marginTop: 16}}>\r\n                        <MyInput\r\n                        title=\"学习内容\"\r\n                        type=\"input\"\r\n                        width=\"28%\"\r\n                        className=\"learningContent\"\r\n                        data={item.learningContent}\r\n                        inputWidth={140} />\r\n                        <MyInput\r\n                        title=\"担任职务\"\r\n                        type=\"input\"\r\n                        width=\"28%\"\r\n                        className=\"duty\"\r\n                        data={item.duty}\r\n                        inputWidth={140} />\r\n                        <MyInput\r\n                        title=\"学习证明人\"\r\n                        type=\"input\"\r\n                        width=\"44%\"\r\n                        className=\"certifier\"\r\n                        data={item.certifier}\r\n                        inputWidth={140} />\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                })\r\n              }\r\n            </div>\r\n            <div \r\n            className=\"add-record\" \r\n            onClick={()=>operateStudyList(\"add\")}\r\n            style={{margin: (studyList.length == 0? \"0\": \"\")}}>\r\n              新增学习经历\r\n            </div>\r\n          </div>\r\n          <div className=\"slice-line\"></div>\r\n\r\n          <div>\r\n            <MyInput\r\n            title=\"上下学距离(千米)\"\r\n            type=\"input\"\r\n            titleWidth={155}\r\n            inputRef={schoolDistanceRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"上下学距离（千米）\"]}\r\n            inputWidth={140} />\r\n            <MyInput\r\n            title=\"上下学交通方式\"\r\n            type=\"input\"\r\n            titleWidth={155}\r\n            inputRef={trafficWayRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"上下学交通方式\"]}\r\n            inputWidth={140} />\r\n            <MyInput\r\n            title=\"是否需要乘坐校车\"\r\n            type=\"input\"\r\n            titleWidth={155}\r\n            inputRef={isTakeBusRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            inputWidth={140} />\r\n          </div>\r\n          <div className=\"slice-line\"></div>\r\n\r\n          <div className=\"family-info\">\r\n            <div className=\"family-title\">\r\n              家庭成员或监护人信息:\r\n            </div>\r\n            <div className=\"info-list-container familyList\" style={{width: (familyList.length == 0? \"0\": \"\")}}>\r\n              {\r\n                familyList.map((item, index)=>{\r\n                  return (\r\n                    <div className=\"family-list\" key={index}>\r\n                      <i className=\"deletelogo\" onClick={()=>operateFamilyList(\"delete\", index)}></i>\r\n                      <div>\r\n                        <MyInput\r\n                        title=\"姓名\"\r\n                        type=\"input\"\r\n                        className=\"name\"\r\n                        data={item.name}\r\n                        titleWidth={110}\r\n                        inputWidth={140} /> \r\n                        <MyInput\r\n                        title=\"关系\"\r\n                        type=\"input\"\r\n                        className=\"relationship\"\r\n                        data={item.relationship}\r\n                        titleWidth={118}\r\n                        inputWidth={140} />\r\n                        <MyInput\r\n                        title=\"身份证件类型\"\r\n                        type=\"input\"\r\n                        className=\"idCardType\"\r\n                        data={item.idCardType}\r\n                        titleWidth={118}\r\n                        inputWidth={240} />\r\n                      </div>\r\n                      <div style={{marginTop: 16}}>\r\n                        <MyInput\r\n                        title=\"身份证件号码\"\r\n                        type=\"input\"\r\n                        className=\"idCardNum\"\r\n                        data={item.idCardNum}\r\n                        titleWidth={110}\r\n                        inputWidth={406} />\r\n                        <MyInput\r\n                        title=\"民族\"\r\n                        type=\"list\"\r\n                        className=\"nation\"\r\n                        list={[\"汉族\", \"蒙古族\", \"回族\", \"藏族\", \"维吾尔族\", \"苗族\", \"彝族\", \"壮族\", \"布依族\", \"朝鲜族\", \"满族\", \"侗族\", \"瑶族\", \"白族\", \"土家族\",\r\n                        \"哈尼族\", \"哈萨克族\", \"傣族\", \"黎族\", \"傈僳族\", \"佤族\", \"畲族\", \"高山族\", \"拉祜族\", \"水族\", \"东乡族\", \"纳西族\", \"景颇族\", \"柯尔克孜族\",\r\n                        \"土族\", \"达斡尔族\", \"仫佬族\", \"羌族\", \"布朗族\", \"撒拉族\", \"毛南族\", \"仡佬族\", \"锡伯族\", \"阿昌族\", \"普米族\", \"塔吉克族\", \"怒族\", \"乌孜别克族\",\r\n                        \"俄罗斯族\", \"鄂温克族\", \"德昂族\", \"保安族\", \"裕固族\", \"京族\", \"塔塔尔族\", \"独龙族\", \"鄂伦春族\", \"赫哲族\", \"门巴族\", \"珞巴族\", \"基诺族\", \"其它国外民族\"]}\r\n                        data={item.nation}\r\n                        titleWidth={118}\r\n                        inputWidth={140} />\r\n                      </div>\r\n                      <div style={{marginTop: 16}}>\r\n                        <MyInput\r\n                        title=\"是否监护人\"\r\n                        type=\"select\"\r\n                        className=\"isGuardian\"\r\n                        data={item.isGuardian}\r\n                        titleWidth={110}\r\n                        inputWidth={140} />\r\n                        <MyInput\r\n                        title=\"户口所在地\"\r\n                        type=\"input\"\r\n                        className=\"censusPlace\"\r\n                        data={item.censusPlace}\r\n                        titleWidth={118}\r\n                        inputWidth={140} />\r\n                        <MyInput\r\n                        title=\"联系方式\"\r\n                        type=\"input\"\r\n                        className=\"tel\"\r\n                        data={item.tel}\r\n                        titleWidth={118}\r\n                        inputWidth={240} />\r\n                      </div>\r\n                      <div style={{marginTop: 16}}>\r\n                        <MyInput\r\n                        title=\"现住址\"\r\n                        type=\"input\"\r\n                        className=\"address\"\r\n                        data={item.address}\r\n                        titleWidth={110}\r\n                        inputWidth={773} />\r\n                      </div>\r\n                      <div style={{marginTop: 16}}>\r\n                        <MyInput\r\n                        title=\"工作单位\"\r\n                        type=\"input\"\r\n                        className=\"serviceUnit\"\r\n                        data={item.serviceUnit}\r\n                        titleWidth={110}\r\n                        inputWidth={406} />\r\n                        <MyInput\r\n                        title=\"职务\"\r\n                        type=\"input\"\r\n                        className=\"position\"\r\n                        data={item.position}\r\n                        titleWidth={118}\r\n                        inputWidth={240} />\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                })\r\n              }\r\n            </div>\r\n            <div \r\n            className=\"add-family-info\" \r\n            onClick={()=>operateFamilyList(\"add\")}\r\n            style={{margin: (familyList.length == 0? \"0\": \"\")}}\r\n            >\r\n              新增家庭成员或监护人信息\r\n            </div>\r\n          </div>\r\n          <div className=\"slice-line\"></div>\r\n          <div>\r\n            <MyInput\r\n            title=\"家庭人口\"\r\n            type=\"input\"\r\n            inputRef={faimlyNumRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭人口\"]}\r\n            titleWidth={137}\r\n            inputWidth={120} />\r\n            <MyInput\r\n            title=\"赡养人口\"\r\n            type=\"input\"\r\n            inputRef={takeCareRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"赡养人口\"]}\r\n            titleWidth={123}\r\n            inputWidth={120} />\r\n            <MyInput\r\n            title=\"家庭年收入\"\r\n            type=\"input\"\r\n            inputRef={faimlyMoneyRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭年收入\"]}\r\n            titleWidth={123}\r\n            inputWidth={120} />\r\n            <MyInput\r\n            title=\"主要收入来源\"\r\n            type=\"input\"\r\n            inputRef={moneyFromRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"主要收入来源\"]}\r\n            titleWidth={123}\r\n            inputWidth={120} />\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput\r\n            title=\"具备劳动力人数\"\r\n            type=\"input\"\r\n            inputRef={ableManRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"具备劳动力人数\"]}\r\n            titleWidth={137}\r\n            inputWidth={120} />\r\n            <MyInput\r\n            title=\"是否低保\"\r\n            type=\"select\"\r\n            inputRef={lowProtectRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否低保\"]}\r\n            titleWidth={123}\r\n            inputWidth={120} />\r\n            <MyInput\r\n            title=\"就学地低保线\"\r\n            type=\"input\"\r\n            inputRef={studyLowProtectRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"就学地低保线\"]}\r\n            titleWidth={123}\r\n            inputWidth={120} />\r\n            <MyInput\r\n            title=\"困难程度\"\r\n            type=\"input\"\r\n            inputRef={badTypeRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"困难程度\"]}\r\n            titleWidth={123}\r\n            inputWidth={120} />\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput\r\n            title=\"是否父母丧失劳动能力\"\r\n            type=\"select\"\r\n            inputRef={isParentWorkRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否父母丧失劳动能力\"]}\r\n            titleWidth={179}\r\n            inputWidth={90} />\r\n            <MyInput\r\n            title=\"是否农村绝对贫困家庭\"\r\n            type=\"select\"\r\n            inputRef={isLowBadRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否农村绝对贫困家庭\"]}\r\n            titleWidth={175}\r\n            inputWidth={90} />\r\n            <MyInput\r\n            title=\"是否经民政部门确认的农村特困救助范围的家庭子女\"\r\n            type=\"select\"\r\n            inputRef={isbadestRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否经民政部门确认的农村特困救助范围的家庭子女\"]}\r\n            titleWidth={357}\r\n            inputWidth={90} />\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput\r\n            title=\"是否军烈属\"\r\n            type=\"select\"\r\n            inputRef={isSoldierRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否军烈属\"]}\r\n            titleWidth={179}\r\n            inputWidth={90} />\r\n            <MyInput\r\n            title=\"家庭是否五保户\"\r\n            type=\"select\"\r\n            inputRef={isFiveRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭是否五保户\"]}\r\n            titleWidth={175}\r\n            inputWidth={90} />\r\n            <MyInput\r\n            title=\"家中是否有重大病患者\"\r\n            type=\"select\"\r\n            inputRef={isHavePatientRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"家中是否有重大病患者\"]}\r\n            titleWidth={357}\r\n            inputWidth={90} />\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput\r\n            title=\"家庭是否遭受自然灾害\"\r\n            type=\"select\"\r\n            inputRef={isDisasterRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭是否遭受自然灾害\"]}\r\n            titleWidth={179}\r\n            inputWidth={90} />\r\n            <MyInput\r\n            title=\"自然灾害具体情况描述\"\r\n            type=\"input\"\r\n            inputRef={disasterStatusRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"自然灾害具体情况描述\"]}\r\n            titleWidth={175}\r\n            inputWidth={545} />\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput\r\n            title=\"家庭失业人数\"\r\n            type=\"input\"\r\n            inputRef={notWorkRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭失业人数\"]}\r\n            titleWidth={179}\r\n            inputWidth={90} />\r\n            <MyInput\r\n            title=\"家庭欠债金额\"\r\n            type=\"input\"\r\n            inputRef={debtNumRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭欠债金额\"]}\r\n            titleWidth={175}\r\n            inputWidth={90} />\r\n            <MyInput\r\n            title=\"家庭欠债原因\"\r\n            type=\"input\"\r\n            inputRef={debtReasonRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"欠债原因\"]}\r\n            titleWidth={175}\r\n            inputWidth={272} />\r\n          </div>\r\n          \r\n        </div>\r\n        </Scrollbars>\r\n        <div className=\"modal-footer\">\r\n          <div className=\"cancel-btn\" onClick={()=>setRecordVisible(false)}>取消</div>\r\n          <div className=\"confirm-btn\" onClick={sendStatus}>确定</div>\r\n        </div>\r\n        \r\n        \r\n      </Modal>\r\n      <Modal\r\n        type=\"1\"\r\n        title=\"课堂详情信息\"\r\n        visible={courseVisible}\r\n        onOk={()=>setCourseVisible(true)}\r\n        onCancel={()=>setCourseVisible(false)}\r\n        footer={null}\r\n        width={1000}\r\n        className=\"course-status\"\r\n        bodyStyle={{height: 617 + 'px', padding: 0}}\r\n      >\r\n        <div className=\"search-container\">\r\n          <span className=\"list-count\">\r\n            共<span>30位</span>学生\r\n          </span>\r\n          <div className=\"input-container\">\r\n            <input \r\n            className=\"search-input\" \r\n            type=\"text\" \r\n            placeholder=\"请输入学生姓名进行搜索...\" />\r\n            <i className=\"searchlogo\" onClick={search}></i>\r\n          </div>\r\n          \r\n        </div>\r\n        <Table></Table>\r\n      </Modal>\r\n      <Modal\r\n            type=\"1\"\r\n            title=\"学籍详情\"\r\n            visible={visible}\r\n            onOk={()=>setVisible(true)}\r\n            onCancel={()=>{\r\n              if(userIdentity != \"student\"){\r\n                setModalShowType(\"list\")\r\n              }\r\n              setVisible(false)}}\r\n            footer={null}\r\n            width={1300}\r\n            className=\"height-weight-modal\"\r\n            bodyStyle={{height: 632 + 'px', padding: \"20px 0 20px 20px\"}}\r\n        >\r\n          <Scrollbars\r\n          autoHeight\r\n          autoHeightMax={590}>\r\n            {\r\n              modalShowType == \"list\"?\r\n              <div>\r\n                <p className=\"stu-count\">共<span>{\r\n                studentList.length\r\n                }</span>人</p>\r\n                <ul className=\"member-list\">\r\n                  <Scrollbars \r\n                  autoHeight\r\n                  autoHeightMax={550}>\r\n                    {\r\n                      selectStudentList.length > 0?\r\n                      selectStudentList.map((item, index)=>{\r\n                        return (\r\n                        <li key={index} onClick={()=>setStudentInfo(item)}>\r\n                          <i className=\"user-header\" style={{\r\n                            backgroundImage:\r\n                            (\r\n                              item.photoPath?\r\n                              item.photoPath:\r\n                              \"\"\r\n                            )\r\n                          }}></i>\r\n                          <p title={item.userName}>{item.userName}</p>\r\n                        </li>\r\n                        )\r\n                      }):\r\n                      <Empty\r\n                      className={\"bar-empty\"}\r\n                      style={{margin: \"150px 0 0\"}}\r\n                      title={\"暂无数据\"}\r\n                      type={\"4\"}\r\n                      ></Empty>\r\n                    }\r\n                  \r\n                  </Scrollbars>\r\n                  \r\n                </ul>  \r\n              </div>:\r\n              <div>\r\n                {\r\n                  userIdentity != \"student\"?\r\n                  <span className=\"reback-prev\" onClick={()=>setModalShowType(\"list\")}>返回学生列表</span>:\r\n                  \"\"\r\n                }\r\n                <StuStatistic data={stuStatistic}/>\r\n                {/* <Table\r\n                style={{marginTop: 20}}\r\n                tableHeader={tableHeader}\r\n                data={stuStatistic}\r\n                ></Table> */}\r\n              </div>\r\n              \r\n            }\r\n          </Scrollbars>\r\n            {/* <div className=\"search-container\">\r\n              <span className=\"list-count\">\r\n                  共<span>{studentList.length}位</span>学生\r\n              </span>\r\n              <div className=\"input-container\">\r\n                  <input \r\n                  className=\"search-input\" \r\n                  type=\"text\" \r\n                  placeholder=\"请输入学生姓名进行搜索...\"\r\n                  value={keyword}\r\n                  onChange={searchStudent} />\r\n                  {\r\n                    keyword.length != 0?\r\n                    <i className=\"cancellogo\" onClick={cancelSearch}></i>:\r\n                    \"\"\r\n                  }\r\n                  <i className=\"searchlogo\"></i>\r\n              </div>\r\n            \r\n            </div> */}\r\n            \r\n            \r\n        </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: {\r\n      termInfo: { HasHistory },\r\n      userInfo\r\n    },\r\n  } = state;\r\n  // console.log(state)\r\n  return { HasHistory, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(BaseMsg)));\r\n","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Progress } from \"antd\";\r\nimport { Empty, Loading } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction ConditionRank(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID},\r\n        reflash\r\n      } = props;\r\n    // 初始请求\r\n    const [rankInfo, setRankInfo] = useState({});\r\n    const [visible, setVisible] = useState(true);\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"student\"){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        setVisible(true);\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let url = BasicProxy + \"/api/learning2/rank?type=\" +\r\n        (userIdentity == \"manager\"? \r\n        currentClass?\r\n        2:\r\n        currentGrade?\r\n        3:\r\n        4:\r\n        userIdentity == \"teacher\"? 2:\r\n        \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setRankInfo(result.data);\r\n            }\r\n            setVisible(false);\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    let courseShowInfo = [], detailWorkInfo = [], personalStudyInfo = [], testGradeInfo = [];\r\n    Array.isArray(rankInfo) && rankInfo.forEach((item)=>{\r\n        if(item.rankType.indexOf(\"课堂\") != -1){\r\n            courseShowInfo = item.learningRankListList.slice(0, 5);\r\n        }\r\n        if(item.rankType.indexOf(\"日常\") != -1){\r\n            detailWorkInfo = item.learningRankListList.slice(0, 5);\r\n        }\r\n        if(item.rankType.indexOf(\"自学\") != -1){\r\n            personalStudyInfo = item.learningRankListList.slice(0, 5);\r\n        }\r\n        if(item.rankType.indexOf(\"考试\") != -1){\r\n            testGradeInfo = item.learningRankListList.slice(0, 5);\r\n        }\r\n    })\r\n    return (\r\n        <div className=\"condition-rank\">\r\n            <Loading\r\n            opacity={false}\r\n            tip=\"加载中...\"\r\n            spinning={visible}>\r\n            {\r\n                courseShowInfo.length == 0 &&\r\n                detailWorkInfo.length == 0 &&\r\n                personalStudyInfo.length == 0 &&\r\n                testGradeInfo.length == 0?\r\n                <Empty\r\n                // className={\"bar-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>:\r\n                <div>\r\n                    <div className=\"course-show-rank\">\r\n                    <i className=\"course-show-logo\"></i>\r\n                    <ul className=\"rank-list\">\r\n                        {\r\n                            courseShowInfo.length > 0?\r\n                            courseShowInfo.map((item, index)=>{\r\n                                return (\r\n                                    <li key={index}>\r\n                                        <i className={\"ranklogo \" + \r\n                                        (index == 0? \"one\":\r\n                                        index == 1? \"two\": \r\n                                        index == 2? \"three\":\r\n                                        \"\")}></i>\r\n                                        <img src={item.photo}/>\r\n                                        <span className=\"rank-name\" title={item.name}>{item.name}</span>\r\n                                        <span className={\"rank-grade \" + \r\n                                        (index == 0? \"one\":\r\n                                        index == 1? \"two\": \r\n                                        index == 2? \"three\":\r\n                                        \"\")} title={typeof item.score == \"number\"? parseInt(item.score) + \"分\": \"--\"}>\r\n                                            {typeof item.score == \"number\"? parseInt(item.score): \"--\"}分\r\n                                        </span>\r\n                                    </li>\r\n                                )\r\n                            }):\r\n                            <Empty\r\n                            // className={\"bar-empty\"}\r\n                            style={{margin: \"20px 0\"}}\r\n                            title={\"暂无数据\"}\r\n                            type={\"4\"}\r\n                            ></Empty>\r\n                        }\r\n                    </ul>   \r\n                </div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"detail-work-rank\">\r\n                        <i className=\"detail-work-logo\"></i>\r\n                        <ul className=\"rank-list\">\r\n                            {\r\n                                detailWorkInfo.length > 0?\r\n                                detailWorkInfo.map((item, index)=>{\r\n                                    return (\r\n                                        <li key={index}>\r\n                                            <i className={\"ranklogo \" + \r\n                                            (index == 0? \"one\":\r\n                                            index == 1? \"two\": \r\n                                            index == 2? \"three\":\r\n                                            \"\")}></i>\r\n                                            <img src={item.photo}/>\r\n                                            <span className=\"rank-name\" title={item.name}>{item.name}</span>\r\n                                            <span className={\"rank-grade \" + \r\n                                            (index == 0? \"one\":\r\n                                            index == 1? \"two\": \r\n                                            index == 2? \"three\":\r\n                                            \"\")} title={typeof item.score == \"number\"? parseInt(item.score) + \"分\": \"--\"}>\r\n                                                {typeof item.score == \"number\"? parseInt(item.score): \"--\"}分\r\n                                            </span>\r\n                                        </li>\r\n                                    )\r\n                                }):\r\n                                <Empty\r\n                                // className={\"bar-empty\"}\r\n                                style={{margin: \"20px 0\"}}\r\n                                title={\"暂无数据\"}\r\n                                type={\"4\"}\r\n                                ></Empty>\r\n                            }\r\n                        </ul>   \r\n                    </div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"person-study-rank\">\r\n                        <i className=\"person-study-logo\"></i>\r\n                        <ul className=\"rank-list\">\r\n                            {\r\n                                personalStudyInfo.length > 0?\r\n                                personalStudyInfo.map((item, index)=>{\r\n                                    return (\r\n                                        <li key={index}>\r\n                                            <i className={\"ranklogo \" + \r\n                                            (index == 0? \"one\":\r\n                                            index == 1? \"two\": \r\n                                            index == 2? \"three\":\r\n                                            \"\")}></i>\r\n                                            <img src={item.photo}/>\r\n                                            <span className=\"rank-name\" title={item.name}>{item.name}</span>\r\n                                            <span className={\"rank-grade \" + \r\n                                            (index == 0? \"one\":\r\n                                            index == 1? \"two\": \r\n                                            index == 2? \"three\":\r\n                                            \"\")} title={typeof item.score == \"number\"? item.score + \"h\": \"--\"}>\r\n                                                {typeof item.score == \"number\"? item.score: \"--\"}h\r\n                                            </span>\r\n                                        </li>\r\n                                    )\r\n                                }):\r\n                                <Empty\r\n                                // className={\"bar-empty\"}\r\n                                style={{margin: \"20px 0\"}}\r\n                                title={\"暂无数据\"}\r\n                                type={\"4\"}\r\n                                ></Empty>\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"test-grade-rank\">\r\n                        <i className=\"test-grade-logo\"></i>\r\n                        <ul className=\"rank-list\">\r\n                            {\r\n                                testGradeInfo.length > 0?\r\n                                testGradeInfo.map((item, index)=>{\r\n                                    return (\r\n                                        <li key={index}>\r\n                                            <i className={\"ranklogo \" + \r\n                                            (index == 0? \"one\":\r\n                                            index == 1? \"two\":  \r\n                                            index == 2? \"three\":\r\n                                            \"\")}></i>\r\n                                            <img src={item.photo}/>\r\n                                            <span className=\"rank-name\" title={item.name}>{item.name}</span>\r\n                                            <span className={\"rank-grade \" + \r\n                                            (index == 0? \"one\":\r\n                                            index == 1? \"two\": \r\n                                            index == 2? \"three\":\r\n                                            \"\")} title={typeof item.score == \"number\"? item.score + \"分\": \"--\"}>\r\n                                                {typeof item.score == \"number\"? item.score: \"--\"}分\r\n                                            </span>\r\n                                        </li>\r\n                                    )\r\n                                }):\r\n                                <Empty\r\n                                // className={\"bar-empty\"}\r\n                                style={{margin: \"20px 0\"}}\r\n                                title={\"暂无数据\"}\r\n                                type={\"4\"}\r\n                                ></Empty>\r\n                            }\r\n                        </ul>   \r\n                    </div>\r\n                    <p className=\"tip\">\r\n                        <i className=\"tiplogo\"></i>\r\n                        课堂表现为本本学期课堂表现总分排行；日常作业为最近一次作业成绩排行；\r\n                        课外自学为本学期累计时长排行；考试成绩为本学期最近一次考试成绩排行\r\n                    </p>\r\n                </div>\r\n            } \r\n            </Loading>\r\n            \r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(ConditionRank)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport {Empty, Loading} from \"../../../component/common\";\r\nimport \"./index.scss\";\r\nimport { Progress } from \"antd\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction LeaderConditionRank(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID},\r\n        reflash\r\n      } = props;\r\n    // 初始请求\r\n    const [rankInfo, setRankInfo] = useState({});\r\n    const [schoolStatisticInfo, setSchoolStatisticInfo] = useState({});\r\n    const [schoolWorkRate, setSchoolWorkRate] = useState({});\r\n    const [visible, setVisible] = useState(true);\r\n    //获取排行数据\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        setVisible(true);\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let url = BasicProxy + \"/api/learning2/rank?type=\" +\r\n        (userIdentity == \"manager\"? \r\n        currentClass?\r\n        2:\r\n        currentGrade?\r\n        3:\r\n        4:\r\n        userIdentity == \"teacher\"? 2:\r\n        \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setRankInfo(result.data);\r\n            }\r\n            setVisible(false);\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    //获取全校统计数据\r\n    useLayoutEffect(() => {\r\n        if(!SchoolID || !currentTerm.value){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/learning2/school/sum?schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setSchoolStatisticInfo(result.data);\r\n            }\r\n        })\r\n\r\n        //获取全校作业完成率\r\n        url = BasicProxy + \"/api/learning2/homework/rate?type=4&studentId=&classId=&gradeId=\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setSchoolWorkRate(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, SchoolID, currentTerm, reflash])\r\n    let courseShowInfo = [], detailWorkInfo = [], personalStudyInfo = [], testGradeInfo = [];\r\n    Array.isArray(rankInfo) && rankInfo.forEach((item)=>{\r\n        if(item.rankType.indexOf(\"课堂\") != -1){\r\n            courseShowInfo = item.learningRankListList.slice(0, 5);\r\n        }\r\n        if(item.rankType.indexOf(\"日常\") != -1){\r\n            detailWorkInfo = item.learningRankListList.slice(0, 5);\r\n        }\r\n        if(item.rankType.indexOf(\"自学\") != -1){\r\n            personalStudyInfo = item.learningRankListList.slice(0, 5);\r\n        }\r\n        if(item.rankType.indexOf(\"考试\") != -1){\r\n            testGradeInfo = item.learningRankListList.slice(0, 5);\r\n        }\r\n    })\r\n    let courseShowScore = \"--\", personalStudyTime = \"--\";\r\n    Array.isArray(schoolStatisticInfo) && schoolStatisticInfo.forEach((item)=>{\r\n        if(item.type.indexOf(\"课堂\") != -1 && typeof item.socre == \"number\"){\r\n            courseShowScore = item.socre.toFixed(1);\r\n        }\r\n        // if(item.type.indexOf(\"作业\") != -1 && typeof item.socre == \"number\"){\r\n        //     detailWorkRate = item.score;\r\n        // }\r\n        if(item.type.indexOf(\"自学\") != -1 && item.times){\r\n            personalStudyTime = item.times;\r\n        }\r\n    })\r\n    return (\r\n        <div className=\"leader-condition-rank\">\r\n            <Loading\r\n            opacity={false}\r\n            tip=\"加载中...\"\r\n            spinning={visible}>\r\n                <div className=\"condition-rank-top\">\r\n                <div className=\"circle-container\">\r\n                    <div className=\"circle-violet\" title={ courseShowScore }>\r\n                        { courseShowScore }\r\n                    </div>\r\n                    <p>全校班级课堂平均分</p>\r\n                </div>\r\n                <div className=\"circle-container\">\r\n                    <div className=\"circle-orange\" title={ \r\n                            schoolWorkRate.finishRate?\r\n                            Number(schoolWorkRate.finishRate*100).toFixed(1) + \"%\":\r\n                            \"\"\r\n                        }>\r\n                        { \r\n                            schoolWorkRate.finishRate?\r\n                            Number(schoolWorkRate.finishRate*100).toFixed(1) + \"%\":\r\n                            \"\"\r\n                        }\r\n                    </div>\r\n                    <p>全校日常作业完成率</p>\r\n                </div>\r\n                <div className=\"circle-container\">\r\n                    <div className=\"circle-red\" title={ personalStudyTime }>\r\n                        { personalStudyTime }\r\n                    </div>\r\n                    <p>全校班级平均自学时长</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"condition-rank-bottom\">\r\n                <div className=\"course-show-rank\">\r\n                    <i className=\"course-show-logo\"></i>\r\n                    <ul className=\"rank-list\">\r\n                    {\r\n                        courseShowInfo.length > 0?\r\n                        courseShowInfo.map((item, index)=>{\r\n                            return (\r\n                                <li key={index}>\r\n                                    <i className={\"ranklogo \" + \r\n                                    (index == 0? \"one\":\r\n                                    index == 1? \"two\": \r\n                                    index == 2? \"three\":\r\n                                    \"\")}></i>\r\n                                    {\r\n                                        item.name?\r\n                                        <img src={item.photo}/>:\r\n                                        \"\"\r\n                                    }\r\n                                    <span \r\n                                    className=\"rank-name\" \r\n                                    title={item.name || item.className}>\r\n                                        {item.name || item.className}\r\n                                    </span>\r\n                                    <span className={\"rank-grade \" + \r\n                                    (index == 0? \"one\":\r\n                                    index == 1? \"two\": \r\n                                    index == 2? \"three\":\r\n                                    \"\")} title={typeof item.score == \"number\"? item.score + \"h\": \"--\"}>\r\n                                        {typeof item.score == \"number\"? item.score: \"--\"}分\r\n                                    </span>\r\n                                </li>\r\n                            )\r\n                        }):\r\n                        <Empty\r\n                        // className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                    </ul>   \r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"detail-work-rank\">\r\n                    <i className=\"detail-work-logo\"></i>\r\n                    <ul className=\"rank-list\">\r\n                    {\r\n                        detailWorkInfo.length > 0?\r\n                        detailWorkInfo.map((item, index)=>{\r\n                            return (\r\n                                <li key={index}>\r\n                                    <i className={\"ranklogo \" + \r\n                                    (index == 0? \"one\":\r\n                                    index == 1? \"two\": \r\n                                    index == 2? \"three\":\r\n                                    \"\")}></i>\r\n                                    {\r\n                                        item.name?\r\n                                        <img src={item.photo}/>:\r\n                                        \"\"\r\n                                    }\r\n                                    <span \r\n                                    className=\"rank-name\" \r\n                                    title={item.name || item.className}>\r\n                                        {item.name || item.className}\r\n                                    </span>\r\n                                    <span className={\"rank-grade \" + \r\n                                    (index == 0? \"one\":\r\n                                    index == 1? \"two\": \r\n                                    index == 2? \"three\":\r\n                                    \"\")} title={typeof item.score == \"number\"? item.score + \"分\": \"--\"}>\r\n                                        {typeof item.score == \"number\"? item.score: \"--\"}分\r\n                                    </span>\r\n                                </li>\r\n                            )\r\n                        }):\r\n                        <Empty\r\n                        // className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                    </ul>   \r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"person-study-rank\">\r\n                    <i className=\"person-study-logo\"></i>\r\n                    <ul className=\"rank-list\">\r\n                    {\r\n                        personalStudyInfo.length > 0?\r\n                        personalStudyInfo.map((item, index)=>{\r\n                            return (\r\n                                <li key={index}>\r\n                                    <i className={\"ranklogo \" + \r\n                                    (index == 0? \"one\":\r\n                                    index == 1? \"two\": \r\n                                    index == 2? \"three\":\r\n                                    \"\")}></i>\r\n                                    {\r\n                                        item.name?\r\n                                        <img src={item.photo}/>:\r\n                                        \"\"\r\n                                    }\r\n                                    <span \r\n                                    className=\"rank-name\" \r\n                                    title={item.name || item.className}>\r\n                                        {item.name || item.className}\r\n                                    </span>\r\n                                    <span className={\"rank-grade \" + \r\n                                    (index == 0? \"one\":\r\n                                    index == 1? \"two\": \r\n                                    index == 2? \"three\":\r\n                                    \"\")} title={typeof item.score == \"number\"? item.score + \"h\": \"--\"}>\r\n                                        {typeof item.score == \"number\"? item.score: \"--\"}h\r\n                                    </span>\r\n                                </li>\r\n                            )\r\n                        }):\r\n                        <Empty\r\n                        // className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                    </ul>   \r\n                </div>\r\n            </div>\r\n            </Loading>\r\n            \r\n\r\n            \r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(LeaderConditionRank)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Popover, Carousel } from \"antd\";\r\n// import echarts from \"echarts\";\r\nimport * as echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty, Loading } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction CourseShow(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n        reflash\r\n    } = props;\r\n    const [courseShowInfo, setCourseShowInfo] = useState({});\r\n    //领导端数据结构不一样，需要另外存储\r\n    const [leaderCourseShowInfo, setLeaderCourseShowInfo] = useState([]);\r\n    const [leaderCourseGradeInfo, setLeaderCourseGradeInfo] = useState([]);\r\n    const [visible, setVisible] = useState(true);\r\n\r\n    const [courseGradeInfo, setCourseGradeInfo] = useState([]);\r\n    const [classRateInfo, setClassRateInfo] = useState({});\r\n    const [allRateInfo, setAllRateInfo] = useState({});\r\n    const [allSubjectList, setAllSubjectList] = useState([]);\r\n    const [currentSubject, setCurrentSubject] = useState(\"\");\r\n    const switchMonth = (value) => {\r\n        //根据日期化为月份展示\r\n        let str = \"\";\r\n        switch(value){\r\n            case \"01\":\r\n                str = \"一月份\";\r\n                break;\r\n            case \"02\":\r\n                str = \"二月份\";\r\n                break;\r\n            case \"03\":\r\n                str = \"三月份\";\r\n                break;\r\n            case \"04\":\r\n                str = \"四月份\";\r\n                break;\r\n            case \"05\":\r\n                str = \"五月份\";\r\n                break;\r\n            case \"06\":\r\n                str = \"六月份\";\r\n                break;\r\n            case \"07\":\r\n                str = \"七月份\";\r\n                break;\r\n            case \"08\":\r\n                str = \"八月份\";\r\n                break;\r\n            case \"09\":\r\n                str = \"九月份\";\r\n                break;\r\n            case \"10\":\r\n                str = \"十月份\";\r\n                break;\r\n            case \"11\":\r\n                str = \"十一月份\";\r\n                break;\r\n            case \"12\":\r\n                str = \"十二月份\";\r\n                break;\r\n            default:\r\n                str = \"\";\r\n                break;\r\n        }\r\n        return str;\r\n    }\r\n    let colorList = [\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#1da4fe'\r\n        },{\r\n            offset: 1,\r\n            color: '#7ecbff'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#51ca51'\r\n        },{\r\n            offset: 1,\r\n            color: '#a0dea0'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#F79750'\r\n        },{\r\n            offset: 1,\r\n            color: '#FFB681'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#2D3149'\r\n        },{\r\n            offset: 1,\r\n            color: '#363D71'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#E84956'\r\n        },{\r\n            offset: 1,\r\n            color: '#E9707A'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#6E54CC'\r\n        },{\r\n            offset: 1,\r\n            color: '#7E90E9'\r\n        }])\r\n    ];\r\n    //获取全年级课堂表现数据\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"manager\"){\r\n            return;\r\n        }\r\n        if(!currentGrade){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        //课堂活跃表现\r\n        let url = BasicProxy + \"/api/learning2/performance/statistics?type=3\" +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setAllRateInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    //获取班级课堂表现数据\r\n    useLayoutEffect(() => {\r\n        if(userIdentity != \"student\" || !UserID || !currentClass || !currentGrade){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        //课堂活跃表现\r\n        let url = BasicProxy + \"/api/learning2/performance/statistics?type=2\" +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setClassRateInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    //获取对应身份展示的表现数据\r\n    useLayoutEffect(() => {\r\n        setVisible(true);\r\n        if(userIdentity == \"manager\" && !currentClass && !currentGrade){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        // SchoolID = \"S27-511-AF57\";\r\n        // currentTermInfo.termId = \"2020-202101\";\r\n        // currentClass = \"d8ed1a21-39bc-4403-8330-5f9bd578f721\";\r\n        // currentGrade = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\"; \r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        //课堂活跃表现\r\n        let url = BasicProxy + \"/api/learning2/performance/statistics?type=\" +\r\n        (userIdentity == \"student\"?\r\n        1:\r\n        userIdentity == \"teacher\"?\r\n        2:\r\n        currentClass?\r\n        2:\r\n        currentGrade?\r\n        3:\r\n        4) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setCourseShowInfo(result.data);\r\n            }\r\n            setVisible(false);\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    //获取各学科课堂表现分数\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"manager\" && !currentClass && !currentGrade){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        //课堂活跃表现\r\n        let url = BasicProxy + \"/api/learning2/performance/subject?type=\" +\r\n        (userIdentity == \"student\"?\r\n        1:\r\n        userIdentity == \"teacher\"?\r\n        2:\r\n        currentClass?\r\n        2:\r\n        currentGrade?\r\n        3:\r\n        4) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setCourseGradeInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    //获取领导端对应身份展示的表现数据\r\n    useLayoutEffect(() => {\r\n        setVisible(true);\r\n        if(userIdentity != \"manager\" || currentGrade || currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        //课堂活跃表现\r\n        let url = BasicProxy + \"/api/learning2/performance/statistics/batch?type=4\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setLeaderCourseShowInfo(result.data);\r\n            }\r\n        })\r\n        //查学校时需要请求原接口\r\n        url = BasicProxy + \"/api/learning2/performance/statistics?type=3\" +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setCourseShowInfo(result.data);\r\n            }\r\n            setVisible(false);\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, SchoolID, currentTerm, reflash]);\r\n    //获取领导端各学科课堂表现分数\r\n    useLayoutEffect(() => {\r\n        if(userIdentity != \"manager\" || currentGrade || currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        //课堂活跃表现\r\n        let url = BasicProxy + \"/api/learning2/performance/subject/batch?type=3\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setLeaderCourseGradeInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, SchoolID, reflash]);\r\n    useEffect(() => { \r\n        if(userIdentity == \"manager\" && !currentClass && !currentGrade){\r\n            return;\r\n        }\r\n        if(\r\n            !courseShowInfo.lessonBonusRateDataList || \r\n            courseShowInfo.lessonBonusRateDataList.length == 0){\r\n            return;\r\n        }\r\n        let seriesList = [];\r\n        let xList = [], myDataList = [], classDataList = [], gradeDataList = [];\r\n        //获取所有学科列表并将数据按学科分类\r\n        courseShowInfo.lessonBonusRateDataList && \r\n        courseShowInfo.lessonBonusRateDataList.forEach((item)=>{\r\n            xList.push(item.subjectName);\r\n            myDataList.push(parseInt(item.rate*100).toFixed(1));\r\n        })\r\n        //将年级,班级数据分类\r\n        xList.forEach((item)=>{\r\n            allRateInfo.lessonBonusRateDataList && \r\n            allRateInfo.lessonBonusRateDataList.forEach((child)=>{\r\n                if(child.subjectName == item){\r\n                    gradeDataList.push((child.rate*100).toFixed(1));\r\n                }\r\n            })\r\n            classRateInfo.lessonBonusRateDataList && \r\n            classRateInfo.lessonBonusRateDataList.forEach((child)=>{\r\n                if(child.subjectName == item){\r\n                    classDataList.push((child.rate*100).toFixed(1));\r\n                }\r\n            })\r\n        })\r\n        if(userIdentity == 'teacher'){\r\n            seriesList = [\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data: myDataList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data: gradeDataList\r\n                },\r\n                \r\n            ];\r\n        }\r\n        if(userIdentity == 'student'){\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myDataList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classDataList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeDataList\r\n                },\r\n                \r\n            ];\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"grade-compare-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '各学科加分率百分比',\r\n                left: 'center',\r\n                top: '10px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 75,\r\n                bottom: xList.length > 6? 100: 90\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}%</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '40px',\r\n                right: '10%',\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    },\r\n                    formatter: function(value){\r\n                        return value.length > 4? value.substr(0, 4) + \"...\": value;\r\n                    }\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 6,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 70\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [courseShowInfo, leaderCourseShowInfo, userIdentity]);\r\n    useEffect(() => {\r\n        if(userIdentity == \"manager\" && !currentClass && !currentGrade){\r\n            return;\r\n        }\r\n        if(courseGradeInfo.length == 0){\r\n            return;\r\n        }\r\n        let seriesList = [];\r\n        let xList = [], sumList = [], addList = [], reduceList = [], sujbectList = [], dataList = [];\r\n        //获取学科列表\r\n        courseGradeInfo.forEach((item)=>{\r\n            sujbectList.push(item.subjectName);\r\n            \r\n        })\r\n        sujbectList = [...new Set(sujbectList)];\r\n        \r\n        allSubjectList.length == 0 && setAllSubjectList(sujbectList);\r\n        !currentSubject && setCurrentSubject(sujbectList[0]);\r\n\r\n        //获取当前学科数据\r\n        courseGradeInfo.forEach((item)=>{\r\n            if(item.subjectName == currentSubject){\r\n                dataList.push(item);\r\n                xList.push(switchMonth(item.date.substr(5, 2)));\r\n            }\r\n        })\r\n        //将各数据按日期分类\r\n        xList = [...new Set(xList)];\r\n        xList.forEach((item)=>{\r\n            let sum = 0;\r\n            dataList.forEach((child)=>{\r\n                if(switchMonth(child.date.substr(5, 2)) == item){\r\n                    sum += child.score;\r\n                }\r\n            })\r\n            addList.push(sum);\r\n        })\r\n        if(userIdentity == 'teacher'){\r\n            seriesList = [\r\n                // {\r\n                //     name: '总分',\r\n                //     type: 'line',\r\n                //     // stack: '总量', //数据堆叠，同个类目轴上系列配置相同的stack值可以堆叠放置。\r\n                //     lineStyle: {\r\n                //         color: '#ff0000',\r\n                //         width: 1,\r\n                //         borderColor: '#ff0000',\r\n                //         emphasis: {\r\n                //             width: 1\r\n                //         }\r\n                //     },\r\n                //     itemStyle: {\r\n                //         color: '#ff0000'\r\n                //     },\r\n                //     data: [320, 302, 342, 374, 390, 450, 420]\r\n                // },\r\n                {\r\n                    name: '加分',\r\n                    type: 'bar',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data: addList\r\n                },\r\n                // {\r\n                //     name: '扣分',\r\n                //     type: 'bar',\r\n                //     barWidth: 16,\r\n                //     itemStyle: {\r\n                //         color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                //             offset: 0,\r\n                //             color: '#ffe88a'\r\n                //         },{\r\n                //             offset: 1,\r\n                //             color: '#ffb709'\r\n                //         }])\r\n                //     }, \r\n                //     data: [-120, -132, -102, -134, -190, -230, -210]\r\n                // }\r\n            ]\r\n        }\r\n        if(userIdentity == 'student'){\r\n            seriesList = [\r\n                {\r\n                    name: '个人',\r\n                    type: 'line',\r\n                    // stack: '总量', //数据堆叠，同个类目轴上系列配置相同的stack值可以堆叠放置。\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data: addList\r\n                },\r\n                {\r\n                    name: '加分',\r\n                    type: 'bar',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data: addList\r\n                },\r\n                // {\r\n                //     name: '扣分',\r\n                //     type: 'bar',\r\n                //     barWidth: 16,\r\n                //     itemStyle: {\r\n                //         color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                //             offset: 0,\r\n                //             color: '#ffe88a'\r\n                //         },{\r\n                //             offset: 1,\r\n                //             color: '#ffb709'\r\n                //         }])\r\n                //     }, \r\n                //     data: [-120, -132, -102, -134, -190, -230, -210]\r\n                // }\r\n            ]\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"grade-statistic-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '课堂分数统计信息',\r\n                left: 'center',\r\n                top: '10px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 75,\r\n                bottom: xList.length > 6? 100: 90\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}分</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '40px',\r\n                right: '10%',\r\n                // data:['个人','加分','扣分'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 6,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 70\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [10000, 0, 0, 0]\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: [{\r\n                type: 'value',\r\n                name: '分数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                minInterval: 1,\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            }],\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentSubject, userIdentity, courseGradeInfo, leaderCourseGradeInfo, allSubjectList]);\r\n    //领导端查学校调用的图表数据处理方式\r\n    useEffect(() => { \r\n        if(userIdentity != \"manager\" || currentClass || currentGrade){\r\n            return;\r\n        }\r\n        if(leaderCourseShowInfo.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], seriesList = [];\r\n        //获取所有学科列表并将数据按学科分类\r\n        leaderCourseShowInfo.forEach((item)=>{\r\n            item.performanceStatistics &&\r\n            Array.isArray(item.performanceStatistics.lessonBonusRateDataList) &&\r\n            item.performanceStatistics.lessonBonusRateDataList.forEach((child)=>{\r\n                xList.push(child.subjectName);\r\n            })\r\n        })\r\n        xList = [...new Set(xList)];\r\n\r\n        //每个年级的数据按学科顺序排列\r\n        leaderCourseShowInfo.forEach((item, index)=>{\r\n            let arr = [];\r\n            xList.forEach((child)=>{\r\n                let sign = false; //用于判断当前年级是否有该科目，若无则添加空数据进去\r\n                item.performanceStatistics &&\r\n                Array.isArray(item.performanceStatistics.lessonBonusRateDataList) &&\r\n                item.performanceStatistics.lessonBonusRateDataList.forEach((child2)=>{\r\n                    if(child2.subjectName == child){\r\n                        arr.push((child2.rate*100).toFixed(1));\r\n                        sign = true;\r\n                    }\r\n                })\r\n                if(!sign){\r\n                    arr.push(\"\");\r\n                }\r\n            })\r\n            seriesList.push({\r\n                name: item.gradeName,\r\n                type: 'bar',\r\n                // barWidth : 16,\r\n                itemStyle: {\r\n                    color: colorList[index%6]\r\n                },\r\n                data: arr\r\n            })\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"grade-compare-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '各学科加分率百分比',\r\n                left: 'center',\r\n                top: '10px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 75,\r\n                bottom: xList.length > 6? 100: 90\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}%</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                width: \"62%\",\r\n                type: \"scroll\",\r\n                top: '40px',\r\n                right: 'center',\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    },\r\n                    formatter: function(value){\r\n                        return value.length > 4? value.substr(0, 4) + \"...\": value;\r\n                    }\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 6,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 70\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [courseShowInfo, leaderCourseShowInfo, userIdentity]);\r\n    useEffect(() => {\r\n        if(userIdentity != \"manager\" || currentClass || currentGrade){\r\n            return;\r\n        }\r\n        if(leaderCourseGradeInfo.length == 0){\r\n            return;\r\n        }\r\n        let seriesList = [];\r\n        let xList = [], sumList = [], addList = [], reduceList = [], sujbectList = [], dataList = [];\r\n        //获取学科列表\r\n        leaderCourseGradeInfo.forEach((item)=>{\r\n            item.everydayLessonScoreDataList.forEach((child)=>{\r\n                sujbectList.push(child.subjectName);\r\n            }) \r\n        })\r\n        sujbectList = [...new Set(sujbectList)];\r\n        if(sujbectList.length == 0){\r\n            return;\r\n        }\r\n        allSubjectList.length == 0 && setAllSubjectList(sujbectList);\r\n        !currentSubject && setCurrentSubject(sujbectList[0]);\r\n\r\n        //获取当前学科数据\r\n        leaderCourseGradeInfo.forEach((item)=>{\r\n            item.everydayLessonScoreDataList.forEach((child)=>{\r\n                if(child.subjectName == currentSubject){\r\n                    dataList.push(child);\r\n                    xList.push(child.date);\r\n                    // xList.push(switchMonth(item.date.substr(5, 2)));\r\n                }\r\n            })\r\n        })\r\n        //将各数据按日期分类\r\n        xList = [...new Set(xList)];\r\n        xList.forEach((item)=>{\r\n            let sum = 0;\r\n            dataList.forEach((child)=>{\r\n                if(child.date == item){\r\n                    sum += child.score;\r\n                }\r\n            })\r\n            addList.push(sum);\r\n        })\r\n            seriesList = [\r\n                // {\r\n                //     name: '总分',\r\n                //     type: 'line',\r\n                //     // stack: '总量', //数据堆叠，同个类目轴上系列配置相同的stack值可以堆叠放置。\r\n                //     lineStyle: {\r\n                //         color: '#ff0000',\r\n                //         width: 1,\r\n                //         borderColor: '#ff0000',\r\n                //         emphasis: {\r\n                //             width: 1\r\n                //         }\r\n                //     },\r\n                //     itemStyle: {\r\n                //         color: '#ff0000'\r\n                //     },\r\n                //     data: [320, 302, 342, 374, 390, 450, 420]\r\n                // },\r\n                {\r\n                    name: '加分',\r\n                    type: 'bar',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data: addList\r\n                },\r\n                // {\r\n                //     name: '扣分',\r\n                //     type: 'bar',\r\n                //     barWidth: 16,\r\n                //     itemStyle: {\r\n                //         color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                //             offset: 0,\r\n                //             color: '#ffe88a'\r\n                //         },{\r\n                //             offset: 1,\r\n                //             color: '#ffb709'\r\n                //         }])\r\n                //     }, \r\n                //     data: [-120, -132, -102, -134, -190, -230, -210]\r\n                // }\r\n            ]\r\n        let myEchart = echarts.init(document.getElementById(\"grade-statistic-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '课堂分数统计信息',\r\n                left: 'center',\r\n                top: '10px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 75,\r\n                bottom: xList.length > 6? 100: 90\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}分</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '40px',\r\n                right: '10%',\r\n                // data:['个人','加分','扣分'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 70\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [10000, 0, 0, 0]\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: [{\r\n                type: 'value',\r\n                name: '分数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                minInterval: 1,\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            }],\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentSubject, userIdentity, courseGradeInfo, leaderCourseGradeInfo, allSubjectList]);\r\n    let updateSubjectList = [];\r\n    let arr = [];\r\n    //每7个化为一页，进行轮播\r\n    Array.isArray(allSubjectList) && allSubjectList.forEach((item, index)=>{\r\n        arr.push(item);\r\n        if(((index + 1) % 7 == 0) || index == allSubjectList.length - 1){\r\n            updateSubjectList.push(arr);\r\n            arr = [];\r\n        }\r\n    })\r\n    return (\r\n      <div className=\"course-show\">\r\n          <Loading\r\n          opacity={false}\r\n          tip=\"加载中...\"\r\n          spinning={visible}>\r\n            {\r\n                userIdentity == 'teacher' || userIdentity == \"manager\"?\r\n                <div className=\"show-top\">\r\n                    {/* <div className=\"course-liveness\" style={{marginRight: 107}}>\r\n                        <Popover\r\n                        content={\r\n                            <div className=\"circle-tootip\">\r\n                                <p className=\"tooltip-title\">活跃人数</p>\r\n                                <ul className=\"tooltip-list\">\r\n                                    <li>一年级平均活跃人数 3人/课</li>\r\n                                    <li>一年级平均活跃人数 3人/课</li>\r\n                                    <li>一年级平均活跃人数 3人/课</li>\r\n                                    <li>一年级平均活跃人数 3人/课</li>\r\n                                </ul>\r\n                            </div>\r\n                        }>\r\n                            <div className=\"circle-blue\">\r\n                                {\"--\"}\r\n                            </div>\r\n                        </Popover>\r\n                        \r\n                        <p>课堂平均活跃人数</p>\r\n                    </div> */}\r\n                    <div className=\"course-add\" style={{marginRight: 107}}>\r\n                        <div className=\"circle-violet\">\r\n                            {typeof courseShowInfo.addAll == 'number' && \r\n                            typeof courseShowInfo.subtractAll == 'number'?\r\n                            (courseShowInfo.addAll - courseShowInfo.subtractAll).toFixed(1):\r\n                            \"--\"}\r\n                        </div>\r\n                        <p>课堂平均分</p>\r\n                    </div>\r\n                    <div className=\"course-reduce\" style={{marginRight: 107}}>\r\n                        <div className=\"circle-orange\">\r\n                            {typeof courseShowInfo.addAll == \"number\"?\r\n                            courseShowInfo.addAll.toFixed(1):\r\n                            \"--\"}\r\n                        </div>\r\n                        <p>课堂平均加分</p>\r\n                    </div>\r\n                    {/* <div className=\"raise-hand\" style={{marginRight: 107}}>\r\n                        <div className=\"circle-red\">\r\n                            {typeof courseShowInfo.subtractAll == \"number\"?\r\n                            courseShowInfo.subtractAll.toFixed(1):\r\n                            \"--\"}\r\n                        </div>\r\n                        <p>课堂平均扣分</p>\r\n                    </div> */}\r\n                    <div className=\"raise-hand\">\r\n                        <div className=\"circle-green\">\r\n                            {typeof courseShowInfo.raiseAll == \"number\"?\r\n                            courseShowInfo.raiseAll.toFixed(1):\r\n                            \"--\"}\r\n                        </div>\r\n                        <p>平均举手次数</p>\r\n                    </div>\r\n                </div>:\r\n                <div className=\"show-top\"> \r\n                    {/* <div className=\"course-liveness\">\r\n                        <Popover\r\n                        placement=\"bottomLeft\"\r\n                        content={\r\n                            <div className=\"circle-tootip\">\r\n                                <p className=\"tooltip-title\">活跃人数</p>\r\n                                <ul className=\"tooltip-list\">\r\n                                    <li>一年级平均活跃人数 <span>3人/课</span><i className=\"downlogo\"></i></li>\r\n                                    <li>一年级平均活跃人数 <span>3人/课</span><i className=\"uplogo\"></i></li>\r\n                                    <li>一年级平均活跃人数 <span>3人/课</span></li>\r\n                                    <li>一年级平均活跃人数 <span>3人/课</span></li>\r\n                                </ul>\r\n                            </div>\r\n                        }>\r\n                            <div className=\"circle-blue\">\r\n                                50\r\n                            </div>\r\n                        </Popover>\r\n                        <p>课堂活跃度</p>\r\n                    </div> */}\r\n                    <div className=\"course-add\">\r\n                        <div className=\"circle-orange\">\r\n                            {courseShowInfo.addAll}\r\n                        </div>\r\n                        <p>课堂加分</p>\r\n                    </div>\r\n                    {/* <div className=\"course-reduce\">\r\n                        <div className=\"circle-red\">\r\n                            {courseShowInfo.subtractAll}\r\n                        </div>\r\n                        <p>课堂扣分</p>\r\n                    </div> */}\r\n                    <div className=\"raise-hand\">\r\n                        <div className=\"circle-green\">\r\n                            {courseShowInfo.raiseAll}\r\n                        </div>\r\n                        <p>举手次数</p>\r\n                    </div>\r\n                </div>\r\n          }\r\n          \r\n          <div className=\"show-bottom\">\r\n                <div className=\"grade-compare-status\">\r\n                    {/* 暂时没有扣分率 */}\r\n                    {/* <div className=\"kind-list\" style={{margin: \"24px 0 0 67px\"}}>\r\n                        <span>类型:</span>\r\n                        <span className=\"list-one\">加分率</span>\r\n                        <span className=\"list-slice-line\"></span>\r\n                        <span className=\"list-one\">扣分率</span>\r\n                    </div> */}\r\n                    {\r\n                        userIdentity == \"manager\" && !currentClass && !currentGrade?\r\n                        leaderCourseShowInfo.length == 0?\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        style={{margin: \"80px 0 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>:\r\n                        <div className=\"grade-compare-echart\" style={{marginTop: 45}} id=\"grade-compare-echart\"></div>:\r\n                        !courseShowInfo.lessonBonusRateDataList || courseShowInfo.lessonBonusRateDataList.length == 0?\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        style={{margin: \"80px 0 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>:\r\n                        <div className=\"grade-compare-echart\" style={{marginTop: 45}} id=\"grade-compare-echart\"></div> \r\n                    }\r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"subject-grade-statistic\">\r\n                    {\r\n                        allSubjectList.length > 0?\r\n                        <div className=\"kind-list\" style={{margin: \"24px 0 0 67px\"}}>\r\n                            <span>学科:</span>\r\n                            <Carousel\r\n                            dots={{\r\n                                className: 'award-dot'\r\n                            }}>\r\n                                {\r\n                                    updateSubjectList.map((item, index)=>{\r\n                                        return (\r\n                                            <span className=\"span-container\" key={index}>\r\n                                                {\r\n                                                    item.map((child, index1)=>{\r\n                                                        return (\r\n                                                            <span className=\"span-container\" key={index1}>\r\n                                                            <span \r\n                                                            className={\"list-one \" + (currentSubject == child? \"active\": \"\")}\r\n                                                            onClick={()=>setCurrentSubject(child)}\r\n                                                            >\r\n                                                                {child}\r\n                                                            </span>\r\n                                                            {\r\n                                                                index1 != item.length - 1?\r\n                                                                <span className=\"list-slice-line\"></span>:\r\n                                                                \"\"\r\n                                                            }\r\n                                                            </span>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            \r\n                                            </span>\r\n                                        )\r\n                                        item.forEach((child, index1)=>{\r\n                                            return \r\n                                        })\r\n                                    })\r\n                                }\r\n                            {/* {\r\n                                allSubjectList.map((item, index)=>{\r\n                                    return (\r\n                                        <div key={index} className=\"span-container\">\r\n                                            <span \r\n                                            className={\"list-one \" + (currentSubject == item? \"active\": \"\")}\r\n                                            onClick={()=>setCurrentSubject(item)}\r\n                                            >\r\n                                                {item}\r\n                                            </span>\r\n                                            {\r\n                                                index != allSubjectList.length - 1?\r\n                                                <span className=\"list-slice-line\"></span>:\r\n                                                \"\"\r\n                                            }\r\n                                            \r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            } */}\r\n                            </Carousel>\r\n                            {/* <span className=\"list-one\">数学</span>\r\n                            <span className=\"list-slice-line\"></span>\r\n                            <span className=\"list-one\">英语</span> */}\r\n                        </div>:\r\n                        \"\"\r\n                    }\r\n                    {\r\n                        userIdentity == \"manager\" && !currentClass && !currentGrade?\r\n                        leaderCourseGradeInfo.length > 0?\r\n                        <div className=\"grade-statistic-echart\" id=\"grade-statistic-echart\"></div>:\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        style={{margin: \"80px 0 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>:\r\n                        courseGradeInfo.length > 0?\r\n                        <div className=\"grade-statistic-echart\" id=\"grade-statistic-echart\"></div>:\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        style={{margin: \"80px 0 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                    \r\n                </div>\r\n          </div>\r\n          </Loading>\r\n          \r\n      </div>\r\n    );\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(CourseShow)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n    useStore,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Progress, Select, Popover, Carousel } from \"antd\";\r\n\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nimport { Empty, Loading } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst { Option } = Select;\r\n\r\nfunction DetailWork(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n    } = props;\r\n    //年级的数据\r\n    const [gradeCompleteRateList, setGradeCompleteRateList] = useState([]);\r\n    const [gradePassRateList, setGradePassRateList] = useState([]);\r\n    const [gradeAvgScoreList, setGradeAvgScoreList] = useState([]);\r\n    const [gradeDetailScoreList, setGradeDetailScoreList] = useState([]);\r\n    //班级的数据\r\n    const [classCompleteRateList, setClassCompleteRateList] = useState([]);\r\n    const [classPassRateList, setClassPassRateList] = useState([]);\r\n    const [classAvgScoreList, setClassAvgScoreList] = useState([]);\r\n    const [classDetailScoreList, setClassDetailScoreList] = useState([]);\r\n    //根据身份取得数据\r\n    const [rankInfo, setRankInfo] = useState({});\r\n    const [classRankInfo, setClassRankInfo] = useState({});\r\n    const [gradeRankInfo, setGradeRankInfo] = useState({});\r\n    const [completeRateList, setCompleteRateList] = useState([]);\r\n    const [passRateList, setPassRateList] = useState([]);\r\n    const [avgScoreList, setAvgScoreList] = useState([]);\r\n    const [completeVisible, setCompleteVisible] = useState(true);\r\n    const [passVisible, setPassVisible] = useState(true);\r\n    const [avgVisible, setAvgVisible] = useState(true);\r\n    const [subjectVisible, setSubjectVisible] = useState(true);\r\n    //day是按日，week按周，month按月\r\n    const [completeRateType, setCompleteRateType] = useState(\"day\");\r\n    const [passRateType, setPassRateType] = useState(\"day\");\r\n    const [detailScoreList, setDetailScoreList] = useState([]);\r\n    const [subjectList, setSubjectList] = useState([]);\r\n    const [currentSubject, setCurrentSubject] = useState(\"\");\r\n    let colorList = [\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#1da4fe'\r\n        },{\r\n            offset: 1,\r\n            color: '#7ecbff'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#51ca51'\r\n        },{\r\n            offset: 1,\r\n            color: '#a0dea0'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#F79750'\r\n        },{\r\n            offset: 1,\r\n            color: '#FFB681'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#2D3149'\r\n        },{\r\n            offset: 1,\r\n            color: '#363D71'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#E84956'\r\n        },{\r\n            offset: 1,\r\n            color: '#E9707A'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#6E54CC'\r\n        },{\r\n            offset: 1,\r\n            color: '#7E90E9'\r\n        }])\r\n    ];\r\n    //获取年级数据用于比较\r\n    useLayoutEffect(() => {\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取全年级各科作业平均分\r\n        let url = BasicProxy + \"/api/learning2/homework/avgScore?type=3\" +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeAvgScoreList(result.data);\r\n            }\r\n        })\r\n\r\n        //获取全年级日常作业分数\r\n        url = BasicProxy + \"/api/learning2/homework/score?type=3\" +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeDetailScoreList(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    //获取年级作业完成率\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n\r\n        // SchoolID = \"S27-511-AF57\";\r\n        // currentTermInfo.termId = \"2020-202101\";\r\n        // currentClass = \"d8ed1a21-39bc-4403-8330-5f9bd578f721\";\r\n        // currentGrade = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\"; \r\n        let url = BasicProxy + \"/api/learning2/homework/rate/date?type=3\" +\r\n        \"&statisticalType=\" + (\r\n            completeRateType == \"day\"?\r\n            1:\r\n            completeRateType == \"week\"?\r\n            2:\r\n            completeRateType == \"month\"?\r\n            3:\r\n            1\r\n        ) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeCompleteRateList(result.data);\r\n            }\r\n        })\r\n    }, [completeRateType, currentTerm, currentGrade, currentClass])\r\n    //获取年级作业及格率\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n\r\n        // SchoolID = \"S27-511-AF57\";\r\n        // currentTermInfo.termId = \"2020-202101\";\r\n        // currentClass = \"d8ed1a21-39bc-4403-8330-5f9bd578f721\";\r\n        // currentGrade = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\"; \r\n        let url = BasicProxy + \"/api/learning2/homework/rate/date?type=3\" +\r\n        \"&statisticalType=\" + (\r\n            passRateType == \"day\"?\r\n            1:\r\n            passRateType == \"week\"?\r\n            2:\r\n            passRateType == \"month\"?\r\n            3:\r\n            1\r\n        ) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradePassRateList(result.data);\r\n            }\r\n        })\r\n    }, [passRateType, currentTerm, currentGrade, currentClass])\r\n    //学生获取班级数据用于比较\r\n    useLayoutEffect(() => {\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        if(userIdentity != \"student\"){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取班级各科作业平均分\r\n        let url = BasicProxy + \"/api/learning2/homework/avgScore?type=2\" +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setClassAvgScoreList(result.data);\r\n            }\r\n        })\r\n\r\n        //获取班级日常作业分数\r\n        url = BasicProxy + \"/api/learning2/homework/score?type=2\" +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setClassDetailScoreList(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    //获取班级作业完成率\r\n    useLayoutEffect(() => {\r\n        if(userIdentity != \"student\"){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n\r\n        // SchoolID = \"S27-511-AF57\";\r\n        // currentTermInfo.termId = \"2020-202101\";\r\n        // currentClass = \"d8ed1a21-39bc-4403-8330-5f9bd578f721\";\r\n        // currentGrade = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\"; \r\n        let url = BasicProxy + \"/api/learning2/homework/rate/date?type=2\" +\r\n        \"&statisticalType=\" + (\r\n            completeRateType == \"day\"?\r\n            1:\r\n            completeRateType == \"week\"?\r\n            2:\r\n            completeRateType == \"month\"?\r\n            3:\r\n            1\r\n        ) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setClassCompleteRateList(result.data);\r\n            }\r\n        })\r\n    }, [completeRateType, currentTerm, currentGrade, currentClass])\r\n    //获取班级作业及格率\r\n    useLayoutEffect(() => {\r\n        if(userIdentity != \"student\"){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n\r\n        // SchoolID = \"S27-511-AF57\";\r\n        // currentTermInfo.termId = \"2020-202101\";\r\n        // currentClass = \"d8ed1a21-39bc-4403-8330-5f9bd578f721\";\r\n        // currentGrade = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\"; \r\n        let url = BasicProxy + \"/api/learning2/homework/rate/date?type=2\" +\r\n        \"&statisticalType=\" + (\r\n            passRateType == \"day\"?\r\n            1:\r\n            passRateType == \"week\"?\r\n            2:\r\n            passRateType == \"month\"?\r\n            3:\r\n            1\r\n        ) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setClassPassRateList(result.data);\r\n            }\r\n        })\r\n    }, [passRateType, currentTerm, currentGrade, currentClass])\r\n    //获取数据\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        //领导端查学校是另一个接口\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        //获取个人及格率和完成率\r\n        let url = BasicProxy + \"/api/learning2/homework/rate?type=\" +\r\n        (userIdentity == \"student\"?\r\n        1:\r\n        userIdentity == \"teacher\"?\r\n        2:\r\n        currentClass?\r\n        2:\r\n        currentGrade?\r\n        3:\r\n        4) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setRankInfo(result.data);\r\n            }\r\n        })\r\n        //获取年级及格率和完成率用于悬浮框显示\r\n        url = BasicProxy + \"/api/learning2/homework/rate?type=3\" +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeRankInfo(result.data);\r\n            }\r\n        })\r\n        setAvgVisible(true);\r\n        //获取各科作业平均分\r\n        url = BasicProxy + \"/api/learning2/homework/avgScore?type=\" +\r\n        (userIdentity == \"manager\"? \r\n        currentClass? \r\n        2: \r\n        currentGrade? \r\n        3:\r\n        4:\r\n        userIdentity == \"teacher\"? 2:\r\n        1) +\r\n        \"&studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setAvgScoreList(result.data);\r\n            }\r\n            setAvgVisible(false);\r\n        })\r\n        setSubjectVisible(true);\r\n        //获取日常作业分数\r\n        url = BasicProxy + \"/api/learning2/homework/score?type=\" +\r\n        (userIdentity == \"manager\"? \r\n        currentClass? \r\n        2: \r\n        currentGrade? \r\n        3:\r\n        4:\r\n        userIdentity == \"teacher\"? 2:\r\n        1) +\r\n        \"&studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setDetailScoreList(result.data);\r\n            }\r\n            setSubjectVisible(false);\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    useLayoutEffect(() => {\r\n        //领导端查学校是另一个接口\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        setCompleteVisible(true);\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        let url = BasicProxy + \"/api/learning2/homework/rate/date?type=\" +\r\n        (userIdentity == \"student\"?\r\n        1:\r\n        userIdentity == \"teacher\"?\r\n        2:\r\n        currentClass?\r\n        2:\r\n        currentGrade?\r\n        3:\r\n        4) +\r\n        \"&statisticalType=\" + (\r\n            completeRateType == \"day\"?\r\n            1:\r\n            completeRateType == \"week\"?\r\n            2:\r\n            completeRateType == \"month\"?\r\n            3:\r\n            1\r\n        ) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setCompleteRateList(result.data);\r\n            }\r\n            setCompleteVisible(false);\r\n        })\r\n    }, [completeRateType, currentTerm, currentGrade, currentClass])\r\n    useLayoutEffect(() => {\r\n        //领导端查学校是另一个接口\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        setPassVisible(true);\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        let url = BasicProxy + \"/api/learning2/homework/rate/date?type=\" +\r\n        (userIdentity == \"student\"?\r\n        1:\r\n        userIdentity == \"teacher\"?\r\n        2:\r\n        currentClass?\r\n        2:\r\n        currentGrade?\r\n        3:\r\n        4) +\r\n        \"&statisticalType=\" + (\r\n            passRateType == \"day\"?\r\n            1:\r\n            passRateType == \"week\"?\r\n            2:\r\n            passRateType == \"month\"?\r\n            3:\r\n            1\r\n        ) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setPassRateList(result.data);\r\n            }\r\n            setPassVisible(false);\r\n        })\r\n    }, [passRateType, currentTerm, currentGrade, currentClass])\r\n    //领导端获取数据\r\n    useLayoutEffect(() => {\r\n        if(userIdentity != \"manager\" || currentGrade || currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        //获取及格率和完成率\r\n        let url = BasicProxy + \"/api/learning2/homework/rate?type=4\" +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setRankInfo(result.data);\r\n            }\r\n        })\r\n        setAvgVisible(true);\r\n        //获取各科作业平均分\r\n        url = BasicProxy + \"/api/learning2/homework/avgScore/batch?type=3\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setAvgScoreList(result.data);\r\n            }\r\n            setAvgVisible(false);\r\n        })\r\n        setSubjectVisible(true);\r\n        //获取日常作业分数\r\n        url = BasicProxy + \"/api/learning2/homework/score/batch?type=3\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setDetailScoreList(result.data);\r\n            }\r\n            setSubjectVisible(false);\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    //获取各学科作业完成率和及格率\r\n    useLayoutEffect(() => {\r\n        setCompleteVisible(true);\r\n        if(userIdentity != \"manager\" || currentGrade || currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n\r\n        // SchoolID = \"S27-511-AF57\";\r\n        // currentTermInfo.termId = \"2020-202101\";\r\n        // currentClass = \"d8ed1a21-39bc-4403-8330-5f9bd578f721\";\r\n        // currentGrade = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\"; \r\n        let url = BasicProxy + \"/api/learning2/homework/rate/date/batch?type=3\" +\r\n        \"&statisticalType=\" + (\r\n            completeRateType == \"day\"?\r\n            1:\r\n            completeRateType == \"week\"?\r\n            2:\r\n            completeRateType == \"month\"?\r\n            3:\r\n            1\r\n        ) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setCompleteRateList(result.data);\r\n            }\r\n            setCompleteVisible(false);\r\n        })\r\n    }, [completeRateType, currentTerm, currentGrade, currentClass, userIdentity, SchoolID])\r\n    useLayoutEffect(() => {\r\n        setPassVisible(true);\r\n        if(userIdentity != \"manager\" || currentGrade || currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n\r\n        // SchoolID = \"S27-511-AF57\";\r\n        // currentTermInfo.termId = \"2020-202101\";\r\n        // currentClass = \"d8ed1a21-39bc-4403-8330-5f9bd578f721\";\r\n        // currentGrade = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\"; \r\n        let url = BasicProxy + \"/api/learning2/homework/rate/date/batch?type=3\" +\r\n        \"&statisticalType=\" + (\r\n            passRateType == \"day\"?\r\n            1:\r\n            passRateType == \"week\"?\r\n            2:\r\n            passRateType == \"month\"?\r\n            3:\r\n            1\r\n        ) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setPassRateList(result.data);\r\n            }\r\n            setPassVisible(false);\r\n        })\r\n    }, [passRateType, currentTerm, currentGrade, currentClass, userIdentity, SchoolID])\r\n    //作业完成率图表\r\n    useEffect(() => {\r\n        if(completeRateList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], myList = [], classDataList = [], gradeDataList = [], seriesList = [];\r\n        \r\n        if(userIdentity == \"manager\" && !currentClass && !currentGrade){\r\n            completeRateList.forEach((item, index)=>{\r\n                item.homeworkRateList &&\r\n                item.homeworkRateList.forEach((child)=>{\r\n                    xList.push(child.time && child.time.substr(5, 5));\r\n                })\r\n            })\r\n            xList = [...new Set(xList)];\r\n            completeRateList.forEach((item, index)=>{\r\n                let arr = [];\r\n                xList.forEach((child)=>{\r\n                    item.homeworkRateList &&\r\n                    item.homeworkRateList.forEach((child2)=>{\r\n                        if(child2.time.substr(5, 5) == child){\r\n                            arr.push(parseFloat(child2.finishRate*100).toFixed(1));\r\n                        }\r\n                    })\r\n                })\r\n                seriesList.push({\r\n                    type: 'bar',\r\n                    name: item.gradeName,\r\n                    itemStyle: {\r\n                        color: colorList[index%6]\r\n                    }, \r\n                    data: arr\r\n                },)\r\n            })\r\n        } else if(userIdentity == \"student\"){\r\n            completeRateList.forEach((item)=>{\r\n                xList.push(item.time && item.time.substr(5, 5));\r\n                myList.push(parseFloat(item.finishRate*100).toFixed(1));\r\n            })\r\n            classCompleteRateList.forEach((item)=>{\r\n                xList.push(item.time && item.time.substr(5, 5));\r\n                classDataList.push(parseFloat(item.finishRate*100).toFixed(1));\r\n            })\r\n            gradeCompleteRateList.forEach((item)=> {\r\n                gradeDataList.push(parseFloat(item.finishRate*100).toFixed(1));\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '班级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    }, \r\n                    data: classDataList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: gradeDataList\r\n                },\r\n            ]\r\n        } else if(currentClass){\r\n            completeRateList.forEach((item)=>{\r\n                xList.push(item.time && item.time.substr(5, 5));\r\n                classDataList.push(parseFloat(item.finishRate*100).toFixed(1));\r\n            })\r\n            gradeCompleteRateList.forEach((item)=> {\r\n                gradeDataList.push(parseFloat(item.finishRate*100).toFixed(1));\r\n            })\r\n            seriesList = [\r\n                {\r\n                    type: 'bar',\r\n                    name: '班级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    }, \r\n                    data: classDataList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: gradeDataList\r\n                },\r\n            ]\r\n        } else if(currentGrade){\r\n            completeRateList.forEach((item)=>{\r\n                xList.push(item.time && item.time.substr(5, 5));\r\n                myList.push(parseFloat(item.finishRate*100).toFixed(1));\r\n            })\r\n            seriesList = [\r\n                // {\r\n                //     type: 'bar',\r\n                //     name: '班级',\r\n                //     barWidth: 16,\r\n                //     itemStyle: {\r\n                //         color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                //             offset: 0,\r\n                //             color: '#1da4fe'\r\n                //         },{\r\n                //             offset: 1,\r\n                //             color: '#7ecbff'\r\n                //         }])\r\n                //     }, \r\n                //     data: classDataList\r\n                // },\r\n                {\r\n                    type: 'bar',\r\n                    // name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: myList\r\n                },\r\n            ]\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"complete-rate-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            legend: (\r\n                userIdentity != \"manager\" || currentGrade || currentClass?\r\n                {\r\n                right: '10%',\r\n                top: 5\r\n                }:\r\n                {\r\n                    type: 'scroll',\r\n                    width: '62%',\r\n                    left: 'center',\r\n                    top: 5\r\n                }\r\n            ),\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}%</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            grid: {\r\n                top: 40,\r\n                bottom: xList.length > 6? 40: 20\r\n            },\r\n            dataZoom: {\r\n                show:  xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                minValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name:\"日期\",\r\n                nameTextStyle: {\r\n                    color: '#999999'\r\n                },\r\n                axisLabel: {\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n                data: xList\r\n            },\r\n            yAxis: {\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 40]\r\n                },\r\n                axisLabel: {\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [completeRateList, completeRateType]);\r\n    //作业及格率图表\r\n    useEffect(() => {\r\n        if(passRateList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], classDataList = [], gradeDataList = [], seriesList = [], myList = [];\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n           passRateList.forEach((item, index)=>{\r\n                item.homeworkRateList &&\r\n                item.homeworkRateList.forEach((child)=>{\r\n                    xList.push(child.time && child.time.substr(5, 5));\r\n                })\r\n            })\r\n            xList = [...new Set(xList)];\r\n           passRateList.forEach((item, index)=>{\r\n                let arr = [];\r\n                xList.forEach((child)=>{\r\n                    item.homeworkRateList &&\r\n                    item.homeworkRateList.forEach((child2)=>{\r\n                        if(child2.time.substr(5, 5) == child){\r\n                            arr.push((parseFloat(child2.passRate)*100).toFixed(1));\r\n                        }\r\n                    })\r\n                })\r\n                seriesList.push({\r\n                    type: 'bar',\r\n                    name: item.gradeName,\r\n                    itemStyle: {\r\n                        color: colorList[index%6]\r\n                    }, \r\n                    data: arr\r\n                },)\r\n            })\r\n        } else if(userIdentity == \"student\"){\r\n            passRateList.forEach((item)=>{\r\n                xList.push(item.time && item.time.substr(5, 5));\r\n                myList.push(parseFloat(item.passRate*100).toFixed(1));\r\n            })\r\n            classPassRateList.forEach((item)=>{\r\n                classDataList.push(parseFloat(item.passRate*100).toFixed(1));\r\n            })\r\n            gradePassRateList.forEach((item)=>{\r\n                gradeDataList.push(parseFloat(item.passRate*100).toFixed(1));\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '班级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    }, \r\n                    data: classDataList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: gradeDataList\r\n                },\r\n            ]\r\n        } else if(currentClass){\r\n            passRateList.forEach((item)=>{\r\n                xList.push(item.time && item.time.substr(5, 5));\r\n                classDataList.push(parseFloat(item.passRate*100).toFixed(1));\r\n            })\r\n            gradePassRateList.forEach((item)=>{\r\n                gradeDataList.push(parseFloat(item.passRate*100).toFixed(1));\r\n            })\r\n            seriesList = [\r\n                \r\n                {\r\n                    type: 'bar',\r\n                    name: '班级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    }, \r\n                    data: classDataList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: gradeDataList\r\n                },\r\n            ]\r\n        } else {\r\n            passRateList.forEach((item)=>{\r\n                xList.push(item.time && item.time.substr(5, 5));\r\n                myList.push(parseFloat(item.passRate*100).toFixed(1));\r\n            })\r\n            seriesList = [\r\n                {\r\n                    type: 'bar',\r\n                    // name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: myList\r\n                },\r\n            ]\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"pass-rate-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            legend: (\r\n                userIdentity != \"manager\" || currentGrade || currentClass?\r\n                {\r\n                right: '10%',\r\n                top: 5\r\n                }:\r\n                {\r\n                    type: 'scroll',\r\n                    width: '62%',\r\n                    left: 'center',\r\n                    top: 5\r\n                }\r\n            ),\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}%</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            grid: {\r\n                top: 40,\r\n                bottom: xList.length > 6? 40: 20\r\n            },\r\n            dataZoom: {\r\n                show:  xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                minValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name:\"日期\",\r\n                nameTextStyle: {\r\n                    color: '#999999'\r\n                },\r\n                axisLabel: {\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n                data: xList\r\n            },\r\n            yAxis: {\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 40]\r\n                },\r\n                axisLabel: {\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [passRateList, passRateType]);\r\n    //各学科日常作业平均分\r\n    useEffect(() => {\r\n        //获取学科列表\r\n        if(avgScoreList.length == 0){\r\n            return;\r\n        }\r\n        let subjectList = [], classDataList = [], gradeDataList = [], seriesList = [], myList = [];\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            avgScoreList.forEach((item, index)=>{\r\n                item.homeworkScore2List &&\r\n                item.homeworkScore2List.forEach((child)=>{\r\n                    subjectList.push(child.subject);\r\n                })\r\n            })\r\n            subjectList = [...new Set(subjectList)];\r\n           avgScoreList.forEach((item, index)=>{\r\n                let arr = [];\r\n                subjectList.forEach((child)=>{\r\n                    item.homeworkScore2List &&\r\n                    item.homeworkScore2List.forEach((child2)=>{\r\n                        if(child2.subject == child){\r\n                            arr.push(child2.score.toFixed(1));\r\n                        }\r\n                    })\r\n                })\r\n                seriesList.push({\r\n                    type: 'bar',\r\n                    name: item.gradeName,\r\n                    itemStyle: {\r\n                        color: colorList[index%6]\r\n                    }, \r\n                    data: arr\r\n                },)\r\n            })\r\n        } else if(userIdentity == \"student\"){\r\n            avgScoreList.forEach((item)=>{\r\n                subjectList.push(item.subjectName);\r\n                myList.push(item.score.toFixed(1));\r\n            })\r\n            classAvgScoreList.forEach((item)=>{\r\n                classDataList.push(item.score.toFixed(1));\r\n            })\r\n            gradeAvgScoreList.forEach((item)=>{\r\n                gradeDataList.push(item.score.toFixed(1));\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '班级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    }, \r\n                    data: classDataList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: gradeDataList\r\n                },\r\n            ]\r\n        } else if(currentClass){\r\n            avgScoreList.forEach((item)=>{\r\n                subjectList.push(item.subjectName);\r\n                myList.push(item.score.toFixed(1));\r\n            })\r\n            gradeAvgScoreList.forEach((item)=>{\r\n                gradeDataList.push(item.score.toFixed(1));\r\n            })\r\n            seriesList = [\r\n                {\r\n                    type: 'bar',\r\n                    name: '班级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    }, \r\n                    data: myList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: gradeDataList\r\n                },\r\n            ]\r\n        } else {\r\n            avgScoreList.forEach((item)=>{\r\n                subjectList.push(item.subjectName);\r\n                myList.push(item.score.toFixed(1));\r\n            })\r\n            seriesList = [\r\n                {\r\n                    type: 'bar',\r\n                    // name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: myList\r\n                },\r\n            ]\r\n        }\r\n        \r\n        let myEchart = echarts.init(document.getElementById(\"work-avg-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            legend: (\r\n                userIdentity != \"manager\" || currentGrade || currentClass?\r\n                {\r\n                right: '10%',\r\n                top: 5\r\n                }:\r\n                {\r\n                    type: 'scroll',\r\n                    width: '62%',\r\n                    left: 'center',\r\n                    top: 5\r\n                }\r\n            ),\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}分</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            grid: {\r\n                top: 40,\r\n                bottom: subjectList.length > 5? 40: 20\r\n            },\r\n            dataZoom: {\r\n                show: subjectList.length > 5? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999'\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n                data: subjectList\r\n            },\r\n            yAxis: {\r\n                name: '得分',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 40]\r\n                },\r\n                axisLabel: {\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [avgScoreList]);\r\n    //学科日常分数\r\n    useEffect(() => { \r\n        //获取学科列表\r\n        if(detailScoreList.length == 0 && gradeDetailScoreList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], myList = [], classDataList = [], subjectList = [], gradeDataList = [], seriesList = [];\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            detailScoreList.forEach((item, index)=>{\r\n                item.everydayLessonScoreDataList &&\r\n                item.everydayLessonScoreDataList.forEach((child)=>{\r\n                    subjectList.push(child.subjectName);\r\n                    xList.push(child.date);\r\n                })\r\n            })\r\n            subjectList = [...new Set(subjectList)];\r\n           detailScoreList.forEach((item, index)=>{\r\n                let arr = [];\r\n                xList.forEach((child)=>{\r\n                    item.everydayLessonScoreDataList &&\r\n                    item.everydayLessonScoreDataList.forEach((child2)=>{\r\n                        if((currentSubject && child2.date == child && child2.subjectName == currentSubject) ||\r\n                        (!currentSubject && child2.date == child && child2.subjectName == item.everydayLessonScoreDataList[0].subjectName)){\r\n                            arr.push(child2.score.toFixed(1));\r\n                        }\r\n                    })\r\n                })\r\n                seriesList.push({\r\n                    type: 'bar',\r\n                    name: item.gradeName,\r\n                    itemStyle: {\r\n                        color: colorList[index%6]\r\n                    }, \r\n                    data: arr\r\n                },)\r\n            })\r\n        } else if(userIdentity == \"student\"){\r\n            detailScoreList.forEach((item)=>{\r\n                xList.push(item.date);\r\n                if((currentSubject && item.subjectName == currentSubject) ||\r\n                (!currentSubject && item.subjectName == detailScoreList[0].subjectName)){\r\n                    myList.push(item.score);\r\n                }\r\n                subjectList.push(item.subjectName);\r\n            })\r\n            classDetailScoreList.forEach((item)=>{\r\n                if((currentSubject && item.subjectName == currentSubject) ||\r\n                (!currentSubject && item.subjectName == classDetailScoreList[0].subjectName)){\r\n                    classDataList.push(item.score);\r\n                }\r\n            })\r\n            gradeDetailScoreList.forEach((item)=>{\r\n                if((currentSubject && item.subjectName == currentSubject) ||\r\n                (!currentSubject && item.subjectName == gradeDetailScoreList[0].subjectName)){\r\n                    gradeDataList.push(item.score);\r\n                }\r\n            })\r\n            !currentSubject && setCurrentSubject(subjectList[0]);\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '班级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    }, \r\n                    data: classDataList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: gradeDataList\r\n                },\r\n            ]\r\n        } else if(currentClass){\r\n            detailScoreList.forEach((item)=>{\r\n                xList.push(item.date);\r\n                if((currentSubject && item.subjectName == currentSubject) ||\r\n                (!currentSubject && item.subjectName == detailScoreList[0].subjectName)){\r\n                    myList.push(item.score);\r\n                }\r\n                subjectList.push(item.subjectName);\r\n            })\r\n            gradeDetailScoreList.forEach((item)=>{\r\n                if((currentSubject && item.subjectName == currentSubject) ||\r\n                (!currentSubject && item.subjectName == gradeDetailScoreList[0].subjectName)){\r\n                    gradeDataList.push(item.score);\r\n                }\r\n            })\r\n            !currentSubject && setCurrentSubject(subjectList[0]);\r\n            seriesList = [\r\n                {\r\n                    type: 'bar',\r\n                    name: '班级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    }, \r\n                    data: myList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: gradeDataList\r\n                },\r\n            ]\r\n        } else {\r\n            detailScoreList.forEach((item)=>{\r\n                xList.push(item.date);\r\n                if((currentSubject && item.subjectName == currentSubject) ||\r\n                (!currentSubject && item.subjectName == detailScoreList[0].subjectName)){\r\n                    myList.push(item.score);\r\n                }\r\n                subjectList.push(item.subjectName);\r\n            })\r\n            !currentSubject && setCurrentSubject(subjectList[0]);\r\n            seriesList = [\r\n                {\r\n                    type: 'bar',\r\n                    // name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: myList\r\n                },\r\n            ]\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"detail-grade-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            legend: (\r\n                userIdentity != \"manager\" || currentGrade || currentClass?\r\n                {\r\n                right: '10%',\r\n                top: 5\r\n                }:\r\n                {\r\n                    type: 'scroll',\r\n                    width: '62%',\r\n                    left: 'center',\r\n                    top: 5\r\n                }\r\n            ),\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}分</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            grid: {\r\n                top: 40,\r\n                bottom: xList.length > 5? 40: 20\r\n            },\r\n            dataZoom: {\r\n                show:  xList.length > 5? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '月份',\r\n                nameTextStyle: {\r\n                    color: '#999999'\r\n                },\r\n                axisLabel: {\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n                data: xList\r\n            },\r\n            yAxis: {\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 40]\r\n                },\r\n                axisLabel: {\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [detailScoreList, currentSubject]);\r\n    //每5个化为一页，进行轮播\r\n    let updateAvgList = [];\r\n    let arr = [];\r\n    Array.isArray(avgScoreList) && avgScoreList.forEach((item, index)=>{\r\n        arr.push(item);\r\n        if(((index + 1) % 5 == 0) || index == avgScoreList.length - 1){\r\n            updateAvgList.push(arr);\r\n            arr = [];\r\n        }\r\n    })\r\n\r\n    //学科每7个化为一页，进行轮播\r\n    let updateSubjectList = [];\r\n    let arr2 = [];\r\n    Array.isArray(subjectList) && subjectList.forEach((item, index)=>{\r\n        arr2.push(item);\r\n        if(((index + 1) % 7 == 0) || index == subjectList.length - 1){\r\n            updateSubjectList.push(arr);\r\n            arr2 = [];\r\n        }\r\n    })\r\n    return (\r\n        <div className=\"detail-work\">\r\n            <div className=\"detail-work-top\">\r\n                <div className=\"rate-echart-container\">\r\n                    <div className=\"complete-rate\">\r\n                    <Popover\r\n                    placement=\"bottomLeft\"\r\n                    content={\r\n                        <div className=\"circle-tootip\">\r\n                            {/* <p className=\"tooltip-title\">活跃人数</p>\r\n                            <ul className=\"tooltip-list\">\r\n                                <li>一年级平均活跃人数 <span>3人/课</span><i className=\"downlogo\"></i></li>\r\n                                <li>一年级平均活跃人数 <span>3人/课</span><i className=\"uplogo\"></i></li>\r\n                                <li>一年级平均活跃人数 <span>3人/课</span></li>\r\n                                <li>一年级平均活跃人数 <span>3人/课</span></li>\r\n                            </ul> */}\r\n                        </div>\r\n                    }>\r\n                        <Progress \r\n                        type=\"circle\" \r\n                        percent={\r\n                            rankInfo.finishRate? \r\n                            parseInt(rankInfo.finishRate*100):\r\n                            \"--\"\r\n                        }\r\n                        format={(percent)=> percent}\r\n                        width={92}\r\n                        showInfo\r\n                        className=\"progress work-complete\"\r\n                        strokeColor=\"#8fdb66\" />\r\n                    </Popover>\r\n                    <p>完成率</p>\r\n                    </div>\r\n                    <div className=\"pass-rate\">\r\n                    <Popover\r\n                    placement=\"bottomLeft\"\r\n                    content={\r\n                        <div className=\"circle-tootip\">\r\n                            {/* <p className=\"tooltip-title\">活跃人数</p>\r\n                            <ul className=\"tooltip-list\">\r\n                                <li>一年级平均活跃人数 <span>3人/课</span><i className=\"downlogo\"></i></li>\r\n                                <li>一年级平均活跃人数 <span>3人/课</span><i className=\"uplogo\"></i></li>\r\n                                <li>一年级平均活跃人数 <span>3人/课</span></li>\r\n                                <li>一年级平均活跃人数 <span>3人/课</span></li>\r\n                            </ul> */}\r\n                        </div>\r\n                    }>\r\n                        <Progress \r\n                        type=\"circle\" \r\n                        percent={\r\n                            rankInfo.passRate? \r\n                                parseInt(rankInfo.passRate*100):\r\n                            \"--\"\r\n                        }\r\n                        format={(percent)=> percent}\r\n                        width={92}\r\n                        className=\"progress work-pass\"\r\n                        strokeColor=\"#49aaea\" />\r\n                    </Popover>\r\n                    <p>及格率</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                {\r\n                    avgScoreList.length > 0?\r\n                    <Carousel\r\n                    dots={{\r\n                        className: 'award-dot'\r\n                    }}>\r\n                    {\r\n                        updateAvgList.map((item, index)=>{\r\n                            return (\r\n                                <div className=\"subject-grade-list\" key={index}>\r\n                                {\r\n                                    item.map((child, index1)=>{\r\n                                        return (\r\n                                            <div className=\"grade-list-one\" key={index1}>\r\n                                                <p className={\"grade-num \" + (\r\n                                                child.score >= 90?\r\n                                                    \"orange\":\r\n                                                child.score >= 80 && child.score < 90?\r\n                                                    \"violet\":\r\n                                                child.score >= 75 && child.score < 80?\r\n                                                    \"blue\":\r\n                                                    child.score >= 70 && child.score < 75?\r\n                                                    \"green\":\r\n                                                    \"red\"\r\n                                                )}>{typeof child.score == \"number\"? child.score: \"--\"}</p>\r\n                                                <p>{child.subjectName}作业</p>\r\n                                                <p>平均分</p>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                    </Carousel>:\r\n                    <Empty\r\n                    className={\"bar-empty\"}\r\n                    style={{margin: \"20px 0\"}}\r\n                    title={\"暂无数据\"}\r\n                    type={\"4\"}\r\n                    ></Empty>\r\n                }\r\n                \r\n            </div>\r\n            <div className=\"work-echart-container\">\r\n                <div className=\"x-line\"></div>\r\n                <div className=\"y-line\"></div>\r\n                <div className=\"work-complete-rate\">\r\n                    <div className=\"echart-title\">\r\n                        <span>作业完成率</span>\r\n                        <Select defaultValue=\"day\" className=\"select\" onChange={(value)=>setCompleteRateType(value)}>\r\n                            <Option value=\"day\">按天数</Option>\r\n                            <Option value=\"week\">按周次</Option>\r\n                            <Option value=\"month\">按月份</Option>\r\n                        </Select>\r\n                    </div>\r\n                    <Loading\r\n                    opacity={false}\r\n                    tip=\"加载中...\"\r\n                    spinning={completeVisible}>\r\n                    <div className=\"complete-rate-echart\" id=\"complete-rate-echart\"></div>\r\n                    </Loading>\r\n                </div>\r\n                <div className=\"work-pass-rate\">\r\n                    <div className=\"echart-title\">\r\n                        <span>作业及格率</span>\r\n                        <Select defaultValue=\"day\" className=\"select\" onChange={(value)=>{setPassRateType(value)}}>\r\n                            <Option value=\"day\">按天数</Option>\r\n                            <Option value=\"week\">按周次</Option>\r\n                            <Option value=\"month\">按月份</Option>\r\n                        </Select>\r\n                    </div>\r\n                    <Loading\r\n                    opacity={false}\r\n                    tip=\"加载中...\"\r\n                    spinning={passVisible}>\r\n                    <div className=\"pass-rate-echart\" id=\"pass-rate-echart\"></div>\r\n                    </Loading> \r\n                </div>\r\n                <div className=\"allsubject-work-avg\">\r\n                    <div className=\"echart-title\">\r\n                        <span>各学科日常作业平均分</span>\r\n                        {/* <Select defaultValue=\"month\" className=\"select\">\r\n                            <Option value=\"month\">按学科</Option>\r\n                        </Select> */}\r\n                    </div>\r\n                    <Loading\r\n                    opacity={false}\r\n                    tip=\"加载中...\"\r\n                    spinning={avgVisible}>\r\n                    {\r\n                        avgScoreList.length > 0?\r\n                        <div className=\"work-avg-echart\" id=\"work-avg-echart\"></div>:\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                    </Loading>\r\n                </div>\r\n                <div className=\"subject-detail-grade\">\r\n                    {\r\n                        subjectList.length > 0?\r\n                        <div className=\"kind-list\">\r\n                            <span>学科:</span>\r\n                            <Carousel\r\n                            dots={{\r\n                                className: 'award-dot'\r\n                            }}>\r\n                                {\r\n                                    updateSubjectList.map((item, index)=>{\r\n                                        return (\r\n                                            <span className=\"span-container\" key={index}>\r\n                                                {\r\n                                                    item.map((child, index1)=>{\r\n                                                        return (\r\n                                                            <span className=\"span-container\" key={index1}>\r\n                                                            <span \r\n                                                            className={\"list-one \" + \r\n                                                            (currentSubject == child? \"active\": \"\")}\r\n                                                            onClick={()=>setCurrentSubject(child)}\r\n                                                            >\r\n                                                                {child}\r\n                                                            </span>\r\n                                                            {\r\n                                                                index1 != item.length - 1?\r\n                                                                <span className=\"list-slice-line\"></span>:\r\n                                                                \"\"\r\n                                                            }\r\n                                                            </span>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            \r\n                                            </span>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </Carousel>\r\n                        </div>:\r\n                        \"\"\r\n                    }\r\n                    \r\n                    <div className=\"echart-title\">\r\n                        <span>{currentSubject}日常作业分数</span>\r\n                        {/* <Select defaultValue=\"month\" className=\"select\">\r\n                            <Option value=\"month\">按月份</Option>\r\n                        </Select> */}\r\n                    </div>\r\n                    <Loading\r\n                    opacity={false}\r\n                    tip=\"加载中...\"\r\n                    spinning={subjectVisible}>\r\n                    {\r\n                        detailScoreList.length > 0 || gradeAvgScoreList > 0?\r\n                        <div className=\"detail-grade-echart\" id=\"detail-grade-echart\"></div>:\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                    </Loading>\r\n                    \r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(DetailWork)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\n// import echarts from \"echarts\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport {Carousel} from \"antd\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction PersonStudy(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        reflash,\r\n        userInfo: {SchoolID, UserID},\r\n    } = props;\r\n    //自学详情\r\n    const [studyInfo, setStudyInfo] = useState({});\r\n    const [classStudyInfo, setClassStudyInfo] = useState({});\r\n    const [gradeStudyInfo, setGradeStudyInfo] = useState({});\r\n    //自学统计\r\n    const [studyStatistic, setStudyStatistic] = useState({});\r\n    const [classStudyStatistic, setClassStudyStatistic] = useState({});\r\n    const [gradeStudyStatistic, setGradeStudyStatistic] = useState({});\r\n    const [studyStatisticList, setStudyStatisticList] = useState([]);\r\n    //自学学科\r\n    const [studySubjectList, setStudySubjectList] = useState([]);\r\n    const [currentSubject, setCurrentSubject] = useState(\"\");\r\n    let colorList = [\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#1da4fe'\r\n        },{\r\n            offset: 1,\r\n            color: '#7ecbff'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#51ca51'\r\n        },{\r\n            offset: 1,\r\n            color: '#a0dea0'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#F79750'\r\n        },{\r\n            offset: 1,\r\n            color: '#FFB681'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#2D3149'\r\n        },{\r\n            offset: 1,\r\n            color: '#363D71'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#E84956'\r\n        },{\r\n            offset: 1,\r\n            color: '#E9707A'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#6E54CC'\r\n        },{\r\n            offset: 1,\r\n            color: '#7E90E9'\r\n        }])\r\n    ];\r\n    //学生获取班级年级数据用于图表显示对比\r\n    useLayoutEffect(() => {\r\n        if(userIdentity != \"student\"){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        //获取班级信息\r\n        //自学详情\r\n        let url = BasicProxy + \"/api/learning2/selfStudy/detail?type=2\" +\r\n        \"&studentId=\" +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setClassStudyInfo(result.data);\r\n            }\r\n        })\r\n        //自学统计\r\n        url = BasicProxy + \"/api/learning2/selfStudy/statistics?type=2\" +\r\n        \"&studentId=\" +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setClassStudyStatistic(result.data);\r\n            }\r\n        })\r\n        //获取年级信息\r\n        url = BasicProxy + \"/api/learning2/selfStudy/detail?type=3\" +\r\n        \"&studentId=\" +\r\n        \"&classId=\" +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeStudyInfo(result.data);\r\n            }\r\n        })\r\n        //自学统计\r\n        url = BasicProxy + \"/api/learning2/selfStudy/statistics?type=3\" +\r\n        \"&studentId=\" +\r\n        \"&classId=\" +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeStudyStatistic(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    //老师获取年级数据用于图表显示对比\r\n    useLayoutEffect(() => {\r\n        if(userIdentity != \"teacher\"){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        //获取年级信息\r\n        let url = BasicProxy + \"/api/learning2/selfStudy/detail?type=3\" +\r\n        \"&studentId=\" +\r\n        \"&classId=\" +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeStudyInfo(result.data);\r\n            }\r\n        })\r\n        //自学统计\r\n        url = BasicProxy + \"/api/learning2/selfStudy/statistics?type=3\" +\r\n        \"&studentId=\" +\r\n        \"&classId=\" +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeStudyStatistic(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    //获取数据\r\n    useLayoutEffect(() => {\r\n        if(!currentTerm.value){\r\n            return;\r\n        }\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        //自学详情\r\n        let url = BasicProxy + \"/api/learning2/selfStudy/detail?type=\" +\r\n        (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            currentClass?\r\n            2:\r\n            currentGrade?\r\n            3:\r\n            4\r\n        ) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setStudyInfo(result.data);\r\n                let arr = [];\r\n                result.data.selfStudyDaysList.forEach((item)=>{\r\n                    item.selfStudySubjectList.forEach((child)=>{\r\n                        arr.push(child.subjectName);\r\n                    })\r\n                })\r\n                arr = [...new Set(arr)];\r\n                setStudySubjectList(arr);\r\n                setCurrentSubject(arr[0]);\r\n            }\r\n        })\r\n        //自学统计\r\n        url = BasicProxy + \"/api/learning2/selfStudy/statistics?type=\" +\r\n        (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            currentClass?\r\n            2:\r\n            currentGrade?\r\n            3:\r\n            4\r\n        ) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setStudyStatistic(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    //领导端获取数据\r\n    useLayoutEffect(() => {\r\n        if(!currentTerm.value){\r\n            return;\r\n        }\r\n        if(userIdentity != \"manager\" || currentClass || currentGrade){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        //自学详情\r\n        let url = BasicProxy + \"/api/learning2/selfStudy/detail/batch?type=3\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setStudyInfo(result.data);\r\n                let arr = [];\r\n                Array.isArray(result.data) &&\r\n                result.data.forEach((item)=>{\r\n                    item.selfStudyDetails &&\r\n                    Array.isArray(item.selfStudyDetails.selfStudyDaysList) &&\r\n                    item.selfStudyDetails.selfStudyDaysList.forEach((child2)=>{\r\n                        Array.isArray(child2.selfStudySubjectList) &&\r\n                        child2.selfStudySubjectList.forEach((child3)=>{\r\n                            arr.push(child3.subjectName);\r\n                        })\r\n                    }) \r\n                })\r\n                arr = [...new Set(arr)];\r\n                setStudySubjectList(arr);\r\n                setCurrentSubject(arr[0]);\r\n            }\r\n        })\r\n        //自学统计\r\n        url = BasicProxy + \"/api/learning2/selfStudy/statistics/batch?type=3\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setStudyStatisticList(result.data);\r\n            }\r\n        })\r\n        //自学统计\r\n        url = BasicProxy + \"/api/learning2/selfStudy/statistics?type=4\" +\r\n        \"&studentId=\" +\r\n        \"&classId=\" +\r\n        \"&gradeId=\"+\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setStudyStatistic(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    //自学总时长图表\r\n    useEffect(() => {\r\n        let xList = [], myList = [], classList = [], gradeList = [], seriesList = [];\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            if(!Array.isArray(studyStatisticList)){\r\n                return;\r\n            }\r\n            studyStatisticList.forEach((item, index)=>{\r\n                let arr = [];\r\n                item.selfStudy &&\r\n                Array.isArray(item.selfStudy.selfStudySubjectList) &&\r\n                item.selfStudy.selfStudySubjectList.forEach((child)=>{\r\n                    xList.push(child.subjectName);\r\n                    arr.push(child.useTime);\r\n                })\r\n                seriesList.push({\r\n                    name:item.gradeName,\r\n                    type:'bar',\r\n                    itemStyle: {\r\n                        color: colorList[index%6]\r\n                    },\r\n                    data:arr\r\n                })\r\n            })\r\n            xList = [...new Set(xList)];\r\n        } else if(userIdentity == \"student\"){\r\n            if(!Array.isArray(studyStatistic.selfStudySubjectList)){\r\n                return;\r\n            }\r\n            studyStatistic.selfStudySubjectList.forEach((item)=>{\r\n                xList.push(item.subjectName);\r\n                myList.push(item.useTime);\r\n            })\r\n            Array.isArray(classStudyStatistic.selfStudySubjectList) &&\r\n            classStudyStatistic.selfStudySubjectList.forEach((item)=>{\r\n                classList.push(item.useTime);\r\n            })\r\n            Array.isArray(gradeStudyStatistic.selfStudySubjectList) &&\r\n            gradeStudyStatistic.selfStudySubjectList.forEach((item)=>{\r\n                gradeList.push(item.useTime);\r\n            })\r\n            seriesList = [  \r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        } else if(currentClass){\r\n            if(!Array.isArray(studyStatistic.selfStudySubjectList)){\r\n                return;\r\n            }\r\n            studyStatistic.selfStudySubjectList.forEach((item)=>{\r\n                xList.push(item.subjectName);\r\n                myList.push(item.useTime);\r\n            })\r\n            Array.isArray(gradeStudyStatistic.selfStudySubjectList) &&\r\n            gradeStudyStatistic.selfStudySubjectList.forEach((item)=>{\r\n                gradeList.push(item.useTime);\r\n            })\r\n            seriesList = [  \r\n                {\r\n                    name:'班级总时长',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'年级平均总时长',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                }\r\n            ]\r\n        } else if(currentGrade){\r\n            if(!Array.isArray(studyStatistic.selfStudySubjectList)){\r\n                return;\r\n            }\r\n            studyStatistic.selfStudySubjectList.forEach((item)=>{\r\n                xList.push(item.subjectName);\r\n                myList.push(item.useTime);\r\n            })\r\n            seriesList = [  \r\n                {\r\n                    // name:'年级平均总时长',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:myList\r\n                }\r\n            ]\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"time-sum-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '累计自学时长',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">\r\n                        ${item.seriesName && item.seriesName.indexOf(\"series\") == -1? item.seriesName + \":\": \"\"}</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}h</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: (\r\n                userIdentity != \"manager\" || currentGrade || currentClass?\r\n                {\r\n                    top: '50px',\r\n                    right: '10%',\r\n                    // data:['个人','班级','年级'],\r\n                    textStyle: {\r\n                        color: '#999999',\r\n                    }\r\n                }:\r\n                {\r\n                    type: 'scroll',\r\n                    width: '62%',\r\n                    left: 'center',\r\n                    top: 50\r\n                }\r\n            ),\r\n            dataZoom: {\r\n                show:  xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                minValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 30\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '时长/h',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [studyStatistic, studyStatisticList, userIdentity]);\r\n    //每日自学时长图表\r\n    useEffect(() => {\r\n        let xList = [], myList = [], classList = [], gradeList = [], seriesList = [];\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            if(!Array.isArray(studyStatistic)){\r\n                return;\r\n            }\r\n            studyStatistic.forEach((item, index)=>{\r\n                let arr = [];\r\n                item.selfStudy &&\r\n                Array.isArray(item.selfStudy.selfStudySubjectList) &&\r\n                item.selfStudy.selfStudySubjectList.forEach((child)=>{\r\n                    xList.push(child.subjectName);\r\n                    arr.push(child.useTime);\r\n                })\r\n                seriesList.push({\r\n                    name:item.gradeName,\r\n                    type:'bar',\r\n                    itemStyle: {\r\n                        color: colorList[index%6]\r\n                    },\r\n                    data:arr\r\n                })\r\n            })\r\n            xList = [...new Set(xList)];\r\n        } else if(userIdentity == \"student\"){\r\n            if(!Array.isArray(studyInfo.selfStudyDaysList)){\r\n                return;\r\n            }\r\n            studyInfo.selfStudyDaysList.forEach((item)=>{\r\n                xList.push(item.date);\r\n                item.selfStudySubjectList.forEach((child)=>{\r\n                    if(child.subjectName == currentSubject){\r\n                        myList.push(child.useTime);\r\n                    } \r\n                })\r\n            })\r\n            Array.isArray(classStudyInfo.selfStudyDaysList) &&\r\n            classStudyInfo.selfStudyDaysList.forEach((item)=>{\r\n                item.selfStudySubjectList.forEach((child)=>{\r\n                    if(child.subjectName == currentSubject){\r\n                        classList.push(child.useTime);\r\n                    } \r\n                })\r\n            })\r\n            Array.isArray(gradeStudyInfo.selfStudyDaysList) &&\r\n            gradeStudyInfo.selfStudyDaysList.forEach((item)=>{\r\n                item.selfStudySubjectList.forEach((child)=>{\r\n                    if(child.subjectName == currentSubject){\r\n                        gradeList.push(child.useTime);\r\n                    } \r\n                })\r\n            })\r\n            seriesList = [  \r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                }\r\n            ]\r\n        } else if(currentClass){\r\n            if(!Array.isArray(studyInfo.selfStudyDaysList)){\r\n                return;\r\n            }\r\n            studyInfo.selfStudyDaysList.forEach((item)=>{\r\n                xList.push(item.date);\r\n                item.selfStudySubjectList.forEach((child)=>{\r\n                    if(child.subjectName == currentSubject){\r\n                        myList.push(child.useTime);\r\n                    } \r\n                })\r\n            })\r\n            Array.isArray(gradeStudyInfo.selfStudyDaysList) &&\r\n            gradeStudyInfo.selfStudyDaysList.forEach((item)=>{\r\n                item.selfStudySubjectList.forEach((child)=>{\r\n                    if(child.subjectName == currentSubject){\r\n                        gradeList.push(child.useTime);\r\n                    } \r\n                })\r\n            })\r\n            seriesList = [  \r\n                {\r\n                    name:'班级总时长',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'年级平均总时长',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                }\r\n            ]\r\n        } else if(currentGrade){\r\n            if(!Array.isArray(studyInfo.selfStudyDaysList)){\r\n                return;\r\n            }\r\n            studyInfo.selfStudyDaysList.forEach((item)=>{\r\n                xList.push(item.date);\r\n                item.selfStudySubjectList.forEach((child)=>{\r\n                    if(child.subjectName == currentSubject){\r\n                        myList.push(child.useTime);\r\n                    } \r\n                })\r\n            })\r\n            seriesList = [  \r\n                {\r\n                    // name:'年级平均总时长',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:myList\r\n                }\r\n            ]\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"detail-study-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '每日自学时长',\r\n                left: 'center',\r\n                top: '10px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 75,\r\n                bottom: xList.length > 6? 100: 90\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">\r\n                        ${item.seriesName && item.seriesName.indexOf(\"series\") == -1? item.seriesName + \":\": \"\"}</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}h</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: (\r\n                userIdentity != \"manager\" || currentGrade || currentClass?\r\n                {\r\n                    top: '40px',\r\n                    right: '10%',\r\n                    // data:['个人','班级','年级'],\r\n                    textStyle: {\r\n                        color: '#999999',\r\n                    }\r\n                }:\r\n                {\r\n                    type: 'scroll',\r\n                    width: '62%',\r\n                    left: 'center',\r\n                    top: 40\r\n                }\r\n            ),\r\n            dataZoom: {\r\n                show:  xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                minValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 70\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '时长/h',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [studyInfo, userIdentity, currentSubject]);\r\n    let updateSubjectList = [];\r\n    let arr = [];\r\n    //每7个化为一页，进行轮播\r\n    Array.isArray(studySubjectList) && studySubjectList.forEach((item, index)=>{\r\n        arr.push(item);\r\n        if(((index + 1) % 7 == 0) || index == studySubjectList.length - 1){\r\n            updateSubjectList.push(arr);\r\n            arr = [];\r\n        }\r\n    })\r\n    return (\r\n      <div className=\"course-show\">\r\n          {\r\n                userIdentity == 'student'?\r\n                <div className=\"show-top\">\r\n                    <div className=\"course-liveness\">\r\n                        <div className=\"circle-blue\">\r\n                        {\r\n                        typeof studyStatistic.total == \"number\"?\r\n                        parseInt(studyStatistic.total):\r\n                        \"--\"\r\n                        }\r\n                        </div>\r\n                        <p>自学总时长</p>\r\n                    </div>\r\n                    <div className=\"course-add\">\r\n                        <div className=\"circle-orange\">\r\n                        {\r\n                        studyStatistic.maxSubject?\r\n                        studyStatistic.maxSubject:\r\n                        \"--\"\r\n                        }\r\n                        </div>\r\n                        <p>最多自学学科</p>\r\n                    </div>\r\n                    <div className=\"course-reduce\">\r\n                        <div className=\"circle-red\">\r\n                        {\r\n                        typeof studyStatistic.maxTime == \"number\"?\r\n                        parseInt(studyStatistic.maxTime):\r\n                        \"--\"\r\n                        }\r\n                        </div>\r\n                        <p>最大连续自学时长</p>\r\n                    </div>\r\n                    <div className=\"raise-hand\">\r\n                        <div className=\"circle-green\">\r\n                        {\r\n                        typeof studyStatistic.avgTime == \"number\"?\r\n                        parseInt(studyStatistic.avgTime):\r\n                        \"--\"\r\n                        }\r\n                        </div>\r\n                        <p>平均自学时长</p>\r\n                    </div>\r\n                </div>:\r\n                userIdentity == 'teacher'?\r\n                <div className=\"show-top\">\r\n                    <div className=\"course-liveness\">\r\n                        <div className=\"circle-blue\">\r\n                        {\r\n                        typeof studyStatistic.total == \"number\"?\r\n                        parseInt(studyStatistic.total):\r\n                        \"--\"\r\n                        }\r\n                        </div>\r\n                        <p>班级总自学时长</p>\r\n                    </div>\r\n                    <div className=\"course-add\">\r\n                        <div className=\"circle-orange\">\r\n                        {\r\n                        studyStatistic.maxSubject?\r\n                        studyStatistic.maxSubject:\r\n                        \"--\"\r\n                        }\r\n                        </div>\r\n                        <p>最多自学学科</p>\r\n                    </div>\r\n                    <div className=\"course-reduce\">\r\n                        <div className=\"circle-red\">\r\n                        {\r\n                        typeof studyStatistic.maxTime == \"number\"?\r\n                        parseInt(studyStatistic.maxTime):\r\n                        \"--\"\r\n                        }\r\n                        </div>\r\n                        <p>班级内最大连续<br/>自学时长</p>\r\n                    </div>\r\n                    <div className=\"raise-hand\">\r\n                        <div className=\"circle-green\">\r\n                        {\r\n                        typeof studyStatistic.avgTime == \"number\"?\r\n                        parseInt(studyStatistic.avgTime):\r\n                        \"--\"\r\n                        }\r\n                        </div>\r\n                        <p>班级内个人平均<br/>自学时长</p>\r\n                    </div>\r\n                </div>:\r\n                userIdentity == 'manager' && !currentClass && !currentGrade?\r\n                <div className=\"show-top\">\r\n                    <div className=\"course-liveness\">\r\n                        <div className=\"circle-blue\">\r\n                        {\r\n                        typeof studyStatistic.total == \"number\"?\r\n                        parseInt(studyStatistic.total):\r\n                        \"--\"\r\n                        }\r\n                        </div>\r\n                        <p>自学总时长</p>\r\n                    </div>\r\n                    <div className=\"course-add\">\r\n                        <div className=\"circle-orange\">\r\n                        {\r\n                        studyStatistic.maxSubject?\r\n                        studyStatistic.maxSubject:\r\n                        \"--\"\r\n                        }\r\n                        </div>\r\n                        <p>最多自学学科</p>\r\n                    </div>\r\n                    <div className=\"course-reduce\">\r\n                        <div className=\"circle-red\">\r\n                        {\r\n                        typeof studyStatistic.maxTime == \"number\"?\r\n                        parseInt(studyStatistic.maxTime):\r\n                        \"--\"\r\n                        }\r\n                        </div>\r\n                        <p>最大连续自学时长</p>\r\n                    </div>\r\n                    <div className=\"raise-hand\">\r\n                        <div className=\"circle-green\">\r\n                        {\r\n                        typeof studyStatistic.avgTime == \"number\"?\r\n                        parseInt(studyStatistic.avgTime):\r\n                        \"--\"\r\n                        }\r\n                        </div>\r\n                        <p>平均自学时长</p>\r\n                    </div>\r\n                </div>:\r\n                \"\"\r\n          }\r\n          <div className=\"show-bottom\">\r\n                <div className=\"grade-compare-status\">\r\n                    {/* <div className=\"kind-list\" style={{margin: \"24px 0 0 67px\"}}>\r\n                        <span>类型:</span>\r\n                        <span className=\"list-one\">加分率</span>\r\n                        <span className=\"list-slice-line\"></span>\r\n                        <span className=\"list-one\">扣分率</span>\r\n                    </div> */}\r\n                    <div className=\"grade-compare-echart\" id=\"time-sum-echart\"></div>\r\n                </div>\r\n                <div className=\"subject-grade-statistic\">\r\n                    <div className=\"kind-list\" style={{margin: \"24px 0 0 67px\"}}>\r\n                        <span>类型:</span>\r\n                        <Carousel\r\n                            dots={{\r\n                                className: 'award-dot'\r\n                            }}>\r\n                                {\r\n                                    updateSubjectList.map((item, index)=>{\r\n                                        return (\r\n                                            <span className=\"span-container\" key={index}>\r\n                                                {\r\n                                                    item.map((child, index1)=>{\r\n                                                        return (\r\n                                                            <span className=\"span-container\" key={index1}>\r\n                                                            <span \r\n                                                            className={\"list-one \" + (currentSubject == child? \"active\": \"\")}\r\n                                                            onClick={()=>setCurrentSubject(child)}\r\n                                                            >\r\n                                                                {child}\r\n                                                            </span>\r\n                                                            {\r\n                                                                index1 != item.length - 1?\r\n                                                                <span className=\"list-slice-line\"></span>:\r\n                                                                \"\"\r\n                                                            }\r\n                                                            </span>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            \r\n                                            </span>\r\n                                        )\r\n                                        item.forEach((child, index1)=>{\r\n                                            return \r\n                                        })\r\n                                    })\r\n                                }\r\n                            {/* {\r\n                                allSubjectList.map((item, index)=>{\r\n                                    return (\r\n                                        <div key={index} className=\"span-container\">\r\n                                            <span \r\n                                            className={\"list-one \" + (currentSubject == item? \"active\": \"\")}\r\n                                            onClick={()=>setCurrentSubject(item)}\r\n                                            >\r\n                                                {item}\r\n                                            </span>\r\n                                            {\r\n                                                index != allSubjectList.length - 1?\r\n                                                <span className=\"list-slice-line\"></span>:\r\n                                                \"\"\r\n                                            }\r\n                                            \r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            } */}\r\n                            </Carousel>\r\n                    </div>\r\n                    <div className=\"grade-statistic-echart\" id=\"detail-study-echart\"></div>\r\n                </div>\r\n          </div>\r\n      </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(PersonStudy)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport Scrollbars from \"react-custom-scrollbars\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction GradeStatistic(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n    } = props;\r\n    // 初始请求\r\n    const [gradeInfo, setGradeInfo] = useState({});\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"manager\" && !currentClass && !currentGrade){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        //查身份对应数据\r\n        let url = BasicProxy + \"/api/learning2/overall/score?type=\" +\r\n        (userIdentity == \"manager\"? \r\n        currentClass?\r\n        2:\r\n        currentGrade?\r\n        3:\r\n        4:\r\n        userIdentity == \"teacher\"? 2:\r\n        1) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeInfo(result.data);\r\n            }\r\n        })\r\n        //查班级平均数据用于学生显示\r\n        url = BasicProxy + \"/api/learning2/overall/score?type=\" +\r\n        (userIdentity == \"manager\"? \r\n        currentClass?\r\n        2:\r\n        currentGrade?\r\n        3:\r\n        4:\r\n        userIdentity == \"teacher\"? 2:\r\n        1) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeInfo(result.data);\r\n            }\r\n        })\r\n        //查年级平均数据用于学生和老师显示\r\n        url = BasicProxy + \"/api/learning2/overall/score?type=\" +\r\n        (userIdentity == \"manager\"? \r\n        currentClass?\r\n        2:\r\n        currentGrade?\r\n        3:\r\n        4:\r\n        userIdentity == \"teacher\"? 2:\r\n        1) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n\r\n    useLayoutEffect(() => {\r\n        if(userIdentity != \"manager\" || currentClass || currentGrade){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        let url = BasicProxy + \"/api/learning2/overall/score/batch?type=3\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                //领导端需要额外处理一下数据类型\r\n                let subjectList = [];\r\n                result.data.forEach((item)=>{\r\n                    Array.isArray(item.overallScore2) &&\r\n                    item.overallScore2.overallSubjectList.forEach((child)=>{\r\n                        subjectList.push(child.subject);\r\n                    })\r\n                })\r\n                subjectList = [...new Set(subjectList)];\r\n                let dataList = [];\r\n                subjectList.forEach((item)=>{\r\n                    let arr = [];\r\n                    result.data.forEach((child)=>{\r\n                        Array.isArray(child.overallScore2) &&\r\n                        child.overallScore2.overallSubjectList.forEach((child2)=>{\r\n                            if(child2.subject == item){\r\n                                let obj = {\r\n                                    grade: child.gradeName,\r\n                                    score: child2.score\r\n                                }\r\n                                arr.push(obj);\r\n                            }\r\n                        })\r\n                    })\r\n                    dataList.push({\r\n                        subject: item,\r\n                        gradeList: arr\r\n                    })\r\n                })\r\n                setGradeInfo(dataList);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    return (\r\n        <div className=\"grade-statistic\">\r\n            {\r\n                userIdentity == \"student\"?\r\n                <p className=\"course-count\">\r\n                    共选修\r\n                    <span>{\r\n                    typeof gradeInfo.courseCount == \"number\"? \r\n                    gradeInfo.courseCount: \r\n                    \"--\"}</span>\r\n                    门课程，平均分\r\n                    <span>{\r\n                    typeof gradeInfo.avgScore == \"number\"? \r\n                    gradeInfo.avgScore.toFixed(1):\r\n                    \"--\"}</span>\r\n                    分\r\n                </p>:\r\n                <p className=\"course-count\">\r\n                共有\r\n                <span>{\r\n                userIdentity == \"manager\" && !currentClass && !currentGrade?\r\n                gradeInfo.length:\r\n                Array.isArray(gradeInfo.overallSubjectList)? \r\n                gradeInfo.overallSubjectList.length:\r\n                \"--\"}</span>\r\n                门课程\r\n            </p>\r\n            }\r\n            \r\n            <Scrollbars\r\n            autoHeight\r\n            autoHeightMax={450}>\r\n                {\r\n                userIdentity == 'manager' && !currentGrade && !currentClass?\r\n                <div>\r\n                    {\r\n                        Array.isArray(gradeInfo) && gradeInfo.length > 0?\r\n                        gradeInfo.forEach((item, index)=>{\r\n                            let arr = [\"A\", \"B\", \"C\", \"D\"]\r\n                            return (\r\n                                <div className={\"course-grade-one \" + (arr[parseInt(Math.random()*4)])} key={index}>\r\n                                <p className=\"course-name\">{item.subject}</p>\r\n                                <div className=\"course-grade-statistic leader-statistic\">\r\n                                    {\r\n                                        item.gradeList.map((child, index1)=>{\r\n                                            return (\r\n                                                <p className=\"grade-avg-one\" key={index1}>\r\n                                                    <span>\r\n                                                    {child.grade}均分: \r\n                                                    <span>\r\n                                                        {typeof child.score == \"number\"? child.score.toFixed(1): \"--\"}\r\n                                                        分\r\n                                                    </span>\r\n                                                    </span>\r\n                                                </p>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            )\r\n                        }):\r\n                        <Empty\r\n                        // className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                </div>:\r\n                userIdentity == 'teacher'?\r\n                <div>\r\n                    {\r\n                        Array.isArray(gradeInfo.overallSubjectList) &&\r\n                        gradeInfo.overallSubjectList.length > 0?\r\n                        gradeInfo.overallSubjectList.map((item, index)=>{\r\n                            return (\r\n                                <div \r\n                                className={\"course-grade-one \" + (\r\n                                    item.classAvgScore >= 90?\r\n                                    \"A\":\r\n                                    item.classAvgScore >= 80 && item.classAvgScore < 90?\r\n                                    \"B\":\r\n                                    item.classAvgScore >= 70 && item.classAvgScore < 80?\r\n                                    \"C\":\r\n                                    \"D\"\r\n                                )} \r\n                                key={index}>\r\n                                    <p className=\"course-name\"><span>{item.subject}</span></p>\r\n                                    <div className=\"course-grade-statistic\">\r\n                                        <div className=\"grade-sum\">\r\n                                            <p \r\n                                            className=\"grade-num\"\r\n                                            title={\r\n                                                typeof item.classAvgScore == \"number\"? \r\n                                                item.classAvgScore.toFixed(1): \"--\"}\r\n                                            ><span>{typeof item.classAvgScore == \"number\"? \r\n                                            item.classAvgScore.toFixed(1): \"--\"}</span></p>\r\n                                            <p><span>班级平均分</span></p>\r\n                                        </div>\r\n                                        <div className=\"grade-avg\" style={{paddingTop: 32}}>\r\n                                            <p>\r\n                                                <span>\r\n                                                年级均分: \r\n                                                <span \r\n                                                className=\"compare-score\"\r\n                                                title={\r\n                                                    typeof item.gradeAvgScore == \"number\"? \r\n                                                    item.gradeAvgScore.toFixed(1):\r\n                                                    \"--\"\r\n                                                }>\r\n                                                    {typeof item.gradeAvgScore == \"number\"? \r\n                                                    item.gradeAvgScore.toFixed(1):\r\n                                                    \"--\"}分\r\n                                                </span>\r\n                                                </span>\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }):\r\n                        <Empty\r\n                        // className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                </div>:\r\n                <div>\r\n                    {\r\n                        Array.isArray(gradeInfo.overallSubjectList) &&\r\n                        gradeInfo.overallSubjectList.length > 0?\r\n                        gradeInfo.overallSubjectList.map((item, index)=>{\r\n                            return (\r\n                                <div \r\n                                className={\"course-grade-one \" + (\r\n                                    userIdentity == \"student\"?\r\n                                    item.score >= 90?\r\n                                    \"A\":\r\n                                    item.score >= 80 && item.score < 90?\r\n                                    \"B\":\r\n                                    item.score >= 70 && item.score < 80?\r\n                                    \"C\":\r\n                                    \"D\":\r\n                                    currentClass?\r\n                                    item.classAvgScore >= 90?\r\n                                    \"A\":\r\n                                    item.classAvgScore >= 80 && item.classAvgScore < 90?\r\n                                    \"B\":\r\n                                    item.classAvgScore >= 70 && item.classAvgScore < 80?\r\n                                    \"C\":\r\n                                    \"D\":\r\n                                    currentGrade?\r\n                                    item.gradeAvgScore >= 90?\r\n                                    \"A\":\r\n                                    item.gradeAvgScore >= 80 && item.gradeAvgScore < 90?\r\n                                    \"B\":\r\n                                    item.gradeAvgScore >= 70 && item.gradeAvgScore < 80?\r\n                                    \"C\":\r\n                                    \"D\":\r\n                                    item.schoolAvgScore >= 90?\r\n                                    \"A\":\r\n                                    item.schoolAvgScore >= 80 && item.schoolAvgScore < 90?\r\n                                    \"B\":\r\n                                    item.schoolAvgScore >= 70 && item.schoolAvgScore < 80?\r\n                                    \"C\":\r\n                                    \"D\"\r\n                                )} \r\n                                key={index}>\r\n                                    <p className=\"course-name\"><span>{item.subject}</span></p>\r\n                                    <div className=\"course-grade-statistic\">\r\n                                        <div className=\"grade-sum\">\r\n                                            <p className=\"grade-num\">\r\n                                                <span>\r\n                                                {\r\n                                                    userIdentity == \"student\"?\r\n                                                    item.score ? item.score.toFixed(1) : \"--\":\r\n                                                    userIdentity == \"teacher\"?\r\n                                                    item.classAvgScore ? item.classAvgScore.toFixed(1) : \"--\":\r\n                                                    currentClass?\r\n                                                    item.classAvgScore ? item.classAvgScore.toFixed(1) : \"--\":\r\n                                                    currentGrade?\r\n                                                    item.gradeAvgScore ? item.gradeAvgScore.toFixed(1) : \"--\":\r\n                                                    item.schoolAvgScore ? item.schoolAvgScore.toFixed(1) : \"--\"\r\n                                                }\r\n                                                </span>\r\n                                                </p>\r\n                                            <p>总评分</p>\r\n                                        </div>\r\n                                        <div className=\"grade-avg\">\r\n                                            <p>班级均分: \r\n                                                <span>\r\n                                                {\r\n                                                typeof item.classAvgScore == \"number\"?\r\n                                                item.classAvgScore.toFixed(1): \"--\"}分\r\n                                                </span>\r\n                                            </p>\r\n                                            <p>年级均分: \r\n                                                <span>\r\n                                                {\r\n                                                typeof item.classAvgScore == \"number\"?\r\n                                                item.gradeAvgScore.toFixed(1): \"--\"}分\r\n                                                </span>\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }):\r\n                        <Empty\r\n                        // className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                </div>\r\n            }\r\n            </Scrollbars>\r\n            \r\n            {\r\n                userIdentity == 'student'?\r\n                <div className=\"teacher-remark\">\r\n                    <span className=\"remark-name\">班主任评语:</span>\r\n                    <span className=\"remark-content\">\r\n                        {gradeInfo.comment? gradeInfo.comment: \"暂无评语~\"}\r\n                    </span>\r\n                </div>:\r\n                \"\"\r\n            }\r\n            \r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(GradeStatistic)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\n// import echarts from \"echarts\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport {Select} from \"antd\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction TestGrade(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n    } = props;\r\n    //common平时考试,termCenter期中考试,termEnd期末考试\r\n    const [currentTestType, setCurrentTestType] = useState(\"common\");\r\n    const [subjectList, setSubjectList] = useState([]);\r\n    const [currentSubject, setCurrentSubject] = useState(\"\");\r\n    const [testInfoList, setTestInfoList] = useState([]);\r\n    const [classInfoList, setClassInfoList] = useState([]);\r\n    const [gradeInfoList, setGradeInfoList] = useState([]);\r\n    let colorList = [\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#1da4fe'\r\n        },{\r\n            offset: 1,\r\n            color: '#7ecbff'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#51ca51'\r\n        },{\r\n            offset: 1,\r\n            color: '#a0dea0'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#F79750'\r\n        },{\r\n            offset: 1,\r\n            color: '#FFB681'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#2D3149'\r\n        },{\r\n            offset: 1,\r\n            color: '#363D71'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#E84956'\r\n        },{\r\n            offset: 1,\r\n            color: '#E9707A'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#6E54CC'\r\n        },{\r\n            offset: 1,\r\n            color: '#7E90E9'\r\n        }])\r\n    ];\r\n    let termNameInfo = {\r\n        \"common\": \"平时考试\",\r\n        \"termCenter\": \"期中考试\",\r\n        \"termEnd\": \"期末考试\"\r\n    }  \r\n    //身份为学生时还需调用班级接口\r\n    useLayoutEffect(() => {\r\n        if(userIdentity != \"student\"){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取班级\r\n        let url = BasicProxy + \"/api/learning2/exam/scoreRank?type=2\" + \r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&examType=\" + (\r\n            currentTestType == \"common\"?\r\n            1:\r\n            2\r\n        ) +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setClassInfoList(result.data);\r\n            }\r\n        })\r\n    }, [currentTestType, userIdentity, currentGrade, currentClass, currentTerm]);\r\n    //获取年级数据\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"manager\"){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取年级\r\n        let url = BasicProxy + \"/api/learning2/exam/scoreRank?type=3\" + \r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&examType=\" + (\r\n            currentTestType == \"common\"?\r\n            1:\r\n            2\r\n        ) +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setGradeInfoList(result.data);\r\n            }\r\n        })\r\n    }, [currentTestType, userIdentity, currentGrade, currentClass, currentTerm]);\r\n    //获取身份对应数据\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"manager\" && !currentClass && !currentGrade){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let url = BasicProxy + \"/api/learning2/exam/scoreRank?type=\" +\r\n        (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            currentClass?\r\n            2:\r\n            currentGrade?\r\n            3:\r\n            4\r\n        ) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&examType=\" + (\r\n            currentTestType == \"common\"?\r\n            1:\r\n            2\r\n        ) +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setTestInfoList(result.data);\r\n                let subjectList = [];\r\n                result.data.map((item)=>{\r\n                    if(item.examType == termNameInfo[currentTestType]){\r\n                        subjectList.push(item.subject);\r\n                    } \r\n                })\r\n                subjectList = [...new Set(subjectList)];\r\n                setSubjectList(subjectList);\r\n                result.data[0] && setCurrentSubject(subjectList[0]);\r\n            }\r\n        })\r\n    }, [currentTestType, userIdentity, currentGrade, currentClass, currentTerm]);\r\n    //身份为领导时查全部需要特殊处理\r\n    useLayoutEffect(() => {\r\n        if(userIdentity != \"manager\" || currentGrade || currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n\r\n        let url = BasicProxy + \"/api/learning2/exam/scoreRank/batch?type=3\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&examType=\" + (\r\n            currentTestType == \"common\"?\r\n            1:\r\n            2\r\n        ) +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setTestInfoList(result.data);\r\n                let subjectList = [];\r\n                result.data.map((item)=>{\r\n                    item.examScoreAndRankList.forEach((child)=>{\r\n                        if(child.examType == termNameInfo[currentTestType]){\r\n                            subjectList.push(child.subject);\r\n                        } \r\n                    })\r\n                })\r\n                subjectList = [...new Set(subjectList)];\r\n                setSubjectList(subjectList);\r\n                result.data[0] && setCurrentSubject(subjectList[0]);\r\n            }\r\n        })\r\n    }, [currentTestType, userIdentity, currentGrade, currentClass, currentTerm]);\r\n    useEffect(() => {\r\n        if((userIdentity == 'manager' && !currentClass && !currentGrade)|| testInfoList.length == 0){\r\n            return;\r\n        }\r\n        //期末期中考试是放在一起的，需要分开\r\n        let dataList = [];\r\n        if(currentTestType == \"common\"){\r\n            dataList = testInfoList;\r\n        }\r\n        if(currentTestType == \"termCenter\"){\r\n            testInfoList.forEach((item)=>{\r\n                if(item.examType == \"期中考试\" && item.subject == currentSubject){\r\n                    dataList.push(item);\r\n                }\r\n            })\r\n        }\r\n        if(currentTestType == \"termEnd\"){\r\n            testInfoList.forEach((item)=>{\r\n                if(item.examType == \"期末考试\" && item.subject == currentSubject){\r\n                    dataList.push(item);\r\n                }\r\n            })\r\n        }\r\n        let xList = [], classDataList = [], gradeDataList = [], myDataList = [], maxDataList = [];\r\n        dataList.forEach((item)=>{\r\n            xList.push(item.examName);\r\n            myDataList.push(item.score);\r\n            maxDataList.push(item.maxScore);\r\n        })\r\n        gradeInfoList.forEach((item)=>{\r\n            gradeDataList.push(item.score);\r\n        })\r\n        classInfoList.forEach((item)=>{\r\n            classDataList.push(item.score);\r\n        })\r\n        let seriesList = [];\r\n        if(userIdentity == 'teacher'){\r\n            seriesList = [\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data: myDataList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data: gradeDataList\r\n                }\r\n            ]\r\n        }\r\n        if(userIdentity == 'student'){\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data: myDataList\r\n                },\r\n                {\r\n                    name:'最高分',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#f18a1a',\r\n                        width: 1,\r\n                        borderColor: '#f18a1a',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#f18a1a'\r\n                    },\r\n                    data: maxDataList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data: classDataList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data: gradeDataList\r\n                }\r\n            ];\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"common-grade-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: `${currentTestType == \"common\"? \"平时\":\r\n                currentTestType == \"termCenter\"? \"期中\":\r\n            currentTestType == \"termEnd\"? \"期末\":\r\n        \"\"}考试成绩(${currentSubject})`,\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 65: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}分</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 70\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                right: '10%',\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '考试',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '分数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [testInfoList, userIdentity, currentSubject, currentTestType]);\r\n    useEffect(() => { \r\n        if((userIdentity == 'manager' && !currentClass && !currentGrade)|| testInfoList.length == 0){\r\n            return;\r\n        }\r\n        //期末期中考试是放在一起的，需要分开\r\n        let dataList = [];\r\n        if(currentTestType == \"common\"){\r\n            dataList = testInfoList;\r\n        }\r\n        if(currentTestType == \"termCenter\"){\r\n            testInfoList.forEach((item)=>{\r\n                if(item.examType == \"期中考试\" && item.subject == currentSubject){\r\n                    dataList.push(item);\r\n                }\r\n            })\r\n        }\r\n        if(currentTestType == \"termEnd\"){\r\n            testInfoList.forEach((item)=>{\r\n                if(item.examType == \"期末考试\" && item.subject == currentSubject){\r\n                    dataList.push(item);\r\n                }\r\n            })\r\n        }\r\n\r\n        let xList = [], classDataList = [], gradeDataList = [];\r\n        dataList.forEach((item)=>{\r\n            xList.push(item.examName);\r\n            classDataList.push(item.classRank? item.classRank: 0);\r\n            gradeDataList.push(item.gradeRank? item.gradeRank: 0);\r\n        })\r\n        let seriesList = [];\r\n        if(userIdentity == 'teacher'){\r\n            seriesList = [\r\n                {\r\n                    name:'排名',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#0099ff',\r\n                        width: 1,\r\n                        borderColor: '#0099ff',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#0099ff'\r\n                    },\r\n                    data: classDataList\r\n                }\r\n            ]\r\n        }\r\n        if(userIdentity == 'student'){\r\n            seriesList = [\r\n                {\r\n                    name:'班级排名',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#0099ff',\r\n                        width: 1,\r\n                        borderColor: '#0099ff',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#0099ff'\r\n                    },\r\n                    data: classDataList\r\n                },\r\n                {\r\n                    name:'年级排名',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#22a814',\r\n                        width: 1,\r\n                        borderColor: '#22a814',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#22a814'\r\n                    },\r\n                    data: gradeDataList\r\n                },\r\n            ]\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"common-rank-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: `${currentTestType == \"common\"? \"平时\":\r\n                currentTestType == \"termCenter\"? \"期中\":\r\n            currentTestType == \"termEnd\"? \"期末\":\r\n        \"\"}考试班级排名(${currentSubject})`,\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}名</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                right: '10%',\r\n                // data:['班级排名','年级排名'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 70\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '考试',\r\n                nameTextStyle: {\r\n                    color: '#999999', \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '名次',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [testInfoList, userIdentity, currentSubject, currentTestType]);\r\n    useEffect(() => {\r\n        if(userIdentity != 'manager' || currentClass || currentGrade){\r\n            return;\r\n        }\r\n        let xList = [], classDataList = [], gradeDataList = [], myDataList = [], maxDataList = [], seriesList = [];;\r\n        if(!currentClass && !currentGrade){ //查所有年级\r\n            //期末期中考试是放在一起的，需要分开\r\n            let dataList = [];\r\n            if(currentTestType == \"common\"){\r\n                testInfoList.forEach((item)=>{\r\n                    item.examScoreAndRankList.forEach((child)=>{\r\n                        if(child.examType == \"平时考试\" && child.subject == currentSubject){\r\n                            dataList.push(item);\r\n                        }\r\n                    })\r\n                });\r\n            }\r\n            if(currentTestType == \"termCenter\"){\r\n                testInfoList.forEach((item)=>{\r\n                    item.examScoreAndRankList.forEach((child)=>{\r\n                        if(child.examType == \"期中考试\" && child.subject == currentSubject){\r\n                            dataList.push(item);\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n            if(currentTestType == \"termEnd\"){\r\n                testInfoList.forEach((item)=>{\r\n                    item.examScoreAndRankList.forEach((child)=>{\r\n                        if(child.examType == \"期末考试\" && child.subject == currentSubject){\r\n                            dataList.push(item);\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n            //得出所有考试列表\r\n            dataList.forEach((item)=>{\r\n                item.examScoreAndRankList.forEach((child)=>{\r\n                    if(child.subject == currentSubject && termNameInfo[currentTestType] == child.examType){\r\n                        xList.push(child.examName? child.examName: \"\");\r\n                    }\r\n                })\r\n            })\r\n            xList = [...new Set(xList)];\r\n            //得出一个个年级在每场考试的数据列表\r\n            testInfoList.forEach((item, index)=>{\r\n                let list = [];\r\n                xList.forEach((child)=>{\r\n                    let sum = 0;\r\n                    item.examScoreAndRankList.forEach((child2)=>{\r\n                        if(child2.examName == child && child.subject == currentSubject){\r\n                            sum += child2.score;\r\n                        }\r\n                    })\r\n                    //平均分\r\n                    list.push(parseInt(sum / item.examScoreAndRankList.length));\r\n                })\r\n                seriesList.push({\r\n                    name: item.gradeName,\r\n                    type:'bar',\r\n                    // barWidth : 16,\r\n                    itemStyle: colorList[index % 6],\r\n                    data: list\r\n                })\r\n            })\r\n            \r\n        } else {  //某一年级或班级\r\n            //期末期中考试是放在一起的，需要分开\r\n            let dataList = [];\r\n            if(currentTestType == \"common\"){\r\n                dataList = testInfoList;\r\n            }\r\n            if(currentTestType == \"termCenter\"){\r\n                testInfoList.forEach((item)=>{\r\n                    if(item.examType == \"期中考试\" && item.subject == currentSubject){\r\n                        dataList.push(item);\r\n                    }\r\n                })\r\n            }\r\n            if(currentTestType == \"termEnd\"){\r\n                testInfoList.forEach((item)=>{\r\n                    if(item.examType == \"期末考试\" && item.subject == currentSubject){\r\n                        dataList.push(item);\r\n                    }\r\n                })\r\n            }\r\n            dataList.forEach((item)=>{\r\n                xList.push(item.examName? item.examName: \"\");\r\n                myDataList.push(item.score);\r\n            })\r\n            xList = [...new Set(xList)];\r\n            seriesList = [\r\n                {\r\n                    name: currentClass? \"班级\": \"年级\",\r\n                    type:'bar',\r\n                    // barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data: myDataList\r\n                },\r\n            ]\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"manager-grade-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: `${currentTestType == \"common\"? \"平时\":\r\n            currentTestType == \"termCenter\"? \"期中\":\r\n        currentTestType == \"termEnd\"? \"期末\":\r\n    \"\"}考试成绩${currentSubject? \"(\" + currentSubject + \")\": \"\"}`,\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 40: 30\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value? item.value: \"--\"}分</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 70\r\n            },\r\n            legend: {\r\n                width: \"70%\",\r\n                type: \"scroll\",\r\n                top: '50px',\r\n                left: 'center',\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '考试',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '分数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [testInfoList, userIdentity, currentSubject, currentTestType]);\r\n\r\n    \r\n    return (\r\n      <div className=\"test-grade\">\r\n            <div className=\"test-grade-top\">\r\n                <div className=\"kind-list\">\r\n                    <span>类型:</span>\r\n                    <span \r\n                    className={\"list-one \" + (currentTestType == \"common\"? \"active\": \"\")} \r\n                    onClick={()=>setCurrentTestType(\"common\")}>平时考试</span>\r\n                    <span className=\"list-slice-line\"></span>\r\n                    <span \r\n                    className={\"list-one \" + (currentTestType == \"termCenter\"? \"active\": \"\")} \r\n                    onClick={()=>setCurrentTestType(\"termCenter\")}>期中考试</span>\r\n                    <span className=\"list-slice-line\"></span>\r\n                    <span \r\n                    className={\"list-one \" + (currentTestType == \"termEnd\"? \"active\": \"\")}\r\n                    onClick={()=>setCurrentTestType(\"termEnd\")}>期末考试</span>\r\n                </div>\r\n                {\r\n                    subjectList.length > 0?\r\n                    <div className=\"select-container\">\r\n                        <span>学科:</span>\r\n                        <Select \r\n                        value={currentSubject}\r\n                        className=\"select\" \r\n                        onChange={(value)=>setCurrentSubject(value)}>\r\n                            {\r\n                                subjectList.map((item, index)=>{\r\n                                    return (\r\n                                        <Option key={index} value={item}>{item}</Option>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </Select>\r\n                    </div>:\r\n                    \"\"\r\n                }\r\n                \r\n            </div>\r\n            {\r\n                userIdentity == 'manager' && !currentGrade && !currentClass?\r\n                <div className=\"manager-grade-bottom\">\r\n                    <div className=\"manager-grade-echart\" id=\"manager-grade-echart\"></div>\r\n                </div>:\r\n                testInfoList.length > 0?\r\n                <div className=\"test-grade-bottom\">\r\n                    <div className=\"common-grade-echart\" id=\"common-grade-echart\"></div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"common-rank-echart\" id=\"common-rank-echart\"></div>\r\n                </div>:\r\n                <Empty\r\n                // className={\"bar-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }\r\n      </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(TestGrade)));\r\n  ","import {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { Empty, Modal } from \"../../../component/common\";\r\nimport Table from \"../../../component/tableList\";\r\nimport Bar from \"../../../component/bar\";\r\nimport Track from \"../../../component/Track\";\r\nimport ConditionRank from \"./conditionRank\";\r\nimport LeaderConditionRank from \"./leaderConditionRank\";\r\nimport CourseShow from \"./courseShow\";\r\nimport DetailWork from \"./detailWork\";\r\nimport PersonStudy from \"./personStudy\";\r\nimport GradeStatistic from \"./gradeStatistic\";\r\nimport TestGrade from \"./testGrade\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n\r\nfunction StuCondition(props, ref) {\r\n  // *selectLevel:这里的selectLevel与用户的没关系，与看的级别有关，例如教育局的看学校的，selectLevel===2\r\n  // *productLevel:产品类型，给用户看的界面类型，用来控制界面的一些属性：1教育局，2大学学校，3教育局学校，4大学学院，\r\n  // *product:包含该productLevel的所有信息,有使用组件者使用productLevel和commonData的levelHash匹配使用，必须传，不传将出问题\r\n  let {\r\n    term,\r\n    HasHistory,\r\n    onAnchorComplete,\r\n    schoolID,\r\n    collegeID,\r\n    productMsg,\r\n    userIdentity,\r\n    currentClass,\r\n    currentGrade,\r\n    userInfo: {UserID, SchoolID},\r\n    reflash\r\n  } = props;\r\n  \r\n  const [courseVisible, setCourseVisible] = useState(false);\r\n  const [workVisible, setWorkVisible] = useState(false);\r\n  const [studyVisible, setStudyVisible] = useState(false);\r\n  const [testVisible, setTestVisible] = useState(false);\r\n  const [trackInfo, setTrackInfo] = useState([]);\r\n  const [studentList, setStudentList] = useState([]);\r\n  const [selectStudentList, setSelectStudentList] = useState([]);\r\n  const [keyword, setKeyWord] = useState(\"\");\r\n  //单个学生详情数据\r\n  const [subjectScoreList, setSubjectScoreList] = useState([]);\r\n  const [workList, setWorkList] = useState([]);\r\n  const [studyList, setStudyList] = useState([]);\r\n  const [courseList, setCourseList] = useState([]);\r\n  //控制模态框显示内容\r\n  const [modalShowType, setModalShowType] = useState(userIdentity == \"student\"? \"course\": \"list\");\r\n  const conditionRank = useRef(null);\r\n  const courseStatus = useRef(null);\r\n  const detailWork = useRef(null);\r\n  const personStudy = useRef(null);\r\n  const testGrade = useRef(null);\r\n  const gradeShow = useRef(null);\r\n  const stuConditionTrack = useRef(null);\r\n  const courseTableHeader = [\r\n    {\r\n      key: \"date\",\r\n      name: \"日期\"\r\n    },\r\n    {\r\n      key: \"subjectName\",\r\n      name: \"学科名称\"\r\n    },\r\n    {\r\n      key: \"score\",\r\n      name: \"课堂表现分数\"\r\n    }\r\n  ]\r\n  const workTableHeader = [\r\n    {\r\n      key: \"homeworkName\",\r\n      name: \"作业名称\"\r\n    },\r\n    {\r\n      key: \"subject\",\r\n      name: \"作业所属学科\"\r\n    },\r\n    {\r\n      key: \"score\",\r\n      name: \"分数\"\r\n    },\r\n    {\r\n      key: \"startDate\",\r\n      name: \"发布日期\"\r\n    },\r\n    {\r\n      key: \"endDate\",\r\n      name: \"完成日期\"\r\n    }\r\n  ]\r\n  const studyTableHeader = [\r\n    {\r\n      key: \"date\",\r\n      name: \"时间\"\r\n    },\r\n    {\r\n      key: \"subjectName\",\r\n      name: \"学科名称\"\r\n    },\r\n    {\r\n      key: \"useTime\",\r\n      name: \"学科自学时长\"\r\n    }\r\n  ]\r\n  const examTableHeader = [\r\n    {\r\n      key: \"subject\",\r\n      name: \"考试学科\"\r\n    },\r\n    {\r\n      key: \"examName\",\r\n      name: \"考试名称\"\r\n    },\r\n    {\r\n      key: \"score\",\r\n      name: \"分数\"\r\n    },\r\n    {\r\n      key: \"maxScore\",\r\n      name: \"最高分\"\r\n    },\r\n    {\r\n      key: \"classRank\",\r\n      name: \"班级排名\"\r\n    },\r\n    {\r\n      key: \"gradeRank\",\r\n      name: \"年级排名\"\r\n    }\r\n  ]\r\n  useEffect(() => {\r\n    // setAnchorList();\r\n    let {\r\n      userIdentity\r\n    } = props;\r\n    typeof onAnchorComplete === \"function\" &&\r\n      onAnchorComplete([\r\n        { ref: conditionRank.current, name: \"学情排行\" },\r\n        { ref: courseStatus.current, name: \"课堂表现\" },\r\n        { ref: detailWork.current, name: \"日常作业\" },\r\n        { ref: personStudy.current, name: \"课外自学\" },\r\n        { ref: testGrade.current, name: \"考试成绩\" },\r\n        { ref: gradeShow.current, name: \"成绩总评\" },\r\n        { ref: stuConditionTrack.current, name: \"学情轨迹\" },\r\n      ]);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  //获取轨迹数据\r\n  useLayoutEffect(() => {\r\n    if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n      return;\r\n    }\r\n    if(userIdentity == \"teacher\" && !currentClass){\r\n        return;\r\n    }\r\n    let currentTermInfo = term.value && JSON.parse(term.value);\r\n    // SchoolID = \"S27-511-AF57\";\r\n    // currentTermInfo.termId = \"2020-202101\";\r\n    // currentClass = \"d8ed1a21-39bc-4403-8330-5f9bd578f721\";\r\n    // currentGrade = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\"; \r\n    let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n    let classGradeId = \"\";\r\n    classList.forEach((item)=>{\r\n        if(item.classId == currentClass){\r\n            classGradeId = item.gradeId;\r\n        }\r\n    })\r\n    let url = BasicProxy + \"/api/learning2/path?type=\"+ (\r\n      userIdentity == \"student\"?\r\n      1:\r\n      userIdentity == \"teacher\"?\r\n      2:\r\n      currentGrade?\r\n      3:\r\n      4\r\n    ) + \r\n    \"&studentId=\" + (\r\n      userIdentity == \"student\"?\r\n      UserID:\r\n      \"\"\r\n    ) + \r\n    \"&classId=\" + currentClass +\r\n    \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&termId=\" + currentTermInfo.termId +\r\n    \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n    \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && result.data){\r\n        setTrackInfo(result.data);\r\n      }\r\n    })\r\n  }, [currentGrade, currentClass, userIdentity, term, UserID, reflash]);\r\n\r\n  //如果是老师则先获取学生列表\r\n  useLayoutEffect(() => {\r\n    if(userIdentity == \"teacher\" && currentClass){\r\n      let url = BasicProxy + \"/api/base/getStudentInfo?schoolId=\" +\r\n      SchoolID +\r\n      \"&gradeId=\" + currentGrade +\r\n      \"&classId=\" + currentClass;\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && result.data){\r\n              setStudentList(result.data);\r\n              setSelectStudentList(result.data);\r\n          }\r\n      })\r\n    }\r\n  }, [userIdentity, UserID, currentClass, currentGrade, term, reflash])\r\n\r\n  //获取弹出框详细信息\r\n  useLayoutEffect(() => {\r\n    if(userIdentity != \"student\"){\r\n      return;\r\n    }\r\n    if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n      return;\r\n    }\r\n    let termInfo = term && term.value && JSON.parse(term.value);\r\n    let url = BasicProxy + \"/api/learning2/exam/scoreRank?type=1\" + \r\n    \"&studentId=\" + UserID +\r\n    \"&classId=\" + currentClass +\r\n    \"&gradeId=\" + currentGrade +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&termId=\" + termInfo.termId +\r\n    \"&examType=3\" +\r\n    \"&start=\" + termInfo.startDate.substr(0, 10) +\r\n    \"&end=\" + termInfo.endDate.substr(0, 10) ;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n            setSubjectScoreList(result.data);\r\n        }\r\n    })     \r\n    url = BasicProxy + \"/api/learning2/performance/subject?type=1\" + \r\n    \"&studentId=\" + UserID +\r\n    \"&classId=\" + currentClass +\r\n    \"&gradeId=\" + currentGrade +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&termId=\" + termInfo.termId +\r\n    \"&start=\" + termInfo.startDate.substr(0, 10) +\r\n    \"&end=\" + termInfo.endDate.substr(0, 10) ;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n            setCourseList(result.data);\r\n        }\r\n    })\r\n    url = BasicProxy + \"/api/learning2/homework/details?type=1\" + \r\n    \"&studentId=\" + UserID +\r\n    \"&classId=\" + currentClass +\r\n    \"&gradeId=\" + currentGrade +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&termId=\" + termInfo.termId +\r\n    \"&start=\" + termInfo.startDate.substr(0, 10) +\r\n    \"&end=\" + termInfo.endDate.substr(0, 10) ;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n            setWorkList(result.data);\r\n        }\r\n    })\r\n    url = BasicProxy + \"/api/learning2/selfStudy/detail?type=1\" + \r\n    \"&studentId=\" + UserID +\r\n    \"&classId=\" + currentClass +\r\n    \"&gradeId=\" + currentGrade +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&termId=\" + termInfo.termId +\r\n    \"&start=\" + termInfo.startDate.substr(0, 10) +\r\n    \"&end=\" + termInfo.endDate.substr(0, 10) ;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          let arr = [];\r\n          Array.isArray(result.data.selfStudyDaysList) &&\r\n          result.data.selfStudyDaysList.forEach((item)=>{\r\n            let obj = {\r\n              date: item.date\r\n            };\r\n            item.selfStudySubjectList.forEach((child)=>{\r\n              obj.subjectName = child.subjectName;\r\n              obj.useTime = child.useTime;\r\n            })\r\n            arr.push(obj);\r\n          })\r\n          setStudyList(arr);\r\n        }\r\n    })\r\n  }, [term, currentClass, currentGrade, userIdentity, UserID, reflash]);\r\n  //点击学生查看学生详细信息\r\n  const setStudentInfo = (data, type) => {\r\n    let termInfo = term && term.value && JSON.parse(term.value);\r\n    let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n    let classGradeId = \"\";\r\n    classList.forEach((item)=>{\r\n        if(item.classId == currentClass){\r\n            classGradeId = item.gradeId;\r\n        }\r\n    })\r\n    console.log(data);\r\n    if(type == \"course\"){\r\n      let url = BasicProxy + \"/api/learning2/performance/subject?type=1\" + \r\n      \"&studentId=\" + data.userId +\r\n      \"&classId=\" + currentClass +\r\n      \"&gradeId=\" + classGradeId +\r\n      \"&schoolId=\" + SchoolID +\r\n      \"&termId=\" + termInfo.termId +\r\n      \"&start=\" + termInfo.startDate.substr(0, 10) +\r\n      \"&end=\" + termInfo.endDate.substr(0, 10) ;\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && result.data){\r\n              setCourseList(result.data);\r\n              setModalShowType(\"detail\");\r\n          }\r\n      })\r\n    }\r\n    if(type == \"work\"){\r\n      let url = BasicProxy + \"/api/learning2/homework/details?type=1\" + \r\n      \"&studentId=\" + data.userId +\r\n      \"&classId=\" + currentClass +\r\n      \"&gradeId=\" + classGradeId +\r\n      \"&schoolId=\" + SchoolID +\r\n      \"&termId=\" + termInfo.termId +\r\n      \"&start=\" + termInfo.startDate.substr(0, 10) +\r\n      \"&end=\" + termInfo.endDate.substr(0, 10) ;\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && result.data){\r\n              setWorkList(result.data);\r\n              setModalShowType(\"detail\");\r\n          }\r\n      })\r\n    }\r\n    if(type == \"study\"){\r\n      let url = BasicProxy + \"/api/learning2/selfStudy/detail?type=1\" + \r\n      \"&studentId=\" + data.userId +\r\n      \"&classId=\" + currentClass +\r\n      \"&gradeId=\" + classGradeId +\r\n      \"&schoolId=\" + SchoolID +\r\n      \"&termId=\" + termInfo.termId +\r\n      \"&start=\" + termInfo.startDate.substr(0, 10) +\r\n      \"&end=\" + termInfo.endDate.substr(0, 10) ;\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && result.data){\r\n            let arr = [];\r\n            Array.isArray(result.data.selfStudyDaysList) &&\r\n            result.data.selfStudyDaysList.forEach((item)=>{\r\n              let obj = {\r\n                date: item.date\r\n              };\r\n              item.selfStudySubjectList.forEach((child)=>{\r\n                obj.subjectName = child.subjectName;\r\n                obj.useTime = child.useTime;\r\n              })\r\n              arr.push(obj);\r\n            })\r\n            setStudyList(arr);\r\n            setModalShowType(\"detail\");\r\n          }\r\n      })\r\n    }\r\n    if(type == \"exam\"){\r\n      let url = BasicProxy + \"/api/learning2/exam/scoreRank?type=1\" + \r\n      \"&studentId=\" + data.userId +\r\n      \"&classId=\" + currentClass +\r\n      \"&gradeId=\" + classGradeId +\r\n      \"&schoolId=\" + SchoolID +\r\n      \"&termId=\" + termInfo.termId +\r\n      \"&examType=3\" +\r\n      \"&start=\" + termInfo.startDate.substr(0, 10) +\r\n      \"&end=\" + termInfo.endDate.substr(0, 10) ;\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && result.data){\r\n              setSubjectScoreList(result.data);\r\n              setModalShowType(\"detail\");\r\n          }\r\n      })\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"stu-condition\" id=\"stuConditionMsg\">\r\n      {\r\n        userIdentity == 'manager' && !currentClass && !currentGrade?\r\n        <Bar loading={false} barName={\"学情排行\"} ref={conditionRank}>\r\n          <LeaderConditionRank \r\n          userIdentity={userIdentity} \r\n          currentTerm={term}\r\n          currentGrade={currentGrade}\r\n          currentClass={currentClass}\r\n          reflash={reflash} />\r\n        </Bar>:\r\n        currentClass && userIdentity != \"student\"?\r\n        <Bar loading={false} barName={\"学情排行\"} ref={conditionRank}>\r\n          <ConditionRank \r\n          userIdentity={userIdentity} \r\n          currentTerm={term}\r\n          currentGrade={currentGrade}\r\n          currentClass={currentClass}\r\n          reflash={reflash} />\r\n        </Bar>:\r\n        \"\"\r\n      }\r\n      \r\n      <Bar\r\n        barName={\"课堂表现\"}\r\n        ref={courseStatus}\r\n        topContext={\r\n          userIdentity != \"manager\"? \r\n          <div className=\"module-link-group\">\r\n            <span \r\n            className=\"status\" \r\n            onClick={()=>setCourseVisible(true)}>\r\n              查看课堂详情信息\r\n            </span>\r\n          </div>\r\n          :false}\r\n        loading={false}\r\n      >\r\n        <CourseShow \r\n        userIdentity={userIdentity} \r\n        currentTerm={term}\r\n        currentGrade={currentGrade}\r\n        currentClass={currentClass}\r\n        reflash={reflash} />\r\n      </Bar>\r\n      <Bar \r\n      loading={false} \r\n      barName={\"日常作业\"} \r\n      ref={detailWork}\r\n      topContext={\r\n        userIdentity != \"manager\"? \r\n        <div className=\"module-link-group\">\r\n          <span \r\n          className=\"status\" \r\n          onClick={()=>setWorkVisible(true)}>\r\n            查看作业详情信息\r\n          </span>\r\n        </div>\r\n      :false}> \r\n        <DetailWork\r\n        userIdentity={userIdentity} \r\n        currentTerm={term}\r\n        currentGrade={currentGrade}\r\n        currentClass={currentClass}\r\n        reflash={reflash} />\r\n      </Bar>\r\n      <Bar \r\n      loading={false} \r\n      barName={\"课外自学\"}\r\n      ref={personStudy}\r\n      topContext={\r\n        userIdentity != \"manager\"? \r\n        <div className=\"module-link-group\">\r\n          <span \r\n          className=\"status\" \r\n          onClick={()=>setStudyVisible(true)}>\r\n            查看自学详情信息\r\n          </span>\r\n        </div>\r\n      :false}>\r\n        <PersonStudy\r\n        userIdentity={userIdentity} \r\n        currentTerm={term}\r\n        currentGrade={currentGrade}\r\n        currentClass={currentClass}\r\n        reflash={reflash} />\r\n      </Bar>\r\n      <Bar \r\n      loading={false} \r\n      barName={\"考试成绩\"} \r\n      ref={testGrade}\r\n      topContext={\r\n        userIdentity != \"manager\"?\r\n        <div className=\"module-link-group\">\r\n          <span \r\n          className=\"status\"\r\n          onClick={()=>setTestVisible(true)}>\r\n            查看考试详情信息\r\n          </span>\r\n        </div>\r\n        :false}\r\n      >\r\n        <TestGrade \r\n        userIdentity={userIdentity}\r\n        currentTerm={term}\r\n        currentGrade={currentGrade}\r\n        currentClass={currentClass}\r\n        reflash={reflash} />\r\n      </Bar>\r\n      <Bar loading={false} barName={\"成绩总评\"} ref={gradeShow}>\r\n        <GradeStatistic \r\n        userIdentity={userIdentity}\r\n        currentTerm={term}\r\n        currentGrade={currentGrade}\r\n        currentClass={currentClass}\r\n        reflash={reflash} />\r\n      </Bar>\r\n      <Bar loading={false} barName={\"学情轨迹\"} ref={stuConditionTrack}>\r\n        <Track\r\n        type=\"stuConditionMsg\"\r\n        userIdentity={userIdentity}\r\n        data={trackInfo}\r\n        ></Track>\r\n      </Bar>\r\n      <Modal\r\n            type=\"1\"\r\n            title=\"课堂表现详情\"\r\n            visible={courseVisible}\r\n            onOk={()=>setCourseVisible(true)}\r\n            onCancel={()=>{\r\n              if(userIdentity != \"student\"){\r\n                setModalShowType(\"list\")\r\n              }\r\n              setCourseVisible(false)}}\r\n            footer={null}\r\n            width={1000}\r\n            className=\"height-weight-modal\"\r\n            bodyStyle={{height: 632 + 'px', padding: 20}}\r\n        >\r\n            {\r\n              modalShowType == \"list\"?\r\n              <div>\r\n                <p className=\"stu-count\">共<span>{\r\n                studentList.length\r\n                }</span>人</p>\r\n                <ul className=\"member-list\">\r\n                  <Scrollbars \r\n                  autoHeight\r\n                  autoHeightMax={550}>\r\n                    {\r\n                      selectStudentList.length > 0?\r\n                      selectStudentList.map((item, index)=>{\r\n                        return (\r\n                        <li key={index} onClick={()=>setStudentInfo(item, \"course\")}>\r\n                          <i className=\"user-header\" style={{\r\n                            backgroundImage:\r\n                            (\r\n                              item.photoPath?\r\n                              item.photoPath:\r\n                              \"\"\r\n                            )\r\n                          }}></i>\r\n                          <p title={item.userName}>{item.userName}</p>\r\n                        </li>\r\n                        )\r\n                      }):\r\n                      <Empty\r\n                      className={\"bar-empty\"}\r\n                      style={{margin: \"150px 0 0\"}}\r\n                      title={\"暂无数据\"}\r\n                      type={\"4\"}\r\n                      ></Empty>\r\n                    }\r\n                  \r\n                  </Scrollbars>\r\n                  \r\n                </ul>  \r\n              </div>:\r\n              <div>\r\n                {\r\n                  userIdentity != \"student\"?\r\n                  <span className=\"reback-prev\" onClick={()=>setModalShowType(\"list\")}>返回学生列表</span>:\r\n                  \"\"\r\n                }\r\n                <Table\r\n                style={{marginTop: 20}}\r\n                tableHeader={courseTableHeader}\r\n                data={courseList}\r\n                ></Table>\r\n              </div>\r\n            }\r\n        </Modal>\r\n      <Modal\r\n          type=\"1\"\r\n          title=\"作业详情\"\r\n          visible={workVisible}\r\n          onOk={()=>setWorkVisible(true)}\r\n          onCancel={()=>{\r\n            if(userIdentity != \"student\"){\r\n              setModalShowType(\"list\")\r\n            }\r\n            setWorkVisible(false)}}\r\n          footer={null}\r\n          width={1000}\r\n          className=\"height-weight-modal\"\r\n          bodyStyle={{height: 632 + 'px', padding: 20}}\r\n      >\r\n          {\r\n            modalShowType == \"list\"?\r\n            <div>\r\n              <p className=\"stu-count\">共<span>{\r\n              studentList.length\r\n              }</span>人</p>\r\n              <ul className=\"member-list\">\r\n                <Scrollbars \r\n                autoHeight\r\n                autoHeightMax={550}>\r\n                  {\r\n                    selectStudentList.length > 0?\r\n                    selectStudentList.map((item, index)=>{\r\n                      return (\r\n                      <li key={index} onClick={()=>setStudentInfo(item, \"work\")}>\r\n                        <i className=\"user-header\" style={{\r\n                          backgroundImage:\r\n                          (\r\n                            item.photoPath?\r\n                            item.photoPath:\r\n                            \"\"\r\n                          )\r\n                        }}></i>\r\n                        <p title={item.userName}>{item.userName}</p>\r\n                      </li>\r\n                      )\r\n                    }):\r\n                    <Empty\r\n                    className={\"bar-empty\"}\r\n                    style={{margin: \"150px 0 0\"}}\r\n                    title={\"暂无数据\"}\r\n                    type={\"4\"}\r\n                    ></Empty>\r\n                  }\r\n                \r\n                </Scrollbars>\r\n                \r\n              </ul>  \r\n            </div>:\r\n            <div>\r\n              {\r\n                userIdentity != \"student\"?\r\n                <span className=\"reback-prev\" onClick={()=>setModalShowType(\"list\")}>返回学生列表</span>:\r\n                \"\"\r\n              }\r\n              <Table\r\n              style={{marginTop: 20}}\r\n              tableHeader={workTableHeader}\r\n              data={workList}\r\n              ></Table>\r\n            </div>\r\n          }\r\n      </Modal>\r\n      <Modal\r\n            type=\"1\"\r\n            title=\"自学详情\"\r\n            visible={studyVisible}\r\n            onOk={()=>setStudyVisible(true)}\r\n            onCancel={()=>{\r\n              if(userIdentity != \"student\"){\r\n                setModalShowType(\"list\")\r\n              }\r\n              setStudyVisible(false)}}\r\n            footer={null}\r\n            width={1000}\r\n            className=\"height-weight-modal\"\r\n            bodyStyle={{height: 632 + 'px', padding: 20}}\r\n        >\r\n            {\r\n              modalShowType == \"list\"?\r\n              <div>\r\n                <p className=\"stu-count\">共<span>{\r\n                studentList.length\r\n                }</span>人</p>\r\n                <ul className=\"member-list\">\r\n                  <Scrollbars \r\n                  autoHeight\r\n                  autoHeightMax={550}>\r\n                    {\r\n                      selectStudentList.length > 0?\r\n                      selectStudentList.map((item, index)=>{\r\n                        return (\r\n                        <li key={index} onClick={()=>setStudentInfo(item, \"study\")}>\r\n                          <i className=\"user-header\" style={{\r\n                            backgroundImage:\r\n                            (\r\n                              item.photoPath?\r\n                              item.photoPath:\r\n                              \"\"\r\n                            )\r\n                          }}></i>\r\n                          <p title={item.userName}>{item.userName}</p>\r\n                        </li>\r\n                        )\r\n                      }):\r\n                      <Empty\r\n                      className={\"bar-empty\"}\r\n                      style={{margin: \"150px 0 0\"}}\r\n                      title={\"暂无数据\"}\r\n                      type={\"4\"}\r\n                      ></Empty>\r\n                    }\r\n                  \r\n                  </Scrollbars>\r\n                  \r\n                </ul>  \r\n              </div>:\r\n              <div>\r\n                {\r\n                  userIdentity != \"student\"?\r\n                  <span className=\"reback-prev\" onClick={()=>setModalShowType(\"list\")}>返回学生列表</span>:\r\n                  \"\"\r\n                }\r\n                <Table\r\n                style={{marginTop: 20}}\r\n                tableHeader={studyTableHeader}\r\n                data={studyList}\r\n                ></Table>\r\n              </div>\r\n            }\r\n        </Modal>\r\n      <Modal\r\n            type=\"1\"\r\n            title=\"考试详情\"\r\n            visible={testVisible}\r\n            onOk={()=>setTestVisible(true)}\r\n            onCancel={()=>{\r\n              if(userIdentity != \"student\"){\r\n                setModalShowType(\"list\")\r\n              }\r\n              setTestVisible(false)}}\r\n            footer={null}\r\n            width={1000}\r\n            className=\"height-weight-modal\"\r\n            bodyStyle={{height: 632 + 'px', padding: 20}}\r\n        >\r\n            {\r\n              modalShowType == \"list\"?\r\n              <div>\r\n                <p className=\"stu-count\">共<span>{\r\n                studentList.length\r\n                }</span>人</p>\r\n                <ul className=\"member-list\">\r\n                  <Scrollbars \r\n                  autoHeight\r\n                  autoHeightMax={550}>\r\n                    {\r\n                      selectStudentList.length > 0?\r\n                      selectStudentList.map((item, index)=>{\r\n                        return (\r\n                        <li key={index} onClick={()=>setStudentInfo(item, \"exam\")}>\r\n                          <i className=\"user-header\" style={{\r\n                            backgroundImage:\r\n                            (\r\n                              item.photoPath?\r\n                              item.photoPath:\r\n                              \"\"\r\n                            )\r\n                          }}></i>\r\n                          <p title={item.userName}>{item.userName}</p>\r\n                        </li>\r\n                        )\r\n                      }):\r\n                      <Empty\r\n                      className={\"bar-empty\"}\r\n                      style={{margin: \"150px 0 0\"}}\r\n                      title={\"暂无数据\"}\r\n                      type={\"4\"}\r\n                      ></Empty>\r\n                    }\r\n                  \r\n                  </Scrollbars>\r\n                  \r\n                </ul>  \r\n              </div>:\r\n              <div>\r\n                {\r\n                  userIdentity != \"student\"?\r\n                  <span className=\"reback-prev\" onClick={()=>setModalShowType(\"list\")}>返回学生列表</span>:\r\n                  \"\"\r\n                }\r\n                <Table\r\n                style={{marginTop: 20}}\r\n                tableHeader={examTableHeader}\r\n                data={subjectScoreList}\r\n                ></Table>\r\n              </div>\r\n            }\r\n        </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let { \r\n    commonData:{\r\n      termInfo:{\r\n        HasHistory,\r\n        TermInfo\r\n      },\r\n      userInfo\r\n    } \r\n  } = state;\r\n  // console.log(state)\r\n  return {HasHistory, TermInfo, userInfo};\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(StuCondition)));\r\n","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n    memo,\r\n    useEffect,\r\n    useState,\r\n    useImperativeHandle,\r\n    useRef,\r\n    useLayoutEffect,\r\n    forwardRef,\r\n} from \"react\";\r\nimport { Table, Progress } from \"antd\";\r\nimport \"./index.scss\";\r\nimport { Empty, Loading } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction AttendanceStatus(props){\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n        reflash\r\n    } = props;\r\n    const [currentIndex, setCurrentIndex] = useState(1);\r\n    const [attendanceList, setAttendanceList] = useState([]);\r\n    const [schoolAttendanceInfo, setSchoolAttendanceInfo] = useState([]);\r\n    const [visible, setVisible] = useState(true);\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        setVisible(true);\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let url = BasicProxy + \"/api/attendance/attendance/details?studentId=\" + \r\n        (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + (userIdentity == \"teacher\" || userIdentity == \"manager\" && currentClass? currentClass: \"\") +\r\n        \"&gradeId=\" + (userIdentity == \"manager\" && !currentClass? currentGrade: \"\") +\r\n        \"&schoolId=\" + (!currentClass && !currentGrade? SchoolID: \"\") +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setAttendanceList(result.data);\r\n            }\r\n        })\r\n        //获取全校出勤率信息\r\n        url = BasicProxy + \"/api/attendance/attendance/times?type=4&studentId=\" + \r\n        (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&statisticalType=1\" +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setSchoolAttendanceInfo(result.data);\r\n            }\r\n            setVisible(false);\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    let tableHeader = [\r\n        {\r\n            title: '序号',\r\n            key: 'index',\r\n            dataIndex: 'index',\r\n            width: 128,\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: userIdentity == 'teacher'? '姓名': '班级',\r\n            key: userIdentity == 'teacher'? 'studentName': 'className',\r\n            dataIndex: userIdentity == 'teacher'? 'studentName': 'className',\r\n            width: 309,\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: '迟到次数',\r\n            key: 'askleave',\r\n            dataIndex: 'askleave',\r\n            width: 176,\r\n            ellipsis: true\r\n        }\r\n        ,\r\n        {\r\n            title: '早退次数',\r\n            key: 'out',\r\n            dataIndex: 'out',\r\n            width: 176,\r\n            ellipsis: true\r\n        }\r\n        ,\r\n        {\r\n            title: '缺勤次数',\r\n            key: 'absence',\r\n            dataIndex: 'absence',\r\n            width: 176,\r\n            ellipsis: true\r\n        }\r\n        ,\r\n        {\r\n            title: '晚归次数',\r\n            key: 'lateback',\r\n            dataIndex: 'lateback',\r\n            width: 176,\r\n            ellipsis: true\r\n        }\r\n    ]\r\n    let Total = attendanceList.length;\r\n    \r\n    let paginationObj = Total > 8?{\r\n        total: Total,\r\n        showQuickJumper: false,\r\n        showSizeChanger: false,\r\n        current: currentIndex,\r\n        position: ['bottomCenter'],\r\n        pageSize: 8,\r\n        onChange: (pageIndex)=>setCurrentIndex(pageIndex)\r\n    }:false;\r\n    return (\r\n        <div className=\"all-attendance-status\">\r\n            <Loading\r\n            opacity={false}\r\n            tip=\"加载中...\"\r\n            spinning={visible}>\r\n            {\r\n                userIdentity == \"manager\"?\r\n                <div className=\"attendance-status-top\">\r\n                    <div className=\"progress-container\">\r\n                        <Progress \r\n                        type=\"circle\" \r\n                        percent={parseInt(Number(schoolAttendanceInfo.avgAttendanceRate)*100)}\r\n                        format={(percent)=> percent}\r\n                        width={92}\r\n                        className=\"progress attendance-rate\"\r\n                        strokeColor=\"#9780F8\" />\r\n                        <p>全校出勤率</p>\r\n                    </div>\r\n                    <div className=\"progress-container\">\r\n                        <Progress \r\n                        type=\"circle\" \r\n                        percent={schoolAttendanceInfo.vacateTimes}\r\n                        format={(percent)=> percent}\r\n                        width={92}\r\n                        className=\"progress askleave-rate\"\r\n                        strokeColor=\"#FFAF54\" />\r\n                        <p>请假人数</p>\r\n                    </div>\r\n                    <div className=\"progress-container\">\r\n                        <Progress \r\n                        type=\"circle\" \r\n                        percent={schoolAttendanceInfo.lateTimes}\r\n                        format={(percent)=> percent}\r\n                        width={92}\r\n                        className=\"progress late-rate\"\r\n                        strokeColor=\"#FD8276\" />\r\n                        <p>迟到人数</p>\r\n                    </div>  \r\n                </div>:\r\n                \"\"\r\n            }\r\n            {\r\n                userIdentity == \"manager\" && !currentGrade && !currentClass?\r\n                \"\":\r\n                <Table\r\n                    dataSource={attendanceList}\r\n                    columns={tableHeader}\r\n                    rowClassName=\"rows\"\r\n                    pagination={paginationObj}\r\n                    className={\"attendance-table \" + (Total > 8? \"table-min\": \"\")}\r\n                ></Table>\r\n            }\r\n            \r\n            </Loading>\r\n            \r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(AttendanceStatus)));","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n    memo,\r\n    useEffect,\r\n    useState,\r\n    useImperativeHandle,\r\n    useRef,\r\n    useLayoutEffect,\r\n    forwardRef,\r\n} from \"react\";\r\nimport {Progress} from \"antd\";\r\nimport \"./index.scss\";\r\n\r\nimport * as echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport {Select} from \"antd\";\r\nimport { Empty, Loading } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\nfunction CourseAttendance(props){\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n        reflash\r\n      } = props;\r\n    //统计类型(1：按日 2：按周 3：按月)\r\n    const [currentKind, setCurrentKind] = useState(\"1\");\r\n    const [rateInfo, setRateInfo] = useState({});\r\n    const [rateList, setRateList] = useState({});\r\n    const [classRateList, setClassRateList] = useState({});\r\n    const [gradeRateList, setGradeRateList] = useState({});\r\n    //控制图表加载动画显示\r\n    const [echartLoading, setEchartLoading] = useState(true);\r\n    let colorList = [\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#1da4fe'\r\n        },{\r\n            offset: 1,\r\n            color: '#7ecbff'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#51ca51'\r\n        },{\r\n            offset: 1,\r\n            color: '#a0dea0'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#F79750'\r\n        },{\r\n            offset: 1,\r\n            color: '#FFB681'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#2D3149'\r\n        },{\r\n            offset: 1,\r\n            color: '#363D71'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#E84956'\r\n        },{\r\n            offset: 1,\r\n            color: '#E9707A'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#6E54CC'\r\n        },{\r\n            offset: 1,\r\n            color: '#7E90E9'\r\n        }])\r\n    ];\r\n    //获取班级与年级的数据\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"manager\" && !currentClass && !currentGrade){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let url = BasicProxy + \"/api/attendance/attendance/times?type=2\" +\r\n        \"&studentId=\" + \r\n        (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&statisticalType=\" + currentKind +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setClassRateList(result.data);\r\n            }\r\n        })\r\n        url = BasicProxy + \"/api/attendance/attendance/times?type=3\" +\r\n        \"&studentId=\" + \r\n        (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&statisticalType=\" + currentKind +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeRateList(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentKind, reflash]);\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        setEchartLoading(true);\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let url = BasicProxy + \"/api/attendance/attendance/times?type=\" + (\r\n           userIdentity == \"student\"?\r\n           1:\r\n           userIdentity == \"teacher\"?\r\n           2:\r\n           currentClass?\r\n           2:\r\n           currentGrade?\r\n           3:\r\n           4\r\n        ) +\r\n        \"&studentId=\" + \r\n        (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&statisticalType=\" + currentKind +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setRateList(result.data); \r\n            }\r\n            setEchartLoading(false);\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentKind, reflash]);\r\n    useEffect(() => {\r\n        if(!rateList.absentRateDetailList || rateList.absentRateDetailList.length == 0){\r\n            return;\r\n        }\r\n\r\n        let myEchart = echarts.init(document.getElementById(\"attendance-rate-echart\"));\r\n        myEchart.resize();\r\n        let seriesList = [], xList = [];\r\n        if(userIdentity == \"manager\" && !currentClass && !currentGrade){\r\n            let myList = [], classList = [], gradeList = [];\r\n            rateList.absentRateDetailList && rateList.absentRateDetailList.forEach((item)=>{\r\n                xList.push(item.times);\r\n                myList.push(item.absentRate);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'全校',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:myList\r\n                },\r\n                \r\n            ]\r\n        } else if(userIdentity == 'student'){\r\n            let myList = [], classList = [], gradeList = [];\r\n            rateList.absentRateDetailList && rateList.absentRateDetailList.forEach((item)=>{\r\n                xList.push(item.times);\r\n                myList.push(item.absentRate);\r\n            })\r\n            classRateList.absentRateDetailList && classRateList.absentRateDetailList.forEach((item)=>{\r\n                classList.push(item.absentRate);\r\n            })\r\n            gradeRateList.absentRateDetailList && gradeRateList.absentRateDetailList.forEach((item)=>{\r\n                gradeList.push(item.absentRate);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        } else if(userIdentity == 'teacher' || currentClass){\r\n            let myList = [], classList = [], gradeList = [];\r\n            rateList.absentRateDetailList && rateList.absentRateDetailList.forEach((item)=>{\r\n                xList.push(item.times);\r\n                myList.push(item.absentRate);\r\n            })\r\n            classRateList.absentRateDetailList && classRateList.absentRateDetailList.forEach((item)=>{\r\n                classList.push(item.absentRate);\r\n            })\r\n            gradeRateList.absentRateDetailList && gradeRateList.absentRateDetailList.forEach((item)=>{\r\n                gradeList.push(item.absentRate);\r\n            })\r\n            seriesList = [\r\n                // {\r\n                //     name:'个人',\r\n                //     type:'line',\r\n                //     lineStyle: {\r\n                //         color: '#ff0000',\r\n                //         width: 1,\r\n                //         borderColor: '#ff0000',\r\n                //         emphasis: {\r\n                //             width: 1\r\n                //         }\r\n                //     },\r\n                //     itemStyle: {\r\n                //         color: '#ff0000'\r\n                //     },\r\n                //     data:myList\r\n                // },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        } else {\r\n            let myList = [], classList = [], gradeList = [];\r\n            rateList.absentRateDetailList && rateList.absentRateDetailList.forEach((item)=>{\r\n                xList.push(item.times);\r\n                myList.push(item.absentRate);\r\n            })\r\n            classRateList.absentRateDetailList && classRateList.absentRateDetailList.forEach((item)=>{\r\n                classList.push(item.absentRate);\r\n            })\r\n            gradeRateList.absentRateDetailList && gradeRateList.absentRateDetailList.forEach((item)=>{\r\n                gradeList.push(item.absentRate);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:myList\r\n                },\r\n                \r\n            ]\r\n        }\r\n        \r\n        let option = {\r\n            title: {\r\n                text: '各' + (userIdentity == 'teacher'? '学科': '年级') + \r\n                (currentKind == 'attendance'? '出勤': '缺勤')+ '率对比',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 8? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}缺勤率:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}%</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: 'center',\r\n                // data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 8? true: false,\r\n                maxValueSpan: 7,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [userIdentity, rateList, currentKind]);\r\n    return (\r\n        <div className=\"course-attendance\">\r\n            <div className=\"course-attendance-top\">\r\n                <div className=\"attendance-rate-container\">\r\n                    <div className=\"attendance-rate\">\r\n                        <Progress\r\n                        type=\"circle\" \r\n                        percent={\r\n                        rateList.avgAttendanceRateResult?\r\n                        parseInt(rateList.avgAttendanceRateResult):\r\n                        \"--\"}\r\n                        width={92}\r\n                        format={(percent)=>percent}\r\n                        className=\"progress\"\r\n                        strokeColor=\"#49aaea\" />\r\n                        <p>出勤率</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"attendance-status\">\r\n                    <div className=\"askleave-count\">\r\n                        <p className=\"count-num blue\">\r\n                            {typeof rateList.vacateTimes == \"number\"? rateList.vacateTimes: \"--\"}</p>\r\n                        <p>请假次数</p>\r\n                    </div>\r\n                    <div className=\"askleave-count\">\r\n                        <p className=\"count-num red\">\r\n                            {typeof rateList.lateTimes == \"number\"? rateList.lateTimes: \"--\"}</p>\r\n                        <p>迟到次数</p>\r\n                    </div>\r\n                    <div className=\"askleave-count\">\r\n                        <p className=\"count-num green\">\r\n                            {typeof rateList.leaveEarlyTimes == \"number\"? rateList.leaveEarlyTimes: \"--\"}</p>\r\n                        <p>早退次数</p>\r\n                    </div>\r\n                    <div className=\"askleave-count\">\r\n                        <p className=\"count-num violet\">\r\n                            {typeof rateList.absentTimes == \"number\"? rateList.absentTimes: \"--\"}</p>\r\n                        <p>缺勤次数</p>\r\n                    </div>\r\n                </div> \r\n            </div>\r\n            <div className=\"select-container\">\r\n                <span>时间:</span>\r\n                <Select value={currentKind} className=\"select\" onChange={(value)=>setCurrentKind(value)}>\r\n                    <Option value=\"1\">按天数</Option>\r\n                    <Option value=\"2\">按周次</Option>\r\n                    <Option value=\"3\">按月份</Option>\r\n                </Select>\r\n            </div>\r\n            {/* <div className=\"kind-list\">\r\n                <span>类型:</span>\r\n                <span \r\n                className={\"list-one \" + (currentKind == \"attendance\"? \"active\": \"\")} \r\n                onClick={()=>setCurrentKind(\"attendance\")}>出勤率</span>\r\n                <span className=\"list-slice-line\"></span>\r\n                <span \r\n                className={\"list-one \" + (currentKind == \"absence\"? \"active\": \"\")}\r\n                onClick={()=>setCurrentKind(\"absence\")}>缺勤率</span>\r\n            </div> */}\r\n            <Loading\r\n            opacity={false}\r\n            tip={\"加载中...\"}\r\n            spinning={echartLoading}\r\n            >\r\n            {\r\n                rateList && Array.isArray(rateList.absentRateDetailList) &&\r\n                rateList.absentRateDetailList.length > 0?\r\n                <div className=\"attendance-rate-echart\" id=\"attendance-rate-echart\"></div>:\r\n                <Empty\r\n                // className={\"list-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }\r\n            </Loading>\r\n            \r\n            \r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(CourseAttendance)));","import React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Search, Empty } from \"../common\";\r\nimport { Tooltip } from \"antd\";\r\nimport Table from \"../table\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nfunction HomeTop(props, ref) {\r\n  let {\r\n    className,\r\n    publish,\r\n    children,\r\n    draft,\r\n    search,\r\n    tableProps,\r\n    ...reset\r\n  } = props;\r\n  const [SearchValue, setSearchValue] = useState(\"\");\r\n  // 设置显示的boolean\r\n  const [visible, setVisible] = useState(false);\r\n  // 草稿的ref\r\n  const tableRef = useRef({});\r\n  useEffect(() => {\r\n    search.value !== undefined && setSearchValue(search.value);\r\n  }, [search]);\r\n  useImperativeHandle(ref, () => ({\r\n    reloadDraft: () => {\r\n      tableRef.current.reloadList();\r\n    },\r\n  }));\r\n  return (\r\n    <div className={`home-top ${className ? className : \"\"}`} {...reset}>\r\n      {publish ? (\r\n        <span\r\n          className=\"lg-btn  btn-publish\"\r\n          onClick={(e) => {\r\n            typeof publish.onClick === \"function\" && publish.onClick();\r\n          }}\r\n        >\r\n          {publish.title ? publish.title : \"发布计划\"}\r\n        </span>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {draft ? (\r\n        <Tooltip\r\n          getPopupContainer={(e) => e.parentNode}\r\n          placement={\"bottomRight\"}\r\n          // visible={tableProps?}\r\n          // align={{\r\n          //   points: [\"tr\", \"br\"], // align top left point of sourceNode with top right point of targetNode\r\n          //   // offset: [10, 20], // the offset sourceNode by 10px in x and 20px in y,\r\n          //   // targetOffset: [\"30%\", \"40%\"], // the offset targetNode by 30% of targetNode width in x and 40% of targetNode height in y,\r\n          //   overflow: { adjustX: true, adjustY: true }, // auto adjust position when sourceNode is overflowed\r\n          // }}\r\n          color={\"#fff\"}\r\n          overlayClassName={`draft-box`}\r\n          trigger={\"click\"}\r\n          // destroyTooltipOnHide={true}\r\n          onVisibleChange={(visible) => {\r\n            setVisible(visible);\r\n          }}\r\n          title={\r\n            <div style={{width:'984px',minHeight:'400px'}}>\r\n              {/* <Scrollbars autoHeight autoHeightMax={590} autoHide> */}\r\n                <Table\r\n                style={{minWidth:'884px'}}\r\n                  className=\"Reacruit-table\"\r\n                  columns={draft.columns}\r\n                  // dataSource={data}\r\n                  prepare={!!draft.query.selectLevel}\r\n                  query={draft.query}\r\n                  onDataChange={(data) => {}}\r\n                  ref={tableRef}\r\n                  api={draft.api}\r\n                  pageProps={{ showSizeChanger: false }}\r\n                ></Table>\r\n              {/* </Scrollbars> */}\r\n            </div>\r\n          }\r\n        >\r\n          <span\r\n            className=\"lg-btn  btn-draft\"\r\n            onClick={(e) => {\r\n              // 如果是显示的时候点击，不请求\r\n              if (!visible) {\r\n                tableRef.current.reloadList && tableRef.current.reloadList();\r\n              }\r\n              typeof draft.onClick === \"function\" && publish.onClick();\r\n            }}\r\n          >\r\n            {draft.title ? draft.title : \"草稿箱\"}\r\n            {draft.count || draft.count === 0 ? <>[{draft.count}]</> : \"\"}\r\n          </span>\r\n        </Tooltip>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {search ? (\r\n        <Search\r\n          placeHolder={\"输入关键词搜索...\"}\r\n          className=\"home-search\"\r\n          Value={SearchValue}\r\n          onChange={(e) => {\r\n            setSearchValue(e.target.value);\r\n          }}\r\n          onClickSearch={(e) => {\r\n            typeof search.onSearch === \"function\" &&\r\n              search.onSearch(SearchValue);\r\n          }}\r\n          onCancelSearch={(e) => {\r\n            setSearchValue(\"\");\r\n            typeof search.onSearch === \"function\" && search.onSearch(\"\");\r\n          }}\r\n        ></Search>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default memo(forwardRef(HomeTop));\r\n","/*\r\n *\r\n * 　　┏┓　　　┏┓+ +\r\n * 　┏┛┻━━━┛┻┓ + +\r\n * 　┃　　　　　　　┃\r\n * 　┃　　　━　　　┃ ++ + + +\r\n *  ████━████ ┃+\r\n * 　┃　　　　　　　┃ +\r\n * 　┃　　　┻　　　┃\r\n * 　┃　　　　　　　┃ + +\r\n * 　┗━┓　　　┏━┛\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ + + + +\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ +  神兽保佑\r\n * 　　　┃　　　┃    代码无bug\r\n * 　　　┃　　　┃　　+\r\n * 　　　┃　 　　┗━━━┓ + +\r\n * 　　　┃ 　　　　　　　┣┓\r\n * 　　　┃ 　　　　　　　┏┛\r\n * 　　　┗┓┓┏━┳┓┏┛ + + + +\r\n * 　　　　┃┫┫　┃┫┫\r\n * 　　　　┗┻┛　┗┻┛+ + + +\r\n *\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 10:25:40\r\n * @LastEditTime: 2020-12-10 18:45:47\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\recruit\\reducer.js\r\n */\r\nimport React, {\r\n  // useCallback,\r\n  // memo,\r\n  // useEffect,\r\n  // useState,\r\n  useReducer,\r\n  createContext,\r\n  // useImperativeHandle,\r\n  // useRef,\r\n  // forwardRef,\r\n} from \"react\";\r\n// 创建frame的context\r\nexport const Context = createContext();\r\nexport const initState = {\r\n  keyword: \"\",\r\n  compoent:'1'\r\n};\r\nexport const Reducer = (state, actions) => {\r\n  switch (actions.type) {\r\n    case \"SET_KEY_WORD\":\r\n      return Object.assign({}, state, {\r\n        keyword:actions.data,\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","/*\r\n *\r\n *    ┏┓　　　┏┓\r\n *  ┏┛┻━━━┛┻┓\r\n *  ┃　　　　　　　┃\r\n *  ┃　　　━　　　┃\r\n *  ┃　＞　　　＜　┃\r\n *  ┃　　　　　　　┃\r\n *  ┃...　⌒　...　┃\r\n *  ┃　　　　　　　┃\r\n *  ┗━┓　　　┏━┛\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃  神兽保佑\r\n *      ┃　　　┃  代码无bug\r\n *      ┃　　　┃\r\n *      ┃　　　┗━━━┓\r\n *      ┃　　　　　　　┣┓\r\n *      ┃　　　　　　　┏┛\r\n *      ┗┓┓┏━┳┓┏┛\r\n *        ┃┫┫　┃┫┫\r\n *        ┗┻┛　┗┻┛\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 11:46:56\r\n * @LastEditTime: 2020-12-15 14:38:51\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\api\\train.js\r\n */\r\nimport fetch from \"../util/fetch\";\r\nimport ipConfig from \"../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2076 管理员\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getCruitList(payload = {}) {\r\n  // *TStatus:状态：0草稿；1正式发布\r\n  let {\r\n    pageIndex,\r\n    pageSize,\r\n    keyword,\r\n    schoolID,\r\n    collegeID,\r\n    selectLevel,\r\n    rStatus,\r\n  } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Train/List?SchoolID=${schoolID ? schoolID : \"\"}&TStatus=${\r\n      parseInt(rStatus) === 0 ? 0 : 1\r\n    }&PageIndex=${pageIndex ? pageIndex : 1}&PageSize=${\r\n      pageSize ? pageSize : 10\r\n    }&Keyword=${keyword ? keyword : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }&SelectLevel=${selectLevel ? selectLevel : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: {\r\n            ...json.Data,\r\n            List:\r\n              json.Data.List instanceof Array\r\n                ? json.Data.List.map((child, index) => {\r\n                    // child:[{\"TID\":\"xxxxxxxxxxxxxxxxxxx\",        //ID，唯一标识\r\n                    // \"Title\":\"关于2020年白云区教师培招聘划\",    //标题\r\n                    // \"Issue\":\"白云中学\",                    //来源\r\n                    // \"TStatus\":0,                        //状态：0草稿；1正式发布\r\n                    // \"ReleaseTime\":\"2020-01-01 12:00\",    //发布时间\r\n                    // \"CreatorName\":\"张老师\",            //发布者\r\n                    // \"UpdateTime\":\"2020-01-01 12:00\" //最近一次编辑时间}]\r\n                    let Index = (json.Data.PageIndex - 1) * 10 + index + 1;\r\n                    Index = Index >= 10 ? Index : \"0\" + Index;\r\n                    return {\r\n                      ...child,\r\n                      key: index,\r\n                      index: Index,\r\n                      title: child.Title,\r\n                      source: child.Issue,\r\n                      publisher: child.CreatorName,\r\n                      time: child.ReleaseTime,\r\n                    };\r\n                  })\r\n                : [],\r\n            PageSize: pageSize,\r\n            // List:  [\r\n            //     {\r\n            //       key: 0,\r\n            //       index: \"011111111111111\",\r\n            //       title:\r\n            //         \"2020年广州市白云区中小学及幼儿园聘任制教师招聘320名计划2020年广州市白云区中小学及幼儿园聘任制教师招聘320名计划\",\r\n            //       source: \"辖区教育局辖区教育局辖区教育局\",\r\n            //       publisher: \"祝泽森祝泽森祝泽森\",\r\n            //       time: \"2020-08-29 13:59 020-08-29 13:59\",\r\n            //     },\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n/**\r\n * @description: 教师获取 http://192.168.129.1:8033/showdoc/web/#/21?page_id=2201\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getCruitListByTeacher(payload = {}) {\r\n  // *TStatus:状态：0草稿；1正式发布\r\n  let {\r\n    pageIndex,\r\n    pageSize,\r\n    keyword,\r\n    schoolID,\r\n    collegeID,\r\n    selectLevel,\r\n    rStatus,\r\n  } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Train/Teacher/List?SchoolID=${schoolID ? schoolID : \"\"}&TStatus=${\r\n      parseInt(rStatus) === 0 ? 0 : 1\r\n    }&PageIndex=${pageIndex ? pageIndex : 1}&PageSize=${\r\n      pageSize ? pageSize : 10\r\n    }&Keyword=${keyword ? keyword : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }&SelectLevel=${selectLevel ? selectLevel : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: {\r\n            ...json.Data,\r\n            List:\r\n              json.Data.List instanceof Array\r\n                ? json.Data.List.map((child, index) => {\r\n                    // child:[{\"TID\":\"xxxxxxxxxxxxxxxxxxx\",        //ID，唯一标识\r\n                    // \"Title\":\"关于2020年白云区教师培招聘划\",    //标题\r\n                    // \"Issue\":\"白云中学\",                    //来源\r\n                    // \"TStatus\":0,                        //状态：0草稿；1正式发布\r\n                    // \"ReleaseTime\":\"2020-01-01 12:00\",    //发布时间\r\n                    // \"CreatorName\":\"张老师\",            //发布者\r\n                    // \"UpdateTime\":\"2020-01-01 12:00\" //最近一次编辑时间}]\r\n                    let Index = (json.Data.PageIndex - 1) * 10 + index + 1;\r\n                    Index = Index >= 10 ? Index : \"0\" + Index;\r\n                    return {\r\n                      ...child,\r\n                      key: index,\r\n                      index: Index,\r\n                      title: child.Title,\r\n                      source: child.Issue,\r\n                      publisher: child.CreatorName,\r\n                      time: child.ReleaseTime,\r\n                    };\r\n                  })\r\n                : [],\r\n            PageSize: pageSize,\r\n            // List:  [\r\n            //     {\r\n            //       key: 0,\r\n            //       index: \"011111111111111\",\r\n            //       title:\r\n            //         \"2020年广州市白云区中小学及幼儿园聘任制教师招聘320名计划2020年广州市白云区中小学及幼儿园聘任制教师招聘320名计划\",\r\n            //       source: \"辖区教育局辖区教育局辖区教育局\",\r\n            //       publisher: \"祝泽森祝泽森祝泽森\",\r\n            //       time: \"2020-08-29 13:59 020-08-29 13:59\",\r\n            //     },\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2077\r\n * @param {*}\r\n * @return {*}\r\n */\r\n// 获取招聘详情\r\nexport function getTrainDetail(payload = {}) {\r\n  // *ID：招聘id\r\n  let { id } = payload;\r\n  let url = BasicProxy + `/Train/Detail?TID=${id}`;\r\n\r\n  return fetch\r\n    .get({ url, securityLevel: 2, advance: false })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          ErrCode: json.ErrCode,\r\n          data: {\r\n            ...json.Data,\r\n            ID: json.Data.TID,\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          ErrCode: json.ErrCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n// 发布招聘\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2078\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function publishTrain(payload = {}) {\r\n  //   {\r\n  //     \"SchoolID\":\"xxx\",    //发布者所属学校ID\r\n  //     \"CollegeID\":\"xxx\",    //发布者所属学院ID\r\n  //     \"Title\":\"关于2020年白云区教师培训计划\",    //标题\r\n  //     \"Issue\":\"白云中学\",                    //来源\r\n  //     \"TStatus\":0,                        //状态：0草稿；1正式发布\r\n  //     \"Content\":\"关于2020年白云区教师培训计划如下\",    //正文\r\n  //     \"FileList\":[{\r\n  //         \"FileName\":\"培训计划行程.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }，{\r\n  //         \"FileName\":\"培训计划宿舍安排.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }]\r\n  // }\r\n\r\n  let {\r\n    SchoolID,\r\n    CollegeID,\r\n    SelectLevel,\r\n    TStatus,\r\n    Title,\r\n    Issue,\r\n    ReleaseTime,\r\n    Content,\r\n    FileList,\r\n    Limit,\r\n    ApplyBeginTime,\r\n    ApplyEndTime,\r\n    ActivityFlag,\r\n    ApplyFlag,\r\n  } = payload;\r\n  let url = BasicProxy + `/Train/Add`;\r\n\r\n  return fetch\r\n    .post({\r\n      url,\r\n      securityLevel: 2,\r\n      header: { \"Content-Type\": \"application/json\" },\r\n      body: {\r\n        SchoolID,\r\n        CollegeID,\r\n        SelectLevel,\r\n        TStatus,\r\n        Title,\r\n        Issue,\r\n        ReleaseTime,\r\n        Content,\r\n        FileList,\r\n        Limit,\r\n        ApplyBeginTime,\r\n        ApplyEndTime,\r\n        ActivityFlag,\r\n        ApplyFlag,\r\n      },\r\n    })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          result: true,\r\n        };\r\n      } else {\r\n        return { result: false };\r\n      }\r\n    });\r\n}\r\n// 编辑招聘\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2078\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function editTrain(payload = {}) {\r\n  //   {\r\n  //     \"SchoolID\":\"xxx\",    //发布者所属学校ID\r\n  //     \"CollegeID\":\"xxx\",    //发布者所属学院ID\r\n  //     \"Title\":\"关于2020年白云区教师培训计划\",    //标题\r\n  //     \"Issue\":\"白云中学\",                    //来源\r\n  //     \"TStatus\":0,                        //状态：0草稿；1正式发布\r\n  //     \"Content\":\"关于2020年白云区教师培训计划如下\",    //正文\r\n  //     \"FileList\":[{\r\n  //         \"FileName\":\"培训计划行程.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }，{\r\n  //         \"FileName\":\"培训计划宿舍安排.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }]\r\n  // }\r\n\r\n  let {\r\n    // SchoolID,\r\n    // CollegeID,\r\n    // SelectLevel,\r\n    TStatus,\r\n    Title,\r\n    Issue,\r\n    TID,\r\n    // ReleaseTime,\r\n    Content,\r\n    Limit,\r\n    ApplyBeginTime,\r\n    ApplyEndTime,\r\n    ActivityFlag,\r\n    ApplyFlag,\r\n    FileList,\r\n  } = payload;\r\n  let url = BasicProxy + `/Train/Edit`;\r\n\r\n  return fetch\r\n    .post({\r\n      url,\r\n      securityLevel: 2,\r\n      header: { \"Content-Type\": \"application/json\" },\r\n      body: {\r\n        // SchoolID,\r\n        // CollegeID,\r\n        // SelectLevel,\r\n        TStatus,\r\n        Title,\r\n        TID,\r\n        Issue,\r\n        // ReleaseTime,\r\n        Content,\r\n        Limit,\r\n        ApplyBeginTime,\r\n        ApplyEndTime,\r\n        ActivityFlag,\r\n        ApplyFlag,\r\n        FileList,\r\n      },\r\n    })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          result: true,\r\n        };\r\n      } else {\r\n        return { result: false };\r\n      }\r\n    });\r\n}\r\n// 删除\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2080\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function deleteTrain(payload = {}) {\r\n  let { TIDs } = payload;\r\n  let url = BasicProxy + `/Train/Delete`;\r\n\r\n  return fetch\r\n    .post({\r\n      url,\r\n      securityLevel: 2,\r\n      body: {\r\n        TIDs,\r\n      },\r\n    })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          result: true,\r\n        };\r\n      } else {\r\n        return { result: false };\r\n      }\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * @description: 教师报名\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function applyTrain(payload = {}) {\r\n  let { TID,Action } = payload;\r\n  let url = BasicProxy + `/Train/Teacher/Apply`;\r\n\r\n  return fetch\r\n    .post({\r\n      url,\r\n      securityLevel: 2,\r\n      body: {\r\n        TID:TID,Action\r\n      },\r\n    })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          result: true,\r\n        };\r\n      } else {\r\n        return { result: false };\r\n      }\r\n    });\r\n}","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-15 15:44:32\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\train\\home.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { withRouter, useHistory, useLocation } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport HomeTop from \"../../component/homeTop\";\r\nimport Table from \"../../component/table\";\r\nimport { Context } from \"./reducer\";\r\nimport { getCruitList, deleteTrain } from \"../../api/train\";\r\nimport { autoAlert } from \"../../util/public\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Home(props, ref) {\r\n  let {\r\n    // teacherTrainMsg: { tabId },\r\n    roleMsg: { schoolID, collegeID, selectLevel },\r\n    // history,\r\n    activeTab,\r\n    dispatch,\r\n  } = props;\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n  let {\r\n    state: { keyword },\r\n    setDispatch,\r\n  } = useContext(Context);\r\n  const [query, setQuery] = useState({\r\n    keyword,\r\n    schoolID,\r\n    collegeID,\r\n    selectLevel,\r\n  });\r\n  // 获取table组件的ref\r\n  const tableRef = useRef({});\r\n  // 草稿数量\r\n  const [draft, setDraft] = useState(0);\r\n  // 初始请求\r\n  const initGet = useRef(false);\r\n  // table 的宽度最小为1040，各个列的width按这个来算1040/1200*设计图的width\r\n  let widthRate = 1040 / 1200;\r\n  let columns = [\r\n    {\r\n      title: \"序号\",\r\n      dataIndex: \"index\",\r\n      align: \"center\",\r\n      width: 102 * widthRate,\r\n      textWrap: \"word-break\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-index\" title={data}>\r\n            {data}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"标题\",\r\n      width: 404 * widthRate,\r\n      // dataIndex: \"title\",\r\n      render: (data) => {\r\n        let { title, TID } = data;\r\n        return (\r\n          <span\r\n            onClick={() => {\r\n              history.push(\"/trainDetail/\" + TID);\r\n            }}\r\n            className=\"table-title\"\r\n            title={title}\r\n          >\r\n            {title?title:'--'}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"来源\",\r\n      align: \"center\",\r\n      width: 128 * widthRate,\r\n      dataIndex: \"source\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-source\" title={data}>\r\n            {data}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n\r\n    {\r\n      title: \"报名截止时间\",\r\n      align: \"center\",\r\n      width: 172 * widthRate,\r\n      // dataIndex: \"ApplyEndTime\",\r\n      render: (data) => {\r\n        let {ApplyFlag,ApplyEndTime} =data\r\n        return (\r\n          <span className=\"table-time\" title={ApplyEndTime}>\r\n            {ApplyFlag&&ApplyEndTime?ApplyEndTime:'--'}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"报名人数/限额\",\r\n      align: \"center\",\r\n      width: 90 * widthRate,\r\n      // dataIndex: \"publisher\",\r\n      render: (data) => {\r\n        let { Limit,ApplyCount,ApplyFlag } = data;\r\n        let title = (ApplyCount?ApplyCount:0)+'/'+(Limit?Limit:'--')\r\n        return (\r\n          <span className=\"table-limit\" title={title}>\r\n            {ApplyFlag?title:'--'}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"培训方式\",\r\n      align: \"center\",\r\n      width: 90 * widthRate,\r\n      dataIndex: \"ActivityFlag\",\r\n      render: (data) => {\r\n        let ActivityList = [\r\n          { value: 1, title: \"线上\" },\r\n          { value: 0, title: \"线下\" },\r\n        ];\r\n        let title = ActivityList[parseInt(data)]?ActivityList[parseInt(data)].title:'--';\r\n        return (\r\n          <span className={`table-activity table-activity-${data}`} title={title}>\r\n            {title}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      align: \"center\",\r\n      width: 200 * widthRate,\r\n\r\n      // dataIndex: \"time\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-handle\">\r\n            <span\r\n              className=\"table-btn btn-edit\"\r\n              onClick={() => {\r\n                history.push(\"/editTrain/\" + data.TID);\r\n              }}\r\n            >\r\n              编辑\r\n            </span>\r\n            <span\r\n              className=\"table-btn btn-delete\"\r\n              onClick={() => {\r\n                autoAlert({\r\n                  title: \"确定删除该培训计划?\",\r\n                  type: \"btn-warn\",\r\n                  cancelShow: true,\r\n                  onOk: () => {\r\n                    DeleteTrain(\r\n                      { TIDs: data.TID },\r\n                      tableRef.current.reloadList.bind(this,{},false)\r\n                    );\r\n                  },\r\n                });\r\n              }}\r\n            >\r\n              删除\r\n            </span>\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  let draftColumns = [\r\n    {\r\n      title: \"序号\",\r\n      dataIndex: \"index\",\r\n      align: \"center\",\r\n      width: 102 * widthRate,\r\n      textWrap: \"word-break\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-index\" title={data}>\r\n            {data}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"标题\",\r\n      width: 300 * widthRate,\r\n      // dataIndex: \"title\",\r\n      render: (data) => {\r\n        let { title, TID } = data;\r\n        return (\r\n          <span\r\n            onClick={() => {\r\n              // history.push(\"/trainDetail/\" + TID);\r\n            }}\r\n            className=\"table-title\"\r\n            title={title}\r\n          >\r\n            {title?title:'--'}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n\r\n    {\r\n      title: \"最后一次编辑时间\",\r\n      align: \"center\",\r\n      width: 172 * widthRate,\r\n      dataIndex: \"UpdateTime\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-time\" title={data}>\r\n            {data?data:'--'}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      align: \"center\",\r\n      width: 200 * widthRate,\r\n\r\n      // dataIndex: \"time\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-handle\">\r\n            <span\r\n              className=\"table-btn btn-edit\"\r\n              onClick={() => {\r\n                history.push(\"/editTrain/\" + data.TID);\r\n              }}\r\n            >\r\n              编辑\r\n            </span>\r\n            <span\r\n              className=\"table-btn btn-delete\"\r\n              onClick={() => {\r\n                // autoAlert({\r\n                //   title: \"确定删除该草稿?\",\r\n                //   type: \"btn-warn\",\r\n                //   cancelShow: true,\r\n                //   onOk: () => {\r\n                //     DeleteTrain({ TIDs: data.TID }, () => {\r\n                //       tableRef.current.reloadList();\r\n\r\n                //       homeTopRef.current.reloadDraft();\r\n                //     });\r\n                //   },\r\n                // });\r\n                DeleteTrain({ TIDs: data.TID }, () => {\r\n                  tableRef.current.reloadList({},false);\r\n\r\n                  homeTopRef.current.reloadDraft();\r\n                });\r\n              }}\r\n            >\r\n              删除\r\n            </span>\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  // 删除\r\n  const DeleteTrain = useCallback(\r\n    (param, success = () => {}, error = () => {}) => {\r\n      deleteTrain(param).then((res) => {\r\n        if (res.result) {\r\n          success();\r\n        } else {\r\n          error();\r\n        }\r\n      });\r\n    },\r\n    []\r\n  );\r\n  // useEffect(() => {\r\n  //   console.log(keyword, selectLevel);\r\n  //   selectLevel && setQuery({ keyword, schoolID, collegeID, selectLevel });\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, []);\r\n\r\n  // 设置草稿数量\r\n  // useLayoutEffect(() => {\r\n  //   console.log(tableRef.current, tableRef);\r\n  //   setDraft(\r\n  //     tableRef.current.data && tableRef.current.data.Draft\r\n  //       ? tableRef.current.data.Draft\r\n  //       : 0\r\n  //   );\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, [tableRef.current]);\r\n  // 刷新\r\n\r\n  useLayoutEffect(() => {\r\n    let { pathname } = location;\r\n    //第一次进来不请求\r\n    if (!initGet.current) {\r\n      initGet.current = true;\r\n    } else {\r\n      if (pathname === \"/teacherTrain\") {\r\n        tableRef.current.reloadList();\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location]);\r\n  const topDraft = useMemo(() => {\r\n    return {\r\n      title: \"草稿箱\",\r\n      count: draft,\r\n      query: { selectLevel, schoolID, collegeID, rStatus: 0 },\r\n      api: getCruitList,\r\n      columns: draftColumns,\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectLevel, schoolID, collegeID, draft]);\r\n  // console.log(keyword)\r\n  useImperativeHandle(ref, () => ({\r\n    reloadList: tableRef.current.reloadList,\r\n  }));\r\n  //\r\n  const homeTopRef = useRef(null);\r\n  return (\r\n    <div className=\"Reacruit-context Train-home\">\r\n      <HomeTop\r\n        ref={homeTopRef}\r\n        publish={{\r\n          title: \"发布培训计划\",\r\n          onClick: () => {\r\n            history.push(\"/publishTrain\");\r\n          },\r\n        }}\r\n        draft={topDraft}\r\n        search={{\r\n          onSearch: (value) => {\r\n            // console.log(value)\r\n            setDispatch({ type: \"SET_KEY_WORD\", data: value });\r\n            setQuery({ schoolID, collegeID, keyword: value, selectLevel });\r\n          },\r\n        }}\r\n      ></HomeTop>\r\n      <Table\r\n        className=\"Reacruit-table\"\r\n        columns={columns}\r\n        // dataSource={data}\r\n        prepare={!!query.selectLevel}\r\n        query={query}\r\n        onDataChange={(data) => {\r\n          setDraft(data && data.Draft ? data.Draft : 0);\r\n        }}\r\n        ref={tableRef}\r\n        api={getCruitList}\r\n      ></Table>\r\n      {/* <div style={{height:'20px',width:'100px',background:'#a6a6a6'}} onClick={()=>{\r\n      history.push(`/${tabId}/publish`  );\r\n      dispatch(handleActions.setTeacherTrainMsg({tabName:'发布培训计划'}))\r\n  }}></div> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherTrainMsg, activeTab },\r\n    commonData: { roleMsg },\r\n  } = state;\r\n  return { teacherTrainMsg, roleMsg, activeTab };\r\n};\r\nexport default connect(mapStateToProps, null, null, { forwardRef: true })(\r\n  memo(forwardRef(Home))\r\n);\r\n","import React, {\r\n    useState,\r\n    useEffect,\r\n    memo,\r\n    forwardRef,\r\n    useLayoutEffect\r\n} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Progress} from \"antd\";\r\nimport \"./index.scss\";\r\nimport {Select} from \"antd\";\r\nimport * as echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty, Loading } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nimport home from \"../../train/home\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n\r\nfunction HomeAttendance(props){\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n        reflash\r\n    } = props;\r\n    const [visible, setVisible] = useState(true);\r\n    const [homeAttendanceInfo, setHomeAttendanceInfo] = useState({});\r\n    const [homeAttendanceList, setHomeAttendanceList] = useState({});\r\n    const [currentRange, setCurrentRange] = useState(\"上午\");\r\n    const [gradeHomeAttendanceInfo, setGradeHomeAttendanceInfo] = useState({});\r\n    const [classHomeAttendanceInfo, setClassHomeAttendanceInfo] = useState({});\r\n    let colorList = [\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#1da4fe'\r\n        },{\r\n            offset: 1,\r\n            color: '#7ecbff'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#51ca51'\r\n        },{\r\n            offset: 1,\r\n            color: '#a0dea0'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#F79750'\r\n        },{\r\n            offset: 1,\r\n            color: '#FFB681'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#2D3149'\r\n        },{\r\n            offset: 1,\r\n            color: '#363D71'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#E84956'\r\n        },{\r\n            offset: 1,\r\n            color: '#E9707A'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#6E54CC'\r\n        },{\r\n            offset: 1,\r\n            color: '#7E90E9'\r\n        }])\r\n    ];\r\n    //获取年级平均数据\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"manager\" && !currentClass && !currentGrade){\r\n            return;\r\n        }\r\n        if(!currentGrade && !currentClass){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        if(currentClass){\r\n            classList.forEach((item)=>{\r\n                if(item.classId == currentClass){\r\n                    classGradeId = item.gradeId;\r\n                }\r\n            })\r\n        }\r\n        \r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/attendance/dormitory?type=3\" + \r\n        \"&studentId=&classId=&gradeId=\" + (currentGrade? currentGrade: classGradeId) +\r\n        \"&schoolId=\" + SchoolID +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + (currentTermInfo.startDate? currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&end=\" + (currentTermInfo.endDate? currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeHomeAttendanceInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    //获取班级平均数据\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"manager\" && !currentClass && !currentGrade){\r\n            return;\r\n        }\r\n        if(userIdentity != \"student\"){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/attendance/dormitory?type=2\" + \r\n        \"&studentId=&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + (currentTermInfo.startDate? currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&end=\" + (currentTermInfo.endDate? currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setClassHomeAttendanceInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    useLayoutEffect(() => {\r\n        // if(userIdentity == \"manager\" && !currentClass && !currentGrade){\r\n        //     return;\r\n        // }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        setVisible(true);\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let url = BasicProxy + \"/api/attendance/dormitory?type=\" + \r\n        (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            currentClass?\r\n            2:\r\n            currentGrade?\r\n            3:\r\n            4\r\n        ) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + (currentTermInfo.startDate? currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&end=\" + (currentTermInfo.endDate? currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setHomeAttendanceInfo(result.data);\r\n            }\r\n            setVisible(false);\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    //领导端\r\n    useLayoutEffect(() => {\r\n        if(userIdentity != \"manager\" || currentClass || currentGrade){\r\n            return;\r\n        }\r\n        setVisible(true);\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/attendance/dormitory/batch?type=3\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + (currentTermInfo.startDate? currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&end=\" + (currentTermInfo.endDate? currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setHomeAttendanceList(result.data);\r\n            }\r\n            setVisible(false);\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    //出门时间统计\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"out-time-echart\"));\r\n        myEchart.resize();\r\n        let seriesList = [], xList = [], myList = [], classList = [], gradeList = [];\r\n        if(userIdentity == 'student'){\r\n            Array.isArray(homeAttendanceInfo.attendanceGateDayList) &&\r\n            homeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                         avg = child.outTime;\r\n                     } \r\n                })\r\n                myList.push(avg);\r\n            })\r\n            Array.isArray(classHomeAttendanceInfo.attendanceGateDayList) &&\r\n            classHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                         avg = child.outTime;\r\n                     } \r\n                })\r\n                classList.push(avg);\r\n            })\r\n            Array.isArray(gradeHomeAttendanceInfo.attendanceGateDayList) &&\r\n            gradeHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                         avg = child.outTime;\r\n                     } \r\n                })\r\n                gradeList.push(avg);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:xList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        } else if(currentClass){\r\n            Array.isArray(homeAttendanceInfo.attendanceGateDayList) &&\r\n            homeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                         avg = child.outTime;\r\n                     } \r\n                })\r\n                myList.push(avg);\r\n            })\r\n            Array.isArray(classHomeAttendanceInfo.attendanceGateDayList) &&\r\n            classHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                         avg = child.outTime;\r\n                     } \r\n                })\r\n                classList.push(avg);\r\n            })\r\n            Array.isArray(gradeHomeAttendanceInfo.attendanceGateDayList) &&\r\n            gradeHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                         avg = child.outTime;\r\n                     } \r\n                })\r\n                gradeList.push(avg);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        } else if(currentGrade){\r\n            Array.isArray(homeAttendanceInfo.attendanceGateDayList) &&\r\n            homeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                         avg = child.outTime;\r\n                     } \r\n                })\r\n                myList.push(avg);\r\n            })\r\n            Array.isArray(classHomeAttendanceInfo.attendanceGateDayList) &&\r\n            classHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                         avg = child.outTime;\r\n                     } \r\n                })\r\n                classList.push(avg);\r\n            })\r\n            Array.isArray(gradeHomeAttendanceInfo.attendanceGateDayList) &&\r\n            gradeHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                         avg = child.outTime;\r\n                     } \r\n                })\r\n                gradeList.push(avg);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:myList\r\n                } \r\n            ]\r\n        } else {\r\n            //领导端查学校全年级\r\n            Array.isArray(homeAttendanceList) &&\r\n            homeAttendanceList.forEach((item, index)=>{\r\n                let arr = [];\r\n                item.attendanceDormitory &&\r\n                Array.isArray(item.attendanceDormitory.attendanceGateDayList) &&\r\n                item.attendanceDormitory.attendanceGateDayList.forEach((item)=>{\r\n                    xList.push(item.dayDate && item.dayDate);\r\n                    let sum = 0, avg = 0;\r\n                    item.detailDataList.forEach((child)=>{\r\n                       if(child.timeDetailName == currentRange && child.outTime){\r\n                            avg = child.outTime;\r\n                        } \r\n                    })\r\n                    arr.push(avg);\r\n                })\r\n                seriesList.push({\r\n                    name: item.gradeName,\r\n                    type:'bar',\r\n                    // barWidth : 16,\r\n                    itemStyle: {\r\n                        color: colorList[index%5]\r\n                    },\r\n                    data:arr\r\n                })\r\n            });\r\n            \r\n        }\r\n        let option = {\r\n            title: {\r\n                text: '出寝时间',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `<span style=\"color: #fffd64\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: (\r\n                userIdentity == \"manager\" && !currentGrade && !currentClass?\r\n                {\r\n                    type: 'scroll',\r\n                    width: '62%',\r\n                    top: '50px',\r\n                    left: 'center',\r\n                    textStyle: {\r\n                        color: '#999999',\r\n                    }\r\n                }:\r\n                {\r\n                    top: '50px',\r\n                    right: '10%',\r\n                    // data:['个人','班级','年级'],\r\n                    textStyle: {\r\n                        color: '#999999',\r\n                    }\r\n                }\r\n            ),\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '时间',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: function(value){\r\n                        let date = new Date(value);\r\n                        return date.getHours() + \":\" + date.getMinutes()\r\n                    }\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentRange, homeAttendanceList, homeAttendanceInfo]);\r\n    //归寝时间统计\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"in-time-echart\"));\r\n        myEchart.resize();\r\n        let seriesList = [], xList = [], myList = [], classList = [], gradeList = [];\r\n        if(userIdentity == 'student'){\r\n            Array.isArray(homeAttendanceInfo.attendanceGateDayList) &&\r\n            homeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                        avg = child.inTime;\r\n                    } \r\n                })\r\n                myList.push(avg);\r\n            })\r\n            Array.isArray(classHomeAttendanceInfo.attendanceGateDayList) &&\r\n            classHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                        avg = child.inTime;\r\n                    } \r\n                })\r\n                classList.push(avg);\r\n            })\r\n            Array.isArray(gradeHomeAttendanceInfo.attendanceGateDayList) &&\r\n            gradeHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                        avg = child.inTime;\r\n                    } \r\n                })\r\n                gradeList.push(avg);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:xList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        } else if(currentClass){\r\n            Array.isArray(homeAttendanceInfo.attendanceGateDayList) &&\r\n            homeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                        avg = child.inTime;\r\n                    } \r\n                })\r\n                myList.push(avg);\r\n            })\r\n            Array.isArray(classHomeAttendanceInfo.attendanceGateDayList) &&\r\n            classHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                        avg = child.inTime;\r\n                    } \r\n                })\r\n                classList.push(avg);\r\n            })\r\n            Array.isArray(gradeHomeAttendanceInfo.attendanceGateDayList) &&\r\n            gradeHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                        avg = child.inTime;\r\n                    } \r\n                })\r\n                gradeList.push(avg);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        } else if(!currentClass && currentGrade){\r\n            if(Array.isArray(homeAttendanceInfo.attendanceGateDayList) && \r\n                homeAttendanceInfo.attendanceGateDayList.length == 0){\r\n                return;\r\n            }\r\n            Array.isArray(homeAttendanceInfo.attendanceGateDayList) &&\r\n            homeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                        avg = child.inTime;\r\n                    } \r\n                })\r\n                myList.push(avg);\r\n            })\r\n            Array.isArray(classHomeAttendanceInfo.attendanceGateDayList) &&\r\n            classHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                        avg = child.inTime;\r\n                    } \r\n                })\r\n                classList.push(avg);\r\n            })\r\n            Array.isArray(gradeHomeAttendanceInfo.attendanceGateDayList) &&\r\n            gradeHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                        avg = child.inTime;\r\n                    } \r\n                })\r\n                gradeList.push(avg);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    // name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:myList\r\n                }\r\n            ];\r\n        } else {\r\n            //领导端查学校全年级\r\n            Array.isArray(homeAttendanceList) &&\r\n            homeAttendanceList.forEach((item, index)=>{\r\n                let arr = [];\r\n                item.attendanceDormitory &&\r\n                Array.isArray(item.attendanceDormitory.attendanceGateDayList) &&\r\n                item.attendanceDormitory.attendanceGateDayList.forEach((item)=>{\r\n                    xList.push(item.dayDate && item.dayDate);\r\n                    let sum = 0, avg = 0;\r\n                    item.detailDataList.forEach((child)=>{\r\n                        if(child.timeDetailName == currentRange && child.inTime){\r\n                            avg = child.inTime;\r\n                        } \r\n                    })\r\n                    arr.push(avg);\r\n                })\r\n                seriesList.push({\r\n                    name: item.gradeName,\r\n                    type:'bar',\r\n                    // barWidth : 16,\r\n                    itemStyle: {\r\n                        color: colorList[index%5]\r\n                    },\r\n                    data:arr\r\n                })\r\n            });\r\n        }\r\n        let option = {\r\n            title: {\r\n                text: '归寝时间',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `<span style=\"color: #fffd64\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: (\r\n                userIdentity == \"manager\" && !currentClass && !currentGrade?\r\n                {\r\n                    top: '50px',\r\n                    left: 'center',\r\n                    type: 'scroll',\r\n                    width: '62%',\r\n                    // data:['个人','班级','年级'],\r\n                    textStyle: {\r\n                        color: '#999999',\r\n                    }\r\n                }:\r\n                {\r\n                    top: '50px',\r\n                    right: '10%',\r\n                    // data:['个人','班级','年级'],\r\n                    textStyle: {\r\n                        color: '#999999',\r\n                    }\r\n                }\r\n            ),\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '时间',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: function(value){\r\n                        let date = new Date(value);\r\n                        return date.getHours() + \":\" + date.getMinutes()\r\n                    }\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentRange, homeAttendanceList, homeAttendanceInfo]);\r\n    return (\r\n        <div className=\"home-attendance\">\r\n            <Loading\r\n            opacity={false}\r\n            tip=\"加载中...\"\r\n            spinning={visible}>\r\n                <div className=\"home-attendance-top\">\r\n                <div className=\"mornning-card\">\r\n                    <div className=\"card-title\">上午</div>\r\n                    <div className=\"time-container\" style={{\r\n                        marginTop: (userIdentity == \"manager\"? \"20px\": \"\")\r\n                    }}>\r\n                        <div className=\"pre-time\">\r\n                            <p className=\"time-num\">\r\n                            {homeAttendanceInfo.avgOutTime1? homeAttendanceInfo.avgOutTime1: \"--\"}\r\n                            </p>\r\n                            <p>出寝时间</p>\r\n                        </div>\r\n                        <span>-</span>\r\n                        <div className=\"next-time\">\r\n                            <p className=\"time-num\">\r\n                            {homeAttendanceInfo.avgInTime1? homeAttendanceInfo.avgInTime1: \"--\"}\r\n                            </p>\r\n                            <p>归寝时间</p>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        userIdentity == \"student\"?\r\n                        <div className=\"class-time-avg\">\r\n                            <p>\r\n                                <span>出寝:&nbsp;</span>\r\n                                <span className=\"class-avg\">班级平均: \r\n                                {classHomeAttendanceInfo.avgOutTime1? classHomeAttendanceInfo.avgOutTime1: \"--\"}</span>\r\n                                <span className=\"grade-avg\">年级平均: \r\n                                {gradeHomeAttendanceInfo.avgOutTime1? gradeHomeAttendanceInfo.avgOutTime1: \"--\"}</span>\r\n                            </p>\r\n                            <p>\r\n                                <span>归寝:&nbsp;</span> \r\n                                <span className=\"class-avg\">班级平均: \r\n                                {classHomeAttendanceInfo.avgInTime1? classHomeAttendanceInfo.avgInTime1: \"--\"}</span>\r\n                                <span className=\"grade-avg\">年级平均: \r\n                                {gradeHomeAttendanceInfo.avgInTime1? gradeHomeAttendanceInfo.avgInTime1: \"--\"}</span>\r\n                            </p>\r\n                        </div>:\r\n                        userIdentity == \"teacher\"?\r\n                        <div className=\"class-time-avg\">\r\n                            <p style={{textAlign: \"center\"}}>\r\n                                <span>年级平均:&nbsp;</span>\r\n                                <span className=\"grade-avg\">\r\n                                {gradeHomeAttendanceInfo.avgOutTime1? gradeHomeAttendanceInfo.avgOutTime1: \"--\"}</span>\r\n                            -\r\n                                <span>{gradeHomeAttendanceInfo.avgInTime1? gradeHomeAttendanceInfo.avgInTime1: \"--\"}</span>\r\n                            </p>\r\n                        </div>:\r\n                        \"\"\r\n                    }\r\n                    \r\n                </div>\r\n                <div className=\"afternoon-card\">\r\n                <div className=\"card-title\">下午</div>\r\n                    <div className=\"time-container\" style={{\r\n                        marginTop: (userIdentity == \"manager\"? \"20px\": \"\")\r\n                    }}>\r\n                        <div className=\"pre-time\">\r\n                            <p className=\"time-num\">\r\n                            {homeAttendanceInfo.avgOutTime2? homeAttendanceInfo.avgOutTime2: \"--\"}\r\n                            </p>\r\n                            <p>出寝时间</p>\r\n                        </div>\r\n                        <span>-</span>\r\n                        <div className=\"next-time\">\r\n                            <p className=\"time-num\">\r\n                            {homeAttendanceInfo.avgInTime2? homeAttendanceInfo.avgInTime2: \"--\"}\r\n                            </p>\r\n                            <p>归寝时间</p>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        userIdentity == \"student\"?\r\n                        <div className=\"class-time-avg\">\r\n                            <p>\r\n                                <span>出寝:&nbsp;</span>\r\n                                <span className=\"class-avg\">班级平均: \r\n                                {classHomeAttendanceInfo.avgOutTime2? classHomeAttendanceInfo.avgOutTime2: \"--\"}</span>\r\n                                <span className=\"grade-avg\">年级平均: \r\n                                {gradeHomeAttendanceInfo.avgOutTime2? gradeHomeAttendanceInfo.avgOutTime2: \"--\"}</span>\r\n                            </p>\r\n                            <p>\r\n                                <span>归寝:&nbsp;</span> \r\n                                <span className=\"class-avg\">班级平均: \r\n                                {classHomeAttendanceInfo.avgInTime2? classHomeAttendanceInfo.avgInTime2: \"--\"}</span>\r\n                                <span className=\"grade-avg\">年级平均: \r\n                                {gradeHomeAttendanceInfo.avgInTime2? gradeHomeAttendanceInfo.avgInTime2: \"--\"}</span>\r\n                            </p>\r\n                        </div>:\r\n                        userIdentity == \"teacher\"?\r\n                        <div className=\"class-time-avg\">\r\n                            <p style={{textAlign: \"center\"}}>\r\n                                <span>年级平均:&nbsp;</span>\r\n                                <span className=\"grade-avg\">\r\n                                {gradeHomeAttendanceInfo.avgOutTime2? gradeHomeAttendanceInfo.avgOutTime2: \"--\"}</span>\r\n                                -\r\n                                <span className=\"grade-avg\">\r\n                                {gradeHomeAttendanceInfo.avgInTime2? gradeHomeAttendanceInfo.avgInTime2: \"--\"}</span>\r\n                            </p>\r\n                        </div>:\r\n                        \"\"\r\n                    }\r\n                </div>\r\n                <div className=\"night-card\">\r\n                <div className=\"card-title\">晚上</div>\r\n                    <div className=\"time-container\" style={{\r\n                        marginTop: (userIdentity == \"manager\"? \"20px\": \"\")\r\n                    }}>\r\n                        <div className=\"pre-time\">\r\n                            <p className=\"time-num\">\r\n                            {homeAttendanceInfo.avgOutTime3? homeAttendanceInfo.avgOutTime3: \"--\"}\r\n                            </p>\r\n                            <p>出寝时间</p>\r\n                        </div>\r\n                        <span>-</span>\r\n                        <div className=\"next-time\">\r\n                            <p className=\"time-num\">\r\n                            {homeAttendanceInfo.avgInTime3? homeAttendanceInfo.avgInTime3: \"--\"}\r\n                            </p>\r\n                            <p>归寝时间</p>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        userIdentity == \"student\"?\r\n                        <div className=\"class-time-avg\">\r\n                            <p>\r\n                                <span>出寝:&nbsp;</span>\r\n                                <span className=\"class-avg\">班级平均: \r\n                                {classHomeAttendanceInfo.avgOutTime3? classHomeAttendanceInfo.avgOutTime3: \"--\"}</span>\r\n                                <span className=\"grade-avg\">年级平均: \r\n                                {gradeHomeAttendanceInfo.avgOutTime3? gradeHomeAttendanceInfo.avgOutTime3: \"--\"}</span>\r\n                            </p>\r\n                            <p>\r\n                                <span>归寝:&nbsp;</span> \r\n                                <span className=\"class-avg\">班级平均: \r\n                                {classHomeAttendanceInfo.avgInTime3? classHomeAttendanceInfo.avgInTime3: \"--\"}</span>\r\n                                <span className=\"grade-avg\">年级平均: \r\n                                {gradeHomeAttendanceInfo.avgInTime3? gradeHomeAttendanceInfo.avgInTime3: \"--\"}</span>\r\n                            </p>\r\n                        </div>:\r\n                        userIdentity == \"teacher\"?\r\n                        <div className=\"class-time-avg\">\r\n                            <p style={{textAlign: \"center\"}}>\r\n                                <span>年级平均:&nbsp;</span>\r\n                                <span className=\"grade-avg\">\r\n                                {gradeHomeAttendanceInfo.avgOutTime3? gradeHomeAttendanceInfo.avgOutTime3: \"--\"}</span>\r\n                                -\r\n                                <span className=\"grade-avg\">\r\n                                {gradeHomeAttendanceInfo.avgInTime3? gradeHomeAttendanceInfo.avgInTime3: \"--\"}</span>\r\n                            </p>\r\n                        </div>:\r\n                        \"\"\r\n                    }\r\n                </div>\r\n                <div className=\"deepnight-card\">\r\n                <div className=\"card-title\">深夜</div>\r\n                    <div className=\"time-container\" style={{\r\n                        marginTop: (userIdentity == \"manager\"? \"20px\": \"\")\r\n                    }}>\r\n                        <div className=\"pre-time\">\r\n                            <p className=\"time-num\">\r\n                            {homeAttendanceInfo.lateTimes? homeAttendanceInfo.lateTimes: \"--\"}\r\n                            </p>\r\n                            <p>次数</p>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        userIdentity == \"student\"?\r\n                        <div className=\"class-time-avg\">\r\n                            <p>\r\n                                <span className=\"class-avg\">班级平均: \r\n                                {classHomeAttendanceInfo.lateTimes? classHomeAttendanceInfo.lateTimes: \"--\"}</span>\r\n                                <span className=\"grade-avg\">年级平均: \r\n                                {gradeHomeAttendanceInfo.lateTimes? gradeHomeAttendanceInfo.lateTimes: \"--\"}</span>\r\n                            </p>\r\n                        </div>:\r\n                        userIdentity == \"teacher\"?\r\n                        <div className=\"class-time-avg\">\r\n                            <p style={{textAlign: \"center\"}}>\r\n                                {/* <span>出寝:&nbsp;</span> */}\r\n                                <span className=\"grade-avg\">年级平均: \r\n                                {gradeHomeAttendanceInfo.lateTimes? gradeHomeAttendanceInfo.lateTimes: \"--\"}</span>\r\n                            </p>\r\n                        </div>:\r\n                        \"\"\r\n                    }\r\n                </div>\r\n            </div>\r\n            {/* <div className=\"select-container\">\r\n                <span>时间:</span>\r\n                <Select defaultValue=\"month\" className=\"select\" onChange={(value)=>setCurrentTime(value)}>\r\n                    <Option value=\"month\">按天数</Option>\r\n                    <Option value=\"month\">按周次</Option>\r\n                    <Option value=\"month\">按月份</Option>\r\n                </Select>\r\n            </div> */}\r\n            <div className=\"select-container\">\r\n                <span>范围:</span>\r\n                <Select defaultValue=\"上午\" className=\"select\" onChange={(value)=>setCurrentRange(value)}>\r\n                    <Option value=\"上午\">上午</Option>\r\n                    <Option value=\"下午\">下午</Option>\r\n                    <Option value=\"晚上\">晚上</Option>\r\n                </Select>\r\n            </div>\r\n            <div className=\"home-attendance-bottom\">\r\n                <div className=\"out-time-echart\" id=\"out-time-echart\"></div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"in-time-echart\" id=\"in-time-echart\"></div>\r\n            </div>\r\n            </Loading>\r\n            \r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(HomeAttendance)));","import React, {\r\n    useState,\r\n    useEffect,\r\n    memo,\r\n    forwardRef,\r\n    useLayoutEffect\r\n} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Progress} from \"antd\";\r\nimport \"./index.scss\";\r\nimport {Select} from \"antd\";\r\nimport * as echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty, Loading } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nimport home from \"../../train/home\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n\r\nfunction SchoolAttendance(props){\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n        reflash\r\n    } = props;\r\n    const [visible, setVisible] = useState(true);\r\n    const [homeAttendanceInfo, setHomeAttendanceInfo] = useState({});\r\n    const [homeAttendanceList, setHomeAttendanceList] = useState({});\r\n    const [currentRange, setCurrentRange] = useState(\"上午\");\r\n    const [gradeHomeAttendanceInfo, setGradeHomeAttendanceInfo] = useState({});\r\n    const [classHomeAttendanceInfo, setClassHomeAttendanceInfo] = useState({});\r\n    let colorList = [\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#1da4fe'\r\n        },{\r\n            offset: 1,\r\n            color: '#7ecbff'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#51ca51'\r\n        },{\r\n            offset: 1,\r\n            color: '#a0dea0'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#F79750'\r\n        },{\r\n            offset: 1,\r\n            color: '#FFB681'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#2D3149'\r\n        },{\r\n            offset: 1,\r\n            color: '#363D71'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#E84956'\r\n        },{\r\n            offset: 1,\r\n            color: '#E9707A'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#6E54CC'\r\n        },{\r\n            offset: 1,\r\n            color: '#7E90E9'\r\n        }])\r\n    ];\r\n    //获取年级平均数据\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"manager\" && !currentClass && !currentGrade){\r\n            return;\r\n        }\r\n        if(!currentGrade && !currentClass){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        if(currentClass){\r\n            classList.forEach((item)=>{\r\n                if(item.classId == currentClass){\r\n                    classGradeId = item.gradeId;\r\n                }\r\n            })\r\n        }\r\n        \r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/attendance/gate?type=3\" + \r\n        \"&studentId=&classId=&gradeId=\" + (currentGrade? currentGrade: classGradeId) +\r\n        \"&schoolId=\" + SchoolID +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + (currentTermInfo.startDate? currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&end=\" + (currentTermInfo.endDate? currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeHomeAttendanceInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    //获取班级平均数据\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"manager\" && !currentClass && !currentGrade){\r\n            return;\r\n        }\r\n        if(userIdentity != \"student\"){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/attendance/gate?type=2\" + \r\n        \"&studentId=&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + (currentTermInfo.startDate? currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&end=\" + (currentTermInfo.endDate? currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setClassHomeAttendanceInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        setVisible(true);\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let url = BasicProxy + \"/api/attendance/gate?type=\" + \r\n        (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            currentClass?\r\n            2:\r\n            currentGrade?\r\n            3:\r\n            4\r\n        ) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + (currentTermInfo.startDate? currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&end=\" + (currentTermInfo.endDate? currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setHomeAttendanceInfo(result.data);\r\n            }\r\n            setVisible(false);\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    //领导端\r\n    useLayoutEffect(() => {\r\n        if(userIdentity != \"manager\" || currentClass || currentGrade){\r\n            return;\r\n        }\r\n        setVisible(true);\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/attendance/gate/batch?type=3\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + (currentTermInfo.startDate? currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&end=\" + (currentTermInfo.endDate? currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setHomeAttendanceList(result.data);\r\n            }\r\n            setVisible(false);\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    //出门时间统计\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"school-out-time-echart\"));\r\n        myEchart.resize();\r\n        let seriesList = [], xList = [], myList = [], classList = [], gradeList = [];\r\n        if(userIdentity == 'student'){\r\n            Array.isArray(homeAttendanceInfo.attendanceGateDayList) &&\r\n            homeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                       if(child.timeDetailName == currentRange){\r\n                        avg = child.outTime;\r\n                    } \r\n                    } \r\n                })\r\n                // avg = parseInt(sum / (item.detailDataList.length));\r\n                myList.push(avg);\r\n            })\r\n            Array.isArray(classHomeAttendanceInfo.attendanceGateDayList) &&\r\n            classHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                       if(child.timeDetailName == currentRange){\r\n                        avg = child.outTime;\r\n                    } \r\n                    } \r\n                })\r\n                // avg = parseInt(sum / (item.detailDataList.length));\r\n                classList.push(avg);\r\n            })\r\n            Array.isArray(gradeHomeAttendanceInfo.attendanceGateDayList) &&\r\n            gradeHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                       if(child.timeDetailName == currentRange){\r\n                        avg = child.outTime;\r\n                    } \r\n                    } \r\n                })\r\n                // avg = parseInt(sum / (item.detailDataList.length));\r\n                gradeList.push(avg);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:xList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        } else if(currentClass){\r\n            Array.isArray(homeAttendanceInfo.attendanceGateDayList) &&\r\n            homeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                   if(child.timeDetailName == currentRange){\r\n                        avg = child.outTime;\r\n                    } \r\n                })\r\n                // avg = parseInt(sum / (item.detailDataList.length));\r\n                myList.push(avg);\r\n            })\r\n            Array.isArray(classHomeAttendanceInfo.attendanceGateDayList) &&\r\n            classHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                   if(child.timeDetailName == currentRange){\r\n                        avg = child.outTime;\r\n                    } \r\n                })\r\n                // avg = parseInt(sum / (item.detailDataList.length));\r\n                classList.push(avg);\r\n            })\r\n            Array.isArray(gradeHomeAttendanceInfo.attendanceGateDayList) &&\r\n            gradeHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                   if(child.timeDetailName == currentRange){\r\n                        avg = child.outTime;\r\n                    } \r\n                })\r\n                // avg = parseInt(sum / (item.detailDataList.length));\r\n                gradeList.push(avg);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        } else if(currentGrade){\r\n            Array.isArray(homeAttendanceInfo.attendanceGateDayList) &&\r\n            homeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                   if(child.timeDetailName == currentRange){\r\n                        avg = child.outTime;\r\n                    } \r\n                })\r\n                // avg = parseInt(sum / (item.detailDataList.length));\r\n                myList.push(avg);\r\n            })\r\n            Array.isArray(classHomeAttendanceInfo.attendanceGateDayList) &&\r\n            classHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                   if(child.timeDetailName == currentRange){\r\n                        avg = child.outTime;\r\n                    } \r\n                })\r\n                // avg = parseInt(sum / (item.detailDataList.length));\r\n                classList.push(avg);\r\n            })\r\n            Array.isArray(gradeHomeAttendanceInfo.attendanceGateDayList) &&\r\n            gradeHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                   if(child.timeDetailName == currentRange){\r\n                       avg = child.outTime;\r\n                    } \r\n                })\r\n                // avg = parseInt(sum / (item.detailDataList.length));\r\n                gradeList.push(avg);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:myList\r\n                } \r\n            ]\r\n        } else {\r\n            //领导端查学校全年级\r\n            Array.isArray(homeAttendanceList) &&\r\n            homeAttendanceList.forEach((item, index)=>{\r\n                let arr = [];\r\n                item.attendanceGate &&\r\n                Array.isArray(item.attendanceGate.attendanceGateDayList) &&\r\n                item.attendanceGate.attendanceGateDayList.forEach((item)=>{\r\n                    xList.push(item.dayDate && item.dayDate);\r\n                    let sum = 0, avg = 0;\r\n                    item.detailDataList.forEach((child)=>{\r\n                       if(child.timeDetailName == currentRange && child.outTime){\r\n                            avg = child.outTime;\r\n                        } \r\n                    })\r\n                    // avg = parseInt(sum / (item.detailDataList.length));\r\n                    arr.push(avg);\r\n                })\r\n                seriesList.push({\r\n                    name: item.gradeName,\r\n                    type:'bar',\r\n                    // barWidth : 16,\r\n                    itemStyle: {\r\n                        color: colorList[index%5]\r\n                    },\r\n                    data:arr\r\n                })\r\n            });\r\n            \r\n        }\r\n        let option = {\r\n            title: {\r\n                text: '离校时间',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `<span style=\"color: #fffd64\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: (\r\n                userIdentity == \"manager\" && !currentGrade && !currentClass?\r\n                {\r\n                    type: 'scroll',\r\n                    width: '62%',\r\n                    top: '50px',\r\n                    left: 'center',\r\n                    textStyle: {\r\n                        color: '#999999',\r\n                    }\r\n                }:\r\n                {\r\n                    top: '50px',\r\n                    right: '10%',\r\n                    // data:['个人','班级','年级'],\r\n                    textStyle: {\r\n                        color: '#999999',\r\n                    }\r\n                }\r\n            ),\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '时间',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: function(value){\r\n                        let date = new Date(value);\r\n                        return date.getHours() + \":\" + date.getMinutes()\r\n                    }\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentRange, homeAttendanceList, homeAttendanceInfo]);\r\n    //归寝时间统计\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"school-in-time-echart\"));\r\n        myEchart.resize();\r\n        let seriesList = [], xList = [], myList = [], classList = [], gradeList = [];\r\n        if(userIdentity == 'student'){\r\n            Array.isArray(homeAttendanceInfo.attendanceGateDayList) &&\r\n            homeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                       if(child.timeDetailName == currentRange){\r\n                        avg = child.inTime;\r\n                    } \r\n                    } \r\n                })\r\n                // avg = parseInt(sum / (item.detailDataList.length));\r\n                myList.push(avg);\r\n            })\r\n            Array.isArray(classHomeAttendanceInfo.attendanceGateDayList) &&\r\n            classHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                       if(child.timeDetailName == currentRange){\r\n                        avg = child.inTime;\r\n                    } \r\n                    } \r\n                })\r\n                // avg = parseInt(sum / (item.detailDataList.length));\r\n                classList.push(avg);\r\n            })\r\n            Array.isArray(gradeHomeAttendanceInfo.attendanceGateDayList) &&\r\n            gradeHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                       if(child.timeDetailName == currentRange){\r\n                        avg = child.inTime;\r\n                    } \r\n                    } \r\n                })\r\n                // avg = parseInt(sum / (item.detailDataList.length));\r\n                gradeList.push(avg);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:xList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        } else if(currentClass){\r\n            Array.isArray(homeAttendanceInfo.attendanceGateDayList) &&\r\n            homeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                   if(child.timeDetailName == currentRange){\r\n                        avg = child.inTime;\r\n                    } \r\n                })\r\n                // avg = parseInt(sum / (item.detailDataList.length));\r\n                myList.push(avg);\r\n            })\r\n            Array.isArray(classHomeAttendanceInfo.attendanceGateDayList) &&\r\n            classHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                         avg = child.inTime;\r\n                     } \r\n                 })\r\n                 // avg = parseInt(sum / (item.detailDataList.length));\r\n                classList.push(avg);\r\n            })\r\n            Array.isArray(gradeHomeAttendanceInfo.attendanceGateDayList) &&\r\n            gradeHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                         avg = child.inTime;\r\n                     } \r\n                 })\r\n                 // avg = parseInt(sum / (item.detailDataList.length));\r\n                gradeList.push(avg);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        } else if(!currentClass && currentGrade){\r\n            Array.isArray(homeAttendanceInfo.attendanceGateDayList) &&\r\n            homeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                         avg = child.inTime;\r\n                     } \r\n                 })\r\n                 // avg = parseInt(sum / (item.detailDataList.length));\r\n                myList.push(avg);\r\n            })\r\n            Array.isArray(classHomeAttendanceInfo.attendanceGateDayList) &&\r\n            classHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                         avg = child.inTime;\r\n                     } \r\n                 })\r\n                 // avg = parseInt(sum / (item.detailDataList.length));\r\n                classList.push(avg);\r\n            })\r\n            Array.isArray(gradeHomeAttendanceInfo.attendanceGateDayList) &&\r\n            gradeHomeAttendanceInfo.attendanceGateDayList.forEach((item)=>{\r\n                xList.push(item.dayDate && item.dayDate);\r\n                let sum = 0, avg = 0;\r\n                item.detailDataList.forEach((child)=>{\r\n                    if(child.timeDetailName == currentRange){\r\n                         avg = child.inTime;\r\n                     } \r\n                 })\r\n                 // avg = parseInt(sum / (item.detailDataList.length));\r\n                gradeList.push(avg);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    // name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:myList\r\n                }\r\n            ];\r\n        } else {\r\n            //领导端查学校全年级\r\n            Array.isArray(homeAttendanceList) &&\r\n            homeAttendanceList.forEach((item, index)=>{\r\n                let arr = [];\r\n                \r\n                item.attendanceGate &&\r\n                Array.isArray(item.attendanceGate.attendanceGateDayList) &&\r\n                item.attendanceGate.attendanceGateDayList.forEach((item)=>{\r\n                    xList.push(item.dayDate);\r\n                    let sum = 0, avg = 0;\r\n                    item.detailDataList.forEach((child)=>{\r\n                        if(child.timeDetailName == currentRange && child.inTime){\r\n                             avg = child.inTime;\r\n                        } \r\n                     })\r\n                     // avg = parseInt(sum / (item.detailDataList.length));\r\n                    arr.push(avg);\r\n                });\r\n                seriesList.push({\r\n                    name: item.gradeName,\r\n                    type:'bar',\r\n                    // barWidth : 16,\r\n                    itemStyle: {\r\n                        color: colorList[index%5]\r\n                    },\r\n                    data:arr\r\n                })\r\n            });\r\n        }\r\n        let option = {\r\n            title: {\r\n                text: '到校时间',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `<span style=\"color: #fffd64\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: (\r\n                userIdentity == \"manager\" && !currentGrade && !currentClass?\r\n                {\r\n                    type: 'scroll',\r\n                    width: '62%',\r\n                    top: '50px',\r\n                    left: 'center',\r\n                    textStyle: {\r\n                        color: '#999999',\r\n                    }\r\n                }:\r\n                {\r\n                    top: '50px',\r\n                    right: '10%',\r\n                    // data:['个人','班级','年级'],\r\n                    textStyle: {\r\n                        color: '#999999',\r\n                    }\r\n                }\r\n            ),\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '时间',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: function(value){\r\n                        let date = new Date(value);\r\n                        return date.getHours() + \":\" + date.getMinutes()\r\n                    }\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentRange, homeAttendanceInfo, homeAttendanceList]);\r\n    return (\r\n        <div className=\"school-attendance\">\r\n            <Loading\r\n            opacity={false}\r\n            tip=\"加载中...\"\r\n            spinning={visible}>\r\n                <div className=\"home-attendance-top\">\r\n                <div className=\"mornning-card\">\r\n                    <div className=\"card-title\">上午</div>\r\n                    <div className=\"time-container\" style={{\r\n                        marginTop: (userIdentity == \"manager\"? \"20px\": \"\")\r\n                    }}>\r\n                        <div className=\"next-time\">\r\n                            <p className=\"time-num\">\r\n                            {homeAttendanceInfo.avgInTime1? homeAttendanceInfo.avgInTime1: \"--\"}\r\n                            </p>\r\n                            <p>到校时间</p>\r\n                        </div>\r\n                        <span>-</span>\r\n                        <div className=\"pre-time\">\r\n                            <p className=\"time-num\">\r\n                            {homeAttendanceInfo.avgOutTime1? homeAttendanceInfo.avgOutTime1: \"--\"}\r\n                            </p>\r\n                            <p>离校时间</p>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        userIdentity == \"student\"?\r\n                        <div className=\"class-time-avg\">\r\n                            <p>\r\n                                <span>到校:&nbsp;</span> \r\n                                <span className=\"class-avg\">班级平均: \r\n                                {classHomeAttendanceInfo.avgInTime1? classHomeAttendanceInfo.avgInTime1: \"--\"}</span>\r\n                                <span className=\"grade-avg\">年级平均: \r\n                                {gradeHomeAttendanceInfo.avgInTime1? gradeHomeAttendanceInfo.avgInTime1: \"--\"}</span>\r\n                            </p>\r\n                            <p>\r\n                                <span>离校:&nbsp;</span>\r\n                                <span className=\"class-avg\">班级平均: \r\n                                {classHomeAttendanceInfo.avgOutTime1? classHomeAttendanceInfo.avgOutTime1: \"--\"}</span>\r\n                                <span className=\"grade-avg\">年级平均: \r\n                                {gradeHomeAttendanceInfo.avgOutTime1? gradeHomeAttendanceInfo.avgOutTime1: \"--\"}</span>\r\n                            </p>\r\n                        </div>:\r\n                        userIdentity == \"teacher\"?\r\n                        <div className=\"class-time-avg\">\r\n                            <p style={{textAlign: \"center\"}}>\r\n                                <span>年级平均:&nbsp;</span>\r\n                                <span>{gradeHomeAttendanceInfo.avgInTime1? gradeHomeAttendanceInfo.avgInTime1: \"--\"}</span>\r\n                            -\r\n                            <span className=\"grade-avg\">\r\n                                {gradeHomeAttendanceInfo.avgOutTime1? gradeHomeAttendanceInfo.avgOutTime1: \"--\"}</span>\r\n                            </p>\r\n                        </div>:\r\n                        \"\"\r\n                    }\r\n                    \r\n                </div>\r\n                <div className=\"afternoon-card\">\r\n                <div className=\"card-title\">下午</div>\r\n                    <div className=\"time-container\" style={{\r\n                        marginTop: (userIdentity == \"manager\"? \"20px\": \"\")\r\n                    }}>\r\n                        <div className=\"next-time\">\r\n                            <p className=\"time-num\">\r\n                            {homeAttendanceInfo.avgInTime2? homeAttendanceInfo.avgInTime2: \"--\"}\r\n                            </p>\r\n                            <p>到校时间</p>\r\n                        </div>\r\n                        <span>-</span>\r\n                        <div className=\"pre-time\">\r\n                            <p className=\"time-num\">\r\n                            {homeAttendanceInfo.avgOutTime2? homeAttendanceInfo.avgOutTime2: \"--\"}\r\n                            </p>\r\n                            <p>离校时间</p>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        userIdentity == \"student\"?\r\n                        <div className=\"class-time-avg\">\r\n                            <p>\r\n                                <span>到校:&nbsp;</span> \r\n                                <span className=\"class-avg\">班级平均: \r\n                                {classHomeAttendanceInfo.avgInTime2? classHomeAttendanceInfo.avgInTime2: \"--\"}</span>\r\n                                <span className=\"grade-avg\">年级平均: \r\n                                {gradeHomeAttendanceInfo.avgInTime2? gradeHomeAttendanceInfo.avgInTime2: \"--\"}</span>\r\n                            </p>\r\n                            <p>\r\n                                <span>离校:&nbsp;</span>\r\n                                <span className=\"class-avg\">班级平均: \r\n                                {classHomeAttendanceInfo.avgOutTime2? classHomeAttendanceInfo.avgOutTime2: \"--\"}</span>\r\n                                <span className=\"grade-avg\">年级平均: \r\n                                {gradeHomeAttendanceInfo.avgOutTime2? gradeHomeAttendanceInfo.avgOutTime2: \"--\"}</span>\r\n                            </p>\r\n                        </div>:\r\n                        userIdentity == \"teacher\"?\r\n                        <div className=\"class-time-avg\">\r\n                            <p style={{textAlign: \"center\"}}>\r\n                                <span>年级平均:&nbsp;</span>\r\n                                <span className=\"grade-avg\">\r\n                                {gradeHomeAttendanceInfo.avgInTime2? gradeHomeAttendanceInfo.avgInTime2: \"--\"}</span>\r\n                                -\r\n                                <span className=\"grade-avg\">  \r\n                                {gradeHomeAttendanceInfo.avgOutTime2? gradeHomeAttendanceInfo.avgOutTime2: \"--\"}</span>\r\n                            </p>\r\n                        </div>:\r\n                        \"\"\r\n                    }\r\n                </div>\r\n                <div className=\"night-card\">\r\n                <div className=\"card-title\">晚上</div>\r\n                    <div className=\"time-container\" style={{\r\n                        marginTop: (userIdentity == \"manager\"? \"20px\": \"\")\r\n                    }}>\r\n                        <div className=\"next-time\">\r\n                            <p className=\"time-num\">\r\n                            {homeAttendanceInfo.avgInTime3? homeAttendanceInfo.avgInTime3: \"--\"}\r\n                            </p>\r\n                            <p>到校时间</p>\r\n                        </div>\r\n                        <span>-</span>\r\n                        <div className=\"pre-time\">\r\n                            <p className=\"time-num\">\r\n                            {homeAttendanceInfo.avgOutTime3? homeAttendanceInfo.avgOutTime3: \"--\"}\r\n                            </p>\r\n                            <p>离校时间</p>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        userIdentity == \"student\"?\r\n                        <div className=\"class-time-avg\">\r\n                            <p>\r\n                                <span>到校:&nbsp;</span> \r\n                                <span className=\"class-avg\">班级平均: \r\n                                {classHomeAttendanceInfo.avgInTime3? classHomeAttendanceInfo.avgInTime3: \"--\"}</span>\r\n                                <span className=\"grade-avg\">年级平均: \r\n                                {gradeHomeAttendanceInfo.avgInTime3? gradeHomeAttendanceInfo.avgInTime3: \"--\"}</span>\r\n                            </p>\r\n                            <p>\r\n                                <span>离校:&nbsp;</span>\r\n                                <span className=\"class-avg\">班级平均: \r\n                                {classHomeAttendanceInfo.avgOutTime3? classHomeAttendanceInfo.avgOutTime3: \"--\"}</span>\r\n                                <span className=\"grade-avg\">年级平均: \r\n                                {gradeHomeAttendanceInfo.avgOutTime3? gradeHomeAttendanceInfo.avgOutTime3: \"--\"}</span>\r\n                            </p>\r\n                        </div>:\r\n                        userIdentity == \"teacher\"?\r\n                        <div className=\"class-time-avg\">\r\n                            <p style={{textAlign: \"center\"}}>\r\n                                <span>年级平均:&nbsp;</span>\r\n                                <span className=\"grade-avg\">\r\n                                {gradeHomeAttendanceInfo.avgInTime3? gradeHomeAttendanceInfo.avgInTime3: \"--\"}</span>\r\n                                -\r\n                                <span className=\"grade-avg\">\r\n                                {gradeHomeAttendanceInfo.avgOutTime3? gradeHomeAttendanceInfo.avgOutTime3: \"--\"}</span>\r\n                            </p>\r\n                        </div>:\r\n                        \"\"\r\n                    }\r\n                </div>\r\n            </div>\r\n            {/* <div className=\"select-container\">\r\n                <span>时间:</span>\r\n                <Select defaultValue=\"month\" className=\"select\" onChange={(value)=>setCurrentTime(value)}>\r\n                    <Option value=\"month\">按天数</Option>\r\n                    <Option value=\"month\">按周次</Option>\r\n                    <Option value=\"month\">按月份</Option>\r\n                </Select>\r\n            </div> */}\r\n            <div className=\"select-container\">\r\n                <span>范围:</span>\r\n                <Select defaultValue=\"上午\" className=\"select\" onChange={(value)=>setCurrentRange(value)}>\r\n                    <Option value=\"上午\">上午</Option>\r\n                    <Option value=\"下午\">下午</Option>\r\n                    <Option value=\"晚上\">晚上</Option>\r\n                </Select>\r\n            </div>\r\n            <div className=\"home-attendance-bottom\">\r\n                <div className=\"out-school-echart\" id=\"school-out-time-echart\"></div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"in-school-echart\" id=\"school-in-time-echart\"></div>\r\n            </div>\r\n            </Loading>\r\n            \r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(SchoolAttendance)));","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { Empty, Modal } from \"../../../component/common\";\r\nimport Table from \"../../../component/tableList\";\r\nimport Bar from \"../../../component/bar\";\r\nimport AttendanceStatus from \"./attendanceStatus\";\r\nimport CourseAttendance from \"./courseAttendance\";\r\nimport HomeAttendance from \"./homeAttendance\";\r\nimport SchoolAttendance from \"./schoolAttendance\";\r\nimport Track from \"../../../component/Track\";\r\n// import { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n  function AttendanceMsg(props, ref) {\r\n    // *selectLevel:这里的selectLevel与用户的没关系，与看的级别有关，例如教育局的看学校的，selectLevel===2\r\n    // *productLevel:产品类型，给用户看的界面类型，用来控制界面的一些属性：1教育局，2大学学校，3教育局学校，4大学学院，\r\n    // *product:包含该productLevel的所有信息,有使用组件者使用productLevel和commonData的levelHash匹配使用，必须传，不传将出问题\r\n    let {\r\n      term,\r\n      HasHistory,\r\n      onAnchorComplete,\r\n      schoolID,\r\n      collegeID,\r\n      productMsg,\r\n      userIdentity,\r\n      currentClass,\r\n      currentGrade,\r\n      userInfo: {SchoolID, UserID},\r\n      reflash\r\n    } = props;\r\n    const [courseVisible, setCourseVisible] = useState(false);\r\n    const [trackInfo, setTrackInfo] = useState([]);\r\n    const [studentList, setStudentList] = useState([]);\r\n    const [selectStudentList, setSelectStudentList] = useState([]);\r\n    const [keyword, setKeyWord] = useState(\"\");\r\n    //单个学生详情数据\r\n    const [courseAttendanceList, setCourseAttendanceList] = useState([]);\r\n    //控制模态框显示内容\r\n    const [modalShowType, setModalShowType] = useState(userIdentity == \"student\"? \"detail\": \"list\");\r\n    const attendanceStatus = useRef(null);\r\n    const courseAttendance = useRef(null);\r\n    const homeAttendance = useRef(null);\r\n    const schoolAttendance = useRef(null);\r\n    const attendanceTrack = useRef(null);\r\n    const tableHeader = [\r\n      {\r\n        key: \"subject\",\r\n        name: \"学科\"\r\n      },\r\n      {\r\n        key: \"courseNum\",\r\n        name: \"节数\"\r\n      },\r\n      {\r\n        key: \"isAbsent\",\r\n        name: \"是否缺勤\"\r\n      },\r\n      {\r\n        key: \"isLate\",\r\n        name: \"是否迟到\"\r\n      },\r\n      {\r\n        key: \"isLeaveEarly\",\r\n        name: \"是否早退\"\r\n      },\r\n      {\r\n        key: \"isVacate\",\r\n        name: \"是否请假\"\r\n      },\r\n      {\r\n        key: \"courseDate\",\r\n        name: \"上课日期\"\r\n      }\r\n    ]\r\n    useLayoutEffect(() => {\r\n      // setAnchorList();\r\n      typeof onAnchorComplete === \"function\" &&\r\n        onAnchorComplete([\r\n          { ref: attendanceStatus.current, name: \"考勤情况\" },\r\n          { ref: courseAttendance.current, name: \"课堂出勤\" },\r\n          { ref: homeAttendance.current, name: \"宿舍考勤\" },\r\n          { ref: schoolAttendance.current, name: \"学校考勤\" },\r\n          { ref: attendanceTrack.current, name: \"考勤轨迹\" },\r\n        ]);\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    // 初始请求\r\n    //获取轨迹数据\r\n    useLayoutEffect(() => {\r\n      let currentTermInfo = term.value? JSON.parse(term.value): {};  \r\n      let classList = sessionStorage.getItem(\"classList\") ?\r\n      JSON.parse(sessionStorage.getItem(\"classList\")):\r\n      [];\r\n      let classGradeId = \"\";\r\n      classList.forEach((item)=>{\r\n          if(item.classId == currentClass){\r\n              classGradeId = item.gradeId;\r\n          }\r\n      })\r\n      let url = BasicProxy + \"/api/attendance/attendance/path?type=\" + (\r\n          userIdentity == \"manager\"?\r\n          currentClass?\r\n          2:\r\n          currentGrade?\r\n          3:\r\n          4:\r\n          userIdentity == \"teacher\"?\r\n          2:\r\n          1\r\n      ) +\r\n      \"&studentId=\" + UserID +\r\n      \"&classId=\" + currentClass +\r\n      \"&gradeId=\" + (\r\n          userIdentity == \"teacher\" && !currentGrade?\r\n          classGradeId:\r\n          currentGrade) +\r\n      \"&schoolId=\" + SchoolID +\r\n      // \"&termId=\" + currentTermInfo.termId +\r\n      \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n      \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && result.data){\r\n              setTrackInfo(result.data);\r\n          }\r\n      })\r\n    }, [currentClass, currentGrade, userIdentity, reflash]);\r\n\r\n    //如果是老师则先获取学生列表\r\n    useLayoutEffect(() => {\r\n      if(userIdentity == \"teacher\" && currentClass){\r\n        let url = BasicProxy + \"/api/base/getStudentInfo?schoolId=\" +\r\n        SchoolID +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&classId=\" + currentClass;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setStudentList(result.data);\r\n                setSelectStudentList(result.data);\r\n            }\r\n        })\r\n      }\r\n    }, [userIdentity, UserID, currentClass, currentGrade, term])\r\n\r\n    //获取弹出框详细信息\r\n    useLayoutEffect(() => {\r\n      if(userIdentity != \"student\"){\r\n        return;\r\n      }\r\n\r\n      let termInfo = term && term.value && JSON.parse(term.value);\r\n      let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n      let classGradeId = \"\";\r\n      classList.forEach((item)=>{\r\n          if(item.classId == currentClass){\r\n              classGradeId = item.gradeId;\r\n          }\r\n      })\r\n      let url = BasicProxy + \"/api/attendance/attendance/details?studentId=\" + \r\n      (userIdentity == \"student\"? UserID: \"\") +\r\n      \"&classId=\" + (userIdentity == \"teacher\" || userIdentity == \"manager\" && currentClass? currentClass: \"\") +\r\n      \"&gradeId=\" + (userIdentity == \"manager\" && !currentClass? currentGrade: \"\") +\r\n      \"&schoolId=\" + (!currentClass && !currentGrade? SchoolID: \"\") +\r\n      // \"&termId=\" + currentTermInfo.termId +\r\n      \"&start=\" + termInfo.startDate.substr(0, 10) +\r\n      \"&end=\" + termInfo.endDate.substr(0, 10);\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && result.data){\r\n              setCourseAttendanceList(result.data);\r\n          }\r\n      })     \r\n    }, [term, currentClass, currentGrade, userIdentity, UserID, reflash]);\r\n    //点击学生查看学生详细信息\r\n    const setStudentInfo = (data) => {\r\n      let termInfo = term && term.value && JSON.parse(term.value);\r\n      let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n      let classGradeId = \"\";\r\n      classList.forEach((item)=>{\r\n          if(item.classId == currentClass){\r\n              classGradeId = item.gradeId;\r\n          }\r\n      })\r\n      let url = BasicProxy + \"/api/attendance/attendance/details?studentId=\" + \r\n      data.userId +\r\n      \"&classId=\" +\r\n      \"&gradeId=\" +\r\n      \"&schoolId=\" +\r\n      // \"&termId=\" + currentTermInfo.termId +\r\n      \"&start=\" + termInfo.startDate.substr(0, 10) +\r\n      \"&end=\" + termInfo.endDate.substr(0, 10);\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && result.data){\r\n              setCourseAttendanceList(result.data);\r\n              setModalShowType(\"detail\");\r\n          }\r\n      }) \r\n    }\r\n    return (\r\n      <div className=\"stu-condition\" id=\"attendanceMsg\">\r\n        {\r\n            userIdentity == 'manager' && !currentClass && !currentGrade?\r\n            <Bar loading={false} barName={\"考勤情况\"} ref={attendanceStatus}>\r\n                <AttendanceStatus \r\n                currentClass={currentClass}\r\n                currentGrade={currentGrade}\r\n                currentTerm={term}\r\n                userIdentity={userIdentity}\r\n                reflash={reflash} />\r\n            </Bar>:\r\n            \"\"\r\n        }\r\n        <Bar\r\n          barName={\"课堂出勤\"}\r\n          ref={courseAttendance}\r\n          topContext={\r\n            userIdentity != \"manager\"?\r\n            <div className=\"module-link-group\">\r\n              <span \r\n              className=\"status\" \r\n              onClick={()=>setCourseVisible(true)}>\r\n                查看课堂详情信息\r\n              </span>\r\n            </div>\r\n            :false}\r\n          loading={false}\r\n        >\r\n            <CourseAttendance \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            userIdentity={userIdentity}\r\n            reflash={reflash} />\r\n        </Bar>\r\n        <Bar loading={false} barName={\"宿舍考勤\"} ref={homeAttendance}>\r\n            <HomeAttendance \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            userIdentity={userIdentity}\r\n            reflash={reflash} />\r\n        </Bar>\r\n        {\r\n            userIdentity != \"student\"?\r\n            <Bar loading={false} barName={\"学校考勤\"} ref={schoolAttendance}>\r\n                <SchoolAttendance \r\n                currentClass={currentClass}\r\n                currentGrade={currentGrade}\r\n                currentTerm={term}\r\n                userIdentity={userIdentity}\r\n                reflash={reflash} />\r\n            </Bar>:\r\n            \"\"\r\n        }\r\n        <Bar loading={false} barName={\"考勤轨迹\"} ref={attendanceTrack}>\r\n          <Track\r\n          type=\"attendanceMsg\"\r\n          userIdentity={userIdentity}\r\n          data={trackInfo}\r\n          />\r\n        </Bar>\r\n        <Modal\r\n            type=\"1\"\r\n            title=\"课堂出勤详情\"\r\n            visible={courseVisible}\r\n            onOk={()=>setCourseVisible(true)}\r\n            onCancel={()=>{\r\n              if(userIdentity != \"student\"){\r\n                setModalShowType(\"list\")\r\n              }\r\n              setCourseVisible(false)}}\r\n            footer={null}\r\n            width={1000}\r\n            className=\"height-weight-modal\"\r\n            bodyStyle={{height: 632 + 'px', padding: 20}}\r\n        >\r\n            {/* <div className=\"search-container\">\r\n              <span className=\"list-count\">\r\n                  共<span>{studentList.length}位</span>学生\r\n              </span>\r\n              <div className=\"input-container\">\r\n                  <input \r\n                  className=\"search-input\" \r\n                  type=\"text\" \r\n                  placeholder=\"请输入学生姓名进行搜索...\"\r\n                  value={keyword}\r\n                  onChange={searchStudent} />\r\n                  {\r\n                    keyword.length != 0?\r\n                    <i className=\"cancellogo\" onClick={cancelSearch}></i>:\r\n                    \"\"\r\n                  }\r\n                  <i className=\"searchlogo\"></i>\r\n              </div>\r\n            \r\n            </div> */}\r\n            {\r\n              modalShowType == \"list\"?\r\n              <div>\r\n                <p className=\"stu-count\">共<span>{\r\n                studentList.length\r\n                }</span>人</p>\r\n                <ul className=\"member-list\">\r\n                  <Scrollbars \r\n                  autoHeight\r\n                  autoHeightMax={580}>\r\n                    {\r\n                      selectStudentList.length > 0?\r\n                      selectStudentList.map((item, index)=>{\r\n                        return (\r\n                        <li key={index} onClick={()=>setStudentInfo(item)}>\r\n                          <i className=\"user-header\" style={{\r\n                            backgroundImage:\r\n                            (\r\n                              item.photoPath?\r\n                              item.photoPath:\r\n                              \"\"\r\n                            )\r\n                          }}></i>\r\n                          <p title={item.userName}>{item.userName}</p>\r\n                        </li>\r\n                        )\r\n                      }):\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        style={{margin: \"80px 0 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                      \r\n                    }\r\n                  \r\n                  </Scrollbars>\r\n                  \r\n                </ul>  \r\n              </div>:\r\n              <div>\r\n                {\r\n                  userIdentity != \"student\"?\r\n                  <span className=\"reback-prev\" onClick={()=>setModalShowType(\"list\")}>返回学生列表</span>:\r\n                  \"\"\r\n                }\r\n                \r\n                <Table\r\n                style={{marginTop: 20}}\r\n                tableHeader={tableHeader}\r\n                data={courseAttendanceList}\r\n                ></Table>\r\n              </div>\r\n            }\r\n            \r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  const mapStateToProps = (state) => {\r\n    let { commonData:{termInfo:{HasHistory}, userInfo} } = state;\r\n    // console.log(state)\r\n    return {HasHistory, userInfo};\r\n  };\r\n  export default connect(mapStateToProps)(memo(forwardRef(AttendanceMsg)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport {Table, Select} from \"antd\";\r\n// import echarts from \"echarts\";\r\nimport {Empty} from \"../../../component/common\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport \"echarts/lib/chart/scatter\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction HealthBaseMsg(props, ref) {\r\n\r\n    let {\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        currentTerm,\r\n        data,\r\n        userInfo: {UserID, SchoolID},\r\n        reflash\r\n    } = props;\r\n    const [currentIndex, setCurrentIndex] = useState(1);\r\n    const [infoList, setInfoList] = useState([]);\r\n    const [leaderLnfoList, setLeaderInfoList] = useState([]);\r\n    const [leaderPositionList, setLeaderPositionList] = useState([]);\r\n    //领导端\r\n    const [schoolInfoList, setSchoolInfoList] = useState([]);\r\n    const [currentGender, setCurrentGender] = useState(-1);\r\n    const [schoolStudentList, setSchoolStudentList] = useState([]);\r\n    const [schoolStatistic, setSchoolStatistic] = useState([]);\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm && currentTerm.value? JSON.parse(currentTerm.value): {};\r\n        //获取目前平均身高体重信息\r\n        let url = BasicProxy + \"/api/healthy/studentHealthInfo/distribution?id=\" + \r\n        (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            userIdentity == \"teacher\"?\r\n            currentClass:\r\n            currentClass?\r\n            currentClass:\r\n            currentGrade?\r\n            currentGrade:\r\n            SchoolID\r\n        ) +\r\n        \"&queryType=\" + \r\n        (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            currentClass?\r\n            2:\r\n            currentGrade?\r\n            3:\r\n            4\r\n        ) +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&periodType=1\" +\r\n        \"&startDate=\" + (currentTermInfo.startDate? currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&endDate=\" + (currentTermInfo.endDate? currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setInfoList(result.data);\r\n            }\r\n        })\r\n        //获取学生的身高体重的变化情况和BMI波动情况\r\n        url = BasicProxy + \"/api/healthy/studentHealthInfo/leader/distribution?classId=&gradeId=\" +\r\n        \"&periodType=1\" +\r\n        \"&gender=\" + currentGender +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + (currentTermInfo.startDate? currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&endDate=\" + (currentTermInfo.endDate? currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setSchoolStatistic(result.data);\r\n            }\r\n        })\r\n        //获取年级学生身高体重分布图\r\n        url = BasicProxy + \"/api/healthy/studentHealthInfo/leader/listLatest?classId=&gradeId=\" +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&gender=\" + currentGender +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&startDate=\" + (currentTermInfo.startDate? currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&endDate=\" + (currentTermInfo.endDate? currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setSchoolStudentList(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, userIdentity, reflash]);\r\n    //领导端\r\n    useLayoutEffect(() => {\r\n        //领导端查学校查询身高体重和BMI图表数据\r\n        if(userIdentity != \"manager\" || currentClass || currentGrade){\r\n            return;\r\n        }\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm && currentTerm.value? JSON.parse(currentTerm.value): {};\r\n        //获取目前平均身高体重信息\r\n        let url = BasicProxy + \"/api/healthy/studentHealthInfo/leader/all?classId=&gradeId=\" +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + (currentTermInfo.startDate? currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&endDate=\" + (currentTermInfo.endDate? currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                let arr = [];\r\n                result.data.forEach((item)=>{\r\n                    let obj = {\r\n                        gradeName: item.gradeInfo? item.gradeInfo.gradeName: \"\",\r\n                        maleHeight: item.male? item.male.height: \"\",\r\n                        maleWeight: item.male? item.male.weight: \"\",\r\n                        maleBMI: item.male? item.male.bmiIndex: \"\",\r\n                        femaleHeight: item.female? item.female.height: \"\",\r\n                        femaleWeight: item.female? item.female.weight: \"\",\r\n                        femaleBMI: item.female? item.female.bmiIndex: \"\",\r\n                    }\r\n                    arr.push(obj);\r\n                })\r\n                setSchoolInfoList(result.data);\r\n            }\r\n        })\r\n        \r\n    }, [currentTerm, currentClass, currentGrade, userIdentity, reflash]);\r\n    useLayoutEffect(() => {\r\n        //领导端获取年级学生身高体重分布图\r\n        if(userIdentity != \"manager\" || currentGrade || currentClass){\r\n            return;\r\n        }\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm && currentTerm.value? JSON.parse(currentTerm.value): {};\r\n        //获取学生的身高体重的变化情况和BMI波动情况\r\n        let url = BasicProxy + \"/api/healthy/studentHealthInfo/leader/distribution?classId=&gradeId=\" +\r\n        \"&periodType=1\" +\r\n        \"&gender=\" + currentGender +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + (currentTermInfo.startDate? currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&endDate=\" + (currentTermInfo.endDate? currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setLeaderInfoList(result.data);\r\n            }\r\n        })\r\n        //获取目前平均身高体重信息\r\n        url = BasicProxy + \"/api/healthy/studentHealthInfo/leader/listLatest?classId=&gradeId=\" +\r\n        \"&gender=\" + currentGender +\r\n        \"&schoolId=\" + SchoolID +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + (currentTermInfo.startDate? currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&endDate=\" + (currentTermInfo.endDate? currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setLeaderPositionList(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, userIdentity, currentGender, SchoolID, reflash]);\r\n    useEffect(() => {\r\n        if(userIdentity == \"student\"){\r\n            return;\r\n        }\r\n        if((currentClass || currentGrade) && (!data.avgInfo || !Array.isArray(data.avgInfo.healthyInfoList) ||\r\n        data.avgInfo.healthyInfoList.length == 0)){\r\n            return;\r\n        }\r\n        if(!currentGrade && !currentClass && leaderPositionList.length == 0){\r\n            return;\r\n        }\r\n        let dataList = [];\r\n        if(currentClass || currentGrade){\r\n            data.avgInfo && Array.isArray(data.avgInfo.healthyInfoList) &&\r\n            data.avgInfo.healthyInfoList.length > 0 &&\r\n            data.avgInfo.healthyInfoList.forEach((item)=>{\r\n                let arr = [item.height.toFixed(1), item.weight.toFixed(1), item.userName];\r\n                dataList.push(arr);\r\n            })\r\n        } else {\r\n            leaderPositionList.forEach((item)=>{\r\n                let arr = [item.height.toFixed(1), item.weight.toFixed(1), item.userName];\r\n                dataList.push(arr);\r\n            })\r\n        }\r\n        \r\n        let myEchart = echarts.init(document.getElementById(\"class-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '班级学生身高体重分布图',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: 40\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                appendToBody: true,\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = \"\";\r\n                    params.forEach((item)=>{\r\n                        let userData = item.value;\r\n                        str += `\r\n                        <span \r\n                        style=\"\r\n                        display: inline-block; \r\n                        width: 100%; \r\n                        color: #fffd64; \r\n                        margin-bottom: -5px;\r\n                        text-overflow: ellipsis; \r\n                        overflow: hidden; \r\n                        white-space: nowrap;\">${userData[2]}</span><br/>`;\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">身高: ${userData[0]}cm, </span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">体重: ${userData[1]}kg</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            xAxis: {\r\n                name: '体重kg',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                name: '身高cm',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 40]\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            series: [{\r\n                symbolSize: 11,\r\n                itemStyle: {\r\n                  color: '#04c8a1'  \r\n                },\r\n                data: dataList,\r\n                type: 'scatter'\r\n            }]\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [userIdentity, data, leaderPositionList])\r\n    useEffect(() => { \r\n        if(infoList.length == 0 && leaderLnfoList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], heightList = [], weightList = [];\r\n        if(currentClass || currentGrade){\r\n            infoList.forEach((item)=>{\r\n                xList.push(item.recordTime && item.recordTime.substr(0, 10));\r\n                heightList.push(typeof item.height == \"number\"? item.height.toFixed(1): \"--\");\r\n                weightList.push(typeof item.weight == \"number\"? item.weight.toFixed(1): \"--\");\r\n            })\r\n        } else {\r\n            leaderLnfoList.forEach((item)=>{\r\n                xList.push(item.date);\r\n                heightList.push(typeof item.averageHeight == \"number\"? item.averageHeight.toFixed(1): \"--\");\r\n                weightList.push(typeof item.averageWeight == \"number\"? item.averageWeight.toFixed(1): \"--\");\r\n            })\r\n        }\r\n        \r\n        let myEchart = echarts.init(document.getElementById(\"high-weight-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '身高体重变化',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 115,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                // axisPointer: {\r\n                //     type: 'shadow'\r\n                // },\r\n                appendToBody: true,\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: 'center',\r\n                data:['身高','体重'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: [{\r\n                type: 'value',\r\n                name: '身高cm',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 40]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                }\r\n            },{\r\n                type: 'value',\r\n                name: '体重kg',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 40, 0, 0]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            }],\r\n            series: [\r\n                {\r\n                    name:'身高',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#358bff',\r\n                        width: 1\r\n                    },\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: '#358bff',\r\n                            opacity: 0\r\n                        },\r\n                        emphasis:{ // 鼠标经过时：\r\n                            color: 'white',\r\n                            borderWidth: 3,\r\n                            borderColor: '#358bff',\r\n                            opacity: 1\r\n                        }\r\n                    },\r\n                    symbolSize: 8,\r\n                    symbol: 'circle',\r\n                    // smooth: true,\r\n                    data:heightList\r\n                },\r\n                {\r\n                    name:'体重',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#009900',\r\n                        width: 1\r\n                    },\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: '#009900',\r\n                            opacity: 0\r\n                        },\r\n                        emphasis:{ // 鼠标经过时：\r\n                            color: 'white',\r\n                            borderWidth: 3,\r\n                            borderColor: '#009900',\r\n                            opacity: 1\r\n                        }\r\n                    },\r\n                    symbolSize: 8,\r\n                    symbol: 'circle',\r\n                    // smooth: true,\r\n                    data:weightList\r\n                },\r\n            ]\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [infoList, leaderLnfoList]);\r\n    useEffect(() => { \r\n        if(infoList.length == 0 && leaderLnfoList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], heightList = [], weightList = [], BMIList = [];\r\n        if(currentClass || currentGrade){\r\n            infoList.forEach((item)=>{\r\n                xList.push(item.recordTime && item.recordTime.substr(0, 10));\r\n                BMIList.push(item.bmiIndex.toFixed(1));\r\n            })\r\n        } else {\r\n            leaderLnfoList.forEach((item)=>{\r\n                xList.push(item.date);\r\n                BMIList.push(item.bmiIndex.toFixed(1));\r\n            })\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"BMI-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: 'BMI波动情况',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 115,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                appendToBody: true,\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: 'center',\r\n                // data:['个人','标准下限','标准上限'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '时间',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: 'BMI值',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: [\r\n                {\r\n                    name: userIdentity == \"student\"? '个人': currentClass? '班级': '年级',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#358bff',\r\n                        width: 1\r\n                    },\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: '#358bff',\r\n                            opacity: 0\r\n                        },\r\n                        emphasis:{ // 鼠标经过时：\r\n                            color: 'white',\r\n                            borderWidth: 3,\r\n                            borderColor: '#358bff',\r\n                            opacity: 1\r\n                        }\r\n                    },\r\n                    symbolSize: 8,\r\n                    symbol: 'circle',\r\n                    // smooth: true,\r\n                    data:BMIList\r\n                },\r\n                // {\r\n                //     name:'标准下限',\r\n                //     type:'line',\r\n                //     lineStyle: {\r\n                //         color: '#ff0000',\r\n                //         width: 1\r\n                //     },\r\n                //     itemStyle: {\r\n                //         normal: {\r\n                //             color: '#ff0000',\r\n                //             opacity: 0\r\n                //         },\r\n                //         emphasis:{ // 鼠标经过时：\r\n                //             color: 'white',\r\n                //             borderWidth: 3,\r\n                //             borderColor: '#ff0000',\r\n                //             opacity: 1\r\n                //         }\r\n                //     },\r\n                //     symbolSize: 8,\r\n                //     symbol: 'circle',\r\n                //     // smooth: true,\r\n                //     data:[4, 4, 4, 4, 3]\r\n                // },\r\n                // {\r\n                //     name:'标准上限',\r\n                //     type:'line',\r\n                //     lineStyle: {\r\n                //         color: '#009900',\r\n                //         width: 1\r\n                //     },\r\n                //     itemStyle: {\r\n                //         normal: {\r\n                //             color: '#009900',\r\n                //             opacity: 0\r\n                //         },\r\n                //         emphasis:{ // 鼠标经过时：\r\n                //             color: 'white',\r\n                //             borderWidth: 3,\r\n                //             borderColor: '#009900',\r\n                //             opacity: 1\r\n                //         }\r\n                //     },\r\n                //     symbolSize: 8,\r\n                //     symbol: 'circle',\r\n                //     // smooth: true,\r\n                //     data:[1, 1, 1, 0, 3]\r\n                // },\r\n            ]\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [infoList, leaderLnfoList]);\r\n    let tableHeader = [\r\n        {\r\n            title: '年级',\r\n            key: 'gradeName',\r\n            dataIndex: 'gradeName',\r\n            width: '14.4%',\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: '男生平均身高(cm)',\r\n            key: 'maleHeight',\r\n            dataIndex: 'maleHeight',\r\n            width: '14.4%',\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: '男生平均体重(kg)',\r\n            key: 'maleWeight',\r\n            dataIndex: 'maleWeight',\r\n            width: '14.4%',\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: 'BMI(男)',\r\n            key: 'maleBMI',\r\n            dataIndex: 'maleBMI',\r\n            width: '14.4%',\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: '女生平均身高(cm)',\r\n            key: 'femaleHeight',\r\n            dataIndex: 'femaleHeight',\r\n            width: '14.4%',\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: '女生平均体重(kg)',\r\n            key: 'femaleWeight',\r\n            dataIndex: 'femaleWeight',\r\n            width: '14.4%',\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: 'BMI(女)',\r\n            key: 'femaleBMI',\r\n            dataIndex: 'femaleBMI',\r\n            width: '14.4%',\r\n            ellipsis: true\r\n        }\r\n    ]\r\n    let Total = schoolInfoList.length;\r\n    let paginationObj = Total > 8?{\r\n        total: Total,\r\n        showQuickJumper: false,\r\n        showSizeChanger: false,\r\n        current: currentIndex,\r\n        position: ['bottomCenter'],\r\n        pageSize: 8,\r\n        onChange: (pageIndex)=>setCurrentIndex(pageIndex)\r\n    }:false;\r\n    return (\r\n      <div className=\"health-base-info\">\r\n          {\r\n            userIdentity == 'manager' && !currentClass && !currentGrade?\r\n            <Table\r\n                dataSource={schoolInfoList}\r\n                columns={tableHeader}\r\n                rowClassName=\"rows\"\r\n                pagination={paginationObj}\r\n                className={\"health-table \" + (Total > 8? \"table-min\": \"\")}\r\n            ></Table>:\r\n            <div className=\"show-top\">\r\n                <div className=\"info-show-one blue\">\r\n                    <i className=\"cardlogo\"></i>\r\n                    <p className=\"info-status\">\r\n                        身高:\r\n                        <span>{data.baseInfo? \r\n                         userIdentity == \"manager\"?\r\n                         currentClass?\r\n                         data.avgInfo.classAverageHeight?\r\n                         data.avgInfo.classAverageHeight.toFixed(1) + \"cm\":\r\n                         \"--\":\r\n                         data.avgInfo.gradeAverageHeight?\r\n                         data.avgInfo.gradeAverageHeight.toFixed(1) + \"cm\":\r\n                         \"--\":\r\n                         userIdentity == \"teacher\"?\r\n                         data.avgInfo.classAverageHeight?\r\n                         data.avgInfo.classAverageHeight.toFixed(1) + \"cm\":\r\n                         \"--\":\r\n                         data.baseInfo.height?\r\n                         data.baseInfo.height.toFixed(1) + \"cm\": \r\n                         \"--\":\r\n                         \"--\"}</span>\r\n                    </p>\r\n                    {\r\n                        userIdentity == \"student\"?\r\n                        <p className=\"info-avg\">\r\n                            班级平均: \r\n                            <span>{data.avgInfo? data.avgInfo.classAverageHeight.toFixed(1) + \"cm\": \"--\"}</span>;\r\n                            年级平均: \r\n                            <span>{data.avgInfo? data.avgInfo.gradeAverageHeight.toFixed(1) + \"cm\": \"--\"}</span>\r\n                        </p>:\r\n                        userIdentity == \"teacher\" || currentClass?\r\n                        <p className=\"info-avg\">\r\n                            年级平均: \r\n                            <span>{data.avgInfo? data.avgInfo.gradeAverageHeight.toFixed(1) + \"cm\": \"--\"}</span>\r\n                        </p>:\r\n                        \"\"\r\n                    }\r\n                    \r\n                </div>\r\n                <div className=\"info-show-one green\">\r\n                    <i className=\"cardlogo\"></i>\r\n                    <p className=\"info-status\">\r\n                        体重:\r\n                        <span>{data.baseInfo? \r\n                         userIdentity == \"manager\"?\r\n                         currentClass?\r\n                         data.avgInfo.classAverageWeight?\r\n                         data.avgInfo.classAverageWeight.toFixed(1) + \"kg\":\r\n                         \"--\":\r\n                         data.avgInfo.gradeAverageWeight?\r\n                         data.avgInfo.gradeAverageWeight.toFixed(1) + \"kg\":\r\n                         \"--\":\r\n                         userIdentity == \"teacher\"?\r\n                         data.avgInfo.classAverageWeight?\r\n                         data.avgInfo.classAverageWeight.toFixed(1) + \"kg\":\r\n                         \"--\":\r\n                         data.baseInfo.weight?\r\n                         data.baseInfo.weight.toFixed(1) + \"kg\":\r\n                         \"--\":\r\n                         \"--\"}</span>\r\n                    </p>\r\n                    {\r\n                        userIdentity == \"student\"?\r\n                        <p className=\"info-avg\">\r\n                            班级平均: \r\n                            <span>{data.avgInfo? data.avgInfo.classAverageWeight.toFixed(1) + \"kg\": \"--\"}</span>;\r\n                            年级平均: \r\n                            <span>{data.avgInfo? data.avgInfo.gradeAverageWeight.toFixed(1) + \"kg\": \"--\"}</span>\r\n                        </p>:\r\n                        userIdentity == \"teacher\" || currentClass?\r\n                        <p className=\"info-avg\">\r\n                            年级平均: \r\n                            <span>{data.avgInfo? data.avgInfo.gradeAverageWeight.toFixed(1) + \"kg\": \"--\"}</span>\r\n                        </p>:\r\n                        \"\"\r\n                    }\r\n                    \r\n                </div>\r\n                <div className=\"info-show-one orange\">\r\n                    <i className=\"cardlogo\"></i>\r\n                    <p className=\"info-status\">\r\n                        BMI:\r\n                        <span>{data.baseInfo?\r\n                            userIdentity == \"manager\"?\r\n                            currentClass?\r\n                            data.avgInfo.classAverageHeight?\r\n                            (data.avgInfo.classAverageWeight/data.avgInfo.classAverageHeight*2).toFixed(1):\r\n                            \"0.0\":\r\n                            data.avgInfo.gradeAverageHeight?\r\n                            (data.avgInfo.gradeAverageWeight/data.avgInfo.gradeAverageHeight*2).toFixed(1):\r\n                            \"0.0\":\r\n                            userIdentity == \"teacher\"?\r\n                            data.avgInfo.classAverageHeight?\r\n                            (data.avgInfo.classAverageWeight/data.avgInfo.classAverageHeight*2).toFixed(1):\r\n                            \"0.0\":\r\n                            data.baseInfo.bmiIndex.toFixed(1): \"--\"}</span>\r\n                        <i className=\"querylogo\" title=\"体质指数(BMI)=体重(kg)/身高*2(m)\"></i>\r\n                    </p>\r\n                    {\r\n                        userIdentity == \"student\"?\r\n                        <p className=\"info-avg\">\r\n                            班级平均: \r\n                            <span>\r\n                            {\r\n                                data.avgInfo? \r\n                                data.avgInfo.classAverageHeight?\r\n                                (data.avgInfo.classAverageWeight/((data.avgInfo.classAverageHeight/100)*2)).toFixed(1):\r\n                                \"0.0\":\r\n                                \"--\"\r\n                            }\r\n                            </span>;\r\n                            年级平均: \r\n                            <span>\r\n                            {\r\n                                data.avgInfo? \r\n                                data.avgInfo.gradeAverageHeight?\r\n                                (data.avgInfo.gradeAverageWeight/((data.avgInfo.gradeAverageHeight/100)*2)).toFixed(1):\r\n                                \"0.0\":\r\n                                \"--\"\r\n                            }\r\n                            </span>\r\n                        </p>:\r\n                        userIdentity == \"teacher\" || currentClass?\r\n                        <p className=\"info-avg\">\r\n                            年级平均: \r\n                            <span>\r\n                            {\r\n                                data.avgInfo? \r\n                                data.avgInfo.gradeAverageHeight?\r\n                                (data.avgInfo.gradeAverageWeight/((data.avgInfo.gradeAverageHeight/100)*2)).toFixed(1):\r\n                                \"0.0\":\r\n                                \"--\"\r\n                            }\r\n                            </span>\r\n                        </p>:\r\n                        \"\"\r\n                    }\r\n                    \r\n                </div>\r\n            </div>\r\n          }\r\n          {\r\n            userIdentity == 'manager' && !currentClass && !currentGrade?\r\n            <div>\r\n                 <div className=\"select-container\">\r\n                    <span>性别:</span>\r\n                    <Select defaultValue=\"-1\" className=\"select\" onChange={(value)=>setCurrentGender(value)}>\r\n                        <Option value=\"-1\">全部</Option>\r\n                        <Option value=\"0\">男</Option>\r\n                        <Option value=\"1\">女</Option>\r\n                    </Select>\r\n                </div>\r\n                {/* <div className=\"select-container\">\r\n                    <span>年级:</span>\r\n                    <Select defaultValue=\"one\" className=\"select\">\r\n                        <Option value=\"one\">一年级</Option>\r\n                    </Select>\r\n                </div> */}\r\n            </div>:\r\n            \"\"    \r\n          }\r\n          {\r\n            infoList.length > 0 || leaderLnfoList.length > 0?\r\n            <div className=\"show-bottom\" style={{backgroundColor: (userIdentity == 'student'? \"#f5f5f5\": \"white\")}}>\r\n        \r\n                <div className=\"high-weight-echart\" id=\"high-weight-echart\"></div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"BMI-echart\" id=\"BMI-echart\"></div>\r\n            </div>:\r\n            <Empty\r\n            // className={\"bar-empty\"}\r\n            style={{margin: \"20px 0\"}}\r\n            title={\"暂无数据\"}\r\n            type={\"4\"}\r\n            ></Empty>\r\n          }\r\n          \r\n          {\r\n            userIdentity == 'student'?\r\n            \"\":\r\n            data.avgInfo &&\r\n            Array.isArray(data.avgInfo.healthyInfoList) &&\r\n            data.avgInfo.healthyInfoList.length > 0 || leaderPositionList.length > 0?\r\n            <div className=\"class-position-echart\" id=\"class-position-echart\"></div>\r\n            :\r\n            infoList.length > 0 || leaderLnfoList.length > 0?\r\n            <Empty\r\n            // className={\"bar-empty\"}\r\n            style={{margin: \"20px 0\"}}\r\n            title={\"暂无数据\"}\r\n            type={\"4\"}\r\n            ></Empty>:\r\n            \"\"\r\n          }\r\n            \r\n      </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n  }\r\nexport default connect(mapStateToProps)(memo(forwardRef(HealthBaseMsg)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\n// import echarts from \"echarts\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport {Select} from \"antd\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {\r\n    Option\r\n} = Select;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction DetailHealth(props, ref) {\r\n    let {\r\n        sickInfo,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        currentTerm,\r\n        userInfo: {UserID, SchoolID},\r\n        temperatureInfo,\r\n        reflash\r\n    } = props;\r\n    const [currentDataType, setCurrentDataType] = useState(\"3\");\r\n    const [temType, setTemType] = useState(1);\r\n    const [sickList, setSickList] = useState([]);\r\n    const [temperatureList, setTemperatureList] = useState([]);\r\n    useLayoutEffect(()=>{\r\n        //获取体温数据\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && !UserID){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取体温的统计信息\r\n        let url = BasicProxy + \"/api/healthy/temperature/abnormalCountWithPeriod?id=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            userIdentity == \"teacher\"?\r\n            currentClass:\r\n            userIdentity == \"manager\"?\r\n            currentClass?\r\n            currentClass:\r\n            currentGrade?\r\n            currentGrade:\r\n            SchoolID:\r\n            \"\"\r\n        ) +\r\n        \"&queryType=\" + (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            currentClass?\r\n            2:\r\n            currentGrade?\r\n            3:\r\n            4\r\n        ) +\r\n        \"&periodType=\" + temType +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setTemperatureList(result.data);\r\n            }\r\n        })\r\n    }, [currentGrade, currentClass, currentTerm, userIdentity, reflash, temType]);\r\n    useLayoutEffect(()=>{\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && !UserID){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取次数和时长的统计信息\r\n        let url = BasicProxy + \"/api/healthy/leave/distribution?id=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            userIdentity == \"teacher\"?\r\n            currentClass:\r\n            userIdentity == \"manager\"?\r\n            currentClass?\r\n            currentClass:\r\n            currentGrade?\r\n            currentGrade:\r\n            SchoolID:\r\n            \"\"\r\n        ) +\r\n        \"&queryType=\" + (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            currentClass?\r\n            2:\r\n            currentGrade?\r\n            3:\r\n            4\r\n        ) +\r\n        \"&periodType=1\" +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setSickList(result.data);\r\n            }\r\n        })\r\n    }, [currentGrade, currentClass, currentTerm, userIdentity, reflash]);\r\n    useEffect(() => { \r\n        if(temperatureList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], myList = [];\r\n        temperatureList.forEach((item)=>{\r\n            xList.push(item.date);\r\n            myList.push(item.averageTemperature.toFixed(1));\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"temperature-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '体温记录',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 80,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                // axisPointer: {\r\n                //     type: 'shadow'\r\n                // }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 25\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: [{\r\n                type: 'value',\r\n                name: '体温/℃',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 40]\r\n                },\r\n                min: 35,\r\n                max: 42,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                }\r\n            },{\r\n                type: 'value',\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            }],\r\n            series: [\r\n                {\r\n                    name:'体温',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#358bff',\r\n                        width: 1\r\n                    },\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: '#358bff',\r\n                            opacity: 0\r\n                        },\r\n                        emphasis:{ // 鼠标经过时：\r\n                            color: 'white',\r\n                            borderWidth: 3,\r\n                            borderColor: '#358bff',\r\n                            opacity: 1\r\n                        }\r\n                    },\r\n                    symbolSize: 8,\r\n                    symbol: 'circle',\r\n                    // smooth: true,\r\n                    data:myList\r\n                }\r\n            ]\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [temperatureList, userIdentity]);\r\n    //病假时长和次数图表\r\n    useEffect(() => { \r\n        if(sickList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], countList = [], timesList = [];\r\n        sickList.forEach((item)=>{\r\n            xList.push(item.date);\r\n            if(userIdentity == \"student\"){\r\n                countList.push(item.studentAverageDuration);\r\n                timesList.push(item.studentAverageCount);\r\n            }\r\n            if(userIdentity == \"teacher\"){\r\n                countList.push(item.classAverageDuration);\r\n                timesList.push(item.classAverageCount);\r\n            }\r\n            if(userIdentity == \"manager\"){\r\n                countList.push(item.gradeAverageDuration);\r\n                timesList.push(item.gradeAverageCount);\r\n            }\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"askleave-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '病假次数与时长',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 115,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `<span style=\"color: #fffd64\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">\r\n                        ${item.value}${item.seriesName == \"次数\"? \"次\": \"h\"}\r\n                        </span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: 'center',\r\n                data:['次数','时长'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 25\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: [{\r\n                type: 'value',\r\n                name: '次数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },{\r\n                type: 'value',\r\n                name: '时长/h',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 40, 0, 0]\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            }],\r\n            series: [\r\n                {\r\n                    name:'时长',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#22a814',\r\n                        width: 1,\r\n                        borderColor: '#22a814',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#22a814'\r\n                    },\r\n                    data:countList\r\n                },\r\n                {\r\n                    name:'次数',\r\n                    type:'bar',\r\n                    barWidth : 24,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:timesList\r\n                }       \r\n            ]\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [userIdentity, sickList]);\r\n\r\n    return (\r\n        <div className=\"detail-health\">\r\n            <div className=\"show-top\">\r\n                <div className=\"temperature-info\">\r\n                    <div className=\"temperature-avg\">\r\n                        <div className=\"circle blue\" title={typeof temperatureInfo.averageTemperature == \"number\"? \r\n                             temperatureInfo.averageTemperature.toFixed(1) + \"℃\":\r\n                             \"--\"\r\n                            }>\r\n                            {typeof temperatureInfo.averageTemperature == \"number\"? \r\n                             temperatureInfo.averageTemperature.toFixed(1) + \"℃\":\r\n                             \"--\"\r\n                            }\r\n                        </div>\r\n                        <p>平均体温</p>\r\n                    </div>\r\n                    <div className=\"temperature-warn-count\">\r\n                        <div className=\"circle orange\" title={typeof temperatureInfo.abNormalCount == \"number\"? \r\n                             temperatureInfo.abNormalCount:\r\n                             \"--\"\r\n                        }>\r\n                        {typeof temperatureInfo.abNormalCount == \"number\"? \r\n                             temperatureInfo.abNormalCount:\r\n                             \"--\"\r\n                        }\r\n                        </div>\r\n                        <p>异常体温次数</p>\r\n                    </div>\r\n                    <div className=\"temperature-warn-rate\">\r\n                        <div className=\"circle red\" title={typeof temperatureInfo.abNormalRate == \"number\"? \r\n                             parseInt(temperatureInfo.abNormalRate*100) + \"%\":\r\n                             \"--\"\r\n                        }>\r\n                        {typeof temperatureInfo.abNormalRate == \"number\"? \r\n                             parseInt(temperatureInfo.abNormalRate*100) + \"%\":\r\n                             \"--\"\r\n                        }\r\n                        \r\n                        </div>\r\n                        <p>异常体温率</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"askleave-info\">\r\n                    <div className=\"askleave-count\">\r\n                        <div className=\"circle violet\" title={typeof sickInfo.sickRecordCount == \"number\"?\r\n                             sickInfo.sickRecordCount: \"--\"}>\r\n                            {typeof sickInfo.sickRecordCount == \"number\"?\r\n                             sickInfo.sickRecordCount: \"--\"}\r\n                        </div>\r\n                        <p>病假次数</p>\r\n                    </div>\r\n                    <div className=\"askleave-time\">\r\n                        <div className=\"circle pink\" title={typeof sickInfo.sickRecordDuration == \"number\"?\r\n                             sickInfo.sickRecordDuration + \"h\": \"--\"}>\r\n                            {typeof sickInfo.sickRecordDuration == \"number\"?\r\n                             sickInfo.sickRecordDuration + \"h\": \"--\"}\r\n                        </div>\r\n                        <p>病假时长</p>\r\n                    </div>\r\n                    <div className=\"askleave-rate\">\r\n                        <div className=\"circle green\" title={typeof sickInfo.sickRecordCount == \"number\"? sickInfo.totalCount?\r\n                             (parseInt(sickInfo.sickRecordCount / sickInfo.totalCount)*100) + \"%\": 0: \"--\"}>\r\n                            {typeof sickInfo.sickRecordCount == \"number\"? sickInfo.totalCount?\r\n                             (parseInt(sickInfo.sickRecordCount / sickInfo.totalCount)*100) + \"%\": 0: \"--\"}\r\n                        </div>\r\n                        <p>病假率</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"show-bottom\">\r\n                    {\r\n                        temperatureList.length > 0?\r\n                        <div className=\"echart-container\">\r\n                            <Select defaultValue=\"1\" className=\"select\" onChange={(value)=>{setTemType(value)}}>\r\n                                <Option value=\"3\">按天数</Option>\r\n                                <Option value=\"2\">按周次</Option>\r\n                                <Option value=\"1\">按月份</Option>\r\n                            </Select>\r\n                            <div className=\"temperature-echart\" id=\"temperature-echart\"></div>\r\n                        </div>:\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\", width: \"calc(50% - 1px)\", display: \"inline-block\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                    \r\n                    <div className=\"slice-line\"></div>\r\n                    {\r\n                        sickList.length > 0?\r\n                        <div className=\"askleave-echart\" id=\"askleave-echart\"></div>:\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\", width: \"calc(50% - 1px)\", display: \"inline-block\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                    \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash, userInfo },\r\n    } = state;\r\n    return { levelHash, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(DetailHealth)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport { Progress } from \"antd\";\r\n// import echarts from \"echarts\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction TestStatus(props, ref) {\r\n    let {\r\n        userIdentity,\r\n        testAvg,\r\n        projectList,\r\n        currentTerm,\r\n        currentClass,\r\n        currentGrade,\r\n        reflash,\r\n        userInfo: {UserID, SchoolID}\r\n    } = props;\r\n    const [subjectList, setSubjectList] = useState([]);\r\n    const [currentSubject, setCurrentSubject] = useState({});\r\n    const [echartList, setEchartList] = useState([]);\r\n    let colorList = [\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#1da4fe'\r\n        },{\r\n            offset: 1,\r\n            color: '#7ecbff'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#51ca51'\r\n        },{\r\n            offset: 1,\r\n            color: '#a0dea0'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#F79750'\r\n        },{\r\n            offset: 1,\r\n            color: '#FFB681'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#2D3149'\r\n        },{\r\n            offset: 1,\r\n            color: '#363D71'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#E84956'\r\n        },{\r\n            offset: 1,\r\n            color: '#E9707A'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#6E54CC'\r\n        },{\r\n            offset: 1,\r\n            color: '#7E90E9'\r\n        }])\r\n    ]\r\n    useLayoutEffect(() => {\r\n        //获取体测成绩数据\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && !UserID){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取体测项目列表\r\n        let url = BasicProxy + \"/api/healthy/physicalTest/project/list\";\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setSubjectList(result.data);\r\n                result.data[0] && setCurrentSubject(result.data[0])\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, userIdentity, UserID, reflash]);\r\n    useLayoutEffect(() => {\r\n        //获取体测图表数据\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            return;\r\n        }\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && !UserID){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value? JSON.parse(currentTerm.value): {};\r\n        //获取体测项目列表\r\n        let url = BasicProxy + \"/api/healthy/physicalTest/score/distribution?id=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            userIdentity == \"teacher\"?\r\n            currentClass:\r\n            userIdentity == \"manager\"?\r\n            currentGrade:\r\n            currentGrade\r\n        ) +\r\n        \"&queryType=\" + (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            userIdentity == \"manager\"?\r\n            3:\r\n            3\r\n        ) +\r\n        \"&projectId=\" +( currentSubject.subjectId? currentSubject.subjectId: \"\") +\r\n        \"&periodType=1\" + \r\n        \"&startDate=\" + (currentTermInfo.startDate?currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&endDate=\" + (currentTermInfo.endDate?currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setEchartList(result.data);\r\n            }\r\n        })\r\n    }, [currentSubject, userIdentity, currentTerm, currentClass, currentGrade, UserID, reflash]);\r\n    useLayoutEffect(() => {\r\n        //领导端获取体测图表数据\r\n        if(userIdentity != \"manager\" || currentGrade || currentClass){\r\n            return;\r\n        }\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm && currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取体测项目列表\r\n        let url = BasicProxy + \"/api/healthy/physicalTest/leader/score/totalScore?schoolId=\" + SchoolID +\r\n        \"&classId=&gradeId=\" +\r\n        \"&subjectId=\" +( currentSubject.subjectId? currentSubject.subjectId: \"\") +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setEchartList(result.data);\r\n            }\r\n        })\r\n    }, [currentSubject, userIdentity, currentTerm, currentClass, currentGrade, reflash]);\r\n    useEffect(() => { \r\n        if(echartList.length == 0 || subjectList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [];\r\n        let myEchart = echarts.init(document.getElementById(\"test-kind-echart\"));\r\n        myEchart.resize();\r\n        let seriesList = [], legendList = [];\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            echartList.forEach((item, index)=>{\r\n                xList.push(item.subject? item.subject.subjectName: \"\");\r\n                let arr = [];\r\n                Array.isArray(item.gradeSubjectScoreList) &&\r\n                item.gradeSubjectScoreList.forEach((child)=>{\r\n                    legendList.push(child.gradeInfo? child.gradeInfo.gradeName: \"\");\r\n                    arr.push(child.average);\r\n                })\r\n                seriesList = [\r\n                    {\r\n                        // name:'一年级',\r\n                        type:'bar',\r\n                        // barWidth: 16,\r\n                        itemStyle: {\r\n                            color: colorList[index%6]\r\n                        },\r\n                        data:arr\r\n                    },\r\n                ]\r\n            })\r\n        } else {\r\n            let classList = [], gradeList = [], myList = [];\r\n            echartList.forEach((item)=>{\r\n                xList.push(item.date);\r\n                classList.push(item.classAverage.toFixed(1));\r\n                gradeList.push(item.gradeAverage.toFixed(1));\r\n                myList.push(item.studentScore.toFixed(1));\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                // {\r\n                //     name:'最高分',\r\n                //     type:'line',\r\n                //     lineStyle: {\r\n                //         color: '#f18a1a',\r\n                //         width: 1,\r\n                //         borderColor: '#f18a1a',\r\n                //         emphasis: {\r\n                //             width: 1\r\n                //         }\r\n                //     },\r\n                //     itemStyle: {\r\n                //         color: '#f18a1a'\r\n                //     },\r\n                //     data:[1, 1, 1, 0, 3]\r\n                // },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        }\r\n        let option = {\r\n            title: {\r\n                text: '体测项目对比',\r\n                left: 'center',\r\n                top: '35px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 110,\r\n                bottom: xList.length > 8? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '65px',\r\n                left: 'center',\r\n                data: userIdentity == \"manager\" && !currentGrade && !currentClass? legendList: [],\r\n                // data:['个人', '最高分', '班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 8? true: false,\r\n                maxValueSpan: 7,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '分数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentSubject, currentTerm, currentClass, currentGrade, userIdentity, echartList]);\r\n\r\n    return (\r\n        <div className=\"test-status\">\r\n            <div className=\"show-top\">\r\n                <div className=\"test-avg\">\r\n                    <Progress \r\n                    type=\"circle\" \r\n                    percent={\r\n                        userIdentity == \"student\"?\r\n                        testAvg.averageScore:\r\n                        userIdentity == \"teacher\"?\r\n                        testAvg.classAverageScore:\r\n                        currentClass?\r\n                        testAvg.classAverageScore:\r\n                        currentGrade?\r\n                        testAvg.gradeAverageScore:\r\n                        testAvg.schoolAverageScore\r\n                    }\r\n                    format={(percent)=>percent}\r\n                    width={92}\r\n                    className=\"progress\"\r\n                    strokeColor=\"#8fdb66\" />\r\n                    <p>体测平均分</p>\r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"test-kind-list\">\r\n                    <Scrollbars>\r\n                        {\r\n                            Array.isArray(projectList) && projectList.map((item, index)=>{\r\n                                let score = userIdentity == \"student\"?\r\n                                item.studentAverageScore:\r\n                                userIdentity == \"teacher\"?\r\n                                item.classAverageScore:\r\n                                currentClass?\r\n                                item.classAverageScore:\r\n                                currentGrade?\r\n                                item.gradeAverageScore:\r\n                                item.schoolAverageScore;\r\n                                return (\r\n                                    <div className={\r\n                                        score >= 90 ? \"good\":\r\n                                        score >= 80 && score < 90? \"common\":\r\n                                        score >= 70 && score < 80? \"pass\":\r\n                                        \"bad\"\r\n                                    } key={index}>\r\n                                        <i className=\"test-kind-rank\"></i>\r\n                                        <p>评分: {score.toFixed(1)}</p>\r\n                                        <p className=\"test-kind-name\" title={item.testProject.subjectName}>\r\n                                            {item.testProject.subjectName}\r\n                                        </p>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Scrollbars>\r\n                    \r\n                </div>\r\n            </div>\r\n            {\r\n                subjectList.length > 0?\r\n                <div className=\"show-bottom\">\r\n                    <div className=\"kind-list\">\r\n                        <span>项目:</span>\r\n                        {\r\n                            subjectList.map((item, index)=>{\r\n                                return (\r\n                                    <span key={index} onClick={()=>setCurrentSubject(item.subjectId)}>\r\n                                        <span \r\n                                        className={\"list-one \" + (currentSubject == item.subjectId? \"active\": \"\")}>\r\n                                            {item.subjectName}\r\n                                        </span>\r\n                                        {\r\n                                            index != subjectList.length - 1?\r\n                                            <span className=\"list-slice-line\"></span>:\r\n                                            \"\"\r\n                                        }\r\n                                    </span>\r\n                                    \r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <div className=\"test-kind-echart\" id=\"test-kind-echart\"></div>\r\n                </div>:\r\n                <Empty\r\n                // className={\"list-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }\r\n           \r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash, userInfo },\r\n    } = state;\r\n    return { levelHash, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(TestStatus)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport { Progress } from \"antd\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n\r\nfunction SportTest(props, ref) {\r\n    let {\r\n        userIdentity,\r\n        testAvg,\r\n        projectList,\r\n        currentTerm,\r\n        currentClass,\r\n        currentGrade,\r\n        reflash,\r\n        userInfo: {UserID, SchoolID}\r\n    } = props;\r\n    const colorList = ['#ffb487', '#879bff', '#67d4d8', '#ff8787', '#51c2fd'];\r\n    const [sportTestList, setSportTestList] = useState([]);\r\n    const [testSum, setTestSum] = useState(0);\r\n    useLayoutEffect(() => {\r\n        //获取体测成绩数据\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && !UserID){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value? JSON.parse(currentTerm.value): {};\r\n        //获取体测中考项目列表及成绩\r\n        let url = BasicProxy + \"/api/healthy/hee/highSchoolEntranceExaminationSportsResults?studentId=\" +\r\n       (userIdentity == \"student\"?\r\n        UserID:\r\n        \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&startDate=\" + (currentTermInfo.startDate?currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&endDate=\" + (currentTermInfo.endDate?currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setSportTestList(result.data);\r\n            }\r\n        })\r\n        //获取中考成绩总分\r\n        url = BasicProxy + \"/api/healthy/hee/totalScoreAverage?studentId=\" +\r\n       (userIdentity == \"student\"?\r\n        UserID:\r\n        \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&startDate=\" + (currentTermInfo.startDate?currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&endDate=\" + (currentTermInfo.endDate?currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setTestSum(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, userIdentity, UserID, SchoolID, reflash]);\r\n    return (\r\n        <div className=\"sport-test\">\r\n            <div className=\"test-sum\">\r\n                <Progress \r\n                type=\"circle\" \r\n                percent={testSum? testSum: 0}\r\n                width={92}\r\n                format={(percent) => percent}\r\n                className=\"progress\"\r\n                strokeColor=\"#8fdb66\" />\r\n                <p>体育考试总分</p>\r\n            </div>\r\n            <div className=\"slice-line\"></div>\r\n            <div className=\"sport-project-list\">\r\n                <Scrollbars>\r\n                {\r\n                    sportTestList.map((item, index)=>{\r\n                        return (\r\n                        <div className=\"project-list-one\" key={index}>\r\n                            <span className=\"sport-project-name\">\r\n                                {\r\n                                    item.testName?\r\n                                    item.testName:\r\n                                    \"--\"\r\n                                }\r\n                            </span>\r\n                            <Progress\r\n                            status=\"active\"\r\n                            percent={\r\n                                typeof item.totalScore == \"number\"?\r\n                                parseInt((item.averageScore / item.totalScore)*100):\r\n                                0\r\n                            }\r\n                            strokeWidth={12}\r\n                            showInfo={false}\r\n                            className=\"sport-project-progress\"\r\n                            strokeColor=\"#49aaea\" />\r\n                            <span className=\"sport-project-grade\" style={{color: '#eb7833'}}>\r\n                                {typeof item.averageScore == \"number\"? item.averageScore: \"--\"}分</span>\r\n                            {/* <span className=\"avg-grade\">\r\n                                班级平均<span>17</span>分/\r\n                            </span>\r\n                            <span className=\"avg-grade\">\r\n                                年级平均<span>17</span>分\r\n                            </span> */}\r\n                        </div>\r\n                        )\r\n                    })\r\n                }\r\n                </Scrollbars>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash, userInfo },\r\n    } = state;\r\n    return { levelHash, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(SportTest)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport { Progress, Select } from \"antd\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nimport * as echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n\r\nfunction DetailExercise(props, ref) {\r\n    let {\r\n        userIdentity,\r\n        testAvg,\r\n        projectList,\r\n        currentTerm,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {UserID, SchoolID}\r\n    } = props;\r\n    //日常运动基本信息\r\n    const [detailInfo, setDetailInfo] = useState({});\r\n    const [currentDateType, setCurrentDateType] = useState('month');\r\n    useLayoutEffect(() => {\r\n        //获取体测成绩数据\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && !UserID){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value? JSON.parse(currentTerm.value): {};\r\n        //获取日常体育运动基本信息\r\n        let url = BasicProxy + \"/api/healthy/sports/dallySportsResults?studentId=\" +\r\n       (userIdentity == \"student\"?\r\n        UserID:\r\n        \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&startDate=\" + (currentTermInfo.startDate?currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&endDate=\" + (currentTermInfo.endDate?currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setDetailInfo(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, userIdentity, UserID, SchoolID]);\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"time-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 10,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '运动时间分布图',\r\n                left: 'center',\r\n                top: 'bottom',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.5, \r\n                r: 0.35, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '访问来源',\r\n                    type: 'pie',\r\n                    radius: ['25%', '60%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: [1, 2, 3, 4, 5]\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"place-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 10,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '运动时间分布图',\r\n                left: 'center',\r\n                top: 'bottom',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.5, \r\n                r: 0.35, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '访问来源',\r\n                    type: 'pie',\r\n                    radius: ['25%', '60%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: [1, 2, 3, 4, 5]\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"exercise-count-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '运动次数',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: '58%',\r\n                data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '月份',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: ['一月份','二月份','三月份','四月份','五月份'],\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '次数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:[1, 1, 1, 0, 3]\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                \r\n            ]\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"exercise-time-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '运动时长',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: '58%',\r\n                data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '月份',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: ['一月份','二月份','三月份','四月份','五月份'],\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '时长/h',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:[1, 1, 1, 0, 3]\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                \r\n            ]\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    return (\r\n        <div className=\"detail-exercise\">\r\n            <span className=\"exercise-info\">\r\n                体育课程:\r\n                <span>\r\n                {\r\n                   typeof detailInfo.classPerWeek == \"number\"?\r\n                   parseInt(detailInfo.classPerWeek) + \"次/周\":\r\n                   \"--\"\r\n                }\r\n                </span>\r\n            </span>\r\n            {/* <span className=\"exercise-info\">\r\n                早操:\r\n                <span>平均2次/d，共48次</span>\r\n            </span>\r\n            <span className=\"exercise-info\">\r\n                课间操:\r\n                <span>平均2次/d，共48次</span>\r\n            </span> */}\r\n            <span className=\"exercise-info\">\r\n                体育运动会:\r\n                <span>\r\n                {\r\n                   typeof detailInfo.schoolSportsMettingTimes == \"number\"?\r\n                   detailInfo.schoolSportsMettingTimes + \"次\":\r\n                   \"--\" \r\n                }\r\n                </span>\r\n            </span>\r\n            <div className=\"exercise-card-container\">\r\n                <div className=\"exercise-card time\">\r\n                    <i className=\"exerciselogo\"></i>\r\n                    <p>\r\n                        运动时长:\r\n                        <span>\r\n                        <span className=\"number-font\">\r\n                        {\r\n                            typeof detailInfo.sportTimeDayAVG == 'number' &&\r\n                            detailInfo.sportTimeDayAVG / 60 > 60?\r\n                            parseInt(detailInfo.sportTimeDayAVG / 60 / 60):\r\n                            \"\"\r\n                        }\r\n                        </span>\r\n                        <span>\r\n                        {\r\n                            typeof detailInfo.sportTimeDayAVG == 'number' &&\r\n                            detailInfo.sportTimeDayAVG / 60 > 60?\r\n                            'h':\r\n                            ''\r\n                        }\r\n                        </span>\r\n                        <span className=\"number-font\">\r\n                        {\r\n                            typeof detailInfo.sportTimeDayAVG == 'number'?\r\n                            detailInfo.sportTimeDayAVG / 60 > 60?\r\n                            parseInt(detailInfo.sportTimeDayAVG % 60 / 60):\r\n                            detailInfo.sportTimeDayAVG / 60 > 1?\r\n                            parseInt(detailInfo.sportTimeDayAVG / 60):\r\n                            \"\":\r\n                            \"\"\r\n                        }\r\n                        </span>\r\n                        <span>\r\n                        {\r\n                            typeof detailInfo.sportTimeDayAVG == 'number' &&\r\n                            detailInfo.sportTimeDayAVG / 60 > 1?\r\n                            'min':\r\n                            ''\r\n                        }\r\n                        </span>\r\n                        <span className=\"number-font\">\r\n                        {\r\n                            typeof detailInfo.sportTimeDayAVG == 'number'?\r\n                            detailInfo.sportTimeDayAVG / 3600 > 1?\r\n                            detailInfo.sportTimeDayAVG % 3600 > 60?\r\n                            parseInt(detailInfo.sportTimeDayAVG % 3600 / 60):\r\n                            parseInt(detailInfo.sportTimeDayAVG % 3600):\r\n                            detailInfo.sportTimeDayAVG / 60 > 1?\r\n                            parseInt(detailInfo.sportTimeDayAVG / 60):\r\n                            parseInt(detailInfo.sportTimeDayAVG):\r\n                            \"--\"\r\n                        }\r\n                        </span>\r\n                        s\r\n                        </span>\r\n                    </p>\r\n                    <p className=\"exercise-avg\">班级平均:10h; 年级平均:9h</p>\r\n                </div>\r\n                <div className=\"exercise-card count\">\r\n                    <i className=\"exerciselogo\"></i>\r\n                    <p>\r\n                        运动次数:\r\n                        <span>10h</span>\r\n                    </p>\r\n                    <p className=\"exercise-avg\">班级平均:10h; 年级平均:9h</p>\r\n                </div>\r\n                <div className=\"exercise-card frequency\">\r\n                    <i className=\"exerciselogo\"></i>\r\n                    <p>\r\n                        运动频率:\r\n                        <span>10h</span>\r\n                    </p>\r\n                    <p className=\"exercise-avg\">班级平均:10h; 年级平均:9h</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"exercise-pie-echart\">\r\n                <div className=\"time-position-echart\" id=\"time-position-echart\"></div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"place-position-echart\" id=\"place-position-echart\"></div>\r\n            </div>\r\n            <div className=\"select-container\">\r\n                <span>时间:</span>\r\n                <Select defaultValue=\"month\" className=\"select\" onChange={(value)=>setCurrentDateType(value)}>\r\n                    <Option value=\"day\">按天数</Option>\r\n                    <Option value=\"week\">按周次</Option>\r\n                    <Option value=\"month\">按月份</Option>\r\n                </Select>\r\n            </div>\r\n            <div className=\"exercise-bar-container\">\r\n                <div className=\"exercise-count-echart\" id=\"exercise-count-echart\"></div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"exercise-time-echart\" id=\"exercise-time-echart\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash, userInfo },\r\n    } = state;\r\n    return { levelHash, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(DetailExercise)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\n// import echarts from \"echarts\";\r\nimport * as echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { Empty, Modal } from \"../../../component/common\";\r\nimport Table from \"../../../component/tableList\";\r\nimport DetailHealth from \"./detailHealth\";\r\nimport TestStatus from \"./testStatus\";\r\nimport SportTest from \"./sportTest\";\r\nimport DetailExercise from \"./detailExercise\";\r\nimport detailExercise from \"./detailExercise\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction BodyHealth(props, ref) {\r\n    let {\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        currentTerm,\r\n        userInfo: {UserID, SchoolID},\r\n        reflash\r\n    } = props;\r\n     // dom ref\r\n    const [currentKind, setCurrentKind] = useState('test');\r\n    //体测成绩\r\n    const [testAvg, setTestAvg] = useState(\"--\");\r\n    const [projectList, setProjectList] = useState({});\r\n    const [testStatusData, setTestStatusData] = useState({});\r\n    const [sickInfo, setSickInfo] = useState({});\r\n    const [temperatureInfo, setTemperatureInfo] = useState({});\r\n\r\n    const [testVisible, setTestVisible] = useState(false);\r\n    const [temVisible, setTemVisible] = useState(false);\r\n    const [sickVisible, setSickVisible] = useState(false);\r\n    const [studentList, setStudentList] = useState([]);\r\n    const [selectStudentList, setSelectStudentList] = useState([]);\r\n    //单个学生详情数据\r\n    const [testList, setTestList] = useState([]);\r\n    const [temList, setTemList] = useState([]);\r\n    const [sickList, setSickList] = useState([]);\r\n    //控制模态框显示内容\r\n    const [modalShowType, setModalShowType] = useState(userIdentity == \"student\"? \"course\": \"list\");\r\n    useLayoutEffect(() => {\r\n        //获取体测成绩数据\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取体测平均分\r\n        let url = BasicProxy + \"/api/healthy/physicalTest/averageScore?studentId=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setTestAvg(result.data);\r\n            }\r\n        })\r\n\r\n        //获取体测成绩\r\n        url = BasicProxy + \"/api/healthy/physicalTest/score/list?studentId=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n        userIdentity == \"teacher\" && !currentGrade?\r\n        classGradeId:\r\n        currentGrade) +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setProjectList(result.data);\r\n            }\r\n        })\r\n        \r\n        //获取项目列表\r\n        url = BasicProxy + \"/api/healthy/physicalTest/score/list?studentId=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n        userIdentity == \"teacher\" && !currentGrade?\r\n        classGradeId:\r\n        currentGrade) +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setProjectList(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, userIdentity, reflash]);\r\n    useLayoutEffect(() => {\r\n        //获取日常健康数据\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取病假信息\r\n        let url = BasicProxy + \"/api/healthy/leave/sickRecord?studentId=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setSickInfo(result.data);\r\n            }\r\n        })\r\n        //获取体温信息\r\n        url = BasicProxy + \"/api/healthy/temperature/dallyHealthyInfo?studentId=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setTemperatureInfo(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, userIdentity, reflash]);\r\n    const offworkTypeInfo = {\r\n        1: \"病假\",\r\n        2: \"事假\",\r\n        0: \"其他\"\r\n    }\r\n    const testTableHeader = [\r\n    {\r\n        key: \"subjectName\",\r\n        name: \"体测项目名称\"\r\n    },\r\n    {\r\n        key: \"subjectTotalScore\",\r\n        name: \"项目总分\"\r\n    },\r\n    {\r\n        key: \"studentAverageScore\",\r\n        name: \"个人平均成绩\"\r\n    },\r\n    {\r\n        key: \"maxScore\",\r\n        name: \"最高成绩\"\r\n    }\r\n    ]\r\n    const temTableHeader = [\r\n    {\r\n        key: \"createTime\",\r\n        name: \"日期\"\r\n    },\r\n    {\r\n        key: \"temperature\",\r\n        name: \"平均体温温度/℃\"\r\n    },\r\n    {\r\n        key: \"normal\",\r\n        name: \"体温是否正常\"\r\n    }\r\n    ]\r\n    const sickTableHeader = [\r\n    {\r\n        key: \"fromTime\",\r\n        name: \"请假日期\"\r\n    },\r\n    {\r\n        key: \"offworkType\",\r\n        name: \"请假类型\"\r\n    },\r\n    {\r\n        key: \"reason\",\r\n        name: \"请假原因\"\r\n    },\r\n    {\r\n        key: \"dayNumber\",\r\n        name: \"请假时长(天)\"\r\n    },\r\n    {\r\n        key: \"applierName\",\r\n        name: \"批准人姓名\"\r\n    }\r\n    ]\r\n    const kindList = [\r\n        {\r\n            key: 'test',\r\n            name: '体测情况'\r\n        },\r\n        {\r\n            key: 'exam',\r\n            name: '体育中考'\r\n        },\r\n        // {\r\n        //     key: 'sport',\r\n        //     name: '日常运动'\r\n        // },\r\n        {\r\n            key: 'health',\r\n            name: '日常健康'\r\n        },\r\n    ];\r\n    //如果是老师则先获取学生列表\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"teacher\" && currentClass){\r\n        let url = BasicProxy + \"/api/base/getStudentInfo?schoolId=\" +\r\n        SchoolID +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&classId=\" + currentClass;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setStudentList(result.data);\r\n                setSelectStudentList(result.data);\r\n            }\r\n        })\r\n        }\r\n    }, [userIdentity, UserID, currentClass, currentGrade, currentTerm, reflash])\r\n    //获取弹出框详细信息\r\n    useLayoutEffect(() => {\r\n        if(userIdentity != \"student\"){\r\n        return;\r\n        }\r\n        let termInfo = currentTerm && currentTerm.value && JSON.parse(currentTerm.value);\r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let url = BasicProxy + \"/api/healthy/physicalTest/score/list?studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + classGradeId +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + termInfo.termId +\r\n        \"&startDate=\" + termInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + termInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                let arr = [];\r\n                result.data.forEach((item)=>{\r\n                    let obj = {\r\n                        ...item\r\n                    };\r\n                    obj.subjectName = item.subjectName;\r\n                    obj.subjectTotalScore = item.subjectTotalScore;\r\n                    arr.push(obj);\r\n                })\r\n                setTestList(arr);\r\n            }\r\n        })\r\n        url = BasicProxy + \"/api/healthy/temperature/list?studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&startDate=\" + termInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + termInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                result.data.forEach((item)=>{\r\n                    item.normal = item.normal? \"是\": \"否\";\r\n                })\r\n                setTemList(result.data);\r\n            }\r\n        })\r\n        url = BasicProxy + \"/api/healthy/leave/list?studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + classGradeId +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&type=0\" +\r\n        \"&startDate=\" + termInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + termInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                result.data.forEach((item)=>{\r\n                    item.offworkType = offworkTypeInfo[item.offworkType];\r\n                })\r\n                setSickList(result.data);\r\n            }\r\n        })   \r\n    }, [currentTerm, currentClass, currentGrade, userIdentity, UserID, reflash]);\r\n    //点击学生查看学生详细信息\r\n    const setStudentInfo = (data, type) => {\r\n        let termInfo = currentTerm && currentTerm.value && JSON.parse(currentTerm.value);\r\n        let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        if(type == \"test\"){\r\n        let url = BasicProxy + \"/api/healthy/physicalTest/score/list?studentId=\" + data.userId +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + classGradeId +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + termInfo.termId +\r\n        \"&startDate=\" + termInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + termInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                let arr = [];\r\n                result.data.forEach((item)=>{\r\n                    let obj = {\r\n                        ...item\r\n                    };\r\n                    obj.subjectName = item.subjectName;\r\n                    obj.subjectTotalScore = item.subjectTotalScore;\r\n                    arr.push(obj);\r\n                })\r\n                setTestList(arr);\r\n                setModalShowType(\"detail\");\r\n            }\r\n        })\r\n        }\r\n        if(type == \"tem\"){\r\n        let url = BasicProxy + \"/api/healthy/temperature/list?studentId=\" + data.userId +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&startDate=\" + termInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + termInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                result.data.forEach((item)=>{\r\n                    item.normal = item.normal? \"是\": \"否\";\r\n                })\r\n                setTemList(result.data);\r\n                setModalShowType(\"detail\");\r\n            }\r\n        })\r\n        }\r\n        if(type == \"sick\"){\r\n        let url = BasicProxy + \"/api/healthy/leave/list?studentId=\" + data.userId +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + classGradeId +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&type=0\" +\r\n        \"&startDate=\" + termInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + termInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                result.data.forEach((item)=>{\r\n                    item.offworkType = offworkTypeInfo[item.offworkType];\r\n                })\r\n                setSickList(result.data);\r\n                setModalShowType(\"detail\");\r\n            }\r\n        })\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"body-health\">\r\n            <div className=\"kind-list\">\r\n                <span>类型:</span>\r\n                {\r\n                    kindList.map((item, index)=>{\r\n                        return (\r\n                        <div style={{margin: 0}} key={index} onClick={()=>setCurrentKind(item.key)}>\r\n                            <span \r\n                            className={\"list-one \" + (currentKind == item.key? \"active\": \"\")}>\r\n                                {item.name}\r\n                            </span>\r\n                            {\r\n                                index != kindList.length - 1?\r\n                                <span className=\"list-slice-line\"></span>:\r\n                                \"\"\r\n                            }\r\n                        </div>\r\n                            \r\n                        )\r\n                    })\r\n                }\r\n                {\r\n                    userIdentity != \"manager\"?\r\n                    currentKind == \"test\"?\r\n                    <div className=\"status-btn\">\r\n                        <span \r\n                        className=\"test-status-info\" \r\n                        onClick={()=>setTestVisible(true)}>查看体测详细信息</span>\r\n                    </div>:\r\n                    currentKind == \"health\"?\r\n                    <div className=\"status-btn\">\r\n                        <span \r\n                        className=\"test-status-info\" \r\n                        onClick={()=>setTemVisible(true)}>查看体温详细信息</span>\r\n                        <span \r\n                        className=\"test-status-info\" \r\n                        onClick={()=>setSickVisible(true)}>查看病假详细信息</span>\r\n                    </div>:\r\n                    \"\":\r\n                    \"\"\r\n                } \r\n            </div>\r\n            {\r\n                currentKind == \"exam\"?\r\n                <SportTest \r\n                userIdentity={userIdentity} \r\n                currentKind={currentKind} \r\n                currentClass={currentClass}\r\n                currentGrade={currentGrade}\r\n                reflash={reflash}\r\n                currentTerm={currentTerm} />:\r\n                currentKind == \"sport\"?\r\n                <DetailExercise \r\n                userIdentity={userIdentity} \r\n                currentKind={currentKind} \r\n                currentClass={currentClass}\r\n                currentGrade={currentGrade}\r\n                reflash={reflash}\r\n                currentTerm={currentTerm} />:\r\n                currentKind == \"health\"?\r\n                <DetailHealth \r\n                userIdentity={userIdentity} \r\n                currentKind={currentKind} \r\n                currentClass={currentClass}\r\n                currentGrade={currentGrade}\r\n                reflash={reflash}\r\n                currentTerm={currentTerm}\r\n                sickInfo={sickInfo}\r\n                temperatureInfo={temperatureInfo} />:\r\n                <TestStatus \r\n                userIdentity={userIdentity} \r\n                currentClass={currentClass}\r\n                currentGrade={currentGrade}\r\n                currentTerm={currentTerm}\r\n                reflash={reflash}\r\n                currentKind={currentKind} \r\n                testAvg={testAvg}\r\n                projectList={projectList} />\r\n            }\r\n            <Modal\r\n          type=\"1\"\r\n          title=\"体测详情\"\r\n          visible={testVisible}\r\n          onOk={()=>setTestVisible(true)}\r\n          onCancel={()=>{\r\n            if(userIdentity != \"student\"){\r\n              setModalShowType(\"list\")\r\n            }\r\n            setTestVisible(false)}}\r\n          footer={null}\r\n          width={1000}\r\n          className=\"height-weight-modal\"\r\n          bodyStyle={{height: 632 + 'px', padding: 20}}\r\n      >\r\n          {\r\n            modalShowType == \"list\"?\r\n            <div>\r\n              <p className=\"stu-count\">共<span>{\r\n              studentList.length\r\n              }</span>人</p>\r\n              <ul className=\"member-list\">\r\n                <Scrollbars \r\n                autoHeight\r\n                autoHeightMax={550}>\r\n                  {\r\n                    selectStudentList.length > 0?\r\n                    selectStudentList.map((item, index)=>{\r\n                      return (\r\n                      <li key={index} onClick={()=>setStudentInfo(item, \"test\")}>\r\n                        <i className=\"user-header\" style={{\r\n                          backgroundImage:\r\n                          (\r\n                            item.photoPath?\r\n                            item.photoPath:\r\n                            \"\"\r\n                          )\r\n                        }}></i>\r\n                        <p title={item.userName}>{item.userName}</p>\r\n                      </li>\r\n                      )\r\n                    }):\r\n                    <Empty\r\n                    className={\"bar-empty\"}\r\n                    style={{margin: \"150px 0 0\"}}\r\n                    title={\"暂无数据\"}\r\n                    type={\"4\"}\r\n                    ></Empty>\r\n                  }\r\n                \r\n                </Scrollbars>\r\n                \r\n              </ul>  \r\n            </div>:\r\n            <div>\r\n              {\r\n                userIdentity != \"student\"?\r\n                <span className=\"reback-prev\" onClick={()=>setModalShowType(\"list\")}>返回学生列表</span>:\r\n                \"\"\r\n              }\r\n              <Table\r\n              style={{marginTop: 20}}\r\n              tableHeader={testTableHeader}\r\n              data={testList}\r\n              ></Table>\r\n            </div>\r\n          }\r\n      </Modal>\r\n      <Modal\r\n          type=\"1\"\r\n          title=\"体温详情\"\r\n          visible={temVisible}\r\n          onOk={()=>setTemVisible(true)}\r\n          onCancel={()=>{\r\n            if(userIdentity != \"student\"){\r\n              setModalShowType(\"list\")\r\n            }\r\n            setTemVisible(false)}}\r\n          footer={null}\r\n          width={1000}\r\n          className=\"height-weight-modal\"\r\n          bodyStyle={{height: 632 + 'px', padding: 20}}\r\n      >\r\n          {\r\n            modalShowType == \"list\"?\r\n            <div>\r\n              <p className=\"stu-count\">共<span>{\r\n              studentList.length\r\n              }</span>人</p>\r\n              <ul className=\"member-list\">\r\n                <Scrollbars \r\n                autoHeight\r\n                autoHeightMax={550}>\r\n                  {\r\n                    selectStudentList.length > 0?\r\n                    selectStudentList.map((item, index)=>{\r\n                      return (\r\n                      <li key={index} onClick={()=>setStudentInfo(item, \"tem\")}>\r\n                        <i className=\"user-header\" style={{\r\n                          backgroundImage:\r\n                          (\r\n                            item.photoPath?\r\n                            item.photoPath:\r\n                            \"\"\r\n                          )\r\n                        }}></i>\r\n                        <p title={item.userName}>{item.userName}</p>\r\n                      </li>\r\n                      )\r\n                    }):\r\n                    <Empty\r\n                    className={\"bar-empty\"}\r\n                    style={{margin: \"150px 0 0\"}}\r\n                    title={\"暂无数据\"}\r\n                    type={\"4\"}\r\n                    ></Empty>\r\n                  }\r\n                \r\n                </Scrollbars>\r\n                \r\n              </ul>  \r\n            </div>:\r\n            <div>\r\n              {\r\n                userIdentity != \"student\"?\r\n                <span className=\"reback-prev\" onClick={()=>setModalShowType(\"list\")}>返回学生列表</span>:\r\n                \"\"\r\n              }\r\n              <Table\r\n              style={{marginTop: 20}}\r\n              tableHeader={temTableHeader}\r\n              data={temList}\r\n              ></Table>\r\n            </div>\r\n          }\r\n      </Modal>\r\n      <Modal\r\n          type=\"1\"\r\n          title=\"病假详情\"\r\n          visible={sickVisible}\r\n          onOk={()=>setSickVisible(true)}\r\n          onCancel={()=>{\r\n            if(userIdentity != \"student\"){\r\n              setModalShowType(\"list\")\r\n            }\r\n            setSickVisible(false)}}\r\n          footer={null}\r\n          width={1000}\r\n          className=\"height-weight-modal\"\r\n          bodyStyle={{height: 632 + 'px', padding: 20}}\r\n      >\r\n          {\r\n            modalShowType == \"list\"?\r\n            <div>\r\n              <p className=\"stu-count\">共<span>{\r\n              studentList.length\r\n              }</span>人</p>\r\n              <ul className=\"member-list\">\r\n                <Scrollbars \r\n                autoHeight\r\n                autoHeightMax={550}>\r\n                  {\r\n                    selectStudentList.length > 0?\r\n                    selectStudentList.map((item, index)=>{\r\n                      return (\r\n                      <li key={index} onClick={()=>setStudentInfo(item, \"sick\")}>\r\n                        <i className=\"user-header\" style={{\r\n                          backgroundImage:\r\n                          (\r\n                            item.photoPath?\r\n                            item.photoPath:\r\n                            \"\"\r\n                          )\r\n                        }}></i>\r\n                        <p title={item.userName}>{item.userName}</p>\r\n                      </li>\r\n                      )\r\n                    }):\r\n                    <Empty\r\n                    className={\"bar-empty\"}\r\n                    style={{margin: \"150px 0 0\"}}\r\n                    title={\"暂无数据\"}\r\n                    type={\"4\"}\r\n                    ></Empty>\r\n                  }\r\n                \r\n                </Scrollbars>\r\n                \r\n              </ul>  \r\n            </div>:\r\n            <div>\r\n              {\r\n                userIdentity != \"student\"?\r\n                <span className=\"reback-prev\" onClick={()=>setModalShowType(\"list\")}>返回学生列表</span>:\r\n                \"\"\r\n              }\r\n              <Table\r\n              style={{marginTop: 20}}\r\n              tableHeader={sickTableHeader}\r\n              data={sickList}\r\n              ></Table>\r\n            </div>\r\n          }\r\n      </Modal>\r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n  }\r\nexport default connect(mapStateToProps)(memo(forwardRef(BodyHealth)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n\r\nfunction MindHealth(props, ref) {\r\n    let {\r\n        userIdentity,\r\n        testAvg,\r\n        projectList,\r\n        currentTerm,\r\n        currentClass,\r\n        currentGrade,\r\n        reflash,\r\n        userInfo: {UserID, SchoolID},\r\n    } = props;\r\n    //评测统计信息\r\n    const [mindTestInfo, setMindTestInfo] = useState({});\r\n    useLayoutEffect(() => {\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && !UserID){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value? JSON.parse(currentTerm.value): {};\r\n        //获取体测项目列表\r\n        let url = BasicProxy + \"/api/healthy/mentalHealthy/mentalHealthyInfo?classId=\" +\r\n        currentClass +\r\n        \"&gradeId=\" + (userIdentity == \"teacher\" && !currentGrade? classGradeId: currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&startDate=\" + (currentTermInfo.startDate?currentTermInfo.startDate.substr(0, 10): \"\") +\r\n        \"&endDate=\" + (currentTermInfo.endDate?currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setMindTestInfo(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, userIdentity, UserID, reflash]);\r\n    return (\r\n        <div className=\"mind-health\">\r\n            <div className=\"show-top\">\r\n                {\r\n                    Array.isArray(mindTestInfo.mentalHealthTestList) &&\r\n                    mindTestInfo.mentalHealthTestList.length > 0?\r\n                    mindTestInfo.mentalHealthTestList.map((item, index)=>{\r\n                        return (\r\n                            <div className={\"test-info-one \" + \r\n                            (item.testResult == \"轻度抑郁\"? \"orange\":\r\n                            item.testResult == \"正常\"? \"green\":\r\n                            item.testResult == \"异常\"? \"red\":\r\n                            \"green\"\r\n                            )} key={index}>\r\n                                <i className=\"cardlogo\"></i>\r\n                                <p className=\"test-name\">\r\n                                    <i className=\"dotlogo\"></i>\r\n                                    {item.testName? item.testName: \"--\"}\r\n                                </p>\r\n                                {\r\n                                    userIdentity == \"manager\"?\r\n                                    <p className=\"test-num\">\r\n                                        <span>正常人数: \r\n                                            <span style={{color: 'green'}}>\r\n                                            {item.normalNumber}\r\n                                            </span>\r\n                                        </span>\r\n                                        <span>异常人数: \r\n                                            <span style={{color: '#ff0000'}}>\r\n                                            {item.normalNumber}\r\n                                            </span>\r\n                                        </span>\r\n                                    </p>:\r\n                                    \"\"\r\n                                }\r\n                                <p className=\"test-time\">\r\n                                    测试时间: {item.testDate}\r\n                                </p>\r\n                            </div>\r\n                        )\r\n                    }):\r\n                    <Empty\r\n                    // className={\"list-empty\"}\r\n                    style={{margin: \"40px 0\"}}\r\n                    title={\"暂无数据\"}\r\n                    type={\"4\"}\r\n                    ></Empty>\r\n                }\r\n                {/* <div className=\"test-info-one orange\">\r\n                    <i className=\"cardlogo\"></i>\r\n                    <p className=\"test-name\">\r\n                        <i className=\"dotlogo\"></i>\r\n                        焦虑测试\r\n                    </p>\r\n                    {\r\n                        userIdentity == \"manager\"?\r\n                        <p className=\"test-num\">\r\n                            <span>正常人数: <span style={{color: 'green'}}>47</span></span>\r\n                            <span>异常人数: <span style={{color: '#ff0000'}}>27</span></span>\r\n                        </p>:\r\n                        \"\"\r\n                    }\r\n                    <p className=\"test-time\">\r\n                        测试时间: 2020-12-31\r\n                    </p>\r\n                </div>\r\n                <div className=\"test-info-one green\">\r\n                    <i className=\"cardlogo\"></i>\r\n                    <p className=\"test-name\">\r\n                        <i className=\"dotlogo\"></i>\r\n                        焦虑测试\r\n                    </p>\r\n                    {\r\n                        userIdentity == \"manager\"?\r\n                        <p className=\"test-num\">\r\n                            <span>正常人数: <span style={{color: 'green'}}>47</span></span>\r\n                            <span>异常人数: <span style={{color: '#ff0000'}}>27</span></span>\r\n                        </p>:\r\n                        \"\"\r\n                    }\r\n                    <p className=\"test-time\">\r\n                        测试时间: 2020-12-31\r\n                    </p>\r\n                </div>\r\n                <div className=\"test-info-one red\">\r\n                    <i className=\"cardlogo\"></i>\r\n                    <p className=\"test-name\">\r\n                        <i className=\"dotlogo\"></i>\r\n                        焦虑测试\r\n                    </p>\r\n                    {\r\n                        userIdentity == \"manager\"?\r\n                        <p className=\"test-num\">\r\n                            <span>正常人数: <span style={{color: 'green'}}>47</span></span>\r\n                            <span>异常人数: <span style={{color: '#ff0000'}}>27</span></span>\r\n                        </p>:\r\n                        \"\"\r\n                    }\r\n                    <p className=\"test-time\">\r\n                        测试时间: 2020-12-31\r\n                    </p>\r\n                </div> */}\r\n            </div>\r\n            {/* {\r\n                userIdentity == \"manager\"?\r\n                \"\":\r\n                <div className=\"show-bottom\">\r\n                    <span className=\"remark-name\">建议:</span>\r\n                    <span className=\"remark-content\">\r\n                    要想走出抑郁状态，要在对待疾病的态度上做出转变。抑郁状态出现初始，很多人是敌对它憎恨它，\r\n                    经常抱怨自己为什么会得这种病，因而十分痛苦。我们应该逐渐学会\r\n                    宽恕与接纳，感恩疾病助自己成长，感恩疾病让自己走上探索心理的道路，感恩疾病让自己明白了很多\r\n                    关于生命的信息，包括如何深度地了解自己、思考如何完善人性的\r\n                    弱点、提高个体的力量、丰富思考问题的角度、了解生命的意义等等。\r\n                    </span>\r\n                </div>\r\n            }  */}\r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash, userInfo },\r\n    } = state;\r\n    return { levelHash, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(MindHealth)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n    useStore,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport XLSX from \"xlsx\";\r\nimport Bar from \"../../../component/bar\";\r\nimport HealthBaseMsg from \"./healthBaseMsg\";\r\nimport Scrollbars from \"react-custom-scrollbars\";\r\nimport BodyHealth from \"./bodyHealth\";\r\nimport MindHealth from \"./mindHealth\";\r\nimport { Empty, Modal } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nimport Table from \"../../../component/tableList\";\r\nlet { BasicProxy } = ipConfig;\r\n  function HealthMsg(props, ref) {\r\n    // *selectLevel:这里的selectLevel与用户的没关系，与看的级别有关，例如教育局的看学校的，selectLevel===2\r\n    // *productLevel:产品类型，给用户看的界面类型，用来控制界面的一些属性：1教育局，2大学学校，3教育局学校，4大学学院，\r\n    // *product:包含该productLevel的所有信息,有使用组件者使用productLevel和commonData的levelHash匹配使用，必须传，不传将出问题\r\n    let {\r\n      term,\r\n      HasHistory,\r\n      onAnchorComplete,\r\n      schoolID,\r\n      collegeID,\r\n      productMsg,\r\n      currentClass,\r\n      currentGrade,\r\n      userIdentity,\r\n      userInfo: {SchoolID, UserID},\r\n      reflash\r\n    } = props;\r\n    const [baseMsgInfo, setBaseMsgInfo] = useState({});\r\n    const [heightWeightVisible, setHeightWeightVisible] = useState(false);\r\n    const [mindVisible, setMindVisible] = useState(false);\r\n    const [studentVisible, setStudentVisible] = useState(false);\r\n    const [heightWeightList, setHeightWeightList] = useState([]);\r\n    const [mindList, setMindList] = useState([]);\r\n    const [studentList, setStudentList] = useState([]);\r\n    const [selectStudentList, setSelectStudentList] = useState([]);\r\n    const [keyword, setKeyWord] = useState(\"\");\r\n    //控制模态框显示内容\r\n    const [modalShowType, setModalShowType] = useState(userIdentity == \"student\"? \"detail\": \"list\");\r\n    const baseTableHeader = [\r\n      // {\r\n      //   key: \"index\",\r\n      //   name: \"序号\"\r\n      // },\r\n      {\r\n        key: \"userName\",\r\n        name: \"姓名\"\r\n      },\r\n      {\r\n        key: \"height\",\r\n        name: \"身高\"\r\n      },\r\n      {\r\n        key: \"weight\",\r\n        name: \"体重\"\r\n      },\r\n      {\r\n        key: \"bmiIndex\",\r\n        name: \"BMI\"\r\n      },\r\n      {\r\n        key: \"recordTime\",\r\n        name: \"记录时间\"\r\n      }\r\n    ]\r\n    const mindTableHeader = [\r\n      {\r\n        key: \"testDate\",\r\n        name: \"测试日期\"\r\n      },\r\n      {\r\n        key: \"projectName\",\r\n        name: \"测试项目名称\"\r\n      },\r\n      {\r\n        key: \"normal\",\r\n        name: \"是否正常\"\r\n      },\r\n      {\r\n        key: \"conclusion\",\r\n        name: \"结论\"\r\n      }\r\n    ]\r\n    const baseMsg = useRef(null);\r\n    const bodyHealth = useRef(null);\r\n    const mindHealth = useRef(null);\r\n    useLayoutEffect(() => {\r\n      // setAnchorList();\r\n      typeof onAnchorComplete === \"function\" &&\r\n        onAnchorComplete([\r\n          { ref: baseMsg.current, name: \"基本情况\" },\r\n          { ref: bodyHealth.current, name: \"身体健康\" },\r\n        //   { ref: schoolAttendance.current, name: \"学校考勤\" },\r\n          { ref: mindHealth.current, name: \"心理健康\" },\r\n        ]);\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    // 初始请求\r\n    useLayoutEffect(() => {\r\n      // if(!currentClass && !currentGrade && userIdentity != \"student\"){\r\n      //   return;\r\n      // }\r\n      if(userIdentity == \"teacher\" && !currentClass){\r\n        return;\r\n      }\r\n      if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n        return;\r\n      }\r\n      if(!term){\r\n        return;\r\n      }\r\n      let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = term.value && JSON.parse(term.value);\r\n        if(userIdentity != \"student\" && (currentClass || currentGrade)){\r\n          //获取目前平均身高体重信息\r\n          let url = BasicProxy + \"/api/healthy/overview?classId=\" + currentClass +\r\n          \"&gradeId=\" + (\r\n            userIdentity == \"teacher\"?\r\n            classGradeId:\r\n            currentGrade\r\n          ) +\r\n          \"&studentId=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            \"\") +\r\n          // \"&termId=\" + currentTermInfo.termId +\r\n          \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n          \"&endDate=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n          fetch\r\n          .get({url, securityLevel: 2})\r\n          .then((res)=>res.json())\r\n          .then((result)=>{\r\n              if(result.status == 200 && result.data){\r\n                let obj = {\r\n                  ...baseMsg,\r\n                  baseInfo: result.data,\r\n                  avgInfo: result.data\r\n                }\r\n                setBaseMsgInfo(obj);\r\n              }\r\n          })\r\n       }\r\n        \r\n        if(userIdentity == \"student\"){\r\n           //获取目前平均身高体重信息\r\n          let url = BasicProxy + \"/api/healthy/overview?classId=\" + currentClass +\r\n          \"&gradeId=\" + currentGrade +\r\n          \"&studentId=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            \"\") +\r\n          // \"&termId=\" + currentTermInfo.termId +\r\n          \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n          \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n          fetch\r\n          .get({url, securityLevel: 2})\r\n          .then((res)=>res.json())\r\n          .then((result)=>{\r\n              if(result.status == 200 && result.data){\r\n                let obj = {\r\n                  avgInfo: result.data\r\n                }\r\n                //获取本人或班级身高体重信息\r\n                url = BasicProxy + \"/api/healthy/studentHealthInfo?studentId=\" + UserID;\r\n                fetch\r\n                .get({url, securityLevel: 2})\r\n                .then((res)=>res.json())\r\n                .then((result)=>{\r\n                    if(result.status == 200 && result.data){\r\n                      obj.baseInfo = result.data;\r\n                      setBaseMsgInfo(obj);\r\n                    }\r\n                })\r\n                }\r\n            })\r\n          \r\n        }\r\n        \r\n    }, [term, currentClass, currentGrade, userIdentity, reflash]);\r\n\r\n    //如果是老师则先获取学生列表\r\n    useLayoutEffect(() => {\r\n      if(userIdentity == \"teacher\" && currentClass){\r\n        let url = BasicProxy + \"/api/base/getStudentInfo?schoolId=\" +\r\n        SchoolID +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&classId=\" + currentClass;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setStudentList(result.data);\r\n                setSelectStudentList(result.data);\r\n            }\r\n        })\r\n\r\n      }\r\n    }, [userIdentity, UserID, currentClass, currentGrade, term, reflash])\r\n    //获取弹出框详细信息\r\n    useLayoutEffect(() => {\r\n        //查询身高体重和BMI图表数据\r\n        if(userIdentity != \"student\" || !UserID || !term){\r\n          return;\r\n        }\r\n        let termInfo = term && term.value && JSON.parse(term.value);\r\n        //获取目前平均身高体重信息\r\n        let url = BasicProxy + \"/api/healthy/studentHealthInfoLogs?studentId=\" + UserID +\r\n        // \"&termId=\" + termInfo.termId +\r\n        \"&startDate=\" + termInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + termInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setHeightWeightList(result.data);\r\n            }\r\n        })\r\n        url = BasicProxy + \"/api/healthy/mentalHealthy/student/testResult?studentId=\" + UserID +\r\n        \"&schoolId=\" + SchoolID +\r\n        // \"&termId=\" + termInfo.termId +\r\n        \"&startDate=\" + termInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + termInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setMindList(result.data.testResults);\r\n            }\r\n        })\r\n    }, [term, currentClass, currentGrade, userIdentity, reflash]);\r\n    //点击学生查看学生详细信息\r\n    const setStudentInfo = (data, type) => {\r\n        let termInfo = term && term.value && JSON.parse(term.value);\r\n        if(type == \"base\"){\r\n          //获取目前平均身高体重信息\r\n          let url = BasicProxy + \"/api/healthy/studentHealthInfoLogs?studentId=\" + data.userId +\r\n          // \"&termId=\" + termInfo.termId +\r\n          \"&startDate=\" + termInfo.startDate.substr(0, 10) +\r\n          \"&endDate=\" + termInfo.endDate.substr(0, 10) ;\r\n          fetch\r\n          .get({url, securityLevel: 2})\r\n          .then((res)=>res.json())\r\n          .then((result)=>{\r\n              if(result.status == 200 && result.data){\r\n                  setHeightWeightList(result.data);\r\n                  setModalShowType(\"detail\");\r\n              }\r\n          })\r\n        }\r\n        if(type == \"mind\"){\r\n          //获取心理评测信息\r\n          let url = BasicProxy + \"/api/healthy/mentalHealthy/student/testResult?studentId=\" + data.userId +\r\n          \"&schoolId=\" + SchoolID +\r\n          // \"&termId=\" + termInfo.termId +\r\n          \"&startDate=\" + termInfo.startDate.substr(0, 10) +\r\n          \"&endDate=\" + termInfo.endDate.substr(0, 10) ;\r\n          fetch\r\n          .get({url, securityLevel: 2})\r\n          .then((res)=>res.json())\r\n          .then((result)=>{\r\n              if(result.status == 200 && result.data){\r\n                  setMindList(result.data.testResults);\r\n                  setModalShowType(\"detail\");\r\n              }\r\n          })\r\n        }\r\n    }\r\n    // csv转sheet对象\r\n    function csv2sheet(csv) {\r\n      var sheet = {}; // 将要生成的sheet\r\n      csv = csv.split('\\n');\r\n      csv.forEach(function(row, i) {\r\n        row = row.split(',');\r\n        if(i == 0) sheet['!ref'] = 'A1:'+String.fromCharCode(65+row.length-1)+(csv.length-1);\r\n        row.forEach(function(col, j) {\r\n          sheet[String.fromCharCode(65+j)+(i+1)] = {v: col};\r\n        });\r\n      });\r\n      return sheet;\r\n    }\r\n    // 将一个sheet转成最终的excel文件的blob对象，然后利用URL.createObjectURL下载\r\n    function sheet2blob(sheet, sheetName) {\r\n      sheetName = sheetName || 'sheet1';\r\n      var workbook = {\r\n        SheetNames: [sheetName],\r\n        Sheets: {}\r\n      };\r\n      workbook.Sheets[sheetName] = sheet;\r\n      // 生成excel的配置项\r\n      var wopts = {\r\n        bookType: 'xlsx', // 要生成的文件类型\r\n        bookSST: false, // 是否生成Shared String Table，官方解释是，如果开启生成速度会下降，但在低版本IOS设备上有更好的兼容性\r\n        type: 'binary'\r\n      };\r\n      var wbout = XLSX.write(workbook, wopts);\r\n      var blob = new Blob([s2ab(wbout)], {type:\"application/octet-stream\"});\r\n      // 字符串转ArrayBuffer\r\n      function s2ab(s) {\r\n        var buf = new ArrayBuffer(s.length);\r\n        var view = new Uint8Array(buf);\r\n        for (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\r\n        return buf;\r\n      }\r\n      return blob;\r\n    }\r\n    function openDownloadDialog(url, saveName) {\r\n      if(typeof url == 'object' && url instanceof Blob)\r\n      {\r\n        url = URL.createObjectURL(url); // 创建blob地址\r\n      }\r\n      var aLink = document.createElement('a');\r\n      aLink.href = url;\r\n      aLink.download = saveName || ''; // HTML5新增的属性，指定保存文件名，可以不要后缀，注意，file:///模式下不会生效\r\n      var event;\r\n      if(window.MouseEvent) event = new MouseEvent('click');\r\n      else\r\n      {\r\n        event = document.createEvent('MouseEvents');\r\n        event.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\r\n      }\r\n      aLink.dispatchEvent(event);\r\n    }\r\n    const importFile = () => {\r\n      let arr = [\r\n        {\r\n          name: 'pzw',\r\n          age: '12',\r\n          gender: \"男\"\r\n        },\r\n        {\r\n          name: 'pzw',\r\n          age: '12',\r\n          gender: \"男\"\r\n        },\r\n        {\r\n          name: 'pzw',\r\n          age: '12',\r\n          gender: \"男\"\r\n        },\r\n      ]\r\n      var sheet = XLSX.utils.json_to_sheet(arr);\r\n      \r\n      openDownloadDialog(sheet2blob(sheet), '导出.xlsx')\r\n    }\r\n    //搜索框根据学生姓名搜索\r\n    const searchStudent = (e) => {\r\n      let keyword = e.target.value;\r\n      setKeyWord(keyword);\r\n      let arr = [];\r\n      studentList.forEach((item)=>{\r\n        if(item.userName.indexOf(keyword) != -1){\r\n          arr.push(item);\r\n        }\r\n      })\r\n      setSelectStudentList(arr);\r\n    }\r\n    const cancelSearch = () => {\r\n      setSelectStudentList(studentList);\r\n    }\r\n    return (\r\n      <div className=\"stu-condition\" id=\"healthMsg\">\r\n        <Bar\r\n          barName={\"基本情况\"}\r\n          ref={baseMsg}\r\n          topContext={\r\n            userIdentity == \"student\" || userIdentity == \"teacher\"?\r\n            <div className=\"module-link-group\">\r\n              <span \r\n              className=\"status\" \r\n              onClick={()=>{\r\n                // if(userIdentity == \"teacher\"){\r\n                  // setStudentVisible(true)\r\n                // } else {\r\n                  setHeightWeightVisible(true)\r\n                // }\r\n                }}>\r\n                查看身高体重详情信息\r\n              </span>\r\n            </div>\r\n            :false}\r\n          loading={false}\r\n        >\r\n            <HealthBaseMsg \r\n            userIdentity={userIdentity} \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            reflash={reflash}\r\n            data={baseMsgInfo} />\r\n        </Bar>\r\n        <Bar loading={false} barName={\"身体健康\"} ref={bodyHealth}>\r\n            <BodyHealth \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            reflash={reflash}\r\n            userIdentity={userIdentity} />\r\n        </Bar>\r\n        <Bar \r\n        loading={false} \r\n        barName={\"心理健康\"} \r\n        ref={mindHealth}\r\n        topContext={\r\n        userIdentity == \"student\" || userIdentity == \"teacher\"?\r\n        <div className=\"module-link-group\">\r\n          <span \r\n          className=\"status\" \r\n          onClick={()=>{\r\n            // if(userIdentity == \"teacher\"){\r\n              // setStudentVisible(true)\r\n            // } else {\r\n              setMindVisible(true)\r\n            // }\r\n            }}>\r\n            查看评测详情信息\r\n          </span>\r\n        </div>\r\n        :false}>\r\n            <MindHealth  \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            reflash={reflash}\r\n            userIdentity={userIdentity} />\r\n        </Bar>\r\n        <Modal\r\n            type=\"1\"\r\n            title=\"基本情况详情\"\r\n            visible={heightWeightVisible}\r\n            onOk={()=>setHeightWeightVisible(true)}\r\n            onCancel={()=>{\r\n              if(userIdentity != \"student\"){\r\n                setModalShowType(\"list\")\r\n              }\r\n              setHeightWeightVisible(false)}}\r\n            footer={null}\r\n            width={1000}\r\n            className=\"height-weight-modal\"\r\n            bodyStyle={{height: 632 + 'px', padding: 20}}\r\n        >\r\n            {/* <div className=\"search-container\">\r\n              <span className=\"list-count\">\r\n                  共<span>{studentList.length}位</span>学生\r\n              </span>\r\n              <div className=\"input-container\">\r\n                  <input \r\n                  className=\"search-input\" \r\n                  type=\"text\" \r\n                  placeholder=\"请输入学生姓名进行搜索...\"\r\n                  value={keyword}\r\n                  onChange={searchStudent} />\r\n                  {\r\n                    keyword.length != 0?\r\n                    <i className=\"cancellogo\" onClick={cancelSearch}></i>:\r\n                    \"\"\r\n                  }\r\n                  <i className=\"searchlogo\"></i>\r\n              </div>\r\n            \r\n            </div> */}\r\n            {\r\n              modalShowType == \"list\"?\r\n              <div>\r\n                <p className=\"stu-count\">共<span>{\r\n                studentList.length\r\n                }</span>人</p>\r\n                <ul className=\"member-list\">\r\n                  <Scrollbars \r\n                  autoHeight\r\n                  autoHeightMax={580}>\r\n                    {\r\n                      selectStudentList.length > 0?\r\n                      selectStudentList.map((item, index)=>{\r\n                        return (\r\n                        <li key={index} onClick={()=>setStudentInfo(item, \"base\")}>\r\n                          <i className=\"user-header\" style={{\r\n                            backgroundImage:\r\n                            (\r\n                              item.photoPath?\r\n                              item.photoPath:\r\n                              \"\"\r\n                            )\r\n                          }}></i>\r\n                          <p title={item.userName}>{item.userName}</p>\r\n                        </li>\r\n                        )\r\n                      }):\r\n                      <Empty\r\n                      className={\"bar-empty\"}\r\n                      style={{margin: \"80px 0 0\"}}\r\n                      title={\"暂无数据\"}\r\n                      type={\"4\"}\r\n                      ></Empty>\r\n                    }\r\n                  \r\n                  </Scrollbars>\r\n                  \r\n                </ul>  \r\n              </div>:\r\n              <div>\r\n                {\r\n                  userIdentity != \"student\"?\r\n                  <span className=\"reback-prev\" onClick={()=>setModalShowType(\"list\")}>返回学生列表</span>:\r\n                  \"\"\r\n                }\r\n                {/* <span onClick={importFile}>导出</span> */}\r\n                <Table\r\n                style={{marginTop: 20}}\r\n                tableHeader={baseTableHeader}\r\n                data={heightWeightList}\r\n                ></Table>\r\n              </div>\r\n            }\r\n            \r\n        </Modal>\r\n        <Modal\r\n            type=\"1\"\r\n            title=\"基本情况详情\"\r\n            visible={mindVisible}\r\n            onOk={()=>setMindVisible(true)}\r\n            onCancel={()=>{\r\n              if(userIdentity != \"student\"){\r\n                setModalShowType(\"list\")\r\n              }\r\n              setMindVisible(false)}}\r\n            footer={null}\r\n            width={1000}\r\n            className=\"height-weight-modal\"\r\n            bodyStyle={{height: 632 + 'px', padding: 20}}\r\n        >\r\n            {/* <div className=\"search-container\">\r\n              <span className=\"list-count\">\r\n                  共<span>{studentList.length}位</span>学生\r\n              </span>\r\n              <div className=\"input-container\">\r\n                  <input \r\n                  className=\"search-input\" \r\n                  type=\"text\" \r\n                  placeholder=\"请输入学生姓名进行搜索...\"\r\n                  value={keyword}\r\n                  onChange={searchStudent} />\r\n                  {\r\n                    keyword.length != 0?\r\n                    <i className=\"cancellogo\" onClick={cancelSearch}></i>:\r\n                    \"\"\r\n                  }\r\n                  <i className=\"searchlogo\"></i>\r\n              </div>\r\n            \r\n            </div> */}\r\n            {\r\n              modalShowType == \"list\"?\r\n              <div>\r\n                <p className=\"stu-count\">共<span>{\r\n                studentList.length\r\n                }</span>人</p>\r\n                <ul className=\"member-list\">\r\n                  <Scrollbars \r\n                  autoHeight\r\n                  autoHeightMax={580}>\r\n                    {\r\n                      selectStudentList.length > 0?\r\n                      selectStudentList.map((item, index)=>{\r\n                        return (\r\n                        <li key={index} onClick={()=>setStudentInfo(item, \"mind\")}>\r\n                          <i className=\"user-header\" style={{\r\n                            backgroundImage:\r\n                            (\r\n                              item.photoPath?\r\n                              item.photoPath:\r\n                              \"\"\r\n                            )\r\n                          }}></i>\r\n                          <p title={item.userName}>{item.userName}</p>\r\n                        </li>\r\n                        )\r\n                      }):\r\n                      <Empty\r\n                      className={\"bar-empty\"}\r\n                      style={{margin: \"80px 0 0\"}}\r\n                      title={\"暂无数据\"}\r\n                      type={\"4\"}\r\n                      ></Empty>\r\n                    }\r\n                  \r\n                  </Scrollbars>\r\n                  \r\n                </ul>  \r\n              </div>:\r\n              <div>\r\n                {\r\n                  userIdentity != \"student\"?\r\n                  <span className=\"reback-prev\" onClick={()=>setModalShowType(\"list\")}>返回学生列表</span>:\r\n                  \"\"\r\n                }\r\n                {/* <span onClick={importFile}>导出</span> */}\r\n                <Table\r\n                style={{marginTop: 20}}\r\n                tableHeader={mindTableHeader}\r\n                data={mindList}\r\n                ></Table>\r\n              </div>\r\n            }\r\n            \r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n  \r\nconst mapStateToProps = (state) => {\r\n  let { \r\n    commonData:{\r\n      termInfo:{\r\n        HasHistory,\r\n        TermInfo\r\n      },\r\n      userInfo\r\n    } \r\n  } = state;\r\n  // console.log(state)\r\n  return {HasHistory, TermInfo, userInfo};\r\n}\r\n  export default connect(mapStateToProps)(memo(forwardRef(HealthMsg)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Progress } from \"antd\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction AwardPunishRank(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        currentGrade,\r\n        currentClass,\r\n        reflash,\r\n        userIdentity,\r\n        userInfo: {SchoolID}\r\n    } = props;\r\n    const [awardList, setAwardList] = useState([]);\r\n    const [punishList, setPunishList] = useState([]);\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};\r\n        if(userIdentity == \"manager\" && !currentClass){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        //获取奖励排行信息\r\n        let url = BasicProxy + \"/api/punishAndReward/rewards/rank?classId=\" + \r\n        currentClass +\r\n        \"&startDate=\" + (currentTermInfo.startDate?currentTermInfo.startDate.substr(0, 10): \"\") + \r\n        \"&endDate=\" + (currentTermInfo.endDate?currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                let arr = result.data.splice(0, 5);\r\n                setAwardList(arr);\r\n            }\r\n        })\r\n        //获取处罚排行信息\r\n        url = BasicProxy + \"/api/punishAndReward/punishment/rank?classId=\" + currentClass +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                let arr = result.data.splice(0, 5);\r\n                setPunishList(arr);\r\n            }\r\n        })\r\n    }, [currentTerm,currentGrade, currentClass, reflash])\r\n    useLayoutEffect(() => {\r\n        //领导端调用接口\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};\r\n        if(userIdentity != \"manager\" || currentClass){\r\n            return;\r\n        }\r\n        //获取奖励排行信息\r\n        let url = BasicProxy + \"/api/punishAndReward/rewards/leader/classRank?classId=&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&startDate=\" + (currentTermInfo.startDate?currentTermInfo.startDate.substr(0, 10): \"\") + \r\n        \"&endDate=\" + (currentTermInfo.endDate?currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                let arr = [];\r\n                result.data.forEach((item)=>{\r\n                    let obj = {\r\n                        ...item.classInfo,\r\n                        rewardsCount: item.rewardsCount\r\n                    }\r\n                    arr.push(obj);\r\n                })\r\n                let arr1 = arr.splice(0, 5);\r\n                setAwardList(arr1);\r\n            }\r\n        })\r\n        //获取处罚排行信息\r\n        url = BasicProxy + \"/api/punishAndReward/punishment/leader/classRank?classId=&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&startDate=\" + (currentTermInfo.startDate?currentTermInfo.startDate.substr(0, 10): \"\") + \r\n        \"&endDate=\" + (currentTermInfo.endDate?currentTermInfo.endDate.substr(0, 10): \"\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                let arr = [];\r\n                result.data.forEach((item)=>{\r\n                    let obj = {\r\n                        ...item.classInfo,\r\n                        punishCount: item.punishCount\r\n                    }\r\n                    arr.push(obj);\r\n                })\r\n                let arr1 = arr.splice(0, 5);\r\n                setPunishList(arr1);\r\n            }\r\n        })\r\n    }, [currentTerm, currentGrade, currentClass, reflash])\r\n    return (\r\n        <div className=\"award-punish-rank\">\r\n            <div className=\"award-rank\">\r\n                <i className=\"award-logo\"></i>\r\n                <ul className=\"rank-list\">\r\n                    {\r\n                        awardList.length > 0?\r\n                        awardList.map((item, index)=>{\r\n                            return (\r\n                                <li key={index}>\r\n                                    <i className={\"ranklogo \" + \r\n                                    (index == 0? \"one\": \r\n                                    index == 1? \"two\": \r\n                                    index == 2? \"three\": \r\n                                    \"\")}></i>\r\n                                    {\r\n                                        item.userImageUrl?\r\n                                        <img src={item.userImageUrl}/>:\r\n                                        \"\"\r\n                                    }\r\n                                    <span \r\n                                    className=\"rank-name\"\r\n                                    title={item.username || item.className}\r\n                                    >{item.username || item.className}</span>\r\n                                    <span \r\n                                    className={\"rank-grade \" + \r\n                                    (index == 0? \"one\": \r\n                                    index == 1? \"two\": \r\n                                    index == 2? \"three\": \r\n                                    \"\")}\r\n                                    title={item.rewardsCount}\r\n                                    >获得{item.rewardsCount}个奖项</span>\r\n                                </li>\r\n                            )\r\n                        }):\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                </ul>   \r\n            </div>\r\n            <div className=\"slice-line\"></div>\r\n            <div className=\"punish-rank\">\r\n                <i className=\"punish-logo\"></i>\r\n                <ul className=\"rank-list\">\r\n                    {\r\n                        punishList.length > 0?\r\n                        punishList.map((item, index)=>{\r\n                            return (\r\n                                <li key={index}>\r\n                                    <i className=\"ranklogo\"></i>\r\n                                    {\r\n                                        item.userImageUrl?\r\n                                        <img src={item.userImageUrl}/>:\r\n                                        \"\"\r\n                                    }\r\n                                    <span \r\n                                    className=\"rank-name\"\r\n                                    title={item.username || item.className}\r\n                                    >{item.username || item.className}</span>\r\n                                    <span \r\n                                    className={\"rank-grade \" + \r\n                                    (index == 0? \"one\": \r\n                                    index == 1? \"two\": \r\n                                    index == 2? \"three\": \r\n                                    \"\")}\r\n                                    title={item.punishCount}\r\n                                    >受到{item.punishCount}个处罚</span>\r\n                                </li>\r\n                            )\r\n                        }):\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                </ul>   \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash, userInfo },\r\n    } = state;\r\n    return { levelHash, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(AwardPunishRank)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport { Progress, Select, Carousel, Popover } from \"antd\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nimport * as echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nimport { data } from \"jquery\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n\r\nfunction AwardMsg(props, ref) {\r\n    let {\r\n        userIdentity,\r\n        currentTerm,\r\n        currentGrade,\r\n        currentClass,\r\n        userInfo: { UserID, SchoolID },\r\n        reflash\r\n    } = props;\r\n    const [awardList, setAwardList] = useState([]);\r\n    const [awardStatisticList, setAwardStatisticList] = useState([]);\r\n    const [gradeAwardList, setGradeAwardList] = useState([]);\r\n    //日期类型，1按月，2按周，3按日\r\n    const [listType, setListType] = useState(\"1\");\r\n    const awardLevelList = {\r\n        \"1\": '一等奖',\r\n        \"2\": '二等奖',\r\n        \"3\": '三等奖',\r\n        \"-1\": '其他'\r\n    };\r\n    let colorList = [\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#1da4fe'\r\n        },{\r\n            offset: 1,\r\n            color: '#7ecbff'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#51ca51'\r\n        },{\r\n            offset: 1,\r\n            color: '#a0dea0'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#F79750'\r\n        },{\r\n            offset: 1,\r\n            color: '#FFB681'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#2D3149'\r\n        },{\r\n            offset: 1,\r\n            color: '#363D71'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#E84956'\r\n        },{\r\n            offset: 1,\r\n            color: '#E9707A'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#6E54CC'\r\n        },{\r\n            offset: 1,\r\n            color: '#7E90E9'\r\n        }])\r\n    ];\r\n    //查年级平均用于图表\r\n    useLayoutEffect(()=>{\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(!currentTermInfo.startDate || !currentTermInfo.endDate){\r\n            return;\r\n        }\r\n        let url;\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        url = BasicProxy + \"/api/punishAndReward/rewards/list?studentId=\" + \r\n        \"&classId=\" +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setGradeAwardList(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, reflash]);\r\n    useLayoutEffect(()=>{\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        if(!currentTermInfo.startDate || !currentTermInfo.endDate){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let url;\r\n        if(userIdentity == 'student'){//学生获取本人奖励信息\r\n            if(!UserID){\r\n                return;\r\n            }\r\n            url = BasicProxy + \"/api/punishAndReward/rewards/list?studentId=\" + \r\n            (userIdentity == \"student\"? UserID: \"\") +\r\n            \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n            \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        } else {//老师、领导获取奖励信息\r\n            if(userIdentity == \"teacher\" && !currentClass){\r\n                return;\r\n            }\r\n            url = BasicProxy + \"/api/punishAndReward/rewards/list?studentId=\" + \r\n            \"&classId=\" + currentClass +\r\n            \"&gradeId=\" + currentGrade +\r\n            \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n            \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        }\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setAwardList(result.data);\r\n            } else {\r\n                setAwardList(false);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, reflash]);\r\n    //获取奖励统计图表数据\r\n    useLayoutEffect(()=>{\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        if(!currentTermInfo.startDate || !currentTermInfo.endDate){\r\n            return;\r\n        }\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let url = BasicProxy + \"/api/punishAndReward/rewards/distribution?id=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            userIdentity == \"teacher\"?\r\n            currentClass:\r\n            userIdentity == \"manager\"?\r\n            currentClass?\r\n            currentClass:\r\n            currentGrade?\r\n            currentGrade:\r\n            \"\":\r\n            \"\"\r\n        ) +\r\n        \"&queryType=\" + (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            currentClass?\r\n            2:\r\n            currentGrade?\r\n            3:\r\n            \"\"\r\n        ) +\r\n        \"&periodType=\" + listType +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setAwardStatisticList(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, UserID, userIdentity, listType, reflash]);\r\n    //领导端调用接口\r\n    //获取奖励列表\r\n    useLayoutEffect(()=>{\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};\r\n        if(!currentTermInfo.startDate || !currentTermInfo.endDate){\r\n            return;\r\n        }\r\n        if(userIdentity != \"manager\" || currentClass || currentGrade){\r\n            return;\r\n        }\r\n        let  url = BasicProxy + \"/api/punishAndReward/rewards/leader/list?classId=&gradeId=\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10) +\r\n        \"&page=1&pageSize=100\";\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setAwardList(result.data.records);\r\n            } else {\r\n                setAwardList(false);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, reflash, SchoolID]);\r\n    //获取奖励统计图表数据\r\n    useLayoutEffect(()=>{\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};\r\n        if(!currentTermInfo.startDate || !currentTermInfo.endDate){\r\n            return;\r\n        }\r\n        if(userIdentity != \"manager\" || currentClass || currentGrade){\r\n            return;\r\n        }\r\n        let url = BasicProxy + \"/api/punishAndReward/rewards/leader/distribution?classId=&gradeId=\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&periodType=\" + listType +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setAwardStatisticList(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, UserID, userIdentity, listType, reflash]);\r\n    useEffect(() => {\r\n        if(!awardList || awardList.length == 0){\r\n            return;\r\n        }\r\n        //获取已有等级列表\r\n        let awardLevelList = awardList.map((item)=>{\r\n            return item.awardLevelName;\r\n        })\r\n        awardLevelList = [...new Set(awardLevelList)];\r\n        let dataList = [];\r\n        awardLevelList.forEach((item)=>{\r\n            let arr = [];\r\n            awardList.forEach((child)=>{\r\n                if(child.awardLevelName == item){\r\n                    arr.push(arr);\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: arr.length\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"rank-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '获奖等级分布图',\r\n                left: 'center',\r\n                top: '80%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0)',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'rgba(0, 0, 0, 0)', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '获奖等级',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true,\r\n                        color: 'auto',\r\n                        formatter: `{b}  {d}%`\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: dataList\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [awardList]);\r\n    useEffect(() => {\r\n        if(!awardList || awardList.length == 0){\r\n            return;\r\n        }\r\n        //获取已有等级列表\r\n        let awardClassList = awardList.map((item)=>{\r\n            return awardLevelList[item.awardClass]? awardLevelList[item.awardClass]: \"其他\";\r\n        })\r\n        awardClassList = [...new Set(awardClassList)];\r\n        let dataList = [];\r\n        awardClassList.forEach((item)=>{\r\n            let arr = [];\r\n            awardList.forEach((child)=>{\r\n                child.awardClass = child.awardClass? child.awardClass: \"-1\";\r\n                if(awardLevelList[child.awardClass] == item){\r\n                    arr.push(arr);\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: arr.length\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"level-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '获奖等级分布图',\r\n                left: 'center',\r\n                top: '80%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0)',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'rgba(0, 0, 0, 0)', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '获奖等级',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true,\r\n                        color: 'auto',\r\n                        formatter: `{b}  {d}%`\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: dataList\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [awardList]);\r\n    useEffect(() => {\r\n        if(!awardStatisticList || awardStatisticList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], myList = [], classList = [], gradeList = [], classSumList = [], gradeSumList = [];\r\n       \r\n        let myEchart = echarts.init(document.getElementById(\"award-statistic-echart\"));\r\n        myEchart.resize();\r\n        let seriesList = [], gradeDataList = [], legendList = [];\r\n        if(userIdentity == 'manager' && !currentClass && !currentGrade){\r\n            let sumList = [];\r\n            awardStatisticList.forEach((item)=>{\r\n                sumList.push(item.totalTimes);\r\n            });\r\n            seriesList.push({\r\n                name:'总数',\r\n                type:'line',\r\n                lineStyle: {\r\n                    color: '#ff0000',\r\n                    width: 1,\r\n                    borderColor: '#ff0000',\r\n                    emphasis: {\r\n                        width: 1\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    color: '#ff0000'\r\n                },\r\n                data: sumList\r\n            },)\r\n            awardStatisticList.forEach((item, index)=>{\r\n                xList.push(item.date);\r\n                let arr = [];\r\n                Array.isArray(item.classTimes) &&\r\n                item.classTimes.forEach((child)=>{\r\n                    arr.push(child.rewardsCount);\r\n                    legendList.push(child.classInfo? child.classInfo.gradeName: \"\");\r\n                })\r\n                seriesList.push({\r\n                    // name:'班级',\r\n                    type:'bar',\r\n                    // barWidth : 16,\r\n                    itemStyle: {\r\n                        color: colorList[index%6]\r\n                    },\r\n                    data: arr\r\n                })\r\n            })\r\n            legendList = [...new Set(legendList)];\r\n            legendList.unshift(\"总数\");\r\n        } else if(currentClass && !currentGrade){\r\n            awardStatisticList.forEach((item)=>{\r\n                xList.push(item.month);\r\n                myList.push(typeof item.personalTimes == \"number\"? item.personalTimes.toFixed(1): \"--\");\r\n                classList.push(typeof item.classTimes == \"number\"? item.classTimes.toFixed(1): \"--\");\r\n                gradeList.push(typeof item.gradeTimes == \"number\"? item.gradeTimes.toFixed(1): \"--\");\r\n                classSumList.push(typeof item.classCount == \"number\"? item.classCount: \"--\");\r\n                gradeSumList.push(typeof item.totalCount == \"number\"? item.totalCount: \"--\");\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'班级奖项',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#2d3047',\r\n                        width: 1,\r\n                        borderColor: '#2d3047',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#2d3047'\r\n                    },\r\n                    data: classList\r\n                },\r\n                {\r\n                    name:'班级总数',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data: classSumList\r\n                },\r\n                {\r\n                    name:'年级平均',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data: gradeList\r\n                },\r\n                \r\n            ];\r\n        } else if(!currentClass && currentGrade){\r\n            awardStatisticList.forEach((item)=>{\r\n                xList.push(item.month);\r\n                myList.push(typeof item.personalTimes == \"number\"? item.personalTimes.toFixed(1): \"--\");\r\n                classList.push(typeof item.classTimes == \"number\"? item.classTimes.toFixed(1): \"--\");\r\n                gradeList.push(typeof item.gradeTimes == \"number\"? item.gradeTimes.toFixed(1): \"--\");\r\n                classSumList.push(typeof item.classCount == \"number\"? item.classCount: \"--\");\r\n                gradeSumList.push(typeof item.totalCount == \"number\"? item.totalCount: \"--\");\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'年级平均',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data: gradeList\r\n                },\r\n                {\r\n                    name:'年级总数',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data: gradeSumList\r\n                },    \r\n            ];\r\n        } else if(userIdentity == \"student\"){\r\n            awardStatisticList.forEach((item)=>{\r\n                xList.push(item.month);\r\n                myList.push(typeof item.personalTimes == \"number\"? item.personalTimes.toFixed(1): \"--\");\r\n                classList.push(typeof item.classTimes == \"number\"? item.classTimes.toFixed(1): \"--\");\r\n                gradeList.push(typeof item.gradeTimes == \"number\"? item.gradeTimes.toFixed(1): \"--\");\r\n                classSumList.push(typeof item.classCount == \"number\"? item.classCount: \"--\");\r\n                gradeSumList.push(typeof item.totalCount == \"number\"? item.totalCount: \"--\");\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data: myList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data: classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data: gradeList\r\n                },\r\n                \r\n            ];\r\n        }\r\n        let option = {\r\n            title: {\r\n                text: '获奖统计',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                type: \"scroll\",\r\n                width: \"80%\",\r\n                top: '50px',\r\n                left: 'center',\r\n                data: (userIdentity == 'manager' && !currentClass && !currentGrade? legendList: \"\"),\r\n                // data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 25\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '次数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [awardStatisticList, userIdentity]);\r\n    let updateAwardList = [];\r\n    let arr = [];\r\n    //每9个化为一页，进行轮播\r\n    Array.isArray(awardList) && awardList.forEach((item, index)=>{\r\n        arr.push(item);\r\n        if((index + 1) % 9 == 0 || index == awardList.length - 1){\r\n            updateAwardList.push(arr);\r\n            arr = [];\r\n        }\r\n    })\r\n    return (\r\n        <div className=\"award-info\">\r\n            {\r\n                Array.isArray(awardList) && awardList.length > 0?\r\n                <div>\r\n                    <div className=\"award-info-top\">\r\n                    <div className=\"award-sum\">\r\n                        {/* <Popover\r\n                        placement=\"bottomLeft\"\r\n                        content={\r\n                            <div className=\"circle-tootip\">\r\n                                <p className=\"tooltip-title\">班级获奖情况</p>\r\n                                <ul className=\"tooltip-list\">\r\n                                    <li>班集体获奖次数 <span>22次</span><i className=\"downlogo\"></i></li>\r\n                                    <li>学生个人获奖次数 <span>22次</span><i className=\"uplogo\"></i></li>\r\n                                    <li>年级平均获奖次数 <span>43次</span></li>\r\n                                </ul>\r\n                            </div>\r\n                        }> */}\r\n                        <div className=\"circle\">\r\n                            {Array.isArray(awardList)? awardList.length: \"--\"}\r\n                        </div>\r\n                        {/* </Popover> */}\r\n                        <p>\r\n                            {userIdentity == 'teacher'? \r\n                            \"班级\": \r\n                            userIdentity == 'manager'? \r\n                            \"全校\":\r\n                            \"个人\"}获奖总数\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <Carousel\r\n                    dots={{\r\n                        className: 'award-dot'\r\n                    }}>\r\n                        {\r\n                            updateAwardList.map((item, index)=>{\r\n                                return (\r\n                                    <div className=\"award-list\" key={index}>\r\n                                    {\r\n                                        item.map((child, index1)=>{\r\n                                            return (\r\n                                            <div className=\"award-one\" key={index1}>\r\n                                                <i className={\"awardlogo \" + \r\n                                                (\r\n                                                    child.awardLevel == 5 || child.awardClass == 1?\r\n                                                    \"award-1\":\r\n                                                    child.awardLevel == 4 || child.awardClass == 2?\r\n                                                    \"award-2\":\r\n                                                    child.awardLevel == 3 || child.awardClass == 3?\r\n                                                    \"award-3\":\r\n                                                    \"\"\r\n                                                )\r\n                                                }></i>\r\n                                                <p title={child.awardLevelName + child.awardName}>\r\n                                                    {child.awardLevelName + child.awardName}\r\n                                                </p>\r\n                                                <p title={awardLevelList[child.awardClass]}>\r\n                                                    {awardLevelList[child.awardClass]}\r\n                                                </p>\r\n                                                {\r\n                                                    userIdentity == 'manager'?\r\n                                                    <p \r\n                                                    title={child.studentName}\r\n                                                    style={{color: '#ff6600'}}\r\n                                                    >[{child.studentName}]</p>:\r\n                                                    \"\"\r\n                                                }\r\n                                            </div>\r\n                                            )\r\n                                        })\r\n                                    }  \r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Carousel>\r\n                </div>\r\n                <div className=\"award-pie-echart\">\r\n                    <div className=\"rank-position-echart\" id=\"rank-position-echart\"></div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"level-position-echart\" id=\"level-position-echart\"></div>\r\n                </div>\r\n                                \r\n                </div>\r\n                :\r\n                <Empty\r\n                // className={\"list-empty\"}\r\n                style={{margin: \"40px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n\r\n            }\r\n            {\r\n                awardStatisticList.length > 0?\r\n                <div className=\"award-bar-container\">\r\n                    <div className=\"select-container\">\r\n                        <span>时间:</span>\r\n                        <Select \r\n                        defaultValue=\"1\" \r\n                        className=\"select\" \r\n                        onChange={(value)=>setListType(value)}>\r\n                            <Option value=\"3\">按天数</Option>\r\n                            <Option value=\"2\">按周次</Option>\r\n                            <Option value=\"1\">按月份</Option>\r\n                        </Select>\r\n                    </div>\r\n                    <div className=\"award-statistic-echart\" id=\"award-statistic-echart\"></div>\r\n                </div>:\r\n                Array.isArray(awardList) && awardList.length > 0?\r\n                <Empty\r\n                // className={\"list-empty\"}\r\n                style={{margin: \"40px 0\", paddingBottom: 20}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>:\r\n                \"\"\r\n            }\r\n\r\n           \r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash, userInfo },\r\n    } = state;\r\n    return { levelHash, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(AwardMsg)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport { Progress, Select, Carousel } from \"antd\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nimport * as echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nimport { data } from \"jquery\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n\r\nfunction PunishMsg(props, ref) {\r\n    let {\r\n        userIdentity,\r\n        currentTerm,\r\n        currentGrade,\r\n        currentClass,\r\n        userInfo: { UserID,SchoolID },\r\n        reflash\r\n    } = props;\r\n    const [punishInfo, setPunishInfo] = useState([]);\r\n    const [punishList, setPunishList] = useState([]);\r\n    const [leaderPubishInfo, setLeaderPunishInfo] = useState({});\r\n    //日期类型，1按月，2按周，3按日\r\n    const [currentDataType, setCurrentDataType] = useState(\"3\");\r\n    let colorList = [\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#1da4fe'\r\n        },{\r\n            offset: 1,\r\n            color: '#7ecbff'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#51ca51'\r\n        },{\r\n            offset: 1,\r\n            color: '#a0dea0'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#F79750'\r\n        },{\r\n            offset: 1,\r\n            color: '#FFB681'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#2D3149'\r\n        },{\r\n            offset: 1,\r\n            color: '#363D71'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#E84956'\r\n        },{\r\n            offset: 1,\r\n            color: '#E9707A'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#6E54CC'\r\n        },{\r\n            offset: 1,\r\n            color: '#7E90E9'\r\n        }])\r\n    ];\r\n    useLayoutEffect(()=>{\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        if(!currentTermInfo.startDate || !currentTermInfo.endDate){\r\n            return;\r\n        }\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let url;\r\n        // if(userIdentity == 'student'){//\r\n            url = BasicProxy + \"/api/punishAndReward/punishment/list?studentId=\" + (\r\n                userIdentity == \"student\"?\r\n                UserID:\r\n                \"\"\r\n            ) +\r\n            \"&classId=\" + currentClass +\r\n            \"&gradeId=\" + currentGrade +\r\n            \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n            \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        // }\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setPunishList(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, reflash]);\r\n    useLayoutEffect(()=>{\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){\r\n            return;\r\n        }\r\n        if(!currentTermInfo.startDate || !currentTermInfo.endDate){\r\n            return;\r\n        }\r\n        if(userIdentity == \"student\" && (!UserID || !currentClass || !currentGrade)){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        \r\n        let id = userIdentity == \"student\"?\r\n        UserID:\r\n        userIdentity == \"teacher\"?\r\n        currentClass:\r\n        userIdentity == \"manager\"?\r\n        currentClass?\r\n        currentClass:\r\n        currentGrade?\r\n        currentGrade:\r\n        SchoolID:\r\n        \"\";\r\n        if(!id){\r\n            return;\r\n        }\r\n        let url;\r\n        // if(userIdentity == 'student'){//\r\n            url = BasicProxy + \"/api/punishAndReward/punishment/distribution?id=\" + (\r\n                userIdentity == \"student\"?\r\n                UserID:\r\n                userIdentity == \"teacher\"?\r\n                currentClass:\r\n                userIdentity == \"manager\"?\r\n                currentClass?\r\n                currentClass:\r\n                currentGrade?\r\n                currentGrade:\r\n                SchoolID:\r\n                \"\"\r\n            ) +\r\n            \"&queryType=\" + (\r\n                userIdentity == \"student\"?\r\n                1:\r\n                userIdentity == \"teacher\"?\r\n                2:\r\n                userIdentity == \"manager\"?\r\n                currentClass?\r\n                2:\r\n                currentGrade?\r\n                3:\r\n                4:\r\n                \"\"\r\n            ) +\r\n            \"&periodType=\" + currentDataType +\r\n            \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n            \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        // }\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setPunishInfo(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, currentDataType, reflash]);\r\n    //领导端调用接口\r\n    useLayoutEffect(()=>{\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        if(!currentTermInfo.startDate || !currentTermInfo.endDate){\r\n            return;\r\n        }\r\n        if(userIdentity != \"manager\" || currentGrade || currentClass){\r\n            return;\r\n        }\r\n        let url;\r\n        // if(userIdentity == 'student'){//\r\n            url = BasicProxy + \"/api/punishAndReward/punishment/leader/punishStatus?classId=&gradeId=\" +\r\n            \"&schoolId=\" + SchoolID +\r\n            \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n            \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        // }\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setLeaderPunishInfo(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, reflash, SchoolID]);\r\n    useLayoutEffect(()=>{\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        if(userIdentity != \"manager\" || currentGrade || currentClass){\r\n            return;\r\n        }\r\n        if(!currentTermInfo.startDate || !currentTermInfo.endDate){\r\n            return;\r\n        }\r\n        let url = BasicProxy + \"/api/punishAndReward/punishment/leader/distribution?classId=&gradeId=\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&periodType=\" + currentDataType +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setPunishInfo(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, currentDataType, reflash]);\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"punish-statistic-echart\"));\r\n        myEchart.resize();\r\n        let myList = [], classList = [], gradeList = [], xList = [];\r\n        \r\n        let seriesList = [], legendList = [];\r\n        if(userIdentity == \"manager\" && !currentGrade && !currentClass){ //查学校\r\n            let sumList = [];\r\n            punishInfo.forEach((item)=>{\r\n                sumList.push(item.totalTimes);\r\n            });\r\n            seriesList.push({\r\n                name:'总数',\r\n                type:'line',\r\n                lineStyle: {\r\n                    color: '#ff0000',\r\n                    width: 1,\r\n                    borderColor: '#ff0000',\r\n                    emphasis: {\r\n                        width: 1\r\n                    }\r\n                },\r\n                itemStyle: {\r\n                    color: '#ff0000'\r\n                },\r\n                data: sumList\r\n            },)\r\n            punishInfo.forEach((item, index)=>{\r\n                xList.push(item.date);\r\n                let arr = [];\r\n                Array.isArray(item.classTimes) &&\r\n                item.classTimes.forEach((child)=>{\r\n                    arr.push(child.rewardsCount);\r\n                    legendList.push(child.classInfo? child.classInfo.gradeName: \"\");\r\n                })\r\n                seriesList.push({\r\n                    // name:'班级',\r\n                    type:'bar',\r\n                    // barWidth : 16,\r\n                    itemStyle: {\r\n                        color: colorList[index%6]\r\n                    },\r\n                    data: arr\r\n                })\r\n            })\r\n            legendList = [...new Set(legendList)];\r\n            legendList.unshift(\"总数\");\r\n        } else if(userIdentity == \"student\"){\r\n            punishInfo && punishInfo.forEach((item)=>{\r\n                myList.push(item.personalTimes);\r\n                classList.push(item.classTimes);\r\n                gradeList.push(item.gradeTimes);\r\n                xList.push(item.month);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ];\r\n        } else if(currentClass){\r\n            punishInfo && punishInfo.forEach((item)=>{\r\n                myList.push(item.personalTimes);\r\n                classList.push(item.classTimes);\r\n                gradeList.push(item.gradeTimes);\r\n                xList.push(item.month);\r\n            })\r\n            seriesList = [\r\n                // {\r\n                //     name:'班级奖项',\r\n                //     type:'line',\r\n                //     lineStyle: {\r\n                //         color: '#2d3047',\r\n                //         width: 1,\r\n                //         borderColor: '#2d3047',\r\n                //         emphasis: {\r\n                //             width: 1\r\n                //         }\r\n                //     },\r\n                //     itemStyle: {\r\n                //         color: '#2d3047'\r\n                //     },\r\n                //     data:[3, 3, 3, 2, 3]\r\n                // },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级平均',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ];\r\n        } else if(currentGrade){\r\n            punishInfo && punishInfo.forEach((item)=>{\r\n                myList.push(item.personalTimes);\r\n                classList.push(item.classTimes);\r\n                gradeList.push(item.gradeTimes);\r\n                xList.push(item.month);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级平均',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ];\r\n        }\r\n        let option = { \r\n            grid: {\r\n                top: 40,\r\n                bottom: xList.length > 6? 55: 40,\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            backgroundColor: '#f5f5f5',\r\n            legend: (\r\n                userIdentity == \"manager\" && !currentGrade && !currentClass?\r\n                {\r\n                    type: 'scroll',\r\n                    width: '62%',\r\n                    top: '7px',\r\n                    left: 'center',\r\n                    data: legendList,\r\n                    textStyle: {\r\n                        color: '#999999',\r\n                    }\r\n                }:\r\n                {\r\n                    top: '7px',\r\n                    left: (userIdentity == 'teacher'?'30%': '58%'),\r\n                    // data:['个人','班级','年级'],\r\n                    textStyle: {\r\n                        color: '#999999',\r\n                    }\r\n                }\r\n            ),\r\n            dataZoom: {\r\n                show:  xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                minValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 25\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '次数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [punishInfo, userIdentity]);\r\n    let classCount = 0, stuCount = 0, gradeCount = 0, schoolCount = 0;\r\n    punishList.forEach((item)=>{\r\n        if(item.punishmentType == 3){\r\n            classCount++;\r\n        }\r\n        if(item.punishmentType == 2){\r\n            gradeCount++;\r\n        }\r\n        if(item.punishmentType == 1){\r\n            stuCount++;\r\n        }\r\n        if(item.punishmentLevel == 1){\r\n            schoolCount++;\r\n        }\r\n    })\r\n    return (\r\n        <div className=\"punish-info\">\r\n            <div className=\"punish-left\">\r\n                {\r\n                    // userIdentity == 'teacher'?\r\n                    currentClass && !currentGrade?\r\n                    <p className=\"punish-count\">\r\n                        班级处罚总数\r\n                        <span style={{color: '#333333'}}>{classCount}次</span>;\r\n                        年级平均处罚数\r\n                        <span style={{color: '#ff0000'}}>{gradeCount}次</span>\r\n                    </p>:\r\n                    userIdentity == \"student\"?\r\n                    <p className=\"punish-count\">\r\n                        个人处罚总数\r\n                        <span style={{color: '#333333'}}>{stuCount}次</span>;\r\n                        班级平均处罚数\r\n                        <span style={{color: '#ff0000'}}>{classCount}次</span>;\r\n                        年级平均处罚数\r\n                        <span style={{color: '#ff0000'}}>{gradeCount}次</span>\r\n                    </p>:\r\n                    \"\"\r\n                }\r\n                <div className=\"circle-container\">\r\n                    <div className=\"punish-kind-info\">\r\n                        <div className=\"circle blue\">\r\n                        {\r\n                        userIdentity == \"manager\" && !currentClass && !currentGrade?\r\n                        typeof leaderPubishInfo.schoolLevelCount == \"number\"?\r\n                        leaderPubishInfo.schoolLevelCount:\r\n                        \"--\":\r\n                        schoolCount\r\n                        }</div>\r\n                        <p>校级处罚</p>\r\n                    </div>\r\n                    <div className=\"punish-kind-info\">\r\n                        <div className=\"circle orange\">\r\n                        {\r\n                        userIdentity == \"manager\" && !currentClass && !currentGrade?\r\n                        typeof leaderPubishInfo.gradeLevelCount == \"number\"?\r\n                        leaderPubishInfo.gradeLevelCount:\r\n                        \"--\":\r\n                        gradeCount\r\n                        }</div>\r\n                        <p>年级处罚</p>\r\n                    </div>\r\n                    <div className=\"punish-kind-info\">\r\n                        <div className=\"circle red\">\r\n                        {\r\n                        userIdentity == \"manager\" && !currentClass && !currentGrade?\r\n                        typeof leaderPubishInfo.classLevelCount == \"number\"?\r\n                        leaderPubishInfo.classLevelCount:\r\n                        \"--\":\r\n                        classCount\r\n                        }</div>\r\n                        <p>班级处罚</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"punish-right\">\r\n                    <div className=\"echart-title\">\r\n                        <span>处罚统计</span>\r\n                        <Select value={currentDataType} className=\"select\" onChange={(value)=>setCurrentDataType(value)}>\r\n                            <Option value=\"3\">按天数</Option>\r\n                            <Option value=\"2\">按周次</Option>\r\n                            <Option value=\"1\">按月份</Option>\r\n                        </Select>\r\n                    </div>\r\n                <div className=\"punish-statistic-echart\" id=\"punish-statistic-echart\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash, userInfo },\r\n    } = state;\r\n    return { levelHash, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(PunishMsg)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { Empty, Modal } from \"../../../component/common\";\r\nimport Table from \"../../../component/tableList\";\r\nimport Bar from \"../../../component/bar\";\r\nimport AwardPunishRank from \"./awardPunishRank\";\r\nimport AwardMsg from \"./awardMsg\";\r\nimport PunishMsg from \"./punishMsg\";\r\nimport Track from \"../../../component/Track\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n  function AwardAndPunish(props, ref) {\r\n    // *selectLevel:这里的selectLevel与用户的没关系，与看的级别有关，例如教育局的看学校的，selectLevel===2\r\n    // *productLevel:产品类型，给用户看的界面类型，用来控制界面的一些属性：1教育局，2大学学校，3教育局学校，4大学学院，\r\n    // *product:包含该productLevel的所有信息,有使用组件者使用productLevel和commonData的levelHash匹配使用，必须传，不传将出问题\r\n    let {\r\n      term,\r\n      HasHistory,\r\n      onAnchorComplete,\r\n      schoolID,\r\n      collegeID,\r\n      productMsg,\r\n      userIdentity,\r\n      currentClass,\r\n      currentGrade,\r\n      userInfo: {UserID, SchoolID},\r\n      reflash\r\n    } = props;\r\n    const [awardVisible, setAwardVisible] = useState(false);\r\n    const [punishVisible, setPunishVisible] = useState(false);\r\n    const [trackInfo, setTrackInfo] = useState([]);\r\n    const [studentList, setStudentList] = useState([]);\r\n    const [selectStudentList, setSelectStudentList] = useState([]);\r\n    const [keyword, setKeyWord] = useState(\"\");\r\n    //单个学生详情数据\r\n    const [awardList, setAwardList] = useState([]);\r\n    const [punishList, setPunishList] = useState([]);\r\n    //控制模态框显示内容\r\n    const [modalShowType, setModalShowType] = useState(userIdentity == \"student\"? \"detail\": \"list\");\r\n    // const [myGrade, setCurrentGrade] = useState(\"\");\r\n    // const [myClass, setCurrentClass] = useState(\"\");\r\n    const awardPunishMsg = useRef(null);\r\n    const awardMsg = useRef(null);\r\n    const punishMsg = useRef(null);\r\n    const trackRef = useRef(null);\r\n    // useEffect(() => {\r\n    //   setCurrentClass(currentClass);\r\n    // }, [currentClass])\r\n    // useEffect(() => {\r\n    //   setCurrentGrade(currentGrade);\r\n    // }, [currentGrade])\r\n    const awardClassList = {\r\n      \"1\": '一等奖',\r\n      \"2\": '二等奖',\r\n      \"3\": '三等奖',\r\n      \"-1\": '其他'\r\n    };\r\n    const punishmentTypeList = {\r\n      \"1\": '班级',\r\n      \"2\": '年级',\r\n      \"3\": '校级',\r\n      \"-1\": '其他'\r\n    };\r\n    const awardTableHeader = [\r\n      {\r\n        key: \"awardName\",\r\n        name: \"奖励名称\"\r\n      },\r\n      {\r\n        key: \"awardDetail\",\r\n        name: \"获奖原因\"\r\n      },\r\n      {\r\n        key: \"awardLevelName\",\r\n        name: \"奖励级别\"\r\n      },\r\n      {\r\n        key: \"awardClassName\",\r\n        name: \"奖励等级\"\r\n      },\r\n      {\r\n        key: \"awardDate\",\r\n        name: \"获奖日期\"\r\n      },\r\n      {\r\n        key: \"issuedBy\",\r\n        name: \"颁奖单位\"\r\n      }\r\n    ]\r\n    const punishTableHeader = [\r\n      {\r\n        key: \"punishmentName\",\r\n        name: \"惩戒类型\"\r\n      },\r\n      {\r\n        key: \"punishmentReason\",\r\n        name: \"惩戒原因\"\r\n      },\r\n      {\r\n        key: \"punishmentTypeName\",\r\n        name: \"惩戒级别\"\r\n      },\r\n      {\r\n        key: \"punishmentDate\",\r\n        name: \"惩戒日期\"\r\n      },\r\n    ]\r\n    useLayoutEffect(() => {\r\n      // setAnchorList();\r\n      typeof onAnchorComplete === \"function\" &&\r\n        onAnchorComplete([\r\n          { ref: awardPunishMsg.current, name: \"奖惩排行\" },\r\n          { ref: awardMsg.current, name: \"获奖情况\" },\r\n          { ref: punishMsg.current, name: \"处罚情况\" },\r\n        //   { ref: schoolAttendance.current, name: \"学校考勤\" },\r\n          { ref: trackRef.current, name: \"奖惩轨迹\" },\r\n        ]);\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    // 初始请求\r\n    useLayoutEffect(() => {\r\n      //获取成长历程\r\n      if(userIdentity == \"student\" && !UserID){\r\n        return;\r\n      }\r\n      if(userIdentity == \"teacher\" && !currentClass){\r\n        return;\r\n      }\r\n      let currentTermInfo = term.value && JSON.parse(term.value);\r\n      let url = BasicProxy + \"/api/punishAndReward/route?id=\" + (\r\n        userIdentity == \"student\"?\r\n        UserID:\r\n        userIdentity == \"teacher\"?\r\n        currentClass:\r\n        userIdentity == \"manager\"?\r\n        currentClass?\r\n        currentClass:\r\n        currentGrade?\r\n        currentGrade:\r\n        SchoolID:\r\n        UserID\r\n      ) +\r\n      \"&queryType=\" + (\r\n        userIdentity == \"student\"?\r\n        1:\r\n        userIdentity == \"teacher\"?\r\n        2:\r\n        userIdentity == \"manager\"?\r\n        4:\r\n        1\r\n      ) +\r\n    \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n    \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && Array.isArray(result.data)){\r\n        setTrackInfo(result.data);\r\n      }\r\n    })\r\n    }, [term, currentClass, reflash])\r\n\r\n    //如果是老师则先获取学生列表\r\n    useLayoutEffect(() => {\r\n      if(userIdentity == \"teacher\" && currentClass){\r\n        let url = BasicProxy + \"/api/base/getStudentInfo?schoolId=\" +\r\n        SchoolID +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&classId=\" + currentClass;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setStudentList(result.data);\r\n                setSelectStudentList(result.data);\r\n            }\r\n        })\r\n      }\r\n    }, [userIdentity, UserID, currentClass, currentGrade, term, reflash])\r\n    //获取弹出框详细信息\r\n    useLayoutEffect(() => {\r\n      if(userIdentity != \"student\"){\r\n        return;\r\n      }\r\n      let termInfo = term && term.value && JSON.parse(term.value);\r\n      let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n      let classGradeId = \"\";\r\n      classList.forEach((item)=>{\r\n          if(item.classId == currentClass){\r\n              classGradeId = item.gradeId;\r\n          }\r\n      })\r\n      //奖励详情\r\n      let url = BasicProxy + \"/api/punishAndReward/rewards/list?studentId=\" + UserID +\r\n      \"&classId=\" + currentClass +\r\n      \"&gradeId=\" + classGradeId +\r\n      \"&startDate=\" + termInfo.startDate.substr(0, 10) +\r\n      \"&endDate=\" + termInfo.endDate.substr(0, 10) ;\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && Array.isArray(result.data)){\r\n            result.data.forEach((item)=>{\r\n              item.awardClassName = awardClassList[item.awardClass];\r\n            })\r\n            setAwardList(result.data);\r\n          }\r\n      })     \r\n      //处罚详情\r\n      url = BasicProxy + \"/api/punishAndReward/punishment/list?studentId=\" + UserID +\r\n      \"&classId=\" + currentClass +\r\n      \"&gradeId=\" + classGradeId +\r\n      \"&startDate=\" + termInfo.startDate.substr(0, 10) +\r\n      \"&endDate=\" + termInfo.endDate.substr(0, 10) ;\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && Array.isArray(result.data)){\r\n            result.data.forEach((item)=>{\r\n              item.punishmentTypeName = punishmentTypeList[item.punishmentType];\r\n            })\r\n            setPunishList(result.data);\r\n          }\r\n      })     \r\n    }, [term, currentClass, currentGrade, userIdentity, UserID, reflash]);\r\n    //点击学生查看学生奖励详细信息\r\n    const setStudentAwardInfo = (data) => {\r\n      let termInfo = term && term.value && JSON.parse(term.value);\r\n      let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n      let classGradeId = \"\";\r\n      classList.forEach((item)=>{\r\n          if(item.classId == currentClass){\r\n              classGradeId = item.gradeId;\r\n          }\r\n      })\r\n      let url = BasicProxy + \"/api/punishAndReward/rewards/list?studentId=\" + data.userId +\r\n      \"&classId=\" + currentClass +\r\n      \"&gradeId=\" + classGradeId +\r\n      \"&startDate=\" + termInfo.startDate.substr(0, 10) +\r\n      \"&endDate=\" + termInfo.endDate.substr(0, 10) ;\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && result.data){\r\n            result.data.forEach((item)=>{\r\n              item.awardClassName = awardClassList[item.awardClass];\r\n            })\r\n            setAwardList(result.data);\r\n            setModalShowType(\"detail\");\r\n          }\r\n      }) \r\n    }\r\n    //点击学生查看学生处罚详细信息\r\n    const setStudentPunishInfo = (data) => {\r\n      let termInfo = term && term.value && JSON.parse(term.value);\r\n      let classList = sessionStorage.getItem(\"classList\")? JSON.parse(sessionStorage.getItem(\"classList\")): [];\r\n      let classGradeId = \"\";\r\n      classList.forEach((item)=>{\r\n          if(item.classId == currentClass){\r\n              classGradeId = item.gradeId;\r\n          }\r\n      })\r\n      let url = BasicProxy + \"/api/punishAndReward/punishment/list?studentId=\" + data.userId +\r\n      \"&classId=\" + currentClass +\r\n      \"&gradeId=\" + classGradeId +\r\n      \"&startDate=\" + termInfo.startDate.substr(0, 10) +\r\n      \"&endDate=\" + termInfo.endDate.substr(0, 10) ;\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && Array.isArray(result.data)){\r\n            result.data.forEach((item)=>{\r\n              item.punishmentTypeName = punishmentTypeList[item.punishmentType];\r\n            })\r\n            setPunishList(result.data);\r\n            setModalShowType(\"detail\");\r\n          }\r\n      })   \r\n    }\r\n    return (\r\n      <div className=\"award-and-punish\" id=\"awardAndPunish\">\r\n          {\r\n            userIdentity == 'teacher' || userIdentity == 'manager'?\r\n            <Bar loading={false} barName={\"奖惩排行\"} ref={awardPunishMsg}>\r\n                <AwardPunishRank \r\n                userIdentity={userIdentity} \r\n                currentTerm={term}\r\n                currentClass={currentClass}\r\n                currentGrade={currentGrade}\r\n                reflash={reflash} />\r\n            </Bar>:\r\n            \"\"\r\n          }\r\n        \r\n        <Bar\r\n          barName={\"获奖情况\"}\r\n          ref={awardMsg}\r\n          topContext={\r\n            userIdentity != \"manager\"?\r\n            <div className=\"module-link-group\">\r\n              <span \r\n              className=\"status\" \r\n              onClick={()=>setAwardVisible(true)}>\r\n                查看获奖详情信息\r\n              </span>\r\n            </div>\r\n            :false}\r\n          loading={false}\r\n        >\r\n            <AwardMsg\r\n            userIdentity={userIdentity} \r\n            currentTerm={term}\r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            reflash={reflash} />\r\n        </Bar>\r\n        <Bar \r\n        loading={false} \r\n        barName={\"处罚情况\"} \r\n        ref={punishMsg}\r\n        topContext={\r\n          userIdentity != \"manager\"?\r\n        <div className=\"module-link-group\">\r\n            <span \r\n            className=\"status\" \r\n            onClick={()=>setPunishVisible(true)}>\r\n            查看处罚详情信息\r\n            </span>\r\n        </div>\r\n        :false}\r\n        >\r\n            <PunishMsg\r\n            userIdentity={userIdentity}\r\n            currentTerm={term}\r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            reflash={reflash} />\r\n        </Bar>\r\n        <Bar loading={false} barName={\"奖惩轨迹\"} ref={trackRef}>\r\n            <Track \r\n            userIdentity={userIdentity}\r\n            type=\"awardAndPunish\"\r\n            data={trackInfo}\r\n            />\r\n        </Bar>\r\n        <Modal\r\n            type=\"1\"\r\n            title=\"奖励详情\"\r\n            visible={awardVisible}\r\n            onOk={()=>setAwardVisible(true)}\r\n            onCancel={()=>{\r\n              if(userIdentity != \"student\"){\r\n                setModalShowType(\"list\")\r\n              }\r\n              setAwardVisible(false)}}\r\n            footer={null}\r\n            width={1000}\r\n            className=\"height-weight-modal\"\r\n            bodyStyle={{height: 632 + 'px', padding: 20}}\r\n        >\r\n            {/* <div className=\"search-container\">\r\n              <span className=\"list-count\">\r\n                  共<span>{studentList.length}位</span>学生\r\n              </span>\r\n              <div className=\"input-container\">\r\n                  <input \r\n                  className=\"search-input\" \r\n                  type=\"text\" \r\n                  placeholder=\"请输入学生姓名进行搜索...\"\r\n                  value={keyword}\r\n                  onChange={searchStudent} />\r\n                  {\r\n                    keyword.length != 0?\r\n                    <i className=\"cancellogo\" onClick={cancelSearch}></i>:\r\n                    \"\"\r\n                  }\r\n                  <i className=\"searchlogo\"></i>\r\n              </div>\r\n            \r\n            </div> */}\r\n            {\r\n              modalShowType == \"list\"?\r\n              <div>\r\n                <p className=\"stu-count\">共<span>{\r\n                studentList.length\r\n                }</span>人</p>\r\n                <ul className=\"member-list\">\r\n                  <Scrollbars \r\n                  autoHeight\r\n                  autoHeightMax={580}>\r\n                    {\r\n                      selectStudentList.length > 0?\r\n                      selectStudentList.map((item, index)=>{\r\n                        return (\r\n                        <li key={index} onClick={()=>setStudentAwardInfo(item)}>\r\n                          <i className=\"user-header\" style={{\r\n                            backgroundImage:\r\n                            (\r\n                              item.photoPath?\r\n                              item.photoPath:\r\n                              \"\"\r\n                            )\r\n                          }}></i>\r\n                          <p title={item.userName}>{item.userName}</p>\r\n                        </li>\r\n                        )\r\n                      }):\r\n                      <Empty\r\n                      className={\"bar-empty\"}\r\n                      style={{margin: \"80px 0 0\"}}\r\n                      title={\"暂无数据\"}\r\n                      type={\"4\"}\r\n                      ></Empty>\r\n                    }\r\n                  \r\n                  </Scrollbars>\r\n                  \r\n                </ul>  \r\n              </div>:\r\n              <div>\r\n                {\r\n                  userIdentity != \"student\"?\r\n                  <span className=\"reback-prev\" onClick={()=>setModalShowType(\"list\")}>返回学生列表</span>:\r\n                  \"\"\r\n                }\r\n                \r\n                <Table\r\n                style={{marginTop: 20}}\r\n                tableHeader={awardTableHeader}\r\n                data={awardList}\r\n                ></Table>\r\n              </div>\r\n              \r\n            }\r\n            \r\n        </Modal>\r\n        <Modal\r\n            type=\"1\"\r\n            title=\"处罚详情\"\r\n            visible={punishVisible}\r\n            onOk={()=>setPunishVisible(true)}\r\n            onCancel={()=>{\r\n              if(userIdentity != \"student\"){\r\n                setModalShowType(\"list\")\r\n              }\r\n              setPunishVisible(false)}}\r\n            footer={null}\r\n            width={1000}\r\n            className=\"height-weight-modal\"\r\n            bodyStyle={{height: 632 + 'px', padding: 20}}\r\n        >\r\n            {/* <div className=\"search-container\">\r\n              <span className=\"list-count\">\r\n                  共<span>{studentList.length}位</span>学生\r\n              </span>\r\n              <div className=\"input-container\">\r\n                  <input \r\n                  className=\"search-input\" \r\n                  type=\"text\" \r\n                  placeholder=\"请输入学生姓名进行搜索...\"\r\n                  value={keyword}\r\n                  onChange={searchStudent} />\r\n                  {\r\n                    keyword.length != 0?\r\n                    <i className=\"cancellogo\" onClick={cancelSearch}></i>:\r\n                    \"\"\r\n                  }\r\n                  <i className=\"searchlogo\"></i>\r\n              </div>\r\n            \r\n            </div> */}\r\n            {\r\n              modalShowType == \"list\"?\r\n              <div>\r\n                <p className=\"stu-count\">共<span>{\r\n                studentList.length\r\n                }</span>人</p>\r\n                <ul className=\"member-list\">\r\n                  <Scrollbars \r\n                  autoHeight\r\n                  autoHeightMax={550}>\r\n                    {\r\n                      selectStudentList.length > 0?\r\n                      selectStudentList.map((item, index)=>{\r\n                        return (\r\n                        <li key={index} onClick={()=>setStudentPunishInfo(item)}>\r\n                          <i className=\"user-header\" style={{\r\n                            backgroundImage:\r\n                            (\r\n                              item.photoPath?\r\n                              item.photoPath:\r\n                              \"\"\r\n                            )\r\n                          }}></i>\r\n                          <p title={item.userName}>{item.userName}</p>\r\n                        </li>\r\n                        )\r\n                      }):\r\n                      <Empty\r\n                      className={\"bar-empty\"}\r\n                      style={{margin: \"80px 0 0\"}}\r\n                      title={\"暂无数据\"}\r\n                      type={\"4\"}\r\n                      ></Empty>\r\n                    }\r\n                  \r\n                  </Scrollbars>\r\n                  \r\n                </ul>  \r\n              </div>:\r\n              <div>\r\n                {\r\n                  userIdentity != \"student\"?\r\n                  <span className=\"reback-prev\" onClick={()=>setModalShowType(\"list\")}>返回学生列表</span>:\r\n                  \"\"\r\n                }\r\n                \r\n                <Table\r\n                style={{marginTop: 20}}\r\n                tableHeader={punishTableHeader}\r\n                data={punishList}\r\n                ></Table>\r\n              </div> \r\n            }\r\n            \r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  const mapStateToProps = (state) => {\r\n    let { commonData:{termInfo:{HasHistory}, userInfo} } = state;\r\n    // console.log(state)\r\n    return {HasHistory, userInfo};\r\n  };\r\n  export default connect(mapStateToProps)(memo(forwardRef(AwardAndPunish)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\n// import echarts from \"echarts\";\r\nimport {Select} from \"antd\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction MyLive(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n        reflash\r\n      } = props;\r\n    const [liveData, setLiveData] = useState({});\r\n    const [liveList, setLiveList] = useState([]);\r\n    const [currentDataType, setCurrentDataType] = useState(\"1\");\r\n    useLayoutEffect(() => {\r\n        //作息\r\n        if(userIdentity == \"student\" && !UserID){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        if(!currentTerm.value){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/campusLife/rest/average?studentId=\" + (\r\n          userIdentity == \"student\"?\r\n          UserID:\r\n          \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setLiveData(result.data);\r\n            }\r\n        })\r\n  \r\n        url = BasicProxy + \"/api/campusLife/rest/distribution?id=\" + (\r\n          userIdentity == \"student\"?\r\n          UserID:\r\n          userIdentity == \"teacher\"?\r\n          currentClass:\r\n          userIdentity == \"manager\"?\r\n          currentClass?\r\n          currentClass:\r\n          currentGrade?\r\n          currentGrade:\r\n          SchoolID:\r\n          \"\"\r\n        ) +\r\n        \"&queryType=\" + (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            userIdentity == \"manager\"?\r\n            currentClass?\r\n            2:\r\n            currentGrade?\r\n            3:\r\n            4:\r\n            \"\"\r\n        ) +\r\n        \"&periodType=\" + currentDataType +\r\n        // \"&gradeId=\" + currentGrade +\r\n        // \"&schoolId=\" + SchoolID +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setLiveList(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentDataType, reflash]);\r\n    useEffect(() => {\r\n        if(liveList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], inList = [], outList = [], homeList = [], courseList = [];\r\n        liveList.forEach((item)=>{\r\n            xList.push(item.month);\r\n            inList.push(item.classAverageInCampusTime);\r\n            outList.push(item.classAverageOutCampusTime);\r\n            homeList.push(item.classAverageDormitoryTime);\r\n            courseList.push(item.classLengthOfClassTime);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"kinds-time-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: (\r\n                    userIdentity == \"student\"?\r\n                    \"个人\":\r\n                    userIdentity == \"teacher\"?\r\n                    \"班级\":\r\n                    currentClass?\r\n                    \"班级\":\r\n                    currentGrade?\r\n                    \"年级\":\r\n                    \"全校\"\r\n                ) + '各项时长',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: 'center',\r\n                // data:['上课时长','宿舍时长','校内时长', '校外时长'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '时长/h',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            series: [\r\n                {\r\n                    name:'上课时长',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#2d3047'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#363d72'\r\n                        }])\r\n                    },\r\n                    data:courseList\r\n                },\r\n                {\r\n                    name:'宿舍时长',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#ffb709'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#ffe88a'\r\n                        }])\r\n                    },\r\n                    data:homeList\r\n                },\r\n                {\r\n                    name:'校内时长',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#80c35c'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#b3f093'\r\n                        }])\r\n                    },\r\n                    data:inList\r\n                },\r\n                {\r\n                    name:'校外时长',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:outList\r\n                },\r\n                \r\n            ]\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentDataType, liveList]);  \r\n\r\n    return (\r\n      <div className=\"my-live\">\r\n            <div className=\"show-top\">\r\n                <div className=\"course-time\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">上课时长: <span>\r\n                    {\r\n                    userIdentity == \"student\"?\r\n                    liveData.studentLengthOfClassTime:\r\n                    userIdentity == \"teacher\"?\r\n                    liveData.classLengthOfClassTime:\r\n                    userIdentity == \"manager\"?\r\n                    liveData.gradeLengthOfClassTime:\r\n                    \"--\"\r\n                    }\r\n                    h</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:\r\n                            {liveData.gradeLengthOfClassTime?liveData.gradeLengthOfClassTime: \"--\"}\r\n                        </p>:\r\n                        <p>\r\n                            班级平均:{liveData.classLengthOfClassTime?liveData.classLengthOfClassTime: \"--\"}; \r\n                            年级平均:{liveData.gradeLengthOfClassTime?liveData.gradeLengthOfClassTime: \"--\"}\r\n                        </p>\r\n                    }\r\n                </div>\r\n                <div className=\"schoolhome-time\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">宿舍时长: <span>\r\n                    {\r\n                    userIdentity == \"student\"?\r\n                    liveData.studentAverageDormitoryTime\t:\r\n                    userIdentity == \"teacher\"?\r\n                    liveData.classAverageDormitoryTime:\r\n                    userIdentity == \"manager\"?\r\n                    liveData.gradeAverageDormitoryTime:\r\n                    \"--\"\r\n                    }h</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:{liveData.gradeAverageDormitoryTime? liveData.gradeAverageDormitoryTime: \"--\"}</p>:\r\n                        <p>班级平均:{liveData.classAverageDormitoryTime? liveData.classAverageDormitoryTime: \"--\"}; \r\n                            年级平均:{liveData.gradeAverageDormitoryTime? liveData.gradeAverageDormitoryTime: \"--\"}</p>\r\n                    }\r\n                </div>\r\n                <div className=\"school-in-time\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">校内时长: <span>{\r\n                    userIdentity == \"student\"?\r\n                    liveData.studentAverageInCampusTime:\r\n                    userIdentity == \"teacher\"?\r\n                    liveData.classAverageInCampusTime:\r\n                    userIdentity == \"manager\"?\r\n                    liveData.gradeAverageInCampusTime:\r\n                    \"--\"\r\n                    }h</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:{liveData.gradeAverageInCampusTime? liveData.gradeAverageInCampusTime: \"--\"}</p>:\r\n                        <p>班级平均:{liveData.classAverageInCampusTime? liveData.classAverageInCampusTime: \"--\"}; \r\n                            年级平均:{liveData.gradeAverageInCampusTime? liveData.gradeAverageInCampusTime: \"--\"}</p>\r\n                    }\r\n                </div>\r\n                <div className=\"school-out-time\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">校外时长: <span>{\r\n                    userIdentity == \"student\"?\r\n                    liveData.studentAverageOutCampusTime:\r\n                    userIdentity == \"teacher\"?\r\n                    liveData.classAverageOutCampusTime:\r\n                    userIdentity == \"manager\"?\r\n                    liveData.gradeAverageOutCampusTime:\r\n                    \"--\"\r\n                    }h</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:{liveData.gradeAverageOutCampusTime? liveData.gradeAverageOutCampusTime: \"--\"}</p>:\r\n                        <p>班级平均:{liveData.classAverageOutCampusTime? liveData.classAverageOutCampusTime: \"--\"}; \r\n                        年级平均:{liveData.gradeAverageOutCampusTime? liveData.gradeAverageOutCampusTime: \"--\"}</p>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className=\"select-container\">\r\n                <span>时间:</span>\r\n                <Select value={currentDataType} className=\"select\" onChange={(value)=>setCurrentDataType(value)}>\r\n                    <Option value=\"3\">按天数</Option>\r\n                    <Option value=\"2\">按周次</Option>\r\n                    <Option value=\"1\">按月份</Option>\r\n                </Select>\r\n            </div>\r\n            <div className=\"show-bottom\">\r\n                {\r\n                    liveList.length > 0?\r\n                    <div className=\"kinds-time-echart\" id=\"kinds-time-echart\"></div>:\r\n                    <Empty\r\n                    // className={\"bar-empty\"}\r\n                    style={{margin: \"20px 0\"}}\r\n                    title={\"暂无数据\"}\r\n                    type={\"4\"}\r\n                    ></Empty>\r\n                }\r\n                    \r\n            </div>\r\n      </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(MyLive)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\n// import echarts from \"echarts\";\r\nimport {Select} from \"antd\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nimport Item from \"antd/lib/list/Item\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction MyConsume(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n        reflash\r\n      } = props;\r\n    const [currentDataType, setCurrentDataType] = useState(\"1\");\r\n    const [consumeList, setConsumeList] = useState([]);\r\n    const [consumeGradeList, setConsumeGradeList] = useState([]);\r\n    const [consumeClassList, setConsumeClassList] = useState([]);\r\n    const [consumeStatisticList, setConsumeStatisticList] = useState([]);\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"student\" && !UserID){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        if(!currentTerm.value){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/campusLife/consumption/list?studentId=\" + (\r\n          userIdentity == \"student\"?\r\n          UserID:\r\n          \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                result.data.forEach((item)=>{\r\n                    let date = new Date(item.orderTimestamp).getHours();\r\n                    console.log(date);\r\n                    if(date >= 0 && date <= 6){\r\n                        item.orderDate = \"凌晨\";\r\n                    }\r\n                    if(date > 6 && date <= 12){\r\n                        item.orderDate = \"上午\";\r\n                    }\r\n                    if(date > 12 && date <= 14){\r\n                        item.orderDate = \"中午\";\r\n                    }\r\n                    if(date > 14 && date <= 18){\r\n                        item.orderDate = \"下午\";\r\n                    }\r\n                    if(date > 18 && date <= 24){\r\n                        item.orderDate = \"晚上\";\r\n                    }\r\n                })\r\n              setConsumeList(result.data);\r\n            }\r\n        }) \r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"student\" && !UserID){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        if(!currentTerm.value){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let  url = BasicProxy + \"/api/campusLife/consumption/distribution?id=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            userIdentity == \"teacher\"?\r\n            currentClass:\r\n            userIdentity == \"manager\"?\r\n            currentClass?\r\n            currentClass:\r\n            currentGrade?\r\n            currentGrade:\r\n            SchoolID:\r\n            \"\"\r\n          ) +\r\n          \"&queryType=\" + (\r\n              userIdentity == \"student\"?\r\n              1:\r\n              userIdentity == \"teacher\"?\r\n              2:\r\n              userIdentity == \"manager\"?\r\n              currentClass?\r\n              2:\r\n              currentGrade?\r\n              3:\r\n              4:\r\n              \"\"\r\n          ) +\r\n          \"&periodType=\" + currentDataType +\r\n          // \"&gradeId=\" + currentGrade +\r\n          // \"&schoolId=\" + SchoolID +\r\n          \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n          \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n          fetch\r\n          .get({url, securityLevel: 2})\r\n          .then((res)=>res.json())\r\n          .then((result)=>{\r\n              if(result.status == 200 && result.data){\r\n                setConsumeStatisticList(result.data);\r\n              }\r\n          })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentDataType, reflash]);\r\n   //获取班级数据\r\n   useLayoutEffect(() => {\r\n    let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n    let url = BasicProxy + \"/api/campusLife/consumption/list?studentId=\" +\r\n    \"&gradeId=&classId=\" + currentClass +\r\n    \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n    \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          setConsumeClassList(result.data);\r\n        }\r\n    }) \r\n}, [userIdentity, currentGrade, currentClass, currentTerm, currentDataType, reflash]);\r\n    //获取年级数据\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/campusLife/consumption/list?studentId=\" +\r\n        \"&classId=&gradeId=\" + currentGrade +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setConsumeGradeList(result.data);\r\n            }\r\n        }) \r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentDataType, reflash]);\r\n    const colorList = ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'];\r\n    useEffect(() => {\r\n        if(consumeList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], dataList = [];\r\n        consumeList.forEach((item)=>{\r\n            xList.push(item.type);\r\n        })\r\n        xList = [...new Set(xList)];\r\n        xList.forEach((item)=>{\r\n            let sum = 0;\r\n            consumeList.forEach((child)=>{\r\n                if(child.type == item){\r\n                    sum += 1;\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: sum\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"consume-kind-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '消费类别分布图',\r\n                left: 'center',\r\n                top: '81%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '消费类别',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true,\r\n                        // textStyle: {\r\n                        //     color: function(params) {\r\n                        //         console.log(params);\r\n                        //         return colorList[(params.dataIndex)%5]\r\n                        //     },\r\n                        // },\r\n                        formatter: \"{b} {d}%\",\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    data: dataList\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [consumeList]);\r\n    useEffect(() => {\r\n        if(consumeList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], dataList = [];\r\n        consumeList.forEach((item)=>{\r\n            xList.push(item.place);\r\n        })\r\n        xList = [...new Set(xList)];\r\n        xList.forEach((item)=>{\r\n            let sum = 0;\r\n            consumeList.forEach((child)=>{\r\n                if(child.place == item){\r\n                    sum += 1;\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: sum\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"consume-area-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '消费地点分布图',\r\n                left: 'center',\r\n                top: '81%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '消费地点',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true,\r\n                        // textStyle: {\r\n                        //     color: function(params) {\r\n                        //         return colorList[params.dataIndex]\r\n                        //     },\r\n                        // },\r\n                        formatter: \"{b} {d}%\"\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: dataList\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [consumeList]);\r\n    useEffect(() => {\r\n        if(consumeList.length == 0){\r\n            return;\r\n        }\r\n        console.log(consumeList, \"上网时间\")\r\n        let xList = [], dataList = [];\r\n        consumeList.forEach((item)=>{\r\n            xList.push(item.orderDate);\r\n        })\r\n        xList = [...new Set(xList)];\r\n        xList.forEach((item)=>{\r\n            let sum = 0;\r\n            consumeList.forEach((child)=>{\r\n                if(child.orderDate == item){\r\n                    sum += 1;\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: sum\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"consume-time-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '消费时间分布图',\r\n                left: 'center',\r\n                top: '81%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '消费时间',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true,\r\n                        // textStyle: {\r\n                        //     color: function(params) {\r\n                        //         return colorList[params.dataIndex]\r\n                        //     },\r\n                        // },\r\n                        formatter: \"{b} {d}%\"\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: dataList\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [consumeList]);\r\n    useEffect(() => {\r\n        if(consumeStatisticList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], myList = [], classList = [], gradeList = [], seriesList= [];\r\n        consumeStatisticList.forEach((item)=>{\r\n            xList.push(item.month);\r\n            myList.push(item.personalCount);\r\n            classList.push(item.classCount);\r\n            gradeList.push(item.gradeCount);\r\n        })\r\n        if(userIdentity == \"student\"){\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        }\r\n        if(userIdentity == \"teacher\"){\r\n            seriesList = [\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                }, \r\n            ]\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"consume-sum-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '消费总额',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}元</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                right: '10%',\r\n                data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 25\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '总额(元)',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentDataType, consumeStatisticList]);\r\n    useEffect(() => {\r\n        if(consumeStatisticList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], myList = [], classList = [], gradeList = [], seriesList = [];\r\n        consumeStatisticList.forEach((item)=>{\r\n            xList.push(item.month);\r\n            myList.push(item.personalTimes);\r\n            classList.push(item.classTimes);\r\n            gradeList.push(item.gradeTimes);\r\n        })\r\n        if(userIdentity == \"student\"){\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        }\r\n        if(userIdentity == \"teacher\"){\r\n            seriesList = [\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                }, \r\n            ]\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"consume-count-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '消费次数',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}次</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                right: '10%',\r\n                data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 25\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '次数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentDataType, consumeStatisticList]);\r\n    let gradeSum = 0, \r\n    gradeCount = consumeGradeList.length, sum = 0, classSum = 0, count = consumeList.length, \r\n    classCount = consumeClassList.length;\r\n    consumeList.forEach((item)=>{\r\n        sum += item.count;\r\n    })\r\n    consumeClassList.forEach((item)=>{\r\n        classSum += item.count;\r\n    })\r\n    consumeGradeList.forEach((item)=>{\r\n        gradeSum += item.count;\r\n    })\r\n    return (\r\n        <div className=\"my-consume\">\r\n            <div className=\"show-top\">\r\n                <div className=\"consume-level\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">消费水平: <span>--</span></p>\r\n                    <p>--</p>\r\n                </div>\r\n                <div className=\"consume-sum\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">消费总额: <span>{sum}</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:{gradeSum}</p>:\r\n                        <p>班级平均:{classSum}; 年级平均:{gradeSum}</p>\r\n                    }\r\n                </div>\r\n                <div className=\"consume-count\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">消费次数: <span>{count}</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:{gradeCount}</p>:\r\n                        <p>班级平均:{gradeCount}; 年级平均:{gradeCount}</p>\r\n                    }\r\n                </div>\r\n                <div className=\"consume-frequency\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">消费频率: <span>--次/天</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:--</p>:\r\n                        <p>班级平均:--; 年级平均:--</p>\r\n                    }\r\n                </div>\r\n            </div>\r\n            {\r\n                consumeList.length > 0?\r\n                <div className=\"show-center\">\r\n                    <div className=\"consume-kind-echart\" id=\"consume-kind-echart\"></div>      \r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"consume-area-echart\" id=\"consume-area-echart\"></div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"consume-time-echart\" id=\"consume-time-echart\"></div>\r\n                </div>  :\r\n                <Empty\r\n                className={\"bar-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }\r\n        \r\n            <div className=\"select-container\">\r\n                <span>时间:</span>\r\n                <Select value={currentDataType} className=\"select\" onChange={(value)=>setCurrentDataType(value)}>\r\n                    <Option value=\"3\">按天数</Option>\r\n                    <Option value=\"2\">按周次</Option>\r\n                    <Option value=\"1\">按月份</Option>\r\n                </Select>\r\n            </div>\r\n            {\r\n                consumeStatisticList.length > 0?\r\n                <div className=\"show-bottom\">\r\n                \r\n                    <div className=\"consume-sum-echart\" id=\"consume-sum-echart\"></div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"consume-count-echart\" id=\"consume-count-echart\"></div>\r\n                </div>:\r\n                <Empty\r\n                // className={\"bar-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }   \r\n            \r\n        </div>\r\n    );\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(MyConsume)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\n// import echarts from \"echarts\";\r\nimport {Select} from \"antd\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction MyInternet(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n        reflash\r\n      } = props;\r\n    const [currentDataType, setCurrentDataType] = useState(\"1\");\r\n    const [internetList, setInternetList] = useState([]);\r\n    const [internetGradeList, setInternetGradeList] = useState([]);\r\n    const [internetClassList, setInternetClassList] = useState([]);\r\n    const [internetStatisticList, setInternetStatisticList] = useState([]);\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"student\" && !UserID){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        if(!currentTerm.value){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/campusLife/networkLog/list?studentId=\" + (\r\n          userIdentity == \"student\"?\r\n          UserID:\r\n          \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n            result.data.forEach((item)=>{\r\n                let date = new Date(item.startTime).getHours();\r\n                if(date >= 0 && date <= 6){\r\n                    item.startTime = \"凌晨\";\r\n                }\r\n                if(date > 6 && date <= 12){\r\n                    item.startTime = \"上午\";\r\n                }\r\n                if(date > 12 && date <= 14){\r\n                    item.startTime = \"中午\";\r\n                }\r\n                if(date > 14 && date <= 18){\r\n                    item.startTime = \"下午\";\r\n                }\r\n                if(date > 18 && date <= 24){\r\n                    item.startTime = \"晚上\";\r\n                }\r\n            })\r\n              setInternetList(result.data);\r\n            }\r\n        }) \r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, reflash]);\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"student\" && !UserID){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        if(!currentTerm.value){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let  url = BasicProxy + \"/api/campusLife/networkLog/distribution?id=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            userIdentity == \"teacher\"?\r\n            currentClass:\r\n            userIdentity == \"manager\"?\r\n            currentClass?\r\n            currentClass:\r\n            currentGrade?\r\n            currentGrade:\r\n            SchoolID:\r\n            \"\"\r\n          ) +\r\n          \"&queryType=\" + (\r\n              userIdentity == \"student\"?\r\n              1:\r\n              userIdentity == \"teacher\"?\r\n              2:\r\n              userIdentity == \"manager\"?\r\n              currentClass?\r\n              2:\r\n              currentGrade?\r\n              3:\r\n              4:\r\n              \"\"\r\n          ) +\r\n          \"&periodType=\" + currentDataType +\r\n          // \"&gradeId=\" + currentGrade +\r\n          // \"&schoolId=\" + SchoolID +\r\n          \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n          \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n          fetch\r\n          .get({url, securityLevel: 2})\r\n          .then((res)=>res.json())\r\n          .then((result)=>{\r\n              if(result.status == 200 && result.data){\r\n                setInternetStatisticList(result.data);\r\n              }\r\n          })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentDataType, reflash]);\r\n     //获取班级数据\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"student\" && !UserID){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        if(!currentTerm.value){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/campusLife/networkLog/list?studentId=\" +\r\n        \"&gradeId=&classId=\" + currentClass +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n            setInternetClassList(result.data);\r\n            }\r\n        }) \r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentDataType, reflash]);\r\n    //获取年级数据\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/campusLife/networkLog/list?studentId=\" +\r\n        \"&classId=&gradeId=\" + currentGrade +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setInternetGradeList(result.data);\r\n            }\r\n        }) \r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentDataType, reflash]);\r\n    const colorList = ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'];\r\n    useEffect(() => {\r\n        if(internetList.length == 0){\r\n            return;\r\n        }\r\n        let sumCount = internetList.length;\r\n        let xList = [], dataList = [];\r\n        internetList.forEach((item)=>{\r\n            xList.push(item.type);\r\n        })\r\n        xList = [...new Set(xList)];\r\n        xList.forEach((item)=>{\r\n            let sum = 0;\r\n            internetList.forEach((child)=>{\r\n                if(child.type == item){\r\n                    sum += 1;\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: sum\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"kind-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '上网类别分布图',\r\n                left: 'center',\r\n                top: '81%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    // name: '访问来源',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true,\r\n                        // textStyle: {\r\n                        //     color: function(params) {\r\n                        //         return colorList[params.dataIndex]\r\n                        //     },\r\n                        // },\r\n                        formatter: \"{b} {d}%\"\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: dataList\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [internetList]);\r\n    useEffect(() => {\r\n        if(internetList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], dataList = [];\r\n        internetList.forEach((item)=>{\r\n            xList.push(item.place);\r\n        })\r\n        xList = [...new Set(xList)];\r\n        xList.forEach((item)=>{\r\n            let sum = 0;\r\n            internetList.forEach((child)=>{\r\n                if(child.place == item){\r\n                    sum += 1;\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: sum\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"place-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '上网地点分布图',\r\n                left: 'center',\r\n                top: '81%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    // name: '访问来源',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true,\r\n                        // textStyle: {\r\n                        //     color: function(params) {\r\n                        //         console.log(params)\r\n                        //         return colorList[params.dataIndex]\r\n                        //     },\r\n                        // },\r\n                        formatter: `{b} {d}%`\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: dataList\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [internetList]);\r\n    useEffect(() => {\r\n        if(internetList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], dataList = [];\r\n        internetList.forEach((item)=>{\r\n            xList.push(item.startTime && item.startTime.substr(0, 10));\r\n        })\r\n        xList = [...new Set(xList)];\r\n        xList.forEach((item)=>{\r\n            let sum = 0;\r\n            internetList.forEach((child)=>{\r\n                if(child.startTime == item){\r\n                    sum += 1;\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: sum\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"time-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '上网时间分布图',\r\n                left: 'center',\r\n                top: '81%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    // name: '访问来源',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true,\r\n                        // textStyle: {\r\n                        //     color: function(params) {\r\n                        //         return colorList[params.dataIndex]\r\n                        //     },\r\n                        // },\r\n                        formatter: \"{b} {d}%\"\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: dataList\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [internetList]);\r\n    useEffect(() => {\r\n        if(internetStatisticList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], myList = [], classList = [], gradeList = [], seriesList = [];\r\n        internetStatisticList.forEach((item)=>{\r\n            xList.push(item.month);\r\n            myList.push(parseInt(item.personalCount/1000/60/60));\r\n            classList.push(parseInt(item.classCount/1000/60/60));\r\n            gradeList.push(parseInt(item.gradeCount/1000/60/60));\r\n        })\r\n        if(userIdentity == \"student\"){\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        }\r\n        if(userIdentity == \"teacher\"){\r\n            seriesList = [\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"internet-time-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '上网时长',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                right: '10%',\r\n                // data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 25\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '时长/h',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentDataType, internetStatisticList]);\r\n    useEffect(() => {\r\n        if(internetStatisticList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], myList = [], classList = [], gradeList = [], seriesList = [];\r\n        internetStatisticList.forEach((item)=>{\r\n            xList.push(item.month);\r\n            myList.push(item.personalTimes);\r\n            classList.push(item.classTimes);\r\n            gradeList.push(item.gradeTimes);\r\n        })\r\n        if(userIdentity == \"student\"){\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        }\r\n        if(userIdentity == \"teacher\"){\r\n            seriesList = [\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"internet-count-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '上网次数',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                right: '10%',\r\n                // data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 25\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    interval: 0,\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '次数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option, true);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentDataType, internetStatisticList]);\r\n    let gradeSum = 0, \r\n    gradeCount = internetGradeList.length, sum = 0, classSum = 0, count = internetList.length, \r\n    classCount = internetClassList.length;\r\n    internetList.forEach((item)=>{\r\n        sum += item.duration;\r\n    })\r\n    internetClassList.forEach((item)=>{\r\n        classSum += item.duration;\r\n    })\r\n    internetGradeList.forEach((item)=>{\r\n        gradeSum += item.duration;\r\n    })\r\n    return (\r\n        <div className=\"my-internet\">\r\n            <div className=\"show-top\">\r\n                <div className=\"internet-time\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">上网时长: <span>\r\n                        {(sum/1000/60/60).toFixed(1)}h</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p title={`年级平均:${(gradeSum/1000/60/60).toFixed(1)}`}>年级平均:{(gradeSum/1000/60/60).toFixed(1)}</p>:\r\n                        <p title={`班级平均:${(classSum/1000/60/60).toFixed(1)}; 年级平均:${(gradeSum/1000/60/60).toFixed(1)}`}>\r\n                            班级平均:{(classSum/1000/60/60).toFixed(1)}; 年级平均:{(gradeSum/1000/60/60).toFixed(1)}\r\n                        </p>\r\n                    }\r\n                </div>\r\n                <div className=\"internet-count\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">上网次数: <span>{count}</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p title={`年级平均:${gradeCount}`}>年级平均:{gradeCount}</p>:\r\n                        <p title={`班级平均:${classCount}; 年级平均:${gradeCount}`}>\r\n                            班级平均:{classCount}; 年级平均:{gradeCount}\r\n                        </p>\r\n                    }\r\n                </div>\r\n                {/* <div className=\"internet-frequency\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">上网频率: <span>2次/天</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:982</p>:\r\n                        <p>班级平均:1010; 年级平均:982</p>\r\n                    }\r\n                </div> */}\r\n            </div>\r\n            {\r\n                internetList.length > 0?\r\n                <div className=\"show-center\">\r\n                    <div className=\"kind-position-echart\" id=\"kind-position-echart\"></div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"place-position-echart\" id=\"place-position-echart\"></div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"time-position-echart\" id=\"time-position-echart\"></div>\r\n                </div>:\r\n                <Empty\r\n                className={\"bar-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }\r\n            \r\n            <div className=\"select-container\">\r\n                <span>时间:</span>\r\n                <Select value={currentDataType} className=\"select\" onChange={(value)=>setCurrentDataType(value)}>\r\n                    <Option value=\"3\">按天数</Option>\r\n                    <Option value=\"2\">按周次</Option>\r\n                    <Option value=\"1\">按月份</Option>\r\n                </Select>\r\n            </div>\r\n            {\r\n                internetStatisticList.length > 0?\r\n                <div className=\"show-bottom\">\r\n                    <div className=\"internet-time-echart\" id=\"internet-time-echart\"></div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"internet-count-echart\" id=\"internet-count-echart\"></div>\r\n                </div>:\r\n                <Empty\r\n                // className={\"bar-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }  \r\n            \r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(MyInternet)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\n// import echarts from \"echarts\";\r\nimport {Select} from \"antd\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction MyContact(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n        reflash\r\n      } = props;\r\n      const [currentDataType, setCurrentDataType] = useState(\"3\");\r\n    return (\r\n        <div className=\"my-contact\">\r\n            <div className=\"show-top\">\r\n                <div className=\"contact-count\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">联系人数: <span>130人</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:982</p>:\r\n                        <p>班级平均:1010; 年级平均:982</p>\r\n                    }\r\n                </div>\r\n                <div className=\"online-contact-count\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">在线聊天次数: <span>12次</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:982</p>:\r\n                        <p>班级平均:1010; 年级平均:982</p>\r\n                    }\r\n                </div>\r\n                <div className=\"online-contact-frequency\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">在线聊天频率: <span>125</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:982</p>:\r\n                        <p>班级平均:1010; 年级平均:982</p>\r\n                    }\r\n                </div>\r\n                <div className=\"online-contact-time\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">在线聊天时长: <span>2次/天</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:982</p>:\r\n                        <p>班级平均:1010; 年级平均:982</p>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(MyContact)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n  } from \"react-redux\";\r\n  import React, {\r\n    // useCallback,\r\n    memo,\r\n    useEffect,\r\n    useState,\r\n    useImperativeHandle,\r\n    useRef,\r\n    useLayoutEffect,\r\n    forwardRef,\r\n  } from \"react\";\r\n  import \"./index.scss\";\r\n  import Bar from \"../../../component/bar\";\r\n  import MyLive from \"./myLive\";\r\n  import MyConsume from \"./myConsume\";\r\n  import MyInternet from \"./myInternet\";\r\n  import MyContact from \"./MyContact\";\r\n  import Track from \"../../../component/Track\";\r\n  import { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n\r\n  function SchoolLive(props, ref) {\r\n    let {\r\n      term,\r\n      HasHistory,\r\n      onAnchorComplete,\r\n      schoolID,\r\n      collegeID,\r\n      productMsg,\r\n      userIdentity,\r\n      currentClass,\r\n      currentGrade,\r\n      userInfo: {UserID, SchoolID},\r\n      reflash\r\n    } = props;\r\n    const [trackInfo, setTrackInfo] = useState([]);\r\n    const myLive = useRef(null);\r\n    const myConsume = useRef(null);\r\n    const myInternet = useRef(null);\r\n    const myContact = useRef(null);\r\n    const liveTrack = useRef(null);\r\n    useLayoutEffect(() => {\r\n      // setAnchorList();\r\n      typeof onAnchorComplete === \"function\" &&\r\n        onAnchorComplete([\r\n          { ref: myLive.current, name:(userIdentity == \"student\"? \"我的作息\": \"学生作息\") },\r\n          { ref: myConsume.current, name: (userIdentity == \"student\"? \"我的消费\": \"学生消费\") },\r\n          { ref: myInternet.current, name: (userIdentity == \"student\"? \"我的上网\": \"学生上网\") },\r\n          // { ref: myContact.current, name: (userIdentity == \"student\"? \"我的社交\": \"学生社交\") },\r\n          { ref: liveTrack.current, name: \"生活轨迹\" },\r\n        ]);\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    // 初始请求\r\n    useLayoutEffect(() => {\r\n      //获取成长历程\r\n      if(userIdentity == \"student\" && !UserID){\r\n        return;\r\n      }\r\n      if(userIdentity == \"teacher\" && !currentClass){\r\n        return;\r\n      }\r\n      let currentTermInfo = term.value && JSON.parse(term.value);\r\n      let url = BasicProxy + \"/api/campusLife/route?id=\" + (\r\n        userIdentity == \"student\"?\r\n        UserID:\r\n        userIdentity == \"teacher\"?\r\n        currentClass:\r\n        userIdentity == \"manager\"?\r\n        currentClass?\r\n        currentClass:\r\n        currentGrade?\r\n        currentGrade:\r\n        SchoolID:\r\n        UserID\r\n      ) +\r\n      \"&queryType=\" + (\r\n        userIdentity == \"student\"?\r\n        1:\r\n        userIdentity == \"teacher\"?\r\n        2:\r\n        currentClass?\r\n        2:\r\n        currentGrade?\r\n        3:\r\n        4\r\n      ) +\r\n    \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n    \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && Array.isArray(result.data)){\r\n        setTrackInfo(result.data);\r\n      }\r\n    })\r\n    }, [term, currentClass, currentGrade, userIdentity, reflash])\r\n    return (\r\n      <div className=\"award-and-punish\" id=\"schoolLiveMsg\">\r\n        <Bar loading={false} barName={userIdentity == \"student\"? \"我的作息\": \"学生作息\"} ref={myLive}>\r\n            <MyLive \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            userIdentity={userIdentity}\r\n            reflash={reflash} />\r\n        </Bar>\r\n        <Bar loading={false} barName={userIdentity == \"student\"? \"我的消费\": \"学生消费\"} ref={myConsume}>\r\n            <MyConsume \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            userIdentity={userIdentity}\r\n            reflash={reflash} />\r\n        </Bar>\r\n        <Bar loading={false} barName={userIdentity == \"student\"? \"我的上网\": \"学生上网\"} ref={myInternet}>\r\n            <MyInternet \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            userIdentity={userIdentity}\r\n            reflash={reflash} />\r\n        </Bar>\r\n        {/* <Bar loading={false} barName={\"我的社交\"} ref={myContact}>\r\n            <MyContact \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            userIdentity={userIdentity} />\r\n        </Bar> */}\r\n        <Bar loading={false} barName={\"生活轨迹\"} ref={liveTrack}>\r\n            <Track \r\n            userIdentity={userIdentity}\r\n            type=\"schoolLiveMsg\"\r\n            data={trackInfo}\r\n            />\r\n        </Bar>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  const mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\n  export default connect(mapStateToProps)(memo(forwardRef(SchoolLive)));\r\n  ","/*\r\n *                        .::::.\r\n *                      .::::::::.\r\n *                     :::::::::::\r\n *                  ..:::::::::::'\r\n *               '::::::::::::'\r\n *                 .::::::::::\r\n *            '::::::::::::::..\r\n *                 ..::::::::::::.\r\n *               ``::::::::::::::::\r\n *                ::::``:::::::::'        .:::.\r\n *               ::::'   ':::::'       .::::::::.\r\n *             .::::'      ::::     .:::::::'::::.\r\n *            .:::'       :::::  .:::::::::' ':::::.\r\n *           .::'        :::::.:::::::::'      ':::::.\r\n *          .::'         ::::::::::::::'         ``::::.\r\n *      ...:::           ::::::::::::'              ``::.\r\n *     ````':.          ':::::::::'                  ::::..\r\n *                        '.:::::'                    ':'````..\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-25 10:29:46\r\n * @LastEditTime: 2020-12-25 10:29:46\r\n * @Description: 电子资源\r\n * @FilePath: \\teacher-development\\src\\pages\\teachersStatisticAnalysis\\teachingAbility\\teacherER.js\r\n */\r\n\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport { Tooltip } from \"antd\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/chart/pie\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport { resizeForEcharts, deepCopy, transTime,correctNumber } from \"../../../util/public\";\r\nfunction TeacherInternet(props, ref) {\r\n  let {\r\n    className,\r\n    levelHash,\r\n    productMsg,\r\n    data: {\r\n      DayAvgTimeSpan,\r\n      DayAvgLoginCount,\r\n      AvgLoginTimeSpan,\r\n      TotalTeacher,\r\n      DayAvgOnlineUser,\r\n      DayAvgOfflineUser,\r\n      DayAvgOnlinePercent,\r\n      SubSet,\r\n    },\r\n  } = props;\r\n  productMsg = productMsg ? productMsg : {};\r\n  // echart实例\r\n  // 柱状\r\n  const [subEchart, setSubEchart] = useState(null);\r\n\r\n  //\r\n  const [taEchart, setTaEchart] = useState(null);\r\n  // dom ref\r\n  const taRef = useRef(null);\r\n  const subRef = useRef(null);\r\n  useLayoutEffect(() => {\r\n    if (DayAvgOfflineUser === undefined || DayAvgOnlineUser === undefined) {\r\n      return;\r\n    }\r\n    let myEchart_ta = taEchart;\r\n    let myEchart_sub = subEchart;\r\n    let color = [\r\n      \"#0a407d\",\r\n      \"#5ed9d8\",\r\n      // \"#2edba3\",\r\n      \"#fbb458\",\r\n      \"#fd8273\",\r\n      \"#3fb43f\",\r\n      \"#e84855\",\r\n      \"#e58d4c\",\r\n      \"#2d3047\",\r\n      \"#71add8\",\r\n    ];\r\n\r\n    let dataset_ta = [\r\n      [\"nodeName\", \"Count\"],\r\n      [\"平均每日不上机人数\", DayAvgOfflineUser],\r\n      [\"平均每日上机人数\", DayAvgOnlineUser],\r\n    ];\r\n    let labelColor = {};\r\n    let labelSize = {};\r\n    color.forEach((child, index) => {\r\n      labelColor[`${index}`] = { color: child, fontSize: 12 };\r\n      labelSize[`${index}16`] = { color: child, fontSize: 16 };\r\n    });\r\n    let dataset_sub = [[\"nodeName\", \"平均年龄\", \"平均教龄\"]];\r\n    let pieOption = {\r\n      dataset: { source: [] },\r\n      // title: {\r\n      //   text: \"教师年龄段人数分布\",\r\n      //   bottom: \"7%\",\r\n      //   left: \"center\",\r\n      //   // top: 180,\r\n      //   textStyle: {\r\n      //     color: \"#333333\",\r\n      //     fontSize: 14,\r\n      //   },\r\n      // },\r\n      tooltip: {\r\n        // appendToBody: true,\r\n        trigger: \"item\",\r\n        backgroundColor: \"rgba(0,0,0,0.7)\",\r\n        formatter: (params) => {\r\n          // let { percent, value, dataIndex } = params;\r\n\r\n          return `平均每日上机人数占比${correctNumber(DayAvgOnlinePercent * 100)}%`;\r\n        },\r\n        textStyle: {\r\n          color: \"#fffd64\",\r\n        },\r\n      },\r\n\r\n      legend: {\r\n        show: false,\r\n        // orient: \"vertical\",\r\n        // left: 155,\r\n        // top: 40,\r\n        // itemWidth: 11,\r\n        // itemHeight: 11,\r\n        // textStyle: {\r\n        //   color: \"#999\",\r\n        // },\r\n      },\r\n      color: color,\r\n      series: [\r\n        {\r\n          name: \"上机信息统计\",\r\n          type: \"pie\",\r\n          radius: [\"50%\", \"80%\"],\r\n          top: \"10\",\r\n          minAngle:4,\r\n\r\n          // center: [\"50% \", \"50%\"],\r\n          height: \"90%\",\r\n          itemStyle: {\r\n            borderColor: \"#fff\",\r\n            borderWidth: 1,\r\n            shadowColor: \"rgba(0, 0, 0, 0.15)\",\r\n            shadowBlur: 7,\r\n          },\r\n\r\n          label: {\r\n            show: true,\r\n            color: null,\r\n            formatter: (params) => {\r\n              let colorIndex = 0;\r\n              let sizeIndex = 0;\r\n              color.forEach((child, index) => {\r\n                if (child === params.color) {\r\n                  colorIndex = index;\r\n                  sizeIndex = index + \"16\";\r\n                }\r\n              });\r\n\r\n              return `{${colorIndex}|${params.name}}\\n{${sizeIndex}|${params.value[1]}}{${colorIndex}|人}`;\r\n            },\r\n            rich: {\r\n              ...labelColor,\r\n              ...labelSize,\r\n            },\r\n          },\r\n        },\r\n      ],\r\n    };\r\n    SubSet instanceof Array &&\r\n      SubSet.forEach((child, index) => {\r\n        let {\r\n          NodeName,\r\n          AvgLoginTimeSpan,\r\n          DayAvgTimeSpan,\r\n          DayAvgOnlinePercent,\r\n          DayAvgLoginCount,\r\n        } = child;\r\n        dataset_sub.push([\r\n          NodeName,\r\n          transTime(DayAvgTimeSpan,'m','h').time, //每人每日平均上机时长\r\n          DayAvgLoginCount, //每人每日平均上机次数\r\n          transTime(AvgLoginTimeSpan,'m','h').time, //平均每次时间\r\n          DayAvgOnlinePercent, //平均每日上机百分比\r\n        ]);\r\n      });\r\n    let subOption = {\r\n      title: {\r\n        text: \"各\" + productMsg.sub + \"教师平均每日上机时长统计信息\",\r\n        // bottom: \"4%\",\r\n        left: \"center\",\r\n        top: 20,\r\n        textStyle: {\r\n          color: \"#333333\",\r\n          fontSize: 14,\r\n        },\r\n      },\r\n      // backgroundColor: \"#f5f5f5\",\r\n      tooltip: {\r\n        trigger: \"axis\",\r\n        // appendToBody:true,\r\n\r\n        axisPointer: {\r\n          // 坐标轴指示器，坐标轴触发有效\r\n          type: \"shadow\", // 默认为直线，可选为：'line' | 'shadow'\r\n        },\r\n        backgroundColor: \"rgba(0,0,0,0.7)\",\r\n        borderColor: \"transparent\",\r\n        borderWidth: 0,\r\n        formatter: (params) => {\r\n          let row = params[0];\r\n          let { data } = row;\r\n\r\n          return `<div  class=\"t-tooltip\">\r\n                <p class=\"nodename\">每人每日平均上机时长${data[1]}小时</p><p class='msg msg-2'>每人每日平均上机<span>${data[2]}次</span></p><p class='msg msg-2'>每人每次平均上机时长<span>${data[3]}小时</span></p><p class='msg msg-2'>平均每日上机人数占比<span>${data[4]}%</span></p></div>\r\n            `;\r\n        },\r\n        // textStyle: {\r\n        //   color: \"#fff\",\r\n        // },\r\n      },\r\n      legend: {\r\n        // data: [\"男性教师\", \"女性教师\"],\r\n        show: false,\r\n        // right: 50,\r\n        // top: 40,\r\n        // itemWidth: 11,\r\n        // itemHeight: 11,\r\n        // itemGap: 30,\r\n        // // formatter: (id) => {\r\n        // //   return `{name|${sexData[id].title}:}{count|${sexData[id].value}}{name|人}`;\r\n        // // },\r\n        // textStyle: {\r\n        //   rich: {\r\n        //     name: {\r\n        //       fontSize: 12,\r\n        //       color: \"#999999\",\r\n        //     },\r\n        //     count: {\r\n        //       fontSize: 14,\r\n        //       fontWeight: \"bold\",\r\n        //       color: \"#333\",\r\n        //     },\r\n        //   },\r\n        // },\r\n      },\r\n      grid: {\r\n        left: 28,\r\n        height: 180,\r\n        right: 58,\r\n        bottom: 20,\r\n        containLabel: true,\r\n      },\r\n      dataset: {\r\n        source: [],\r\n      },\r\n      dataZoom: {\r\n        type: \"slider\",\r\n        show: dataset_sub.length > 6,\r\n        // xAxisIndex: [0],\r\n        // start: 0,\r\n        // end: 10/(dataset.length-1)*100,\r\n        minSpan: (4 / (dataset_sub.length - 1)) * 100,\r\n        maxSpan: (4 / (dataset_sub.length - 1)) * 100,\r\n        zoomLock: true,\r\n        showDetail: false,\r\n        showDataShadow: false,\r\n        height: 8,\r\n        bottom: 0,\r\n      },\r\n      xAxis: [\r\n        {\r\n          type: \"category\",\r\n          name: productMsg.sub,\r\n          nameGap: 12,\r\n          // data: [\r\n          //   \"幼儿园教师\",\r\n          //   \"小学教师\",\r\n          //   \"初中教师\",\r\n          //   \"高中教师\",\r\n          //   \"中专教师 \",\r\n          //   \"中职教师\",\r\n          // ],\r\n\r\n          nameTextStyle: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n          },\r\n          axisTick: {\r\n            //刻度线\r\n            show: false,\r\n          },\r\n          axisLine: {\r\n            //x轴\r\n            show: false,\r\n            lineStyle: {\r\n              // color:'#e6e6e6',\r\n              // opacity:0.5\r\n            },\r\n          },\r\n          axisLabel: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n            formatter: (value) => {\r\n              let data = value;\r\n              if (typeof value === \"string\" && value.length > 6) {\r\n                data = value.slice(0, 4) + \"...\";\r\n              }\r\n              return data;\r\n            },\r\n          },\r\n        },\r\n      ],\r\n      yAxis: [\r\n        {\r\n          type: \"value\",\r\n          name: \"平均每日上机时长(单位:小时)\",\r\n          // max: 1,\r\n          axisLabel: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n            margin: 20,\r\n            // formatter: (value) => {\r\n            //   return `${value * 100}%`;\r\n            // },\r\n          },\r\n\r\n          nameTextStyle: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n\r\n            padding: [0, 0, 0, 150],\r\n          },\r\n          nameGap: 20,\r\n        },\r\n      ],\r\n      series: [\r\n        {\r\n          // name: \"女性教师\",\r\n          type: \"bar\",\r\n          barGap: \"4%\",\r\n          // barWidth: 5,\r\n          barMaxWidth: 24,\r\n          itemStyle: {\r\n            color: {\r\n              type: \"linear\",\r\n              x: 1,\r\n              y: 1,\r\n              x2: 0,\r\n              y2: 0,\r\n              colorStops: [\r\n                {\r\n                  offset: 0,\r\n                  color: \"#9fedec\", // 0% 处的颜色\r\n                },\r\n                {\r\n                  offset: 1,\r\n                  color: \"#28c6c5\", // 100% 处的颜色\r\n                },\r\n              ],\r\n            },\r\n            borderRadius: [3, 3, 0, 0],\r\n          },\r\n          // data: [120, 132, 101, 134, 90, 230, 210],\r\n        },\r\n      ],\r\n    };\r\n\r\n    // TeachAgeList instanceof Array &&\r\n    //   TeachAgeList.forEach((child, index) => {\r\n    //     let { NodeName, Total } = child;\r\n    //     dataset_ta.push([NodeName, Total]);\r\n    //   });\r\n\r\n    // if (!myEchart_avg) {\r\n    //   // 数据更新后，防止二次初始化echarts，第一次进来初始化echarts\r\n    //   myEchart_avg = echarts.init(avgRef.current);\r\n    //   // 保存echart实例\r\n    //   setAvgEchart(myEchart_avg);\r\n    //   // 对界面resize进行监听重绘echart\r\n    //   resizeForEcharts(myEchart_avg);\r\n    // }\r\n    if (!myEchart_ta) {\r\n      // 数据更新后，防止二次初始化echarts，第一次进来初始化echarts\r\n      myEchart_ta = echarts.init(taRef.current);\r\n      // 保存echart实例\r\n      setTaEchart(myEchart_ta);\r\n      // 对界面resize进行监听重绘echart\r\n      resizeForEcharts(myEchart_ta);\r\n    }\r\n    if (!myEchart_sub) {\r\n      // 数据更新后，防止二次初始化echarts，第一次进来初始化echarts\r\n      myEchart_sub = echarts.init(subRef.current);\r\n      // 保存echart实例\r\n      setSubEchart(myEchart_sub);\r\n      // 对界面resize进行监听重绘echart\r\n      resizeForEcharts(myEchart_sub);\r\n    }\r\n    let taOption = deepCopy(pieOption);\r\n\r\n    taOption.dataset.source = dataset_ta;\r\n    // taOption.title.text = \"教师教龄段人数分布\";\r\n\r\n    subOption.dataset.source = dataset_sub;\r\n\r\n    // 设置option\r\n    // myEchart_avg.setOption(avgOption);\r\n    myEchart_ta.setOption(taOption);\r\n    myEchart_sub.setOption(subOption);\r\n    return () => {\r\n      // 卸载echarts实例的事件\r\n      // myEchart_avg.off();\r\n      myEchart_ta.off();\r\n      myEchart_sub.off();\r\n    };\r\n    // 依赖数据的变化重绘界面\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [SubSet, productMsg]);\r\nconst TransTime = useCallback(\r\n  (time) => {\r\n    let tTime = transTime(time,'m')\r\n    if(tTime.time<1){\r\n      return '小于1分钟'\r\n    }\r\n\r\n    return tTime.Time_zh\r\n  },\r\n  [],\r\n)\r\n  return (\r\n    <div\r\n      className={`teacher-bar TeacherInternet ${className ? className : \"\"} `}\r\n    >\r\n      <div className=\"ter-left\">\r\n        <p className=\"tb-tip\">\r\n          {productMsg && productMsg.title ? productMsg.title : \"\"}\r\n          每人每日平均上机时长\r\n          <span className=\"tb-tip-2\">{TransTime(DayAvgTimeSpan)}</span>\r\n          ，每人每日平均上机\r\n          <span className=\"tb-tip-2\">{DayAvgLoginCount}</span>\r\n          次，每次\r\n          <span className=\"tb-tip-2\">{TransTime(AvgLoginTimeSpan)}</span>\r\n        </p>\r\n        <div ref={taRef} className=\"ter-echarts\"></div>\r\n        <p className=\"ter-all\">\r\n          教师总人数\r\n          <br />\r\n          <span>{TotalTeacher}</span>人\r\n        </p>\r\n        <p className=\"ter-title\">\r\n          平均每日上机人数占比\r\n          <Tooltip\r\n            title=\"疑问\"\r\n            color={\"#0249a5\"}\r\n            overlayClassName=\"show-detail\"\r\n            getPopupContainer={(e) => e.parentNode}\r\n            trigger={[\"hover\"]}\r\n          >\r\n            <i className=\"tb-show-detail\" onClick={() => {}}></i>\r\n          </Tooltip>\r\n        </p>\r\n      </div>\r\n\r\n      <div ref={subRef} className=\"tb-right ter-right\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: { levelHash },\r\n  } = state;\r\n  return { levelHash };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(TeacherInternet)));\r\n","/*\r\n *                        .::::.\r\n *                      .::::::::.\r\n *                     :::::::::::\r\n *                  ..:::::::::::'\r\n *               '::::::::::::'\r\n *                 .::::::::::\r\n *            '::::::::::::::..\r\n *                 ..::::::::::::.\r\n *               ``::::::::::::::::\r\n *                ::::``:::::::::'        .:::.\r\n *               ::::'   ':::::'       .::::::::.\r\n *             .::::'      ::::     .:::::::'::::.\r\n *            .:::'       :::::  .:::::::::' ':::::.\r\n *           .::'        :::::.:::::::::'      ':::::.\r\n *          .::'         ::::::::::::::'         ``::::.\r\n *      ...:::           ::::::::::::'              ``::.\r\n *     ````':.          ':::::::::'                  ::::..\r\n *                        '.:::::'                    ':'````..\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-25 10:29:46\r\n * @LastEditTime: 2020-12-25 10:29:46\r\n * @Description: 电子教案\r\n * @FilePath: \\teacher-development\\src\\pages\\teachersStatisticAnalysis\\teachingAbility\\teacherTP.js\r\n */\r\n\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport { Tooltip } from \"antd\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/chart/pie\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport { resizeForEcharts, deepCopy } from \"../../../util/public\";\r\nfunction TeacherOnline(props, ref) {\r\n  let {\r\n    className,\r\n    levelHash,\r\n    productMsg,\r\n    data: {\r\n      TPCount,\r\n      AvgUploadTPCount,\r\n      AvgUploadUserCount,\r\n      TotalTeacher,\r\n      HasUploadedCount,\r\n      NoUploadedCount,\r\n      UploadedPercent,\r\n      SubSet,\r\n \r\n    },\r\n  } = props;\r\n  productMsg = productMsg ? productMsg : {};\r\n  // echart实例\r\n  // 柱状\r\n  const [subEchart, setSubEchart] = useState(null);\r\n\r\n  //\r\n  // dom ref\r\n  const subRef = useRef(null);\r\n  useLayoutEffect(() => {\r\n    if(NoUploadedCount===undefined||HasUploadedCount===undefined){\r\n      return;\r\n    }\r\n    let myEchart_sub = subEchart;\r\n    \r\n\r\n  \r\n    let labelColor = {};\r\n    let labelSize = {};\r\n \r\n    let dataset_sub = [[\"nodeName\", \"平均在线办公时长\", \"平均在线教学时长\"]];\r\n    SubSet instanceof Array &&\r\n    SubSet.forEach((child, index) => {\r\n      let {\r\n        NodeName,\r\n        TotalTeacher,\r\n        HasUploadedCount,\r\n        UploadedPercent,\r\n      } = child;\r\n      dataset_sub.push([\r\n        NodeName,\r\n        TotalTeacher,\r\n        HasUploadedCount,\r\n        TotalTeacher,\r\n\r\n      ]);\r\n    });\r\n    let subOption = {\r\n      // title: {\r\n      //   text: \"各\" + productMsg.sub + \"统计信息\",\r\n      //   // bottom: \"4%\",\r\n      //   left: \"center\",\r\n      //   top: 20,\r\n      //   textStyle: {\r\n      //     color: \"#333333\",\r\n      //     fontSize: 14,\r\n      //   },\r\n      // },\r\n      // backgroundColor: \"#f5f5f5\",\r\n      dataZoom: {\r\n        type: \"slider\",\r\n        show: dataset_sub.length>6,\r\n        // xAxisIndex: [0],\r\n        // start: 0,\r\n        // end: 10/(dataset.length-1)*100,\r\n        minSpan: (4 /(dataset_sub.length-1  )) * 100,\r\n        maxSpan: (4 /(dataset_sub.length-1  )) * 100,\r\n        zoomLock: true,\r\n        showDetail: false,\r\n        showDataShadow: false,\r\n        height: 8,\r\n        bottom: 0,\r\n      },\r\n      tooltip: {\r\n        trigger: \"axis\",\r\n        // appendToBody:true,\r\n\r\n        axisPointer: {\r\n          // 坐标轴指示器，坐标轴触发有效\r\n          type: \"shadow\", // 默认为直线，可选为：'line' | 'shadow'\r\n        },\r\n        backgroundColor: \"rgba(0,0,0,0.7)\",\r\n        borderColor: \"transparent\",\r\n        borderWidth: 0,\r\n        formatter: (params) => {\r\n        \r\n          let row = params[0];\r\n          let { data ,name} = row;\r\n\r\n          return `<div  class=\"t-tooltip\">\r\n                <p class=\"nodename\">${\r\n                  name\r\n                }</p><p class='msg msg-2'>在线办公<span>${\r\n            data[1]\r\n          }小时</span></p><p class='msg msg-2'>在线教学<span>${\r\n            data[2]\r\n          }小时</span></p></div>\r\n            `;\r\n        },\r\n        // textStyle: {\r\n        //   color: \"#fff\",\r\n        // },\r\n      },\r\n      legend: {\r\n        // data: [\"男性教师\", \"女性教师\"],\r\n        show: true,\r\n        right: 50,\r\n        top: 0,\r\n        itemWidth: 11,\r\n        itemHeight: 11,\r\n        itemGap: 30,\r\n        // formatter: (id) => {\r\n        //   return `{name|${sexData[id].title}:}{count|${sexData[id].value}}{name|人}`;\r\n        // },\r\n        textStyle: {\r\n          rich: {\r\n            name: {\r\n              fontSize: 12,\r\n              color: \"#999999\",\r\n            },\r\n            count: {\r\n              fontSize: 14,\r\n              fontWeight: \"bold\",\r\n              color: \"#333\",\r\n            },\r\n          },\r\n          color: \"#999999\",\r\n        },\r\n      },\r\n      grid: {\r\n        left: 58,\r\n        height: 175,\r\n        right: 88,\r\n        bottom: 0,\r\n        containLabel: true,\r\n      },\r\n      dataset: {\r\n        source: [],\r\n      },\r\n      xAxis: [\r\n        {\r\n          type: \"category\",\r\n          name: productMsg.sub,\r\n          nameGap: 12,\r\n          // data: [\r\n          //   \"幼儿园教师\",\r\n          //   \"小学教师\",\r\n          //   \"初中教师\",\r\n          //   \"高中教师\",\r\n          //   \"中专教师 \",\r\n          //   \"中职教师\",\r\n          // ],\r\n\r\n          nameTextStyle: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n          },\r\n          axisTick: {\r\n            //刻度线\r\n            show: false,\r\n          },\r\n          axisLine: {\r\n            //x轴\r\n            show: false,\r\n            lineStyle: {\r\n              // color:'#e6e6e6',\r\n              // opacity:0.5\r\n            },\r\n          },\r\n          axisLabel: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n            formatter: (value) => {\r\n              let data = value;\r\n              if (typeof value === \"string\" && value.length > 6) {\r\n                data = value.slice(0, 4) + \"...\";\r\n              }\r\n              return data;\r\n            },\r\n          },\r\n        },\r\n      ],\r\n      yAxis: [\r\n        {\r\n          type: \"value\",\r\n          name: \"时长\",\r\n          // max: 1,\r\n          axisLabel: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n            margin: 20,\r\n            // formatter: (value) => {\r\n            //   return `${value * 100}%`;\r\n            // },\r\n          },\r\n\r\n          nameTextStyle: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n\r\n            padding: [0, 0, 0, 100],\r\n          },\r\n          nameGap: 20,\r\n        },\r\n      ],\r\n      series: [\r\n        {\r\n          // name: \"女性教师\",\r\n          type: \"bar\",\r\n          barGap: \"4%\",\r\n          // barWidth: 5,\r\n          barMaxWidth:32,\r\n          itemStyle: {\r\n            color: {\r\n              type: \"linear\",\r\n              x: 1,\r\n              y: 1,\r\n              x2: 0,\r\n              y2: 0,\r\n              colorStops: [\r\n                {\r\n                  offset: 0,\r\n                  color: \"#ffb782\", // 0% 处的颜色\r\n                },\r\n                {\r\n                  offset: 0.5,\r\n                  color: \"#fba768\", // 0% 处的颜色\r\n                },\r\n                {\r\n                  offset: 1,\r\n                  color: \"#f7964e\", // 100% 处的颜色\r\n                },\r\n              ],\r\n            },\r\n            borderRadius: [3, 3, 0, 0],\r\n          },\r\n          // data: [120, 132, 101, 134, 90, 230, 210],\r\n        },{\r\n          // name: \"女性教师\",\r\n          type: \"bar\",\r\n          barGap: \"4%\",\r\n          // barWidth: 5,\r\n          barMaxWidth:32,\r\n          itemStyle: {\r\n            color: {\r\n              type: \"linear\",\r\n              x: 1,\r\n              y: 1,\r\n              x2: 0,\r\n              y2: 0,\r\n              colorStops: [\r\n                {\r\n                  offset: 0,\r\n                  color: \"#a0dea0\", // 0% 处的颜色\r\n                },\r\n                 \r\n                {\r\n                  offset: 1,\r\n                  color: \"#51ca51\", // 100% 处的颜色\r\n                },\r\n              ],\r\n            },\r\n            borderRadius: [3, 3, 0, 0],\r\n          },\r\n        }\r\n      ],\r\n    };\r\n\r\n    // TeachAgeList instanceof Array &&\r\n    //   TeachAgeList.forEach((child, index) => {\r\n    //     let { NodeName, Total } = child;\r\n    //     dataset_ta.push([NodeName, Total]);\r\n    //   });\r\n   \r\n    // if (!myEchart_avg) {\r\n    //   // 数据更新后，防止二次初始化echarts，第一次进来初始化echarts\r\n    //   myEchart_avg = echarts.init(avgRef.current);\r\n    //   // 保存echart实例\r\n    //   setAvgEchart(myEchart_avg);\r\n    //   // 对界面resize进行监听重绘echart\r\n    //   resizeForEcharts(myEchart_avg);\r\n    // }\r\n     \r\n    if (!myEchart_sub) {\r\n      // 数据更新后，防止二次初始化echarts，第一次进来初始化echarts\r\n      myEchart_sub = echarts.init(subRef.current);\r\n      // 保存echart实例\r\n      setSubEchart(myEchart_sub);\r\n      // 对界面resize进行监听重绘echart\r\n      resizeForEcharts(myEchart_sub);\r\n    }\r\n\r\n    // taOption.title.text = \"教师教龄段人数分布\";\r\n\r\n    subOption.dataset.source = dataset_sub;\r\n\r\n    // 设置option\r\n    // myEchart_avg.setOption(avgOption);\r\n    myEchart_sub.setOption(subOption);\r\n    return () => {\r\n      // 卸载echarts实例的事件\r\n      // myEchart_avg.off();\r\n      myEchart_sub.off();\r\n    };\r\n    // 依赖数据的变化重绘界面\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [SubSet, productMsg]);\r\n\r\n  return (\r\n    <div className={`teacher-bar TeacherOnline ${className ? className : \"\"} `}>\r\n       <div className=\"tb-top\">\r\n        <p className=\"tb-tip\">\r\n          {productMsg && productMsg.title ? productMsg.title : \"\"}\r\n          每人每日平均在线办公<span className=\"tb-tip-2\">{TPCount}</span>\r\n          次，共\r\n          <span className=\"tb-tip-2\">{AvgUploadTPCount}</span>小时；每人每日平均在线教学\r\n          <span className=\"tb-tip-2\">{AvgUploadUserCount}</span>次，共\r\n          <span className=\"tb-tip-2\">{TotalTeacher}</span>小时\r\n        </p>\r\n        <p className=\"tp-tilte\">各{productMsg.sub}教师每日办公教学\\办公统计信息</p>\r\n        \r\n      </div>\r\n\r\n      <div ref={subRef} className=\"tb-charts\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: { levelHash },\r\n  } = state;\r\n  return { levelHash };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(TeacherOnline)));\r\n","/*\r\n *\r\n *    ┏┓　　　┏┓\r\n *  ┏┛┻━━━┛┻┓\r\n *  ┃　　　　　　　┃\r\n *  ┃　　　━　　　┃\r\n *  ┃　＞　　　＜　┃\r\n *  ┃　　　　　　　┃\r\n *  ┃...　⌒　...　┃\r\n *  ┃　　　　　　　┃\r\n *  ┗━┓　　　┏━┛\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃  神兽保佑\r\n *      ┃　　　┃  代码无bug\r\n *      ┃　　　┃\r\n *      ┃　　　┗━━━┓\r\n *      ┃　　　　　　　┣┓\r\n *      ┃　　　　　　　┏┛\r\n *      ┗┓┓┏━┳┓┏┛\r\n *        ┃┫┫　┃┫┫\r\n *        ┗┻┛　┗┻┛\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 11:46:56\r\n * @LastEditTime: 2020-12-21 11:22:13\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\api\\baseMsg.js\r\n */\r\nimport fetch from \"../util/fetch\";\r\nimport ipConfig from \"../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description:上机信息统计  http://192.168.129.1:8033/showdoc/web/#/21?page_id=2096\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getTeachER(payload = {}) {\r\n  let { schoolID, collegeID, selectLevel, term } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/NetInfo/RP?SchoolID=${\r\n      schoolID ? schoolID : \"\"\r\n    }&CollegeID=${collegeID ? collegeID : \"\"}&SelectLevel=${\r\n      selectLevel ? selectLevel : \"\"\r\n    }&Term=${term ? term : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        // \"DayAvgTimeSpan\":\"3小时\",            //每人每日平均上机时长\r\n        // \"DayAvgLoginCount\":2,                //每人每日平均上机次数\r\n        // \"AvgLoginTimeSpan\":\"1.5小时\",                //平均每次时间\r\n        // \"TotalTeacher\":1920,                //教师总数量\r\n        // \"DayAvgOnlineUser\":60,                //平均每日上机人数\r\n        // \"DayAvgOfflineUser\":60,                //平均每日未上线人数\r\n        // \"\"DayAvgOnlinePercent\":\"0.96\",        //平均每日上机百分比\r\n        // \"SubSet\":[{\r\n        //     \"NodeID\":\"XXXXXXXXXXX\",            \r\n        //     \"NodeName\":\"语文\",            //节点名称（学科、学院等）\r\n        //     \"TotalTeacher\":50,            //该节点下的教师数量\r\n        //     \"DayAvgTimeSpan\":\"3\",            //每人每日平均上机时长\r\n        //     \"DayAvgLoginCount\":2,                //每人每日平均上机次数\r\n        //     \"AvgLoginTimeSpan\":\"1.5\",                //平均每次时间\r\n        //     \"DayAvgOnlinePercent\":0.96,        //平均每日上机百分比\r\n        // }]\r\n        // }]\r\n        return json.Data ? json.Data : {};\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n}\r\n\r\n/**\r\n * @description:在线教学\\办公统计  http://192.168.129.1:8033/showdoc/web/#/21?page_id=2097\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getTeachTP(payload = {}) {\r\n  let { schoolID, collegeID, selectLevel, term } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/NetInfo/TP?SchoolID=${schoolID ? schoolID : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }&SelectLevel=${selectLevel ? selectLevel : \"\"}&Term=${term ? term : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        // \"TPCount\":150,            //教案总制作数量\r\n        // \"AvgUploadTPCount\":14,    //人均制作数量\r\n        // \"AvgUploadUserCount\":2,            //平均每日上传人数\r\n        // \"TotalTeacher\":60,                //教师总数量\r\n        // \"HasUploadedCount\":60,            //参与制作人数\r\n        // \"NoUploadedCount\":60,            //未参与制作人数\r\n        // \"UploadedPercent\":0.963,            //参与率\r\n        // \"SubSet\":[{\r\n        //     \"NodeID\":\"XXXXXXXXXXX\",            \r\n        //     \"NodeName\":\"语文\",            //节点名称（学科、学院等）\r\n        //     \"TotalTeacher\":50,            //该节点下的教师数量\r\n        //     \"HasUploadedCount\":39,            //该节点参与上传人数\r\n        //     \"NoUploadedCount\":11,            //该节点参与上传人数\r\n        //     \"UploadedPercent\":0.963,                    //参与率\r\n        // }]\r\n        return json.Data ? json.Data : {};\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n}\r\n ","/*\r\n * ......................................&&.........................\r\n * ....................................&&&..........................\r\n * .................................&&&&............................\r\n * ...............................&&&&..............................\r\n * .............................&&&&&&..............................\r\n * ...........................&&&&&&....&&&..&&&&&&&&&&&&&&&........\r\n * ..................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&..............\r\n * ................&...&&&&&&&&&&&&&&&&&&&&&&&&&&&&.................\r\n * .......................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&.........\r\n * ...................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&...............\r\n * ..................&&&   &&&&&&&&&&&&&&&&&&&&&&&&&&&&&............\r\n * ...............&&&&&@  &&&&&&&&&&..&&&&&&&&&&&&&&&&&&&...........\r\n * ..............&&&&&&&&&&&&&&&.&&....&&&&&&&&&&&&&..&&&&&.........\r\n * ..........&&&&&&&&&&&&&&&&&&...&.....&&&&&&&&&&&&&...&&&&........\r\n * ........&&&&&&&&&&&&&&&&&&&.........&&&&&&&&&&&&&&&....&&&.......\r\n * .......&&&&&&&&.....................&&&&&&&&&&&&&&&&.....&&......\r\n * ........&&&&&.....................&&&&&&&&&&&&&&&&&&.............\r\n * ..........&...................&&&&&&&&&&&&&&&&&&&&&&&............\r\n * ................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&............\r\n * ..................&&&&&&&&&&&&&&&&&&&&&&&&&&&&..&&&&&............\r\n * ..............&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&....&&&&&............\r\n * ...........&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&......&&&&............\r\n * .........&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&.........&&&&............\r\n * .......&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&...........&&&&............\r\n * ......&&&&&&&&&&&&&&&&&&&...&&&&&&...............&&&.............\r\n * .....&&&&&&&&&&&&&&&&............................&&..............\r\n * ....&&&&&&&&&&&&&&&.................&&...........................\r\n * ...&&&&&&&&&&&&&&&.....................&&&&......................\r\n * ...&&&&&&&&&&.&&&........................&&&&&...................\r\n * ..&&&&&&&&&&&..&&..........................&&&&&&&...............\r\n * ..&&&&&&&&&&&&...&............&&&.....&&&&...&&&&&&&.............\r\n * ..&&&&&&&&&&&&&.................&&&.....&&&&&&&&&&&&&&...........\r\n * ..&&&&&&&&&&&&&&&&..............&&&&&&&&&&&&&&&&&&&&&&&&.........\r\n * ..&&.&&&&&&&&&&&&&&&&&.........&&&&&&&&&&&&&&&&&&&&&&&&&&&.......\r\n * ...&&..&&&&&&&&&&&&.........&&&&&&&&&&&&&&&&...&&&&&&&&&&&&......\r\n * ....&..&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&...........&&&&&&&&.....\r\n * .......&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&..............&&&&&&&....\r\n * .......&&&&&.&&&&&&&&&&&&&&&&&&..&&&&&&&&...&..........&&&&&&....\r\n * ........&&&.....&&&&&&&&&&&&&.....&&&&&&&&&&...........&..&&&&...\r\n * .......&&&........&&&.&&&&&&&&&.....&&&&&.................&&&&...\r\n * .......&&&...............&&&&&&&.......&&&&&&&&............&&&...\r\n * ........&&...................&&&&&&.........................&&&..\r\n * .........&.....................&&&&........................&&....\r\n * ...............................&&&.......................&&......\r\n * ................................&&......................&&.......\r\n * .................................&&..............................\r\n * ..................................&..............................\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-28 09:45:45\r\n * @LastEditTime: 2020-12-28 09:45:45\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\teachersStatisticAnalysis\\informationizeAbility\\index.js\r\n */\r\n\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport Bar from \"../../../component/bar\";\r\nimport TeacherInternet from \"./teacherInternet\";\r\nimport TeacherOnline from \"./teacherOnline\";\r\n\r\nimport { getTeachER, getTeachTP } from \"../../../api/informationizeAbility\";\r\n// import teacherInternet from \"./teacherInternet\";\r\n// import TeacherOnline from \"./teacherOnline\";\r\n// import TeacherAge from \"./teacherAge\";\r\n// import TeacherTitle from \"./teacherTitle\";\r\nfunction InformationizeAbility(props, ref) {\r\n  // *selectLevel:这里的selectLevel与用户的没关系，与看的级别有关，例如教育局的看学校的，selectLevel===2\r\n  // *productLevel:产品类型，给用户看的界面类型，用来控制界面的一些属性：1教育局，2大学学校，3教育局学校，4大学学院，\r\n  // *product:包含该productLevel的所有信息,有使用组件者使用productLevel和commonData的levelHash匹配使用，必须传，不传将出问题\r\n  let {\r\n    term,\r\n    HasHistory,\r\n    onAnchorComplete,\r\n    schoolID,\r\n    collegeID,\r\n    productMsg,\r\n  } = props;\r\n  const { selectLevel, productLevel } = productMsg;\r\n  // 教师人数\r\n  const [teacherInternet, setTeacherInternet] = useState(false);\r\n  const [teacherOnline, setTeacherOnline] = useState(false);\r\n\r\n  //向上传bar的信息\r\n  // const [anchorList, setAnchorList] = useState([]);\r\n  // 获取每一块的ref，实现锚点功能\r\n  const erRef = useRef(null);\r\n  const tpRef = useRef(null);\r\n \r\n  useLayoutEffect(() => {\r\n    // setAnchorList();\r\n    typeof onAnchorComplete === \"function\" &&\r\n      onAnchorComplete([\r\n        { ref: erRef.current, name: \"上机信息\" },\r\n        { ref: tpRef.current, name: \"教学办公\" },\r\n      ]);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  // 初始请求\r\n  useEffect(() => {\r\n    // 第一次进来的时候可能为undefined\r\n    if (term instanceof Object) {\r\n      // 电子资源\r\n      getTeachER({\r\n        term: term.value,\r\n        schoolID,\r\n        collegeID,\r\n        selectLevel,\r\n      }).then((data) => {\r\n        if (data) {\r\n          setTeacherInternet(data);\r\n        }\r\n      });\r\n      // // 电子教案\r\n      // getTeachTP({\r\n      //   term: term.value,\r\n      //   schoolID,\r\n      //   collegeID,\r\n      //   selectLevel,\r\n      // }).then((data) => {\r\n      //   if (data) {\r\n      //     setTeacherOnline(data);\r\n      //   }\r\n      // });\r\n    }\r\n  }, [term, schoolID, collegeID, selectLevel]);\r\n\r\n  return (\r\n    <div className=\"InformationizeAbility\">\r\n      <Bar loading={!teacherInternet} barName={\"上机信息统计 \"} ref={erRef}>\r\n        <TeacherInternet data={teacherInternet} productMsg={productMsg}></TeacherInternet>\r\n      </Bar>\r\n      {/* <Bar\r\n        loading={!teacherOnline}\r\n        barName={\"在线教学\\\\办公统计\"}\r\n        ref={tpRef}\r\n        topContext={HasHistory ? { title: \"查看历年参与率变化 \" } : false}\r\n      >\r\n        <TeacherOnline data={teacherOnline} productMsg={productMsg}></TeacherOnline>\r\n      </Bar> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: {\r\n      termInfo: { HasHistory },\r\n    },\r\n  } = state;\r\n  // console.log(state)\r\n  return { HasHistory };\r\n};\r\nexport default connect(mapStateToProps)(\r\n  memo(forwardRef(InformationizeAbility))\r\n);\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n  useImperativeHandle,\r\n  useLayoutEffect,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport $, { get } from \"jquery\";\r\n// import { Select } from \"antd\";\r\nimport html2canvas from \"html2canvas\";\r\nimport {Modal, Progress, Select, Popover, Upload, message} from \"antd\";\r\nimport { handleRoute, getQueryVariable } from \"../../util/public\";\r\nimport { Dropdown, Modal as MyModal } from \"../../component/common\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nimport Scrollbars from \"react-custom-scrollbars\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n\r\nfunction AnalysisTop(props, ref) {\r\n  let {\r\n    type,\r\n    termselect,\r\n    termlist,\r\n    onTermChange,\r\n    className,\r\n    schoolMsg,\r\n    getHeight,\r\n    onTypeChange,\r\n    setShowType,\r\n    userIdentity,\r\n    gradeList,\r\n    classList,\r\n    onClassChange,\r\n    onGradeChange,\r\n    teacherClassList,\r\n    ModuleID,\r\n    setReFlash,\r\n    // userInfo: {UserID, SchoolID}\r\n  } = props;\r\n\r\n  // 下拉菜单\r\n  const [TermList, setTermList] = useState(\r\n    termlist\r\n    // [\r\n    // { value: \"00\", title: \"2019~2020学年第1学期\" },\r\n    // { value: \"0\", title: \"2019~2020学年第2学期\" },\r\n    // { value: \"1\", title: \"2020~2021学年第1学期\" },\r\n    // { value: \"2\", title: \"2020~2021学年第2学期\" },\r\n    // { value: \"3\", title: \"2020~2021学年第2学期\" },\r\n    // { value: \"4\", title: \"2020~2021学年第2学期2021学年第2学期\" },\r\n    // { value: \"5\", title: \"2020~2021学年第2021学年第2学期2学期\" },\r\n    // { value: \"6\", title: \"2020~2021学2021学年第2学期年第2学期\" },\r\n    // { value: \"7\", title: \"2020~2021学年第2学期2021学年第2学期\" },\r\n    // ]\r\n  );\r\n  // 统计类型\r\n  const [TypeList, setTypeList] = useState([\r\n    { value: \"stuStatusMsg\", title: \"学籍档案\" },\r\n    { value: \"stuConditionMsg\", title: \"学情档案\" },\r\n    { value: \"attendanceMsg\", title: \"考勤档案\" },\r\n    { value: \"healthMsg\", title: \"健康档案\" },\r\n    { value: \"awardAndPunish\", title: \"奖惩档案\" },\r\n    { value: \"schoolLive\", title: \"校园生活档案\" },\r\n  ]);\r\n  // 选择下拉\r\n  const [TermSelect, setTermSelect] = useState(TermList[0] ? TermList[0] : {});\r\n  const [TypeSelect, setTypeSelect] = useState(TypeList[0] ? TypeList[0] : {});\r\n\r\n  //老师教学班\r\n  const [courseClassList, setCourseClassList] = useState([]);\r\n\r\n  //模板下载列表\r\n  const [templateList, setTemplateList] = useState([]);\r\n  //当前年级\r\n  const [currentGrade, setCurrentGrade] = useState(\"\");\r\n  //当前班级\r\n  const [currentClass, setCurrentClass] = useState(\"\");\r\n  const [currentClassName, setCurrentClassName] = useState(\"\");\r\n  //班级pkmodal\r\n  const [classPKVisible, setClassPKVisible] = useState(false);\r\n  const [myClass, setMyClass] = useState({});\r\n  const [compareClass, setCompareClass] = useState({});\r\n  const [myClassData, setMyClassData] = useState({});\r\n  const [compareClassData, setCompareClassData] = useState({});\r\n  const [changeVisible, setChangeVisible] = useState(false);\r\n  const [chooseVisible, setChooseVisible] = useState(false);\r\n  //比较的维度\r\n  const [compareList, setCompareList] = useState([]);\r\n  const [myWinCount, setMyWinCount] = useState(0);\r\n  const [compareWinCount, setCompareWinCount] = useState(0);\r\n  //选择班级列表\r\n  const [gradeClassList, setGradeClassList] = useState([]);\r\n  \r\n  // 获取整个结构的都没节点\r\n  const boxRef = useRef({});\r\n  // 下拉初始化\r\n  useEffect(() => {\r\n    // termselect存在，表明选择有使用者决定\r\n    termselect !== undefined && setTermSelect(termselect);\r\n  }, [termselect]);\r\n  useEffect(() => {\r\n    if(!currentGrade && userIdentity != \"manager\"){\r\n      // setCurrentGrade(gradeList[0] ? gradeList[0].gradeId : \"\");\r\n    }\r\n    \r\n  }, [gradeList]);\r\n  useEffect(() => {\r\n    // if(currentClass){\r\n    //   return;\r\n    // }\r\n    let classId = sessionStorage.getItem(\"currentClass\");\r\n    let updateClassList = [];\r\n    \r\n    if(userIdentity == \"manager\" && classList.length > 0){\r\n      updateClassList = classList.filter((item)=>{\r\n        return item.gradeId == currentGrade;\r\n      })\r\n    }\r\n    if(teacherClassList.length > 0){\r\n      teacherClassList.forEach((item)=>{\r\n        updateClassList.push(item);\r\n      })\r\n    }\r\n    if(!currentGrade && userIdentity == \"manager\"){\r\n      return;\r\n    }\r\n    if(!currentClass && userIdentity == \"manager\"){\r\n      setCurrentClass(\"\");\r\n      return;\r\n    }\r\n    if(classId){\r\n      setCurrentClass(classId);\r\n    } else if(updateClassList[0]){\r\n      setCurrentClass(updateClassList[0].classId);\r\n    }\r\n  }, [classList, currentGrade, teacherClassList]);\r\n  useEffect(()=>{\r\n    classList.forEach((item)=>{\r\n      if(item.classId == currentClass && currentClass){\r\n        setCurrentClassName(item.className);\r\n        setMyClass(item);\r\n      }\r\n    })\r\n  \r\n}, [currentClass, teacherClassList]);\r\n  //将班级按年级分类用于切换对手时进行展览\r\n  useLayoutEffect(()=>{\r\n    let updateClassList = [], gradeList = [];\r\n    classList.forEach((item)=>{\r\n      gradeList.push(item.gradeName);\r\n    })\r\n    gradeList = [...new Set(gradeList)];\r\n    gradeList.forEach((item)=>{\r\n      let arr = [];\r\n      classList.forEach((child)=>{\r\n        if(child.gradeName == item){\r\n          arr.push(child);\r\n        }\r\n      })\r\n      updateClassList.push({\r\n        gradeName: item,\r\n        classList: arr\r\n      })\r\n    })\r\n    setGradeClassList(updateClassList);\r\n  }, [classList]);\r\n  // 下拉列表再次修改\r\n  useEffect(() => {\r\n    if (termlist === undefined) return;\r\n    setTermList(termlist);\r\n    termselect === undefined &&\r\n      TermSelect === undefined &&\r\n      setTermSelect(termlist[0] ? termlist[0] : {});\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [termlist]);\r\n  const topType = useMemo(() => {\r\n    // 头部类型：*default:默认，*school:带有学校信息\r\n    return type ? type : \"default\";\r\n  }, [type]);\r\n  // 学校信息\r\n  const { isSchool, NodeName, LogoUrl } = useMemo(() => {\r\n    let data = { isSchool: false };\r\n    if (schoolMsg && topType === \"school\") {\r\n      data = { isSchool: true, ...schoolMsg };\r\n    }\r\n    return data;\r\n  }, [schoolMsg, topType]);\r\n  //如果是学生则需要获取所在班级的id\r\n  useLayoutEffect(()=>{\r\n    if(userIdentity != \"student\"){\r\n      return;\r\n    }\r\n    let UserID = sessionStorage.getItem(\"UserInfo\")?JSON.parse(sessionStorage.getItem(\"UserInfo\")).UserID: \"\";\r\n    let SchoolID = sessionStorage.getItem(\"UserInfo\")?JSON.parse(sessionStorage.getItem(\"UserInfo\")).SchoolID: \"\";\r\n    let url = BasicProxy + \"/api/base/getSchoolStudent?schoolId=\" + SchoolID +\r\n    \"&studentId=\" + UserID;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && result.data){\r\n        setCurrentClass(result.data.classId);\r\n        setCurrentGrade(result.data.gradeId);\r\n      }\r\n    })\r\n  }, [userIdentity]);\r\n  // 监听变化，修改回调\r\n  useEffect(() => {\r\n    typeof onTermChange === \"function\" && onTermChange(TermSelect);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    \r\n  }, [TermSelect]);\r\n  // 监听变化，修改回调\r\n  useEffect(() => {\r\n    typeof onTypeChange === \"function\" && onTypeChange(TypeSelect);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [TypeSelect]);\r\n  useEffect(() => {\r\n    typeof onClassChange === \"function\" && onClassChange(currentClass);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentClass]);\r\n  //获取教师教学班\r\n  useLayoutEffect(() => {\r\n    let UserID = JSON.parse(sessionStorage.getItem(\"UserInfo\")).UserID;\r\n    let url = BasicProxy + \"/api/base/getCourseClassById?teacherId=\" + UserID;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && result.data){\r\n        // /api/base/getCourseClassById\r\n        \r\n        setCourseClassList(result.data);\r\n      }\r\n    });\r\n  }, [])\r\n \r\n  useEffect(() => {\r\n    //切换年级时班级列表随之改变，但是当选择年级为全部时，则将所有班级列表展现出来\r\n    typeof onGradeChange === \"function\" && onGradeChange(currentGrade);\r\n    if(userIdentity != \"manager\"){\r\n      return;\r\n    }\r\n    let updateClassList = [];\r\n    if(!currentGrade){\r\n      return;\r\n    }\r\n    if(classList.length > 0){\r\n      updateClassList = classList.filter((item)=>{\r\n        return item.gradeId == currentGrade;\r\n      })\r\n    }\r\n    if(teacherClassList.length > 0){\r\n      teacherClassList.forEach((item)=>{\r\n        updateClassList.push(item);\r\n      })\r\n    }\r\n    if(userIdentity == \"manager\" && !currentClass){\r\n      return;\r\n    }\r\n    if(updateClassList[0]){\r\n      setCurrentClass(updateClassList[0].classId);\r\n    }\r\n   \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentGrade]);\r\n  //比较两个班级展示的几个维度，统计获胜次数\r\n  useLayoutEffect(()=>{\r\n    let arr = [], compareList = [];\r\n    if(JSON.stringify(myClassData) == \"{}\" || JSON.stringify(compareClassData) == \"{}\"){\r\n      return;\r\n    }\r\n    if(ModuleID == \"stuStatusMsg\"){\r\n      compareList = [\"acceptPreSchoolNum\", \"boardNum\", \"leftChildNum\", \"onlyChildNum\", \"poorNum\"];\r\n    }\r\n    if(ModuleID == \"stuConditionMsg\"){\r\n      compareList = [\"avgScore\", \"examScore\", \"finishRate\", \"score\", \"total\"];\r\n    }\r\n    if(ModuleID == \"attendanceMsg\"){\r\n      compareList = [\"avgAttendanceRateResult\", \"lateTimes\", \"leaveEarlyTimes\", \"vacateTimes\"];\r\n    }\r\n    let myCount = 0, compareCount = 0;\r\n    if(compareList.length > 0){\r\n      for(let value in myClassData){\r\n        if(compareList.includes(value) && myClassData[value] > compareClassData[value]){\r\n          myCount++;\r\n        }\r\n        if(compareList.includes(value) && myClassData[value] < compareClassData[value]){\r\n          compareCount++;\r\n        }\r\n      }\r\n    } else {\r\n      Array.isArray(myClassData.pkProjects) &&\r\n      myClassData.pkProjects.forEach((item)=>{\r\n        Array.isArray(compareClassData.pkProjects) &&\r\n        compareClassData.pkProjects.forEach((child)=>{\r\n          if(child.projectName == item.projectName && child.score > item.score){\r\n            compareCount++;\r\n          }\r\n          if(child.projectName == item.projectName && child.score < item.score){\r\n            myCount++;\r\n          }\r\n        });\r\n      })\r\n    }\r\n    console.log(compareList, myCount, compareCount, \"pk\");\r\n    setMyWinCount(myCount);\r\n    setCompareWinCount(compareCount);\r\n  }, [myClassData, compareClassData]);\r\n  //下载模板\r\n  const downloadTemplate = (value) => {\r\n    // TEMPERATURE(0, \"体温信息录入模板.xlsx\"),\r\n    //     REWARDS_LOGS(2, \"奖励信息导入模板.xlsx\"),\r\n    //     NETWORK_LOGS(3, \"学生上网记录导入模板.xlsx\"),\r\n    //     CONSUMPTION_LOGS(4, \"学生消费记录导入模板.xlsx\"),\r\n    //     LEAVE_RECORD_LOGS(5, \"学生请假记录录入模板.xlsx\"),\r\n    //     MENTAL_HEALTHY_LOGS(6, \"心理健康导入模板.xlsx\"),\r\n    //     PUNISHMENT_LOGS(7, \"惩戒信息导入模板.xlsx\"),\r\n    //     PHYSICS_HEALTHY_LOGS(8, \"身体健康档案录入模板.xlsx\"),\r\n    //     STATUS_LOGS(9, \"学籍导入模板.xlsx\"),\r\n    //     ATTENDANCE_LOGS(10, \"课堂出勤导入模板.xlsx\");\r\n    // let templateType = \"STATUS_LOGS\";\r\n    if(ModuleID == \"stuStatusMsg\"){\r\n      value = \"STATUS_LOGS\";\r\n    }\r\n    let SchoolID = sessionStorage.getItem(\"UserInfo\")? JSON.parse(sessionStorage.getItem(\"UserInfo\")).SchoolID: \"\";\r\n    let url = BasicProxy + \"/api/base/template?schoolId=\" + SchoolID +\r\n    \"&gradeId=\" + currentGrade +\r\n    \"&classId=\" + currentClass +\r\n    \"&templateType=\" + value +\r\n    \"&blankSheet=\" + (value == \"ATTENDANCE_LOGS\"? 0: 1);\r\n    //导出excel文档\r\n    window.location.href = url;\r\n  }\r\n  const openImportPage = (key, data) => {\r\n    let type = (\r\n      key == \"courseShow\"? 2:\r\n      key == \"commonWork\"? 4:\r\n      key == \"commonTest\"? 5:\r\n      2\r\n    );\r\n    let className = \"\";\r\n    classList.forEach((item)=>{\r\n      if(item.classId == currentClass){\r\n        className = item.className;\r\n      }\r\n    })\r\n    let token = sessionStorage.getItem(\"token\") || getQueryVariable(\"lg_tk\");\r\n    let url = BasicProxy + \"/api/base/getServerInfo?sysIds=810\";\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && result.data){   \r\n        let url = result.data.webSvrAddr + \"cjzp/TeacherImport?lg_tk=\" + token;\r\n        window.open(url);\r\n       }\r\n    })\r\n    return;\r\n  }\r\n  //导出页面\r\n  const outputPage = () => {\r\n    let node = $(`#${ModuleID}`);\r\n    html2canvas(node[0], {\r\n      width: node.width() - 10,\r\n      height: node.height() + 10,\r\n      scale: (0.75, 0.75),\r\n      // ignoreElements: function($(\".analysis-content\")[0]){\r\n      //   return false\r\n      // },\r\n      backgroundColor: '#ffffff',\r\n    }).then(canvas => {\r\n      const imgUrl = canvas.toDataURL();\r\n      // 获取截图base64 \r\n      // let img = document.createElement(\"img\");\r\n      // img.src = imgUrl;\r\n      // console.log(node[0])\r\n      // node[0].appendChild(img);\r\n      let a = document.createElement(\"a\");\r\n      a.href = imgUrl;\r\n      let imgName = \"\";\r\n      if(ModuleID == \"stuStatusMsg\"){\r\n        imgName += \"学籍档案_\";\r\n      }\r\n      if(ModuleID == \"stuConditionMsg\"){\r\n        imgName += \"学情档案_\";\r\n      }\r\n      if(ModuleID == \"attendanceMsg\"){\r\n        imgName += \"考勤档案_\";\r\n      }\r\n      if(ModuleID == \"awardAndPunish\"){\r\n        imgName += \"奖惩档案_\";\r\n      }\r\n      if(ModuleID == \"healthMsg\"){\r\n        imgName += \"健康档案_\";\r\n      }\r\n      if(ModuleID == \"schoolLiveMsg\"){\r\n        imgName += \"校园生活档案_\";\r\n      }\r\n      let termName = TermSelect.value? JSON.parse(TermSelect.value).termName: \"\";\r\n      let gradeName = \"\";\r\n      Array.isArray(gradeList) && gradeList.map((item, index)=>{\r\n        if(item.gradeId == currentGrade){\r\n          gradeName = item.gradeName;\r\n        }\r\n      });\r\n      a.download = imgName + termName + (gradeName?\"_\" + gradeName: \"\") + (currentClassName?\"_\" + currentClassName: \"\");\r\n      let event = new MouseEvent(\"click\");\r\n      a.dispatchEvent(event);\r\n    });\r\n  }\r\n  //导入模板信息\r\n  const importMethod = (data, key) => {\r\n    let url = \"\";\r\n    var formData = new FormData();\r\n     // TEMPERATURE(0, \"体温信息录入模板.xlsx\"),\r\n    //     REWARDS_LOGS(2, \"奖励信息导入模板.xlsx\"),\r\n    //     NETWORK_LOGS(3, \"学生上网记录导入模板.xlsx\"),\r\n    //     CONSUMPTION_LOGS(4, \"学生消费记录导入模板.xlsx\"),\r\n    //     LEAVE_RECORD_LOGS(5, \"学生请假记录录入模板.xlsx\"),\r\n    //     MENTAL_HEALTHY_LOGS(6, \"心理健康导入模板.xlsx\"),\r\n    //     PUNISHMENT_LOGS(7, \"惩戒信息导入模板.xlsx\"),\r\n    //     PHYSICS_HEALTHY_LOGS(8, \"身体健康档案录入模板.xlsx\"),\r\n    //     STATUS_LOGS(9, \"学籍导入模板.xlsx\"),\r\n    //     ATTENDANCE_LOGS(10, \"课堂出勤导入模板.xlsx\");\r\n    // let templateType = \"STATUS_LOGS\";\r\n    if(ModuleID == \"stuStatusMsg\"){\r\n      setShowType(\"import\");\r\n      return;\r\n    }\r\n    if(ModuleID == \"stuConditionMsg\"){\r\n      return;\r\n    }\r\n    if(ModuleID == \"attendanceMsg\"){\r\n      formData.append(\"multipartFile\", data.file);\r\n      // 多文件上传需要给参数名称后面加上[]\r\n      // formData.append(\"testfile[]\", files[1]);\r\n      let SchoolID = JSON.parse(sessionStorage.getItem(\"UserInfo\")).SchoolID;\r\n      if(key == \"ATTENDANCE_LOGS\"){\r\n        url = BasicProxy + \"/api/attendance/check/attendance?classId=\" + currentClass + \r\n        \"&schoolId=\" + SchoolID;\r\n      }\r\n      if(key == \"ATTENDANCE_DORMITORY_LOGS\"){\r\n        url = BasicProxy + \"/api/attendance/check/attendanceDormitory?classId=\" + currentClass + \r\n        \"&schoolId=\" + SchoolID;\r\n      }\r\n      if(key == \"ATTENDANCE_GATE_LOGS\"){\r\n        url = BasicProxy + \"/api/attendance/check/attendanceGate?classId=\" + currentClass + \r\n        \"&schoolId=\" + SchoolID;\r\n      }\r\n    }\r\n    if(ModuleID == \"awardAndPunish\"){\r\n      formData.append(\"file\", data.file);\r\n      // 多文件上传需要给参数名称后面加上[]\r\n      // formData.append(\"testfile[]\", files[1]);\r\n      if(key == \"REWARDS_LOGS\") {\r\n        url = BasicProxy + \"/api/punishAndReward/rewards/import\";\r\n      }\r\n      if(key == \"PUNISHMENT_LOGS\") {\r\n        url = BasicProxy + \"/api/punishAndReward/punishment/import\";\r\n      }\r\n       \r\n    }\r\n    if(ModuleID == \"healthMsg\"){\r\n      formData.append(\"file\", data.file);\r\n      // 多文件上传需要给参数名称后面加上[]\r\n      // formData.append(\"testfile[]\", files[1]);\r\n      if(key == \"LEAVE_RECORD_LOGS\") {\r\n        url = BasicProxy + \"/api/healthy/leave/import\";\r\n      }\r\n      if(key == \"MENTAL_HEALTHY_LOGS\") {\r\n        url = BasicProxy + \"/api/healthy/mentalHealthy/import\";\r\n      }\r\n      if(key == \"TEMPERATURE\") {\r\n        url = BasicProxy + \"/api/healthy/temperature/import\";\r\n      }\r\n      if(key == \"PHYSICS_HEALTHY_LOGS\") {\r\n        url = BasicProxy + \"/api/healthy/studentHealthInfo/import\";\r\n      }\r\n    }\r\n    \r\n    if(ModuleID == \"schoolLiveMsg\"){\r\n      formData.append(\"file\", data.file);\r\n      // 多文件上传需要给参数名称后面加上[]\r\n      // formData.append(\"testfile[]\", files[1]);\r\n      if(key == \"CONSUMPTION_LOGS\") {\r\n        url = BasicProxy + \"/api/campusLife/consumption/import\";\r\n      }\r\n      if(key == \"NETWORK_LOGS\") {\r\n        url = BasicProxy + \"/api/campusLife/networkLog/import\";\r\n      }\r\n    }\r\n    $.ajax({\r\n      url: url,\r\n      type: 'post',\r\n      async: true,\r\n      data: formData,\r\n      dataType:'json',\r\n      cache: false, // 上传文件无需缓存\r\n      processData : false, // 使数据不做处理\r\n      contentType: false,\r\n      headers: {\r\n        \"Authorization\": \"X-Token=\" + sessionStorage.getItem(\"token\"),\r\n      },\r\n      success: function(data){\r\n        if(data.status == 200){\r\n          let node = $(\".link-child-box a\");\r\n          let currentIndex = 1;\r\n          node.each((index, item)=>{\r\n            if($(item).attr(\"class\") && $(item).attr(\"class\").indexOf(\"link-select\") != -1){\r\n              currentIndex = index + 1;\r\n            }\r\n          })\r\n          let url = BasicProxy + \"/cache/delete?moduleIds=\" + currentIndex;\r\n          fetch\r\n          .get({url, securityLevel: 2})\r\n          .then((res)=>res.json())\r\n          .then((result)=>{\r\n          })\r\n          if(ModuleID == \"attendanceMsg\"){\r\n            if(key == \"ATTENDANCE_LOGS\"){\r\n              let url = BasicProxy + \"/api/attendance/import/attendance\";\r\n              $.ajax({\r\n                url: url,\r\n                type: 'post',\r\n                async: true,\r\n                data: formData,\r\n                dataType:'json',\r\n                cache: false, // 上传文件无需缓存\r\n                processData : false, // 使数据不做处理\r\n                contentType: false,\r\n                headers: {\r\n                  \"Authorization\": \"X-Token=\" + sessionStorage.getItem(\"token\"),\r\n                },\r\n                success: function(data){\r\n                  message.success(\"导入成功~\");\r\n                  setReFlash(true);\r\n                },\r\n                error: function(){\r\n                  message.success(\"导入失败~\");\r\n                }\r\n              });\r\n              return;\r\n            }\r\n            if(key == \"ATTENDANCE_DORMITORY_LOGS\"){\r\n              let url = BasicProxy + \"/api/attendance/import/attendanceDormitory\";\r\n              $.ajax({\r\n                url: url,\r\n                type: 'post',\r\n                async: true,\r\n                data: formData,\r\n                dataType:'json',\r\n                cache: false, // 上传文件无需缓存\r\n                processData : false, // 使数据不做处理\r\n                contentType: false,\r\n                headers: {\r\n                  \"Authorization\": \"X-Token=\" + sessionStorage.getItem(\"token\"),\r\n                },\r\n                success: function(data){\r\n                  message.success(\"导入成功~\");\r\n                  setReFlash(true);\r\n                },\r\n                error: function(){\r\n                  message.success(\"导入失败~\");\r\n                }\r\n              });\r\n              return;\r\n            }\r\n            if(key == \"ATTENDANCE_GATE_LOGS\"){\r\n                let url = BasicProxy + \"/api/attendance/import/attendanceGate\";\r\n                $.ajax({\r\n                  url: url,\r\n                  type: 'post',\r\n                  async: true,\r\n                  data: formData,\r\n                  dataType:'json',\r\n                  cache: false, // 上传文件无需缓存\r\n                  processData : false, // 使数据不做处理\r\n                  contentType: false,\r\n                  headers: {\r\n                    \"Authorization\": \"X-Token=\" + sessionStorage.getItem(\"token\"),\r\n                  },\r\n                  success: function(data){\r\n                    message.success(\"导入成功~\");\r\n                    setReFlash(true);\r\n                  },\r\n                  error: function(){\r\n                    message.success(\"导入失败~\");\r\n                  }\r\n                });\r\n                return;\r\n            }\r\n          }\r\n          \r\n          message.success(\"导入成功~\");\r\n        } else {\r\n          \r\n          if(data.status != \"404\" && data.msg && data.msg.indexOf(\".xls\") != -1){\r\n            message.success(\"文档内数据错误，请下载文件并修改标红行的数据！\", 3);\r\n            window.location.href = BasicProxy + \"/api/base/fileDownload?filePath=\" + data.msg;\r\n            return;\r\n          }\r\n          message.error(\"导入失败！请点击下载模板链接下载正确的模板文件~\");\r\n        }\r\n        \r\n         \r\n      },\r\n      error:function(response){\r\n        \r\n        message.error(\"导入失败！请点击下载模板链接下载正确的模板文件~\");\r\n        // let url = BasicProxy + \"/api/base/fileDownload?filePath\";\r\n        // $.ajax({\r\n        //   url: url,\r\n        //   type: 'get',\r\n        //   async: true,\r\n        //   dataType:'json',\r\n        //   headers: {\r\n        //     \"Authorization\": \"X-Token=\" + sessionStorage.getItem(\"token\"),\r\n        //   },\r\n        //   success: function(data){\r\n        //     message.success(\"导入成功~\");\r\n        //   }\r\n        // });\r\n      }\r\n    })\r\n    // fetch.post({url, securityLevel: 2})\r\n    // .then((res)=>{res.json()})\r\n    // .then((result)=>{\r\n    //   if(result.status == 200){\r\n    //     message.success(\"导入成功~\");\r\n    //   } else {\r\n    //     message.success(\"导入失败~\");\r\n    //   }\r\n    // })\r\n  }\r\n  //班级PK判断调用哪个档案的接口,获取当前班级的比较信息\r\n  const pkClick = () => {\r\n    getClassInfo(\"myClass\");\r\n    setClassPKVisible(true);\r\n  }\r\n  //获取班级的信息\r\n  const getClassInfo = (type, data) => {\r\n    let url = \"\", classId = \"\";\r\n    // if(type == \"myClass\"){\r\n    //   classId = currentClass;\r\n    // }\r\n    // if(type == \"compareClass\"){\r\n      \r\n      classId = data? data.classId? data.classId: \"\": currentClass;\r\n    // }\r\n    if(!classId){\r\n      return;\r\n    }\r\n    let SchoolID = sessionStorage.getItem(\"UserInfo\")? \r\n    JSON.parse(sessionStorage.getItem(\"UserInfo\")).SchoolID: \r\n    \"\";\r\n    let currentTermInfo = TermSelect.value? JSON.parse(TermSelect.value): {};  \r\n    let classList = sessionStorage.getItem(\"classList\") ?\r\n    JSON.parse(sessionStorage.getItem(\"classList\")):\r\n    [];\r\n    let classGradeId = \"\";\r\n    classList.forEach((item)=>{\r\n        if(item.classId == currentClass){\r\n            classGradeId = item.gradeId;\r\n        }\r\n    })\r\n    if(ModuleID == \"stuStatusMsg\"){\r\n      url = BasicProxy + \"/api/status/class?classId=\" + classId;\r\n    }\r\n    if(ModuleID == \"stuConditionMsg\"){\r\n      url = BasicProxy + \"/api/learning2/PkContent?type=2\" + \r\n      \"&classId=\" + classId +\r\n      \"&termId=\" + currentTermInfo.termId +\r\n      \"&start=\" + (currentTermInfo.startDate?currentTermInfo.startDate.substr(0, 10): \"\") +\r\n      \"&end=\" + (currentTermInfo.endDate?currentTermInfo.endDate.substr(0, 10): \"\");;\r\n    }\r\n    if(ModuleID == \"attendanceMsg\"){\r\n      url = BasicProxy + \"/api/attendance/attendance/times?type=2&studentId=&classId=\" + classId + \r\n      \"&gradeId=\" + classGradeId +\r\n      \"&schoolId=\" + SchoolID +\r\n      \"&statisticalType=3&start=\" + (currentTermInfo.startDate?currentTermInfo.startDate.substr(0, 10): \"\") +\r\n      \"&end=\" + (currentTermInfo.endDate?currentTermInfo.endDate.substr(0, 10): \"\");\r\n    }\r\n    if(ModuleID == \"awardAndPunish\"){\r\n      url = BasicProxy + \"/api/punishAndReward/pk/class?schoolId=\" + SchoolID +\r\n      \"&classId=\" + classId;\r\n    }\r\n    if(ModuleID == \"healthMsg\"){\r\n      url = BasicProxy + \"/api/healthy/pk/class?schoolId=\" + SchoolID +\r\n      \"&classId=\" + classId;\r\n    }\r\n    if(ModuleID == \"schoolLiveMsg\"){\r\n      url = BasicProxy + \"/api/campusLife/pk/class?schoolId=\" + SchoolID +\r\n      \"&classId=\" + classId;\r\n    }\r\n    // console.log(url)\r\n    // return;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && result.data){\r\n        if(type == \"myClass\"){\r\n          setMyClassData(result.data);\r\n        }\r\n        if(type == \"compareClass\"){\r\n          setCompareClassData(result.data);\r\n        }\r\n      }\r\n    })\r\n  }\r\n  useLayoutEffect(()=>{\r\n    //有些模块有多个模板，需要设置列表供用户选择下载\r\n    switch(ModuleID){\r\n      case \"stuConditionMsg\":\r\n          setTemplateList([\r\n            {\r\n              name: \"课堂表现数据导入\",\r\n              value: \"courseShow\"\r\n            },\r\n            {\r\n              name: \"平时作业数据导入\",\r\n              value: \"commonWork\"\r\n            },\r\n            {\r\n              name: \"平时考试数据导入\",\r\n              value: \"commonTest\"\r\n            },\r\n          ]);\r\n          break;\r\n      case \"attendanceMsg\":\r\n        setTemplateList([\r\n          {\r\n            name: \"课堂考勤录入模板\",\r\n            value: \"ATTENDANCE_LOGS\"\r\n          },\r\n          {\r\n            name: \"宿舍考勤录入模板\",\r\n            value: \"ATTENDANCE_DORMITORY_LOGS\"\r\n          },\r\n          {\r\n            name: \"学校考勤录入模板\",\r\n            value: \"ATTENDANCE_GATE_LOGS\"\r\n          },\r\n        ]);\r\n          break;\r\n      case \"healthMsg\":\r\n          setTemplateList([\r\n            {\r\n              name: \"体温信息录入模板\",\r\n              value: \"TEMPERATURE\"\r\n            },\r\n            {\r\n              name: \"学生请假记录录入模板\",\r\n              value: \"LEAVE_RECORD_LOGS\"\r\n            },\r\n            {\r\n              name: \"心理健康导入模板\",\r\n              value: \"MENTAL_HEALTHY_LOGS\"\r\n            },\r\n            {\r\n              name: \"身体健康档案录入模板\",\r\n              value: \"PHYSICS_HEALTHY_LOGS\"\r\n            },\r\n          ]);\r\n          break;\r\n      case \"awardAndPunish\":\r\n          setTemplateList([\r\n            {\r\n              name: \"奖励信息导入模板\",\r\n              value: \"REWARDS_LOGS\"\r\n            },\r\n            {\r\n              name: \"惩戒信息导入模板\",\r\n              value: \"PUNISHMENT_LOGS\"\r\n            },\r\n          ]);\r\n          break;\r\n      case \"schoolLiveMsg\":\r\n          setTemplateList([\r\n            {\r\n              name: \"学生上网记录导入模板\",\r\n              value: \"NETWORK_LOGS\"\r\n            },\r\n            {\r\n              name: \"学生消费记录导入模板\",\r\n              value: \"CONSUMPTION_LOGS\"\r\n            },\r\n          ]);\r\n          break;\r\n      default:\r\n          break;\r\n    }\r\n  }, [ModuleID]);\r\n  useImperativeHandle(\r\n    ref,\r\n    () => ({\r\n      TermSelect,\r\n      boxRef,\r\n      TypeSelect,\r\n      currentClass,\r\n      currentGrade\r\n    }),\r\n    [TermSelect, TypeSelect, currentClass, currentGrade]\r\n  );\r\n  // console.log($(boxRef.current).height())\r\n  useLayoutEffect(() => {\r\n    typeof getHeight === \"function\" && getHeight($(boxRef.current).height());\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  // console.log(myClass, \"我的班级\");\r\n  return (\r\n    <div ref={boxRef} className={`Analysis-Top ${className ? className : \"\"}`}>\r\n      {isSchool ? (\r\n        <div className=\"top-msg\">\r\n          <p className=\"s-msg\">\r\n            <i style={{ backgroundImage: LogoUrl ?LogoUrl: \"#fff\" }}></i>\r\n            {NodeName ? NodeName : \"测试\"}\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <div className=\"top-default\">\r\n        {\r\n          userIdentity == 'teacher'?\r\n          <div className=\"select-container\" style={{marginLeft: 0}}>\r\n            <span>当前班级:</span>\r\n            <Select \r\n              value={currentClassName} \r\n              className=\"select class-select\"\r\n              onChange={(value)=>{\r\n                sessionStorage.setItem(\"currentClass\", value);\r\n                setCurrentClass(value)\r\n              }}\r\n            >\r\n              {\r\n                Array.isArray(teacherClassList) && teacherClassList.map((item, index)=>{\r\n                  return (\r\n                    <Option \r\n                    key={index}\r\n                    value={item.classId}\r\n                    >{item.className}</Option>\r\n                  )\r\n                })\r\n              }\r\n            </Select>\r\n          </div>:\r\n          \"\"\r\n        }\r\n        <Dropdown\r\n          width={200}\r\n          height={240}\r\n          dropList={TermList}\r\n          title={\"所统计学期\"}\r\n          value={TermSelect.value}\r\n          className={`term-dropdown ${isSchool ? \"dropdown-school\" : \"\"}`}\r\n          onChange={(e) => {}}\r\n          onSelect={(e, option) => {\r\n            // console.log(option);\r\n            setTermSelect(option);\r\n          }}\r\n        ></Dropdown>\r\n        {\r\n          userIdentity == \"manager\"?\r\n          <div style={{display: 'inline-block'}}>\r\n            <div className=\"select-container\">\r\n              <span>年级:</span>\r\n              <Select \r\n              value={currentGrade} \r\n              className=\"select grade-select\"\r\n              onChange={(value)=>setCurrentGrade(value)}\r\n              >\r\n                <Option value=\"\">全部</Option>\r\n                  {\r\n                    Array.isArray(gradeList) && gradeList.map((item, index)=>{\r\n                      return (\r\n                        <Option \r\n                        key={index}\r\n                        value={item.gradeId}\r\n                        >{item.gradeName}</Option>\r\n                      )\r\n                    })\r\n                  }\r\n              </Select>\r\n            </div>\r\n            <div className=\"select-container\">\r\n              <span>班级:</span>\r\n              <Select \r\n              value={currentClass} \r\n              className=\"select class-select\"\r\n              onChange={(value)=>{\r\n                sessionStorage.setItem(\"currentClass\", value);\r\n                setCurrentClass(value)}}\r\n              >\r\n                <Option value=\"\">全部</Option>\r\n                  {\r\n                    Array.isArray(classList) && classList.map((item, index)=>{\r\n                      if(item.gradeId == currentGrade || !currentGrade){\r\n                        return (\r\n                          <Option \r\n                          key={index}\r\n                          value={item.classId}\r\n                          >{item.className}</Option>\r\n                        )\r\n                      }\r\n                      \r\n                    })\r\n                  }\r\n              </Select>\r\n            </div>\r\n          </div>:\r\n          \"\"\r\n        }\r\n        {/* {isSchool && (\r\n          <Dropdown\r\n            width={200}\r\n            height={240}\r\n            dropList={TypeList}\r\n            title={\"所统计类型\"}\r\n            value={TypeSelect.value}\r\n            className={`term-dropdown dropdown-school`}\r\n            onChange={(e) => {}}\r\n            onSelect={(e, option) => {\r\n              // console.log(option);\r\n              setTypeSelect(option);\r\n            }}\r\n          ></Dropdown>\r\n        )} */}\r\n        {\r\n          userIdentity == 'teacher'?\r\n          <div className=\"top-right\">\r\n            {\r\n              ModuleID == \"stuStatusMsg\" || ModuleID == \"stuConditionMsg\"?\r\n              \"\":\r\n              templateList.length > 0?\r\n              <Popover\r\n              placement=\"bottom\"\r\n              trigger=\"click\" \r\n              id=\"template-list-container\"\r\n              content={\r\n                <ul className=\"template-list\">\r\n                  {\r\n                    templateList.map((item)=>{\r\n                      return (\r\n                        <li onClick={()=>downloadTemplate(item.value)}>{item.name}</li>\r\n                      )\r\n                    })\r\n                  }\r\n                </ul>\r\n              }>\r\n              <div className=\"top-download\">\r\n                  {/* <i className=\"importlogo\"></i> */}\r\n                  下载模板\r\n              </div>\r\n              </Popover>:\r\n              <div className=\"top-download\" onClick={downloadTemplate}>\r\n                  {/* <i className=\"importlogo\"></i> */}\r\n                  下载模板\r\n              </div>\r\n            }\r\n            {\r\n              ModuleID == \"stuStatusMsg\"?\r\n              <div className=\"top-import\" onClick={importMethod}>\r\n                <i className=\"importlogo\"></i>\r\n                导入\r\n              </div>:\r\n              templateList.length > 0?\r\n              ModuleID == \"stuConditionMsg\"?\r\n              // <Popover\r\n              // placement=\"bottom\"\r\n              // trigger=\"click\" \r\n              // className=\"template-list-container\"\r\n              // content={\r\n              //   <ul className=\"template-list\">\r\n              //     {\r\n              //       templateList.map((item, index)=>{\r\n              //         return (\r\n              //           <Popover\r\n              //             placement=\"left\"\r\n              //             // trigger=\"click\" \r\n              //             className=\"template-list-container\"\r\n              //             content={\r\n              //               <ul className=\"course-class-list\">\r\n              //                 {\r\n              //                   courseClassList.length > 0?\r\n              //                   courseClassList.map((child, index1)=>{\r\n              //                     return (\r\n              //                       <li key={index1} onClick={()=>openImportPage(item.value, child)}>\r\n              //                         {child.courseClassName}\r\n              //                       </li>\r\n              //                     )\r\n              //                   }):\r\n              //                   <p style={{lineHeight: '60px', padding: \"0 10px\"}}>{\"暂无教学班~\"}</p>\r\n              //                 }\r\n              //               </ul>\r\n              //             }>\r\n              //             <li key={index}>\r\n              //               {item.name.replace(\"模板\", \"\")}\r\n              //             </li>\r\n              //           </Popover>\r\n              //         )\r\n              //       })\r\n              //     }\r\n              //   </ul>\r\n              // }>\r\n              <div className=\"top-import\" onClick={openImportPage}>\r\n                <i className=\"importlogo\"></i>\r\n                导入\r\n              </div>\r\n                \r\n              // </Popover>\r\n              :\r\n              <Popover\r\n              placement=\"bottom\"\r\n              trigger=\"click\" \r\n              className=\"template-list-container\"\r\n              content={\r\n                <ul className=\"template-list\">\r\n                  {\r\n                    templateList.map((item, index)=>{\r\n                      return (\r\n                        <Upload\r\n                        customRequest={(file)=>importMethod(file, item.value)}\r\n                        showUploadList={false}\r\n                        onChange = {({ file, fileList }) => {\r\n                          // if(!file){\r\n                          //   return;\r\n                          // }\r\n                          // importMethod(file);\r\n                        }}>\r\n                            <li key={index}>\r\n                              {item.name.replace(\"模板\", \"\")}\r\n                            </li>\r\n                        </Upload>\r\n                        \r\n                      )\r\n                    })\r\n                  }\r\n                </ul>\r\n              }>\r\n              <div className=\"top-import\">\r\n                <i className=\"importlogo\"></i>\r\n                导入\r\n              </div>\r\n                \r\n              </Popover>\r\n              :\r\n              <Upload\r\n                customRequest={importMethod}\r\n                showUploadList={false}\r\n              >\r\n                <div className=\"top-import\">\r\n                  <i className=\"importlogo\"></i>\r\n                  导入\r\n                </div>\r\n              </Upload>\r\n            }\r\n            \r\n            <div className=\"top-output\" onClick={outputPage}>\r\n              <i className=\"outputlogo\"></i>\r\n              导出\r\n            </div>\r\n            <div className=\"class-PK\" onClick={pkClick}>\r\n              <i className=\"pklogo\"></i>\r\n              班级PK\r\n            </div>\r\n          </div>:\r\n          userIdentity == 'manager'?\r\n          <div className=\"top-right\">\r\n            <div className=\"top-import-tea\" onClick={outputPage}>\r\n              <i className=\"importlogo\"></i>\r\n              导出\r\n            </div>\r\n            {/* <div className=\"grade-PK\">\r\n              <i className=\"pklogo\"></i>\r\n              年级PK\r\n            </div> */}\r\n            <div className=\"class-PK\" onClick={pkClick}>\r\n              <i className=\"pklogo\"></i>\r\n              班级PK\r\n            </div>\r\n          </div>:\r\n          <div className=\"top-right\">\r\n          <div className=\"top-import-tea\" onClick={outputPage}>\r\n            <i className=\"importlogo\"></i>\r\n            导出\r\n          </div>\r\n        </div>\r\n        }\r\n        \r\n      </div>\r\n      <Modal\r\n      title=\"\"\r\n      wrapClassName=\"classPK-modal\"\r\n      visible={classPKVisible}\r\n      width={720}\r\n      closable={false}\r\n      bodyStyle={{height: 636}}\r\n      footer={null}\r\n      >\r\n        <div className=\"classPK-top\">\r\n          <div className=\"my-class\">\r\n            \r\n            <div className=\"class-info\">\r\n              <i className=\"class-image\" />\r\n              <span className=\"class-name\">{myClass.className? myClass.className: \"暂未选择\"}</span>\r\n              {\r\n                userIdentity == \"manager\"?\r\n                <span className=\"change-class-btn\" onClick={()=>setChooseVisible(true)}>切换</span>:\r\n                \"\"\r\n              }\r\n              \r\n            </div>\r\n            <div className=\"num-show\">{myWinCount}</div>\r\n          </div>\r\n          <div className=\"vslogo\"></div>\r\n          <div className=\"compare-class\">\r\n            <div className=\"class-info\">\r\n              {/* <span className=\"change-class-btn\">切换</span> */}\r\n              <span className=\"class-name\">{compareClass.className? compareClass.className: \"暂未选择\"}</span>\r\n              <i className=\"class-image\" />\r\n            </div>\r\n            <div className=\"num-show\">{compareWinCount}</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"classPK-bottom\">\r\n          {\r\n            ModuleID == \"stuStatusMsg\"?\r\n            <div>\r\n              <div className=\"compare-one\">\r\n              {/* <i className=\"resultlogo\"></i> */}\r\n              <p>接受过学前教育人数</p>\r\n              <div>\r\n                <span className=\"my-grade\">\r\n                  {typeof myClassData.acceptPreSchoolNum == \"number\"? myClassData.acceptPreSchoolNum + \"人\": \"--\"}\r\n                  </span>\r\n                <Progress\r\n                className=\"my-class-progress\"\r\n                showInfo={false}\r\n                trailColor=\"#e6e6e6\"\r\n                status=\"active\"\r\n                percent={\r\n                  typeof myClassData.acceptPreSchoolNum == \"number\"? \r\n                  parseInt((myClassData.acceptPreSchoolNum/myClassData.classSize)*100):0\r\n                }\r\n                strokeWidth={12}\r\n                strokeColor={{\r\n                  from: '#ff6a66',\r\n                  to: '#ff9b63'\r\n                }} />\r\n                \r\n                <Progress\r\n                className=\"compare-class-progress\"\r\n                showInfo={false}\r\n                trailColor=\"#e6e6e6\"\r\n                status=\"active\"\r\n                percent={\r\n                  typeof compareClassData.acceptPreSchoolNum == \"number\"? \r\n                  parseInt((compareClassData.acceptPreSchoolNum/compareClassData.classSize)*100):0\r\n                }\r\n                strokeWidth={12}\r\n                strokeColor={{\r\n                  from: '#376dff',\r\n                  to: '#2ea0ff'\r\n                }} />\r\n                <span className=\"compare-grade\">\r\n                {typeof compareClassData.acceptPreSchoolNum == \"number\"? compareClassData.acceptPreSchoolNum + \"人\": \"--\"}\r\n                </span>\r\n              </div>\r\n            </div>\r\n              <div className=\"compare-one\">\r\n                {/* <i className=\"resultlogo\"></i> */}\r\n                <p>寄宿生人数</p>\r\n                <div>\r\n                  <span className=\"my-grade\">\r\n                    {typeof myClassData.boardNum == \"number\"?myClassData.boardNum + \"人\":\"--\"}\r\n                  </span>\r\n                  <Progress\r\n                  className=\"my-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={\r\n                    typeof myClassData.boardNum == \"number\"?\r\n                    parseInt((myClassData.boardNum/myClassData.classSize)*100):0\r\n                  }\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#ff6a66',\r\n                    to: '#ff9b63'\r\n                  }} />\r\n                  \r\n                  <Progress\r\n                  className=\"compare-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={\r\n                    typeof compareClassData.boardNum == \"number\"?\r\n                    parseInt((compareClassData.boardNum/compareClassData.classSize)*100):0\r\n                  }\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#376dff',\r\n                    to: '#2ea0ff'\r\n                  }} />\r\n                  <span className=\"compare-grade\">\r\n                  {typeof compareClassData.boardNum == \"number\"?compareClassData.boardNum + \"人\":\"--\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"compare-one\">\r\n                {/* <i className=\"resultlogo\"></i> */}\r\n                <p>独生子女人数</p>\r\n                <div>\r\n                  <span className=\"my-grade\">\r\n                    {typeof myClassData.onlyChildNum == \"number\"?myClassData.onlyChildNum + \"人\":\"--\"}\r\n                  </span>\r\n                  <Progress\r\n                  className=\"my-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={\r\n                    typeof myClassData.onlyChildNum == \"number\"?\r\n                    parseInt((myClassData.onlyChildNum/myClassData.classSize)*100):0\r\n                  }\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#ff6a66',\r\n                    to: '#ff9b63'\r\n                  }} />\r\n                  \r\n                  <Progress\r\n                  className=\"compare-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={\r\n                    typeof compareClassData.onlyChildNum == \"number\"?\r\n                    parseInt((compareClassData.onlyChildNum/compareClassData.classSize)*100):0\r\n                  }\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#376dff',\r\n                    to: '#2ea0ff'\r\n                  }} />\r\n                  <span className=\"compare-grade\">\r\n                    {typeof compareClassData.onlyChildNum == \"number\"?compareClassData.onlyChildNum + \"人\":\"--\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"compare-one\">\r\n                {/* <i className=\"resultlogo\"></i> */}\r\n                <p>贫困生人数</p>\r\n                <div>\r\n                  <span className=\"my-grade\">\r\n                    {typeof myClassData.poorNum == \"number\"?myClassData.poorNum + \"人\":\"--\"}\r\n                  </span>\r\n                  <Progress\r\n                  className=\"my-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={\r\n                    typeof myClassData.poorNum == \"number\"?\r\n                    parseInt((myClassData.poorNum/myClassData.classSize)*100):0\r\n                  }\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#ff6a66',\r\n                    to: '#ff9b63'\r\n                  }} />\r\n                  \r\n                  <Progress\r\n                  className=\"compare-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={\r\n                    typeof compareClassData.poorNum == \"number\"?\r\n                    parseInt((compareClassData.poorNum/compareClassData.classSize)*100):0\r\n                  }\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#376dff',\r\n                    to: '#2ea0ff'\r\n                  }} />\r\n                  <span className=\"compare-grade\">\r\n                    {typeof compareClassData.poorNum == \"number\"?compareClassData.poorNum + \"人\":\"--\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"compare-one\">\r\n                {/* <i className=\"resultlogo\"></i> */}\r\n                <p>留守儿童人数</p>\r\n                <div>\r\n                  <span className=\"my-grade\">\r\n                    {typeof myClassData.leftChildNum == \"number\"?myClassData.leftChildNum + \"人\":\"--\"}\r\n                  </span>\r\n                  <Progress\r\n                  className=\"my-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={\r\n                    typeof myClassData.leftChildNum == \"number\"?\r\n                    parseInt((myClassData.leftChildNum/myClassData.classSize)*100):0\r\n                  }\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#ff6a66',\r\n                    to: '#ff9b63'\r\n                  }} />\r\n                  \r\n                  <Progress\r\n                  className=\"compare-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={\r\n                    typeof compareClassData.leftChildNum == \"number\"?\r\n                    parseInt((compareClassData.leftChildNum/compareClassData.classSize)*100):0\r\n                  }\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#376dff',\r\n                    to: '#2ea0ff'\r\n                  }} />\r\n                  <span className=\"compare-grade\">\r\n                    {typeof compareClassData.leftChildNum == \"number\"?compareClassData.leftChildNum + \"人\":\"--\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>:\r\n            ModuleID == \"stuConditionMsg\"?\r\n            <div>\r\n              <div className=\"compare-one\">\r\n              {/* <i className=\"resultlogo\"></i> */}\r\n              <p>课堂表现分</p>\r\n              <div>\r\n                <span className=\"my-grade\">\r\n                  {typeof myClassData.score == \"number\"? myClassData.score + \"分\": \"--\"}\r\n                  </span>\r\n                <Progress\r\n                className=\"my-class-progress\"\r\n                showInfo={false}\r\n                trailColor=\"#e6e6e6\"\r\n                status=\"active\"\r\n                percent={typeof myClassData.score == \"number\"? myClassData.score: 0}\r\n                strokeWidth={12}\r\n                strokeColor={{\r\n                  from: '#ff6a66',\r\n                  to: '#ff9b63'\r\n                }} />\r\n                \r\n                <Progress\r\n                className=\"compare-class-progress\"\r\n                showInfo={false}\r\n                trailColor=\"#e6e6e6\"\r\n                status=\"active\"\r\n                percent={typeof compareClassData.score == \"number\"? compareClassData.score: 0}\r\n                strokeWidth={12}\r\n                strokeColor={{\r\n                  from: '#376dff',\r\n                  to: '#2ea0ff'\r\n                }} />\r\n                <span className=\"compare-grade\">\r\n                {typeof compareClassData.score == \"number\"? compareClassData.score + \"分\": \"--\"}\r\n                </span>\r\n              </div>\r\n            </div>\r\n              <div className=\"compare-one\">\r\n                {/* <i className=\"resultlogo\"></i> */}\r\n                <p>作业完成率</p>\r\n                <div>\r\n                  <span className=\"my-grade\">\r\n                    {myClassData.finishRate?(Number(myClassData.finishRate)*100).toFixed(1) + \"%\":\"--\"}\r\n                  </span>\r\n                  <Progress\r\n                  className=\"my-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={myClassData.finishRate?(Number(myClassData.finishRate)*100).toFixed(1):0}\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#ff6a66',\r\n                    to: '#ff9b63'\r\n                  }} />\r\n                  \r\n                  <Progress\r\n                  className=\"compare-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={compareClassData.finishRate?(Number(compareClassData.finishRate)*100).toFixed(1):0}\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#376dff',\r\n                    to: '#2ea0ff'\r\n                  }} />\r\n                  <span className=\"compare-grade\">\r\n                    {compareClassData.finishRate?(Number(compareClassData.finishRate)*100).toFixed(1) + \"%\":\"--\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"compare-one\">\r\n                {/* <i className=\"resultlogo\"></i> */}\r\n                <p>自学时长</p>\r\n                <div>\r\n                  <span className=\"my-grade\">\r\n                    {typeof myClassData.total == \"number\"?myClassData.total + \"h\":\"--\"}\r\n                  </span>\r\n                  <Progress\r\n                  className=\"my-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={myClassData.total?myClassData.tota:0}\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#ff6a66',\r\n                    to: '#ff9b63'\r\n                  }} />\r\n                  \r\n                  <Progress\r\n                  className=\"compare-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={compareClassData.total?compareClassData.total:0}\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#376dff',\r\n                    to: '#2ea0ff'\r\n                  }} />\r\n                  <span className=\"compare-grade\">\r\n                    {typeof compareClassData.total == \"number\"?compareClassData.total + \"h\":\"--\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"compare-one\">\r\n                {/* <i className=\"resultlogo\"></i> */}\r\n                <p>考试平均分(最近)</p>\r\n                <div>\r\n                  <span \r\n                  className=\"my-grade\" \r\n                  title={typeof myClassData.examScore == \"number\"?(myClassData.examScore).toFixed(1) + \"分\":\"--\"}>\r\n                  {typeof myClassData.examScore == \"number\"?(myClassData.examScore).toFixed(1) + \"分\":\"--\"}\r\n                  </span>\r\n                  <Progress\r\n                  className=\"my-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={myClassData.examScore?myClassData.examScore:0}\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#ff6a66',\r\n                    to: '#ff9b63'\r\n                  }} />\r\n                  \r\n                  <Progress\r\n                  className=\"compare-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={compareClassData.examScore?compareClassData.examScore:0}\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#376dff',\r\n                    to: '#2ea0ff'\r\n                  }} />\r\n                  <span className=\"compare-grade\">\r\n                  {typeof compareClassData.examScore == \"number\"?(compareClassData.examScore).toFixed(1) + \"分\":\"--\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"compare-one\">\r\n                {/* <i className=\"resultlogo\"></i> */}\r\n                <p>总评平均分(最近)</p>\r\n                <div>\r\n                  <span className=\"my-grade\">\r\n                    {typeof myClassData.avgScore == \"number\"?myClassData.avgScore + \"分\":\"--\"}\r\n                  </span>\r\n                  <Progress\r\n                  className=\"my-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={typeof myClassData.avgScore == \"number\"?myClassData.avgScore:0}\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#ff6a66',\r\n                    to: '#ff9b63'\r\n                  }} />\r\n                  \r\n                  <Progress\r\n                  className=\"compare-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={typeof compareClassData.avgScore == \"number\"?compareClassData.avgScore:0}\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#376dff',\r\n                    to: '#2ea0ff'\r\n                  }} />\r\n                  <span className=\"compare-grade\">\r\n                  {typeof compareClassData.avgScore == \"number\"?compareClassData.avgScore + \"分\":\"--\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>:\r\n            ModuleID == \"attendanceMsg\"?\r\n            <div>\r\n              <div className=\"compare-one\">\r\n              {/* <i className=\"resultlogo\"></i> */}\r\n              <p>出勤率</p>\r\n              <div>\r\n                <span \r\n                className=\"my-grade\" \r\n                title={myClassData.avgAttendanceRateResult? parseInt(myClassData.avgAttendanceRateResult): \"--\"}>\r\n                  {myClassData.avgAttendanceRateResult? parseInt(myClassData.avgAttendanceRateResult): \"--\"}\r\n                  </span>\r\n                <Progress\r\n                className=\"my-class-progress\"\r\n                showInfo={false}\r\n                trailColor=\"#e6e6e6\"\r\n                status=\"active\"\r\n                percent={typeof myClassData.avgAttendanceRate == \"number\"? parseInt(myClassData.avgAttendanceRateResult): 0}\r\n                strokeWidth={12}\r\n                strokeColor={{\r\n                  from: '#ff6a66',\r\n                  to: '#ff9b63'\r\n                }} />\r\n                \r\n                <Progress\r\n                className=\"compare-class-progress\"\r\n                showInfo={false}\r\n                trailColor=\"#e6e6e6\"\r\n                status=\"active\"\r\n                percent={typeof compareClassData.avgAttendanceRate == \"number\"? parseInt(compareClassData.avgAttendanceRateResult): 0}\r\n                strokeWidth={12}\r\n                strokeColor={{\r\n                  from: '#376dff',\r\n                  to: '#2ea0ff'\r\n                }} />\r\n                <span \r\n                className=\"compare-grade\"\r\n                title={compareClassData.avgAttendanceRateResult? parseInt(compareClassData.avgAttendanceRateResult): \"--\"}>\r\n                {compareClassData.avgAttendanceRateResult? parseInt(compareClassData.avgAttendanceRateResult): \"--\"}\r\n                </span>\r\n              </div>\r\n            </div>\r\n              <div className=\"compare-one\">\r\n                {/* <i className=\"resultlogo\"></i> */}\r\n                <p>迟到次数</p>\r\n                <div>\r\n                  <span \r\n                  className=\"my-grade\"\r\n                  title={typeof myClassData.lateTimes == \"number\"?myClassData.lateTimes + \"次\":\"--\"}>\r\n                    {typeof myClassData.lateTimes == \"number\"?myClassData.lateTimes + \"次\":\"--\"}\r\n                  </span>\r\n                  <Progress\r\n                  className=\"my-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={typeof myClassData.lateTimes == \"number\"?myClassData.lateTimes:0}\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#ff6a66',\r\n                    to: '#ff9b63'\r\n                  }} />\r\n                  \r\n                  <Progress\r\n                  className=\"compare-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={typeof compareClassData.lateTimes == \"number\"?compareClassData.lateTimes:0}\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#376dff',\r\n                    to: '#2ea0ff'\r\n                  }} />\r\n                  <span \r\n                  className=\"compare-grade\"\r\n                  title={typeof compareClassData.lateTimes == \"number\"?compareClassData.lateTimes + \"次\":\"--\"}>\r\n                    {typeof compareClassData.lateTimes == \"number\"?compareClassData.lateTimes + \"次\":\"--\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"compare-one\">\r\n                {/* <i className=\"resultlogo\"></i> */}\r\n                <p>早退次数</p>\r\n                <div>\r\n                  <span \r\n                  className=\"my-grade\"\r\n                  title={typeof myClassData.leaveEarlyTimes == \"number\"?myClassData.leaveEarlyTimes + \"次\":\"--\"}>\r\n                    {typeof myClassData.leaveEarlyTimes == \"number\"?myClassData.leaveEarlyTimes + \"次\":\"--\"}\r\n                  </span>\r\n                  <Progress\r\n                  className=\"my-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={typeof myClassData.leaveEarlyTimes == \"number\"?myClassData.leaveEarlyTimes:0}\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#ff6a66',\r\n                    to: '#ff9b63'\r\n                  }} />\r\n                  \r\n                  <Progress\r\n                  className=\"compare-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={typeof compareClassData.leaveEarlyTimes == \"number\"?compareClassData.leaveEarlyTimes:0}\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#376dff',\r\n                    to: '#2ea0ff'\r\n                  }} />\r\n                  <span \r\n                  className=\"compare-grade\"\r\n                  title={typeof compareClassData.leaveEarlyTimes == \"number\"?compareClassData.leaveEarlyTimes + \"次\":\"--\"}>\r\n                    {typeof compareClassData.leaveEarlyTimes == \"number\"?compareClassData.leaveEarlyTimes + \"次\":\"--\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"compare-one\">\r\n                {/* <i className=\"resultlogo\"></i> */}\r\n                <p>请假次数</p>\r\n                <div>\r\n                  <span \r\n                  className=\"my-grade\"\r\n                  title={typeof myClassData.vacateTimes == \"number\"?myClassData.vacateTimes + \"次\":\"--\"}>\r\n                  {typeof myClassData.vacateTimes == \"number\"?myClassData.vacateTimes + \"次\":\"--\"}\r\n                  </span>\r\n                  <Progress\r\n                  className=\"my-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={typeof myClassData.vacateTimes == \"number\"?myClassData.vacateTimes:0}\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#ff6a66',\r\n                    to: '#ff9b63'\r\n                  }} />\r\n                  \r\n                  <Progress\r\n                  className=\"compare-class-progress\"\r\n                  showInfo={false}\r\n                  trailColor=\"#e6e6e6\"\r\n                  status=\"active\"\r\n                  percent={typeof compareClassData.vacateTimes == \"number\"?compareClassData.vacateTimes:0}\r\n                  strokeWidth={12}\r\n                  strokeColor={{\r\n                    from: '#376dff',\r\n                    to: '#2ea0ff'\r\n                  }} />\r\n                  <span \r\n                  className=\"compare-grade\"\r\n                  title={typeof compareClassData.vacateTimes == \"number\"?compareClassData.vacateTimes + \"次\":\"--\"}>\r\n                  {typeof compareClassData.vacateTimes == \"number\"?compareClassData.vacateTimes + \"次\":\"--\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>:\r\n            ModuleID == \"awardAndPunish\" || ModuleID == \"healthMsg\" || ModuleID == \"schoolLiveMsg\"?\r\n            <Scrollbars\r\n            autoHeight\r\n            autoHeightMax={320}>\r\n              {\r\n                Array.isArray(myClassData.pkProjects) &&\r\n                myClassData.pkProjects.map((item, index)=>{\r\n                  let compareClassInfo = {};\r\n                  Array.isArray(compareClassData.pkProjects) &&\r\n                  compareClassData.pkProjects.forEach((child)=>{\r\n                    if(child.projectName == item.projectName){\r\n                      compareClassInfo = child;\r\n                    }\r\n                  });\r\n                  return (\r\n                    <div className=\"compare-one\" key={index}>\r\n                    {/* <i className=\"resultlogo\"></i> */}\r\n                    <p>{item.projectName? item.projectName: \"--\"}</p>\r\n                    <div>\r\n                      <span \r\n                      className=\"my-grade\" \r\n                      title={\r\n                        typeof item.score == \"number\"? \r\n                        parseInt(item.score) + item.unit:\r\n                        \"--\"\r\n                      }\r\n                      >\r\n                        {typeof item.score == \"number\"? parseInt(item.score) + item.unit: \"--\"}\r\n                        </span>\r\n                      <Progress\r\n                      className=\"my-class-progress\"\r\n                      showInfo={false}\r\n                      trailColor=\"#e6e6e6\"\r\n                      status=\"active\"\r\n                      percent={typeof item.score == \"number\"? parseInt(item.score): 0}\r\n                      strokeWidth={12}\r\n                      strokeColor={{\r\n                        from: '#ff6a66',\r\n                        to: '#ff9b63'\r\n                      }} />\r\n                      <Progress\r\n                      className=\"compare-class-progress\"\r\n                      showInfo={false}\r\n                      trailColor=\"#e6e6e6\"\r\n                      status=\"active\"\r\n                      percent={typeof compareClassInfo.score == \"number\"? parseInt(compareClassInfo.score): 0}\r\n                      strokeWidth={12}\r\n                      strokeColor={{\r\n                        from: '#376dff',\r\n                        to: '#2ea0ff'\r\n                      }} />\r\n                      <span \r\n                      className=\"compare-grade\" \r\n                      title={\r\n                      typeof compareClassInfo.score == \"number\"? \r\n                      parseInt(compareClassInfo.score) + compareClassInfo.unit:\r\n                      \"--\"}>\r\n                      {typeof compareClassInfo.score == \"number\"? \r\n                      parseInt(compareClassInfo.score) + compareClassInfo.unit: \"--\"}\r\n                      </span>\r\n                    </div>\r\n                    </div>\r\n                  )\r\n                })\r\n              }\r\n            </Scrollbars>\r\n            :\r\n            \"\"\r\n          }\r\n          \r\n        </div>\r\n        <div className=\"classPK-footer\">\r\n            <div className=\"cancel-btn\" onClick={()=>setClassPKVisible(false)}>关闭</div>\r\n            <div className=\"change-btn\" onClick={()=>setChangeVisible(true)}>切换对手</div>\r\n        </div>\r\n      </Modal>\r\n      <MyModal\r\n      title=\"切换对手\"\r\n      className=\"change-compareClass-modal\"\r\n      visible={changeVisible}\r\n      width={880}\r\n      onCancel={()=>setChangeVisible(false)}\r\n      bodyStyle={{height: 472, padding: \"15px 0 24px 24px\"}}\r\n      footer={null}\r\n      >\r\n         <Scrollbars\r\n         autoHeight\r\n         autoHeightMax={445}>\r\n           {\r\n             gradeClassList.map((item, index)=>{\r\n               return (\r\n                 <div className=\"grade-group\" key={index}>\r\n                  <p className=\"grade-name\">\r\n                    {item.gradeName}\r\n                    <span>(共<span style={{color: \"#ff0000\"}}>{item.classList.length}</span>个班)</span>\r\n                  </p>\r\n                  <ul className=\"grade-class-list\">\r\n                    {\r\n                      item.classList.map((child, index1)=>{\r\n                        return (\r\n                          <li key={index1} onClick={()=>{\r\n                            if((myClassData.classInfo && child.classId == myClassData.classInfo.classId) || \r\n                            (compareClassData.classInfo && child.classId == compareClassData.classInfo.classId)){\r\n                              return;\r\n                            }\r\n                            console.log(myClassData);\r\n                            setCompareClass(child);\r\n                            getClassInfo(\"compareClass\", child);\r\n                            setChangeVisible(false);\r\n                          }} style={{\r\n                            cursor: (\r\n                              (myClassData.classInfo && child.classId == myClassData.classInfo.classId) || \r\n                            (compareClassData.classInfo && child.classId == compareClassData.classInfo.classId)?\r\n                              \"not-allowed\":\r\n                              \"\"\r\n                            )\r\n                          }}>\r\n                            <i className=\"classlogo\"></i>\r\n                            <p title={child.className}>{child.className}</p>\r\n                          </li>\r\n                        )\r\n                      })\r\n                    }\r\n                  </ul>\r\n                 </div>\r\n               )\r\n             })\r\n           }\r\n         </Scrollbars>\r\n      </MyModal>\r\n      <MyModal\r\n      title=\"选择班级\"\r\n      className=\"change-compareClass-modal\"\r\n      visible={chooseVisible}\r\n      width={880}\r\n      onCancel={()=>setChooseVisible(false)}\r\n      bodyStyle={{height: 472, padding: \"15px 0 24px 24px\"}}\r\n      footer={null}\r\n      >\r\n         <Scrollbars\r\n         autoHeight\r\n         autoHeightMax={445}>\r\n           {\r\n             gradeClassList.map((item, index)=>{\r\n               return (\r\n                 <div className=\"grade-group\" key={index}>\r\n                  <p className=\"grade-name\">\r\n                    {item.gradeName}\r\n                    <span>(共<span style={{color: \"#ff0000\"}}>{item.classList.length}</span>个班)</span>\r\n                  </p>\r\n                  <ul className=\"grade-class-list\">\r\n                    {\r\n                      item.classList.map((child, index1)=>{\r\n                        return (\r\n                          <li key={index1} onClick={()=>{\r\n                            setMyClass(child);\r\n                            getClassInfo(\"myClass\", child);\r\n                            setChooseVisible(false);\r\n                          }}>\r\n                            <i className=\"classlogo\"></i>\r\n                            <p title={child.className}>{child.className}</p>\r\n                          </li>\r\n                        )\r\n                      })\r\n                    }\r\n                  </ul>\r\n                 </div>\r\n               )\r\n             })\r\n           }\r\n         </Scrollbars>\r\n      </MyModal>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: { userInfo },\r\n  } = state;\r\n  return { userInfo };\r\n};\r\nconnect(mapStateToProps)\r\nexport default memo(forwardRef(AnalysisTop));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-16 19:10:04\r\n * @LastEditTime: 2020-12-17 19:12:37\r\n * @Description: 锚点组件,需要与scrollBar配合使用 react-custom-scrollbars\r\n * 需要传scrolbar 的ref下来\r\n * @FilePath: \\teacher-development\\src\\component\\anchor\\index.js\r\n */\r\n\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport $ from \"jquery\";\r\nimport \"./index.scss\";\r\n//   import { Search, Empty } from \"../common\";\r\n// 滚动的client会变，要实时拿最新的值\r\n// 根据每个块的高度进行锚点对应\r\n// 1.client区域显示的块都不完整时，选取最大的那块\r\n// 2.有一块完整的时候，选择完整的\r\n// 3.有一块以上（不包括1块）完整时，选取最大的\r\nfunction Anchor(props, ref) {\r\n  // scrollref不存在，不出现anchor\r\n  // bottomheightd多余的高度\r\n  let { className, list, scrollref, bottomheight, ...reset } = props;\r\n  //   设置anchor出现\r\n  const [show, setShow] = useState(false);\r\n  // 存新的list\r\n  const [anchorList, setAnchorList] = useState([]);\r\n  // 设置活动的块,这个由scroll改变来控制\r\n  const [activeLink, setActiveLink] = useState(0);\r\n  // 控制点击的事件不触发被动setActiveLink\r\n  const refuseRef = useRef(false);\r\n  //   处理list\r\n  useEffect(() => {\r\n    try {\r\n      if (\r\n        list instanceof Array &&\r\n        list.length > 0 &&\r\n        scrollref &&\r\n        scrollref.current\r\n      ) {\r\n        let {\r\n          scrollTop,\r\n          handleScroll,\r\n          getClientHeight,\r\n          getScrollHeight,\r\n        } = scrollref.current;\r\n        // scrollTop(200)\r\n        // s说明出现滚动了\r\n        if (getClientHeight() < getScrollHeight()) {\r\n          setShow(true);\r\n        }\r\n        let offsetTop = 0;\r\n        let height = 0; //上一个高度\r\n        let anchorList = [];\r\n        // 配置好改变的位置\r\n        console.log(\"传入的ref数组\", list);\r\n        console.log(scrollref.current);\r\n        list.forEach((child, index) => {\r\n          if (!child.ref) {\r\n            return;\r\n          }\r\n          // if(index != 0){\r\n          //   height = list[index - 1].ref.clientHeight;\r\n          // } else {\r\n          //   height = 0;\r\n          // }\r\n          \r\n          let $ref = $(child.ref);\r\n          offsetTop += height;\r\n\r\n          // height = $ref.outerHeight(true);\r\n          height = child.ref.clientHeight;\r\n          console.log(height, child.name, child.ref.clientHeight)\r\n          // 记录每块的高度和距离顶部的距离\r\n          anchorList.push({\r\n            ...child,\r\n            $ref,\r\n            offsetTop: offsetTop,\r\n            // height: $ref.outerHeight(true),\r\n            height: child.ref.clientHeight\r\n          });\r\n        });\r\n        setAnchorList(anchorList);\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n      setShow(false);\r\n    }\r\n  }, [list, scrollref]);\r\n  const onScroll = useCallback(() => {\r\n    if (!show) {\r\n      return;\r\n    }\r\n    let {\r\n      scrollTop,\r\n      handleScroll,\r\n      getClientHeight,\r\n      getScrollTop,\r\n      getScrollHeight,\r\n    } = scrollref.current;\r\n\r\n    let ScrollTop = getScrollTop();//内容框滚动距离\r\n    let ClientHeight = getClientHeight();//内容框可视高度\r\n    let ScrollHeight = getScrollHeight();\r\n\r\n    let activeBar = { isInit: true }; //记录\r\n    anchorList.forEach((child, index) => {\r\n      let { offsetTop, height } = child;\r\n      let offsetForBottom = offsetTop + height;//bar头部加高度为bar的底部到内容框顶部的距离\r\n      let fullBar = false;//是否是完整的bar\r\n      let visualHeight = 0;//bard的可视高度\r\n      let offsetVisualBottom = ClientHeight + ScrollTop;//内容框的高度加上滚动的头部距离为内容框底部距离内容框顶部距离\r\n\r\n      if (ScrollTop >= offsetForBottom || offsetVisualBottom < offsetTop) {\r\n        //这块直接不显示在可是区域\r\n        return;\r\n      }\r\n      // 后面的是有内有显示在可是区域\r\n      // 头部不完整\r\n      if (ScrollTop > offsetTop && offsetForBottom <= offsetVisualBottom) {\r\n        //不完整\r\n        visualHeight = offsetForBottom - ScrollTop;\r\n      }else if(ScrollTop <= offsetTop && offsetForBottom > offsetVisualBottom){\r\n        // 底部不完整\r\n        visualHeight = offsetVisualBottom - offsetTop;\r\n\r\n      } else {\r\n        //完整或者整个可视区域都是他\r\n        fullBar = true;\r\n        visualHeight = height;\r\n      }\r\n      let currentBar = { isInit: false, visualHeight, fullBar, index };\r\n      if (activeBar.isInit) {\r\n        activeBar = currentBar;\r\n      } else {\r\n        if (\r\n          (!activeBar.fullBar && currentBar.fullBar) || // (activeBar.fullBar && currentBar.fullBar) ||\r\n          (!activeBar.fullBar &&\r\n            !currentBar.fullBar &&\r\n            activeBar.visualHeight < currentBar.visualHeight)\r\n        ) {\r\n          //完整的替代不完整的, 不完整都的比大小,完整取第一个\r\n          activeBar = currentBar;\r\n        }\r\n      }\r\n    });\r\n    if(!refuseRef.current)\r\n    setActiveLink(activeBar.index);\r\n\r\n    refuseRef.current = false;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [anchorList, show]);\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      onScroll,\r\n    };\r\n  });\r\n  // 点击滚动\r\n  const onClickScroll = useCallback((data, index) => {\r\n    refuseRef.current = true;\r\n    console.log(data, index);\r\n    // return;\r\n    scrollref.current.scrollTop(data.offsetTop);\r\n    setActiveLink(index);\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return show ? (\r\n    <div className={`lg-anchor ${className ? className : \"\"}`} {...reset}>\r\n      <span\r\n        style={{ top: activeLink * 54 + 8 + \"px\" }}\r\n        className=\"anchor-link-active\"\r\n      >\r\n        {/* {anchorList.map((child, index) => {\r\n          return (\r\n            <div\r\n              style={{ top: index * 54 - 4 + \"px\" }}\r\n              className=\"anchor-active\"\r\n              key={index}\r\n              title={child.name}\r\n              onClick={onClickScroll.bind(this,index)}\r\n            >\r\n              {child.name}\r\n            </div>\r\n          );\r\n        })} */}\r\n      </span>\r\n      {anchorList.map((child, index) => {\r\n        return (\r\n          <div\r\n            className={`anchor-link ${\r\n              activeLink === index ? \"anchor-link-2\" : \"\"\r\n            }`}\r\n            key={index}\r\n            title={child.name}\r\n            onClick={onClickScroll.bind(this, child, index)}\r\n          >\r\n            {child.name}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  ) : (\r\n    <></>\r\n  );\r\n}\r\n\r\nexport default memo(forwardRef(Anchor));\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useMemo,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport {\r\n  withRouter,\r\n  // , Route, Switch, NavLink\r\n} from \"react-router-dom\";\r\nimport $ from 'jquery';\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nimport canvg from \"canvg\";\r\nimport \"./index.scss\";\r\nimport ImportPage from \"./importPage\";\r\nimport ErrorCheck from \"./errorCheck\";\r\nimport BaseMsg from \"./baseMsg\";\r\nimport StuConditionMsg from \"./StuConditionMsg\";\r\nimport AttendanceMsg from \"./attendanceMsg\";\r\nimport HealthMsg from \"./healthMsg\";\r\nimport AwardAndPunish from \"./awardAndPunish\";\r\nimport SchoolLive from \"./schoolLive\";\r\nimport InformationizeAbility from \"./informationizeAbility\";\r\nimport AnalysisTop from \"./analysisTop\";\r\nimport { handleRoute, getQueryVariable } from \"../../util/public\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport Anchor from \"../../component/anchor\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction Analysis(props, ref) {\r\n  let {\r\n    tabid,\r\n    tabname,\r\n    children,\r\n    param,\r\n    termInfo: { TermInfo, HasHistory },\r\n    roleMsg, //当前最高级用户信息，决定学校信息\r\n    location,\r\n    type,\r\n    roleData, //多学校的用户信息，决定学校\r\n    schoolMsg, //多学校的学校信息，由外部传\r\n    levelHash,\r\n    roleMsg: {identityCode},\r\n    basePlatFormMsg: { ProVersion },\r\n    contentHW: { height },\r\n    userInfo: { UserType, SchoolID, UserID },\r\n    isReflash\r\n  } = props;\r\n  console.log(\"档案\", props)\r\n  //用于强制刷新组件\r\n  const [reflash, setReFlash] = useState(false);\r\n  // 设置头部的类型\r\n  const [topType, setTopType] = useState(\"default\");\r\n  // 设置路由路径，初始就设置\r\n  const [Path, setPath] = useState([]);\r\n  // 底部version高度\r\n  const [bottomHeight, setBottomHeight] = useState(66);\r\n  // 学期选择\r\n  const [TermSelect, setTermSelect] = useState(\"\");\r\n  // 统计类型\r\n  const [TypeSelect, setTypeSelect] = useState(\"\");\r\n  const [currentTerm, setCurrentTerm] = useState(\"\");\r\n  // 获取头部高度,默认54\r\n  const [topHeight, setTopHeight] = useState(54);\r\n  // 获取锚点结构\r\n  const [anchorList, setAnchorList] = useState([]);\r\n  // 当是schoolDetail，设置当前的module\r\n  const [ModuleID, setModuleID] = useState();\r\n  \r\n  //显示信息界面detail还是导入数据界面import还是纠错界面error,默认显示信息界面\r\n  const [showType, setShowType] = useState(\"detail\");\r\n\r\n  //所有年级信息\r\n  const [gradeList, setGradeList] = useState([]);\r\n  //所有班级信息\r\n  const [classList, setClassList] = useState([]);\r\n  //老师管理的班级列表\r\n  const [teacherClassList, setTeacherClassList] = useState([]);\r\n  //学籍纠错列表\r\n  const [checkList, setCheckList] = useState([]);\r\n  //当前年级\r\n  const [currentGrade, setCurrentGrade] = useState(\"\");\r\n  //当前班级\r\n  const [currentClass, setCurrentClass] = useState(\"\");\r\n  //刷新纠错信息\r\n  const [reflashError, setReflashError] = useState(false);\r\n  //判断当前身份类型\r\n  // const [userIdentity, setUserIdentity] = useState(\"student\");\r\n  //manager：管理员; student：学生；teacher：教师\r\n  //能进来的都默认为管理员\r\n  let userIdentity = \"manager\";\r\n  if(identityCode == \"IC0010\"){\r\n    userIdentity = \"manager\";\r\n  }\r\n  if(identityCode == \"IC0013\" || identityCode == \"IC0011\" || identityCode == \"IC0012\"){\r\n    userIdentity = \"teacher\";\r\n  }\r\n  if(identityCode == \"IC0014\" || identityCode == \"IC0015\"){\r\n    userIdentity = \"student\";\r\n  }\r\n  //测试身份\r\n  // userIdentity = 'student';\r\n  // userIdentity = 'teacher';\r\n  // userIdentity = 'manager';\r\n  useLayoutEffect(()=>{\r\n    //获取全部年级信息\r\n    // if(userIdentity != \"manager\"){\r\n    //   return;\r\n    // }\r\n    let url = BasicProxy + \"/api/base/GetGradeInfoList_Univ?schoolId=\" + SchoolID;\r\n    fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if(json.status == 200){\r\n        setGradeList(json.data);\r\n        // json.data[0] && setCurrentGrade(json.data[0].gradeId)\r\n      }\r\n    })\r\n    //获取全部班级信息\r\n    url = BasicProxy + \"/api/base/getClassInfoList?schoolId=\" + SchoolID;\r\n    fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if(json.status == 200){\r\n        setClassList(json.data);\r\n        // json.data[0] && setCurrentClass(json.data[0].classId)\r\n      }\r\n    })\r\n  }, [userIdentity])\r\n  useLayoutEffect(()=>{\r\n    //获取老师管理的所有班级信息\r\n    if(userIdentity != \"teacher\"){\r\n      return;\r\n    }\r\n    let url = BasicProxy + \"/api/base/getClassByMasterId?teacherId=\" + UserID;\r\n    fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if(json.status == 200){\r\n        setTeacherClassList(json.data);\r\n        sessionStorage.setItem(\"classList\", JSON.stringify(json.data));\r\n        json.data[0] && setCurrentGrade(json.data[0].gradeId);\r\n        if(!currentClass && json.data[0]){\r\n          setCurrentClass(json.data[0].classId);\r\n        } \r\n      }\r\n    })\r\n  }, [userIdentity, UserID, currentClass])\r\n  //将svg转化为canvas，便于html2canvas识别\r\n  // useEffect(()=>{\r\n  //   //以下是对svg的处理\r\n  //   var svgElem = $(\"#Frame\").find('svg');\r\n  //   console.log(svgElem);\r\n  //   svgElem.each((index, node) => {\r\n  //       //获取svg的父节点\r\n  //       var parentNode = node.parentNode;\r\n  //       //获取svg的html代码\r\n  //       var svg = node.outerHTML.trim();\r\n  //       //创建一个<canvas>，用于放置转换后的元素\r\n  //       var canvas = document.createElement('canvas');\r\n  //       //将svg元素转换为canvas元素\r\n  //       canvg(canvas, svg);\r\n  //       //设置新canvas元素的位置\r\n  //       if (node.style.position) {\r\n  //           canvas.style.position += node.style.position;\r\n  //           canvas.style.left += node.style.left;\r\n  //           canvas.style.top += node.style.top;\r\n  //       }\r\n    \r\n  //       //删除svg元素\r\n  //       parentNode.removeChild(node);\r\n  //       //增加canvas元素\r\n  //       parentNode.appendChild(canvas);\r\n  //   });\r\n  // }, [currentClass, currentGrade, currentTerm, userIdentity]);\r\n  //用于导入数据成功后刷新组件\r\n  useEffect(()=>{\r\n    reflash && setReFlash(false);\r\n  }, [reflash]);\r\n  //用于主动刷新后刷新组件\r\n  useEffect(()=>{\r\n    isReflash && setReFlash(!reflash);\r\n  }, [isReflash]);\r\n  const { schoolID, collegeID, selectLevel, productLevel } = useMemo(() => {\r\n    let role = roleMsg;\r\n    // module为使用roleData，不然就使用roleMsg\r\n    if (type === \"school\") {\r\n      role = roleData;\r\n      setTopType(\"school\");\r\n    }\r\n    return role;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [type]);\r\n  // console.log({ schoolID, collegeID, selectLevel, productLevel });\r\n  // 头部ref\r\n  const topRef = useRef({});\r\n  // contentref\r\n  const anchorRef = useRef(null);\r\n  const scrollRef = useRef(null);\r\n  useEffect(() => {\r\n    tabid && setModuleID(tabid);\r\n  }, [tabid, showType]);\r\n  // useEffect(() => {\r\n  //   // 挂载的时候观察路由\r\n  //   let Path = handleRoute(location.pathname);\r\n  //   setPath(Path);\r\n  //   if (Path[0] === \"schoolResource\" && Path[1]) {\r\n  //     //学校详情\r\n  //     // 需要获取学校详情请求\r\n  //     setTopType(\"school\");\r\n  //   }\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, []);\r\n  let updateTermList = TermInfo.map((child) => ({\r\n    value: JSON.stringify({\r\n      termId: child.termInfo,\r\n      schoolId: child.schoolId,\r\n      startDate: child.startDate,\r\n      endDate: child.endDate,\r\n      termName: child.termName\r\n    }),\r\n    title: child.termName,\r\n  }));\r\n  console.log(\"顶部信息\", topRef.current);\r\n  console.log(currentClass);\r\n  \r\n  return (\r\n    <div className=\"Analysis\">\r\n      {\r\n        showType == 'detail'?\r\n        <div>\r\n          <AnalysisTop\r\n          // type={Path[0] === \"schoolDetail\" ? \"module\" : \"tab\"}\r\n          getHeight={(height) => {\r\n            // console.log(height);\r\n            setTopHeight(height);\r\n          }}\r\n          setShowType={setShowType}\r\n          className={\"AnalysisTop\"}\r\n          onTermChange={(e) => {\r\n            setTermSelect(e);\r\n          }}\r\n          onTypeChange={(e) => {\r\n            setTypeSelect(e);\r\n            setModuleID(e.value)\r\n          }}\r\n          onGradeChange={(e) => {\r\n            setCurrentGrade(e);\r\n          }}\r\n          onClassChange={(e) => {\r\n            setCurrentClass(e);\r\n          }}\r\n          termlist={TermInfo.map((child) => ({\r\n            value:JSON.stringify({\r\n              termId: child.termInfo,\r\n              schoolId: child.schoolId,\r\n              startDate: child.startDate,\r\n              endDate: child.endDate,\r\n              termName: child.termName\r\n            }),\r\n            title: child.termName,\r\n          }))}\r\n          ref={topRef}\r\n          type={topType}\r\n          setReFlash={setReFlash}\r\n          schoolMsg={schoolMsg}\r\n          gradeList={gradeList}\r\n          classList={classList}\r\n          ModuleID={ModuleID}\r\n          teacherClassList={teacherClassList}\r\n          userIdentity={userIdentity}\r\n        ></AnalysisTop>\r\n\r\n        <div\r\n          className=\"analysis-content\"\r\n          style={{ height: height - topHeight + \"px\" }}\r\n        >\r\n          <Scrollbars\r\n            className=\"analysis-scroll\"\r\n            ref={scrollRef}\r\n            onUpdate={(value) => {\r\n              anchorRef.current && anchorRef.current.onScroll();\r\n            }}\r\n          >\r\n            <div\r\n              className=\"content-box\"\r\n              style={{ minHeight: height - topHeight - bottomHeight + \"px\" }}\r\n            >\r\n              {ModuleID === \"stuStatusMsg\" ? (\r\n                <BaseMsg\r\n                  onAnchorComplete={(anchor) => {\r\n                    // console.log(anchor);\r\n                    setAnchorList(anchor);\r\n                  }}\r\n                  currentGrade={topRef.current? topRef.current.currentGrade: currentGrade}\r\n                  currentClass={topRef.current? topRef.current.currentClass: currentClass}\r\n                  schoolID={schoolID}\r\n                  collegeID={collegeID}\r\n                  productLevel={productLevel}\r\n                  selectLevel={selectLevel}\r\n                  productMsg={levelHash[productLevel]}\r\n                  setShowType={setShowType}\r\n                  setCheckList={setCheckList}\r\n                  reflashError={reflashError}\r\n                  term={topRef.current? topRef.current.TermSelect: updateTermList[0]}\r\n                  userIdentity={userIdentity}\r\n                  reflash={reflash}\r\n                ></BaseMsg>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {ModuleID === \"stuConditionMsg\" ? (\r\n                <StuConditionMsg\r\n                  onAnchorComplete={(anchor) => {\r\n                    // console.log(anchor);\r\n                    setAnchorList(anchor);\r\n                  }}\r\n                  schoolID={schoolID}\r\n                  collegeID={collegeID}\r\n                  productLevel={productLevel}\r\n                  selectLevel={selectLevel}\r\n                  productMsg={levelHash[productLevel]}\r\n                  term={topRef.current? topRef.current.TermSelect: updateTermList[0]}\r\n                  userIdentity={userIdentity}\r\n                  currentGrade={topRef.current? topRef.current.currentGrade: currentGrade}\r\n                  currentClass={topRef.current? topRef.current.currentClass: currentClass}\r\n                  reflash={reflash}\r\n                ></StuConditionMsg>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {ModuleID === \"attendanceMsg\" ? (\r\n                <AttendanceMsg\r\n                  onAnchorComplete={(anchor) => {\r\n                    // console.log(anchor);\r\n                    setAnchorList(anchor);\r\n                  }}\r\n                  schoolID={schoolID}\r\n                  collegeID={collegeID}\r\n                  productLevel={productLevel}\r\n                  selectLevel={selectLevel}\r\n                  productMsg={levelHash[productLevel]}\r\n                  term={topRef.current? topRef.current.TermSelect: updateTermList[0]}\r\n                  userIdentity={userIdentity}\r\n                  currentGrade={topRef.current? topRef.current.currentGrade: currentGrade}\r\n                  currentClass={topRef.current? topRef.current.currentClass: currentClass}\r\n                  reflash={reflash}\r\n                ></AttendanceMsg>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {ModuleID === \"healthMsg\" ? (\r\n                <HealthMsg\r\n                  onAnchorComplete={(anchor) => {\r\n                    // console.log(anchor);\r\n                    setAnchorList(anchor);\r\n                  }}\r\n                  schoolID={schoolID}\r\n                  collegeID={collegeID}\r\n                  productLevel={productLevel}\r\n                  selectLevel={selectLevel}\r\n                  productMsg={levelHash[productLevel]}\r\n                  term={topRef.current? topRef.current.TermSelect: updateTermList[0]}\r\n                  userIdentity={userIdentity}\r\n                  currentGrade={topRef.current? topRef.current.currentGrade: currentGrade}\r\n                  currentClass={topRef.current? topRef.current.currentClass: currentClass}\r\n                  reflash={reflash}\r\n                ></HealthMsg>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {ModuleID === \"awardAndPunish\" ? (\r\n                <AwardAndPunish\r\n                  onAnchorComplete={(anchor) => {\r\n                    // console.log(anchor);\r\n                    setAnchorList(anchor);\r\n                  }}\r\n                  currentGrade={topRef.current? topRef.current.currentGrade: currentGrade}\r\n                  currentClass={topRef.current? topRef.current.currentClass: currentClass}\r\n                  schoolID={schoolID}\r\n                  collegeID={collegeID}\r\n                  productLevel={productLevel}\r\n                  selectLevel={selectLevel}\r\n                  productMsg={levelHash[productLevel]}\r\n                  term={topRef.current? topRef.current.TermSelect: updateTermList[0]}\r\n                  userIdentity={userIdentity}\r\n                  reflash={reflash}\r\n                ></AwardAndPunish>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {ModuleID === \"schoolLiveMsg\" ? (\r\n                <SchoolLive\r\n                  onAnchorComplete={(anchor) => {\r\n                    // console.log(anchor);\r\n                    setAnchorList(anchor);\r\n                  }}\r\n                  schoolID={schoolID}\r\n                  collegeID={collegeID}\r\n                  productLevel={productLevel}\r\n                  selectLevel={selectLevel}\r\n                  productMsg={levelHash[productLevel]}\r\n                  term={topRef.current? topRef.current.TermSelect: updateTermList[0]}\r\n                  userIdentity={userIdentity}\r\n                  currentGrade={topRef.current? topRef.current.currentGrade: currentGrade}\r\n                  currentClass={topRef.current? topRef.current.currentClass: currentClass}\r\n                  reflash={reflash}\r\n                ></SchoolLive>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n            <p className=\"ProVersion\">{ProVersion}</p>\r\n          </Scrollbars>\r\n        </div>\r\n        <Anchor\r\n          ref={anchorRef}\r\n          bottomheight={bottomHeight}\r\n          list={anchorList}\r\n          scrollref={scrollRef}\r\n        ></Anchor>\r\n        </div>\r\n        :\r\n        showType == 'import'?\r\n        <ImportPage \r\n        currentGrade={topRef.current? topRef.current.currentGrade: currentGrade}\r\n        currentClass={topRef.current? topRef.current.currentClass: currentClass}\r\n        setShowType={setShowType}\r\n        ModuleID={ModuleID}\r\n        />:\r\n        showType == 'error'?\r\n        <ErrorCheck\r\n        checkList={checkList}\r\n        currentGrade={topRef.current? topRef.current.currentGrade: currentGrade}\r\n        currentClass={topRef.current? topRef.current.currentClass: currentClass}\r\n        setShowType={setShowType}\r\n        reflashError={reflashError}\r\n        setReflashError={setReflashError}\r\n        ModuleID={ModuleID}\r\n        />:\r\n        \"\"\r\n      }\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: { roleMsg, basePlatFormMsg, contentHW, termInfo, levelHash, userInfo, isReflash },\r\n  } = state;\r\n  return { roleMsg, basePlatFormMsg, contentHW, termInfo, levelHash, userInfo, isReflash };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Analysis))));\r\n","/*\r\n *\r\n * 　　┏┓　　　┏┓+ +\r\n * 　┏┛┻━━━┛┻┓ + +\r\n * 　┃　　　　　　　┃\r\n * 　┃　　　━　　　┃ ++ + + +\r\n *  ████━████ ┃+\r\n * 　┃　　　　　　　┃ +\r\n * 　┃　　　┻　　　┃\r\n * 　┃　　　　　　　┃ + +\r\n * 　┗━┓　　　┏━┛\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ + + + +\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ +  神兽保佑\r\n * 　　　┃　　　┃    代码无bug\r\n * 　　　┃　　　┃　　+\r\n * 　　　┃　 　　┗━━━┓ + +\r\n * 　　　┃ 　　　　　　　┣┓\r\n * 　　　┃ 　　　　　　　┏┛\r\n * 　　　┗┓┓┏━┳┓┏┛ + + + +\r\n * 　　　　┃┫┫　┃┫┫\r\n * 　　　　┗┻┛　┗┻┛+ + + +\r\n *\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 10:25:40\r\n * @LastEditTime: 2020-12-10 18:45:47\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\recruit\\reducer.js\r\n */\r\nimport React, {\r\n  // useCallback,\r\n  // memo,\r\n  // useEffect,\r\n  // useState,\r\n  useReducer,\r\n  createContext,\r\n  // useImperativeHandle,\r\n  // useRef,\r\n  // forwardRef,\r\n} from \"react\";\r\n// 创建frame的context\r\nexport const Context = createContext();\r\nexport const initState = {\r\n  keyword: \"\",\r\n  compoent:'1'\r\n};\r\nexport const Reducer = (state, actions) => {\r\n  switch (actions.type) {\r\n    case \"SET_KEY_WORD\":\r\n      return Object.assign({}, state, {\r\n        keyword:actions.data,\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","/*\r\n *\r\n *    ┏┓　　　┏┓\r\n *  ┏┛┻━━━┛┻┓\r\n *  ┃　　　　　　　┃\r\n *  ┃　　　━　　　┃\r\n *  ┃　＞　　　＜　┃\r\n *  ┃　　　　　　　┃\r\n *  ┃...　⌒　...　┃\r\n *  ┃　　　　　　　┃\r\n *  ┗━┓　　　┏━┛\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃  神兽保佑\r\n *      ┃　　　┃  代码无bug\r\n *      ┃　　　┃\r\n *      ┃　　　┗━━━┓\r\n *      ┃　　　　　　　┣┓\r\n *      ┃　　　　　　　┏┛\r\n *      ┗┓┓┏━┳┓┏┛\r\n *        ┃┫┫　┃┫┫\r\n *        ┗┻┛　┗┻┛\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 11:46:56\r\n * @LastEditTime: 2020-12-14 21:22:43\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\api\\recruit.js\r\n */\r\nimport fetch from \"../util/fetch\";\r\nimport ipConfig from \"../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2076\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getCruitList(payload = {}) {\r\n  // *RStatus:状态：0草稿；1正式发布\r\n  let {\r\n    pageIndex,\r\n    pageSize,\r\n    keyword,\r\n    schoolID,\r\n    collegeID,\r\n    selectLevel,\r\n    rStatus,\r\n  } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Recruitment/List?SchoolID=${schoolID ? schoolID : \"\"}&RStatus=${\r\n      parseInt(rStatus) === 0 ? 0 : 1\r\n    }&PageIndex=${pageIndex ? pageIndex : 1}&PageSize=${\r\n      pageSize ? pageSize : 10\r\n    }&Keyword=${keyword ? keyword : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }&SelectLevel=${selectLevel ? selectLevel : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: {\r\n            ...json.Data,\r\n            List:\r\n              json.Data.List instanceof Array\r\n                ? json.Data.List.map((child, index) => {\r\n                    // child:[{\"RID\":\"xxxxxxxxxxxxxxxxxxx\",        //ID，唯一标识\r\n                    // \"Title\":\"关于2020年白云区教师培招聘划\",    //标题\r\n                    // \"Issue\":\"白云中学\",                    //来源\r\n                    // \"RStatus\":0,                        //状态：0草稿；1正式发布\r\n                    // \"ReleaseTime\":\"2020-01-01 12:00\",    //发布时间\r\n                    // \"CreatorName\":\"张老师\",            //发布者\r\n                    // \"UpdateTime\":\"2020-01-01 12:00\" //最近一次编辑时间}]\r\n                    let Index = (json.Data.PageIndex - 1) * 10 + index + 1;\r\n                    Index = Index >= 10 ? Index : \"0\" + Index;\r\n                    return {\r\n                      ...child,\r\n                      key: index,\r\n                      index: Index,\r\n                      title: child.Title,\r\n                      source: child.Issue,\r\n                      publisher: child.CreatorName,\r\n                      time: child.ReleaseTime,\r\n                    };\r\n                  })\r\n                : [],\r\n            PageSize: pageSize,\r\n            // List:  [\r\n            //     {\r\n            //       key: 0,\r\n            //       index: \"011111111111111\",\r\n            //       title:\r\n            //         \"2020年广州市白云区中小学及幼儿园聘任制教师招聘320名计划2020年广州市白云区中小学及幼儿园聘任制教师招聘320名计划\",\r\n            //       source: \"辖区教育局辖区教育局辖区教育局\",\r\n            //       publisher: \"祝泽森祝泽森祝泽森\",\r\n            //       time: \"2020-08-29 13:59 020-08-29 13:59\",\r\n            //     },\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2077\r\n * @param {*}\r\n * @return {*}\r\n */\r\n// 获取招聘详情\r\nexport function getRecruitDetail(payload = {}) {\r\n  // *ID：招聘id\r\n  let { id } = payload;\r\n  let url = BasicProxy + `/Recruitment/Detail?RID=${id}`;\r\n\r\n  return fetch\r\n    .get({ url, securityLevel: 2, advance: false })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          ErrCode: json.ErrCode,\r\n          data: {\r\n            ...json.Data,\r\n            ID: json.Data.RID,\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          ErrCode: json.ErrCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n// 发布招聘\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2078\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function publishRecruit(payload = {}) {\r\n  //   {\r\n  //     \"SchoolID\":\"xxx\",    //发布者所属学校ID\r\n  //     \"CollegeID\":\"xxx\",    //发布者所属学院ID\r\n  //     \"Title\":\"关于2020年白云区教师培训计划\",    //标题\r\n  //     \"Issue\":\"白云中学\",                    //来源\r\n  //     \"RStatus\":0,                        //状态：0草稿；1正式发布\r\n  //     \"Content\":\"关于2020年白云区教师培训计划如下\",    //正文\r\n  //     \"FileList\":[{\r\n  //         \"FileName\":\"培训计划行程.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }，{\r\n  //         \"FileName\":\"培训计划宿舍安排.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }]\r\n  // }\r\n\r\n  let {\r\n    SchoolID,\r\n    CollegeID,\r\n    SelectLevel,\r\n    RStatus,\r\n    Title,\r\n    Issue,\r\n    ReleaseTime,\r\n    Content,\r\n    FileList,\r\n  } = payload;\r\n  let url = BasicProxy + `/Recruitment/Add`;\r\n\r\n  return fetch\r\n    .post({\r\n      url,\r\n      securityLevel: 2,\r\n      header: { \"Content-Type\": \"application/json\" },\r\n      body: {\r\n        SchoolID,\r\n        CollegeID,\r\n        SelectLevel,\r\n        RStatus,\r\n        Title,\r\n        Issue,\r\n        ReleaseTime,\r\n        Content,\r\n        FileList,\r\n      },\r\n    })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          result: true,\r\n        };\r\n      } else {\r\n        return { result: false };\r\n      }\r\n    });\r\n}\r\n// 编辑招聘\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2078\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function editRecruit(payload = {}) {\r\n  //   {\r\n  //     \"SchoolID\":\"xxx\",    //发布者所属学校ID\r\n  //     \"CollegeID\":\"xxx\",    //发布者所属学院ID\r\n  //     \"Title\":\"关于2020年白云区教师培训计划\",    //标题\r\n  //     \"Issue\":\"白云中学\",                    //来源\r\n  //     \"RStatus\":0,                        //状态：0草稿；1正式发布\r\n  //     \"Content\":\"关于2020年白云区教师培训计划如下\",    //正文\r\n  //     \"FileList\":[{\r\n  //         \"FileName\":\"培训计划行程.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }，{\r\n  //         \"FileName\":\"培训计划宿舍安排.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }]\r\n  // }\r\n\r\n  let {\r\n    // SchoolID,\r\n    // CollegeID,\r\n    // SelectLevel,\r\n    RStatus,\r\n    Title,\r\n    Issue,\r\n    RID,\r\n    // ReleaseTime,\r\n    Content,\r\n    FileList,\r\n  } = payload;\r\n  let url = BasicProxy + `/Recruitment/Edit`;\r\n\r\n  return fetch\r\n    .post({\r\n      url,\r\n      securityLevel: 2,\r\n      header: { \"Content-Type\": \"application/json\" },\r\n      body: {\r\n        // SchoolID,\r\n        // CollegeID,\r\n        // SelectLevel,\r\n        RStatus,\r\n        Title,\r\n        RID,\r\n        Issue,\r\n        // ReleaseTime,\r\n        Content,\r\n        FileList,\r\n      },\r\n    })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          result: true,\r\n        };\r\n      } else {\r\n        return { result: false };\r\n      }\r\n    });\r\n}\r\n// 删除\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2080\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function deleteRecruit(payload = {}) {\r\n  let { RIDs } = payload;\r\n  let url = BasicProxy + `/Recruitment/Delete`;\r\n\r\n  return fetch\r\n    .post({\r\n      url,\r\n      securityLevel: 2,\r\n      body: {\r\n        RIDs,\r\n      },\r\n    })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          result: true,\r\n        };\r\n      } else {\r\n        return { result: false };\r\n      }\r\n    });\r\n}\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-15 15:52:17\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\recruit\\home.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { withRouter, useHistory, useLocation } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport HomeTop from \"../../component/homeTop\";\r\nimport Table from \"../../component/table\";\r\nimport { Context } from \"./reducer\";\r\nimport { getCruitList, deleteRecruit } from \"../../api/recruit\";\r\nimport { autoAlert } from \"../../util/public\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Home(props, ref) {\r\n  let {\r\n    teacherRecruitMsg: { tabId },\r\n    roleMsg: { schoolID, collegeID, selectLevel },\r\n    // history,\r\n    activeTab,\r\n    dispatch,\r\n  } = props;\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n  let {\r\n    state: { keyword },\r\n    setDispatch,\r\n  } = useContext(Context);\r\n  const [query, setQuery] = useState({\r\n    keyword,\r\n    schoolID,\r\n    collegeID,\r\n    selectLevel,\r\n  });\r\n  // 获取table组件的ref\r\n  const tableRef = useRef({});\r\n  // 草稿数量\r\n  const [draft, setDraft] = useState(0);\r\n  // 初始请求\r\n  const initGet = useRef(false);\r\n  // table 的宽度最小为1040，各个列的width按这个来算1040/1200*设计图的width\r\n  let widthRate = 1040 / 1200;\r\n  let columns = [\r\n    {\r\n      title: \"序号\",\r\n      dataIndex: \"index\",\r\n      align: \"center\",\r\n      width: 102 * widthRate,\r\n      textWrap: \"word-break\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-index\" title={data}>\r\n            {data}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"标题\",\r\n      width: 494 * widthRate,\r\n      // dataIndex: \"title\",\r\n      render: (data) => {\r\n        let { title, RID } = data;\r\n        return (\r\n          <span\r\n            onClick={() => {\r\n              history.push(\"/recruitDetail/\" + RID);\r\n            }}\r\n            className=\"table-title\"\r\n            title={title}\r\n          >\r\n            {title ? title : \"--\"}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"来源\",\r\n      align: \"center\",\r\n      width: 128 * widthRate,\r\n      dataIndex: \"source\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-source\" title={data}>\r\n            {data ? data : \"--\"}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"发布人\",\r\n      align: \"center\",\r\n      width: 90 * widthRate,\r\n      dataIndex: \"publisher\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-publisher\" title={data}>\r\n            {data ? data : \"--\"}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"时间\",\r\n      align: \"center\",\r\n      width: 172 * widthRate,\r\n      dataIndex: \"time\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-time\" title={data}>\r\n            {data ? data : \"--\"}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      align: \"center\",\r\n      width: 200 * widthRate,\r\n\r\n      // dataIndex: \"time\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-handle\">\r\n            <span\r\n              className=\"table-btn btn-edit\"\r\n              onClick={() => {\r\n                history.push(\"/editRecruit/\" + data.RID);\r\n              }}\r\n            >\r\n              编辑\r\n            </span>\r\n            <span\r\n              className=\"table-btn btn-delete\"\r\n              onClick={() => {\r\n                autoAlert({\r\n                  title: \"确定删除该招聘计划?\",\r\n                  type: \"btn-warn\",\r\n                  cancelShow: true,\r\n                  onOk: () => {\r\n                    DeleteRecruit(\r\n                      { RIDs: data.RID },\r\n                      tableRef.current.reloadList.bind(this, {}, false)\r\n                    );\r\n                  },\r\n                });\r\n              }}\r\n            >\r\n              删除\r\n            </span>\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  let draftColumns = [\r\n    {\r\n      title: \"序号\",\r\n      dataIndex: \"index\",\r\n      align: \"center\",\r\n      width: 102 * widthRate,\r\n      textWrap: \"word-break\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-index\" title={data}>\r\n            {data}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"标题\",\r\n      width: 300 * widthRate,\r\n      // dataIndex: \"title\",\r\n      render: (data) => {\r\n        let { title, RID } = data;\r\n        return (\r\n          <span\r\n            onClick={() => {\r\n              // history.push(\"/recruitDetail/\" + RID);\r\n            }}\r\n            className=\"table-title\"\r\n            title={title}\r\n          >\r\n            {title ? title : \"--\"}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n\r\n    {\r\n      title: \"最后一次编辑时间\",\r\n      align: \"center\",\r\n      width: 172 * widthRate,\r\n      dataIndex: \"UpdateTime\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-time\" title={data}>\r\n            {data ? data : \"--\"}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      align: \"center\",\r\n      width: 200 * widthRate,\r\n\r\n      // dataIndex: \"time\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-handle\">\r\n            <span\r\n              className=\"table-btn btn-edit\"\r\n              onClick={() => {\r\n                history.push(\"/editRecruit/\" + data.RID);\r\n              }}\r\n            >\r\n              编辑\r\n            </span>\r\n            <span\r\n              className=\"table-btn btn-delete\"\r\n              onClick={() => {\r\n                // autoAlert({\r\n                //   title: \"确定删除该草稿?\",\r\n                //   type: \"btn-warn\",\r\n                //   cancelShow: true,\r\n                //   onOk: () => {\r\n                //     DeleteRecruit({ RIDs: data.RID }, () => {\r\n                //       tableRef.current.reloadList();\r\n\r\n                //       homeTopRef.current.reloadDraft();\r\n                //     });\r\n                //   },\r\n                // });\r\n                DeleteRecruit({ RIDs: data.RID }, () => {\r\n                  tableRef.current.reloadList({}, false);\r\n\r\n                  homeTopRef.current.reloadDraft();\r\n                });\r\n              }}\r\n            >\r\n              删除\r\n            </span>\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  // 删除\r\n  const DeleteRecruit = useCallback(\r\n    (param, success = () => {}, error = () => {}) => {\r\n      deleteRecruit(param).then((res) => {\r\n        if (res.result) {\r\n          success();\r\n        } else {\r\n          error();\r\n        }\r\n      });\r\n    },\r\n    []\r\n  );\r\n  // useEffect(() => {\r\n  //   console.log(keyword, selectLevel);\r\n  //   selectLevel && setQuery({ keyword, schoolID, collegeID, selectLevel });\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, []);\r\n\r\n  // 设置草稿数量\r\n  // useLayoutEffect(() => {\r\n  //   console.log(tableRef.current, tableRef);\r\n  //   setDraft(\r\n  //     tableRef.current.data && tableRef.current.data.Draft\r\n  //       ? tableRef.current.data.Draft\r\n  //       : 0\r\n  //   );\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, [tableRef.current]);\r\n  // 刷新\r\n\r\n  useLayoutEffect(() => {\r\n    let { pathname } = location;\r\n    //第一次进来不请求\r\n    if (!initGet.current) {\r\n      initGet.current = true;\r\n    } else {\r\n      if (pathname === \"/teacherRecruit\") {\r\n        // console.log('adss')\r\n        tableRef.current.reloadList();\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location]);\r\n  const topDraft = useMemo(() => {\r\n    return {\r\n      title: \"草稿箱\",\r\n      count: draft,\r\n      query: { selectLevel, schoolID, collegeID, rStatus: 0 },\r\n      api: getCruitList,\r\n      columns: draftColumns,\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectLevel, schoolID, collegeID, draft]);\r\n  // console.log(keyword)\r\n  useImperativeHandle(ref, () => ({\r\n    reloadList: tableRef.current.reloadList,\r\n  }));\r\n  //\r\n  const homeTopRef = useRef(null);\r\n  return (\r\n    <div className=\"Reacruit-context Recruit-home\">\r\n      <HomeTop\r\n        ref={homeTopRef}\r\n        publish={{\r\n          title: \"发布招聘计划\",\r\n          onClick: () => {\r\n            history.push(\"/publishRecruit\");\r\n          },\r\n        }}\r\n        draft={topDraft}\r\n        search={{\r\n          onSearch: (value) => {\r\n            // console.log(value)\r\n            setDispatch({ type: \"SET_KEY_WORD\", data: value });\r\n            setQuery({ schoolID, collegeID, keyword: value, selectLevel });\r\n          },\r\n        }}\r\n      ></HomeTop>\r\n      <Table\r\n        className=\"Reacruit-table\"\r\n        columns={columns}\r\n        // dataSource={data}\r\n        prepare={!!query.selectLevel}\r\n        query={query}\r\n        onDataChange={(data) => {\r\n          setDraft(data && data.Draft ? data.Draft : 0);\r\n        }}\r\n        ref={tableRef}\r\n        api={getCruitList}\r\n      ></Table>\r\n      {/* <div style={{height:'20px',width:'100px',background:'#a6a6a6'}} onClick={()=>{\r\n      history.push(`/${tabId}/publish`  );\r\n      dispatch(handleActions.setTeacherRecruitMsg({tabName:'发布招聘计划'}))\r\n  }}></div> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg, activeTab },\r\n    commonData: { roleMsg },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg, activeTab };\r\n};\r\nexport default connect(mapStateToProps, null, null, { forwardRef: true })(\r\n  memo(forwardRef(Home))\r\n);\r\n","/*\r\n *           佛曰:\r\n *                   写字楼里写字间，写字间里程序员；\r\n *                   程序人员写程序，又拿程序换酒钱。\r\n *                   酒醒只在网上坐，酒醉还来网下眠；\r\n *                   酒醉酒醒日复日，网上网下年复年。\r\n *                   但愿老死电脑间，不愿鞠躬老板前；\r\n *                   奔驰宝马贵者趣，公交自行程序员。\r\n *                   别人笑我忒疯癫，我笑自己命太贱；\r\n *                   不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-11 10:02:50\r\n * @LastEditTime: 2021-02-01 16:27:42\r\n * @Description: 招聘，培训详情请求hooks\r\n * @FilePath: \\teacher-development\\src\\hooks\\useDetailRequest.js\r\n */\r\n\r\n/**\r\n * @description: 不会运行的时候就请求数据，需要使用者自己主动使用请求\r\n * @param {*}\r\n * @return {*}\r\n */\r\nimport { useEffect, useState, useCallback, useRef, useMemo } from \"react\";\r\nexport default function useDetailRequest(query, api) {\r\n  // 请求的id\r\n  const [id, setID] = useState(\"\");\r\n  //   loading状态\r\n  const [loading, setLoading] = useState(true);\r\n  //储存返回的数据接口\r\n  const [detailData, setDetailData] = useState({\r\n    IsLoaded: false, //是否加载过\r\n    IsExist: true, //是否存在\r\n    IsError: false, //是否出错\r\n    // IsLoaded>IsExist>IsError,判断级别\r\n    ID: \"\", //ID，唯一标识\r\n    Title: \"\", //标题\r\n    Issue: \"\", //来源\r\n    Status: 0, //状态：0草稿；1正式发布\r\n    Content: \"\", //正文\r\n    CreatorID: \"\", //发布者工号\r\n    CreatorName: \"\", //发布者\r\n    ReleaseTime: \"\", //发布时间\r\n    UpdateTime: \"\", //最近一次编辑时间\r\n    FileList: [\r\n      //   {\r\n      //     FileID: 20,\r\n      //     FileName: \"招聘岗位.xls\", //文件名称\r\n      //     FileUrl: \"xxxxxxxxxxxxx\", //文件路径\r\n      //     FileSize: \"23.4M\", //文件大小\r\n      //     DeleteFlag: 0, //文件删除标识\r\n      //   },\r\n    ],\r\n  });\r\n  //   请求处理\r\n  const getDetailData = useCallback(\r\n    async (payload) => {\r\n      setLoading(true);\r\n      payload = payload || { id, ...query };\r\n      if (!api) {\r\n        return;\r\n      }\r\n      //  请求,需要提前处理好json转换和处理成tableData的数据结构\r\n      const data = await api(payload);\r\n      // const res = await data.json();\r\n      if (data.StatusCode === 200) {\r\n        setDetailData({ ...data.data, IsExist: true, IsLoaded: true });\r\n      } else {\r\n        if (data.ErrCode === -2) {\r\n          setDetailData({ IsExist: false, IsError: true, IsLoaded: true });\r\n        } else {\r\n          // 都当不存在处理\r\n          setDetailData({ IsExist: false, IsError: true, IsLoaded: true });\r\n        }\r\n      }\r\n      setLoading(false);\r\n    },\r\n    [api, id, query]\r\n  );\r\n  //   ID变化，请求\r\n  useEffect(() => {\r\n    //   必须有id\r\n    id && getDetailData({ id });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [id]);\r\n  //   修改id\r\n  const handleChange = useCallback((id) => {\r\n    setID(id);\r\n  }, []);\r\n  const reload = useCallback(()=>{\r\n    id && getDetailData({ id });\r\n  },[id])\r\n  return [detailData, handleChange, loading,reload];\r\n}\r\n","/*\r\n *                        .::::.\r\n *                      .::::::::.\r\n *                     :::::::::::\r\n *                  ..:::::::::::'\r\n *               '::::::::::::'\r\n *                 .::::::::::\r\n *            '::::::::::::::..\r\n *                 ..::::::::::::.\r\n *               ``::::::::::::::::\r\n *                ::::``:::::::::'        .:::.\r\n *               ::::'   ':::::'       .::::::::.\r\n *             .::::'      ::::     .:::::::'::::.\r\n *            .:::'       :::::  .:::::::::' ':::::.\r\n *           .::'        :::::.:::::::::'      ':::::.\r\n *          .::'         ::::::::::::::'         ``::::.\r\n *      ...:::           ::::::::::::'              ``::.\r\n *     ````':.          ':::::::::'                  ::::..\r\n *                        '.:::::'                    ':'````..\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2021-01-06 11:20:21\r\n * @LastEditTime: 2021-01-06 11:20:21\r\n * @Description: 百度编辑器的hooks\r\n * @FilePath: \\teacher-development\\src\\hooks\\useUEditorLaod.js\r\n */\r\n\r\nimport React, {\r\n  useEffect,\r\n  useState,\r\n  useRef,\r\n  useMemo,\r\n  useCallback,\r\n} from \"react\";\r\nimport config from \"@/util/ipConfig\";\r\nimport { getDataStorage } from \"@/util/public\";\r\nimport { getBasePlatformMsg } from \"@/util/init\";\r\n// import { addScript } from \"@/util/public\";\r\n// import name from '@/';\r\n/**\r\n * @description:赋值使用前修改下面的js文件地址\r\n * @param {*} id:ueditor的id\r\n * @return {*}\r\n */\r\nconst { EditorProxy } = config;\r\n\r\nexport default function useUEditorLaod(id, config) {\r\n  // 编辑器实例\r\n  const [UE, setUE] = useState(null);\r\n  //   编辑器是否加载完毕\r\n  const [Ready, setReady] = useState(null);\r\n  const addElement = (\r\n    params = {},\r\n    element = \"script\",\r\n    parent = \"body\",\r\n    callback = () => {}\r\n  ) => {\r\n    try {\r\n      let Element = document.createElement(element);\r\n      // Element = { ...Element, ...params };\r\n      for (let i in params) {\r\n        Element[i] = params[i];\r\n      }\r\n      // 如果params带有id属性，判断dom是否有该节点了\r\n      if (\r\n        params.id &&\r\n        // params.src &&\r\n        document.getElementById(params.id)\r\n        // &&\r\n        // params.src === document.getElementById(params.id).src\r\n      ) {\r\n        callback(\"isExist\");\r\n        return;\r\n      }\r\n      document[parent].appendChild(Element);\r\n      callback(true);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n  const addScript = useCallback(\r\n    async (params = {}, element = \"script\", parent = \"body\") => {\r\n      return new Promise((resolve, reject) => {\r\n        addElement(\r\n          {\r\n            type: \"text/javascript\",\r\n            charset: \"utf-8\",\r\n            ...params,\r\n            onload: () => {\r\n              resolve(true);\r\n              typeof params.onLoad === \"function\" && params.onLoad(true);\r\n            },\r\n            onerror: () => {\r\n              resolve(false);\r\n              typeof params.onLoad === \"function\" && params.onLoad(false);\r\n            },\r\n          },\r\n          element,\r\n          parent,\r\n          (data) => {\r\n            if (data === \"isExist\") {\r\n              resolve(true);\r\n            }\r\n          }\r\n        );\r\n      });\r\n    },\r\n    []\r\n  );\r\n  useEffect(() => {\r\n    async function loadScript() {\r\n      //\r\n      try {\r\n        let { ResHttpRootUrl } = await getBasePlatformMsg([\"ResHttpRootUrl\"]);\r\n        window.UEDITOR_HOME_URL = ResHttpRootUrl + \"/UEditor/\";\r\n\r\n        // 因为有消息中心的js动态加入，导致如果编辑器js在他们中间加载css文件的ip地址错误，导致样式有问题，所以现在直接加载算了\r\n        // addElement(\r\n        //   {\r\n        //     type: \"text/css\",\r\n        //     rel: \"stylesheet\",\r\n        //     href: ResHttpRootUrl + \"/UEditor/themes/default/css/ueditor.css\",\r\n        //     id: \"ueditor_link_ueditor\",\r\n        //   },\r\n        //   \"link\",\r\n        //   \"head\",\r\n        //   (data) => {\r\n        //     // resolve(data);\r\n        //   }\r\n        // );\r\n        // 检查是否已经加载过jq\r\n        let jqLaod = await addScript({\r\n          src: ResHttpRootUrl + \"/UEditor/third-party/jquery-1.10.2.min.js\",\r\n          id: \"ueditor_script_jq\",\r\n          onLoad: () => {},\r\n        });\r\n\r\n        // 一个加载不成功就不加载了\r\n        let configLaod =\r\n          jqLaod &&\r\n          (await addScript({\r\n            src: ResHttpRootUrl + \"/UEditor/ueditor.config.js\",\r\n            id: \"ueditor_script_config\",\r\n            onLoad: () => {},\r\n          }));\r\n\r\n        let all_minLaod =\r\n          configLaod &&\r\n          (await addScript({\r\n            src: ResHttpRootUrl + \"/UEditor/ueditor.all.js\",\r\n            id: \"ueditor_script_all_min\",\r\n            onLoad: () => {},\r\n          }));\r\n\r\n        let parseLaod =\r\n          all_minLaod &&\r\n          (await addScript({\r\n            src: ResHttpRootUrl + \"/UEditor/ueditor.parse.min.js\",\r\n            id: \"ueditor_script_.parse\",\r\n            onLoad: () => {},\r\n          }));\r\n\r\n        let langLaod =\r\n          parseLaod &&\r\n          (await addScript({\r\n            src: ResHttpRootUrl + \"/UEditor/lang/zh-cn/zh-cn.js\",\r\n            id: \"ueditor_script_lang_zh-cn\",\r\n            onLoad: () => {},\r\n          }));\r\n        console.log(jqLaod, configLaod, all_minLaod, parseLaod, langLaod);\r\n        // js加载不成功\r\n        if (!langLaod) {\r\n          setReady(false);\r\n\r\n          return;\r\n        }\r\n        // 必须等上面的脚本加载完\r\n        //   if (configLaod && all_minLaod && langLaod && jqLaod && parseLaod) {\r\n        //   let { toolbars, ...others } = config;\r\n        //实例化编辑器\r\n        //建议使用工厂方法getEditor创建和引用编辑器实例，如果在某个闭包下引用该编辑器，直接调用UE.getEditor('editor')就能拿到相关的实例\r\n\r\n        let ue = window.UE.getEditor(id, {\r\n          toolbars: [\r\n            [\r\n              \"fontfamily\",\r\n              \"fontsize\",\r\n              \"bold\",\r\n              \"italic\",\r\n              \"underline\",\r\n              \"fontborder\",\r\n              \"justifyleft\",\r\n              \"justifycenter\",\r\n              \"justifyright\",\r\n              \"lineheight\",\r\n              \"link\",\r\n              \"|\",\r\n              \"emotion\",\r\n              \"simpleupload\",\r\n              // \"|\",\r\n              // \"music\",\r\n              // \"insertvideo\",\r\n            ],\r\n          ],\r\n          // 字数统计\r\n\r\n          wordCount: false,\r\n\r\n          // 元素路径\r\n\r\n          elementPathEnabled: false,\r\n          // emotionLocalization: true,\r\n          ...config,\r\n        });\r\n\r\n        //   const ueditor_script_config = document.getElementById(\r\n        //     \"ueditor_script_config\"\r\n        //   );\r\n        ue.ready(() => {\r\n          setUE(ue);\r\n          setReady(true);\r\n        });\r\n      } catch (e) {\r\n        console.log(e);\r\n        // 当出错的时候返回false，表示出错，加载不成功\r\n\r\n        setReady(false);\r\n      }\r\n      //   }\r\n      // Promise.all([configLaod, all_minLaod, langLaod,jqLaod]).then(\r\n      //     ([configLaod, all_minLaod, langLaod,jqLaod]) => {\r\n\r\n      //     }\r\n      //   );\r\n    }\r\n    // setTimeout(() => {\r\n    loadScript();\r\n    // }, 3000);\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return [UE, Ready];\r\n}\r\n","/*\r\n *\r\n * 　　┏┓　　　┏┓+ +\r\n * 　┏┛┻━━━┛┻┓ + +\r\n * 　┃　　　　　　　┃\r\n * 　┃　　　━　　　┃ ++ + + +\r\n *  ████━████ ┃+\r\n * 　┃　　　　　　　┃ +\r\n * 　┃　　　┻　　　┃\r\n * 　┃　　　　　　　┃ + +\r\n * 　┗━┓　　　┏━┛\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ + + + +\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ +  神兽保佑\r\n * 　　　┃　　　┃    代码无bug\r\n * 　　　┃　　　┃　　+\r\n * 　　　┃　 　　┗━━━┓ + +\r\n * 　　　┃ 　　　　　　　┣┓\r\n * 　　　┃ 　　　　　　　┏┛\r\n * 　　　┗┓┓┏━┳┓┏┛ + + + +\r\n * 　　　　┃┫┫　┃┫┫\r\n * 　　　　┗┻┛　┗┻┛+ + + +\r\n *\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2021-01-06 11:21:31\r\n * @LastEditTime: 2021-01-06 11:21:31\r\n * @Description: 封装好的百度编辑器\r\n * @FilePath: \\teacher-development\\src\\component\\UEditor\\hooks\\index.js\r\n */\r\n\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  //   useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Input } from \"antd\";\r\nimport { Loading } from \"@/component/common\";\r\n// import $ from \"jquery\";\r\nimport useUEditorLaod from \"./hooks/useUEditorLaod\";\r\n/**\r\n * @description: 使用前需要配置部署在服务器上的js文件:config.js,具体配置自己看官网文档，\r\n * 1、修改js文件路径\r\n * 2、需要定制个人的功能列表，通过修改config\r\n * 3、设置初始值：defaultValue\r\n * 4、通过onBlur获取编辑后的值\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction UEditor(props, ref) {\r\n  // id:为编辑器的id\r\n  // config:为编辑器实例的时候的配置,具体配置看官网\r\n  let { id, config, style, className, defaultValue, onBlur } = props;\r\n  const [Id] = useState(() => {\r\n    return id ? id : `UEditor_${new Date().getTime()}`;\r\n  });\r\n  //   Id：为需要自己定的编辑器id\r\n  // config：实例编辑器的配置，参考官网文档\r\n  const [UE, Ready] = useUEditorLaod(Id, config);\r\n  useEffect(() => {\r\n    //   UE有实例后才进来\r\n    if (Ready && UE) {\r\n      // 设初始值\r\n      UE.setContent(defaultValue ? defaultValue : \"\");\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [UE, Ready]);\r\n  //   设置事件\r\n  useEffect(() => {\r\n    if (Ready) {\r\n      //   设置鼠标失去事件\r\n\r\n      UE.addListener(\"blur\", Blur);\r\n    }\r\n    return () => {};\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [Ready]);\r\n  useImperativeHandle(ref, () => ({\r\n    ...UE,\r\n  }));\r\n  const Blur = useCallback(() => {\r\n    //   获取内容\r\n    onBlur(UE.getContent());\r\n  }, [UE, onBlur]);\r\n  return (\r\n    <Loading spinning={Ready === null} opacity={false} tip={'加载中...'}>\r\n      {Ready !== false && (\r\n        <div\r\n          id={Id}\r\n          onBlur={() => {\r\n            console.log(\"dasdsa\");\r\n          }}\r\n          className={`LG_UEditor ${className ? className : \"\"}`}\r\n          //   type=\"text/plain\"\r\n          style={{ width: \"931px\", height: \"370px\", ...style }}\r\n        ></div>\r\n      )}\r\n      {/* 当加载失败后，使用默认input */}\r\n      {Ready === false && (\r\n        <Input.TextArea\r\n          defaultValue={defaultValue}\r\n          className=\"LG_Input_default\"\r\n          onBlur={(e) => {\r\n            console.log(e)\r\n            onBlur(e.target.value);\r\n          }}\r\n          rows={10}\r\n        ></Input.TextArea>\r\n      )}\r\n    </Loading>\r\n  );\r\n}\r\n\r\nexport default memo(forwardRef(UEditor));\r\n","import React, {\r\n  useState,\r\n  useImperativeHandle,\r\n  useCallback,\r\n  memo,\r\n  useMemo,\r\n  forwardRef,\r\n  useEffect,\r\n  useRef,\r\n} from \"react\";\r\nimport {\r\n  correctNumber,\r\n  autoAlert,\r\n  getToken,\r\n  getDataStorage,\r\n} from \"@/util/public\";\r\nimport SparkMD5 from \"spark-md5\";\r\nimport $ from \"jquery\";\r\n\r\nfunction UplaodInput(props, ref) {\r\n  let {\r\n    type,\r\n    onUplaodPercert,\r\n    onFileUplaod,\r\n    initFile,\r\n    onFileUpMD5,\r\n    fileMD5,\r\n    // : FileMD5\r\n    // 文件上传使用\r\n    schoolId,\r\n  } = props;\r\n  // 记录上传的完成度\r\n  const [CompletePercert, setCompletePercert] = useState(false);\r\n  const [UplaodParams, setUplaodParams] = useState([]);\r\n  const InputRef = useRef(null);\r\n  const [ForbinClick, setForbinClick] = useState(false);\r\n  //   const [file, setFile] = useState(initFile||[]);\r\n  // 文件的md5,检测文件的唯一性\r\n  //   const [fileMD5, setFileMD5] = useState([]);\r\n  const file = useMemo(() => {\r\n    return initFile || [];\r\n  }, [initFile]);\r\n  //   const fileMD5 = useMemo(() => {\r\n  //     return FileMD5 || [];\r\n  //   }, [FileMD5]);\r\n  // 计算文件md5，判断文件是否重复\r\n  const calculate = useCallback((file, callback = () => {}) => {\r\n    let fileReader = new FileReader();\r\n    // let  box=document.getElementById('box');\r\n    let blobSlice =\r\n      File.prototype.mozSlice ||\r\n      File.prototype.webkitSlice ||\r\n      File.prototype.slice;\r\n    // let   file = document.getElementById(\"file\").files[0];\r\n    let chunkSize = 2097152;\r\n    // read in chunks of 2MB\r\n    let chunks = Math.ceil(file.size / chunkSize);\r\n    let currentChunk = 0;\r\n    let spark = new SparkMD5();\r\n\r\n    fileReader.onload = function (e) {\r\n      // console.log(\"read chunk nr\", currentChunk + 1, \"of\", chunks);\r\n      spark.appendBinary(e.target.result); // append binary string\r\n      currentChunk++;\r\n\r\n      if (currentChunk < chunks) {\r\n        loadNext();\r\n      } else {\r\n        let file_md5 = spark.end();\r\n        callback(file_md5);\r\n        // console.log(\"finished loading\");\r\n        // // box.innerText='MD5 hash:'+spark.end();\r\n        // console.log(\"MD5 hash:\" + spark.end());\r\n        // console.info(\"computed hash\", spark.end()); // compute hash\r\n      }\r\n    };\r\n\r\n    function loadNext() {\r\n      let start = currentChunk * chunkSize,\r\n        end = start + chunkSize >= file.size ? file.size : start + chunkSize;\r\n\r\n      fileReader.readAsBinaryString(blobSlice.call(file, start, end));\r\n    }\r\n\r\n    loadNext();\r\n  }, []);\r\n\r\n  // 上传文件\r\n  // *file:input返回的数据，*skip：分块使用，*fileSavePath:第一次为空，之后的分块上传后会给之前上传返回的路径\r\n  const upload = useCallback(\r\n    (file, skip, fileSavePath, success = () => {}, error = () => {}) => {\r\n      let formData = new FormData();\r\n      let blockSize = 1024 * 1024 * 3; //2MB，设置块大小\r\n      let totalCount = Math.ceil(file.size / blockSize); //计算总块数\r\n      let nextSize = Math.min((skip + 1) * blockSize, file.size); //计算下一块大小（此处主要用于处理文件末端不足2MB的数据块）\r\n      let fileData = file.slice(skip * blockSize, nextSize); //切块\r\n      let token = getToken();\r\n      // 文件上传路径\r\n      let BasePlatformMsg = getDataStorage(\"BasePlatformMsg\");\r\n      let fileIP =\r\n        BasePlatformMsg instanceof Object && BasePlatformMsg.ResHttpRootUrl;\r\n      // 用户信息\r\n      let UserInfo = getDataStorage(\"UserInfo\");\r\n      let schoolID =\r\n        schoolId || (UserInfo instanceof Object && UserInfo.SchoolID);\r\n      formData.append(\"FileName\", file.name); //文件名称\r\n      formData.append(\"File\", fileData);\r\n      formData.append(\"PlanType\", type); //培训、招聘计划ID\r\n      // formData.append(\"PlanID\", \"265A7E70-D7C2-4B49-AF8B-065AC475BA05\"); //培训、招聘计划ID\r\n      formData.append(\"Token\", token);\r\n      formData.append(\"SchoolID\", schoolID);\r\n      formData.append(\"FileSavePath\", fileSavePath);\r\n\r\n      $.ajax({\r\n        url: fileIP + \"/Upload.ashx\",\r\n        async: false, //设为同步请求\r\n        type: \"POST\",\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        success: function (data, textStatus, jqXHR) {\r\n          if (data.StatusCode !== 200) {\r\n            setCompletePercert(false);\r\n            // 每次创建完i后把file的outerHTML重置\r\n            // eslint-disable-next-line no-self-assign\r\n            // InputRef.current.outerHTML = InputRef.current.outerHTML;\r\n            console.info(\"分开上传失败，当前第\" + (skip + 1) + \"块\");\r\n            error(data.Msg);\r\n            return;\r\n          }\r\n          fileSavePath = data.Data.FileUrl;\r\n          if (skip + 1 === totalCount) {\r\n            //   当完成的时候\r\n            setCompletePercert(100);\r\n            setCompletePercert(false);\r\n            setForbinClick(false);\r\n\r\n            //此文件所有切块均已上传完毕\r\n            success(data.Data);\r\n            // 每次创建完i后把file的outerHTML重置\r\n            // eslint-disable-next-line no-self-assign\r\n            // InputRef.current.outerHTML = InputRef.current.outerHTML;\r\n            // 1秒后关闭\r\n            // setTimeout(() => {\r\n            //   setCompletePercert(false);\r\n            // }, 1000);\r\n            return;\r\n          }\r\n\r\n          setCompletePercert(correctNumber(((skip + 1) / totalCount) * 100));\r\n          setUplaodParams([file, ++skip, data.Data.FileUrl, success, error]);\r\n\r\n          //当接收到请求返回结果后，递归调用自己，切下一块继续上传\r\n          // data.Data.FileUrl是分开上传的关键，上传第一块时不需要,从第二块开始需要从上一个请求结果中拿到此参数再传给服务器接口\r\n          //   upload(file, ++skip, data.Data.FileUrl, success, error);\r\n        },\r\n        error: function (jqXHR, txtStatus, errorThrown) {\r\n          console.info(\"分开上传失败，当前第\" + (skip + 1) + \"块\");\r\n          setCompletePercert(false);\r\n          // 每次创建完i后把file的outerHTML重置\r\n          // eslint-disable-next-line no-self-assign\r\n          //   InputRef.current.outerHTML = InputRef.current.outerHTML;\r\n          error(\"程序异常\");\r\n          return;\r\n        },\r\n      });\r\n      return fileSavePath;\r\n    },\r\n    [schoolId, type]\r\n  );\r\n\r\n  // 文件上传封装\r\n  const fileUpload = useCallback(\r\n    (File) => {\r\n      setUplaodParams([\r\n        File,\r\n        0,\r\n        \"\",\r\n        (data) => {\r\n          //   setFile([...file, data]);\r\n          onFileUplaod([...file, data]);\r\n          //   onFileUpMD5(fileMD5);\r\n        },\r\n        (msg) => {\r\n          autoAlert({ title: msg });\r\n        },\r\n      ]);\r\n      setCompletePercert(0);\r\n\r\n      //   upload(\r\n      //     File,\r\n      //     0,\r\n      //     \"\",\r\n      //     (data) => {\r\n      //       //   setFile([...file, data]);\r\n      //       onFileUplaod([...file, data]);\r\n      //     },\r\n      //     (msg) => {\r\n      //       autoAlert({ title: msg });\r\n      //     }\r\n      //   );\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [upload, file]\r\n  );\r\n  useImperativeHandle(ref, () => ({\r\n    file,\r\n    CompletePercert,\r\n  }));\r\n  //   useEffect(() => {\r\n  //     onUplaodPercert(CompletePercert);\r\n  //     // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  //   }, [CompletePercert]);\r\n\r\n  /**\r\n   * @description: 因为上传的时候如果一直分片for，会阻塞界面的渲染，所以要分离递归\r\n   * @param {*}\r\n   * @return {*}\r\n   */\r\n  useEffect(() => {\r\n    if (\r\n      UplaodParams.length > 0 &&\r\n      CompletePercert !== false &&\r\n      CompletePercert !== 100\r\n    )\r\n      upload(...UplaodParams);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [CompletePercert]);\r\n  return (\r\n    <span\r\n      className=\"file-upload\"\r\n      style={{\r\n        cursor: !ForbinClick ? \"pointer\" : \"no-drop\",\r\n      }}\r\n    >\r\n      添加附件\r\n      <input\r\n        ref={InputRef}\r\n        type=\"file\"\r\n        style={{\r\n          cursor: !ForbinClick ? \"pointer\" : \"no-drop\",\r\n          display: ForbinClick ? \"none\" : \"inline-block\",\r\n        }}\r\n        className=\"file-input\"\r\n        // disabled={!!ForbinClick}\r\n        onClick={() => {\r\n          setForbinClick(true);\r\n        }}\r\n        onChange={(e) => {\r\n        //   setForbinClick(true);\r\n          const input = e.target;\r\n          const files = e.target.files;\r\n          if (files) {\r\n            for (let index = 0; index < files.length; index++) {\r\n              // console.log(files[index]);\r\n              const File = files[index];\r\n              // console.log(File);\r\n              if (File.size > 1024 * 1024 * 100) {\r\n                // fileTip.innerHTML = '文件大小不能超过3M!';\r\n                autoAlert({ title: \"文件大小不能超过100M\" });\r\n          setForbinClick(false);\r\n\r\n                // input.value = \"\";\r\n                return false;\r\n              } else {\r\n                //支持chrome IE10\r\n                if (window.FileReader) {\r\n                  calculate(File, (file_md5) => {\r\n                    // console.log(file_md5)\r\n                    if (!fileMD5.some((child) => child === file_md5)) {\r\n                      onFileUpMD5([...fileMD5, file_md5]);\r\n                      fileUpload(File);\r\n                      //   input.value = \"\";\r\n                    } else {\r\n                      autoAlert({ title: \"文件已存在\" });\r\n          setForbinClick(false);\r\n\r\n                      //   input.value = \"\";\r\n                      return false;\r\n                    }\r\n                  });\r\n                } else {\r\n                  if (\r\n                    !file.some(\r\n                      (child) =>\r\n                        child.FileName === File.name &&\r\n                        child.FileSize === File.size\r\n                    )\r\n                  ) {\r\n                    fileUpload(File);\r\n                    // input.value = \"\";\r\n                  } else {\r\n                    autoAlert({ title: \"文件已存在\" });\r\n          setForbinClick(false);\r\n\r\n                    // input.value = \"\";\r\n                    return false;\r\n                  }\r\n                }\r\n                // fileTip.innerHTML = '';\r\n                // formData.append(\"file\", file);\r\n              }\r\n            }\r\n            input.value = \"\";\r\n          }\r\n        }}\r\n      ></input>\r\n      {CompletePercert !== false && (\r\n        <span className=\"dom-CompletePercert\">{CompletePercert}%</span>\r\n      )}\r\n    </span>\r\n  );\r\n}\r\n\r\nexport default memo(forwardRef(UplaodInput));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-08 13:54:00\r\n * @LastEditTime: 2020-12-15 14:35:04\r\n * @Description:招聘和培训共用的编辑区域组件，发布编辑\r\n * @FilePath: \\teacher-development\\src\\component\\editor\\index.js\r\n */\r\n\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\n\r\nimport \"./index.scss\";\r\nimport { Input, DatePicker } from \"antd\";\r\nimport locale from \"antd/es/date-picker/locale/zh_CN\";\r\nimport { Tip, Radio, RadioGroup } from \"../common\";\r\nimport useDetailRequest from \"../../hooks/useDetailRequest\";\r\nimport $ from \"jquery\";\r\nimport {\r\n  checkInput,\r\n  autoAlert,\r\n  constructFileType,\r\n  calculateFileSize,\r\n  getToken,\r\n  getDataStorage,\r\n  correctNumber,\r\n} from \"../../util/public\";\r\nimport { getRecruitDetail } from \"../../api/recruit\";\r\nimport { getTrainDetail } from \"../../api/train\";\r\nimport moment from \"moment\";\r\nimport SparkMD5 from \"spark-md5\";\r\nimport UEditor from \"../UEditor\";\r\nimport UplaodInput from \"./UplaodInput\";\r\nconst { TextArea } = Input;\r\nconst { RangePicker } = DatePicker;\r\nlet format = \"YYYY-MM-DD HH:mm\";\r\nfunction Editor(props, ref) {\r\n  // type:分招聘和培训，*recruit：招聘，*train:培训\r\n  // schema:模式，分发布publish和编辑edit两种，默认发布，\r\n  let {\r\n    className,\r\n    type,\r\n    schema,\r\n    preview,\r\n    draft,\r\n    cancel,\r\n    fileid,\r\n    publish,\r\n    // 文件上传使用\r\n    schoolId,\r\n    error,\r\n    ...reset\r\n  } = props;\r\n  type = type || \"recruitment\";\r\n  let sourceName = type === \"recruitment\" ? \"来源\" : \"发布单位\";\r\n  // 标题\r\n  const [title, setTitle] = useState(\"\");\r\n  // 标题错误显示\r\n  const [titleVisible, setTitleVisible] = useState(false);\r\n  const [titleTip, setTitleTip] = useState(\"请输入标题\");\r\n\r\n  // 来源\r\n  const [source, setSource] = useState(\"\");\r\n  // 来源错误显示\r\n  const [sourceVisible, setSourceVisible] = useState(false);\r\n  const [sourceTip, setSourceTip] = useState(\"请输入\" + sourceName);\r\n\r\n  // 附件\r\n  const [file, setFile] = useState([]);\r\n  // 附件错误显示\r\n  const [fileVisible, setFileVisible] = useState(false);\r\n  const [fileTip, setFileTip] = useState(\"附件错误\");\r\n  // 文件的md5,检测文件的唯一性\r\n  const [fileMD5, setFileMD5] = useState([]);\r\n  // 上传按钮是否可点击\r\n  const [forbinClick, setForbinClick] = useState(false);\r\n  // 正文\r\n  const [main, setMain] = useState(\"\");\r\n  // 正文错误显示\r\n  const [mainVisible, setMainVisible] = useState(false);\r\n  const [mainTip, setMainTip] = useState(\"请输入正文\");\r\n  // 报名需求\r\n  const [applyFlag, setApplyFlag] = useState(0);\r\n  // 报名需求错误显示\r\n  const [applyFlagVisible, setApplyFlagVisible] = useState(false);\r\n  const [applyFlagTip, setApplyFlagTip] = useState(\"请选择是否启用报名\");\r\n  // 上传人数限制\r\n  const [limit, setLimit] = useState(\"\");\r\n  // 上传人数限制错误显示\r\n  const [limitVisible, setLimitVisible] = useState(false);\r\n  const [limitTip, setLimitTip] = useState(\"请输入上传人数限制\");\r\n  // 培训方式\r\n  const [activityFlag, setActivityFlag] = useState(0);\r\n  // 培训方式错误显示\r\n  const [activityFlagVisible, setActivityFlagVisible] = useState(false);\r\n  const [activityFlagTip, setActivityFlagTip] = useState(\"请选择培训方式\");\r\n\r\n  // 报名起始时间\r\n  const [applyBeginTime, setApplyBeginTime] = useState(\"\");\r\n  const [applyEndTime, setApplyEndTime] = useState(\"\");\r\n  // 报名起始时间错误显示\r\n  const [applyTimeVisible, setApplyTimeVisible] = useState(false);\r\n  const [applyTimeTip, setApplyTimeTip] = useState(\"请选择报名起止时间\");\r\n  // 是否允许报名,控制报名人数限制和报名起止\r\n  const [allowApply, setAllowApply] = useState(false);\r\n\r\n  // 记录上传的完成度\r\n  const [CompletePercert, setCompletePercert] = useState(false);\r\n  // 上传文件状态\r\n  const UploadRef = useRef(false);\r\n\r\n  // 预览不用获取数据，数据由上面传下来\r\n  const [detailData, handleChange, loading] = useDetailRequest(\r\n    {},\r\n    type === \"train\" ? getTrainDetail : getRecruitDetail\r\n  );\r\n\r\n  // 启用报名选择\r\n  const applyFlagList = useMemo(() => {\r\n    return [\r\n      { value: 1, title: \"是\" },\r\n      { value: 0, title: \"否\" },\r\n    ];\r\n  }, []);\r\n  // 启用报名选择\r\n  const activityFlagList = useMemo(() => {\r\n    return [\r\n      { value: 1, title: \"线上\" },\r\n      { value: 0, title: \"线下\" },\r\n    ];\r\n  }, []);\r\n  // 编辑器实例\r\n  const UEditorRef = useRef(null);\r\n  //  请求\r\n  useEffect(() => {\r\n    schema !== \"preview\" && fileid && handleChange(fileid);\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [fileid]);\r\n\r\n  // 赋值\r\n  useEffect(() => {\r\n    if (detailData.IsLoaded && detailData.IsExist) {\r\n      //加载完毕\r\n      setTitle(detailData.Title);\r\n      setFile(detailData.FileList);\r\n      setMain(detailData.Content);\r\n      setSource(detailData.Issue);\r\n\r\n      if (type === \"recruitment\") {\r\n        //招聘\r\n      }\r\n      if (type === \"train\") {\r\n        setActivityFlag(detailData.ActivityFlag);\r\n        setApplyBeginTime(detailData.ApplyBeginTime);\r\n        setApplyEndTime(detailData.ApplyEndTime);\r\n        setApplyFlag(detailData.ApplyFlag);\r\n        setLimit(detailData.Limit);\r\n      }\r\n    } else if (!detailData.IsExist) {\r\n      //不存在\r\n      typeof error === \"function\" && error();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [detailData]);\r\n  //  普通输入检查\r\n  const checkGeneralInput = useCallback(\r\n    (value, success = () => {}, error = (isNull) => {}) => {\r\n      checkInput({ value, success, error });\r\n    },\r\n    []\r\n  );\r\n  // useEffect(() => {}, []);\r\n  // 检查标题,返回结果是否对错\r\n  const checkTitle = useCallback(\r\n    (value) => {\r\n      let result = true;\r\n      checkGeneralInput(\r\n        value || title,\r\n        () => {\r\n          setTitleVisible(false);\r\n          result = true;\r\n        },\r\n        (isNull) => {\r\n          if (isNull) {\r\n            setTitleTip(\"请输入标题\");\r\n          } else {\r\n            setTitleTip(\"标题格式不正确\");\r\n          }\r\n          setTitleVisible(true);\r\n          result = false;\r\n        }\r\n      );\r\n      return result;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [title]\r\n  );\r\n  // 检查来源,返回结果是否对错\r\n  const checkSource = useCallback(\r\n    (value) => {\r\n      let result = true;\r\n\r\n      checkGeneralInput(\r\n        value || source,\r\n        () => {\r\n          setSourceVisible(false);\r\n          result = true;\r\n        },\r\n        (isNull) => {\r\n          // 不是招聘的不能进来\r\n          // if (type !== \"recruitment\") {\r\n          //   return;\r\n          // }\r\n          if (isNull) {\r\n            setSourceTip(\"请输入\" + sourceName);\r\n          } else {\r\n            setSourceTip(sourceName + \"格式不正确\");\r\n          }\r\n          setSourceVisible(true);\r\n          result = false;\r\n        }\r\n      );\r\n      return result;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [source]\r\n  );\r\n  // 检查正文,返回结果是否对错\r\n  const checkContent = useCallback(\r\n    (value) => {\r\n      let result = true;\r\n\r\n      value = value || main;\r\n      if (!value) {\r\n        setMainTip(\"请输入正文\");\r\n        setMainVisible(true);\r\n        result = false;\r\n      } else {\r\n        setMainVisible(false);\r\n        result = true;\r\n      }\r\n      return result;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [main]\r\n  );\r\n  // 检查是否启用报名,返回结果是否对错\r\n  const checkApplyFlag = useCallback(\r\n    (value) => {\r\n      let result = true;\r\n      if (type !== \"train\") {\r\n        //不是培训的，检查都成功\r\n        return true;\r\n      }\r\n      value = value || applyFlag;\r\n      if (value === \"\") {\r\n        // setLimitTip(\"请输入上传人数限制\");\r\n        setApplyFlagVisible(true);\r\n        result = false;\r\n      } else {\r\n        setApplyFlagVisible(false);\r\n        result = true;\r\n      }\r\n      return result;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [applyFlag]\r\n  );\r\n  // 检查培训方式,返回结果是否对错\r\n  const checkActivityFlag = useCallback(\r\n    (value) => {\r\n      let result = true;\r\n      if (type !== \"train\") {\r\n        //不是培训的，检查都成功\r\n        return true;\r\n      }\r\n      value = value || activityFlag;\r\n      if (value === \"\") {\r\n        // setLimitTip(\"请输入上传人数限制\");\r\n        setActivityFlagVisible(true);\r\n        result = false;\r\n      } else {\r\n        setActivityFlagVisible(false);\r\n        result = true;\r\n      }\r\n      return result;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [activityFlag]\r\n  );\r\n  // 检查培训方式,返回结果是否对错\r\n  const checkApplyTime = useCallback(\r\n    (value) => {\r\n      //value传moment\r\n      let result = true;\r\n      if (type !== \"train\") {\r\n        //不是培训的，检查都成功\r\n        return true;\r\n      }\r\n      let [begin, end] = value || [applyBeginTime, applyEndTime];\r\n      begin = moment(begin);\r\n      end = moment(end);\r\n      if (!begin.isValid() && !end.isValid()) {\r\n        setApplyTimeTip(\"请选择报名起止时间\");\r\n        setApplyTimeVisible(true);\r\n        result = false;\r\n      } else if (!begin.isValid()) {\r\n        setApplyTimeTip(\"请选择报名起始时间\");\r\n        setApplyTimeVisible(true);\r\n        result = false;\r\n      } else if (!end.isValid()) {\r\n        setApplyTimeTip(\"请选择报名终止时间\");\r\n        setApplyTimeVisible(true);\r\n        result = false;\r\n      } else if (end.diff(begin, \"m\") < 60) {\r\n        setApplyTimeTip(\"起始时间与终止时间不能相差小于1小时\");\r\n        setApplyTimeVisible(true);\r\n        result = false;\r\n      } else {\r\n        setApplyTimeVisible(false);\r\n        result = true;\r\n      }\r\n      return result;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [applyBeginTime, applyEndTime]\r\n  );\r\n  // 检查上传人数限制,返回结果是否对错\r\n  const checkLimit = useCallback(\r\n    (value) => {\r\n      let result = true;\r\n      if (type !== \"train\") {\r\n        //不是培训的，检查都成功\r\n        return true;\r\n      }\r\n      value = value || limit;\r\n      // if (value) {\r\n      //   setLimitTip(\"请输入上传人数限制\");\r\n      //   setLimitVisible(true);\r\n      //   result = false;\r\n      // } else {\r\n      //   setLimitVisible(false);\r\n      //   result = true;\r\n      // }\r\n      return result;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [limit]\r\n  );\r\n  // 检查所有\r\n  const checkAll = (fn) => {\r\n    let result = [\r\n      checkContent(),\r\n      checkSource(),\r\n      checkTitle(),\r\n      checkActivityFlag(),\r\n      checkApplyFlag(),\r\n      !allowApply || checkApplyTime(),\r\n      !allowApply || checkLimit(),\r\n    ];\r\n\r\n    if (result.every((child) => child)) {\r\n      typeof fn === \"function\" && fn();\r\n    }\r\n  };\r\n  // 计算文件md5，判断文件是否重复\r\n  const calculate = useCallback((file, callback = () => {}) => {\r\n    let fileReader = new FileReader();\r\n    // let  box=document.getElementById('box');\r\n    let blobSlice =\r\n      File.prototype.mozSlice ||\r\n      File.prototype.webkitSlice ||\r\n      File.prototype.slice;\r\n    // let   file = document.getElementById(\"file\").files[0];\r\n    let chunkSize = 2097152;\r\n    // read in chunks of 2MB\r\n    let chunks = Math.ceil(file.size / chunkSize);\r\n    let currentChunk = 0;\r\n    let spark = new SparkMD5();\r\n\r\n    fileReader.onload = function (e) {\r\n      // console.log(\"read chunk nr\", currentChunk + 1, \"of\", chunks);\r\n      spark.appendBinary(e.target.result); // append binary string\r\n      currentChunk++;\r\n\r\n      if (currentChunk < chunks) {\r\n        loadNext();\r\n      } else {\r\n        let file_md5 = spark.end();\r\n        callback(file_md5);\r\n        // console.log(\"finished loading\");\r\n        // // box.innerText='MD5 hash:'+spark.end();\r\n        // console.log(\"MD5 hash:\" + spark.end());\r\n        // console.info(\"computed hash\", spark.end()); // compute hash\r\n      }\r\n    };\r\n\r\n    function loadNext() {\r\n      let start = currentChunk * chunkSize,\r\n        end = start + chunkSize >= file.size ? file.size : start + chunkSize;\r\n\r\n      fileReader.readAsBinaryString(blobSlice.call(file, start, end));\r\n    }\r\n\r\n    loadNext();\r\n  }, []);\r\n\r\n  // 上传文件\r\n  // *file:input返回的数据，*skip：分块使用，*fileSavePath:第一次为空，之后的分块上传后会给之前上传返回的路径\r\n  const upload = useCallback(\r\n    (file, skip, fileSavePath, success = () => {}, error = () => {}) => {\r\n      let formData = new FormData();\r\n      let blockSize = 1024 * 1024 * 3; //2MB，设置块大小\r\n      let totalCount = Math.ceil(file.size / blockSize); //计算总块数\r\n      let nextSize = Math.min((skip + 1) * blockSize, file.size); //计算下一块大小（此处主要用于处理文件末端不足2MB的数据块）\r\n      let fileData = file.slice(skip * blockSize, nextSize); //切块\r\n      let token = getToken();\r\n      // 文件上传路径\r\n      let BasePlatformMsg = getDataStorage(\"BasePlatformMsg\");\r\n      let fileIP =\r\n        BasePlatformMsg instanceof Object && BasePlatformMsg.ResHttpRootUrl;\r\n      // 用户信息\r\n      let UserInfo = getDataStorage(\"UserInfo\");\r\n      let schoolID =\r\n        schoolId || (UserInfo instanceof Object && UserInfo.SchoolID);\r\n      formData.append(\"FileName\", file.name); //文件名称\r\n      formData.append(\"File\", fileData);\r\n      formData.append(\"PlanType\", type); //培训、招聘计划ID\r\n      // formData.append(\"PlanID\", \"265A7E70-D7C2-4B49-AF8B-065AC475BA05\"); //培训、招聘计划ID\r\n      formData.append(\"Token\", token);\r\n      formData.append(\"SchoolID\", schoolID);\r\n      formData.append(\"FileSavePath\", fileSavePath);\r\n\r\n      $.ajax({\r\n        url: fileIP + \"/Upload.ashx\",\r\n        async: false, //设为同步请求\r\n        type: \"POST\",\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        success: function (data, textStatus, jqXHR) {\r\n          if (data.StatusCode !== 200) {\r\n            setCompletePercert(false);\r\n\r\n            console.info(\"分开上传失败，当前第\" + (skip + 1) + \"块\");\r\n            error(data.Msg);\r\n            return;\r\n          }\r\n          fileSavePath = data.Data.FileUrl;\r\n          if (skip + 1 === totalCount) {\r\n            setCompletePercert(100);\r\n\r\n            //此文件所有切块均已上传完毕\r\n            success(data.Data);\r\n            // 1秒后关闭\r\n            setTimeout(() => {\r\n              setCompletePercert(false);\r\n            }, 1000);\r\n            return;\r\n          }\r\n          setCompletePercert(correctNumber(((skip + 1) / totalCount) * 100));\r\n\r\n          //当接收到请求返回结果后，递归调用自己，切下一块继续上传\r\n          // data.Data.FileUrl是分开上传的关键，上传第一块时不需要,从第二块开始需要从上一个请求结果中拿到此参数再传给服务器接口\r\n          upload(file, ++skip, data.Data.FileUrl, success, error);\r\n        },\r\n        error: function (jqXHR, txtStatus, errorThrown) {\r\n          console.info(\"分开上传失败，当前第\" + (skip + 1) + \"块\");\r\n          setCompletePercert(false);\r\n\r\n          error(\"程序异常\");\r\n          return;\r\n        },\r\n      });\r\n      return fileSavePath;\r\n    },\r\n    [schoolId, type]\r\n  );\r\n\r\n  // 文件上传封装\r\n  const fileUpload = useCallback(\r\n    (File) => {\r\n      setForbinClick(true);\r\n      setCompletePercert(0);\r\n\r\n      upload(\r\n        File,\r\n        0,\r\n        \"\",\r\n        (data) => {\r\n          setFile([...file, data]);\r\n        },\r\n        (msg) => {\r\n          autoAlert({ title: msg });\r\n        }\r\n      );\r\n    },\r\n    [upload, file]\r\n  );\r\n  // 监听是否启动报名\r\n  useEffect(() => {\r\n    if (applyFlag === 0) {\r\n      setAllowApply(false);\r\n      setLimit(\"\");\r\n      setApplyBeginTime(\"\");\r\n      setApplyEndTime(\"\");\r\n      setApplyTimeVisible(false);\r\n      //  checkLimit()\r\n    } else {\r\n      setAllowApply(true);\r\n    }\r\n  }, [applyFlag]);\r\n  // useEffect(() => {\r\n  //   console.log(CompletePercert);\r\n  // }, [CompletePercert]);\r\n  const dom = useMemo(() => {\r\n    return (\r\n      CompletePercert && (\r\n        <span className=\"dom-CompletePercert\">{CompletePercert}</span>\r\n      )\r\n    );\r\n  }, [CompletePercert]);\r\n  const onUplaodPercert = useCallback((percert) => {\r\n    setCompletePercert(percert);\r\n  }, []);\r\n  const onFileUplaod = useCallback((file) => {\r\n    setCompletePercert(false);\r\n    setFile(file);\r\n  }, []);\r\nconst onFileUpMD5 = useCallback((value)=>{\r\nsetFileMD5(value)\r\n},[])\r\n\r\n  return (\r\n    <div className={`lg-editor ${className ? className : \"\"}`} {...reset}>\r\n      <table className=\"editor-table\">\r\n        <tbody>\r\n          <tr>\r\n            <td className=\"must\">标题:</td>\r\n            <td>\r\n              <Tip visible={titleVisible} title={titleTip}>\r\n                <Input\r\n                  value={title}\r\n                  className=\"editor-input title-input\"\r\n                  maxLength={100}\r\n                  placeholder={\"请输入标题...\"}\r\n                  onChange={(e) => {\r\n                    setTitle(e.target.value);\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    checkTitle(e.target.value);\r\n                  }}\r\n                ></Input>\r\n              </Tip>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td className=\"must\">{sourceName}:</td>\r\n            <td>\r\n              <Tip visible={sourceVisible} title={sourceTip}>\r\n                <Input\r\n                  value={source}\r\n                  className=\"editor-input source-input\"\r\n                  maxLength={30}\r\n                  placeholder={`请输入${sourceName}...`}\r\n                  onChange={(e) => {\r\n                    setSource(e.target.value);\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    checkSource(e.target.value);\r\n                  }}\r\n                ></Input>\r\n              </Tip>\r\n            </td>\r\n          </tr>\r\n          {type === \"train\" ? (\r\n            <tr>\r\n              <td>是否启用报名:</td>\r\n              <td>\r\n                <Tip visible={applyFlagVisible} title={applyFlagTip}>\r\n                  <RadioGroup\r\n                    value={applyFlag}\r\n                    onChange={(e) => {\r\n                      setApplyFlag(e.target.value);\r\n                      setApplyFlagVisible(false);\r\n                      // setAllowApply(e.target.value === 0);\r\n                    }}\r\n                  >\r\n                    {applyFlagList.map((child, index) => {\r\n                      return (\r\n                        <Radio key={index} value={child.value}>\r\n                          {child.title}\r\n                        </Radio>\r\n                      );\r\n                    })}\r\n                  </RadioGroup>\r\n                </Tip>\r\n              </td>\r\n            </tr>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          {type === \"train\" ? (\r\n            <tr>\r\n              <td>报名人数限制:</td>\r\n              <td>\r\n                <Tip visible={limitVisible} title={limitTip}>\r\n                  <Input\r\n                    value={limit}\r\n                    // max={}\r\n                    disabled={!allowApply}\r\n                    type={\"number\"}\r\n                    className=\"editor-input limit-input\"\r\n                    maxLength={8}\r\n                    // placeholder={\"请输入报名人数限制...\"}\r\n                    onChange={(e) => {\r\n                      setLimit(e.target.value);\r\n                    }}\r\n                    onBlur={(e) => {\r\n                      checkLimit(e.target.value);\r\n                    }}\r\n                  ></Input>\r\n                </Tip>\r\n              </td>\r\n            </tr>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          {type === \"train\" ? (\r\n            <tr>\r\n              <td className=\"must\">报名起止时间:</td>\r\n              <td>\r\n                <Tip\r\n                  visible={allowApply && applyTimeVisible}\r\n                  title={applyTimeTip}\r\n                >\r\n                  <RangePicker\r\n                    onChange={(dates, dateString) => {\r\n                      // console.log(dates, dateString);\r\n                      setApplyBeginTime(dateString[0]);\r\n                      setApplyEndTime(dateString[1]);\r\n                      // checkApplyTime(dateString)\r\n                      if (dateString[0] && dateString[1]) {\r\n                        // 两个时间都选择了才进行检查\r\n                        checkApplyTime(dates);\r\n\r\n                        // setApplyTimeVisible(false);\r\n                        // if(dates[0].diff(dates[1],'m')<60){\r\n                        //   checkApplyTime(dates)\r\n                        // }\r\n                      }\r\n                    }}\r\n                    // 禁用，没选开始，不能选择结束\r\n                    disabled={[\r\n                      !allowApply || false,\r\n                      !allowApply || !applyBeginTime,\r\n                    ]}\r\n                    allowEmpty={[\r\n                      !allowApply || false,\r\n                      !allowApply || !applyBeginTime,\r\n                    ]}\r\n                    value={[\r\n                      applyBeginTime ? moment(applyBeginTime) : \"\",\r\n                      applyEndTime ? moment(applyEndTime) : \"\",\r\n                    ]}\r\n                    disabledDate={(date) => {\r\n                      let time = moment();\r\n                      // console.log(date);\r\n                      return time > date;\r\n                    }}\r\n                    // disabledTime={(date, partial) => {\r\n                    // let now = moment();\r\n                    // let begin = moment(applyBeginTime);\r\n                    // let end = moment(applyEndTime);\r\n                    // console.log(date, partial);\r\n                    // if (partial === \"start\") {\r\n                    //   // 开始时间必须小于结束一个小时，如果不小于，则修改结束时间\r\n                    //   if (\r\n                    //     end &&\r\n                    //     date < end &&\r\n                    //     date.diff(end, \"minutes\") < 60\r\n                    //   ) {\r\n                    //     setApplyEndTime(date.add(1, \"h\").format(format));\r\n                    //   }\r\n                    // }\r\n                    // if (partial === \"end\") {\r\n                    //   // 结束时间，如果开始时间选择了，结束时间不能小于开始时间+一个小时\r\n                    //   if (date > begin && date.diff(begin, \"minutes\") < 60) {\r\n                    //     setApplyEndTime(begin.add(1, \"h\").format(format));\r\n                    //   }\r\n                    // }\r\n                    // }}\r\n                    format={format}\r\n                    locale={locale}\r\n                    showTime\r\n                  ></RangePicker>\r\n                </Tip>\r\n              </td>\r\n            </tr>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          {type === \"train\" ? (\r\n            <tr>\r\n              <td>培训方式:</td>\r\n              <td>\r\n                <Tip visible={activityFlagVisible} title={activityFlagTip}>\r\n                  <RadioGroup\r\n                    value={activityFlag}\r\n                    onChange={(e) => {\r\n                      setActivityFlag(e.target.value);\r\n                      setActivityFlagVisible(false);\r\n                    }}\r\n                  >\r\n                    {activityFlagList.map((child, index) => {\r\n                      return (\r\n                        <Radio key={index} value={child.value}>\r\n                          {child.title}\r\n                        </Radio>\r\n                      );\r\n                    })}\r\n                  </RadioGroup>\r\n                </Tip>\r\n              </td>\r\n            </tr>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <tr>\r\n            <td>附件:</td>\r\n            <td style={{ padding: 0 }}>\r\n              <span>\r\n                {file instanceof Array &&\r\n                  file.map((child, index) => {\r\n                    let Index = child.FileName.lastIndexOf(\".\");\r\n                    let filename = [];\r\n                    if (Index === -1) {\r\n                      filename = [child.FileName, \"\"];\r\n                    }\r\n                    filename[0] = child.FileName.slice(0, Index);\r\n                    filename[1] = child.FileName.slice(Index);\r\n                    let fileSize = child.FileSize;\r\n                    return (\r\n                      <span\r\n                        key={index}\r\n                        className={`file-content file-type-${constructFileType(\r\n                          child.FileName\r\n                        )}`}\r\n                      >\r\n                        <span className=\"file-name\" title={child.FileName}>\r\n                          {filename[0]}\r\n                        </span>\r\n                        <span className=\"file-type\" title={child.FileName}>\r\n                          {filename[1]}\r\n                        </span>\r\n                        <span className=\"file-size\" title={fileSize}>\r\n                          [{fileSize}]\r\n                        </span>\r\n                        <b onClick={()=>{\r\n                          setFile(file.slice(0,index).concat(file.slice(index+1)))\r\n                          setFileMD5(fileMD5.slice(0,index).concat(fileMD5.slice(index+1)))\r\n                          \r\n                        }} className=\"file-delete\">×</b>\r\n                      </span>\r\n                    );\r\n                  })}\r\n                {file instanceof Array && file.length < 5 ? (\r\n                  <span className=\"handle-upload\">\r\n                    {/* <span className=\"file-upload\">\r\n                      添加附件\r\n                      <input\r\n                        type=\"file\"\r\n                        className=\"file-input\"\r\n                        onChange={(e) => {\r\n                          const input = e.target;\r\n                          const files = e.target.files;\r\n                          if (files) {\r\n                            for (let index = 0; index < files.length; index++) {\r\n                              // console.log(files[index]);\r\n                              const File = files[index];\r\n                              // console.log(File);\r\n                              if (File.size > 1024 * 1024 * 100) {\r\n                                // fileTip.innerHTML = '文件大小不能超过3M!';\r\n                                autoAlert({ title: \"文件大小不能超过100M\" });\r\n                                input.value = \"\";\r\n                                return false;\r\n                              } else {\r\n                                //支持chrome IE10\r\n                                if (window.FileReader) {\r\n                                  calculate(File, (file_md5) => {\r\n                                    // console.log(file_md5)\r\n                                    if (\r\n                                      !fileMD5.some(\r\n                                        (child) => child === file_md5\r\n                                      )\r\n                                    ) {\r\n                                      setFileMD5([...fileMD5, file_md5]);\r\n                                      setForbinClick(true);\r\n                                      fileUpload(File);\r\n                                    } else {\r\n                                      autoAlert({ title: \"文件已存在\" });\r\n                                      input.value = \"\";\r\n                                      return false;\r\n                                    }\r\n                                  });\r\n                                } else {\r\n                                  if (\r\n                                    !file.some(\r\n                                      (child) =>\r\n                                        child.FileName === File.name &&\r\n                                        child.FileSize === File.size\r\n                                    )\r\n                                  ) {\r\n                                    setForbinClick(true);\r\n\r\n                                    fileUpload(File);\r\n                                  } else {\r\n                                    autoAlert({ title: \"文件已存在\" });\r\n                                    input.value = \"\";\r\n                                    return false;\r\n                                  }\r\n                                }\r\n                                // fileTip.innerHTML = '';\r\n                                // formData.append(\"file\", file);\r\n                              }\r\n                            }\r\n                          }\r\n                        }}\r\n                      ></input>\r\n                      {dom}\r\n                    </span>\r\n                    */}\r\n                    <span className=\"input-box\">\r\n                      {/* {CompletePercert && (\r\n                        <span className=\"dom-CompletePercert\">\r\n                          {CompletePercert}\r\n                        </span>\r\n                      )} */}\r\n                      <UplaodInput\r\n                        // onUplaodPercert={onUplaodPercert}\r\n                        initFile={file}\r\n                        onFileUplaod={onFileUplaod}\r\n                        onFileUpMD5={onFileUpMD5}\r\n                        fileMD5={fileMD5}\r\n                        ref={UploadRef}\r\n                        schoolId={schoolId}\r\n                        type={type}\r\n                      ></UplaodInput>\r\n                    </span>\r\n                    <span className=\"file-tip\">\r\n                      提示: 附件会在正文文末以下载链接形式出现\r\n                    </span>\r\n                  </span>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </span>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td className=\"must  \">正文:</td>\r\n            <td>\r\n              <Tip visible={mainVisible} title={mainTip}>\r\n                {/* <TextArea\r\n                  value={main}\r\n                  className=\"editor-input main-input\"\r\n                  // maxLength={100}\r\n                  placeholder={\"请输入正文...\"}\r\n                  row={5}\r\n                  onChange={(e) => {\r\n                    setMain(e.target.value);\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    checkContent(e.target.value);\r\n                  }}\r\n                ></TextArea> */}\r\n                <div className={\"editor-input main-input\"}>\r\n                  {\" \"}\r\n                  <UEditor\r\n                    onBlur={(e) => {\r\n                      checkContent(e);\r\n                      setMain(e);\r\n                    }}\r\n                    defaultValue={main}\r\n                    ref={UEditorRef}\r\n                  ></UEditor>\r\n                </div>\r\n              </Tip>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <ul className=\"editor-handle\">\r\n        {preview ? (\r\n          <li\r\n            className=\"handle-preview\"\r\n            onClick={() => {\r\n              checkAll(\r\n                preview.onClick.bind(this, {\r\n                  Title: title,\r\n                  Issue: source,\r\n                  Content: main,\r\n                  Limit: limit,\r\n                  ApplyBeginTime: applyBeginTime,\r\n                  ApplyEndTime: applyEndTime,\r\n                  ActivityFlag: activityFlag,\r\n                  ApplyFlag: applyFlag,\r\n                  ReleaseTime: moment().format(\"YYYY-MM-DD HH:mm\"),\r\n                  FileList: file,\r\n                })\r\n              );\r\n            }}\r\n          >\r\n            预览\r\n          </li>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {draft && schema !== \"edit\" ? (\r\n          <li\r\n            className=\"handle-btn handle-draft\"\r\n            onClick={() => {\r\n              checkAll(\r\n                draft.onClick.bind(this, {\r\n                  Title: title,\r\n                  Issue: source,\r\n                  Content: main,\r\n                  Limit: limit,\r\n                  ApplyBeginTime: applyBeginTime,\r\n                  ApplyEndTime: applyEndTime,\r\n                  ActivityFlag: activityFlag,\r\n                  ApplyFlag: applyFlag,\r\n                  // ReleaseTime: moment().format(\"YYYY-MM-DD HH:mm\"),\r\n                  FileList: file,\r\n                })\r\n              );\r\n            }}\r\n          >\r\n            暂存为草稿\r\n          </li>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {publish ? (\r\n          <li\r\n            className=\"handle-btn handle-publish\"\r\n            onClick={() => {\r\n              checkAll(\r\n                publish.onClick.bind(this, {\r\n                  Title: title,\r\n                  Issue: source,\r\n                  Content: main,\r\n                  Limit: limit,\r\n                  ApplyBeginTime: applyBeginTime,\r\n                  ApplyEndTime: applyEndTime,\r\n                  ActivityFlag: activityFlag,\r\n                  ApplyFlag: applyFlag,\r\n                  // ReleaseTime: moment().format(\"YYYY-MM-DD HH:mm\"),\r\n                  FileList: file,\r\n                })\r\n              );\r\n            }}\r\n          >\r\n            确认发布\r\n          </li>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {cancel ? (\r\n          <li\r\n            className=\"handle-btn handle-cancel\"\r\n            onClick={() => {\r\n              // checkAll(publish.onClick);\r\n\r\n              cancel.onClick && cancel.onClick();\r\n            }}\r\n          >\r\n            取消\r\n          </li>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\nexport default memo(forwardRef(Editor));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-08 13:54:00\r\n * @LastEditTime: 2020-12-15 09:28:43\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\component\\fileDetail\\index.js\r\n */\r\n\r\nimport React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n  useLayoutEffect,\r\n  useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n//   import { Search, Empty } from \"../common\";\r\nimport $ from \"jquery\";\r\nimport useDetailRequest from \"../../hooks/useDetailRequest\";\r\nimport { getRecruitDetail } from \"../../api/recruit\";\r\nimport { getTrainDetail } from \"../../api/train\";\r\nimport { Loading, Empty, EmptyReact } from \"../common\";\r\nimport { constructFileType, getDataStorage } from \"../../util/public\";\r\nfunction FileDetail(props, ref) {\r\n  // *type:分为recruit招聘、train培训,默认招聘\r\n  // *schema:模式：preview预览,detail详情\r\n  let {\r\n    className,\r\n    fileid,\r\n    type,\r\n    style,\r\n    schema,\r\n    height,\r\n    onReturn,\r\n    onComfirm,\r\n    previewData,\r\n    useScrollbars,\r\n    ...reset\r\n  } = props;\r\n  // 获取数据\r\n  // 预览不用获取数据，数据由上面传下来\r\n  const [detailData, handleChange, loading, reload] = useDetailRequest(\r\n    {},\r\n    type === \"train\" ? getTrainDetail : getRecruitDetail\r\n  );\r\n  // 是否使用滚动条\r\n  const UseScrollbars = useMemo(() => {\r\n    return useScrollbars === undefined || useScrollbars ? true : false;\r\n  }, [useScrollbars]);\r\n  // 主文\r\n  const preRef = useRef(null);\r\n  useEffect(() => {\r\n    schema !== \"preview\" && fileid && handleChange(fileid);\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [fileid]);\r\n\r\n  let { IsLoaded, IsExist, Title, Issue, ReleaseTime, Content, FileList } =\r\n    schema !== \"preview\"\r\n      ? detailData\r\n      : {\r\n          IsLoaded: true,\r\n          IsExist: true,\r\n          Title: \"\",\r\n          Issue: \"\",\r\n          ReleaseTime: \"\",\r\n          Content: \"\",\r\n          FileList: [],\r\n          ...previewData,\r\n        };\r\n\r\n  useLayoutEffect(() => {\r\n    if (Content) $(preRef.current).html(Content);\r\n    // $(\"detail-content\").html(Content);\r\n  }, [Content]);\r\n  // 文件上传路径\r\n\r\n  const fileIP = useMemo(() => {\r\n    let BasePlatformMsg = getDataStorage(\"BasePlatformMsg\");\r\n    return BasePlatformMsg instanceof Object && BasePlatformMsg.ResHttpRootUrl;\r\n  }, []);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    reload,detailData\r\n  }));\r\n  return (\r\n    <EmptyReact component={UseScrollbars ? Scrollbars : false}>\r\n      <Loading\r\n        opacity={false}\r\n        spinning={schema !== \"preview\" && loading}\r\n        tip={\"加载中...\"}\r\n      >\r\n        <div\r\n          className={`lg-fileDetail ${className ? className : \"\"}`}\r\n          {...reset}\r\n        >\r\n          {IsLoaded ? (\r\n            IsExist ? (\r\n              <div className=\"fileDetail-content\">\r\n                <div className=\"fd-content-top\">\r\n                  <span className=\"content-top-msg content-title\" title={Title}>\r\n                    {Title}\r\n                  </span>\r\n                  <span className=\"content-top-msg content-msg\">\r\n                    <span className={\"cm-text\"} title={ReleaseTime}>\r\n                      {ReleaseTime}\r\n                    </span>\r\n                    <span className={\"cm-text\"} title={Issue}>\r\n                      {Issue}\r\n                    </span>\r\n                  </span>\r\n                  {schema === \"preview\" ? (\r\n                    <span\r\n                      className=\"preview-return\"\r\n                      onClick={() => {\r\n                        typeof onReturn === \"function\" && onReturn();\r\n                      }}\r\n                    >\r\n                      返回\r\n                    </span>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                  {schema === \"preview\" ? (\r\n                    <span\r\n                      className=\"preview-comfirm\"\r\n                      onClick={() => {\r\n                        typeof onComfirm === \"function\" && onComfirm();\r\n                      }}\r\n                    >\r\n                      确认发布\r\n                    </span>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </div>\r\n                <pre\r\n                  ref={preRef}\r\n                  className=\"detail-content\"\r\n                  id=\"detail-content\"\r\n                  style={{ whiteSpace: \"pre-wrap\", fontFamily: \"微软雅黑\" }}\r\n                >\r\n                  {/* {(()=>{\r\n                    let parser = new DOMParser();\r\n                    let doc=parser.parseFromString(Content, \"text/xml\");\r\n                    return doc\r\n                  })()} */}\r\n                </pre>\r\n                {FileList instanceof Array && FileList.length > 0 ? (\r\n                  <div className=\"file-box\">\r\n                    <p className=\"fb-top\">附件</p>\r\n                    <div className=\"fb-content\">\r\n                      {FileList.map((child, index) => {\r\n                        let { FileName, FileUrl, FileSize } = child;\r\n                        // let filename = FileName.split(\".\");\r\n                        let Index = FileName.lastIndexOf(\".\");\r\n                        let filename = [];\r\n\r\n                        if (Index === -1) {\r\n                          filename = [FileName, \"\"];\r\n                        }\r\n                        filename[0] = FileName.slice(0, Index);\r\n                        filename[1] = FileName.slice(Index);\r\n\r\n                        return (\r\n                          <div\r\n                            key={index}\r\n                            className={`file-bar file-type-${constructFileType(\r\n                              FileName\r\n                            )}`}\r\n                          >\r\n                            <span className=\"file-name\" title={FileName}>\r\n                              {filename[0]}\r\n                            </span>\r\n                            <span className=\"file-type\" title={FileName}>\r\n                              {filename[1]}\r\n                            </span>\r\n                            <span className=\"file-size\" title={FileSize}>\r\n                              [{FileSize}]\r\n                            </span>\r\n                            <a\r\n                              href={fileIP + FileUrl}\r\n                              // ref={'noreferrer'}\r\n                              download={filename[0]}\r\n                              // eslint-disable-next-line react/jsx-no-target-blank\r\n                              target=\"_blank\"\r\n                              className=\"file-download\"\r\n                              // onClick={() => {\r\n                              //   window.open(fileIP+FileUrl);\r\n                              // }}\r\n                            >\r\n                              下载\r\n                            </a>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <Empty\r\n                className={\"lg-fileDetail-empty\"}\r\n                type={\"4\"}\r\n                title={\"所查询信息不存在\"}\r\n              ></Empty>\r\n            )\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </Loading>\r\n    </EmptyReact>\r\n  );\r\n}\r\nexport default memo(forwardRef(FileDetail));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-15 14:44:08\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\recruit\\publish.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  //   useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Carousel, Tabs } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport Editor from \"../../component/editor\";\r\nimport { Context } from \"./reducer\";\r\nimport { Loading } from \"../../component/common\";\r\nimport FileDetail from \"../../component/fileDetail\";\r\nimport { publishRecruit } from \"../../api/recruit\";\r\nlet { TabPane } = Tabs;\r\n// import { getCruitList } from \"../../api/recruit\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Publish(props, ref) {\r\n  let {\r\n    teacherRecruitMsg: { tabId },\r\n    removeTab,\r\n    activeTab,\r\n    contentHW,\r\n    history,\r\n    roleMsg: { schoolID, collegeID, selectLevel },\r\n\r\n    dispatch,\r\n  } = props;\r\n  let { state, setDispatch } = useContext(Context);\r\n  // 转到预览\r\n  const [preview, setPreview] = useState(false);\r\n  // 转到预览\r\n  const [ActiveTab, setActiveTab] = useState(\"publish\");\r\n  // 加载\r\n  const [loading, setLoading] = useState(false);\r\n  // previewData\r\n  const [previewData, setPreviewData] = useState({\r\n    Title: \"测试\",\r\n    Issue: \"测试\",\r\n    ReleaseTime: \"测试\",\r\n    Content: \"测试\",\r\n    FileList: [],\r\n  });\r\n  // 轮播方法\r\n  // const CarouselRef = useRef(null);\r\n  // 发布\r\n  const publish = useCallback(\r\n    (data) => {\r\n      // *RStatus:状态：0草稿；1正式发布\r\n      setLoading(true);\r\n      let {FileList,...other} = data\r\n      // FileName:FileList[0].FileName,\r\n      // FileUrl:FileList[0].FileUrl,\r\n      // FileSize:FileList[0].FileSize,\r\n      // setTimeout(() => {\r\n      publishRecruit({\r\n        SchoolID: schoolID,\r\n        CollegeID: collegeID,\r\n        SelectLevel: selectLevel,\r\n        RStatus: 1,FileList,\r\n        // ...previewData,\r\n        ...other,\r\n      }).then(({ result }) => {\r\n        if (result) removeTab(\"\", \"\", \"teacherRecruit\",'',()=>{});\r\n        else {\r\n          setLoading(false);\r\n        }\r\n      });\r\n      // }, 3000);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [previewData, removeTab]\r\n  );\r\n  return (\r\n    // <Carousel ref={CarouselRef} dots={false}>\r\n    <Loading opacity={0.5} spinning={loading}>\r\n      <Tabs\r\n        activeKey={ActiveTab}\r\n        renderTabBar={() => {\r\n          return \"\";\r\n        }}\r\n      >\r\n        <TabPane tab=\"publish\" key=\"publish\">\r\n          <div\r\n            // style={{ display: `${preview ? \"none\" : \"block\"}` }}\r\n            className=\" Reacruit-context Publish-context Recruit-publish\"\r\n          >\r\n            <div className=\"context-top  \">\r\n              <span className=\" title-1\">发布招聘计划</span>\r\n              <span className=\" title-2\">(提示: 发布后将在各校官网显示)</span>\r\n            </div>\r\n            <Editor\r\n              preview={{\r\n                onClick: (data) => {\r\n                  // data:{title, source, main}\r\n                  // setPreviewData({Title:data.title, Issue:'测试', ReleaseTime:'测试', Content:'测试', FileList:[]})\r\n                  setPreviewData(data);\r\n                  setPreview(true);\r\n                  setActiveTab(\"preview\");\r\n\r\n                  // CarouselRef.current.next();\r\n                },\r\n              }}\r\n              draft={{\r\n                onClick: (data) => {\r\n                  // setLoading(true);\r\n\r\n                  // setTimeout(() => {\r\n                  //   removeTab(\"\", \"\", \"teacherRecruit\");\r\n                  // }, 3000);\r\n                  // setPreviewData(data);\r\n\r\n                  publish({...data,RStatus:0});\r\n                },\r\n              }}\r\n              publish={{\r\n                onClick: (data) => {\r\n                  publish({...data,RStatus:1});\r\n                },\r\n              }}\r\n              cancel={{\r\n                onClick: () => {\r\n                  removeTab(\"\", \"\", \"teacherRecruit\", \"\", (active, param) => {\r\n                    console.log(active, param);\r\n                    // history.push('/teacherRecruit')\r\n                  });\r\n                },\r\n              }}\r\n            ></Editor>\r\n          </div>\r\n        </TabPane>\r\n        <TabPane tab=\"preview\" key=\"preview\">\r\n          {preview ? (\r\n            <div className=\"Recruit-preview-box\">\r\n              <div\r\n                style={{ height: contentHW.height + \"px\" }}\r\n                // onClick={() => {\r\n                //   // CarouselRef.current.prev();\r\n                //   setPreview(false);\r\n                //   setActiveTab('publish');\r\n\r\n                // }}\r\n              >\r\n                <FileDetail\r\n                  schema={\"preview\"}\r\n                  type={\"recruit\"}\r\n                  previewData={previewData}\r\n                  onReturn={() => {\r\n                    setPreview(false);\r\n                    setActiveTab(\"publish\");\r\n                  }}\r\n                  onComfirm={() => {\r\n                    publish({...previewData,RStatus:1});\r\n                  }}\r\n                ></FileDetail>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </TabPane>\r\n      </Tabs>\r\n    </Loading>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg, contentHW },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Publish))));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-14 11:07:06\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\recruit\\detail.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Carousel } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport Editor from \"../../component/editor\";\r\nimport { Context } from \"./reducer\";\r\nimport { Loading } from \"../../component/common\";\r\nimport FileDetail from \"../../component/fileDetail\";\r\nimport { handleRoute } from \"../../util/public\";\r\nimport useDetailRequest from \"../../hooks/useDetailRequest\";\r\n// import { getCruitList } from \"../../api/recruit\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Datail(props, ref) {\r\n  let {\r\n    teacherRecruitMsg: { tabId },\r\n    removeTab,\r\n    activeTab,\r\n    contentHW,\r\n    location,\r\n    id,\r\n    history,\r\n    dispatch,\r\n  } = props;\r\n  let { state, setDispatch } = useContext(Context);\r\n  // 转到预览\r\n  const [loading, setLoading] = useState(false);\r\n  // 招聘id\r\n  const [ID, setID] = useState(() => {\r\n    return id ? id : \"\";\r\n  });\r\n  const detailRef = useRef(null);\r\n  //获取招聘id\r\n  useEffect(() => {\r\n    if (location.pathname) {\r\n      let Path = handleRoute(location.pathname);\r\n      // if(Path[0] === \"recruitDetail\" &&\r\n      // Path[1] ){\r\n      //   setID(Path[1])\r\n      // }else if(!Path[1]){\r\n      //   // console.log('teacherRecruit')\r\n      //   removeTab&&  removeTab(\"\", \"\", \"teacherRecruit\", \"\")\r\n      // }\r\n      Path[0] === \"recruitDetail\" &&\r\n        Path[1] &&\r\n        Path[1] !== ID &&\r\n        setID(Path[1]);\r\n      if (Path[0] === \"recruitDetail\" && ID && detailRef.current) {\r\n        //刷新\r\n        detailRef.current.reload();\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location.pathname]);\r\n  return (\r\n    <Loading opacity={0.5} spinning={loading}>\r\n      <div\r\n        className=\" Reacruit-context   Recruit-Datail\"\r\n        style={{ height: contentHW.height + \"px\" }}\r\n      >\r\n        <FileDetail ref={detailRef} fileid={ID} type={\"recruit\"}></FileDetail>\r\n      </div>\r\n    </Loading>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg, contentHW },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Datail))));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-14 20:13:28\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\recruit\\edit.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Carousel, Tabs } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport Editor from \"../../component/editor\";\r\nimport { Context } from \"./reducer\";\r\nimport { Loading } from \"../../component/common\";\r\nimport FileDetail from \"../../component/fileDetail\";\r\nimport { editRecruit } from \"../../api/recruit\";\r\nimport { handleRoute } from \"../../util/public\";\r\n\r\nlet { TabPane } = Tabs;\r\n// import { getCruitList } from \"../../api/recruit\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Publish(props, ref) {\r\n  let {\r\n    teacherRecruitMsg: { tabId },\r\n    removeTab,\r\n    activeTab,\r\n    contentHW,\r\n    location,\r\n    history,\r\n    roleMsg: { schoolID, collegeID, selectLevel },\r\n\r\n    dispatch,\r\n  } = props;\r\n  let { state, setDispatch } = useContext(Context);\r\n  // 转到预览\r\n  const [preview, setPreview] = useState(false);\r\n  // 转到预览\r\n  const [ActiveTab, setActiveTab] = useState(\"publish\");\r\n  // 加载\r\n  const [loading, setLoading] = useState(false);\r\n  // 招聘id\r\n  const [ID, setID] = useState(\"\");\r\n  // previewData\r\n  const [previewData, setPreviewData] = useState({\r\n    Title: \"测试\",\r\n    Issue: \"测试\",\r\n    ReleaseTime: \"测试\",\r\n    Content: \"测试\",\r\n    FileList: [],\r\n  });\r\n  // 轮播方法\r\n  // const CarouselRef = useRef(null);\r\n  // 发布\r\n  const publish = useCallback(\r\n    (data) => {\r\n      // *RStatus:状态：0草稿；1正式发布\r\n      setLoading(true);\r\n      let { FileList, ReleaseTime, ...other } = data;\r\n      // FileName:FileList[0].FileName,\r\n      // FileUrl:FileList[0].FileUrl,\r\n      // FileSize:FileList[0].FileSize,\r\n      // setTimeout(() => {\r\n      editRecruit({\r\n        // SchoolID: schoolID,\r\n        // CollegeID: collegeID,\r\n        // SelectLevel: selectLevel,\r\n        RID: ID,\r\n        RStatus: 1,\r\n        FileList,\r\n        // ...previewData,\r\n        ...other,\r\n      }).then(({ result }) => {\r\n        if (result) removeTab(\"\", \"\", \"teacherRecruit\", \"\");\r\n        else {\r\n        }\r\n        setLoading(false);\r\n\r\n      });\r\n      // }, 3000);\r\n    },\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [previewData, removeTab, ID]\r\n  );\r\n\r\n  //获取招聘id\r\n  useEffect(() => {\r\n    if (location.pathname) {\r\n      let Path = handleRoute(location.pathname);\r\n      Path[0] === \"editRecruit\" && Path[1] && Path[1] !== ID && setID(Path[1]);\r\n\r\n      // 请求\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    // <Carousel ref={CarouselRef} dots={false}>\r\n    <Loading opacity={0.5} spinning={loading}>\r\n      <Tabs\r\n        activeKey={ActiveTab}\r\n        renderTabBar={() => {\r\n          return \"\";\r\n        }}\r\n      >\r\n        <TabPane tab=\"publish\" key=\"publish\">\r\n          <div\r\n            // style={{ display: `${preview ? \"none\" : \"block\"}` }}\r\n            className=\" Reacruit-context Publish-context Recruit-publish\"\r\n          >\r\n            <div className=\"context-top  \">\r\n              <span className=\" title-1\">编辑招聘计划</span>\r\n              <span className=\" title-2\">(提示: 发布后将在各校官网显示)</span>\r\n            </div>\r\n            <Editor\r\n              fileid={ID}\r\n              schema={\"edit\"}\r\n              error={() => {\r\n                removeTab(\"\", \"\", \"teacherRecruit\", \"\", (active, param) => {});\r\n              }}\r\n              preview={{\r\n                onClick: (data) => {\r\n                  // data:{title, source, main}\r\n                  // setPreviewData({Title:data.title, Issue:'测试', ReleaseTime:'测试', Content:'测试', FileList:[]})\r\n                  setPreviewData(data);\r\n                  setPreview(true);\r\n                  setActiveTab(\"preview\");\r\n\r\n                  // CarouselRef.current.next();\r\n                },\r\n              }}\r\n              draft={{\r\n                onClick: (data) => {\r\n                  // setLoading(true);\r\n\r\n                  // setTimeout(() => {\r\n                  //   removeTab(\"\", \"\", \"teacherRecruit\");\r\n                  // }, 3000);\r\n                  // setPreviewData(data);\r\n\r\n                  publish({ ...data, RStatus: 0 });\r\n                },\r\n              }}\r\n              publish={{\r\n                onClick: (data) => {\r\n                  publish({ ...data, RStatus: 1 });\r\n                },\r\n              }}\r\n              cancel={{\r\n                onClick: () => {\r\n                  removeTab(\"\", \"\", \"teacherRecruit\", \"\", (active, param) => {\r\n                    console.log(active, param);\r\n                    // history.push('/teacherRecruit')\r\n                  });\r\n                },\r\n              }}\r\n            ></Editor>\r\n          </div>\r\n        </TabPane>\r\n        <TabPane tab=\"preview\" key=\"preview\">\r\n          {preview ? (\r\n            <div className=\"Recruit-preview-box\">\r\n              <div\r\n                style={{ height: contentHW.height + \"px\" }}\r\n                // onClick={() => {\r\n                //   // CarouselRef.current.prev();\r\n                //   setPreview(false);\r\n                //   setActiveTab('publish');\r\n\r\n                // }}\r\n              >\r\n                <FileDetail\r\n                  schema={\"preview\"}\r\n                  type={\"recruit\"}\r\n                  previewData={previewData}\r\n                  onReturn={() => {\r\n                    setPreview(false);\r\n                    setActiveTab(\"publish\");\r\n                  }}\r\n                  onComfirm={() => {\r\n                    publish({ ...previewData, RStatus: 1 });\r\n                  }}\r\n                ></FileDetail>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </TabPane>\r\n      </Tabs>\r\n    </Loading>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg, contentHW },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Publish))));\r\n","import React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport FileDetail from \"../../component/fileDetail\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nfunction Recruit(props, ref) {\r\n  let { id, basePlatFormMsg } = props;\r\n  const detailRef = useRef({});\r\n  useEffect(() => {\r\n    console.log(detailRef.current);\r\n  }, [detailRef.current.detailData]);\r\n  console.log(detailRef.current);\r\n\r\n  return (\r\n    <div className=\"page-recruit\">\r\n      <div className=\"pr-top\">\r\n          \r\n      </div>\r\n      <div className='pr-center'>\r\n        <Scrollbars>\r\n          <div className=\"pr-content\">\r\n            <FileDetail\r\n              useScrollbars={false}\r\n              ref={detailRef}\r\n              fileid={id}\r\n              type={\"recruit\"}\r\n            ></FileDetail>\r\n          </div>\r\n          <div className=\"pr-provesion\">\r\n            {basePlatFormMsg && basePlatFormMsg.ProVersion}\r\n          </div>\r\n        </Scrollbars>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let { commonData } = state;\r\n  return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(Recruit)));\r\n","/*\r\n *                   ___====-_  _-====___\r\n *             _--^^^#####//      \\\\#####^^^--_\r\n *          _-^##########// (    ) \\\\##########^-_\r\n *         -############//  |\\^^/|  \\\\############-\r\n *       _/############//   (@::@)   \\############\\_\r\n *      /#############((     \\\\//     ))#############\\\r\n *     -###############\\\\    (oo)    //###############-\r\n *    -#################\\\\  / VV \\  //#################-\r\n *   -###################\\\\/      \\//###################-\r\n *  _#/|##########/\\######(   /\\   )######/\\##########|\\#_\r\n *  |/ |#/\\#/\\#/\\/  \\#/\\##\\  |  |  /##/\\#/  \\/\\#/\\#/\\#| \\|\r\n *  `  |/  V  V  `   V  \\#\\| |  | |/#/  V   '  V  V  \\|  '\r\n *     `   `  `      `   / | |  | | \\   '      '  '   '\r\n *                      (  | |  | |  )\r\n *                     __\\ | |  | | /__\r\n *                    (vvv(VVV)(VVV)vvv)\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *                神兽保佑            永无BUG\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 15:17:40\r\n * @LastEditTime: 2020-12-15 17:09:57\r\n * @Description: 招聘计划管理,可复用，所以尽量不要用reduce全局状态处理\r\n * @FilePath: \\teacher-development\\src\\pages\\recruit\\index.js\r\n */\r\n\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport Home from \"./home\";\r\nimport Publish from \"./publish\";\r\nimport Detail from \"./detail\";\r\nimport \"./index.scss\";\r\n// import { handleRoute } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Reducer, Context, initState } from \"./reducer\";\r\nimport Edit from \"./edit\";\r\nimport PageRecruit from './recruit';\r\nfunction Recruit(props, ref) {\r\n  let {\r\n    // teacherRecruitMsg,\r\n    location,\r\n    activeTab,\r\n    removeTab,\r\n    tabid,recruitid,\r\n    param, //param控制显示的模块\r\n  } = props;\r\n  const [Component, setComponent] = useState(\"\");\r\n  const [state, setDispatch] = useReducer(Reducer, initState);\r\n  const homeRef = useRef({});\r\n  let { component } = state;\r\n\r\n  useEffect(() => {\r\n    setComponent(param);\r\n  }, [param]);\r\n  // console.log(param,Component)\r\n  // useEffect(() => {\r\n  //   // console.log(location)\r\n  //    //   if (location.pathname) {\r\n  //   //     let Path = handleRoute(location.pathname);\r\n  //   //     Path[0] === \"recruitDetail\" &&\r\n  //   //       Path[1] &&\r\n  //   //       Path[1] !== ID &&\r\n  //   //       setID(Path[1]);\r\n  //   //   }\r\n  // }, [])\r\n  return (\r\n    <Context.Provider value={{ state, setDispatch }}>\r\n      <div className=\"Recruit\">\r\n        {Component === \"home\" ? (\r\n          // component === \"publish\" ? (\r\n          //   <Publish></Publish>\r\n          // ) : (\r\n          <Home ref={homeRef}></Home>\r\n        ) : (\r\n          // )\r\n          \"\"\r\n        )}\r\n        {Component === \"publish\" ? (\r\n          <Publish removeTab={removeTab}></Publish>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {Component === \"edit\" ? <Edit removeTab={removeTab}></Edit> : \"\"}\r\n        {tabid === \"recruitDetail\" ? <Detail removeTab={removeTab}></Detail> : \"\"}\r\n        {/* {Component === \"edit\" ? <Home></Home> : \"\"} */}\r\n        {Component === \"details\" ? <Home></Home> : \"\"}\r\n        {Component==='recruit'&&<PageRecruit id={recruitid}></PageRecruit>}\r\n      </div>\r\n    </Context.Provider>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    // handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg },\r\n  } = state;\r\n  return {  roleMsg };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Recruit))));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-15 14:42:59\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\train\\publish.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  //   useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Carousel, Tabs } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport Editor from \"../../component/editor\";\r\nimport { Context } from \"./reducer\";\r\nimport { Loading } from \"../../component/common\";\r\nimport FileDetail from \"../../component/fileDetail\";\r\nimport { publishTrain } from \"../../api/train\";\r\nlet { TabPane } = Tabs;\r\n// import { getCruitList } from \"../../api/train\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Publish(props, ref) {\r\n  let {\r\n    removeTab,\r\n    activeTab,\r\n    contentHW,\r\n    history,\r\n    roleMsg: { schoolID, collegeID, selectLevel },\r\n\r\n    dispatch,\r\n  } = props;\r\n  let { state, setDispatch } = useContext(Context);\r\n  // 转到预览\r\n  const [preview, setPreview] = useState(false);\r\n  // 转到预览\r\n  const [ActiveTab, setActiveTab] = useState(\"publish\");\r\n  // 加载\r\n  const [loading, setLoading] = useState(false);\r\n  // previewData\r\n  const [previewData, setPreviewData] = useState({\r\n    Title: \"测试\",\r\n    Issue: \"测试\",\r\n    ReleaseTime: \"测试\",\r\n    Content: \"测试\",\r\n    FileList: [],\r\n  });\r\n  // 轮播方法\r\n  // const CarouselRef = useRef(null);\r\n  // 发布\r\n  const publish = useCallback(\r\n    (data) => {\r\n      // *TStatus:状态：0草稿；1正式发布\r\n      setLoading(true);\r\n      let { FileList, ...other } = data;\r\n      // FileName:FileList[0].FileName,\r\n      // FileUrl:FileList[0].FileUrl,\r\n      // FileSize:FileList[0].FileSize,\r\n      // setTimeout(() => {\r\n      publishTrain({\r\n        SchoolID: schoolID,\r\n        CollegeID: collegeID,\r\n        SelectLevel: selectLevel,\r\n        TStatus: 1,\r\n        FileList,\r\n        // ...previewData,\r\n        ...other,\r\n      }).then(({ result }) => {\r\n        if (result) removeTab(\"\", \"\", \"teacherTrain\", \"\",()=>{});\r\n        else {\r\n          setLoading(false);\r\n        }\r\n      });\r\n      // }, 3000);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [previewData, removeTab]\r\n  );\r\n  return (\r\n    // <Carousel ref={CarouselRef} dots={false}>\r\n    <Loading opacity={0.5} spinning={loading}>\r\n      <Tabs\r\n        activeKey={ActiveTab}\r\n        renderTabBar={() => {\r\n          return \"\";\r\n        }}\r\n      >\r\n        <TabPane tab=\"publish\" key=\"publish\">\r\n          <div\r\n            // style={{ display: `${preview ? \"none\" : \"block\"}` }}\r\n            className=\" Reacruit-context Publish-context Train-publish\"\r\n          >\r\n            <div className=\"context-top  \">\r\n              <span className=\" title-1\">发布培训计划</span>\r\n              {/* <span className=\" title-2\">(提示: 发布后将在各校官网显示)</span> */}\r\n            </div>\r\n            <Editor\r\n              type={\"train\"}\r\n              preview={{\r\n                onClick: (data) => {\r\n                  // data:{title, source, main}\r\n                  // setPreviewData({Title:data.title, Issue:'测试', ReleaseTime:'测试', Content:'测试', FileList:[]})\r\n                  setPreviewData(data);\r\n                  setPreview(true);\r\n                  setActiveTab(\"preview\");\r\n\r\n                  // CarouselRef.current.next();\r\n                },\r\n              }}\r\n              draft={{\r\n                onClick: (data) => {\r\n                  // setLoading(true);\r\n\r\n                  // setTimeout(() => {\r\n                  //   removeTab(\"\", \"\", \"teacherTrain\");\r\n                  // }, 3000);\r\n                  // setPreviewData(data);\r\n\r\n                  publish({ ...data, TStatus: 0 });\r\n                },\r\n              }}\r\n              publish={{\r\n                onClick: (data) => {\r\n                  publish({ ...data, TStatus: 1 });\r\n                },\r\n              }}\r\n              cancel={{\r\n                onClick: () => {\r\n                  removeTab(\"\", \"\", \"teacherTrain\", \"\", (active, param) => {\r\n                    console.log(active, param);\r\n                    // history.push('/teacherTrain')\r\n                  });\r\n                },\r\n              }}\r\n            ></Editor>\r\n          </div>\r\n        </TabPane>\r\n        <TabPane tab=\"preview\" key=\"preview\">\r\n          {preview ? (\r\n            <div className=\"Train-preview-box\">\r\n              <div\r\n                style={{ height: contentHW.height + \"px\" }}\r\n                // onClick={() => {\r\n                //   // CarouselRef.current.prev();\r\n                //   setPreview(false);\r\n                //   setActiveTab('publish');\r\n\r\n                // }}\r\n              >\r\n                <FileDetail\r\n                  schema={\"preview\"}\r\n                  type={\"train\"}\r\n                  previewData={previewData}\r\n                  onReturn={() => {\r\n                    setPreview(false);\r\n                    setActiveTab(\"publish\");\r\n                  }}\r\n                  onComfirm={() => {\r\n                    publish({ ...previewData, TStatus: 1 });\r\n                  }}\r\n                ></FileDetail>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </TabPane>\r\n      </Tabs>\r\n    </Loading>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherTrainMsg },\r\n    commonData: { roleMsg, contentHW },\r\n  } = state;\r\n  return { teacherTrainMsg, roleMsg, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Publish))));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-15 09:17:09\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\train\\detail.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Carousel } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport Editor from \"../../component/editor\";\r\nimport { Context } from \"./reducer\";\r\nimport { Loading } from \"../../component/common\";\r\nimport FileDetail from \"../../component/fileDetail\";\r\nimport { handleRoute } from \"../../util/public\";\r\nimport useDetailRequest from \"../../hooks/useDetailRequest\";\r\n// import { getCruitList } from \"../../api/train\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Datail(props, ref) {\r\n  let {\r\n    removeTab,\r\n    activeTab,\r\n    contentHW,\r\n    location,id,\r\n    history,controlSize,\r\n    dispatch,useScrollbars\r\n  } = props;\r\n  // let { state, setDispatch } = useContext(Context);\r\n  // 转到预览\r\n  const [loading, setLoading] = useState(false);\r\n  // 培训id\r\n  const [ID, setID] = useState(\"\");\r\n  const detailRef = useRef(null);\r\n \r\n  //获取培训id\r\n  useEffect(() => {\r\n    if (location.pathname) {\r\n      let Path = handleRoute(location.pathname);\r\n      Path[0] === \"trainDetail\" &&\r\n        Path[1] &&\r\n        Path[1] !== ID &&\r\n        setID(Path[1]);\r\n\r\n        if (Path[0] === \"trainDetail\" && ID && detailRef.current) {\r\n          //刷新\r\n          detailRef.current.reload();\r\n        }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location.pathname]);\r\n  return (\r\n    <Loading opacity={0.5} spinning={loading}>\r\n      <div\r\n        className=\" Reacruit-context   Train-Datail\"\r\n        style={controlSize===undefined||controlSize?{ height: contentHW.height + \"px\" }:{}}\r\n      >\r\n        <FileDetail  ref={detailRef} useScrollbars={useScrollbars} fileid={ID} type={'train'}></FileDetail>\r\n      </div>\r\n    </Loading>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherTrainMsg },\r\n    commonData: { roleMsg, contentHW },\r\n  } = state;\r\n  return { teacherTrainMsg, roleMsg, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Datail))));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-15 09:52:24\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\train\\edit.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Carousel, Tabs } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport Editor from \"../../component/editor\";\r\nimport { Context } from \"./reducer\";\r\nimport { Loading } from \"../../component/common\";\r\nimport FileDetail from \"../../component/fileDetail\";\r\nimport { editTrain } from \"../../api/train\";\r\nimport { handleRoute } from \"../../util/public\";\r\n\r\nlet { TabPane } = Tabs;\r\n// import { getCruitList } from \"../../api/train\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Publish(props, ref) {\r\n  let {\r\n    removeTab,\r\n    activeTab,\r\n    contentHW,\r\n    location,\r\n    history,\r\n    roleMsg: { schoolID, collegeID, selectLevel },\r\n\r\n    dispatch,\r\n  } = props;\r\n  let { state, setDispatch } = useContext(Context);\r\n  // 转到预览\r\n  const [preview, setPreview] = useState(false);\r\n  // 转到预览\r\n  const [ActiveTab, setActiveTab] = useState(\"publish\");\r\n  // 加载\r\n  const [loading, setLoading] = useState(false);\r\n  // 培训id\r\n  const [ID, setID] = useState(\"\");\r\n  // previewData\r\n  const [previewData, setPreviewData] = useState({\r\n    Title: \"测试\",\r\n    Issue: \"测试\",\r\n    ReleaseTime: \"测试\",\r\n    Content: \"测试\",\r\n    FileList: [],\r\n  });\r\n  // 轮播方法\r\n  // const CarouselRef = useRef(null);\r\n  // 发布\r\n  const publish = useCallback(\r\n    (data) => {\r\n      // *TStatus:状态：0草稿；1正式发布\r\n      setLoading(true);\r\n      let { FileList, ReleaseTime, ...other } = data;\r\n      // FileName:FileList[0].FileName,\r\n      // FileUrl:FileList[0].FileUrl,\r\n      // FileSize:FileList[0].FileSize,\r\n      // setTimeout(() => {\r\n      editTrain({\r\n        // SchoolID: schoolID,\r\n        // CollegeID: collegeID,\r\n        // SelectLevel: selectLevel,\r\n        TID: ID,\r\n        TStatus: 1,\r\n        FileList,\r\n        // ...previewData,\r\n        ...other,\r\n      }).then(({ result }) => {\r\n        if (result) removeTab(\"\", \"\", \"teacherTrain\", \"\");\r\n        else {\r\n        }\r\n        setLoading(false);\r\n\r\n      });\r\n      // }, 3000);\r\n    },\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [previewData, removeTab, ID]\r\n  );\r\n\r\n  //获取培训id\r\n  useEffect(() => {\r\n    if (location.pathname) {\r\n      let Path = handleRoute(location.pathname);\r\n      Path[0] === \"editTrain\" && Path[1] && Path[1] !== ID && setID(Path[1]);\r\n\r\n      // 请求\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    // <Carousel ref={CarouselRef} dots={false}>\r\n    <Loading opacity={0.5} spinning={loading}>\r\n      <Tabs\r\n        activeKey={ActiveTab}\r\n        renderTabBar={() => {\r\n          return \"\";\r\n        }}\r\n      >\r\n        <TabPane tab=\"publish\" key=\"publish\">\r\n          <div\r\n            // style={{ display: `${preview ? \"none\" : \"block\"}` }}\r\n            className=\" Reacruit-context Publish-context Train-publish\"\r\n          >\r\n            <div className=\"context-top  \">\r\n              <span className=\" title-1\">编辑培训计划</span>\r\n              <span className=\" title-2\">(提示: 发布后将在各校官网显示)</span>\r\n            </div>\r\n            <Editor\r\n            type={'train'}\r\n              fileid={ID}\r\n              schema={\"edit\"}\r\n              error={() => {\r\n                removeTab(\"\", \"\", \"teacherTrain\", \"\", (active, param) => {});\r\n              }}\r\n              preview={{\r\n                onClick: (data) => {\r\n                  // data:{title, source, main}\r\n                  // setPreviewData({Title:data.title, Issue:'测试', ReleaseTime:'测试', Content:'测试', FileList:[]})\r\n                  setPreviewData(data);\r\n                  setPreview(true);\r\n                  setActiveTab(\"preview\");\r\n\r\n                  // CarouselRef.current.next();\r\n                },\r\n              }}\r\n              draft={{\r\n                onClick: (data) => {\r\n                  // setLoading(true);\r\n\r\n                  // setTimeout(() => {\r\n                  //   removeTab(\"\", \"\", \"teacherTrain\");\r\n                  // }, 3000);\r\n                  // setPreviewData(data);\r\n\r\n                  publish({ ...data, TStatus: 0 });\r\n                },\r\n              }}\r\n              publish={{\r\n                onClick: (data) => {\r\n                  publish({ ...data, TStatus: 1 });\r\n                },\r\n              }}\r\n              cancel={{\r\n                onClick: () => {\r\n                  removeTab(\"\", \"\", \"teacherTrain\", \"\", (active, param) => {\r\n                    console.log(active, param);\r\n                    // history.push('/teacherTrain')\r\n                  });\r\n                },\r\n              }}\r\n            ></Editor>\r\n          </div>\r\n        </TabPane>\r\n        <TabPane tab=\"preview\" key=\"preview\">\r\n          {preview ? (\r\n            <div className=\"Train-preview-box\">\r\n              <div\r\n                style={{ height: contentHW.height + \"px\" }}\r\n                // onClick={() => {\r\n                //   // CarouselRef.current.prev();\r\n                //   setPreview(false);\r\n                //   setActiveTab('publish');\r\n\r\n                // }}\r\n              >\r\n                <FileDetail\r\n                  schema={\"preview\"}\r\n                  type={\"train\"}\r\n                  previewData={previewData}\r\n                  onReturn={() => {\r\n                    setPreview(false);\r\n                    setActiveTab(\"publish\");\r\n                  }}\r\n                  onComfirm={() => {\r\n                    publish({ ...previewData, TStatus: 1 });\r\n                  }}\r\n                ></FileDetail>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </TabPane>\r\n      </Tabs>\r\n    </Loading>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherTrainMsg },\r\n    commonData: { roleMsg, contentHW },\r\n  } = state;\r\n  return { teacherTrainMsg, roleMsg, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Publish))));\r\n","/*\r\n *                   ___====-_  _-====___\r\n *             _--^^^#####//      \\\\#####^^^--_\r\n *          _-^##########// (    ) \\\\##########^-_\r\n *         -############//  |\\^^/|  \\\\############-\r\n *       _/############//   (@::@)   \\############\\_\r\n *      /#############((     \\\\//     ))#############\\\r\n *     -###############\\\\    (oo)    //###############-\r\n *    -#################\\\\  / VV \\  //#################-\r\n *   -###################\\\\/      \\//###################-\r\n *  _#/|##########/\\######(   /\\   )######/\\##########|\\#_\r\n *  |/ |#/\\#/\\#/\\/  \\#/\\##\\  |  |  /##/\\#/  \\/\\#/\\#/\\#| \\|\r\n *  `  |/  V  V  `   V  \\#\\| |  | |/#/  V   '  V  V  \\|  '\r\n *     `   `  `      `   / | |  | | \\   '      '  '   '\r\n *                      (  | |  | |  )\r\n *                     __\\ | |  | | /__\r\n *                    (vvv(VVV)(VVV)vvv)\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *                神兽保佑            永无BUG\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 15:17:40\r\n * @LastEditTime: 2020-12-15 09:16:53\r\n * @Description: 培训计划管理,可复用，所以尽量不要用reduce全局状态处理\r\n * @FilePath: \\teacher-development\\src\\pages\\train\\index.js\r\n */\r\n\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport Home from \"./home\";\r\nimport Publish from \"./publish\";\r\nimport Detail from \"./detail\";\r\nimport \"./index.scss\";\r\n// import { handleRoute } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Reducer, Context, initState } from \"./reducer\";\r\nimport Edit from \"./edit\";\r\nfunction Train(props, ref) {\r\n  let {\r\n    teacherRecruitMsg,\r\n    location,\r\n    activeTab,\r\n    removeTab,\r\n    tabid,\r\n    param, //param控制显示的模块\r\n  } = props;\r\n  const [Component, setComponent] = useState(\"\");\r\n  const [state, setDispatch] = useReducer(Reducer, initState);\r\n  const homeRef = useRef({});\r\n  let { component } = state;\r\n\r\n  useEffect(() => {\r\n    setComponent(param);\r\n  }, [param]);\r\n  // console.log(param,Component)\r\n  // useEffect(() => {\r\n  //   // console.log(location)\r\n  //    //   if (location.pathname) {\r\n  //   //     let Path = handleRoute(location.pathname);\r\n  //   //     Path[0] === \"trainDetail\" &&\r\n  //   //       Path[1] &&\r\n  //   //       Path[1] !== ID &&\r\n  //   //       setID(Path[1]);\r\n  //   //   }\r\n  // }, [])\r\n  return (\r\n    <Context.Provider value={{ state, setDispatch }}>\r\n      <div className=\"Train\">\r\n        {Component === \"home\" ? (\r\n          // component === \"publish\" ? (\r\n          //   <Publish></Publish>\r\n          // ) : (\r\n          <Home ref={homeRef}></Home>\r\n        ) : (\r\n          // )\r\n          \"\"\r\n        )}\r\n        {Component === \"publish\" ? (\r\n          <Publish removeTab={removeTab}></Publish>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {Component === \"edit\" ? <Edit removeTab={removeTab}></Edit> : \"\"}\r\n        {tabid === \"trainDetail\" ? <Detail></Detail> : \"\"}\r\n        {/* {Component === \"edit\" ? <Home></Home> : \"\"} */}\r\n        {Component === \"details\" ? <Home></Home> : \"\"}\r\n      </div>\r\n    </Context.Provider>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Train))));\r\n","/*\r\n *                                |~~~~~~~|\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *     |~.\\\\\\_\\~~~~~~~~~~~~~~xx~~~         ~~~~~~~~~~~~~~~~~~~~~/_//;~|\r\n *     |  \\  o \\_         ,XXXXX),                         _..-~ o /  |\r\n *     |    ~~\\  ~-.     XXXXX`)))),                 _.--~~   .-~~~   |\r\n *      ~~~~~~~`\\   ~\\~~~XXX' _/ ';))     |~~~~~~..-~     _.-~ ~~~~~~~\r\n *               `\\   ~~--`_\\~\\, ;;;\\)__.---.~~~      _.-~\r\n *                 ~-.       `:;;/;; \\          _..-~~\r\n *                    ~-._      `''        /-~-~\r\n *                        `\\              /  /\r\n *                          |         ,   | |\r\n *                           |  '        /  |\r\n *                            \\/;          |\r\n *                             ;;          |\r\n *                             `;   .       |\r\n *                             |~~~-----.....|\r\n *                            | \\             \\\r\n *                           | /\\~~--...__    |\r\n *                           (|  `\\       __-\\|\r\n *                           ||    \\_   /~    |\r\n *                           |)     \\~-'      |\r\n *                            |      | \\      '\r\n *                            |      |  \\    :\r\n *                             \\     |  |    |\r\n *                              |    )  (    )\r\n *                               \\  /;  /\\  |\r\n *                               |    |/   |\r\n *                               |    |   |\r\n *                                \\  .'  ||\r\n *                                |  |  | |\r\n *                                (  | |  |\r\n *                                |   \\ \\ |\r\n *                                || o `.)|\r\n *                                |`\\\\) |\r\n *                                |       |\r\n *                                |       |\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2021-01-05 09:10:48\r\n * @LastEditTime: 2021-01-05 09:10:48\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\notice\\index.js\r\n */\r\n\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useMemo,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport \"./index.scss\";\r\nimport { getDataStorage } from \"../../util/public\";\r\nfunction Notice(props, ref) {\r\n  let {\r\n    commonData: {\r\n      roleMsg: { identityCode },\r\n      systemServer,\r\n    },\r\n  } = props;\r\n  let token = getDataStorage(\"token\");\r\n  return (\r\n    <div className=\"Notice\">\r\n      <iframe\r\n        className=\"notice-iframe\"\r\n        title=\"通知公告\"\r\n        // src={'http://192.168.129.64:20105/publicinfo//WebPage/html/notice/?lg_tk=4FF1FDEC-D573-4EAD-9DEB-78B278973073&lg_ic=IC0002&sysID=E34&iFrame=true#/'}\r\n        src={\r\n          systemServer[400].WebSvrAddr +\r\n          \"/WebPage/html/notice/?lg_tk=\" +\r\n          token +\r\n          \"&lg_ic=\" +\r\n          identityCode +\r\n          \"&sysID=L10&iFrame=true#/\"\r\n        }\r\n      ></iframe>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  // let { UIState, DataState, PublicState } = state;\r\n  // console.log(state)\r\n  return state;\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(Notice)));\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useMemo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Table from \"@/component/table\";\r\nimport { getCruitListByTeacher, applyTrain } from \"@/api/train\";\r\nimport moment from \"moment\";\r\nimport {autoAlert} from '@/util/public'\r\nimport { Search,  } from \"@/component/common\";\r\nfunction Train(props, ref) {\r\n  let {\r\n    history,\r\n    roleMsg: { schoolID, collegeID, selectLevel },\r\n  } = props;\r\n  const [keyword, setKeyword] = useState(\"\");\r\n  const [query, setQuery] = useState({\r\n    keyword,\r\n    schoolID,\r\n    collegeID,\r\n    selectLevel,\r\n  });\r\n  const [SearchValue, setSearchValue] = useState(\"\");\r\n  // 获取table组件的ref\r\n  const tableRef = useRef({});\r\n  const typeList = {\r\n    0: {\r\n      className: \"table-time-bottom\",\r\n      title: \"--\",\r\n      handleType: 0,\r\n      handleTitle: \"报名\",\r\n      handleClassName: \"table-apply-btn-no\",\r\n    },\r\n    1: {\r\n      className: \"table-time-bottom-can\",\r\n      title: \"可报名\",\r\n      handleType: 1,\r\n      handleTitle: \"报名\",\r\n      handleClassName: \"table-apply-btn-no\",\r\n      action: 1,\r\n    },\r\n    2: {\r\n      className: \"table-time-bottom-no\",\r\n      title: \"\",\r\n      handleType: 0,\r\n      handleTitle: \"报名\",\r\n      handleClassName: \"table-apply-btn-no\",\r\n    },\r\n    3: {\r\n      className: \"table-time-bottom-will\",\r\n      title: \"未开始\",\r\n      handleType: 0,\r\n      handleTitle: \"报名\",\r\n      handleClassName: \"table-apply-btn-no\",\r\n    },\r\n    4: {\r\n      className: \"table-time-bottom-end\",\r\n      title: \"已截止\",\r\n      handleType: 0,\r\n      handleTitle: \"报名\",\r\n      handleClassName: \"table-apply-btn-no\",\r\n    },\r\n    5: {\r\n      className: \"table-time-bottom-done\",\r\n      title: \"已报名\",\r\n      handleType: 2,\r\n      handleTitle: \"取消报名\",\r\n      handleClassName: \"table-apply-btn\",\r\n      action: 0,\r\n    },\r\n  };\r\n\r\n  const columns = useMemo(() => {\r\n    // table 的宽度最小为1040，各个列的width按这个来算1040/1200*设计图的width\r\n    // let widthRate = 1040 / 1200;\r\n    return [\r\n      {\r\n        // title: \"序号\",\r\n        dataIndex: \"index\",\r\n        align: \"center\",\r\n        width: 70,\r\n        textWrap: \"word-break\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-index\" title={data}>\r\n              {data}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"标题\",\r\n        width: 345,\r\n        // dataIndex: \"title\",\r\n        render: (data) => {\r\n          let { title, TID } = data;\r\n          return (\r\n            <span\r\n              onClick={() => {\r\n                history.push(\"/trainDetail/\" + TID);\r\n              }}\r\n              className=\"table-title\"\r\n              title={title}\r\n            >\r\n              {title ? title : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"发布单位\",\r\n        align: \"center\",\r\n        width: 120,\r\n        dataIndex: \"source\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-source\" title={data}>\r\n              {data}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n\r\n      {\r\n        title: \"报名时间\",\r\n        align: \"center\",\r\n        width: 230,\r\n        // dataIndex: \"ApplyEndTime\",\r\n        render: (data) => {\r\n          let {\r\n            ApplyEndTime,\r\n            ApplyBeginTime,\r\n            HasApplied,\r\n            ApplyFlag,\r\n            ApplyStatus,\r\n          } = data;\r\n          //   ApplyStatus=5\r\n          // \"ApplyStatus\":5,        //当前报名状态：1可报名，2人数达到上限，3未开始，4已结束，5已报名\r\n          let type = typeList[ApplyStatus];\r\n          // 是否有效\r\n          let canApply = moment() < moment(ApplyEndTime);\r\n          return (\r\n            <span className=\"table-time\" title={ApplyEndTime}>\r\n              {ApplyStatus ? (\r\n                <>\r\n                  <span className=\"table-time-top\">\r\n                    {ApplyEndTime && ApplyBeginTime\r\n                      ? ApplyEndTime + \"~\" + ApplyEndTime\r\n                      : \"--\"}\r\n                  </span>\r\n                  {typeList[ApplyStatus].title ? (\r\n                    <span\r\n                      className={`table-time-bottom ${typeList[ApplyStatus].className}`}\r\n                    >\r\n                      {typeList[ApplyStatus].title}\r\n                    </span>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </>\r\n              ) : (\r\n                \"--\"\r\n              )}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"报名人数/限额\",\r\n        align: \"center\",\r\n        width: 137,\r\n        // dataIndex: \"publisher\",\r\n        render: (data) => {\r\n          let { Limit, ApplyCount, ApplyFlag } = data;\r\n          let title =\r\n            (ApplyCount ? ApplyCount : 0) + \"/\" + (Limit ? Limit : \"--\");\r\n          return (\r\n            <span className=\"table-limit\" title={title}>\r\n              <span className=\"table-limit-count\">\r\n                {ApplyFlag ? title : \"--\"}\r\n              </span>\r\n              {ApplyFlag && ApplyCount && ApplyCount === Limit ? (\r\n                <span className=\"table-limit-no\">满员</span>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"培训方式\",\r\n        align: \"center\",\r\n        width: 120,\r\n        dataIndex: \"ActivityFlag\",\r\n        render: (data) => {\r\n          let ActivityList = [\r\n            { value: 1, title: \"线上\" },\r\n            { value: 0, title: \"线下\" },\r\n          ];\r\n          let title = ActivityList[parseInt(data)]\r\n            ? ActivityList[parseInt(data)].title\r\n            : \"--\";\r\n          return (\r\n            <span\r\n              className={`table-activity table-activity-${data}`}\r\n              title={title}\r\n            >\r\n              {title}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"操作\",\r\n        align: \"center\",\r\n        width: 130,\r\n\r\n        // dataIndex: \"time\",\r\n        render: (data) => {\r\n          let { ApplyStatus, ApplyFlag } = data;\r\n          let type = typeList[ApplyStatus];\r\n        //   console.log(type, typeList, ApplyStatus, data);\r\n          return (\r\n            <span className=\"table-handle\">\r\n              {type.handleType ? (\r\n                <span\r\n                  className={`table-apply-btn ${type.handleClassName}`}\r\n                  onClick={() => {\r\n                    //   history.push(\"/editTrain/\" + data.TID);\r\n                    ApplyTrain({ TID: data.TID, Action: type.action }, () => {\r\n                      autoAlert({\r\n                        title: type.handleTitle + \"成功\",\r\n                        type: \"warn\",\r\n                        autoHide:true\r\n                        // cancelShow: true,\r\n                      });\r\n                      tableRef.current.reloadList()\r\n                    });\r\n\r\n                  }}\r\n                >\r\n                  {type.handleTitle}\r\n                </span>\r\n              ) : (\r\n                \"--\"\r\n              )}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n    ];\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  // 报名\r\n  const ApplyTrain = useCallback(\r\n    (param, success = () => {}, error = () => {}) => {\r\n      applyTrain(param).then((res) => {\r\n        if (res.result) {\r\n          success();\r\n        } else {\r\n          error();\r\n        }\r\n      });\r\n    },\r\n    []\r\n  );\r\n  \r\n  return (\r\n    <div className=\"frame-type-route teacher-train\">\r\n      <div className=\"tt-handle-top\">\r\n        <Search\r\n          width={264}\r\n          placeHolder={\"请输入关键词进行搜索...\"}\r\n          className=\"tht-search\"\r\n          Value={SearchValue}\r\n          onChange={(e) => {\r\n            setSearchValue(e.target.value);\r\n          }}\r\n          onClickSearch={(e) => {\r\n            setKeyword(e.value);\r\n            setQuery({ schoolID, collegeID, keyword: e.value, selectLevel });\r\n          }}\r\n          onCancelSearch={(e) => {\r\n            setSearchValue(\"\");\r\n            setKeyword(\"\");\r\n          }}\r\n        ></Search>\r\n      </div>\r\n      {/* <input placeholder></input> */}\r\n      <Table\r\n        className=\"tt-table\"\r\n        columns={columns}\r\n        // dataSource={data}\r\n        prepare={!!query.selectLevel}\r\n        query={query}\r\n        onDataChange={(data) => {}}\r\n        ref={tableRef}\r\n        api={getCruitListByTeacher}\r\n      ></Table>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Train))));\r\n","/*\r\n *\r\n *    ┏┓　　　┏┓\r\n *  ┏┛┻━━━┛┻┓\r\n *  ┃　　　　　　　┃\r\n *  ┃　　　━　　　┃\r\n *  ┃　＞　　　＜　┃\r\n *  ┃　　　　　　　┃\r\n *  ┃...　⌒　...　┃\r\n *  ┃　　　　　　　┃\r\n *  ┗━┓　　　┏━┛\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃  神兽保佑\r\n *      ┃　　　┃  代码无bug\r\n *      ┃　　　┃\r\n *      ┃　　　┗━━━┓\r\n *      ┃　　　　　　　┣┓\r\n *      ┃　　　　　　　┏┛\r\n *      ┗┓┓┏━┳┓┏┛\r\n *        ┃┫┫　┃┫┫\r\n *        ┗┻┛　┗┻┛\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 11:46:56\r\n * @LastEditTime: 2020-12-22 21:37:44\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\api\\personal.js\r\n */\r\nimport fetch from \"../util/fetch\";\r\nimport ipConfig from \"../util/ipConfig\";\r\nimport moment from \"moment\";\r\nimport { deepMap, SetNaNToNumber,transTime } from \"../util/public\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description:获取画像列表 http://192.168.129.1:8033/showdoc/web/#/21?page_id=2081\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getTeacherList(payload = {}) {\r\n  let {\r\n    pageIndex,\r\n    pageSize,\r\n    keyword,\r\n    schoolID,\r\n    collegeID,\r\n    nodeType,\r\n    nodeID,\r\n    sortFiled,\r\n    sortType,\r\n  } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Teacher/List?SchoolID=${schoolID ? schoolID : \"\"}&NodeID=${\r\n      nodeID ? nodeID : \"\"\r\n    }&PageIndex=${pageIndex ? pageIndex : 1}&PageSize=${\r\n      pageSize ? pageSize : 10\r\n    }&Keyword=${keyword ? keyword : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }&NodeType=${nodeType ? nodeType : \"\"}${\r\n      sortFiled ? \"&SortFiled=\" + sortFiled : \"\"\r\n    }${sortType ? \"&SortType=\" + sortType : \"\"}`;\r\n\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: {\r\n            //     \"Total\":50,\r\n            // \"PageIndex\":1,\r\n            // \"List\":[{\r\n            //     \"UserID\":\"T001\",        //ID，唯一标识\r\n            //     \"UserName\":\"白老师\",    //标题\r\n            //     \"SchoolID\":\"S-11\",\r\n            //     \"SchoolName\":\"白云中学\",\r\n            //     \"Gender\":\"女\",\r\n            //     \"TitleName\":\"一级教师\",            //职称\r\n            //     \"Politics\":\"中共党员\",    //政治面貌\r\n            //     \"TeachAge\":2年,                  //教龄\r\n            //     \"HonorNames\":\"学科带头人,特级教师\"\r\n            // }]\r\n            ...json.Data,\r\n            List:\r\n              json.Data.List instanceof Array\r\n                ? json.Data.List.map((child, index) => {\r\n                    let Index = (json.Data.PageIndex - 1) * 10 + index + 1;\r\n                    Index = Index >= 10 ? Index : \"0\" + Index;\r\n                    return {\r\n                      ...child,\r\n                      key: index,\r\n                      index: Index,\r\n                    };\r\n                  })\r\n                : [],\r\n            PageSize: pageSize,\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2081\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getNode(payload = {}) {\r\n  let { schoolID, collegeID } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Teacher/GetNode?SchoolID=${schoolID ? schoolID : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        let data = [[], {}];\r\n        json.Data instanceof Array &&\r\n          deepMap(\r\n            json.Data,\r\n            ({ child: { NodeID, NodeName, NodeType }, level,indexArray }) => {\r\n              if (level === 1) {\r\n                data[0].push({\r\n                  value: NodeID,\r\n                  title: NodeName,\r\n                  nodeType: NodeType,\r\n                });\r\n              } else if (level === 2) {\r\n                let parentID = json.Data[indexArray[0]].NodeID\r\n                if (data[1][parentID] instanceof Array) {\r\n                  data[1][parentID].push({\r\n                    value: NodeID,\r\n                    title: NodeName,\r\n                    nodeType: NodeType,\r\n                  });\r\n                } else {\r\n                  data[1][parentID] = [\r\n                    { value: NodeID, title: NodeName, nodeType: NodeType },\r\n                  ];\r\n                }\r\n              }\r\n            },\r\n            \"SubSet\"\r\n          );\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: data,\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n/**\r\n * @description:  获取各个系统url\r\n * @param {*sysIDs}\r\n * @return {*}\r\n */\r\nexport function GetSubSystemsMainServerBySubjectID(payload = {}) {\r\n  let { sysIDs, baseIP } = payload;\r\n  sysIDs = sysIDs instanceof Array ? sysIDs : [];\r\n  let url =\r\n    baseIP +\r\n    `/BaseApi/Global/GetSubSystemsMainServerBySubjectID?appid=000&access_token=4d39af1bff534514e24948568b750f6c&subjectID=&sysIDs=${sysIDs.join(\r\n      \",\"\r\n    )}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        let data = {};\r\n        if (json.Data instanceof Array) {\r\n          json.Data.forEach((child) => {\r\n            data[child.SysID] = child;\r\n          });\r\n        }\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: data,\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n\r\nexport function GetUserDetailForHX(payload = {}) {\r\n  let { userID, baseIP } = payload;\r\n  let url =\r\n    baseIP +\r\n    `/UserMgr/UserInfoMgr/GetUserDetailForHX?UserID=${userID}&UserType=1`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        let data = json.Data ? json.Data : {};\r\n\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          Data: { ...data, UserID: userID },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n\r\nexport function getTeacherDetailIntroduction(payload = {}) {\r\n  let { userID, baseIP } = payload;\r\n  let url = baseIP + `admin/getTeacherDetailIntroduction?teacherId=${userID}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2, advance: false })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.code === 0) {\r\n        let data = {};\r\n        if (json.data) {\r\n          // json.data.educationBackgroundDetailData = [\r\n          //   {\r\n          //     id: 7,\r\n          //     teacherIntroductionId: 3,\r\n          //     eduStage: 2,\r\n          //     currentSchool: \"南昌大学\",\r\n          //     extend1: null,\r\n          //     extend2: null,\r\n          //     startTime: \"1990-01-02 00:00:00\",\r\n          //     endTime: \"1992-02-20 00:00:00\",\r\n          //   },\r\n          //   {\r\n          //     id: 7,\r\n          //     teacherIntroductionId: 3,\r\n          //     eduStage: 2,\r\n          //     currentSchool: \"南昌大学\",\r\n          //     extend1: null,\r\n          //     extend2: null,\r\n          //     startTime: \"1990-01-02 00:00:00\",\r\n          //     endTime: \"1992-02-20 00:00:00\",\r\n          //   },\r\n          //   {\r\n          //     id: 7,\r\n          //     teacherIntroductionId: 3,\r\n          //     eduStage: 2,\r\n          //     currentSchool: \"南昌大学\",\r\n          //     extend1: null,\r\n          //     extend2: null,\r\n          //     startTime: \"1990-01-02 00:00:00\",\r\n          //     endTime: \"1992-02-20 00:00:00\",\r\n          //   },\r\n          //   {\r\n          //     id: 7,\r\n          //     teacherIntroductionId: 3,\r\n          //     eduStage: 2,\r\n          //     currentSchool: \"南昌大学\",\r\n          //     extend1: null,\r\n          //     extend2: null,\r\n          //     startTime: \"1990-01-02 00:00:00\",\r\n          //     endTime: \"1992-02-20 00:00:00\",\r\n          //   },\r\n          //   {\r\n          //     id: 7,\r\n          //     teacherIntroductionId: 3,\r\n          //     eduStage: 2,\r\n          //     currentSchool: \"南昌大学\",\r\n          //     extend1: null,\r\n          //     extend2: null,\r\n          //     startTime: \"1990-01-02 00:00:00\",\r\n          //     endTime: \"1992-02-20 00:00:00\",\r\n          //   },\r\n          // ]\r\n          let EducationBackgroundDetailData = [];\r\n          if (json.data.educationBackgroundDetailData instanceof Array) {\r\n            let eduCard = []; //两个一个轮播\r\n            json.data.educationBackgroundDetailData.forEach((child, index) => {\r\n              if (\r\n                eduCard.length === 2 ||\r\n                index === json.data.educationBackgroundDetailData.length - 1\r\n              ) {\r\n                EducationBackgroundDetailData.push(eduCard);\r\n                eduCard = [];\r\n              } else {\r\n                eduCard.push(child);\r\n              }\r\n            });\r\n          }\r\n          data = {\r\n            ...json.data,\r\n            EducationBackgroundDetailData,\r\n          };\r\n        }\r\n        // accessToken: null\r\n        // appId: null\r\n        // birthday: null\r\n        // degree: null\r\n        // educationBackground: null\r\n        // educationBackgroundDetail: null\r\n        // email: null\r\n        // id: null\r\n        // nation: null\r\n        // nativeSpace: null\r\n        // photoPath: \"http://192.168.129.64:20103/http_basic/UserInfo/Photo/Default/Nopic.jpg\"\r\n        // politicStatus: null\r\n        // professionalTitle: \"一级教师\"\r\n        // qq: \"\"\r\n        // telePhone: \"\"\r\n        // userId: \"gy2\"\r\n        // userName: \"甘月\"\r\n        // weibo: \"\"\r\n        // weixin: \"\"\r\n        // workExperience: null\r\n        return {\r\n          StatusCode: 200,\r\n          Data: data,\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: 400,\r\n        };\r\n      }\r\n    });\r\n}\r\n\r\n// 获取周次\r\nexport function GetTermAndPeriodAndWeekNOInfo(payload = {}) {\r\n  let { userID, baseIP, schoolID } = payload;\r\n  let url =\r\n    baseIP +\r\n    `/Schedule/api//GetTermAndPeriodAndWeekNOInfo?UserID=${userID}&UserType=1&schoolId=${schoolID}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        let data = {};\r\n        let StatusCode = json.StatusCode;\r\n        if (json.Data && json.Data.ItemWeek instanceof Array) {\r\n          let WeekList = [];\r\n          let NowWeekSelect;\r\n          let NowWeek = json.Data.WeekNO;\r\n          if (NowWeek > json.Data.ItemWeek.length || NowWeek <= 0) {\r\n            NowWeek = 1;\r\n          }\r\n          json.Data.ItemWeek.forEach((child) => {\r\n            let data = {\r\n              startTime: moment(child.StartDate).format(\"YYYY-MM-DD HH:mm:ss\"),\r\n              endTime: moment(child.EndDate).format(\"YYYY-MM-DD HH:mm:ss\"),\r\n              value: child.WeekNO,\r\n              title: \"第\" + child.WeekNO + \"周\",\r\n            };\r\n            WeekList.push(data);\r\n            if (NowWeek === child.WeekNO) {\r\n              NowWeekSelect = data;\r\n            }\r\n          });\r\n          data = { ...json.Data };\r\n          data.WeekList = WeekList;\r\n          data.NowWeekSelect = NowWeekSelect;\r\n        } else {\r\n          StatusCode = 401;\r\n        }\r\n        return {\r\n          StatusCode: StatusCode,\r\n          Data: { ...data },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n// 电子资源\r\nexport function GetTeacherResView(payload = {}) {\r\n  let {\r\n    userID,\r\n    baseIP,\r\n    proxy,\r\n    schoolID,\r\n    token,\r\n    subjectNames,\r\n    startTime,\r\n    subjectIDs,\r\n    endTime,\r\n  } = payload;\r\n  let url =\r\n    proxy +\r\n    `/api/Public/GetTeacherResView?SchoolID=${schoolID}&TeacherID=${userID}&Token=${token}&SubjectIDs=${subjectIDs}&SubjectNames=${subjectNames}&startTime=${startTime}&endTime=${endTime}`;\r\n  return (\r\n    fetch\r\n      .tranfer({ reqUrl: url, basicProxy: baseIP, token })\r\n      // .then((res) => res.json())\r\n      .then((json) => {\r\n        if (json.error === 0 && json.data) {\r\n          let data = {};\r\n          let StatusCode = 200;\r\n          //         \"TeacherID\":\"t0001\",\r\n          // \"Url\":\"/xxxxxxxxx\",\r\n          // \"UploadCount\":\"500\",\r\n          // \"BrowseCount\":\"1290\",\r\n          // \"UploadAllScale\":\"0.236\",\r\n          // \"UploadSubjectScale\":[{\r\n          // \t\"SubjectScale\":\"0.562\",\r\n          // \t\"SubjectID\":\"\",\r\n          // \t\"SubjectName\":\"\"\r\n          // }]\r\n\r\n          let {\r\n            UploadCount,\r\n            UploadAllScale,\r\n            BrowseCount,\r\n            Url,\r\n            UploadSubjectScale,\r\n          } = json.data;\r\n          data.AllCount = SetNaNToNumber(UploadCount);\r\n          data.AllScale = SetNaNToNumber(UploadAllScale) * 100;\r\n          data.UseCount = SetNaNToNumber(BrowseCount);\r\n          data.Url = Url ? proxy + Url + \"?lg_tk=\" + token : \"\";\r\n          data.AllSubject = [];\r\n          UploadSubjectScale instanceof Array &&\r\n            UploadSubjectScale.forEach((child) => {\r\n              data.AllSubject.push({\r\n                SubjectName: child.SubjectName,\r\n                SUbjectID: child.SubjectID,\r\n                Scale: SetNaNToNumber(child.SubjectScale) * 100,\r\n              });\r\n            });\r\n          return {\r\n            StatusCode: StatusCode,\r\n            Data: { ...data },\r\n          };\r\n        } else {\r\n          return {\r\n            StatusCode: 400,\r\n          };\r\n        }\r\n      })\r\n  );\r\n}\r\n\r\n// 教学方案\r\nexport function GetTeachPlanStatistics(payload = {}) {\r\n  let {\r\n    userID,\r\n    baseIP,\r\n    proxy,\r\n    // schoolID,\r\n    token,\r\n    // subjectNames,\r\n    startTime,\r\n    // subjectIDs,\r\n    endTime,\r\n  } = payload;\r\n  let url =\r\n    proxy +\r\n    `TeachingPlan/ApiForOutside/GetTeachPlanStatistics?UserID=${userID}&StartTime=${startTime}&EndTime=${endTime}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200 && json.Data) {\r\n        let data = {};\r\n        let StatusCode = 200;\r\n        //         \"TeacherID\":\"t0001\",\r\n        // \"Url\":\"/xxxxxxxxx\",\r\n        // \"UploadCount\":\"500\",\r\n        // \"BrowseCount\":\"1290\",\r\n        // \"UploadAllScale\":\"0.236\",\r\n        // \"UploadSubjectScale\":[{\r\n        // \t\"SubjectScale\":\"0.562\",\r\n        // \t\"SubjectID\":\"\",\r\n        // \t\"SubjectName\":\"\"\r\n        // }]\r\n\r\n        let {\r\n          UploadCount,\r\n          UploadAllScale,\r\n          UseCount,\r\n          PCLink,\r\n          UploadSubjectScale,\r\n        } = json.Data;\r\n        data.AllCount = SetNaNToNumber(UploadCount);\r\n        data.AllScale = SetNaNToNumber(UploadAllScale) * 100;\r\n        data.UseCount = SetNaNToNumber(UseCount);\r\n        data.Url = PCLink ? proxy + PCLink + \"?lg_tk=\" + token : \"\";\r\n        data.AllSubject = [];\r\n        UploadSubjectScale instanceof Array &&\r\n          UploadSubjectScale.forEach((child) => {\r\n            data.AllSubject.push({\r\n              SubjectName: child.SubjectName,\r\n              SUbjectID: child.SubjectID,\r\n              Scale: SetNaNToNumber(child.SubjectScale) * 100,\r\n            });\r\n          });\r\n        // window.open(\r\n        //   Urls[\"300\"].WebUrl +\r\n        //     \"html/TeachingPlan/?subjectid=\" +\r\n        //     SubjectID +\r\n        //     \"&lg_tk=\" +\r\n        //     token +\r\n        //     \"&lg_ic=\" +\r\n        //     IdentityCode\r\n        // );\r\n        return {\r\n          StatusCode: StatusCode,\r\n          Data: { ...data },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: 400,\r\n        };\r\n      }\r\n    });\r\n}\r\n\r\n// 精品课程\r\nexport function GetTeacherpercentage(payload = {}) {\r\n  let {\r\n    userID,\r\n    baseIP,\r\n    proxy,\r\n    schoolID,\r\n    token,\r\n    subjectNames,\r\n    startTime,\r\n    subjectIDs,\r\n    endTime,\r\n  } = payload;\r\n  let url =\r\n    proxy +\r\n    `api/common/teacherpercentage?schoolId=${schoolID}&TeacherID=${userID}&StartTime=${startTime}&EndTime=${endTime}`;\r\n  return (\r\n    fetch\r\n      .tranfer({ reqUrl: url, basicProxy: baseIP, token })\r\n      // .then((res) => res.json())\r\n      .then((json) => {\r\n        // console.log(json);\r\n        if (json.code === 0 && json.data) {\r\n          let data = {};\r\n          let StatusCode = 200;\r\n          //         \"TeacherID\":\"t0001\",\r\n          // \"Url\":\"/xxxxxxxxx\",\r\n          // \"UploadCount\":\"500\",\r\n          // \"BrowseCount\":\"1290\",\r\n          // \"UploadAllScale\":\"0.236\",\r\n          // \"UploadSubjectScale\":[{\r\n          // \t\"SubjectScale\":\"0.562\",\r\n          // \t\"SubjectID\":\"\",\r\n          // \t\"SubjectName\":\"\"\r\n          // }]\r\n\r\n          let {\r\n            uploadCount,\r\n            uploadAllScale,\r\n            browseCount,\r\n            url,\r\n            uploadSubjectScale,\r\n          } = json.data;\r\n          data.AllCount = SetNaNToNumber(uploadCount);\r\n          data.AllScale = SetNaNToNumber(uploadAllScale) * 100;\r\n          data.UseCount = SetNaNToNumber(browseCount);\r\n          data.Url = url ? decodeURIComponent(url) + \"?lg_tk=\" + token : \"\"; //教师才能看\r\n          data.AllSubject = [];\r\n          uploadSubjectScale instanceof Array &&\r\n            uploadSubjectScale.forEach((child) => {\r\n              data.AllSubject.push({\r\n                SubjectName: child.subjectName,\r\n                SUbjectID: child.subjectID,\r\n                Scale: SetNaNToNumber(child.subjectScale) * 100,\r\n              });\r\n            });\r\n          console.log(data.Url);\r\n          return {\r\n            StatusCode: StatusCode,\r\n            Data: { ...data },\r\n          };\r\n        } else {\r\n          return {\r\n            StatusCode: 400,\r\n          };\r\n        }\r\n      })\r\n  );\r\n}\r\n\r\n// 获取学期\r\nexport function GetAllTerm(payload = {}) {\r\n  let { proxy } = payload;\r\n  let url = proxy + `/getAllTerm`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2, advance: false })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.code === 0) {\r\n        let data = [];\r\n        let StatusCode = 200;\r\n        if (json.data instanceof Array && json.data.length > 0) {\r\n          json.data.forEach((child) => {\r\n            data.push({\r\n              value: child.term,\r\n              title: constructTerm(child.term),\r\n            });\r\n          });\r\n        } else {\r\n          StatusCode = 401;\r\n        }\r\n        return {\r\n          StatusCode: StatusCode,\r\n          Data: data,\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n\r\nlet constructTerm = (Term) => {\r\n  if (Term.includes(\"-\")) {\r\n    let Term1 = Term.slice(0, Term.length - 2);\r\n    let Term2 = Term.slice(Term.length - 2, Term.length);\r\n    let TermC = \"\";\r\n    if (Term2 === \"01\") {\r\n      TermC = \"第一学期\";\r\n    } else if (Term2 === \"02\") {\r\n      TermC = \"第二学期\";\r\n    }\r\n    return Term1 + \"学年\" + TermC;\r\n  }\r\n  return \"\";\r\n};\r\n\r\nexport function GetTeacherWork(payload = {}) {\r\n  let { userName, proxy, semester, pageSize, pageNum, token } = payload;\r\n  let url =\r\n    proxy +\r\n    `/admin/getTeacherWork?userName=${userName}&pageNum=${1}&pageSize=${10000}&token=${token}&semester=${semester}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2, advance: false })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.code === 0) {\r\n        let data = {};\r\n        let StatusCode = 200;\r\n        if (\r\n          json.data &&\r\n          json.data.data instanceof Array &&\r\n          json.data.data.length > 0\r\n        ) {\r\n          //           pageCount: 1\r\n          // pageNum: 1\r\n          // pageSize: 10000\r\n          // totalCount: 1\r\n          //data:[{}]\r\n          // json.data.data为数组，拿第一个\r\n          let {\r\n            administrativeClassNum, //行政班数\r\n            classNum, //教学班数\r\n            invigilationNum, //监考数\r\n            scheduleCount, //课程\r\n          } = json.data.data[0];\r\n          data = [\r\n            SetNaNToNumber(scheduleCount),\r\n            SetNaNToNumber(administrativeClassNum),\r\n            SetNaNToNumber(classNum),\r\n            SetNaNToNumber(invigilationNum),\r\n          ];\r\n        } else {\r\n          StatusCode = 40001;\r\n        }\r\n\r\n        return {\r\n          StatusCode: StatusCode,\r\n          Data: data,\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: 400,\r\n        };\r\n      }\r\n    });\r\n}\r\n/**\r\n * @description: 教研统计\r\n * @param {*} payload\r\n * @return {*}\r\n */\r\nexport function GetResearchByUserID(payload = {}) {\r\n  let { userID, baseIP } = payload;\r\n  let url =\r\n    BasicProxy + `/Statistics/Basic/GetResearchByUserID?UserID=${userID}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200 && json.Data) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          Data: [\r\n            json.Data.ProjectCount,\r\n            json.Data.CompletedCount,\r\n            json.Data.ActivityCount,\r\n          ],\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: 400,\r\n        };\r\n      }\r\n    });\r\n}\r\n/**\r\n * @description: 个人发展\r\n * @param {*} payload\r\n * @return {*}\r\n */\r\nexport function GetDevelopmentHistory(payload = {}) {\r\n  let { userID, baseIP } = payload;\r\n  let url =\r\n    BasicProxy + `/Statistics/Basic/GetDevelopmentHistory?UserID=${userID}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200 && json.Data instanceof Array) {\r\n        let data = json.Data.map((child, index) => {\r\n          return {\r\n            title: child.ChangeDetail,\r\n            time: child.ChangeTime,\r\n            ...child,\r\n          };\r\n        });\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          Data: data,\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: 400,\r\n        };\r\n      }\r\n    });\r\n}\r\n\r\nexport function GetLogInfoByUserID(payload = {}) {\r\n  let { userID, baseIP } = payload;\r\n  let url =\r\n    BasicProxy + `/Statistics/Basic/GetLogInfoByUserID?UserID=${userID}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200 && json.Data) {\r\n        // 雷达\r\n        let DayTimeList = [\r\n          {\r\n            Time: \"06:00~09:00\",\r\n            Count: 0,\r\n          },\r\n          {\r\n            Time: \"09:00~12:00\",\r\n            Count: 0,\r\n          },\r\n          {\r\n            Time: \"12:00~15:00\",\r\n            Count: 0,\r\n          },\r\n          {\r\n            Time: \"15:00~18:00\",\r\n            Count: 0,\r\n          },\r\n          {\r\n            Time: \"18:00~21:00\",\r\n            Count: 0,\r\n          },\r\n          {\r\n            Time: \"21:00~23:59\",\r\n            Count: 0,\r\n          },\r\n        ];\r\n        DayTimeList[0].Count = json.Data[\"T0609\"] || 0;\r\n        DayTimeList[1].Count = json.Data[\"T0912\"] || 0;\r\n        DayTimeList[2].Count = json.Data[\"T1215\"] || 0;\r\n        DayTimeList[3].Count = json.Data[\"T1518\"] || 0;\r\n        DayTimeList[4].Count = json.Data[\"T1821\"] || 0;\r\n        DayTimeList[5].Count = json.Data[\"T2124\"] || 0;\r\n        let {\r\n          TimeSpan, //累计上机时长\r\n          DayAvgTimeSpan, //累计上机时长\r\n          // LoginCount, //上机总次数\r\n          AvgLoginTimeSpan, //平均每次上机时长\r\n        } = json.Data;\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          Data: {\r\n            ...json.Data,\r\n            TimeSpan: transTime(parseFloat(TimeSpan).toFixed(2),'m',).Time_En_Low, //累计上机时长\r\n            DayAvgTimeSpan:transTime(parseFloat(DayAvgTimeSpan).toFixed(2),'m',).Time_En_Low, //累计上机时长\r\n            // LoginCount:transTime(LoginCount,'m','h').time, //上机总次数\r\n            AvgLoginTimeSpan:transTime(parseFloat(AvgLoginTimeSpan).toFixed(2),'m',).Time_En_Low, //平均每次上机时长\r\n            DayTimeList,\r\n            DayOnlineList: [],\r\n          }, //现在DayOnlineList暂时没有\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: 400,\r\n        };\r\n      }\r\n    });\r\n}\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  useMemo,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport { Dropdown, Search } from \"../../component/common\";\r\nimport Table from \"../../component/table\";\r\nimport { getTeacherList, getNode } from \"../../api/personal\";\r\n// import { handleRoute } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n//   import { Reducer, Context, initState } from \"./reducer\";\r\nfunction PersonalList(props, ref) {\r\n  let {\r\n    location,\r\n    history,\r\n    roleMsg: { productLevel, schoolID, collegeID },\r\n    levelHash,\r\n    contentHW: { height },\r\n  } = props;\r\n  const [SearchValue, setSearchValue] = useState(\"\");\r\n  // 获取当前级别的信息\r\n  const levelMsg = useMemo(() => {\r\n    return levelHash[productLevel]\r\n      ? levelHash[productLevel]\r\n      : {\r\n          productLevel: 1,\r\n          selectLevel: 1,\r\n          title: \"\",\r\n          sub: \"\",\r\n          belong: \"\",\r\n          belondName: \"\",\r\n        };\r\n  }, [levelHash, productLevel]);\r\n  // 学校node\r\n  const [SchoolList, setSchoolList] = useState([\r\n    { value: \"\", title: \"全部学校\" },\r\n  ]);\r\n  // 第一node\r\n  const [FirstNodeList, setFirstNodeList] = useState([\r\n    { value: \"\", title: \"全部\" + levelMsg.sub },\r\n  ]);\r\n  // 第二node,只有大学学校级别才有才有\r\n  const [SecondNodeList, setSecondNodeList] = useState([\r\n    { value: \"\", title: \"全部教研室\" },\r\n  ]);\r\n  // 保存第二级所有节点\r\n  const [SecondNodeObj, setSecondNodeObj] = useState({});\r\n  // 下拉选择\r\n  const [firstSelect, setFirstSelect] = useState(\"\");\r\n  const [secondSelect, setSecondSelect] = useState(\"\");\r\n  const [query, setQuery] = useState({\r\n    keyword: \"\",\r\n    schoolID: productLevel === 1 ? \"\" : schoolID,\r\n    nodeID: \"\",\r\n    nodeType: \"\",\r\n  });\r\n\r\n  // 初始化列表\r\n  useEffect(() => {\r\n    // 非教育局，使用node\r\n    if (productLevel !== 1) {\r\n      getNode({ collegeID, schoolID }).then((res) => {\r\n        if (res.StatusCode === 200) {\r\n          console.log(res)\r\n          setFirstNodeList([\r\n            { value: \"\", title: \"全部\" + levelMsg.sub },\r\n            ...res.data[0],\r\n          ]);\r\n          setSecondNodeObj(res.data[1]);\r\n        }\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [productLevel]);\r\n  // 获取table组件的ref\r\n  const tableRef = useRef({});\r\n\r\n  const columns = useMemo(() => {\r\n    let widthRate = 1040 / 1200;\r\n    return [\r\n      {\r\n        title: \"教师姓名\",\r\n        // dataIndex: \"index\",\r\n        key: \"UserName\",\r\n        align: \"left\",\r\n        width: 190 * widthRate,\r\n        sorter: true,\r\n        render: (data) => {\r\n          let { UserName, PhotoPath } = data;\r\n          return (\r\n            <span className=\"table-name\" title={UserName}>\r\n              <i\r\n                style={{\r\n                  background: `url(${PhotoPath})no-repeat center 0/24px`,\r\n                }}\r\n              ></i>\r\n              {UserName ? UserName : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"工号\",\r\n        width: 150 * widthRate,\r\n        sorter: true,\r\n        key: \"UserID\",\r\n        align: \"center\",\r\n        dataIndex: \"UserID\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-userid\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: levelMsg.belongBefore + levelMsg.belong,\r\n        sorter: true,\r\n        align: \"center\",\r\n        key: levelMsg.belondName,\r\n\r\n        width: 150 * widthRate,\r\n        // dataIndex: \"source\",\r\n        render: (data) => {\r\n          let name = data[levelMsg.belondName];\r\n          return (\r\n            <span className=\"table-belondName\" title={name}>\r\n              {name ? name : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n\r\n      {\r\n        title: \"性别\",\r\n        sorter: true,\r\n        align: \"center\",\r\n        key: \"Gender\",\r\n\r\n        width: 95 * widthRate,\r\n        dataIndex: \"Gender\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-Gender\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"教龄\",\r\n        sorter: true,\r\n        key: \"TeachAge\",\r\n        align: \"center\",\r\n        width: 95 * widthRate,\r\n        dataIndex: \"TeachAge\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-TeachAge\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n\r\n      {\r\n        title: \"政治面貌\",\r\n        sorter: true,\r\n        key: \"PoliticsCode\",\r\n        align: \"center\",\r\n        width: 120 * widthRate,\r\n        dataIndex: \"Politics\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-Politics\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"教师职称\",\r\n        sorter: true,\r\n        key: \"TitleCode\",\r\n        align: \"center\",\r\n        width: 120 * widthRate,\r\n        dataIndex: \"TitleName\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-TitleName\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"荣誉称号\",\r\n        align: \"center\",\r\n        width: 140 * widthRate,\r\n        dataIndex: \"HonorNames\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-HonorNames\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"查看画像\",\r\n        align: \"center\",\r\n        width: 140 * widthRate,\r\n\r\n        // dataIndex: \"time\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-handle\">\r\n              <span\r\n                className=\" btn-check\"\r\n                onClick={() => {\r\n                  // history.push(\"/personalDetail/\" + data.UserID);\r\n                  window.open(\r\n                    window.location.search +\r\n                      \"#/page/personalDetail/\" +\r\n                      data.UserID\r\n                  );\r\n                }}\r\n              ></span>\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n    ];\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [levelMsg]);\r\n  return (\r\n    <div className=\"PersonalList\" style={{ height: height }}>\r\n      <div className=\"pl-top\">\r\n        <div className=\"plt-select\">\r\n          {productLevel === 1 ? (\r\n            <Dropdown\r\n              width={150}\r\n              height={240}\r\n              dropList={SchoolList}\r\n              title={\"学校\"}\r\n              value={query.schoolID}\r\n              className=\"school-dropdown\"\r\n              onChange={(e) => {}}\r\n              onSelect={(e, option) => {\r\n                setQuery({ ...query, schoolID: e });\r\n              }}\r\n            ></Dropdown>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {productLevel !== 1 ? (\r\n            <>\r\n              <Dropdown\r\n                width={150}\r\n                height={240}\r\n                dropList={FirstNodeList}\r\n                title={productLevel === 3 ? \"学科\" : \"教研室\"}\r\n                value={firstSelect}\r\n                className=\"first-dropdown\"\r\n                onChange={(e) => {}}\r\n                onSelect={(e, option) => {\r\n                  setQuery({ ...query, nodeID: e, nodeType: option.nodeType });\r\n                  setFirstSelect(e);\r\n                  console.log(SecondNodeObj[e],e,SecondNodeObj)\r\n                  setSecondNodeList(\r\n                    SecondNodeObj[e]\r\n                      ? SecondNodeObj[e]\r\n                      : [{ value: \"\", title: \"全部教研室\" }]\r\n                  );\r\n                }}\r\n              ></Dropdown>\r\n              {productLevel === 2 ? (\r\n                <Dropdown\r\n                  width={150}\r\n                  height={240}\r\n                  disabled={firstSelect === \"\"}\r\n                  dropList={SecondNodeList}\r\n                  value={secondSelect}\r\n                  className=\"second-dropdown\"\r\n                  onChange={(e) => {}}\r\n                  onSelect={(e, option) => {\r\n                    setQuery({\r\n                      ...query,\r\n                      nodeID: e,\r\n                      nodeType: option.nodeType,\r\n                    });\r\n                    setSecondSelect(e);\r\n                  }}\r\n                ></Dropdown>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n        <div className=\"plt-search\">\r\n          <Search\r\n            className=\"home-search\"\r\n            Value={SearchValue}\r\n            placeHolder={\"输入教师姓名/工号搜索\"}\r\n            onChange={(e) => {\r\n              setSearchValue(e.target.value);\r\n            }}\r\n            onClickSearch={(e) => {\r\n              setQuery({ ...query, keyword: SearchValue });\r\n            }}\r\n            onCancelSearch={(e) => {\r\n              setSearchValue(\"\");\r\n              setQuery({ ...query, keyword: \"\" });\r\n            }}\r\n          ></Search>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"pl-table\">\r\n        <Scrollbars>\r\n          <Table\r\n            className=\"Reacruit-table\"\r\n            columns={columns}\r\n            // dataSource={data}\r\n            // prepare={!!query.selectLevel}\r\n            query={query}\r\n            onDataChange={(data) => {}}\r\n            ref={tableRef}\r\n            api={getTeacherList}\r\n          ></Table>\r\n        </Scrollbars>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: { roleMsg, levelHash, contentHW },\r\n  } = state;\r\n  return { roleMsg, levelHash, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(\r\n  withRouter(memo(forwardRef(PersonalList)))\r\n);\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { getDataStorage } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\n//   import { Reducer, Context, initState } from \"./reducer\";\r\nfunction PersonalDetail(props, ref) {\r\n  let { id, BasicWebRootUrl,roleMsg:{\r\n    identityCode,\r\n  } ,contentHW:{\r\n    width\r\n  }} = props;\r\n\r\n  return (\r\n    <div className=\"PersonalDetail\">\r\n      <iframe\r\n      title={'教师画像详情'}\r\n      style={{width:width}}\r\n      className='PersonalDetail-frame'\r\n        src={\r\n          BasicWebRootUrl +\r\n          \"/html/userPersona/index.html?headerType=develop&userType=1&userID=\" +\r\n          id+'&lg_tk='+getDataStorage('token')+'&lg_ic='+identityCode\r\n        }\r\n      ></iframe>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: {\r\n      roleMsg,\r\n      basePlatFormMsg: { BasicWebRootUrl },contentHW\r\n    },\r\n  } = state;\r\n  return { roleMsg, BasicWebRootUrl,contentHW };\r\n};\r\nexport default connect(mapStateToProps)(\r\n  withRouter(memo(forwardRef(PersonalDetail)))\r\n);\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { handleRoute } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport PersonalList from \"./personalList\";\r\nimport PersonalDetail from \"./personalDetail\";\r\n//   import { Reducer, Context, initState } from \"./reducer\";\r\nfunction TeacherPersonal(props, ref) {\r\n  let {\r\n    location,\r\n    activeTab,\r\n    removeTab,\r\n    tabid,contentHW:{\r\n      height\r\n    },\r\n    param, //param控制显示的模块\r\n  } = props;\r\n  const [Component, setComponent] = useState(\"\");\r\n  const [ID, setID] = useState(\"\");\r\n  // const [state, setDispatch] = useReducer(Reducer, initState);\r\n  // let { component } = state;\r\n\r\n  useEffect(() => {\r\n    setComponent(param);\r\n  }, [param]);\r\n  // console.log(param,Component)\r\n  useEffect(() => {\r\n    if (location.pathname) {\r\n      let Path = handleRoute(location.pathname);\r\n      Path[0] === \"personalDetail\" && Path[1] && setID(Path[1]);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div className=\"TeacherPersonal\" style={{ height: height }}>\r\n      {Component === \"list\" ? <PersonalList></PersonalList> : <></>}\r\n      {Component === \"detail\" ? <PersonalDetail id={ID}></PersonalDetail> : <></>}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg,contentHW },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg ,contentHW};\r\n};\r\nexport default connect(mapStateToProps)(\r\n  withRouter(memo(forwardRef(TeacherPersonal)))\r\n);\r\n","/*\r\n * _______________#########_______________________\r\n * ______________############_____________________\r\n * ______________#############____________________\r\n * _____________##__###########___________________\r\n * ____________###__######_#####__________________\r\n * ____________###_#######___####_________________\r\n * ___________###__##########_####________________\r\n * __________####__###########_####_______________\r\n * ________#####___###########__#####_____________\r\n * _______######___###_########___#####___________\r\n * _______#####___###___########___######_________\r\n * ______######___###__###########___######_______\r\n * _____######___####_##############__######______\r\n * ____#######__#####################_#######_____\r\n * ____#######__##############################____\r\n * ___#######__######_#################_#######___\r\n * ___#######__######_######_#########___######___\r\n * ___#######____##__######___######_____######___\r\n * ___#######________######____#####_____#####____\r\n * ____######________#####_____#####_____####_____\r\n * _____#####________####______#####_____###______\r\n * ______#####______;###________###______#________\r\n * ________##_______####________####______________\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2021-01-08 09:02:54\r\n * @LastEditTime: 2021-01-08 09:02:55\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\component\\search\\hooks.js\r\n */\r\n\r\nimport {\r\n  useLayoutEffect,\r\n  useEffect,\r\n  useState,\r\n  useCallback,\r\n  useRef,\r\n  useMemo,\r\n} from \"react\";\r\nimport { changeToArray } from \"@/util/public\";\r\nexport function useSearchRequest(api, payload) {\r\n  const [result, setResult] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  useEffect(() => {\r\n    //   没住嗯备好\r\n    if (!payload) {\r\n      return;\r\n    }\r\n    let proList = [];\r\n    let Res = {};\r\n    // 转换为数组\r\n   let Api = changeToArray(api);\r\n\r\n    proList = Api.map(async (child) => {\r\n        setLoading(true)\r\n      if (typeof child === \"function\") {\r\n        let res = await child(payload);\r\n        if (res.StatusCode === 200) {\r\n          // proList.push(res.data);\r\n          return res.data;\r\n        }\r\n      }\r\n    });\r\n\r\n    Promise.all(proList).then((res) => {\r\n      res.forEach((child) => {\r\n        if (child) Res = { ...Res, ...child };\r\n      });\r\n      setResult(Res);\r\n      setLoading(false)\r\n    });\r\n  }, [api, payload]);\r\n\r\n  return [result,loading];\r\n}\r\n","/*\r\n *\r\n * 　　┏┓　　　┏┓+ +\r\n * 　┏┛┻━━━┛┻┓ + +\r\n * 　┃　　　　　　　┃\r\n * 　┃　　　━　　　┃ ++ + + +\r\n *  ████━████ ┃+\r\n * 　┃　　　　　　　┃ +\r\n * 　┃　　　┻　　　┃\r\n * 　┃　　　　　　　┃ + +\r\n * 　┗━┓　　　┏━┛\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ + + + +\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ +  神兽保佑\r\n * 　　　┃　　　┃    代码无bug\r\n * 　　　┃　　　┃　　+\r\n * 　　　┃　 　　┗━━━┓ + +\r\n * 　　　┃ 　　　　　　　┣┓\r\n * 　　　┃ 　　　　　　　┏┛\r\n * 　　　┗┓┓┏━┳┓┏┛ + + + +\r\n * 　　　　┃┫┫　┃┫┫\r\n * 　　　　┗┻┛　┗┻┛+ + + +\r\n *\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2021-01-07 20:05:14\r\n * @LastEditTime: 2021-01-07 20:05:15\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\component\\search\\index.js\r\n */\r\n\r\nimport React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Tooltip } from \"antd\";\r\nimport { Search, Loading } from \"../common\";\r\nimport { useSearchRequest } from \"./hooks\";\r\n//   import { Search, Empty } from \"../common\";\r\nimport { changeToArray } from \"@/util/public\";\r\n\r\nfunction LGSearch(props, ref) {\r\n  // api可能为数组多个请求\r\n  let {\r\n    className,\r\n    width,\r\n    searchResult,\r\n    api,\r\n    overlayStyle,\r\n    overlayClassName,\r\n  } = props;\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const [result, loading] = useSearchRequest(api, query);\r\n  const [SearchValue, setSearchValue] = useState(\"\");\r\n  const [myResult, setMyResult] = useState(null);\r\n  const searchRef = useRef(null);\r\n  // 设置显示的boolean\r\n  const [visible, setVisible] = useState(false);\r\n  // useEffect(()=>{console.log('关在',query,api)},[api])\r\n  useEffect(() => {\r\n    setMyResult(result);\r\n  }, [result]);\r\n  useLayoutEffect(() => {\r\n    let dom = searchRef.current;\r\n    // 点击iframe\r\n    // 对点击不同节点来控制显示隐藏\r\n    const fn = (node) => {\r\n      let isOut = false;\r\n      if (!dom.contains(node.target)) {\r\n        //判断是否包含点击的节点\r\n        isOut = true;\r\n      } else {\r\n        isOut = false;\r\n      }\r\n\r\n      //点击的位置不在搜索框和搜索内容显示区\r\n      setVisible(!isOut);\r\n    };\r\n    document.addEventListener(\"click\", fn);\r\n    return () => {\r\n      document.removeEventListener(\"click\", fn);\r\n    };\r\n  }, []);\r\n  return (\r\n    <Tooltip\r\n      overlayClassName={`lg-search-box ${\r\n        overlayClassName ? overlayClassName : \"\"\r\n      }`}\r\n      getPopupContainer={(e) => e}\r\n      overlayStyle={overlayStyle ? overlayStyle : {}}\r\n      // placement={\"bottomRight\"}\r\n      color={\"#fff\"}\r\n      align={{\r\n        points: [\"tr\", \"br\"], // align top left point of sourceNode with top right point of targetNode\r\n        offset: [0, -5], // the offset sourceNode by 10px in x and 20px in y,\r\n        // targetOffset: [\"30%\", \"40%\"], // the offset targetNode by 30% of targetNode width in x and 40% of targetNode height in y,\r\n        overflow: { adjustX: true, adjustY: true }, // auto adjust position when sourceNode is overflowed\r\n      }}\r\n      // trigger={[\"click\"]}\r\n      visible={visible}\r\n      title={\r\n        // <div style={{ minHeight: \"300px\", width: \"402px\" }}></div>\r\n        <Loading opacity={false} spinning={loading} tip={\"请稍候...\"}>\r\n          {typeof searchResult === \"function\"\r\n            ? searchResult(myResult, query.keyword)\r\n            : searchResult}\r\n        </Loading>\r\n      }\r\n    >\r\n      <div\r\n        id=\"test\"\r\n        ref={searchRef}\r\n        className={`lg-search ${className ? className : \"\"}`}\r\n      >\r\n        {/* <div style={{ width: \"100px\", height: \"10px\" }}></div> */}\r\n        <Search\r\n          placeHolder={\"输入关键词搜索...\"}\r\n          className=\"lg-search-in\"\r\n          width={width ? width : 180}\r\n          Value={SearchValue}\r\n          onChange={(e) => {\r\n            setSearchValue(e.target.value);\r\n          }}\r\n          onClickSearch={(e) => {\r\n            setQuery({ keyword: e.value });\r\n          }}\r\n          onCancelSearch={(e) => {\r\n            setSearchValue(\"\");\r\n            setMyResult({});\r\n          }}\r\n        ></Search>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n}\r\nexport default memo(forwardRef(LGSearch));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2021-01-08 09:27:21\r\n * @LastEditTime: 2021-01-08 09:27:22\r\n * @Description: 全局搜索\r\n * @FilePath: \\teacher-development\\src\\api\\search.js\r\n */\r\n\r\nimport fetch from \"../util/fetch\";\r\nimport ipConfig from \"../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2170 搜索\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getSearch(payload = {}) {\r\n  // *TStatus:状态：0草稿；1正式发布\r\n  let { keyword, schoolID, collegeID, selectLevel } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Global/Search?SchoolID=${schoolID ? schoolID : \"\"}&Keyword=${\r\n      keyword ? keyword : \"\"\r\n    }&CollegeID=${collegeID ? collegeID : \"\"}&SelectLevel=${\r\n      selectLevel ? selectLevel : \"\"\r\n    }`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: json.Data ? json.Data : {},\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n","/*\r\n *                   江城子 . 程序员之歌\r\n *\r\n *               十年生死两茫茫，写程序，到天亮。\r\n *                   千行代码，Bug何处藏。\r\n *               纵使上线又怎样，朝令改，夕断肠。\r\n *\r\n *               领导每天新想法，天天改，日日忙。\r\n *                   相顾无言，惟有泪千行。\r\n *               每晚灯火阑珊处，夜难寐，加班狂。\r\n *\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2021-01-08 14:48:19\r\n * @LastEditTime: 2021-01-08 14:48:20\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\searchAll\\bar.js\r\n */\r\n\r\nimport React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport {\r\n  useHistory,\r\n  // , Route, Switch, NavLink\r\n} from \"react-router-dom\";\r\nimport $ from \"jquery\";\r\nfunction Bar(props, ref) {\r\n  const { data } = props;\r\n  const [select, setSelect] = useState(true);\r\n  const [height, setHeight] = useState(0);\r\n  const contentRef = useRef(null);\r\n  const history = useHistory();\r\n  useLayoutEffect(() => {\r\n    let content = $(contentRef.current);\r\n    setHeight(content.outerHeight());\r\n  }, [data]);\r\n  return (\r\n    <div\r\n      style={{ height: select ? height + 28 : 28 }}\r\n      className={`search-bar ${select ? \"search-bar-active\" : \"\"}`}\r\n    >\r\n      <p className=\"bar-main\">\r\n        <span title={data.title}>{data.title}</span>\r\n        <i\r\n          onClick={() => {\r\n            setSelect(!select);\r\n          }}\r\n          className={`bar-handle ${select ? \"bar-handle-open\" : \"\"}`}\r\n        ></i>\r\n      </p>\r\n\r\n      <div ref={contentRef} className={`bar-content`}>\r\n        {data.List instanceof Array && data.List.length > 0\r\n          ? data.List.map((child, index) => {\r\n              return (\r\n                <div\r\n                  className=\"bar-content-title\"\r\n                  key={index}\r\n                  onClick={() => {\r\n                    if (child.key === \"TeacherList\") {\r\n                      //教师的打开个人画像\r\n                      window.open(\r\n                        window.location.search +\r\n                          \"#/page/personalDetail/\" +\r\n                          child.id\r\n                      );\r\n                    } else {\r\n                      history.push(\"/\" + child.tabid + \"/\" + child.id);\r\n                    }\r\n                  }}\r\n                  title={child.defaultName}\r\n                >\r\n                  {child.name}\r\n                </div>\r\n              );\r\n            })\r\n          : \"\"}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(forwardRef(Bar));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-08 13:54:00\r\n * @LastEditTime: 2020-12-09 14:34:41\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\component\\temple\\index.js\r\n */\r\n\r\nimport React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  //   useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Empty } from \"@/component/common\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n//   import { Search, Empty } from \"../common\";\r\nimport Bar from \"./bar\";\r\nfunction SearchAll(props, ref) {\r\n  let { className, data, keyword, ...reset } = props;\r\n  const [List, setList] = useState([]);\r\n  // 是否为空\r\n  const [empty, setEmpty] = useState(true);\r\n  // RecruitmentList: [{RID: \"1\", Title: \"靓仔1号\"}, {RID: \"e5479537-3e07-4ff3-bc11-82bf2cea19be\", Title: \"123\"}]\r\n  // SchoolList: []\r\n  // TeacherList: [{UserID: \"12123\", UserName: \"12129\", SchoolID: \"S27-511-AF57\", SchoolName: \"一体化教育云\"},…]\r\n  // TrainList: [{TID: \"234\", Title: \"10培训计划\"}]\r\n  const keyMap = {\r\n    RecruitmentList: {\r\n      key: \"RecruitmentList\",\r\n      title: \"招聘\",\r\n      tabid: \"recruitDetail\",\r\n      idKey: \"RID\",\r\n      nameKey: \"Title\",\r\n    },\r\n    SchoolList: {\r\n      key: \"SchoolList\",\r\n      title: \"学校\",\r\n      tabid: \"schoolDetail\",\r\n      idKey: \"SchoolID\",\r\n      nameKey: \"SchoolName\",\r\n    },\r\n    CollegeList: {\r\n      key: \"CollegeList\",\r\n      title: \"学院\",\r\n      tabid: \"schoolDetail\",\r\n      idKey: \"CollegeID\",\r\n      nameKey: \"CollegeName\",\r\n    },\r\n    TeacherList: {\r\n      key: \"TeacherList\",\r\n      title: \"教师\",\r\n      tabid: \"personalDetail\",\r\n      idKey: \"UserID\",\r\n      nameKey: \"UserName\",\r\n    },\r\n    TrainList: {\r\n      key: \"TrainList\",\r\n      title: \"培训\",\r\n      tabid: \"trainDetail\",\r\n      idKey: \"TID\",\r\n      nameKey: \"Title\",\r\n    },\r\n  };\r\n  useEffect(() => {\r\n    let List = [];\r\n    let isEmpty = true;\r\n    if (data && data instanceof Object) {\r\n      for (let key in data) {\r\n        if (keyMap[key]) {\r\n          let dataList = [];\r\n          data[key] instanceof Array &&\r\n            data[key].forEach((child, index) => {\r\n              let name = [];\r\n              let nameArray =\r\n                typeof child[keyMap[key].nameKey] === \"string\"\r\n                  ? child[keyMap[key].nameKey].split(keyword ? keyword : \"\")\r\n                  : [];\r\n              // 对name进行keyword处理\r\n              nameArray.forEach((c, index) => {\r\n                name.push(c);\r\n                    if (\r\n                      nameArray.length - 1 !== index &&\r\n                      nameArray.length - 1 !== 0\r\n                    ) {\r\n                      name.push(\r\n                        <>\r\n                          <span className=\"search-keyword\">{keyword}</span>\r\n                          {/* {c} */}\r\n                        </>\r\n                      );\r\n                    }\r\n                   \r\n                    // 教师的需要在后面家学校，教育局\r\n                    // if (\r\n                    //   nameArray.length - 1 === index &&\r\n                    //   key === \"TeacherList\"\r\n                    // ) {\r\n                    // }\r\n                  });\r\n              dataList.push({\r\n                ...child,\r\n                key,\r\n                id: child[keyMap[key].idKey],\r\n                name: name,\r\n                tabid: keyMap[key].tabid,\r\n                defaultName: child[keyMap[key].nameKey],\r\n              });\r\n            });\r\n          List.push({ ...keyMap[key], List: dataList });\r\n        }\r\n        if (\r\n          !data[key] ||\r\n          (data[key] instanceof Array && data[key].length !== 0)\r\n        ) {\r\n          isEmpty = false;\r\n        }\r\n      }\r\n      setEmpty(isEmpty);\r\n      setList(List);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [data, keyword]);\r\n  return (\r\n    <div\r\n      className=\"frame-search-all-content\"\r\n      style={{ height: \"300px\", width: \"402px\" }}\r\n    >\r\n      <Scrollbars>\r\n        {!empty ? (\r\n          List.map((child, index) => {\r\n            return child.List.length > 0 ? (\r\n              <Bar key={index} data={child}></Bar>\r\n            ) : (\r\n              <React.Fragment key={index}></React.Fragment>\r\n            );\r\n          })\r\n        ) : (\r\n          <Empty\r\n            key={\"index\"}\r\n            className={\"frame-search-empty\"}\r\n            type={\"4\"}\r\n            title={\"暂无搜索数据\"}\r\n          ></Empty>\r\n        )}\r\n      </Scrollbars>\r\n    </div>\r\n  );\r\n}\r\nexport default memo(forwardRef(SearchAll));\r\n","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport $ from \"jquery\";\r\nimport { Loading, Empty } from \"@/component/common\";\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction Card(props, ref) {\r\n  let {\r\n    className,\r\n    width,\r\n    height,\r\n    title,\r\n    cardid,\r\n    btn,\r\n    select,\r\n    loading, //控制loading\r\n    lock, //控制锁显示\r\n    data, //主要控制空数据显示问题\r\n    component: Component,\r\n    userIdentity,\r\n    identityCode,\r\n    currentTerm,\r\n    currentClass,\r\n    componentProps, //组件的props\r\n  } = props;\r\n  //获取token\r\n  let token = sessionStorage.getItem(\"token\");\r\n  const [loadVisible, setLoadVisible] = useState(true);\r\n  //各个模块跳转地址\r\n  const addrList = [\r\n    {\r\n      key: 'archives',\r\n      addr: '/student-growth/index.html?lg_tk=' + token + '&lg_ic=' + identityCode + '#stuStatusMsg'\r\n    },\r\n    {\r\n      key: 'classStatus',\r\n      addr: '/student-growth/index.html?lg_tk=' + token + '&lg_ic=' + identityCode + '#stuStatusMsg'\r\n    },\r\n    {\r\n      key: 'schoolStatus',\r\n      addr: '/student-growth/index.html?lg_tk=' + token + '&lg_ic=' + identityCode + '#stuStatusMsg'\r\n    },\r\n    {\r\n      key: 'accout',\r\n      addr: '/student-growth/index.html?lg_tk=' + token + '&lg_ic=' + identityCode + '#stuConditionMsg'\r\n    },\r\n    {\r\n      key: 'gradeRank',\r\n      addr: '/student-growth/index.html?lg_tk=' + token + '&lg_ic=' + identityCode + '#stuConditionMsg'\r\n    },\r\n    {\r\n      key: 'gradeStatistic',\r\n      addr: '/student-growth/index.html?lg_tk=' + token + '&lg_ic=' + identityCode + '#stuConditionMsg'\r\n    },\r\n    {\r\n      key: 'teach',\r\n      addr: '/student-growth/index.html?lg_tk=' + token + '&lg_ic=' + identityCode + '#healthMsg'\r\n    },\r\n    {\r\n      key: 'stuHealth',\r\n      addr: '/student-growth/index.html?lg_tk=' + token + '&lg_ic=' + identityCode + '#healthMsg'\r\n    },\r\n    {\r\n      key: 'stu-attendance',\r\n      addr: '/student-growth/index.html?lg_tk=' + token + '&lg_ic=' + identityCode + '#attendanceMsg'\r\n    },\r\n    {\r\n      key: 'information',\r\n      addr: '/student-growth/index.html?lg_tk=' + token + '&lg_ic=' + identityCode + '#awardAndPunish'\r\n    },\r\n    {\r\n      key: 'work',\r\n      addr: '/student-growth/index.html?lg_tk=' + token + '&lg_ic=' + identityCode + '#attendanceMsg'\r\n    },\r\n    {\r\n      key: 'history',\r\n      addr: '/student-growth/index.html?lg_tk=' + token + '&lg_ic=' + identityCode + '#schoolLiveMsg'\r\n    },\r\n  ]\r\n  useLayoutEffect(()=>{\r\n    data && setLoadVisible(false);\r\n  }, [data]);\r\n  let url = \"\";\r\n  addrList.forEach((item)=>{\r\n    // if(identityCode != \"IC0012\" && identityCode != \"IC0014\" && identityCode != \"IC0015\" && (cardid == \"stuHealth\" ||\r\n    // cardid == \"information\" || cardid == \"history\")){\r\n    //   url = \"\";\r\n    //   return;\r\n    // }\r\n    if(item.key == cardid){\r\n      url = item.addr;\r\n    }\r\n  })\r\n  // console.log(\"首页\", identityCode, url);\r\n  // console.log(url, cardid);\r\n  // return;\r\n  const goDetail = (e) => {\r\n    if(e.target.nodeName == 'BUTTON'){\r\n      return;\r\n    }\r\n    if(!url){\r\n      return;\r\n    }\r\n    window.open(url);\r\n  }\r\n  return (\r\n    <div\r\n      className={`personal-card ${className ? className : \"\"} ${loadVisible ? \"load\" : \"\"} ${\r\n        select === cardid ? \"card-select\" : \"\"\r\n      }`}\r\n      style={{\r\n        width: width ? width : \"100%\",\r\n        cursor: (url? \"pointer\": \"default\"),\r\n      }}\r\n      onClick={goDetail}\r\n    >\r\n      <span className={`pc-title pc-title-bg ${\"pc-title-\" + cardid}`}>\r\n        {/* {title} */}\r\n        <i></i>\r\n      </span>\r\n      <Loading\r\n        spinning={loadVisible}\r\n        opacity={false}\r\n        tip={\"加载中...\"}\r\n      >\r\n        <div\r\n          className=\"pc-content\"\r\n          style={{\r\n            height: height ? height : \"100%\",\r\n          }}\r\n        >\r\n          {!loading ? (\r\n            data ? (\r\n              lock ? (\r\n                <Empty\r\n                  className=\"pc-lock\"\r\n                  title={\"暂不开放该模块\"}\r\n                  type={\"3\"}\r\n                ></Empty>\r\n              ) : Component ? (<>\r\n                {btn}\r\n                <Component \r\n                data={data} \r\n                setLoadVisible={setLoadVisible}\r\n                userIdentity={userIdentity} \r\n                currentTerm={currentTerm}\r\n                currentClass={currentClass}\r\n                {...componentProps}></Component>\r\n                </>) : (\r\n                \"\"\r\n              )\r\n            ) : (\r\n                <Empty\r\n                  title={\"暂无数据\"}\r\n                  className=\"pc-empty\"\r\n                  type={\"3\"}\r\n                ></Empty>\r\n              \r\n            )\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </Loading>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(forwardRef(Card));\r\n","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport \"./index.scss\";\r\nimport { Carousel } from \"antd\";\r\nimport { Loading, Empty } from \"@/component/common\";\r\nimport moment from \"moment\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nimport { setRole } from \"../../util/public\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction Archives(props, ref) {\r\n  let {\r\n    className,\r\n    userIdentity,\r\n    data,\r\n    currentTerm,\r\n    currentClass,\r\n    userInfo: {UserID, SchoolID},\r\n    setLoadVisible\r\n  } = props;\r\n  const [myInfo, setMyInfo] = useState({});\r\n  // const [loadVisible, setLoadVisible] = useState(true);\r\n  useLayoutEffect(()=>{\r\n    //获取学籍信息\r\n    ///api/status/student\r\n    if(!UserID){\r\n      return;\r\n    }\r\n    setLoadVisible(true);\r\n    let url = BasicProxy + \"/api/status/student?studentId=\" + UserID;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>{\r\n        return res.json();\r\n    })\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          setMyInfo(result.data);\r\n        }\r\n        setLoadVisible(false);\r\n    })\r\n  }, [UserID]);\r\n  return (\r\n    <div \r\n    className={`card-content card-archives ${className ? className : \"\"}`}\r\n    >\r\n        <div className=\"cc-div-box-1\">\r\n        <div className=\"cc-div-box-2 \">\r\n          <p className=\"cc-p-1\" title={myInfo.studentName? myInfo.studentName: \"--\"}>\r\n            {myInfo.studentName? myInfo.studentName: \"--\"}\r\n            <span className=\"cc-span-1\" title={myInfo.studentId ? myInfo.studentId : \"--\"}>\r\n              ({myInfo.studentId ? myInfo.studentId : \"--\"})\r\n            </span>\r\n          </p>\r\n          <div className=\"cc-div-box-1\">\r\n            <p className=\"cc-p-2\">\r\n              出生年月:\r\n              <span className=\"cc-span-2\" title={myInfo.dateOfBirth ? myInfo.dateOfBirth : \"--\"}>\r\n                {myInfo.dateOfBirth ? myInfo.dateOfBirth : \"--\"}\r\n              </span>\r\n            </p>\r\n            <p className=\"cc-p-2\">\r\n              民族:\r\n              <span className=\"cc-span-2\" title={myInfo.nation ? myInfo.nation : \"--\"}>\r\n                {myInfo.nation ? myInfo.nation : \"--\"}\r\n              </span>\r\n            </p>\r\n            <p className=\"cc-p-2\">\r\n              性别:\r\n              <span className=\"cc-span-2\" title={myInfo.gender ? myInfo.gender : \"--\"}>\r\n                {myInfo.gender ? myInfo.gender : \"--\"}\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div className=\"cc-div-box-1\">\r\n            <p className=\"cc-p-2\">\r\n              籍贯:\r\n              <span className=\"cc-span-2\" title={myInfo.nativePlace ? myInfo.nativePlace : \"--\"}>\r\n                {myInfo.nativePlace ? myInfo.nativePlace : \"--\"}\r\n              </span>\r\n            </p>\r\n            <p className=\"cc-p-2\">\r\n              当前班级:\r\n              <span className=\"cc-span-2\" title={myInfo.className ? myInfo.className : \"--\"}>\r\n                {myInfo.className ? myInfo.className : \"--\"}\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div className=\"cc-div-box-1\">\r\n            <p className=\"cc-p-2\" style={{width: '287px'}}>\r\n              身份证号:\r\n              <span className=\"cc-span-2 IDCardNo\" title={myInfo.identityNum ? myInfo.identityNum : \"--\"}>\r\n                {myInfo.identityNum ? myInfo.identityNum : \"--\"}\r\n              </span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"ca-photo\"\r\n          style={{\r\n            background: `url(${myInfo.photoPath}) no-repeat center top/100%  `,\r\n          }}\r\n        ></div>\r\n      </div>\r\n      <div className=\"cc-div-box-1\">\r\n        <p className=\"cc-p-2\" style={{width: '287px'}}>\r\n          家庭住址:\r\n          <span className=\"cc-span-2 \" title={myInfo.homeAddress ? myInfo.homeAddress : \"--\"}>\r\n            {myInfo.homeAddress ? myInfo.homeAddress : \"--\"}\r\n          </span>\r\n        </p>\r\n      </div>\r\n      {/* <div className=\"cc-div-box-1\">\r\n        <p className=\"cc-p-2 Telephone\">\r\n          走读/住宿:\r\n          <span className=\"cc-span-2\" title={Telephone}>\r\n            {Telephone ? Telephone : \"--\"}\r\n          </span>\r\n        </p>\r\n      </div> */}\r\n      <div className=\"cc-div-box-1\">\r\n        <p className=\"cc-p-2 Telephone\">\r\n          是否独生子女:\r\n          <span className=\"cc-span-2\" title={myInfo.isOnlychild ? myInfo.isOnlychild : \"--\"}>\r\n            {myInfo.isOnlychild ? myInfo.isOnlychild : \"--\"}\r\n          </span>\r\n        </p>\r\n        <p className=\"cc-p-2 Telephone\">\r\n          是否受过学前教育:\r\n          <span className=\"cc-span-2\" title={myInfo.isAcceptpreschool ? myInfo.isAcceptpreschool : \"--\"}>\r\n            {myInfo.isAcceptpreschool ? myInfo.isAcceptpreschool : \"--\"}\r\n          </span>\r\n        </p>\r\n      </div>\r\n      <p className=\"cc-p-2\">\r\n        是否留守儿童:\r\n        <span className=\"cc-span-2\" title={myInfo.isLeftbehindchild ? myInfo.isLeftbehindchild : \"--\"}>\r\n          {myInfo.isLeftbehindchild ? myInfo.isLeftbehindchild : \"--\"}\r\n        </span>\r\n      </p>\r\n      \r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let { commonData } = state;\r\n  return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(Archives)));\r\n","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport \"./index.scss\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nimport Scrollbars from \"react-custom-scrollbars\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction GradeRank(props, ref) {\r\n  let {\r\n    className,\r\n    userIdentity,\r\n    data,\r\n    currentTerm,\r\n    currentClass,\r\n    userInfo: {UserID, SchoolID},\r\n    setLoadVisible\r\n  } = props;\r\n  const [rankInfo, setRankInfo] = useState({});\r\n  const [subjectList, setSubjectList] = useState([]);\r\n  useLayoutEffect(()=>{\r\n    //获取排名信息\r\n    ///api/status/student\r\n    if(!UserID || !currentTerm.term){\r\n      return;\r\n    }\r\n    setLoadVisible(true);\r\n    let url = BasicProxy + \"/api/learning2/exam/scoreRank?type=2\" +\r\n    \"&studentId=&classId=\" + currentClass.classId +\r\n    \"&gradeId=\" + currentClass.gradeId +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&termId=\" + currentTerm.term +\r\n    \"&examType=2\" +\r\n    \"&start=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"2021-01-01\") + \r\n    \"&end=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"2021-03-01\");\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>{\r\n        return res.json();\r\n    })\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          setRankInfo(result.data);\r\n        }\r\n    })\r\n    //\r\n    url = BasicProxy + \"/api/learning2/homework/avgScore?type=2\" +\r\n    \"&studentId=&classId=\" + currentClass.classId +\r\n    \"&gradeId=\" + currentClass.gradeId +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&termId=\" + currentTerm.term +\r\n    \"&examType=2\" +\r\n    \"&start=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"2021-01-01\") + \r\n    \"&end=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"2021-03-01\");\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>{\r\n        return res.json();\r\n    })\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          setSubjectList(result.data);\r\n        }\r\n        setLoadVisible(false);\r\n    })\r\n  }, [currentClass, UserID, currentTerm]);\r\n  return (\r\n    <div className={`card-content card-grade ${className ? className : \"\"}`}>\r\n        <div className=\"card-grade-left\">\r\n          <p className=\"card-grade-title\">最近一次考试情况:</p>\r\n          <div className=\"circle-container\">\r\n            <div className=\"circle green\">\r\n              {\r\n              typeof rankInfo.score == \"number\"? \r\n              rankInfo.score.toFixed(1): \"--\"\r\n              }\r\n            </div>\r\n            <p>我的成绩</p>\r\n          </div>\r\n          <div className=\"circle-container\">\r\n            <div className=\"circle blue\"> \r\n              {\r\n              typeof rankInfo.classRank == \"number\"? \r\n              rankInfo.classRank: \"--\"\r\n              }\r\n            </div>\r\n            <p>班级排名</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"slice-line\"></div>\r\n        <div className=\"card-grade-right\">\r\n          <p className=\"card-grade-title\">成绩总评:</p>\r\n          <ul className=\"subject-grade-list\">\r\n            <Scrollbars\r\n            autoHeight\r\n            autoHeightMax={140}>\r\n            {\r\n              subjectList.map((item, index)=>{\r\n                return (\r\n                  <li key={index}>{item.subjectName}: <span>{item.score}</span></li>\r\n                )\r\n              })\r\n            }\r\n            </Scrollbars>\r\n            \r\n          </ul>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let { commonData } = state;\r\n  return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(GradeRank)));\r\n","import React, {\r\n    useState,\r\n    useEffect,\r\n    memo,\r\n    forwardRef\r\n} from 'react';\r\nimport \"./index.scss\";\r\nfunction Progress(props){\r\n    let {\r\n        step,\r\n        max,\r\n        percent,\r\n        className,\r\n        width,\r\n        bgColor,\r\n        barWidth\r\n    } = props;\r\n    let progressBarList = [];\r\n    step = step? step: 25; //小方块总个数\r\n    max = max? max: 100;  //最大值\r\n    percent = percent? percent: 0;  //当前值\r\n    let activeBarCount = parseInt(step * (percent / max)); //高亮的方块个数\r\n    for(let i = 0; i < step; i++){\r\n      let active = false;\r\n      if(i < activeBarCount){\r\n        active = true;\r\n      }\r\n      progressBarList.push(\r\n        <div\r\n        className={\"progress-bar \" + (active? \"active\": \"\")}\r\n        style={{\r\n          width: (barWidth? barWidth: `${(100 / step)}%`),\r\n        }}\r\n        ></div>\r\n      )\r\n    }\r\n    return (\r\n      <div \r\n      className={\"my-progress \" +(className? className: \"\")}\r\n      id=\"my-progress\" style={{\r\n      width: (width? width: \"\"),\r\n      backgroundColor: (bgColor? bgColor: \"\"),\r\n      }}>\r\n        <div \r\n        className=\"my-progress-bg\" \r\n        style={{\r\n        width: (\r\n            barWidth? \r\n            activeBarCount*barWidth: \r\n            activeBarCount*(100 / step) + \"%\"\r\n        )}}></div>\r\n        {progressBarList}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Progress;","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Empty, Loading} from \"../../component/common\";\r\nimport Progress from \"@/component/progress\";\r\nimport \"./index.scss\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction StuHealth(props, ref) {\r\n  let {\r\n    className,\r\n    userIdentity,\r\n    data,\r\n    currentTerm,\r\n    currentClass,\r\n    userInfo: {UserID, SchoolID},\r\n    setLoadVisible\r\n  } = props;\r\n  const [gradeList, setGradeList] = useState([]);\r\n  const [baseMsg, setBaseMsg] = useState({});\r\n  const [sickRecord, setSickRecord] = useState({});\r\n  const [healthyInfo, setHealthyInfo] = useState({});\r\n  // const [loadVisible, setLoadVisible] = useState(true);\r\n  useLayoutEffect(()=>{\r\n    //获取排名信息\r\n    ///api/status/student\r\n    if(!UserID){\r\n      return;\r\n    }\r\n    if(userIdentity == \"teacher\" && !currentClass.classId){\r\n      return;\r\n    }\r\n    if(userIdentity == \"student\" && (!UserID || !currentClass.classId)){\r\n      return;\r\n    }\r\n    setLoadVisible(true);\r\n    let url = BasicProxy + \"/api/healthy/leave/sickRecord?studentId=\" + (\r\n      userIdentity == \"student\"?\r\n      UserID:\r\n      \"\"\r\n    ) +\r\n    \"&classId=\" + currentClass.classId +\r\n    \"&gradeId=\" + currentClass.gradeId +\r\n    \"&startDate=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"2021-01-01\") + \r\n    \"&endDate=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"2021-03-01\");\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>{\r\n        return res.json();\r\n    })\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          setSickRecord(result.data);\r\n        }\r\n    })\r\n    //\r\n    url = BasicProxy + \"/api/healthy/temperature/dallyHealthyInfo?studentId=\" + (\r\n      userIdentity == \"student\"?\r\n      UserID:\r\n      \"\"\r\n    ) +\r\n    \"&classId=\" + currentClass.classId +\r\n    \"&gradeId=\" + currentClass.gradeId +\r\n    \"&startDate=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"2021-01-01\") + \r\n    \"&endDate=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"2021-03-01\");\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>{\r\n        return res.json();\r\n    })\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          setHealthyInfo(result.data);  \r\n        }\r\n        setLoadVisible(false);\r\n    })\r\n    if(userIdentity != \"student\"){\r\n      //获取目前平均身高体重信息\r\n      let url = BasicProxy + \"/api/healthy/overview?classId=\" + currentClass.classId +\r\n      \"&gradeId=\" + currentClass.gradeId +\r\n      \"&studentId=\" + (\r\n      userIdentity == \"student\"?\r\n      UserID:\r\n      \"\") +\r\n      \"&startDate=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"2021-01-01\") + \r\n      \"&endDate=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"2021-03-01\");\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && result.data){\r\n            setBaseMsg(result.data);\r\n          }\r\n      })\r\n   }\r\n    \r\n    if(userIdentity == \"student\"){\r\n      //获取本人或班级身高体重信息\r\n      let url = BasicProxy + \"/api/healthy/studentHealthInfo?studentId=\" + UserID;\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && result.data){\r\n            setBaseMsg(result.data);\r\n          }\r\n      })\r\n    }\r\n  }, [currentClass, UserID]);\r\n  return (\r\n    <div className={`card-content card-health ${className ? className : \"\"}`}>\r\n      {\r\n        userIdentity == \"student\"?\r\n        <div style={{paddingTop: 50}}>\r\n          <p className=\"info-one\">\r\n            身高:<span>{\r\n            userIdentity == \"student\"?\r\n            baseMsg.height? baseMsg.height: \"--\":\r\n            userIdentity == \"teacher\"?\r\n            baseMsg.classAverageHeight:\r\n            userIdentity == \"manager\"?\r\n            baseMsg.gradeAverageHeight:\r\n            \"--\"\r\n            }</span>\r\n          </p>\r\n          <p className=\"info-one\">\r\n            体重:<span>{\r\n            userIdentity == \"student\"?\r\n            baseMsg.weight? baseMsg.weight: \"--\":\r\n            userIdentity == \"teacher\"?\r\n            baseMsg.classAverageWeight:\r\n            userIdentity == \"manager\"?\r\n            baseMsg.gradeAverageWeight:\r\n            \"--\"\r\n            }</span>\r\n          </p>\r\n          <p className=\"info-one\">\r\n            BMI:<span>{\r\n            baseMsg.bmiIndex? baseMsg.bmiIndex: \"--\"\r\n            }</span>\r\n          </p>\r\n          <p className=\"info-one\">\r\n            病假率:<span>{\r\n            sickRecord.sickRate? sickRecord.sickRate.toFixed(1): \"--\"\r\n            }</span>\r\n          </p>\r\n          <p className=\"info-one\">\r\n            病假次数:<span>{\r\n            typeof sickRecord.sickRecordCount == \"number\"? sickRecord.sickRecordCount: \"--\"\r\n            }</span>\r\n          </p>\r\n          <p className=\"info-one\">\r\n            最新体温信息:<span>{\r\n            healthyInfo.latestAverageTemperature? healthyInfo.latestAverageTemperature: \"--\"\r\n            }</span>\r\n          </p>\r\n        </div>:\r\n        \"\"\r\n      }\r\n      \r\n      {/* <div>\r\n        <p className=\"info-one\">\r\n          日常运动频率:<span>15岁</span>\r\n        </p>\r\n        <p className=\"info-one\">\r\n          病假率:<span>15岁</span>\r\n        </p>\r\n      </div> */}\r\n      {/* {\r\n        userIdentity == \"student\"?\r\n        <div className=\"slice-line\"></div>:\r\n        \"\"\r\n      } */}\r\n      {\r\n        userIdentity != \"student\"?\r\n        <div style={{marginTop: 50}}>\r\n          <div className=\"circle-container\">\r\n            <div className=\r\n            {\"circle green\"}>\r\n                {typeof healthyInfo.abNormalCount == \"number\"? healthyInfo.abNormalCount: \"--\"}</div>\r\n            <p>体温异常次数</p>\r\n          </div>\r\n          <div className=\"circle-container\">\r\n            <div className=\r\n            {\"circle blue\"}>\r\n                {healthyInfo.abNormalRate? healthyInfo.abNormalRate.toFixed(1): \"--\"}</div>\r\n            <p>异常体温率</p>\r\n          </div>\r\n          <div className=\"circle-container\">\r\n            <div className=\r\n            {\"circle violet\"}>\r\n                {typeof sickRecord.sickRecordCount == \"number\"? sickRecord.sickRecordCount: \"--\"}</div>\r\n            <p>病假次数</p>\r\n          </div>\r\n          <div className=\"circle-container\">\r\n            <div className=\r\n            {\"circle brown\"}>\r\n                {sickRecord.sickRate? parseInt(sickRecord.sickRate*100): \"--\"}</div>\r\n            <p>病假率</p>\r\n          </div>\r\n        </div>\r\n          :\r\n        \"\"\r\n      }\r\n      <div style={{marginBottom: 40}}>\r\n        {/* <p className=\"grade-one\">\r\n          体质分数:<span>78分</span>\r\n        </p>\r\n        <p className=\"grade-one\">\r\n          体质排名:<span>2311/2333</span>\r\n        </p> */}\r\n        {/* {\r\n          gradeList.length > 0?\r\n          gradeList.map((item, index)=>{\r\n            return (\r\n              <div className=\"progress-container\" key={index}>\r\n                <span className=\"grade-name\">{item.testProject.subjectName}</span>\r\n                <Progress\r\n                  className=\"grade-progress\"\r\n                  percent={\r\n                    userIdentity == \"student\"?\r\n                    item.studentAverageScore:\r\n                    userIdentity == \"teacher\"?\r\n                    item.classAverageScore:\r\n                    userIdentity == \"manager\"?\r\n                    item.gradeAverageScore:\r\n                    0\r\n                  } \r\n                  step={25}\r\n                  width={114}\r\n                  max={item.maxScore} />\r\n                <span className=\"grade-num\"><span>{\r\n                userIdentity == \"student\"?\r\n                item.studentAverageScore:\r\n                userIdentity == \"teacher\"?\r\n                item.classAverageScore:\r\n                userIdentity == \"manager\"?\r\n                item.gradeAverageScore:\r\n                0}</span>分</span>\r\n              </div>\r\n            )\r\n          }):\r\n          <Empty\r\n            title={\"暂无数据\"}\r\n            className=\"pc-empty\"\r\n            type={\"3\"}\r\n          ></Empty>\r\n        } */}\r\n        {/* <div className=\"progress-container\">\r\n          \r\n          <span className=\"grade-name\">体重指数</span>\r\n          <Progress\r\n            className=\"grade-progress\"\r\n            percent={45} \r\n            step={25}\r\n            width={114}\r\n            max={100} />\r\n          <span className=\"grade-num\"><span>10</span>分</span>\r\n        </div> */}\r\n      </div>\r\n      {/* <div>\r\n        <p className=\"grade-one\">\r\n          中考体育成绩:<span>78分</span>\r\n        </p>\r\n        <p className=\"grade-one\">\r\n          成绩排名:<span>2311/2333</span>\r\n        </p>\r\n        <div className=\"progress-container\">\r\n          <span className=\"grade-name\">体重指数</span>\r\n          <Progress\r\n            className=\"grade-progress\"\r\n            percent={45} \r\n            step={25}\r\n            width={114}\r\n            max={100} />\r\n          <span className=\"grade-num\"><span>10</span>分</span>\r\n        </div>\r\n        <div className=\"progress-container\">\r\n          <span className=\"grade-name\">体重指数</span>\r\n          <Progress\r\n            className=\"grade-progress\"\r\n            percent={45} \r\n            step={25}\r\n            width={114}\r\n            max={100} />\r\n          <span className=\"grade-num\"><span>10</span>分</span>\r\n        </div>\r\n      </div> */}\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let { commonData } = state;\r\n  return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(StuHealth)));\r\n","import {\r\n  connect\r\n} from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport {Progress} from \"antd\";\r\nimport { Dropdown } from \"@/component/common\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nimport { setRole } from \"../../util/public\";\r\nimport {Empty, Loading} from \"../../component/common\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction Work(props, ref) {\r\n  let {\r\n    className,\r\n    userIdentity,\r\n    data,\r\n    currentTerm,\r\n    currentClass,\r\n    userInfo: {UserID, SchoolID},\r\n    setLoadVisible\r\n  } = props;\r\n  const [countInfo, setCountInfo] = useState({});\r\n  const [rateInfo, setRateInfo] = useState({});\r\n  // const [loadVisible, setLoadVisible] = useState(true);\r\n  useLayoutEffect(()=>{\r\n    if(userIdentity != \"manager\" && !currentClass.classId){\r\n      return;\r\n    }\r\n    if(!currentTerm.termStartDate || !currentTerm.termEndDate){\r\n      return;\r\n    }\r\n    setLoadVisible(true);\r\n    //获取缺勤率\r\n    let url = BasicProxy + \"/api/attendance/attendance/times?type=\" + \r\n    (\r\n      userIdentity == \"student\"? 1:\r\n      userIdentity == \"teacher\"? 2:\r\n      4\r\n    ) +\r\n    \"&studentId=\" + UserID +\r\n    \"&classId=\" + currentClass.classId +\r\n    \"&gradeId=\" + currentClass.gradeId +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&statisticalType=1\" +\r\n    // \"&termId=\" + currentTermInfo.termId +\r\n    \"&start=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"2021-01-01\") + \r\n    \"&end=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"2021-03-01\");\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n            setRateInfo(result.data);\r\n        }\r\n        setLoadVisible(false);\r\n    })\r\n  }, [currentClass, currentTerm, UserID]);\r\n  return (\r\n    <div className={`card-content card-attendance ${className ? className : \"\"}`}>\r\n      {\r\n        !rateInfo.avgAbsentRate && typeof countInfo.vacateTimes != \"number\"? \r\n        <Empty\r\n          title={\"暂无数据\"}\r\n          className=\"pc-empty\"\r\n          type={\"3\"}\r\n        ></Empty>:\r\n        <div>\r\n        <div className=\"card-attendance-left\">\r\n        <div className=\"out-circle\">\r\n          <Progress\r\n            type=\"circle\"\r\n            strokeWidth=\"8\"\r\n            strokeColor={{\r\n              '0%': '#0A8EF6',\r\n              '50%': '#00FFF6',\r\n              '100%': '#0A8EF6',\r\n            }}\r\n            trailColor=\"#08474F\"\r\n            percent={parseInt(Number(rateInfo.avgAttendanceRateResult.replace(\"%\", \"\")))}\r\n            width={97}\r\n            format={(percent)=>{return percent}}\r\n            className=\"progress\"\r\n          />\r\n          <p>{userIdentity == \"manager\"? \"全校\": \"\"}出勤率</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"slice-line\"></div>\r\n      <div className=\"card-attendance-right\">\r\n        <div className=\"askleave-info\">\r\n          <p className=\"count\"><span>{typeof rateInfo.vacateTimes == \"number\"? rateInfo.vacateTimes: \"--\"}</span>次</p>\r\n          <p>请假次数</p>\r\n        </div>\r\n        <div className=\"late-info\">\r\n          <p className=\"count\"><span>{typeof rateInfo.lateTimes == \"number\"? rateInfo.lateTimes: \"--\"}</span>次</p>\r\n          <p>迟到次数</p>\r\n        </div>\r\n        <div className=\"badback-info\">\r\n          <p className=\"count\"><span>{typeof rateInfo.leaveEarlyTimes == \"number\"? rateInfo.leaveEarlyTimes: \"--\"}</span>次</p>\r\n          <p>早退次数</p>\r\n        </div>\r\n      </div>\r\n      {/* <p className=\"card-attendance-tip\">\r\n          <i className=\"tiplogo\"></i>\r\n          统计数据为最近50天\r\n      </p> */}\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let { commonData } = state;\r\n  return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(Work)));\r\n","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport moment from \"moment\";\r\nimport {Empty} from \"../../component/common\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction History(props, ref) {\r\n  let {\r\n    className,\r\n    userIdentity,\r\n    data,\r\n  } = props;\r\n  // 小于5个补\r\n  // console.log(\"轨迹\", data);\r\n  let sign = false;\r\n  if(data.length == 0){\r\n    sign = true;\r\n  }\r\n  if (data.length < 5) {\r\n    let more = [\"\", \"\", \"\", \"\", \"\"];\r\n    data = data.concat(more.slice(0, 5 - data.length));\r\n  }\r\n  data.forEach((item)=>{\r\n    let arr = [];\r\n    let str = \"\";\r\n    if(data.eventType){\r\n      if(userIdentity == \"student\"){\r\n        let arr = [];\r\n        let obj = {\r\n            time: data.eventTime,\r\n            content: (\r\n                data.eventName?\r\n                data.eventType == 1?\r\n                \"获得\" + data.eventName:\r\n                (data.eventReason? \"因为\" + data.eventReason: \"\") + \r\n                (\"受到\" + data.eventName):\r\n                \"\"\r\n            ),\r\n            eventType: data.eventType\r\n        }\r\n        arr.push(obj);\r\n      } else {\r\n          let arr = [];\r\n          let obj = {\r\n              time: data.eventTime,\r\n              content: (\r\n                  data.eventName?\r\n                  data.eventType == 1?\r\n                  data.userName + \"获得\" + data.eventName:\r\n                  data.userName + \r\n                  (data.eventReason? \"因为\" + data.eventReason: \"\") + \r\n                  (\"受到\" + data.eventName):\r\n                  \"\"\r\n              ),\r\n              eventType: data.eventType\r\n          }\r\n          arr.push(obj);\r\n      }\r\n    }\r\n    if(data.times){\r\n      let arr = [];\r\n      let str = \"\";\r\n      if(userIdentity != \"student\"){\r\n          if(data.late){\r\n              str += \"迟到人数\" + data.late + \"人，\";\r\n          }\r\n          if(data.absent){\r\n              str += \"缺勤人数\" + data.absent + \"人，\";\r\n          }\r\n          if(data.leaveEarly){\r\n              str += \"早退人数\" + data.leaveEarly + \"人，\";\r\n          }\r\n          if(data.vacate){\r\n              str += \"请假人数\" + data.vacate + \"人\";\r\n          }\r\n      }\r\n      else {\r\n          if(data.late){\r\n              str += \"迟到\" + data.late + \"次，\";\r\n          }\r\n          if(data.absent){\r\n              str += \"缺勤\" + data.absent + \"次，\";\r\n          }\r\n          if(data.leaveEarly){\r\n              str += \"早退\" + data.leaveEarly + \"次，\";\r\n          }\r\n          if(data.vacate){\r\n              str += \"请假\" + data.vacate + \"次\";\r\n          }\r\n      }\r\n      if(str[str.length - 1] == \"，\"){\r\n          str = str.substr(0, str.length - 1);\r\n      }\r\n      let obj = {\r\n          time: data.date,\r\n          content: str\r\n      }\r\n      arr.push(obj);\r\n    }\r\n  })\r\n  return (\r\n    <div className={`card-content card-history ${className ? className : \"\"}`}>\r\n      {\r\n        !sign?\r\n        <Scrollbars className='ch-scrollbars'>\r\n          <div className=\"ch-dot-box\">\r\n            {data.map((child, index) => {\r\n              // 第一个前面要有一个球，最后加4个，旗最长7个球的长度\r\n              let dom = [];\r\n              if (index === 0) {\r\n                dom.push(\"dot\");\r\n              }\r\n              // 看child有没有值\r\n              dom = dom.concat([child ? \"active\" : \"dot\", \"dot\", \"dot\", \"dot\"]);\r\n              if (index === data.length - 1) {\r\n                dom = dom.concat([\"dot\", \"dot\", \"dot\", \"dot\"]);\r\n              }\r\n              let str = \"\";\r\n              if(child.eventType){\r\n                if(userIdentity == \"student\"){\r\n                  str = \r\n                      child.eventName?\r\n                      child.eventType == 1?\r\n                      \"获得\" + child.eventName:\r\n                      (child.eventReason? \"因为\" + child.eventReason: \"\") + \r\n                      (\"受到\" + child.eventName):\r\n                      \"\";\r\n                } else {\r\n                  str = (\r\n                      child.eventName?\r\n                      child.eventType == 1?\r\n                      child.userName + \"获得\" + child.eventName:\r\n                      child.userName + \r\n                      (child.eventReason? \"因为\" + child.eventReason: \"\") + \r\n                      (\"受到\" + child.eventName):\r\n                      \"\"\r\n                  );\r\n                }\r\n              }\r\n              if(child.times){\r\n                if(userIdentity != \"student\"){\r\n                    if(child.late){\r\n                        str += \"迟到人数\" + child.late + \"人，\";\r\n                    }\r\n                    if(child.absent){\r\n                        str += \"缺勤人数\" + child.absent + \"人，\";\r\n                    }\r\n                    if(child.leaveEarly){\r\n                        str += \"早退人数\" + child.leaveEarly + \"人，\";\r\n                    }\r\n                    if(child.vacate){\r\n                        str += \"请假人数\" + child.vacate + \"人\";\r\n                    }\r\n                }\r\n                else {\r\n                    if(child.late){\r\n                        str += \"迟到\" + child.late + \"次，\";\r\n                    }\r\n                    if(child.absent){\r\n                        str += \"缺勤\" + child.absent + \"次，\";\r\n                    }\r\n                    if(child.leaveEarly){\r\n                        str += \"早退\" + child.leaveEarly + \"次，\";\r\n                    }\r\n                    if(child.vacate){\r\n                        str += \"请假\" + child.vacate + \"次\";\r\n                    }\r\n                }\r\n                if(str[str.length - 1] == \"，\"){\r\n                    str = str.substr(0, str.length - 1);\r\n                }\r\n              }\r\n              return (\r\n                <React.Fragment key={index}>\r\n                  {dom.map((dot, index2) => {\r\n                    \r\n                    return dot === \"active\" ? (\r\n                      <div key={index2} className=\" ch-dot ch-dot-active\">\r\n                        <span className=\"ch-dot-polo\">\r\n                          <div className=\"ch-content\">\r\n                            <p className=\"ch-content-time\" title={child.date|| child.eventTime}>\r\n                              {child.date || child.eventTime}\r\n                            </p>\r\n                            <p className=\"ch-content-title\" title={str}>\r\n                              {str}\r\n                            </p>\r\n                          </div>\r\n                        </span>\r\n                      </div>\r\n                    ) : (\r\n                      <span key={index2} className=\"ch-dot\"></span>\r\n                    );\r\n                  })}\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n          </div>\r\n        </Scrollbars>:\r\n        <Empty\r\n          title={\"暂无数据\"}\r\n          className=\"pc-empty\"\r\n          type={\"3\"}\r\n        ></Empty>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(forwardRef(History));\r\n","import {\r\n  connect\r\n} from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport {Carousel} from \"antd\";\r\nimport {Empty, Loading} from \"../../component/common\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nimport { setRole } from \"../../util/public\";\r\n\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction Information(props, ref) {\r\n  let {\r\n    className,\r\n    userIdentity,\r\n    data,\r\n    currentTerm,\r\n    currentClass,\r\n    userInfo: {UserID},\r\n    setLoadVisible\r\n  } = props;\r\n  const [awardList, setAwardList] = useState([]);\r\n  const [punishList, setPunishList] = useState([]);\r\n  const awardLevelList = {\r\n    \"1\": '一等奖',\r\n    \"2\": '二等奖',\r\n    \"3\": '三等奖',\r\n    \"-1\": '其他'\r\n  };\r\n  const awardKind = {\r\n    \"1\": '校级',\r\n    \"2\": '区级',\r\n    \"3\": '市级',\r\n    \"4\": '省级',\r\n    \"5\": '国家级',\r\n    \"-1\": '其他'\r\n  };\r\n  useLayoutEffect(()=>{\r\n    if(!currentTerm || !UserID){\r\n      return;\r\n    }\r\n    if(userIdentity == \"teacher\"){\r\n      //先获取当前班级信息\r\n        // let url = BasicProxy + \"/api/punishAndReward/rewards/list?studentId=\" + \r\n        // \"&classId=\" + currentClass +\r\n        // \"&gradeId=\" + currentGrade +\r\n        // \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n        // \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n    }\r\n    if(userIdentity == \"teacher\" && !currentClass.classId){\r\n      return;\r\n    }\r\n    if(userIdentity == \"manager\"){\r\n      return;\r\n    }\r\n    setLoadVisible(true);\r\n      //获取奖励信息\r\n      let url = \"\";\r\n      if(userIdentity == \"student\"){\r\n        url = BasicProxy + \"/api/punishAndReward/rewards/list?studentId=\" + UserID +\r\n        \"&startDate=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"\") + \r\n        \"&endDate=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"\");\r\n      } else {\r\n        url = BasicProxy + \"/api/punishAndReward/rewards/list?studentId=\" + \r\n        \"&classId=\" + currentClass.classId +\r\n        \"&gradeId=\" + currentClass.gradeId +\r\n        \"&startDate=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"\") + \r\n        \"&endDate=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"\");\r\n      }\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>{\r\n          return res.json();\r\n      })\r\n      .then((result)=>{\r\n          if(result.status == 200 && Array.isArray(result.data)){\r\n              setAwardList(result.data);\r\n          } else {\r\n              setAwardList(false);\r\n          }\r\n          setLoadVisible(false);\r\n      })\r\n      //获取处罚信息\r\n      url = BasicProxy + \"/api/punishAndReward/punishment/list?studentId=\" + (\r\n        userIdentity == \"student\"?\r\n        UserID:\r\n        \"\"\r\n      ) +\r\n      \"&classId=\" + currentClass.classId +\r\n      \"&gradeId=\" + currentClass.gradeId +\r\n      \"&startDate=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"2021-01-01\") + \r\n      \"&endDate=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"2021-03-01\");\r\n      // }\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>{\r\n          return res.json();\r\n      })\r\n      .then((result)=>{\r\n          if(result.status == 200 && Array.isArray(result.data)){\r\n              setPunishList(result.data);\r\n              \r\n          }\r\n          setLoadVisible(false);\r\n      })\r\n  }, [userIdentity, currentTerm]);\r\n  //领导端调用接口\r\n  useLayoutEffect(()=>{\r\n    if(!currentTerm){\r\n      return;\r\n    }\r\n    if(userIdentity != \"manager\"){\r\n      return;\r\n    }\r\n    setLoadVisible(true);\r\n    //获取奖励信息\r\n    let url = BasicProxy + \"/api/punishAndReward/rewards/leader/list?classId=\" + currentClass.classId +\r\n    \"&gradeId=\" + currentClass.gradeId +\r\n    \"&startDate=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"2021-01-01\") + \r\n    \"&endDate=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"2021-03-01\");    \r\n    fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>{\r\n          return res.json();\r\n      })\r\n      .then((result)=>{\r\n          if(result.status == 200 && Array.isArray(result.data)){\r\n              setAwardList(result.data);\r\n          } else {\r\n              setAwardList(false);\r\n          }\r\n      })\r\n      //获取处罚信息\r\n      url = BasicProxy + \"/api/punishAndReward/punishment/leader/list?classId=\" + currentClass.classId +\r\n      \"&gradeId=\" + currentClass.gradeId +\r\n      \"&startDate=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"2021-01-01\") + \r\n      \"&endDate=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"2021-03-01\");\r\n      // }\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>{\r\n          return res.json();\r\n      })\r\n      .then((result)=>{\r\n          if(result.status == 200 && Array.isArray(result.data)){\r\n              setPunishList(result.data);\r\n             \r\n          }\r\n          setLoadVisible(false);\r\n      })\r\n  }, [userIdentity, currentTerm]);\r\n  //奖项每5个化为一页，进行轮播\r\n  let updateAwardList = [];\r\n  let arr = [];\r\n  Array.isArray(awardList) && awardList.forEach((item, index)=>{\r\n    arr.push(item);\r\n    if(((index + 1) % 5 == 0) || index == awardList.length - 1){\r\n        updateAwardList.push(arr);\r\n        arr = [];\r\n    }\r\n  })\r\n\r\n  //计算获奖各个类型数量\r\n  let awardKindList = [];\r\n  Array.isArray(awardList) && awardList.forEach((item)=>{\r\n    awardKindList.push(awardKind[(item.awardLevel? item.awardLevel: -1)]);\r\n  })\r\n  awardKindList = [...new Set(awardKindList)];\r\n  let updateAwardKindList = [];\r\n  awardKindList.forEach((item)=>{\r\n    let sum = 0;\r\n    awardList.forEach((child)=>{\r\n      if(awardKind[(item.awardLevel? item.awardLevel: -1)] == item){\r\n        sum++;\r\n      }\r\n    })\r\n    let obj = {\r\n      key: item,\r\n      num: sum\r\n    }\r\n    updateAwardKindList.push(obj);\r\n  })\r\n  //计算处罚各个类型数量\r\n  let punishKindList = [];\r\n  Array.isArray(punishList) && punishList.forEach((item)=>{\r\n    punishKindList.push(awardKind[(item.punishmentLevel? item.punishmentLevel: -1)]);\r\n  })\r\n  punishKindList = [...new Set(punishKindList)];\r\n  let updatePunishKindList = [];\r\n  punishKindList.forEach((item)=>{\r\n    let sum = 0;\r\n    punishList.forEach((child)=>{\r\n      if(awardKind[(child.punishmentLevel? child.punishmentLevel: -1)] == item){\r\n        sum++;\r\n      }\r\n    })\r\n    let obj = {\r\n      key: item,\r\n      num: sum\r\n    }\r\n    updatePunishKindList.push(obj);\r\n  })\r\n  return (\r\n    <div\r\n      className={`card-content card-award-punish ${className ? className : \"\"}`}\r\n      // style={{paddingTop: (loadVisible? 200: \"\")}}\r\n    >\r\n      {\r\n        awardList.length == 0 && punishList == 0?\r\n        <Empty\r\n          title={\"暂无数据\"}\r\n          className=\"pc-empty\"\r\n          type={\"3\"}\r\n        ></Empty>:\r\n        <div>\r\n           <Carousel\r\n      dots={{\r\n          className: 'personal-award-dot'\r\n      }}>\r\n        {\r\n          updateAwardList.map((item, index)=>{\r\n              return (\r\n                  <div className=\"award-list\" key={index}>\r\n                  {\r\n                      item.map((child, index1)=>{\r\n                          return (\r\n                          <div className=\"award-one\" key={index1}>\r\n                              <i className={\"awardlogo \" + \r\n                              (\r\n                                  child.awardLevel == 5 || child.awardClass == 1?\r\n                                  \"award-1\":\r\n                                  child.awardLevel == 4 || child.awardClass == 2?\r\n                                  \"award-2\":\r\n                                  child.awardLevel == 3 || child.awardClass == 3?\r\n                                  \"award-3\":\r\n                                  \"\"\r\n                              )\r\n                              }></i>\r\n                              <p title={child.awardLevelName + child.awardName}>\r\n                                  {child.awardLevelName + child.awardName}\r\n                              </p>\r\n                              <p title={awardLevelList[child.awardClass]}>\r\n                                  {awardLevelList[child.awardClass]}\r\n                              </p>\r\n                              {\r\n                                  userIdentity == 'manager'?\r\n                                  <p \r\n                                  title={child.studentName}\r\n                                  style={{color: '#ff6600'}}\r\n                                  >[{child.studentName}]</p>:\r\n                                  \"\"\r\n                              }\r\n                          </div>\r\n                          )\r\n                      })\r\n                  }  \r\n                  </div>\r\n              )\r\n          })\r\n      }\r\n      </Carousel>\r\n      <div className=\"award-info\">\r\n      <p className=\"award-sum\">目前已有奖项:<span>{awardList.length}</span></p>\r\n        <Carousel\r\n        dots={{\r\n            className: 'award-info-dot'\r\n        }}>\r\n        <ul className=\"award-info-list\">\r\n          {\r\n            updateAwardKindList.map((item, index)=>{\r\n              return (\r\n                <li key={index}>\r\n                  {item.key}次数: \r\n                  <span>{item.num}次</span>\r\n                </li>\r\n              )\r\n            })\r\n          }\r\n        </ul>\r\n        </Carousel>\r\n        \r\n      </div>\r\n      <div className=\"punish-info\">\r\n      <p className=\"punish-sum\">目前处罚次数:<span>{punishList.length}</span></p>\r\n      <Carousel\r\n        dots={{\r\n            className: 'punish-info-dot'\r\n        }}>\r\n        <ul className=\"punish-info-list\">\r\n          {\r\n            updatePunishKindList.map((item, index)=>{\r\n              return (\r\n                <li key={index}>\r\n                  {item.key}次数: \r\n                  <span>{item.num}次</span>\r\n                </li>\r\n              )\r\n            })\r\n          }\r\n        </ul>\r\n        </Carousel>\r\n      </div>\r\n        </div>\r\n      }\r\n    \r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let { commonData } = state;\r\n  return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(Information)));\r\n","import React, { useState, memo } from \"react\";\r\n\r\nfunction Linkbtn(props) {\r\n  let { className, type, title, onClick,children } = props;\r\n  return (\r\n    <span\r\n      className={`card-linkbtn ${className?className:''} ${type && \"card-linkbtn-\" + type}`}\r\n      onClick={onClick}\r\n    >\r\n      {children||title}\r\n    </span>\r\n  );\r\n}\r\nexport default Linkbtn;\r\n","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport echarts from \"echarts/lib/echarts\";\r\n// import \"echarts/lib/chart/radar\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/polar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/chart/radar\";\r\nimport { resizeForEcharts } from \"@/util/public\";\r\nimport { Dropdown } from \"@/component/common\";\r\nimport {connect} from \"react-redux\";\r\nimport fetch from \"../../util/fetch\";\r\nimport {Empty} from \"../../component/common\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction Data(props, ref) {\r\n    let {\r\n        className,\r\n        userIdentity,\r\n        data,\r\n        currentTerm,\r\n        currentClass,\r\n        userInfo: {UserID, SchoolID},\r\n        setLoadVisible\r\n    } = props;\r\n    const [commentList, setCommentList] = useState({});\r\n    useLayoutEffect(()=>{\r\n    //获取排名信息\r\n    ///api/status/student\r\n    if(!UserID || !currentTerm.term){\r\n      return;\r\n    }\r\n    if(userIdentity != \"manager\" && !currentClass.classId){\r\n        return;\r\n    }\r\n    setLoadVisible(true);\r\n    let url = BasicProxy + \"/api/learning2/comprehensive?type=1\" +\r\n    \"&studentId=\" + UserID + \r\n    \"&classId=\" + currentClass.classId +\r\n    \"&gradeId=\" + currentClass.gradeId +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&termId=\" + currentTerm.term;\r\n    // \"&start=\" + (currentTerm.termStartDate? \r\n    // new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n    // \"&end=\" + (currentTerm.termEndDate?\r\n    // new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>{\r\n        return res.json();\r\n    })\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          setCommentList(result.data);\r\n        }\r\n        setLoadVisible(false);\r\n    })\r\n  }, [currentClass, UserID, currentTerm]);\r\n  useEffect(() => {\r\n    let xList = [], dataList = [];\r\n    if(!Array.isArray(commentList.qualityItemList) || commentList.qualityItemList.length == 0){\r\n        return;\r\n    }\r\n    commentList.qualityItemList.forEach((item)=>{\r\n        let obj = {\r\n            text: item.itemName\r\n        };\r\n        xList.push(obj);\r\n        // if(item.rank == \"A\"){\r\n        //     dataList.push(80);\r\n        // } else if(item.rank == \"B\"){\r\n        //     dataList.push(70);\r\n        // } else if(item.rank == \"C\"){\r\n        //     dataList.push(60);\r\n        // } else {\r\n        //     dataList.push(50);\r\n        // }\r\n        if(item.rank == \"A\"){\r\n            dataList.push(10);\r\n        } else if(item.rank == \"B\"){\r\n            dataList.push(10);\r\n        } else if(item.rank == \"C\"){\r\n            dataList.push(10);\r\n        } else {\r\n            dataList.push(40);\r\n        }\r\n    })\r\n    let myEchart = echarts.init(document.getElementById('evaluate-echart'));\r\n    myEchart.resize();\r\n    let option = {\r\n    //   legend: {\r\n    //       data: xList\r\n    //   },\r\n      grid: {\r\n        top: 0,\r\n        bottom: 0,\r\n        left: 30,\r\n        right: 30,\r\n        containLabel: true\r\n      },\r\n      tooltip: {\r\n        trigger: \"item\",\r\n        appendToBody: true,\r\n        formatter: function(params){\r\n            let str = params.name + \"<br/>\";\r\n            console.log(params);\r\n            commentList.qualityItemList.forEach((item)=>{\r\n                \r\n                str += params.marker + item.itemName + \": \" + item.rank + \"<br/>\";\r\n            })\r\n            \r\n            return str;\r\n        }\r\n      },\r\n      radar: [\r\n          {\r\n              indicator: xList,\r\n              center: ['50%', '55%'],\r\n              radius: 80,\r\n              startAngle: 90,\r\n              splitNumber: 5,\r\n              shape: 'circle',\r\n              name: {\r\n                //   formatter: '{value}',\r\n                  textStyle: {\r\n                      color: '#999999'\r\n                  }\r\n              },\r\n              splitArea: {\r\n                  areaStyle: {\r\n                      color: ['rgba(15,136,139,0.5)',\r\n                          'rgba(15,136,139,0.4)', 'rgba(15,136,139,0.3)',\r\n                          'rgba(15,136,139,0.2)', 'rgba(15,136,139,0.1)'],\r\n                      shadowColor: 'rgba(0, 0, 0, 0.3)',\r\n                      shadowBlur: 10\r\n                  }\r\n              },\r\n              axisLine: {\r\n                  lineStyle: {\r\n                      color: 'rgba(15,136,139,0.2)'\r\n                  }\r\n              },\r\n              splitLine: {\r\n                  show: false,\r\n              }\r\n          },\r\n      ],\r\n      series: [\r\n          {\r\n              name: '雷达图',\r\n              type: 'radar',\r\n              emphasis: {\r\n                  lineStyle: {\r\n                      width: 2\r\n                  }\r\n              },\r\n              data: [\r\n                  {\r\n                      value: dataList,\r\n                      name: '综合评价',\r\n                      symbol: 'circle',\r\n                      symbolSize: 5,\r\n                      itemStyle: {\r\n                          color: '#52d8d7'\r\n                      },\r\n                      lineStyle: {\r\n                          color: '#39ADAE'\r\n                      }\r\n                  },\r\n              ]\r\n          }\r\n      ]\r\n    }\r\n    myEchart.setOption(option);\r\n    window.addEventListener('resize', function(){\r\n      myEchart.resize();\r\n    })\r\n  }, [commentList])\r\n  return (\r\n    <div className={`card-content card-evaluate ${className ? className : \"\"}`}>\r\n        {\r\n            !Array.isArray(commentList.qualityItemList) || commentList.qualityItemList.length == 0?\r\n            <Empty\r\n            title={\"暂无数据\"}\r\n            className=\"pc-empty\"\r\n            type={\"3\"}\r\n            ></Empty>:\r\n            <div className=\"evaluate-echart\" id=\"evaluate-echart\"></div>\r\n        }\r\n      \r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { commonData } = state;\r\n    return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(Data)));\r\n","import React, {\r\n    useState,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    memo,\r\n    forwardRef\r\n} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport DefaultImage from \"./images/class-default.png\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nimport { Loading } from \"../../component/common\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction ClassStatus(props){\r\n    let {\r\n        className,\r\n        userIdentity,\r\n        data,\r\n        currentTerm,\r\n        currentClass,\r\n        userInfo: {UserID, SchoolID, UserName},\r\n        setLoadVisible\r\n    } = props;\r\n    const [classInfo, setClassInfo] = useState({});\r\n    useLayoutEffect(()=>{\r\n        //获取学籍信息\r\n        ///api/status/student\r\n        setLoadVisible(true);\r\n        if(!UserID){\r\n        return;\r\n        }\r\n        if(!currentClass.classId){\r\n            return;\r\n        }\r\n        let url = BasicProxy + \"/api/status/class?classId=\" + currentClass.classId;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setClassInfo(result.data);\r\n            }\r\n            setLoadVisible(false);\r\n        })\r\n    }, [currentClass]);\r\n    return (\r\n        <div\r\n        className={`card-content card-class-status ${className ? className : \"\"}`}\r\n        >\r\n        <div className=\"img-container\">\r\n        <div className=\"class-bg\"></div>\r\n        {/* <img src={DefaultImage} /> */}\r\n        </div>\r\n        <p style={{marginTop: 5}}>总人数:<span title={typeof classInfo.classSize == \"number\"? classInfo.classSize: \"--\"}>\r\n            {typeof classInfo.classSize == \"number\"? classInfo.classSize: \"--\"}人</span></p>\r\n        <p>班主任:<span title={UserName}>{UserName}</span></p>\r\n        <p style={{marginTop: 13}}>男生人数:\r\n        <span title={typeof classInfo.maleNum == \"number\"? classInfo.maleNum: \"--\"}>\r\n            {typeof classInfo.maleNum == \"number\"? classInfo.maleNum: \"--\"}人\r\n        </span>\r\n        </p>\r\n        <p>女生人数:\r\n            <span title={typeof classInfo.femaleNum == \"number\"? classInfo.femaleNum: \"--\"}>\r\n                {typeof classInfo.femaleNum == \"number\"? classInfo.femaleNum: \"--\"}人\r\n            </span>\r\n        </p>\r\n        {/* <p className=\"class-remark\">\r\n            <span className=\"remark-name\">班级寄语:</span>\r\n            <span className=\"remark-content\">愿望是进取的起点，习惯是成才的基础，努力是成功的阶梯，选\r\n                择行动塑造最优秀的自己</span>\r\n        </p> */}\r\n            \r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { commonData } = state;\r\n    return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(ClassStatus)));","import React, {\r\n    useState,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    memo,\r\n    forwardRef\r\n} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport DefaultImage from \"./images/school-default.png\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nimport { Loading } from \"../../component/common\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction SchoolStatus(props){\r\n    let {\r\n        className,\r\n        userIdentity,\r\n        data,\r\n        currentTerm,\r\n        currentClass,\r\n        userInfo: {UserID, SchoolID, UserName},\r\n        setLoadVisible\r\n    } = props;\r\n    const [schoolInfo, setSchoolInfo] = useState({});\r\n    const [leaderInfo, setLeaderInfo] = useState({});\r\n    useLayoutEffect(()=>{\r\n        //获取学籍信息\r\n        ///api/status/student\r\n        if(!SchoolID){\r\n        return;\r\n        }\r\n        setLoadVisible(true);\r\n        let url = BasicProxy + \"/api/status/school?schoolId=\" + SchoolID;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setSchoolInfo(result.data);\r\n            }\r\n        })\r\n        url = BasicProxy + \"/api/base/getSchoolLeader?schoolId=\" + SchoolID +\r\n        \"&position=0\";\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setLeaderInfo(result.data);\r\n            }\r\n            setLoadVisible(false);\r\n        })\r\n    }, [SchoolID]);\r\n    return (\r\n        <div className={`card-content card-class-status ${className ? className : \"\"}`}>\r\n            <div className=\"img-container\">\r\n                <div className=\"school-bg\"></div>\r\n                {/* <img src={DefaultImage} /> */}\r\n            </div>\r\n            <p style={{marginTop: 5}}>总人数:<span>\r\n                {typeof schoolInfo.schoolSize == \"number\"? schoolInfo.schoolSize: \"--\"}人</span></p>\r\n            <p>校长:<span>{leaderInfo[0]? leaderInfo[0].userName: \"--\"}</span></p>\r\n            <p style={{marginTop: 13}}>\r\n                男生人数:\r\n                <span>\r\n                {typeof schoolInfo.maleNum == \"number\"? schoolInfo.maleNum: \"--\"}人.\r\n                </span>\r\n                {schoolInfo.schoolSize? \r\n                ((schoolInfo.maleNum/schoolInfo.schoolSize)*100).toFixed(1) + \"%\": \"--\"}</p>\r\n            <p>女生人数:<span>\r\n                {typeof schoolInfo.femaleNum == \"number\"? schoolInfo.femaleNum: \"--\"}人.</span>\r\n                {schoolInfo.schoolSize? \r\n                ((schoolInfo.femaleNum/schoolInfo.schoolSize)*100).toFixed(1) + \"%\": \"--\"}</p>\r\n            <p className=\"class-remark\">\r\n                <span className=\"remark-name\">学校标语:</span>\r\n                <span className=\"remark-content\">--</span>\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    let { commonData } = state;\r\n    return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(SchoolStatus)));","import React, {\r\n    useState,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    memo,\r\n    forwardRef\r\n} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport fetch from \"../../util/fetch\";\r\nimport {Empty, Loading} from \"../../component/common\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction ClassAttainment(props){\r\n    let {\r\n        className,\r\n        userIdentity,\r\n        data,\r\n        currentTerm,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {UserID, SchoolID},\r\n        setLoadVisible\r\n    } = props;\r\n    // const [loadVisible, setLoadVisible] = useState(true);\r\n    const [commentList, setCommentList] = useState({});\r\n    useLayoutEffect(()=>{\r\n    //获取排名信息\r\n    ///api/status/student\r\n    if(!UserID || !currentTerm.term){\r\n      return;\r\n    }\r\n    setLoadVisible(true);\r\n    let url = BasicProxy + \"/api/learning2/comprehensive?type=\" + (\r\n        userIdentity == \"teacher\"?\r\n        2:\r\n        userIdentity == \"student\"?\r\n        1:\r\n        4\r\n    ) +\r\n    \"&studentId=\" + UserID + \r\n    \"&classId=\" + currentClass.classId +\r\n    \"&gradeId=\" + currentClass.gradeId +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&termId=\" + currentTerm.term;\r\n    // \"&start=\" + (currentTerm.termStartDate? \r\n    // new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n    // \"&end=\" + (currentTerm.termEndDate?\r\n    // new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>{\r\n        return res.json();\r\n    })\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          setCommentList(result.data);\r\n        }\r\n        setLoadVisible(false)\r\n    })\r\n  }, [currentClass, UserID, currentTerm]);\r\n    return (\r\n        <div className={`card-content card-class-attainment ${className ? className : \"\"}`} >\r\n                <p className=\"card-title\">{ Array.isArray(commentList.qualityItemList) &&\r\n               commentList.qualityItemList.length > 0? currentTerm.term: \"\"}</p>\r\n           {\r\n               Array.isArray(commentList.qualityItemList) &&\r\n               commentList.qualityItemList.length > 0?\r\n               commentList.qualityItemList.map((item, index)=>{\r\n                   return (\r\n                    <div className=\"circle-container\" key={index}>\r\n                        <div className=\r\n                        {\"circle \" + \r\n                        (item.rank == \"A\"? \r\n                        \"green\": \r\n                        item.rank == \"B\"? \r\n                        \"blue\": \r\n                        item.rank == \"C\"? \r\n                        \"violet\": \r\n                        \"brown\")}>\r\n                            {item.rank? item.rank: \"--\"}</div>\r\n                        <p title={item.itemName}>{item.itemName}</p>\r\n                    </div>\r\n                   )\r\n               }):\r\n               <Empty\r\n                title={\"暂无数据\"}\r\n                className=\"pc-empty\"\r\n                type={\"3\"}\r\n                ></Empty>\r\n           }     \r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { commonData } = state;\r\n    return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(ClassAttainment)));","import React, {\r\n    useState,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    memo,\r\n    forwardRef\r\n} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Scrollbars} from \"react-custom-scrollbars\";\r\nimport { Loading } from \"../../component/common\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction ClassRank(props){\r\n    let {\r\n        className,\r\n        userIdentity,\r\n        data,\r\n        currentTerm,\r\n        currentClass,\r\n        userInfo: {UserID, SchoolID},\r\n        setLoadVisible\r\n    } = props;\r\n    const [rankInfo, setRankInfo] = useState({});\r\n    const [subjectList, setSubjectList] = useState([]);\r\n    const [rankList, setRankList] = useState([]);\r\n      useLayoutEffect(()=>{\r\n        //获取班级排名信息\r\n        ///api/status/student\r\n        if(!UserID || !currentTerm.term){\r\n          return;\r\n        }\r\n        setLoadVisible(true);\r\n        let url = BasicProxy + \"/api/learning2/exam/scoreRank?type=2\" +\r\n        \"&studentId=&classId=\" + currentClass.classId +\r\n        \"&gradeId=\" + currentClass.gradeId +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTerm.term +\r\n        \"&examType=2\" +\r\n        \"&start=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"2021-01-01\") + \r\n        \"&end=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"2021-03-01\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setRankInfo(result.data);\r\n            }\r\n        })\r\n        //获取平均分列表\r\n        url = BasicProxy + \"/api/learning2/homework/avgScore?type=2\" +\r\n        \"&studentId=&classId=\" + currentClass.classId +\r\n        \"&gradeId=\" + currentClass.gradeId +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTerm.term +\r\n        \"&examType=2\" +\r\n        \"&start=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"2021-01-01\") + \r\n        \"&end=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"2021-03-01\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setSubjectList(result.data);\r\n            }\r\n        })\r\n        //获取班级学生分数信息  \r\n        url = BasicProxy + \"/api/learning2/rank?type=2\" +\r\n        \"&classId=\" + currentClass.classId +\r\n        \"&gradeId=\" + currentClass.gradeId +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTerm.term +\r\n        \"&start=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"2021-01-01\") + \r\n        \"&end=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"2021-03-01\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                result.data.forEach((item)=>{\r\n                    if(item.rankType.indexOf(\"考试\") != -1){\r\n                        setRankList(item.learningRankListList);\r\n                        \r\n                    }\r\n                })\r\n                setLoadVisible(false);\r\n            }\r\n        })\r\n      }, [currentClass, UserID, currentTerm]);\r\n    return (\r\n        <div\r\n        className={`card-content card-class-rank ${className ? className : \"\"}`} >\r\n            <div className=\"class-rank-top\">\r\n                <div className=\"sum-rank\">\r\n                    <div className=\"rank-num\">{rankInfo.gradeRank? rankInfo.gradeRank: \"--\"}</div>\r\n                    <p>班级总分排名</p>\r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                <ul className=\"subject-rank-list\">\r\n                    <Scrollbars\r\n                    autoHeight\r\n                    autoHeightMax={80}\r\n                    renderThumbVertical={props => <div {...props} className=\"thumb-vertical\"/>}>\r\n                    {\r\n                        subjectList.map((item, index)=>{\r\n                            return (\r\n                            <li key={index}>\r\n                            {item.subjectName}分数: \r\n                            <span className=\"grade-rank\">{item.score}</span>\r\n                            </li>\r\n                            )\r\n                        })\r\n                    }\r\n                    {/* <li>\r\n                        语文排名:\r\n                        <span className=\"grade-rank\">3</span>\r\n                    </li>\r\n                    <li>\r\n                        语文排名:\r\n                        <span className=\"grade-rank\">3</span>\r\n                    </li> */}\r\n                    </Scrollbars>\r\n                </ul>\r\n            </div>\r\n            <div className=\"class-rank-bottom\">\r\n                <div className=\"table-head\">\r\n                    <div className=\"table-th th-name\" style={{width: '50%'}}>姓名</div>\r\n                    <div className=\"table-th\" style={{width: '20%'}}>总分</div>\r\n                    <div className=\"table-th\" style={{width: '30%'}}>排名</div>\r\n                    {/* <div className=\"table-th th-name\" style={{width: '40%'}}>姓名</div>\r\n                    <div className=\"table-th\" style={{width: '18%'}}>总分</div>\r\n                    <div className=\"table-th\" style={{width: '21%'}}>班级排名</div>\r\n                    <div className=\"table-th\" style={{width: '21%'}}>年级排名</div> */}\r\n                </div>\r\n                <Scrollbars\r\n                autoHeight\r\n                autoHeightMax={125}\r\n                // renderTrackVertical={props => <div {...props} className=\"track-vertical\"/>}\r\n                renderThumbVertical={props => <div {...props} className=\"thumb-vertical\"/>}>\r\n                    {\r\n                        rankList.map((item, index)=>{\r\n                            return (\r\n                                <div className=\"stu-rank-list\" key={index}>\r\n                                    <div className=\"stu-name\" style={{width: '50%'}}>\r\n                                        <img src={item.photo} />\r\n                                        {item.name}\r\n                                    </div>\r\n                                    <div className=\"stu-sum\" style={{width: '20%'}}>\r\n                                        {item.score}\r\n                                    </div>\r\n                                    <div className=\"stu-class-rank\" style={{width: '30%'}}>\r\n                                        {item.rank}\r\n                                        {/* <i className=\"uplogo\"></i> */}\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                    {/* <div className=\"stu-rank-list\">\r\n                        <div className=\"stu-name\" style={{width: '40%'}}>\r\n                            <img src=\"\" />\r\n                            马保国\r\n                        </div>\r\n                        <div className=\"stu-sum\" style={{width: '18%'}}>\r\n                            566\r\n                        </div>\r\n                        <div className=\"stu-class-rank\" style={{width: '21%'}}>\r\n                            1\r\n                            <i className=\"uplogo\"></i>\r\n                        </div>\r\n                        <div className=\"stu-grade-rank\" style={{width: '21%'}}>\r\n                            3\r\n                            <i className=\"uplogo\"></i>\r\n                        </div>\r\n                    </div> */}\r\n                </Scrollbars>\r\n                {/* <div className=\"rank-info\">\r\n                    <p>\r\n                        进步最大:\r\n                        <span>马保国(年级进步23名)</span>\r\n                    </p>\r\n                    <p>\r\n                        退步最大:\r\n                        <span>马保国(年级退步23名)</span>\r\n                    </p>\r\n                </div> */}\r\n            </div>          \r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { commonData } = state;\r\n    return { ...commonData };\r\n  };\r\nexport default connect(mapStateToProps)(memo(forwardRef(ClassRank)));","\r\nimport React, {\r\n    useState,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    memo,\r\n    forwardRef\r\n} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Scrollbars} from \"react-custom-scrollbars\";\r\nimport { Loading } from \"../../component/common\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction GradeRank(props){\r\n    let {\r\n        className,\r\n        userIdentity,\r\n        data,\r\n        currentTerm,\r\n        currentClass,\r\n        userInfo: {UserID, SchoolID},\r\n        setLoadVisible\r\n    } = props;\r\n    const [gradeInfoList, setGradeInfoList] = useState([]);\r\n    // const [loadVisible, setLoadVisible] = useState(true);\r\n      useLayoutEffect(()=>{\r\n        //获取班级排名信息\r\n        ///api/status/student\r\n        if(!UserID || !currentTerm.term){\r\n          return;\r\n        }\r\n        setLoadVisible(true);\r\n        let url = BasicProxy + \"/api/learning2/exam/scoreRank/batch?type=3\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTerm.term +\r\n        \"&examType=2\" +\r\n        \"&start=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"2021-01-01\") + \r\n        \"&end=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"2021-03-01\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setGradeInfoList(result.data);\r\n            }\r\n            setLoadVisible(false);\r\n        })\r\n\r\n      }, [currentClass, UserID, currentTerm]);\r\n\r\n    return (\r\n        <div className={`card-content card-grade-rank ${className ? className : \"\"}`}>\r\n            <Scrollbars\r\n            autoHeight\r\n            autoHeightMax={360}\r\n            renderThumbVertical={props => <div {...props} className=\"thumb-vertical\"/>}>\r\n                {\r\n                    gradeInfoList.map((item, index)=>{\r\n                        let sumAvg = 0;\r\n                        item.examScoreAndRankList.forEach((child)=>{\r\n                            if(child.subject == \"总分\" && child.examName == \"期末\"){\r\n                                sumAvg = child.score;\r\n                            }\r\n                            if(!sumAvg && child.subject == \"总分\" && child.examName == \"期中\"){\r\n                                sumAvg = child.score;\r\n                            }\r\n                        })\r\n                        return (\r\n                        <div className=\"grade-info-one\" key={index}>\r\n                            <p className=\"grade-title\">{item.gradeName}:</p>\r\n                            <div className=\"grade-detail\">\r\n                                <div className=\"detail-left\">\r\n                                    {/* <ul className=\"rate-list\">\r\n                                        <li>优秀率:<span>23%</span></li>\r\n                                        <li>及格率:<span>23%</span></li>\r\n                                        <li>最高分:<span>23</span></li>\r\n                                        <li>最低分:<span>23</span></li>\r\n                                    </ul> */}\r\n                                    <p className=\"sum-avg\">{sumAvg}</p>\r\n                                    <p>总分平均分</p>\r\n                                </div>\r\n                                <div className=\"slice-line\"></div>\r\n                                <div className=\"detail-right\">\r\n                                    <ul className=\"grade-class-list\">\r\n                                    <Scrollbars\r\n                                    autoHeight\r\n                                    autoHeightMax={128}\r\n                                    renderThumbVertical={props => <div {...props} className=\"thumb-vertical\"/>}>\r\n                                        {\r\n                                            item.examScoreAndRankList.map((child, index1)=>{\r\n                                                if(child.subject == \"总分\"){\r\n                                                    return;\r\n                                                }\r\n                                                return (\r\n                                                    <li key={index1}>\r\n                                                        <i className=\"ranklogo\"></i>\r\n                                                        <span className=\"class-name\">{child.subject}</span>\r\n                                                        <span className=\"rank-score\">平均分:{child.score}</span>\r\n                                                    </li> \r\n                                                )\r\n                                            })\r\n                                        }\r\n                                        {/* <li>\r\n                                            <i className=\"ranklogo\"></i>\r\n                                            <span className=\"class-name\">一年级(13)班</span>\r\n                                            <span className=\"rank-score\">平均分:451</span>\r\n                                        </li>\r\n                                        <li>\r\n                                            <i className=\"ranklogo\"></i>\r\n                                            <span className=\"class-name\">一年级(13)班</span>\r\n                                            <span className=\"rank-score\">平均分:451</span>\r\n                                        </li>\r\n                                        <li>\r\n                                            <i className=\"ranklogo\"></i>\r\n                                            <span className=\"class-name\">一年级(13)班</span>\r\n                                            <span className=\"rank-score\">平均分:451</span>\r\n                                        </li> */}\r\n                                        </Scrollbars>\r\n                                    </ul>\r\n                                    \r\n                                </div>\r\n                            </div>\r\n                        </div> \r\n                        )\r\n                    })\r\n                }\r\n            {/* <div className=\"grade-info-one\">\r\n                <p className=\"grade-title\">一年级:</p>\r\n                <div className=\"grade-detail\">\r\n                    <div className=\"detail-left\">\r\n                        <ul className=\"rate-list\">\r\n                            <li>优秀率:<span>23%</span></li>\r\n                            <li>及格率:<span>23%</span></li>\r\n                            <li>最高分:<span>23</span></li>\r\n                            <li>最低分:<span>23</span></li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"detail-right\">\r\n                        <ul className=\"grade-class-list\">\r\n                            <li>\r\n                                <i className=\"ranklogo\"></i>\r\n                                <span className=\"class-name\">一年级(13)班</span>\r\n                                <span className=\"rank-score\">平均分:451</span>\r\n                            </li>\r\n                            <li>\r\n                                <i className=\"ranklogo\"></i>\r\n                                <span className=\"class-name\">一年级(13)班</span>\r\n                                <span className=\"rank-score\">平均分:451</span>\r\n                            </li>\r\n                            <li>\r\n                                <i className=\"ranklogo\"></i>\r\n                                <span className=\"class-name\">一年级(13)班</span>\r\n                                <span className=\"rank-score\">平均分:451</span>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div> */}\r\n            </Scrollbars>        \r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { commonData } = state;\r\n    return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(GradeRank)));","import React, {\r\n    useCallback,\r\n    memo,\r\n    useEffect,\r\n    useState,\r\n    // useImperativeHandle,\r\n    // useMemo,\r\n    // useReducer,\r\n    // createContext,\r\n    // useContext,\r\n    useRef,\r\n    forwardRef,\r\n    useLayoutEffect,\r\n  } from \"react\";\r\n  import Progress from \"@/component/progress\";\r\n  import { Loading } from \"../../component/common\";\r\n  import \"./index.scss\";\r\n  \r\n  /**\r\n   * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n   * @param {*} props\r\n   * @param {*} ref\r\n   * @return {*}\r\n   */\r\n  function StuHealth(props, ref) {\r\n    let {\r\n      className,\r\n      data,\r\n      userIdentity,\r\n    } = props;\r\n    return (\r\n      <div className={`card-content card-health ${className ? className : \"\"}`}>\r\n        {\r\n          userIdentity == \"student\"?\r\n          <div>\r\n            <p className=\"info-one\">\r\n              日常运动频率:<span>1次/天</span>\r\n            </p>\r\n            <p className=\"info-one\">\r\n              病假率:<span>9%</span>\r\n            </p>\r\n          </div>:\r\n          \"\"\r\n        }\r\n        {/* <p className=\"info-one\" style={{\r\n            position: 'relative',\r\n            top: '5px'\r\n        }}>\r\n            日常运动频率:<span>78分</span>\r\n        </p>\r\n        <p className=\"info-one\" style={{\r\n            position: 'relative',\r\n            top: '5px'\r\n        }}>\r\n            病假率:<span>78分</span>\r\n        </p> */}\r\n        <div className=\"slice-line\" style={{margin: '14px 0'}}></div>\r\n        <div style={{marginBottom: 15}}>\r\n            {/* <p className=\"grade-one\" style={{display: 'block'}}>\r\n                体质平均分数:<span>78分</span>\r\n            </p> */}\r\n            <div className=\"progress-container\">\r\n                <span className=\"grade-name\">体重指数</span>\r\n                <Progress\r\n                className=\"grade-progress\"\r\n                percent={45} \r\n                step={25}\r\n                width={114}\r\n                max={100} />\r\n                <span className=\"grade-num\"><span>10</span>分</span>\r\n            </div>\r\n            <div className=\"progress-container\">\r\n                <span className=\"grade-name\">视力</span>\r\n                <Progress\r\n                className=\"grade-progress\"\r\n                percent={20} \r\n                step={25}\r\n                width={114}\r\n                max={100} />\r\n                <span className=\"grade-num\"><span>10</span>分</span>\r\n            </div>\r\n            <div className=\"progress-container\">\r\n                <span className=\"grade-name\">肺活量</span>\r\n                <Progress\r\n                className=\"grade-progress\"\r\n                percent={20} \r\n                step={25}\r\n                width={114}\r\n                max={100} />\r\n                <span className=\"grade-num\"><span>10</span>分</span>\r\n            </div>\r\n            <div className=\"progress-container\">\r\n                <span className=\"grade-name\">50米跑</span>\r\n                <Progress\r\n                className=\"grade-progress\"\r\n                percent={20} \r\n                step={25}\r\n                width={114}\r\n                max={100} />\r\n                <span className=\"grade-num\"><span>10</span>分</span>\r\n            </div>\r\n        </div>\r\n        <div>\r\n          <p className=\"grade-one\" style={{display: 'block'}}>\r\n            中考体育平均成绩:<span>78分</span>\r\n          </p>\r\n          <div className=\"progress-container\">\r\n            <span className=\"grade-name\">长跑</span>\r\n            <Progress\r\n            className=\"grade-progress\"\r\n            percent={20} \r\n            step={25}\r\n            width={114}\r\n            max={100} />\r\n            <span className=\"grade-num\"><span>10</span>分</span>\r\n          </div>\r\n          <div className=\"progress-container\">\r\n            <span className=\"grade-name\">游泳</span>\r\n            <Progress\r\n            className=\"grade-progress\"\r\n            percent={20} \r\n            step={25}\r\n            width={114}\r\n            max={100} />\r\n            <span className=\"grade-num\"><span>10</span>分</span>\r\n          </div>\r\n          <div className=\"progress-container\">\r\n            <span className=\"grade-name\">抛实心球</span>\r\n            <Progress\r\n            className=\"grade-progress\"\r\n            percent={20} \r\n            step={25}\r\n            width={114}\r\n            max={100} />\r\n            <span className=\"grade-num\"><span>10</span>分</span>\r\n          </div>\r\n          <div className=\"progress-container\">\r\n            <span className=\"grade-name\">立定跳远</span>\r\n            <Progress\r\n            className=\"grade-progress\"\r\n            percent={20} \r\n            step={25}\r\n            width={114}\r\n            max={100} />\r\n            <span className=\"grade-num\"><span>10</span>分</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default memo(forwardRef(StuHealth));\r\n  ","import {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\n//   import { Search, Empty } from \"../common\";\r\nimport { handleRoute } from \"@/util/public\";\r\nimport listenAppDurationTime from \"../../component/common/listen_app_duration_time\";\r\nimport {Popover} from \"antd\";\r\nimport $ from \"jquery\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Scrollbars from \"react-custom-scrollbars\";\r\nimport { debounce, BrowserMsg, Browser, removeSlashUrl, getQueryVariable } from \"@/util/public\";\r\nimport {\r\n  GetSubSystemsMainServerBySubjectID,\r\n  getTeacherDetailIntroduction,\r\n  GetTermAndPeriodAndWeekNOInfo,\r\n  GetTeacherResView,\r\n  GetTeachPlanStatistics,\r\n  GetTeacherpercentage,\r\n  GetAllTerm,\r\n  GetTeacherWork,\r\n  GetResearchByUserID,\r\n  GetDevelopmentHistory,\r\n  GetLogInfoByUserID,\r\n} from \"@/api/personal\";\r\nimport Card from \"./card\";\r\nimport Archives from \"./archives\";  //左上\r\nimport Accout from \"./accout\"; //左中\r\nimport Teach from \"./teach\";  //左下\r\nimport Work from \"./work\"; //右中\r\nimport HistoryDom from \"./history\";  //中下\r\nimport Information from \"./information\"; //右上\r\nimport Linkbtn from \"./linkbtn\";\r\nimport Data from \"./data\"; //右下\r\n\r\nimport ClassStatus from \"./classStatus\";\r\nimport SchoolStatus from \"./schoolStatus\";\r\nimport ClassAttainment from \"./classAttainment\";\r\nimport ClassRank from \"./classRank\";\r\nimport GradeRank from \"./gradeRank\";\r\nimport StuHealth from \"./stuHealth\";\r\n\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nimport { Loading } from \"../../component/common\";\r\nlet { BasicProxy } = ipConfig;\r\n\r\nfunction PersonalDetail(props, ref) {\r\n  let {\r\n    className,\r\n    history,\r\n    location,\r\n    basePlatFormMsg,\r\n    teachermsg,\r\n    teacherid,\r\n    token,\r\n    roleMsg: { identityCode, userType },\r\n    userInfo: { UserID, UserType, SchoolID, Gender, UserName, Sign },\r\n    ...reset\r\n  } = props;\r\n  console.log(\"首页\", props)\r\n  let storageUserInfo = sessionStorage.getItem(\"UserInfo\")? JSON.parse(sessionStorage.getItem(\"UserInfo\")): {};\r\n  if(!UserID){\r\n    UserID = storageUserInfo.UserID;\r\n  }\r\n  if(!SchoolID){\r\n    SchoolID = storageUserInfo.SchoolID;\r\n  }\r\n  //根据identityCode判断当前身份\r\n  let userIdentity = \"manager\";\r\n  if(identityCode == \"IC0010\"){\r\n    userIdentity = \"manager\";\r\n  }\r\n  if(identityCode == \"IC0013\" || identityCode == \"IC0011\" || identityCode == \"IC0012\"){\r\n    userIdentity = \"teacher\";\r\n  }\r\n  if(identityCode == \"IC0014\" || identityCode == \"IC0015\"){\r\n    userIdentity = \"student\";\r\n  }\r\n  useLayoutEffect(() => {\r\n    if(sessionStorage.getItem((\"isReload\"))){\r\n      return;\r\n    }\r\n    let url = BasicProxy + \"/api/base/getServerInfo?sysIds=850\";\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && result.data){\r\n        let baseUrl = result.data.webSvrAddr;\r\n        if(identityCode == \"IC0014\") {\r\n          listenAppDurationTime(baseUrl,\"270\", \"270001\", UserID);\r\n        } else if(identityCode == \"IC0015\") {\r\n          listenAppDurationTime(baseUrl,\"270\", \"270002\", UserID);\r\n        } else {\r\n          listenAppDurationTime(baseUrl,\"270\", \"270003\", UserID);\r\n        }\r\n        sessionStorage.setItem(\"isReload\", true);\r\n      }\r\n    })\r\n  }, [])\r\n  const [allVisible, setAllVisible] = useState(false);\r\n  const [rate, setRate] = useState(null);\r\n  const [classListVisible, setClassListVisible] = useState(false);\r\n  // 缩放模式，*ratio:等比，以宽的比例为准，*full:全屏，宽高各自比例\r\n  const [zoomType, setZoomType] = useState(\"full\");\r\n  // 宽高\r\n  const [content, setContent] = useState(null);\r\n  const personalRef = useRef(null);\r\n  // 动画状态修改\r\n  const [animationType, setAnimationType] = useState(true);\r\n  // 设置暂停\r\n  const [paused, setPaused] = useState(false);\r\n  // 设置选中\r\n  const [SelectCard, setSelectCard] = useState(false);\r\n\r\n  // 存系统url\r\n  const [SysUrl, setSysUrl] = useState(null);\r\n  // 档案\r\n  const [archives, setArchives] = useState(null);\r\n  // 账号\r\n  const [accout, setAccout] = useState(null);\r\n  // 信息化\r\n  const [information, setInformation] = useState(null);\r\n  // 教研\r\n  const [teach, setTeach] = useState(null);\r\n  // 教学资料\r\n  const [data, setData] = useState(null);\r\n  const [TeachPlan, setTeachPlan] = useState(null); //教学方案\r\n  const [Percentage, setPercentage] = useState(null); //精品课程\r\n  const [ResView, setResView] = useState(null); //电子资源\r\n  const [SubjectList, setSubjectList] = useState(null); //学科列表\r\n  // 工作量\r\n  const [work, setWork] = useState(null);\r\n  const [WorkTerm, setWorkTerm] = useState(null);\r\n  const [WorkTermList, setWorkTermList] = useState(null);\r\n  // 档案\r\n  const [History, setHistory] = useState(null);\r\n\r\n  // 存周次列表\r\n  const [WeekList, setWeekList] = useState(null);\r\n  const [WeekData, setWeekData] = useState(null);\r\n  // 存教学资料的参数\r\n  const [DataParams, setDataParams] = useState({});\r\n\r\n  //存储当前学期\r\n  const [currentTerm, setCurrentTerm] = useState({});\r\n  //存储班级列表和当前班级\r\n  const [classList, setClassList] = useState([]);\r\n  const [currentClass, setCurrentClass] = useState({});\r\n  const [currentGrade, setCurrentGrade] = useState({});\r\n  //存储轨迹数据\r\n  const [awardPunishTrack, setAwardPunishTrack] = useState([]);\r\n  const [attendanceTrack, setAttendanceTrack] = useState([]);\r\n  // 存卡\r\n  let cardList = [\r\n    \"grade-statistic\",\r\n    \"information\",\r\n    \"teach\",\r\n    \"data\",\r\n    \"work\",\r\n    \"archives\",\r\n    \"history\",\r\n  ];\r\n  if(userIdentity == \"teacher\"){\r\n    cardList = [\r\n      \"classStatus\",\r\n      \"stuHealth\",\r\n      \"gradeRank\",\r\n      \"stu-all\",\r\n      \"stu-attendance\",\r\n      \"information\",\r\n      \"history\",\r\n    ];\r\n  }\r\n  if(userIdentity == \"manager\"){\r\n    cardList = [\r\n      \"schoolStatus\",\r\n      \"stuHealth\",\r\n      \"gradeRank\",\r\n      \"stu-all\",\r\n      \"stu-attendance\",\r\n      \"information\",\r\n      \"history\",\r\n    ];\r\n  }\r\n  useLayoutEffect(() => {\r\n    if(userIdentity != \"student\"){\r\n      return;\r\n    }\r\n    let url = BasicProxy + \"/api/base/getSchoolStudent?schoolId=\" + SchoolID +\r\n    \"&studentId=\" + UserID;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && result.data){\r\n        setCurrentClass(result.data);\r\n        setCurrentGrade(result.data.gradeId);\r\n      }\r\n    })\r\n  }, [userIdentity, UserID, SchoolID])\r\n  // 保存浏览器版本，如果是ie不要动画\r\n  const isIE = useMemo(() => {\r\n    let {\r\n      client: { isIE, isWebkit, ieVersion },\r\n    } = Browser;\r\n    let {\r\n      versions: { trident },\r\n    } = BrowserMsg;\r\n    // console.log(isIE, ieVersion(), isWebkit);\r\n    return isIE || trident;\r\n  }, []);\r\n  // 获取各平台地址\r\n  useEffect(() => {\r\n    let sysIDs = [\r\n      310, //教学方案\r\n      // 300, //教学方案\r\n      \"D21\", //精品课程\r\n      \"E34\", //档案\r\n      \"C10\", //电子资源\r\n      // 'D21', //课程精品\r\n    ];\r\n    // console.log(basePlatFormMsg)\r\n    if (!SysUrl && basePlatFormMsg.BasicWebRootUrl) {\r\n      GetSubSystemsMainServerBySubjectID({\r\n        sysIDs,\r\n        baseIP: basePlatFormMsg.BasicWebRootUrl,\r\n      }).then((res) => {\r\n        // console.log(res);\r\n        if (res.StatusCode === 200) {\r\n          setSysUrl(res.data);\r\n        }\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [basePlatFormMsg]);\r\n\r\n  // 获取当前学期接口\r\n  useEffect(() => {\r\n    let url = BasicProxy + \"/api/base/getCurrentTermInfo?schoolId=\" + SchoolID;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && result.data){\r\n        setCurrentTerm(result.data);\r\n      }\r\n    })\r\n  }, []) \r\n  //如果当前身份是老师，则显示切换班级按钮，获取班级列表，如果sessionStorage上带了currentClass参数则使用该classId\r\n  useLayoutEffect(()=>{\r\n    if(userIdentity == \"teacher\"){\r\n      let url = BasicProxy + \"/api/base/getClassByMasterId?teacherId=\" + UserID;\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n        if(result.status == 200 && Array.isArray(result.data)){\r\n          setClassList(result.data);\r\n          let classId = sessionStorage.getItem(\"currentClass\");\r\n          let classOne = {};\r\n          result.data.forEach((item)=>{\r\n            if(item.classId == classId){\r\n              classOne = item;\r\n            }\r\n          })\r\n          setCurrentClass(classOne.classId? classOne: result.data[0]? result.data[0]: {});\r\n        }\r\n      })\r\n    } else {\r\n      // let classInfo = {\r\n      //   classId: JSON.parse(sessionStorage.getItem(\"UserInfo\")).GroupID,\r\n      //   gradeId: JSON.parse(sessionStorage.getItem(\"UserInfo\")).GradeID\r\n      // };\r\n      let classInfo = {\r\n        classId: \"\",\r\n        gradeId: \"\"\r\n      };\r\n      setCurrentClass(classInfo);\r\n    }\r\n  }, [UserID, userIdentity]);\r\n  // 不需要系统url的接口\r\n  useEffect(() => {\r\n    let userID = teacherid;\r\n    if (basePlatFormMsg) {\r\n      if (teachermsg) {\r\n        setDataParams({\r\n          ...DataParams,\r\n          schoolID: teachermsg.SchoolID || \"S-666\",\r\n          subjectIDs: teachermsg.SubjectIDs,\r\n          subjectNames: teachermsg.SubjectNames,\r\n          baseIP: basePlatFormMsg.BasicWebRootUrl,\r\n        });\r\n        if (typeof teachermsg.SubjectNames === \"string\") {\r\n          let SubjectList = [];\r\n          let SubjectIDList =\r\n            typeof teachermsg.SubjectIDs === \"string\"\r\n              ? teachermsg.SubjectIDs.split(\",\")\r\n              : [];\r\n          teachermsg.SubjectNames.split(\",\").forEach((child, index) => {\r\n            SubjectList.push({\r\n              key: SubjectIDList[index] || index,\r\n              value: child,\r\n            });\r\n          });\r\n          setSubjectList(SubjectList);\r\n        }\r\n\r\n        // setSubjectList([\r\n        //   // { key: \"same\", value: \"同学科\" },\r\n        //   { key: \"1\", value: \"英语\" },\r\n        //   { key: \"2\", value: \"语文\" },\r\n        //   { key: \"3\", value: \"数学\" },\r\n        // ]);\r\n        //获取学期周次\r\n        GetTermAndPeriodAndWeekNOInfo({\r\n          userID,\r\n          baseIP: basePlatFormMsg.BasicWebRootUrl,\r\n          schoolID: teachermsg.SchoolID || \"S-666\",\r\n        }).then((res) => {\r\n          if (res.StatusCode === 200) {\r\n            setWeekList(res.Data.WeekList);\r\n            setWeekData(res.Data.NowWeekSelect);\r\n          } else {\r\n            setWeekData(false);\r\n          }\r\n        });\r\n\r\n        setArchives(teachermsg);\r\n        setAccout(teachermsg);\r\n        // 教研统计\r\n        GetResearchByUserID({ userID }).then((res) => {\r\n          if (res.StatusCode === 200) {\r\n            setTeach(res.Data);\r\n          } else {\r\n            setTeach(false);\r\n          }\r\n        });\r\n        // 历史发展\r\n        GetDevelopmentHistory({ userID }).then((res) => {\r\n          if (res.StatusCode === 200) {\r\n            setHistory(res.Data);\r\n          } else {\r\n            setHistory(false);\r\n          }\r\n        });\r\n        // 上机信息\r\n        GetLogInfoByUserID({ userID }).then((res) => {\r\n          if (res.StatusCode === 200) {\r\n            setInformation(res.Data);\r\n          } else {\r\n            setInformation(false);\r\n          }\r\n        });\r\n        // setInformation({\r\n        //   TimeSpan: 48, //累计上机时长\r\n        //   DayAvgTimeSpan: 1.2, //累计上机时长\r\n        //   LoginCount: 485, //上机总次数\r\n        //   AvgLoginTimeSpan: 48, //平均每次上机时长\r\n        //   DayTimeList: [\r\n        //     {\r\n        //       Time: \"06:00~09:00\",\r\n        //       Count: 10,\r\n        //     },\r\n        //     {\r\n        //       Time: \"09:00~12:00\",\r\n        //       Count: 70,\r\n        //     },\r\n        //     {\r\n        //       Time: \"12:00~15:00\",\r\n        //       Count: 20,\r\n        //     },\r\n        //     {\r\n        //       Time: \"15:00~18:00\",\r\n        //       Count: 80,\r\n        //     },\r\n        //     {\r\n        //       Time: \"18:00~21:00\",\r\n        //       Count: 10,\r\n        //     },\r\n        //     {\r\n        //       Time: \"21:00~23:59\",\r\n        //       Count: 50,\r\n        //     },\r\n        //   ], //平均每日上机时间段分布\r\n        //   DayOnlineList: [\r\n        //     //平均每日在线办公/\r\n        //     //教学时长占比\r\n        //     {\r\n        //       NodeName: \"在线办公\",\r\n        //       Time: 20,\r\n        //     },\r\n        //     {\r\n        //       NodeName: \"在线教学\",\r\n        //       Time: 20,\r\n        //     },\r\n        //   ],\r\n        // });\r\n      }\r\n\r\n      // GetUserDetailForHX({userID:}).then((res) => {\r\n      //   if (res.StatusCode === 200) {\r\n      //     setSysUrl(res.data);\r\n      //   }\r\n      // });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [teacherid]);\r\n  // 工作量，依赖学期和sysurl\r\n  useEffect(() => {\r\n    if (!SysUrl || !WorkTerm) {\r\n      return;\r\n    }\r\n    let userID = teacherid;\r\n    let userName = teachermsg.UserName;\r\n\r\n    if (SysUrl[\"E34\"] && SysUrl[\"E34\"].WebSvrAddr && WeekData) {\r\n      GetTeacherWork({\r\n        userName: userID,\r\n        baseIP: DataParams.baseIP,\r\n        proxy: SysUrl[\"E34\"].WebSvrAddr,\r\n        token,\r\n        semester: WorkTerm.value,\r\n      }).then((res) => {\r\n        if (res.StatusCode === 200) {\r\n          setWork(res.Data);\r\n          // changeData({ ResView: res.Data });\r\n        } else {\r\n          setWork(false);\r\n        }\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [SysUrl, WorkTerm]);\r\n  // 教学资料需要依赖周次和sysURl\r\n  useEffect(() => {\r\n    let userID = teacherid;\r\n    if (!SysUrl) {\r\n      return;\r\n    }\r\n    // 电子资源\r\n    if (SysUrl[\"C10\"] && SysUrl[\"C10\"].WebSvrAddr && WeekData) {\r\n      GetTeacherResView({\r\n        userID,\r\n        baseIP: DataParams.baseIP,\r\n        proxy: SysUrl[\"C10\"].WebSvrAddr,\r\n        token,\r\n        schoolID: DataParams.schoolID,\r\n        subjectIDs: DataParams.subjectIDs,\r\n        subjectNames: DataParams.subjectNames,\r\n        startTime: WeekData.startTime,\r\n        endTime: WeekData.endTime,\r\n      }).then((res) => {\r\n        if (res.StatusCode === 200) {\r\n          setResView(res.Data);\r\n          // changeData({ ResView: res.Data });\r\n        }\r\n      });\r\n    }\r\n    // 教学方案\r\n    if (SysUrl[\"310\"] && SysUrl[\"310\"].WebSvrAddr && WeekData) {\r\n      GetTeachPlanStatistics({\r\n        userID,\r\n        baseIP: DataParams.baseIP,\r\n        proxy: SysUrl[\"310\"].WebSvrAddr,\r\n        token,\r\n        // schoolID: DataParams.schoolID,\r\n        // subjectIDs: DataParams.subjectIDs,\r\n        // subjectNames: DataParams.subjectNames,\r\n        startTime: WeekData.startTime,\r\n        endTime: WeekData.endTime,\r\n      }).then((res) => {\r\n        if (res.StatusCode === 200) {\r\n          // console.log(res.Data);\r\n          setTeachPlan(res.Data);\r\n          // changeData({ TeachPlan: res.Data });\r\n        }\r\n      });\r\n    }\r\n    // 精品课程\r\n    if (SysUrl[\"D21\"] && SysUrl[\"D21\"].WsSvrAddr && WeekData) {\r\n      GetTeacherpercentage({\r\n        userID,\r\n        baseIP: DataParams.baseIP,\r\n        proxy: SysUrl[\"D21\"].WsSvrAddr,\r\n        token,\r\n        schoolID: DataParams.schoolID,\r\n        subjectIDs: DataParams.subjectIDs,\r\n        subjectNames: DataParams.subjectNames,\r\n        startTime: WeekData.startTime,\r\n        endTime: WeekData.endTime,\r\n      }).then((res) => {\r\n        if (res.StatusCode === 200) {\r\n          console.log(res.Data);\r\n          setPercentage(res.Data);\r\n          // changeData({ ResView: res.Data });\r\n        }\r\n      });\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [SysUrl, WeekData]);\r\n  // 控制初始进来的时候是什么模式\r\n  useLayoutEffect(() => {\r\n    let page = $(personalRef.current);\r\n    let height = page.height();\r\n    let width = page.width();\r\n    if (height > width) {\r\n      setZoomType(\"ratio\");\r\n    }\r\n    // body去掉overflow\r\n    // $('body').css('overflow-x','hidden')\r\n  }, []);\r\n  //获取成长历程\r\n  useLayoutEffect(() => {\r\n    if(!currentTerm.termStartDate || !currentTerm.termEndDate){\r\n      return;\r\n    }\r\n    if(userIdentity == \"teacher\" && !currentClass.classId){\r\n      return;\r\n    }\r\n    if(userIdentity == \"student\" && (!UserID || !currentClass.classId)){\r\n      return;\r\n    }\r\n    if(userIdentity == \"manager\" && !SchoolID){\r\n      return;\r\n    }\r\n    let url = BasicProxy + \"/api/punishAndReward/route?id=\" + (\r\n      userIdentity == \"student\"?\r\n      UserID:\r\n      userIdentity == \"teacher\"?\r\n      currentClass.classId:\r\n      userIdentity == \"manager\"?\r\n      SchoolID:\r\n      UserID\r\n    ) +\r\n    \"&queryType=\" + (\r\n      userIdentity == \"student\"?\r\n      1:\r\n      userIdentity == \"teacher\"?\r\n      2:\r\n      userIdentity == \"manager\"?\r\n      4:\r\n      1\r\n    ) +\r\n    \"&startTime=\" + currentTerm.termStartDate + \r\n    \"&endTime=\" + currentTerm.termEndDate +\r\n    \"&eventType=0\";\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && Array.isArray(result.data)){\r\n        setAwardPunishTrack(result.data);\r\n      }\r\n    })\r\n    //获取考勤轨迹数据\r\n    url = BasicProxy + \"/api/attendance/attendance/path?type=\" + (\r\n      userIdentity == \"student\"?\r\n      1:\r\n      userIdentity == \"teacher\"?\r\n      2:\r\n      userIdentity == \"manager\"?\r\n      4:\r\n      1\r\n    ) +\r\n    \"&studentId=\" + (\r\n      userIdentity == \"student\"?\r\n      UserID:\r\n      \"\") +\r\n    \"&classId=\" + currentClass.classId +\r\n    \"&gradeId=\" + currentClass.gradeId +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&start=\" + (currentTerm.termStartDate? currentTerm.termStartDate: \"2021-01-01\") + \r\n    \"&end=\" + (currentTerm.termEndDate? currentTerm.termEndDate: \"2021-03-01\");\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && Array.isArray(result.data)){\r\n        setAttendanceTrack(result.data);\r\n      }\r\n    })\r\n  }, [currentTerm, userIdentity, currentClass, SchoolID, UserID])\r\n  useLayoutEffect(() => {\r\n    let page = $(personalRef.current);\r\n    let InitWidth = 1920;\r\n    let InitHeight = 1080;\r\n\r\n    const resize = () => {\r\n      let height = page.height();\r\n      let width = page.width();\r\n\r\n      setContent([width, height]);\r\n      // console.log(width, height)\r\n      setRate([\r\n        width / InitWidth,\r\n        zoomType === \"ratio\" ? width / InitWidth : height / InitHeight,\r\n      ]);\r\n    };\r\n    resize();\r\n    window.addEventListener(\"resize\", debounce(resize, 500), false);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", debounce(resize, 500));\r\n    };\r\n  }, [zoomType]);\r\n  // 获取长度\r\n  const getPX = useCallback(\r\n    (old = [1920, 1080]) => {\r\n      // rate[0] = rate[0] || 1;\r\n      // rate[1] = rate[1] || 1;\r\n      return {\r\n        width: old[0]\r\n          ? old[0] * 1\r\n          : // rate[0]\r\n            \"100%\",\r\n        height: old[1]\r\n          ? old[1] * 1\r\n          : // rate[1]\r\n            \"100%\",\r\n      };\r\n    },\r\n    [rate]\r\n  );\r\n  // useEffect(() => {\r\n  //   console.log(props);\r\n  // }, [location]);\r\n  // 点击card 高亮模块\r\n  const onCardClick = useCallback((id) => {}, []);\r\n  const archivesBtn = useMemo(() => {\r\n    // 先只有超级管理员进\r\n    if (\r\n      userType === 0 &&\r\n       SysUrl && SysUrl[\"E34\"] && SysUrl[\"E34\"].WsSvrAddr) {\r\n      let { UserID, UserName } = archives;\r\n      const onBtnClick = () => {\r\n        let toUrl =\r\n          removeSlashUrl(SysUrl[\"E34\"].WsSvrAddr) +\r\n          `/index_user.html?lg_tk=${token}&tName=${UserName}&tId=${UserID}&lg_ic=${identityCode}#1|4|0`;\r\n        window.open(toUrl);\r\n      };\r\n\r\n      return (\r\n        <Linkbtn type={\"archives\"} onClick={onBtnClick}>\r\n          档案信息管理\r\n        </Linkbtn>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }, [SysUrl, token, identityCode, archives]);\r\n  return (\r\n      <div\r\n      ref={personalRef}\r\n      className={`lg-PersonalDetail ${className ? className : \"\"}`}\r\n    >\r\n      <Loading\r\n      opacity={false}\r\n      spinning={allVisible}>\r\n      {/* 切换全屏模式功能暂时隐藏 */}\r\n      <div className={`control-rate control-rate-${zoomType}`}>\r\n        <i\r\n          className={`ct-box ct-full ${zoomType === \"full\" ? \"ct-select\" : \"\"}`}\r\n          onClick={() => {\r\n            setZoomType(\"full\");\r\n          }}\r\n        ></i>\r\n        <i\r\n          className={`ct-box ct-ratio ${\r\n            zoomType === \"ratio\" ? \"ct-select\" : \"\"\r\n          }`}\r\n          onClick={() => {\r\n            setZoomType(\"ratio\");\r\n          }}\r\n        ></i>\r\n      </div>\r\n      {rate ? (\r\n        <div\r\n          className=\"pd-content\"\r\n          style={\r\n            rate\r\n              ? {\r\n                  ...getPX([1920, 1080]),\r\n                  transform: `scale(${rate[0]},${rate[1]})`,\r\n                  left: (-(1 - rate[0]) / 2) * 1920 + \"px\",\r\n                  top: (-(1 - rate[1]) / 2) * 1080 + \"px\",\r\n                  position: \"absolute\",\r\n                }\r\n              : {}\r\n          }\r\n        >\r\n          <div className=\"pd-top\" style={{ ...getPX([1920, 85]) }}>\r\n            <div className=\"pd-top-bg\" style={{ ...getPX([1920, 343]) }}></div>\r\n          </div>\r\n          <div className=\"pd-center\" style={{ ...getPX([1920, 995]) }}>\r\n            <div\r\n              className=\"pd-center-bg\"\r\n              style={{ ...getPX([1874, 930]) }}\r\n            ></div>\r\n            <div\r\n              className=\"pd-center-content\"\r\n              style={{\r\n                ...getPX([1920, 937]),\r\n                padding: `0 ${getPX([18]).width}px`,\r\n              }}\r\n            >\r\n              <div\r\n                className=\"pd-center-content-left\"\r\n                style={{ ...getPX([480]), margin: `0 ${getPX([18]).width}px` }}\r\n              >\r\n                <Card\r\n                  cardid={userIdentity == 'teacher'? \"classStatus\": userIdentity == 'manager'? \"schoolStatus\": \"archives\"}\r\n                  select={SelectCard}\r\n                  height={userIdentity == 'teacher'? 214: userIdentity == 'student'? 280: 214}\r\n                  btn={archivesBtn}\r\n                  loading={false}\r\n                  data={true}\r\n                  currentTerm={currentTerm}\r\n                  currentClass={currentClass}\r\n                  currentGrade={currentGrade}\r\n                  component={\r\n                    userIdentity == 'teacher'? ClassStatus: \r\n                    userIdentity == 'student'? Archives: \r\n                    SchoolStatus}\r\n                  userIdentity={userIdentity}\r\n                  identityCode={identityCode}\r\n                ></Card>\r\n                <Card\r\n                  select={SelectCard}\r\n                  cardid={userIdentity == 'teacher' || userIdentity == 'manager'? \"stuHealth\": \"gradeStatistic\"}\r\n                  currentTerm={currentTerm}\r\n                  currentClass={currentClass}\r\n                  currentGrade={currentGrade}\r\n                  height={userIdentity == 'teacher' || userIdentity == 'manager'? 247: 217}\r\n                  loading={false}\r\n                  userIdentity={userIdentity}\r\n                  identityCode={identityCode}\r\n                  component={\r\n                    userIdentity == 'teacher' || userIdentity == 'manager'? Teach: \r\n                    Accout}\r\n                  data={userIdentity == \"manager\"? false: true}\r\n                ></Card>\r\n                <Card\r\n                  select={SelectCard}\r\n                  cardid={userIdentity == 'teacher' || userIdentity == 'manager'? \"gradeRank\": \"teach\"}\r\n                  currentTerm={currentTerm}\r\n                  currentGrade={currentGrade}\r\n                  currentClass={currentClass}\r\n                  component={\r\n                    userIdentity == 'teacher'? ClassRank:\r\n                    userIdentity == 'manager'? GradeRank:\r\n                    Teach\r\n                  }\r\n                  height={userIdentity == 'teacher' || userIdentity == 'manager'? 369: 335}\r\n                  loading={false}\r\n                  data={true}\r\n                  userIdentity={userIdentity}\r\n                  identityCode={identityCode}\r\n                ></Card>\r\n              </div>\r\n              <div\r\n                className=\"pd-center-content-center\"\r\n                style={{ ...getPX([816]), margin: `0 ${getPX([18]).width}px` }}\r\n              >\r\n                <div\r\n                  className=\"pd-center-content-center-top\"\r\n                  style={{\r\n                    ...getPX([\"\", 94]),\r\n                  }}\r\n                >\r\n                  {userIdentity == \"student\" || userIdentity == \"manager\" ? (\r\n                    <>\r\n                      <p\r\n                        className=\"pd-teacher-name\"\r\n                        title={UserName}\r\n                      >\r\n                        {UserName ? UserName: \"--\"}\r\n                      </p>\r\n                      {Sign ? (\r\n                        <p className=\"pd-teacher-sign\" title={Sign}>\r\n                          {Sign ? Sign : \"--\"}\r\n                        </p>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </>\r\n                  ) : (\r\n                    userIdentity == \"teacher\"?\r\n                    <span className=\"class-name\">\r\n                      {currentClass.className? currentClass.className: \"暂无班级\"}\r\n                      {\r\n                        classList.length > 1?\r\n                        <Popover\r\n                        content={\r\n                          <ul className=\"class-list\">\r\n                            <Scrollbars\r\n                            autoHeight\r\n                            autoHeightMax={118}>\r\n                            {\r\n                              classList.map((item, index)=>{\r\n                                return (\r\n                                  <li \r\n                                  key={index} \r\n                                  onClick={()=>{\r\n                                    sessionStorage.setItem(\"currentClass\", item.classId);\r\n                                    setCurrentClass(item);\r\n                                    setClassListVisible(false);\r\n                                    }}>\r\n                                  {item.className}</li>\r\n                                )\r\n                              })\r\n                            }\r\n                            </Scrollbars>\r\n                          \r\n                          </ul>\r\n                        }\r\n                        visible={classListVisible}\r\n                        onVisibleChange={(v)=>setClassListVisible(v)}\r\n                        trigger=\"click\"\r\n                        placement=\"bottom\">\r\n                        <span className=\"change-class\">切换</span>\r\n                        </Popover>:\r\n                        \"\"\r\n                      }\r\n                      \r\n                      \r\n                    </span>:\r\n                    \"\"\r\n                  )}\r\n                  {/* {teachermsg ? (\r\n                    <>\r\n                      <p\r\n                        className=\"pd-teacher-name\"\r\n                        title={teachermsg.UserName}\r\n                      >\r\n                        {teachermsg.UserName ? teachermsg.UserName : \"--\"}\r\n                      </p>\r\n                      {teachermsg.Sign ? (\r\n                        <p className=\"pd-teacher-sign\" title={teachermsg.Sign}>\r\n                          {teachermsg.Sign ? teachermsg.Sign : \"--\"}\r\n                        </p>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </>\r\n                  ) : (\r\n                    \"\"\r\n                  )} */}\r\n                </div>\r\n                <div\r\n                  className=\"pd-drag-container\"\r\n                  style={{\r\n                    ...getPX([\"\", 483]),\r\n                    // margin: `0 ${getPX([18]).width}px`,\r\n                    backgroundSize: `${getPX([558]).width}px ${\r\n                      getPX([\"\", 468]).height\r\n                    }px`,\r\n                  }}\r\n                  // onMouseDown={(e) => {\r\n                  //   captureMouse((mouse) => {\r\n                  //     console.log(e, mouse);\r\n                  //   });\r\n                  // }}\r\n                  // onMouseUp={(e) => {\r\n                  //   console.log(e);\r\n                  // }}\r\n                >\r\n                  {!isIE && (\r\n                    <div\r\n                      className={`drag-control  `}\r\n                      style={{\r\n                        transform: `rotateX(${-10}deg) rotateY(${100}deg) `,\r\n                        WebkitTransform: `rotateX(${-10}deg) rotateY(${100}deg) `,\r\n                        MozTransform: `rotateX(${-10}deg) rotateY(${100}deg) `,\r\n                        OTransform: `rotateX(${-10}deg) rotateY(${100}deg) `,\r\n                        MsTransform: `rotateX(${-10}deg) rotateY(${100}deg) `,\r\n                      }}\r\n                    >\r\n                      <div\r\n                        className={`card-container \r\n                    `}\r\n                      >\r\n                        {cardList.map((child, index) => {\r\n                          let len = cardList.length;\r\n                          let width = 550;\r\n                          let reg = 360 / len;\r\n                          let rotateY = reg * index;\r\n                          let translateZ =\r\n                            (Math.cos(reg / 2) * width) /\r\n                            (1 + Math.cos(reg / 2));\r\n                          if (animationType && index === len - 1) {\r\n                            setTimeout(() => {\r\n                              setAnimationType(false);\r\n                            }, 100);\r\n                          }\r\n                          // if (animationType) {\r\n                          //   setTimeout(() => {\r\n                          //     isChange = true;\r\n                          //   },0);\r\n                          // }\r\n                          let transform = !animationType\r\n                            ? `rotateY(${rotateY}deg) translateZ(${translateZ}px)`\r\n                            : `rotateY(${0}deg) translateZ(${0}px)`;\r\n                          return (\r\n                            <i\r\n                              key={index}\r\n                              style={{\r\n                                // background: `url(./images/image-${child}.png) no-repeat center center / 100% 100%`,\r\n                                transform: transform,\r\n                                // transition: 'transform 1s ease 0s',\r\n                                WebkitTransform: transform,\r\n                                MozTransform: transform,\r\n                                OTransform: transform,\r\n                                MsTransform: transform,\r\n                              }}\r\n                              className={\"img-\" + child}\r\n                              onClick={onCardClick.bind(this, child)}\r\n                              onMouseEnter={(e) => {\r\n                                setSelectCard(child);\r\n                              }}\r\n                              onMouseLeave={(e) => {\r\n                                setSelectCard(false);\r\n                              }}\r\n                            ></i>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    </div>\r\n                  )}{\" \"}\r\n                  <div className={\r\n                    userIdentity == \"student\"?\r\n                    Gender == 0?\r\n                    \"stu-girl\":\r\n                    \"drag-bg\":\r\n                    \"group-bg\"\r\n                    }></div>\r\n                </div>\r\n                <div\r\n                  className=\"pd-center-content-center-bottom\"\r\n                  style={{\r\n                    ...getPX([816, 346]),\r\n                    margin: `${getPX([\"\", 10]).height}px 0 0`,\r\n                  }}\r\n                >\r\n                  <Card\r\n                    select={SelectCard}\r\n                    cardid={\"history\"}\r\n                    height={315}\r\n                    userIdentity={userIdentity}\r\n                    identityCode={identityCode}\r\n                    currentTerm={currentTerm}\r\n                    currentGrade={currentGrade}\r\n                    currentClass={currentClass}\r\n                    component={HistoryDom}\r\n                    loading={false}\r\n                    data={\r\n                      awardPunishTrack.concat(attendanceTrack)\r\n                    }\r\n                  ></Card>\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"pd-center-content-right\"\r\n                style={{ ...getPX([480]), margin: `0 ${getPX([18]).width}px` }}\r\n              >\r\n                <Card\r\n                  select={SelectCard}\r\n                  cardid={\"information\"}\r\n                  height={userIdentity == 'teacher'? 353: userIdentity == 'manager'? 353: 340}\r\n                  component={Information}\r\n                  currentTerm={currentTerm}\r\n                  currentGrade={currentGrade}\r\n                  currentClass={currentClass}\r\n                  loading={false}\r\n                  data={userIdentity == \"manager\"? false: true}\r\n                  userIdentity={userIdentity}\r\n                  identityCode={identityCode}\r\n                ></Card>\r\n                <Card\r\n                  select={SelectCard}\r\n                  cardid={userIdentity == 'teacher' || userIdentity == 'manager'? \"stu-attendance\": \"work\"}\r\n                  height={userIdentity == 'teacher' || userIdentity == 'manager'? 227: 217}\r\n                  component={Work}\r\n                  loading={false}\r\n                  currentTerm={currentTerm}\r\n                  currentGrade={currentGrade}\r\n                  currentClass={currentClass}\r\n                  data={true}\r\n                  userIdentity={userIdentity}\r\n                  identityCode={identityCode}\r\n                  componentProps={{\r\n                    onTermSelect: (e) => {\r\n                      setWorkTerm(e);\r\n                    },\r\n                    termSelect: WorkTerm,\r\n                    termList: WorkTermList,\r\n                  }}\r\n                ></Card>\r\n                <Card\r\n                  select={SelectCard}\r\n                  cardid={userIdentity == 'teacher' || userIdentity == 'manager'? \"stu-all\": \"data\"}\r\n                  currentTerm={currentTerm}\r\n                  currentClass={currentClass}\r\n                  currentGrade={currentGrade}\r\n                  height={userIdentity == 'teacher' || userIdentity == 'manager'? 250: 275}\r\n                  component={userIdentity == 'teacher' || userIdentity == 'manager'? ClassAttainment: Data}\r\n                  userIdentity={userIdentity}\r\n                  identityCode={identityCode}\r\n                  componentProps={{\r\n                    onWeekSelect: (e) => {\r\n                      setWeekData(e);\r\n                    },\r\n                    weekSelect: WeekData,\r\n                    weekList: WeekList,\r\n                    SubjectList: SubjectList,\r\n                    Percentage: Percentage,\r\n                    TeachPlan: TeachPlan,\r\n                    ResView: ResView,\r\n                  }}\r\n                  loading={false}\r\n                  // lock={\r\n                  //   !(SubjectList instanceof Array && SubjectList.length > 0)\r\n                  // }\r\n                  data={true}\r\n                ></Card>\r\n              </div>\r\n            </div>\r\n            <div className=\"pd-provesion\" style={{ ...getPX([1920, 58]) }}>\r\n              {basePlatFormMsg && basePlatFormMsg.ProVersion}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      </Loading>\r\n    </div>\r\n  \r\n    \r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let { commonData } = state;\r\n  return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(\r\n  withRouter(memo(forwardRef(PersonalDetail)))\r\n);\r\n","/*\r\n *\r\n *    ┏┓　　　┏┓\r\n *  ┏┛┻━━━┛┻┓\r\n *  ┃　　　　　　　┃\r\n *  ┃　　　━　　　┃\r\n *  ┃　＞　　　＜　┃\r\n *  ┃　　　　　　　┃\r\n *  ┃...　⌒　...　┃\r\n *  ┃　　　　　　　┃\r\n *  ┗━┓　　　┏━┛\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃  神兽保佑\r\n *      ┃　　　┃  代码无bug\r\n *      ┃　　　┃\r\n *      ┃　　　┗━━━┓\r\n *      ┃　　　　　　　┣┓\r\n *      ┃　　　　　　　┏┛\r\n *      ┗┓┓┏━┳┓┏┛\r\n *        ┃┫┫　┃┫┫\r\n *        ┗┻┛　┗┻┛\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 11:46:56\r\n * @LastEditTime: 2020-12-22 21:37:44\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\api\\personal.js\r\n */\r\nimport fetch from \"../util/fetch\";\r\nimport ipConfig from \"../util/ipConfig\";\r\nimport moment from \"moment\";\r\nimport { deepMap, SetNaNToNumber } from \"../util/public\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description:.各校、学院师资 http://192.168.129.1:8033/showdoc/web/#/21?page_id=2246\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getSchoolList(payload = {}) {\r\n  let {\r\n    pageIndex,\r\n    pageSize,\r\n    keyword,\r\n    schoolID,\r\n    term,\r\n    // nodeID,\r\n    sortFiled,\r\n    sortType,\r\n  } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/Basic/GetSubsetList?SchoolID=${\r\n      schoolID ? schoolID : \"\"\r\n    }&Term=${term ? term : \"\"}&PageIndex=${\r\n      pageIndex ? pageIndex : 1\r\n    }&PageSize=${pageSize ? pageSize : 10}${keyword ?'&Keyword='+ keyword : \"\"}${\r\n      sortFiled ? \"&SortFiled=\" + sortFiled : \"\"\r\n    }${sortType ? \"&SortType=\" + sortType : \"\"}`;\r\n\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: {\r\n            //     \"Total\":50,\r\n            // \"PageIndex\":1,\r\n            // \"List\":[{\r\n            //     \"UserID\":\"T001\",        //ID，唯一标识\r\n            //     \"UserName\":\"白老师\",    //标题\r\n            //     \"SchoolID\":\"S-11\",\r\n            //     \"SchoolName\":\"白云中学\",\r\n            //     \"Gender\":\"女\",\r\n            //     \"TitleName\":\"一级教师\",            //职称\r\n            //     \"Politics\":\"中共党员\",    //政治面貌\r\n            //     \"TeachAge\":2年,                  //教龄\r\n            //     \"HonorNames\":\"学科带头人,特级教师\"\r\n            // }]\r\n            ...json.Data,\r\n            List:\r\n              json.Data.List  instanceof Array\r\n                ? json.Data.List.map((child, index) => {\r\n                    let Index = (json.Data.PageIndex - 1) * 10 + index + 1;\r\n                    Index = Index >= 10 ? Index : \"0\" + Index;\r\n                    return {\r\n                      ...child,\r\n                      key: index,\r\n                      index: Index,\r\n                    };\r\n                  })\r\n                : [],\r\n            PageSize: pageSize,\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n\r\n/**\r\n * @description: \r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getSchoolMsg(payload = {}) {\r\n  let {\r\n   \r\n    nodeID,\r\n \r\n  } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/Basic/GetSubsetDetail?nodeID=${\r\n      nodeID ? nodeID : \"\"\r\n    }`;\r\n\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200&&json.Data) {\r\n         \r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          Data:  json.Data\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: 400,\r\n        };\r\n      }\r\n    });\r\n}","/*\r\n * ......................................&&.........................\r\n * ....................................&&&..........................\r\n * .................................&&&&............................\r\n * ...............................&&&&..............................\r\n * .............................&&&&&&..............................\r\n * ...........................&&&&&&....&&&..&&&&&&&&&&&&&&&........\r\n * ..................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&..............\r\n * ................&...&&&&&&&&&&&&&&&&&&&&&&&&&&&&.................\r\n * .......................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&.........\r\n * ...................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&...............\r\n * ..................&&&   &&&&&&&&&&&&&&&&&&&&&&&&&&&&&............\r\n * ...............&&&&&@  &&&&&&&&&&..&&&&&&&&&&&&&&&&&&&...........\r\n * ..............&&&&&&&&&&&&&&&.&&....&&&&&&&&&&&&&..&&&&&.........\r\n * ..........&&&&&&&&&&&&&&&&&&...&.....&&&&&&&&&&&&&...&&&&........\r\n * ........&&&&&&&&&&&&&&&&&&&.........&&&&&&&&&&&&&&&....&&&.......\r\n * .......&&&&&&&&.....................&&&&&&&&&&&&&&&&.....&&......\r\n * ........&&&&&.....................&&&&&&&&&&&&&&&&&&.............\r\n * ..........&...................&&&&&&&&&&&&&&&&&&&&&&&............\r\n * ................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&............\r\n * ..................&&&&&&&&&&&&&&&&&&&&&&&&&&&&..&&&&&............\r\n * ..............&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&....&&&&&............\r\n * ...........&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&......&&&&............\r\n * .........&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&.........&&&&............\r\n * .......&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&...........&&&&............\r\n * ......&&&&&&&&&&&&&&&&&&&...&&&&&&...............&&&.............\r\n * .....&&&&&&&&&&&&&&&&............................&&..............\r\n * ....&&&&&&&&&&&&&&&.................&&...........................\r\n * ...&&&&&&&&&&&&&&&.....................&&&&......................\r\n * ...&&&&&&&&&&.&&&........................&&&&&...................\r\n * ..&&&&&&&&&&&..&&..........................&&&&&&&...............\r\n * ..&&&&&&&&&&&&...&............&&&.....&&&&...&&&&&&&.............\r\n * ..&&&&&&&&&&&&&.................&&&.....&&&&&&&&&&&&&&...........\r\n * ..&&&&&&&&&&&&&&&&..............&&&&&&&&&&&&&&&&&&&&&&&&.........\r\n * ..&&.&&&&&&&&&&&&&&&&&.........&&&&&&&&&&&&&&&&&&&&&&&&&&&.......\r\n * ...&&..&&&&&&&&&&&&.........&&&&&&&&&&&&&&&&...&&&&&&&&&&&&......\r\n * ....&..&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&...........&&&&&&&&.....\r\n * .......&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&..............&&&&&&&....\r\n * .......&&&&&.&&&&&&&&&&&&&&&&&&..&&&&&&&&...&..........&&&&&&....\r\n * ........&&&.....&&&&&&&&&&&&&.....&&&&&&&&&&...........&..&&&&...\r\n * .......&&&........&&&.&&&&&&&&&.....&&&&&.................&&&&...\r\n * .......&&&...............&&&&&&&.......&&&&&&&&............&&&...\r\n * ........&&...................&&&&&&.........................&&&..\r\n * .........&.....................&&&&........................&&....\r\n * ...............................&&&.......................&&......\r\n * ................................&&......................&&.......\r\n * .................................&&..............................\r\n * ..................................&..............................\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-22 15:22:09\r\n * @LastEditTime: 2020-12-22 21:57:20\r\n * @Description: 教师画像列表\r\n * @FilePath: \\teacher-development\\src\\pages\\teacherPersonal\\personalList.js\r\n */\r\n\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport {\r\n  Dropdown,\r\n  Search,\r\n  CheckBox,\r\n  CheckBoxGroup,\r\n} from \"../../component/common\";\r\nimport Table from \"../../component/table\";\r\nimport { getSchoolList } from \"../../api/school\";\r\n// import { handleRoute } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { Tooltip } from \"antd\";\r\nimport { handleRoute, correctNumber, transTime } from \"../../util/public\";\r\n\r\n//   import { Reducer, Context, initState } from \"./reducer\";\r\nfunction SchoolList(props, ref) {\r\n  let {\r\n    location,\r\n    history,\r\n    roleMsg: { productLevel, schoolID, collegeID },\r\n    levelHash,\r\n    levelMsg,\r\n    termInfo: { TermInfo, HasHistory },\r\n    contentHW: { height },\r\n  } = props;\r\n  const [SearchValue, setSearchValue] = useState(\"\");\r\n  // 获取当前级别的信息\r\n  // const levelMsg = useMemo(() => {\r\n  //   return levelHash[productLevel]\r\n  //     ? levelHash[productLevel]\r\n  //     : {\r\n  //         productLevel: 1,\r\n  //         selectLevel: 1,\r\n  //         title: \"\",\r\n  //         sub: \"\",\r\n  //         belong: \"\",\r\n  //         belondName: \"\",\r\n  //       };\r\n  // }, [levelHash, productLevel]);\r\n  // 列筛选裂变\r\n  const [Culomns] = useState([\r\n    { value: 0, title: levelMsg.belong + \"基础信息\", canControl: false },\r\n    { value: 1, title: \"教师人数/师生比\", canControl: true },\r\n    { value: 2, title: \"年龄/教龄统计\", canControl: true },\r\n    { value: 3, title: \"学历统计\", canControl: true },\r\n    { value: 4, title: \"职称统计\", canControl: true },\r\n    { value: 5, title: \"课时统计\", canControl: true },\r\n    { value: 6, title: \"行政班数量\", canControl: true },\r\n    { value: 7, title: \"班主任数量\", canControl: true },\r\n    { value: 8, title: \"电子资源上传统计\", canControl: true },\r\n    { value: 9, title: \"电子教案制作统计\", canControl: true },\r\n    { value: 10, title: \"精品课程制作统计\", canControl: true },\r\n    { value: 11, title: \"电子督课平均估值分\", canControl: true },\r\n    { value: 12, title: \"教研课题统计\", canControl: true },\r\n    { value: 13, title: \"教研活动统计\", canControl: true },\r\n    { value: 14, title: \"上机信息统计\", canControl: true },\r\n  ]);\r\n  const [ListFirst, setListFirst] = useState(true);\r\n  const [LoadTool, setLoad] = useState(false);\r\n  // const [ToolClassName] = useState(\"more-content\" + new Date().getTime());\r\n\r\n  // 列选择\r\n  const [CulomnsSelect, setCulomnsSelect] = useState([0, 1, 2, 3]);\r\n\r\n  const [query, setQuery] = useState({\r\n    // keyword: \"\",\r\n    term: \"\",\r\n    // type: \"\",\r\n    keyword: \"\",\r\n    schoolID: productLevel === 1 ? \"\" : schoolID,\r\n    // nodeID: \"\",\r\n    // nodeType: \"\",\r\n  });\r\n  // 设置显示的boolean\r\n  const [visible, setVisible] = useState(false);\r\n  const searchRef = useRef(null);\r\n  const toolTipRef = useRef(null);\r\n  // 学期\r\n  const TermList = useMemo(() => {\r\n    let data = [];\r\n    if (TermInfo instanceof Array) {\r\n      data = TermInfo.map((child) => ({\r\n        value: child.Term,\r\n        title: child.TermName,\r\n      }));\r\n      setQuery({ ...query, term: data[0].value });\r\n      // setFirstSelect(data[0].value);\r\n    }\r\n    return data;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [TermInfo]);\r\n  // // 初始化列表\r\n  // useEffect(() => {\r\n  //   // 非教育局，使用node\r\n  //   if (productLevel !== 1) {\r\n  //     getNode({ collegeID, schoolID }).then((res) => {\r\n  //       setFirstNodeList([\r\n  //         { value: \"\", title: \"全部\" + levelMsg.sub },\r\n  //         ...res.data[0],\r\n  //       ]);\r\n  //       setSecondNodeObj(res.data[1]);\r\n  //     });\r\n  //   }\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, [productLevel]);\r\n  // 获取table组件的ref\r\n  const tableRef = useRef({});\r\n\r\n  const columns = useMemo(() => {\r\n    let haveCollege = productLevel === 2; //大学\r\n    let widthRate = 1; //1040 / 1200\r\n    let EndCulomns = [];\r\n    let culomnsData = [\r\n      {\r\n        title: \"序号\",\r\n        width: 68 * widthRate,\r\n        key: \"index\",\r\n        // colSpan: 2,\r\n        align: \"center\",\r\n        dataIndex: \"index\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-index\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: levelMsg.belong + \"名称\",\r\n        width: 124 * widthRate,\r\n        // sorter: true,\r\n        key: \"SchoolName\",\r\n        align: \"center\",\r\n        // dataIndex: \"SchoolName\",\r\n        render: (data) => {\r\n          let { NodeName, NodeID } = data;\r\n          return (\r\n            <span\r\n              onClick={() => {\r\n                history.push(\"/schoolDetail/\" + NodeID);\r\n              }}\r\n              className=\"table-SchoolName\"\r\n              title={NodeName}\r\n            >\r\n              {NodeName ? NodeName : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: levelMsg.belong + \"学段\",\r\n        width: 124 * widthRate,\r\n        // sorter: true,\r\n        // colSpan:productLevel===1?1:0,//为大学时不渲染\r\n        key: \"Level\",\r\n        align: \"center\",\r\n        dataIndex: \"Level\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-limit\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"教师人数及师生比统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"教师人数\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"TeacherCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            // dataIndex: \"BenkePercent\",\r\n            render: (data) => {\r\n              let { TeacherCount } = data;\r\n              return (\r\n                <span className=\"table-count\" title={TeacherCount}>\r\n                  {TeacherCount ? TeacherCount + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"男性人数\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"MaleCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 82 * widthRate,\r\n            dataIndex: \"MaleCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"女性人数\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"FemaleCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 82 * widthRate,\r\n            dataIndex: \"FemaleCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ].concat(\r\n          !haveCollege //大学是没有的\r\n            ? [\r\n                {\r\n                  title: \"师生比例\",\r\n                  // sorter: true,\r\n                  align: \"center\",\r\n                  key: \"TeaStuRatio\",\r\n                  className: \"two-col-bottom\",\r\n\r\n                  width: 98 * widthRate,\r\n                  dataIndex: \"TeaStuRatio\",\r\n                  render: (data) => {\r\n                    return (\r\n                      <span className=\"table-count\" title={data}>\r\n                        {data ? data : \"--\"}\r\n                      </span>\r\n                    );\r\n                  },\r\n                },\r\n              ]\r\n            : []\r\n        ),\r\n      },\r\n      {\r\n        title: \"年龄/教龄统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"平均年龄\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"AgeAvg\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            dataIndex: \"AgeAvg\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data + \"岁\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"平均教龄\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"TeachAgeAvg\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            dataIndex: \"TeachAgeAvg\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data + \"年\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"学历统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"本科率\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"BenkePercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            dataIndex: \"BenkePercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"博士研究生及以上\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"edu0\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 146 * widthRate,\r\n            dataIndex: \"EduUserCount\",\r\n            render: (data) => {\r\n              let Data = data[0] || {\r\n                NodeID: \"edu0\",\r\n                NodeName: \"博士研究生及以上\",\r\n                Total: 0,\r\n              };\r\n              return (\r\n                <span className=\"table-count\" title={Data.Total}>\r\n                  {Data.Total === 0 || Data.Total ? Data.Total + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"硕士研究生\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"edu1\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            dataIndex: \"EduUserCount\",\r\n            render: (data) => {\r\n              let Data = data[1] || {\r\n                NodeID: \"edu1\",\r\n                NodeName: \"硕士研究生\",\r\n                Total: 0,\r\n              };\r\n              return (\r\n                <span className=\"table-count\" title={Data.Total}>\r\n                  {Data.Total === 0 || Data.Total ? Data.Total + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"本科\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"edu2\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            dataIndex: \"EduUserCount\",\r\n            render: (data) => {\r\n              let Data = data[1] || {\r\n                NodeID: \"edu2\",\r\n                NodeName: \"本科\",\r\n                Total: 0,\r\n              };\r\n              return (\r\n                <span className=\"table-count\" title={Data.Total}>\r\n                  {Data.Total === 0 || Data.Total ? Data.Total + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"职称统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"中级职称人数比例\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"MiddleTitlePercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 160 * widthRate,\r\n            dataIndex: \"MiddleTitlePercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: haveCollege ? \"教授\" : \"正高级教师\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"title0\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: (haveCollege ? 82 : 98) * widthRate,\r\n            dataIndex: \"TitleUserCount\",\r\n            render: (data) => {\r\n              let Data = data[0] || {\r\n                NodeID: \"title0\",\r\n                NodeName: \"教授\",\r\n                Total: 0,\r\n              };\r\n              return (\r\n                <span className=\"table-count\" title={Data.Total}>\r\n                  {Data.Total === 0 || Data.Total ? Data.Total + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: haveCollege ? \"副教授\" : \"高级教师\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"title1\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 82 * widthRate,\r\n            dataIndex: \"TitleUserCount\",\r\n            render: (data) => {\r\n              let Data = data[0] || {\r\n                NodeID: \"title1\",\r\n                NodeName: \"副教授\",\r\n                Total: 0,\r\n              };\r\n              return (\r\n                <span className=\"table-count\" title={Data.Total}>\r\n                  {Data.Total === 0 || Data.Total ? Data.Total + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: haveCollege ? \"讲师\" : \"一级教师\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"title2\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            dataIndex: \"TitleUserCount\",\r\n            render: (data) => {\r\n              let Data = data[0] || {\r\n                NodeID: \"title2\",\r\n                NodeName: \"讲师\",\r\n                Total: 0,\r\n              };\r\n              return (\r\n                <span className=\"table-count\" title={Data.Total}>\r\n                  {Data.Total === 0 || Data.Total ? Data.Total + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"课时统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"人均周课时\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"WeekAvgCH\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"WeekAvgCH\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"人均学期总课时\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"TermAvgCH\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 146 * widthRate,\r\n            dataIndex: \"TermAvgCH\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"行政班数量\",\r\n        // className: \"two-col\",\r\n        // sorter: true,\r\n        align: \"center\",\r\n        key: \"ClassCount\",\r\n        className: \"two-col-center-border\",\r\n\r\n        width: 130 * widthRate,\r\n        dataIndex: \"ClassCount\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-count\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"班主任数量\",\r\n        // className: \"two-col\",\r\n        // sorter: true,\r\n        align: \"center\",\r\n        key: \"GangerCount\",\r\n        className: \"two-col-center-border\",\r\n\r\n        width: 130 * widthRate,\r\n        dataIndex: \"GangerCount\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-count\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"电子资源上传统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"总上传数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"ER_ResourceCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"ER_ResourceCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"人均上传数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"ER_AvgUploadResourceCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"ER_AvgUploadResourceCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? correctNumber(data) : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"电子资源上传参与率\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"ER_UploadedPercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 160 * widthRate,\r\n            dataIndex: \"ER_UploadedPercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? correctNumber(data) * 100 + \"%\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"电子教案制作统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"总制作量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"TP_TPCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            dataIndex: \"TP_TPCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"人均制作数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"TP_AvgUploadTPCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"TP_AvgUploadTPCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"电子教案制作参与率\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"TP_UploadedPercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 160 * widthRate,\r\n            dataIndex: \"TP_UploadedPercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? correctNumber(data) * 100 + \"%\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"精品课程制作统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"精品课程数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"EXC_ECCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"EXC_ECCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"人均拥有数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"EXC_AvgCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"EXC_AvgCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? correctNumber(data) : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"拥有精品课程人数比例\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"EXC_HasECPercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 178 * widthRate,\r\n            dataIndex: \"EXC_HasECPercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? correctNumber(data) * 100 + \"%\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"电子督课平均估值分\",\r\n        // className: \"two-col\",\r\n        // sorter: true,\r\n        align: \"center\",\r\n        key: \"EVC_AvgScore\",\r\n        className: \"two-col-center-border\",\r\n\r\n        width: 178 * widthRate,\r\n        dataIndex: \"EVC_AvgScore\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-count\" title={data}>\r\n              {data ? correctNumber(data) : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"教研课题统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"教研课题数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"RP_ProjectCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 130 * widthRate,\r\n            dataIndex: \"RP_ProjectCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"人均参与次数\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"RP_AvgJoinCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"RP_AvgJoinCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? correctNumber(data) : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"成果数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"RP_CompletedCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 82 * widthRate,\r\n            dataIndex: \"RP_CompletedCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"教研课题参与率\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"RP_HasJoinPercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 146 * widthRate,\r\n            dataIndex: \"RP_HasJoinPercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data === 0 || data ? correctNumber(data) * 100 + \"%\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"教研活动统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"教研活动数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"RA_ActivityCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 130 * widthRate,\r\n            dataIndex: \"RA_ActivityCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"人均参与次数\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"RA_AvgJoinCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"RA_AvgJoinCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"教研活动参与率\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"RA_HasJoinPercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 146 * widthRate,\r\n            dataIndex: \"RA_HasJoinPercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data === 0 || data ? correctNumber(data) * 100 + \"%\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"上机信息统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"每人每日平均上机时长\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"LI_DayAvgTimeSpan\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 178 * widthRate,\r\n            dataIndex: \"LI_DayAvgTimeSpan\",\r\n            render: (data) => {\r\n              // data = 120\r\n              let time = Number(data)\r\n              let title = \"\";\r\n              if ( time < 1) {\r\n                title = \"小于一分钟\";\r\n              } else if ( time < 60) {\r\n                title =  time + \"分钟\";\r\n              } else if ( time >= 60) {\r\n                let minute = ( time % 60) ;\r\n                title =\r\n                  ( time / 60).toFixed() +\r\n                  \"小时\" +\r\n                  (minute > 0 ? minute.toFixed() + \"分钟\" : \"\");\r\n              }\r\n              return (\r\n                <span className=\"table-count\" title={title}>\r\n                  {title ? title : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n\r\n          {\r\n            title: \"均每日上机百分比\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"LI_DayAvgOnlinePercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 146 * widthRate,\r\n            dataIndex: \"LI_DayAvgOnlinePercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? correctNumber(data) * 100 + \"%\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: (\r\n          <TableTip\r\n            CulomnsSelect={CulomnsSelect}\r\n            onCheckChange={(e) => {\r\n              setCulomnsSelect(\r\n                e.sort((a, b) => {\r\n                  return a > b;\r\n                })\r\n              );\r\n            }}\r\n            // ToolClassName={ToolClassName}\r\n            Culomns={Culomns}\r\n          ></TableTip>\r\n        ),\r\n        align: \"center\",\r\n        width: 60 * widthRate,\r\n        fixed: \"right\",\r\n        className: \"two-col-center-border\",\r\n\r\n        // dataIndex: \"time\",\r\n        render: (data) => {\r\n          return <span className=\"table-columns\"></span>;\r\n        },\r\n      },\r\n    ];\r\n    EndCulomns = EndCulomns.concat(\r\n      culomnsData.slice(0, productLevel === 1 ? 3 : 2)\r\n    ); //大学不要学段\r\n    // CulomnsSelect.forEach((child, index) => {\r\n    //   // 因为前面三个必选，同时不能用children，所以每个加2\r\n    //   if (child !== 0 && culomnsData[child + 2]) {\r\n    //     EndCulomns.push(culomnsData[child + 2]);\r\n    //   }\r\n    // });\r\n    culomnsData.forEach((child, index) => {\r\n      // 前三和最后的都不可控\r\n      if (index >= 3 && index !== culomnsData.length - 1) {\r\n        // value 是从0开始的，0是学校基础信息，不能取消，所以要为1以后，\r\n        // index要3（包括3，index是0开始的）以后才是可选的\r\n        if (\r\n          CulomnsSelect.some((a) => {\r\n            return a + 2 === index;\r\n          })\r\n        ) {\r\n          EndCulomns.push(child);\r\n        } else {\r\n          //隐藏，改宽度\r\n          child.title = \"\";\r\n          child.width = 0;\r\n          child.sorter = false;\r\n          if (child.children) {\r\n            child.children = child.children.map((c, i) => {\r\n              c.title = \"\";\r\n              c.width = 0;\r\n              c.sorter = false;\r\n              c.render = () => {\r\n                return \"\";\r\n              };\r\n              return c;\r\n            });\r\n          } else {\r\n            child.render = () => {\r\n              return \"\";\r\n            };\r\n          }\r\n          EndCulomns.push(child);\r\n        }\r\n      }\r\n    });\r\n    EndCulomns.push(culomnsData[culomnsData.length - 1]); //控制列\r\n    return EndCulomns;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [levelMsg, CulomnsSelect, visible]);\r\n\r\n  // 监听列表，进来就更新，除了第一次\r\n  useEffect(() => {\r\n    if (!ListFirst) {\r\n      let Path = handleRoute(location.pathname);\r\n\r\n      if (Path[0] === \"schoolResource\") {\r\n        tableRef.current.reloadList();\r\n      }\r\n    }\r\n\r\n    ListFirst && setListFirst(false);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location.pathname]);\r\n  //   useLayoutEffect(() => {\r\n  //     // let dom = searchRef.current;\r\n  //     // 点击iframe\r\n  //     // 对点击不同节点来控制显示隐藏\r\n  //     const fn = (node) => {\r\n  //       let isOut = false;\r\n  //       let dom = searchRef.current;\r\n  //       let tool = toolTipRef.current;\r\n  //       if (!dom.contains(node.target)&&(!tool||!tool.popupRef.current||tool.popupRef.current.getElement().contains(node.target))) {\r\n  //         //判断是否包含点击的节点\r\n  //         isOut = true;\r\n  //       } else {\r\n  //         isOut = false;\r\n  //       }\r\n  // console.log(!tool||!tool.popupRef.current||tool.popupRef.current.getElement() ,node.target)\r\n  //       //点击的位置不在搜索框和搜索内容显示区\r\n  //       setVisible(!isOut);\r\n  //     };\r\n  //     document.addEventListener(\"click\", fn);\r\n  //     return () => {\r\n  //       document.removeEventListener(\"click\", fn);\r\n  //     };\r\n  //   }, [searchRef, LoadTool]);\r\n  return (\r\n    <div className=\"SchoolList\" style={{ height: height }}>\r\n      <div className=\"pl-top\">\r\n        <div className=\"plt-select\">\r\n          {TermList.length > 0 && (\r\n            <Dropdown\r\n              width={150}\r\n              height={240}\r\n              dropList={TermList}\r\n              title={\"所统计学期\"}\r\n              value={query.term}\r\n              className=\"school-dropdown\"\r\n              onChange={(e) => {}}\r\n              onSelect={(e, option) => {\r\n                setQuery({ ...query, term: e });\r\n              }}\r\n            ></Dropdown>\r\n          )}\r\n          {productLevel === 1 && (\r\n            <Dropdown\r\n              width={150}\r\n              height={240}\r\n              dropList={TermList}\r\n              title={\"学段类型\"}\r\n              value={query.term}\r\n              className=\"school-dropdown\"\r\n              onChange={(e) => {}}\r\n              onSelect={(e, option) => {\r\n                setQuery({ ...query, term: e });\r\n              }}\r\n            ></Dropdown>\r\n          )}\r\n        </div>\r\n        <div className=\"plt-search\">\r\n          <Search\r\n            className=\"home-search\"\r\n            Value={SearchValue}\r\n            placeHolder={\"输入\" + levelMsg.belong + \"名称搜索\"}\r\n            onChange={(e) => {\r\n              setSearchValue(e.target.value);\r\n            }}\r\n            onClickSearch={(e) => {\r\n              setQuery({ ...query, keyword: SearchValue });\r\n            }}\r\n            onCancelSearch={(e) => {\r\n              setSearchValue(\"\");\r\n              setQuery({ ...query, keyword: \"\" });\r\n            }}\r\n          ></Search>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"pl-table\">\r\n        <Scrollbars>\r\n          <Table\r\n            // onHeaderRow={(c, i) => {\r\n            //   console.log(c, i);\r\n            // }}\r\n            scroll={{ x: \"max-content\" }}\r\n            className=\"Reacruit-table\"\r\n            columns={columns}\r\n            // dataSource={data}\r\n            // prepare={!!query.selectLevel}\r\n            query={query}\r\n            onDataChange={(data) => {}}\r\n            ref={tableRef}\r\n            api={getSchoolList}\r\n          ></Table>\r\n        </Scrollbars>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nfunction TableTip(props, ref) {\r\n  let { CulomnsSelect, onCheckChange, Culomns } = props;\r\n  // 设置显示的boolean\r\n  const [visible, setVisible] = useState(false);\r\n  // const [ToolClassName] = useState('more-content'+new Date().getTime())\r\n  const searchRef = useRef(null);\r\n  const toolTipRef = useRef(null);\r\n  useLayoutEffect(() => {\r\n    // let dom = searchRef.current;\r\n    // 点击iframe\r\n    // 对点击不同节点来控制显示隐藏\r\n    const fn = (node) => {\r\n      let isOut = false;\r\n      let dom = searchRef.current;\r\n      let tool = toolTipRef.current;\r\n      // console.log(document.getElementById(ToolClassName));\r\n      if (\r\n        !dom.contains(node.target) &&\r\n        (!tool || !tool.contains(node.target))\r\n      ) {\r\n        //判断是否包含点击的节点\r\n        isOut = true;\r\n      } else {\r\n        isOut = false;\r\n      }\r\n      // console.log(searchRef, toolTipRef);\r\n      //点击的位置不在搜索框和搜索内容显示区\r\n      setVisible(!isOut);\r\n    };\r\n    document.addEventListener(\"click\", fn);\r\n    return () => {\r\n      document.removeEventListener(\"click\", fn);\r\n    };\r\n  }, []);\r\n  // console.log(ToolClassName);\r\n  return (\r\n    <div className=\"open-columns\">\r\n      <Tooltip\r\n        overlayClassName={`lg-table-more-tooltip`}\r\n        // getPopupContainer={(e) => e}\r\n        // placement={\"bottomRight\"}\r\n        destroyTooltipOnHide={false}\r\n        color={\"#fff\"}\r\n        align={{\r\n          points: [\"tr\", \"br\"], // align top left point of sourceNode with top right point of targetNode\r\n          offset: [20, 10], // the offset sourceNode by 10px in x and 20px in y,\r\n          // targetOffset: [\"30%\", \"40%\"], // the offset targetNode by 30% of targetNode width in x and 40% of targetNode height in y,\r\n          overflow: { adjustX: true, adjustY: true }, // auto adjust position when sourceNode is overflowed\r\n        }}\r\n        // trigger={[\"click\"]}\r\n        visible={visible}\r\n        title={\r\n          <div ref={toolTipRef} className={`more-content `}>\r\n            <p className=\"more-title\">列筛选</p>\r\n            <CheckBoxGroup\r\n              value={CulomnsSelect}\r\n              onChange={(e) => {\r\n                onCheckChange(e);\r\n                // setCulomnsSelect(\r\n                //   e.sort((a, b) => {\r\n                //     return a > b;\r\n                //   })\r\n                // );\r\n              }}\r\n            >\r\n              <div className=\"more-map\">\r\n                <Scrollbars>\r\n                  {Culomns.map((child, index) => {\r\n                    return (\r\n                      <div key={index} className=\"c-select-bar\">\r\n                        <CheckBox\r\n                          value={child.value}\r\n                          disabled={\r\n                            child.canControl === undefined || !child.canControl\r\n                          }\r\n                        >\r\n                          {child.title}\r\n                        </CheckBox>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </Scrollbars>\r\n              </div>{\" \"}\r\n            </CheckBoxGroup>\r\n          </div>\r\n        }\r\n      >\r\n        <i\r\n          onClick={() => {\r\n            setVisible(true);\r\n          }}\r\n          ref={searchRef}\r\n        ></i>\r\n      </Tooltip>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: { roleMsg, levelHash, contentHW, termInfo },\r\n  } = state;\r\n  return { roleMsg, levelHash, contentHW, termInfo };\r\n};\r\nexport default connect(mapStateToProps)(\r\n  withRouter(memo(forwardRef(SchoolList)))\r\n);\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useMemo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { getDataStorage } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Analysis from \"../teachersStatisticAnalysis\";\r\n//   import { Reducer, Context, initState } from \"./reducer\";\r\nfunction SchoolDetail(props, ref) {\r\n  let {\r\n    id,\r\n    BasicWebRootUrl,\r\n    roleMsg: { identityCode, schoolID },\r\n    levelMsg,\r\n    contentHW: { width },\r\n    schoolMsg,\r\n  } = props;\r\n  const [SelectTab, setSelectTab] = useState({\r\n    tabid: \"teacherBaseMsg\",\r\n    tabname: \"教师基本信息\",\r\n  });\r\n  const roleData = useMemo(() => {\r\n    if(!id||!levelMsg){\r\n      return {}\r\n    }\r\n    let { nextProductLevel, nextSelectLevel, nextTitle } = levelMsg;\r\n    let data = { selectLevel: nextSelectLevel, productLevel: nextProductLevel };\r\n    if (nextProductLevel === 3) {\r\n      //中小学\r\n      data.schoolID = id;\r\n      data.collegeID = \"\";\r\n    } else if (nextProductLevel === 4) {\r\n      data.schoolID = schoolID;\r\n      data.collegeID = id;\r\n    } else {\r\n      //错误\r\n      data.productLevel = false;\r\n    }\r\n    return data;\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [levelMsg,id]);\r\n  return (\r\n    <div className=\"SchoolDetail\">\r\n      {roleData&&roleData.productLevel ? (\r\n        <Analysis\r\n          type={\"school\"}\r\n          roleData={roleData}\r\n          schoolMsg={schoolMsg}\r\n          tabid={SelectTab.tabid}\r\n        ></Analysis>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {/* <iframe\r\n      title={'教师画像详情'}\r\n      style={{width:width}}\r\n      className='SchoolDetail-frame'\r\n        src={\r\n          BasicWebRootUrl +\r\n          \"/html/userPersona/index.html?headerType=develop&userType=1&userID=\" +\r\n          id+'&lg_tk='+getDataStorage('token')+'&lg_ic='+identityCode\r\n        }\r\n      ></iframe> */}\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: {\r\n      roleMsg,\r\n      basePlatFormMsg: { BasicWebRootUrl },\r\n      contentHW,\r\n    },\r\n  } = state;\r\n  return { roleMsg, BasicWebRootUrl, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(\r\n  withRouter(memo(forwardRef(SchoolDetail)))\r\n);\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  useMemo,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { handleRoute } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport SchoolList from \"./schoolList\";\r\nimport SchoolDetail from \"./schoolDetail\";\r\nimport { Loading } from \"@/component/common\";\r\nimport { getSchoolMsg } from \"@/api/school\";\r\n\r\n//   import { Reducer, Context, initState } from \"./reducer\";\r\nfunction School(props, ref) {\r\n  let {\r\n    location,\r\n    activeTab,\r\n    levelHash,\r\n    removeTab,\r\n    roleMsg: { productLevel, schoolID, collegeID },\r\n    tabid,\r\n    contentHW: { height },\r\n    schoolMsg,\r\n    param, //param控制显示的模块\r\n  } = props;\r\n  const [Component, setComponent] = useState(\"\");\r\n  const [ID, setID] = useState(\"\");\r\n  const [SchoolMsg, setSchoolMsg] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  // const [state, setDispatch] = useReducer(Reducer, initState);\r\n  // let { component } = state;\r\n  // 获取当前级别的信息\r\n  const levelMsg = useMemo(() => {\r\n    return levelHash[productLevel]\r\n      ? levelHash[productLevel]\r\n      : {\r\n          productLevel: 1,\r\n          selectLevel: 1,\r\n          title: \"\",\r\n          sub: \"\",\r\n          belong: \"\",\r\n          belondName: \"\",\r\n        };\r\n  }, [levelHash, productLevel]);\r\n  useEffect(() => {\r\n    setComponent(param);\r\n  }, [param]);\r\n  // console.log(param,Component)\r\n  useEffect(() => {\r\n    if (location.pathname) {\r\n      let Path = handleRoute(location.pathname);\r\n      if (Path[0] === \"schoolDetail\" && Path[1]) {\r\n        console.log(levelMsg)\r\n        getSchoolMsg({ nodeID: Path[1] }).then((res) => {\r\n          if (res.StatusCode === 200) {\r\n            setID(Path[1]);\r\n            setSchoolMsg(res.Data);\r\n          } else {\r\n            //不存在\r\n            setSchoolMsg(false);\r\n\r\n            if (levelMsg.nextProductLevel) {\r\n              //是上级\r\n              removeTab(\"\", \"\", \"schoolResource\", \"\", () => {});\r\n            } else {\r\n              removeTab(\"\", \"\", \"teacherBaseMsg\", \"\", () => {});\r\n            }\r\n          }\r\n          setLoading(false);\r\n        });\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <Loading\r\n      spinning={Component === \"detail\" && loading}\r\n      tip={\"加载中...\"}\r\n      opacity={false}\r\n    >\r\n      <div className=\"School\" style={{ height: height }}>\r\n        {Component === \"list\" ? (\r\n          <SchoolList levelMsg={levelMsg}></SchoolList>\r\n        ) : (\r\n          <></>\r\n        )}\r\n        {Component === \"detail\" ? (\r\n          <SchoolDetail\r\n            levelMsg={levelMsg}\r\n            schoolMsg={SchoolMsg}\r\n            id={ID}\r\n          ></SchoolDetail>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n    </Loading>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg, contentHW, levelHash },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg, contentHW, levelHash };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(School))));\r\n","import \"./index.scss\";\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useMemo,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport { commonActions, handleActions } from \"../../redux/actions\";\r\n// import fetch from \"../../util/fetch\";\r\n// import config from \"../../util/ipConfig\";\r\nimport Frame from \"../../component/frame\";\r\n// import Bar from \"@/component/Bar\";\r\nimport {\r\n  withRouter,\r\n  // , Route, Switch, NavLink\r\n} from \"react-router-dom\";\r\nimport { LogOut } from \"@/util/connect\";\r\nimport Analysis from \"../teachersStatisticAnalysis\";\r\nimport Recruit from \"../recruit\";\r\nimport Train from \"../train\";\r\nimport Notice from \"../notice\";\r\nimport TeacherTrain from \"@/pages/teacher/train\";\r\nimport Details from \"@/pages/train/detail\";\r\nimport TeacherPersonal from \"../teacherPersonal\";\r\nimport { handleRoute, deepMap, getQueryVariable } from \"../../util/public\";\r\nimport Search from \"@/component/search\";\r\nimport { getSearch } from \"@/api/search\";\r\nimport { Empty } from \"@/component/common\";\r\nimport SearchchAll from \"../searchAll\";\r\nimport PersonalDetail from \"../personalDetail\";\r\nimport { GetUserDetailForHX } from \"@/api/personal\";\r\nimport School from \"../school\";\r\nimport { getBasePlatformMsg } from \"@/util/init\";\r\n// let { get } = fetch;\r\nfunction App(props, ref) {\r\n  // let commonData = useSelector((state) => state.commonData);\r\n  const {\r\n    history,\r\n    location,\r\n    commonData: {\r\n      token,\r\n      leftMenu,\r\n      params,\r\n      basePlatFormMsg: { ProVersion },\r\n      roleMsg: { schoolID, collegeID, selectLevel, productLevel, identityCode },\r\n      userInfo: { UserID }\r\n    },\r\n    handleData: {\r\n      teacherRecruitMsg: {\r\n        tabName: recruitName,\r\n        tabId: recruitId,\r\n        params: recruitParams,\r\n      },\r\n    },\r\n    first\r\n  } = props;\r\n  let {\r\n    commonData\r\n  } = props;\r\n  // //能进来的都默认为管理员\r\n  // let userIdentity = \"manager\";\r\n  // if(identityCode == \"IC0010\"){\r\n  //   userIdentity = \"manager\";\r\n  // }\r\n  // if(identityCode == \"IC0013\" || identityCode == \"IC0011\" || identityCode == \"IC0012\"){\r\n  //   userIdentity = \"teacher\";\r\n  // }\r\n  // if(identityCode == \"IC0014\" || identityCode == \"IC0015\"){\r\n  //   userIdentity = \"student\";\r\n  // }\r\n  console.log(\"查查左侧菜单\", leftMenu, props);\r\n \r\n  // if(first){\r\n    // window.open(\r\n    //     window.location.search +\r\n    //       \"#/page/personalDetail/\" +\r\n    //       UserID\r\n    //   )\r\n    //   setFirst(false);\r\n  // }\r\n  // useEffect(() => {\r\n  //   window.open(\r\n  //     window.location.search +\r\n  //       \"#/page/personalDetail/\" +\r\n  //       UserID\r\n  //   )\r\n  //   return () => {\r\n      \r\n  //   }\r\n  // }, [first])\r\n  let dispatch = useDispatch();\r\n  const [SchoolName, setSchoolName] = useState(\"各校师资\");\r\n  const [TeacherName, setTeacherName] = useState(\"教师画像查询\");\r\n  const [RecruitDetail, setRecruitDetail] = useState(\"detailID\");\r\n  // 设置frame Type\r\n  const [frameType, setFrameType] = useState(undefined);\r\n  // const [RecruitName, setRecruitName] = useState(recruitName);\r\n  const [Path, setPath] = useState([]);\r\n\r\n  //强制刷新右侧内容\r\n  const [ forceUpdate, setForceUpdate] = useState(false);\r\n  // 存page的个人画像的教师信息\r\n  const [TeacherMsg, setTeacherMsg] = useState(null);\r\n  // 教师id\r\n  const [TeacherID, setTeacherID] = useState(null);\r\n  // 存模块id\r\n  const [ModuleID, setModuleID] = useState(null);\r\n  // 需不需要初始化\r\n  const [OnlyBase, setOnlyBase] = useState(false);\r\n  // 招聘详情id\r\n  const [RecruitID, setRecruitID] = useState(null);\r\n\r\n  //显示哪个模块，用于实现点击刷新\r\n  const [showModule, setShowModule] = useState(\"stuStatusMsg\");\r\n  // 模块类型\r\n  const [ModuleType, setModuleType] = useState(\"\");\r\n  // 存frame返回的数据\r\n  // const [tabRef,setTabRef]\r\n  // frame的ref\r\n  const frameRef = useRef({});\r\n  // 在这做路由做配置，监听路由变化不合法的时候给它做合法方案\r\n  // 看是大学还是教育局，各校，各院，\r\n  \r\n  const NameData = useMemo(() => {\r\n    let data = { schoolList: \"各校师资\", schoolDetail: \"学校详情\" };\r\n    switch (productLevel) {\r\n      case 2:\r\n        data = { schoolList: \"各院师资\", schoolDetail: \"学院详情\" };\r\n\r\n        break;\r\n      default:\r\n    }\r\n    return data;\r\n  }, [productLevel]);\r\n\r\n  //  提前检查路由\r\n  useEffect(() => {\r\n    let Path = handleRoute(location.pathname);\r\n    console.log(\"提前检查路由\", Path)\r\n    let moduleType = getQueryVariable(\"ModuleType\"); //模块类型：*admin或缺省：管理员，*teacher:教师\r\n    // 单页面\r\n    \r\n    if (Path[0] === \"page\" && Path[1]) {\r\n      // 招聘详情界面\r\n      if (Path[1] === \"recruit\") {\r\n        // 不需要初始化\r\n        setOnlyBase(true);\r\n      }\r\n      setFrameType(\"page\");\r\n      // 现在Path[1]只有教师个人画像，不需要身份验证，也没有模块id，后面加page看情况配置mioduleid\r\n      setModuleID(\"\");\r\n    } else {\r\n      //       L10001 师资发展管理       管理员、教师（学校领导）\r\n      // 默认权限身份IC0002、IC0010\r\n\r\n      // L10002   师资发展培训  教师\r\n      // 默认权限身份IC0011、IC0012、IC0013\r\n      if (moduleType === \"teacher\") {\r\n        setModuleID(\"L10002\");\r\n        // setModuleID(\"\");\r\n        setFrameType(\"teacher\");\r\n      } else {\r\n        //默认管理员模块\r\n        setModuleID(\"L10001\");\r\n        setFrameType(\"default\");\r\n        // setModuleID(\"\");\r\n        if (!Path[0]) {\r\n          // history.push(\"/\" + leftMenu[0].key);\r\n          // controlRoute(leftMenu[0].key);\r\n          setFrameType(\"page\");\r\n          // 现在Path[1]只有教师个人画像，不需要身份验证，也没有模块id，后面加page看情况配置mioduleid\r\n          setModuleID(\"\");\r\n        }\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  useLayoutEffect(() => {\r\n    // 平台模式类型不确定，不允许进来\r\n    if (!frameType) {\r\n      return;\r\n    }\r\n    let Path = handleRoute(location.pathname);\r\n    console.log(\"useLayoutEffect\", Path, window.first)\r\n    // if(Path[0] == 'index' && !window.first){\r\n    //   console.log(window.location.search)\r\n    //   location.href = \r\n    //     window.location.search +\r\n    //       \"#/page/personalDetail/\" +\r\n    //       \"000444\";\r\n    //   window.first = true;\r\n    //   return;\r\n    // }\r\n    setPath(Path);\r\n    \r\n    // 管理员的\r\n    if (frameType === \"default\") {\r\n      // 没有就默认给个\r\n      if (!Path[0] && leftMenu instanceof Array && leftMenu.length > 0) {\r\n        \r\n        // history.push(\"/\" + leftMenu[0].key);\r\n        // controlRoute(leftMenu[0].key);\r\n        setFrameType(\"page\");\r\n        // 现在Path[1]只有教师个人画像，不需要身份验证，也没有模块id，后面加page看情况配置mioduleid\r\n        setModuleID(\"\");\r\n        return;\r\n      } else if (Path[0] === \"recruitDetail\") {\r\n        //教师招聘计划管理,默认\r\n        if (Path[1]) {\r\n          // setRecruitDetail(Path[1]);\r\n        } else {\r\n          \r\n          // controlRoute(recruitId);\r\n          controlRoute(\"stuStatusMsg\")\r\n          \r\n        }\r\n        // setRecruitName()\r\n        return;\r\n      }\r\n      // else if (\r\n      //   Path[0] === recruitId &&\r\n      //   Path[1] &&\r\n      //   !recruitParams.find((child) => {\r\n      //     return child.key === Path[1];\r\n      //   })\r\n      // ) {\r\n      //   //教师招聘计划管理,默认\r\n      //   // console.log(Path)\r\n      //   controlRoute(Path[0]);\r\n      //   // setRecruitName()\r\n      //   return;\r\n      // }\r\n\r\n      //遍历下path[0]是否存在leftmenushang\r\n      // 这个是为了控制不在左侧上出现的id，但要挂载某个菜单上的操作\r\n\r\n      let isExist = false;\r\n      deepMap(leftMenu, (child) => {\r\n        if (\r\n          child.child.key === Path[0] ||\r\n          (child.child.params instanceof Array &&\r\n            child.child.params.some((param) => Path[0] === param.key))\r\n        ) {\r\n          isExist = true;\r\n        }\r\n      });\r\n      // isExist = !isExist\r\n      //   ? params.some((child) => {\r\n      //       return child.key === Path[0];\r\n      //     })\r\n      //   : isExist;\r\n      // 不存在\r\n\r\n      if (!isExist && leftMenu.length > 0) {\r\n        // 第一次进来的时候frame还没挂载，所以为undefined，需要自己控制，后面不是undefined了可以使用frame返回的方法\r\n        // frameRef.current.removeTab\r\n        //   ? RemoveTab(\"\", \"\")\r\n        //   : \r\n        //   controlRoute(leftMenu[0].key);\r\n          // controlRoute(\"page/peronalDetail/\" + UserID);\r\n          \r\n          setFrameType(\"page\");\r\n            // 现在Path[1]只有教师个人画像，不需要身份验证，也没有模块id，后面加page看情况配置mioduleid\r\n          setModuleID(\"\");\r\n          return;\r\n      }\r\n    }\r\n\r\n    if (frameType === \"teacher\") {\r\n      setFrameType(\"page\");\r\n        // 现在Path[1]只有教师个人画像，不需要身份验证，也没有模块id，后面加page看情况配置mioduleid\r\n      setModuleID(\"\");\r\n      return;\r\n    }\r\n    \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location, leftMenu, frameType]);\r\n\r\n  // 手动路由控制\r\n  function controlRoute() {\r\n    let path = \"\";\r\n    for (let key in arguments) {\r\n      path += arguments[key] ? \"/\" + arguments[key] : \"\";\r\n    }\r\n    history.push(path);\r\n  }\r\n  // 初始化方法\r\n  const pageInit = useCallback(\r\n   \r\n    async (data) => {\r\n      let isInit = true;\r\n      \r\n      let Path = handleRoute(location.pathname);\r\n      // data为false表示没有初始化\r\n      // window.open(\r\n      //   window.location.search +\r\n      //     \"#/page/personalDetail/\" +\r\n      //     UserID\r\n      // );\r\n      // console.log(\"我在这里\", data, Path, frameType);\r\n      // return;\r\n      if (data) {\r\n        // OnlyBase\r\n        // 保证返回的data包含identityDetail，userInfo，basePlatformMsg，role\r\n        data.identityDetail &&\r\n          dispatch({\r\n            type: commonActions.COMMON_SET_IDENTITY,\r\n            data: data.identityDetail,\r\n          });\r\n        data.userInfo &&\r\n          dispatch({\r\n            type: commonActions.COMMON_SET_USER_INFO,\r\n            data: data.userInfo,\r\n          });\r\n        data.basePlatformMsg &&\r\n          dispatch({\r\n            type: commonActions.COMMON_SET_BASE_PLAT_FORM_MSG,\r\n            data: data.basePlatformMsg,\r\n          });\r\n        data.role &&\r\n          dispatch({\r\n            type: commonActions.COMMON_SET_ROLE_MSG,\r\n            data: data.role,\r\n          });\r\n        data.termInfo &&\r\n          dispatch({\r\n            type: commonActions.COMMON_SET_TERM_INFO,\r\n            data: data.termInfo,\r\n          });\r\n        data.systemServer &&\r\n          dispatch({\r\n            type: commonActions.COMMON_SET_SYSTEM_SERVER,\r\n            data: data.systemServer,\r\n          });\r\n        data.token &&\r\n          data.token &&\r\n          dispatch(commonActions.SetCommonData({ token: data.token }));\r\n\r\n        // systemServer\r\n        // 根据版本级别，显示不同的左侧,400为通知公告的系统id，没有就不显示通知告\r\n        // data.role &&\r\n        //   dispatch(\r\n        //     commonActions.SetLeftMenu(\r\n        //       data.role.productLevel,\r\n        //       !!data.systemServer[400]\r\n        //     )\r\n        //   );\r\n\r\n        // 为空表示是学生，家长，不允许进来\r\n        // if(!data.role.frameType){\r\n\r\n        // }\r\n        // 如果还没定义可以再定义框架类型，因为上面的是先检查是否是page了\r\n\r\n        if (!frameType) {\r\n          // 根据用户角色显示不同的界面\r\n\r\n          // setFrameType(data.role.frameType);\r\n        } else {\r\n          //在单页面page的时候做用户信息处理，看是否合法，不合法跳转，只做page的检测，再具体的就由内部做\r\n          // 刚开始的page只有新版教师个人画像，所以会有多种角色查看该界面，暂不做当前登陆用户角色\r\n          // if (Path[0] === \"page\" && Path[1]) {\r\n          //   //先获取所看的用户id，检查是否有效\r\n          //   if (Path[1] === \"personalDetail\" && Path[2]) {\r\n          //     let res = await GetUserDetailForHX({\r\n          //       baseIP: data.basePlatformMsg.BasicWebRootUrl,\r\n          //       userID: Path[2],\r\n          //     });\r\n          //     if (res.StatusCode === 200) {\r\n          //       setTeacherMsg(res.Data);\r\n          //       setTeacherID(Path[2]); //这个要在最后改变，因为他控制个人画像里面的副作用的运行\r\n          //     } else {\r\n          //       // if (res.ErrCode === -2) {//id有误\r\n          //       window.location.href =\r\n          //         data.basePlatformMsg.BasicWebRootUrl +\r\n          //         \"/Error.aspx?errcode=E012\";\r\n          //       isInit = false;\r\n          //       // }\r\n          //     }\r\n          //   } else if (Path[1] === \"recruit\" && Path[2]) {\r\n          //     setRecruitID(Path[2]);\r\n          //   } else {\r\n          //     isInit = false;\r\n          //     // return ;\r\n          //     window.location.href =\r\n          //       data.basePlatformMsg.BasicWebRootUrl +\r\n          //       \"/Error.aspx?errcode=E012\"; //缺参数\r\n          //   }\r\n          // }\r\n        }\r\n      }\r\n      // else {\r\n      //   let res = await getBasePlatformMsg();\r\n      //   console.log(res);\r\n      //   // 招聘详情界面\r\n      //   if (Path[0] === \"page\" && Path[1] === \"recruit\"&&Path[2]) {\r\n\r\n      //     setRecruitID(Path[2])\r\n      //   } else {\r\n      //     isInit = false;\r\n      //     // return ;\r\n      //     window.location.href =\r\n      //     res.BasicWebRootUrl + \"/Error.aspx?errcode=E012\"; //缺参数\r\n      //   }\r\n      // }\r\n\r\n      // }\r\n      return isInit;\r\n    },\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [frameType]\r\n  );\r\n  // 搜索api\r\n  const searchApi = useCallback(\r\n    (payload) => {\r\n      // console.log(payload);\r\n      // return getSearch.call(this, {\r\n      //   schoolID,\r\n      //   collegeID,\r\n      //   selectLevel,\r\n      //   ...payload,\r\n      // });\r\n    },\r\n    [schoolID, collegeID, selectLevel]\r\n  );\r\n  // // 移除tab\r\n  const RemoveTab =\r\n    // useCallback(\r\n    (...arg) => {\r\n      // console.log(frameRef)\r\n      // if(frameRef.current.tabList.length===1){\r\n      //   controlRoute(leftMenu[0].key);\r\n      // }\r\n      typeof frameRef.current.removeTab === \"function\" &&\r\n        frameRef.current.removeTab(...arg);\r\n    };\r\n  // ,\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  //   [frameRef.current.removeTab, frameRef.current.tabList]\r\n  // );\r\n  // 保存活动的tab,实时获取\r\n  const getActiveTab = (activeTab) => {\r\n    dispatch(handleActions.setActiveTab(activeTab));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  };\r\n  return (\r\n    <Frame\r\n      pageInit={pageInit}\r\n      type={frameType}\r\n      leftMenu={leftMenu}\r\n      moduleID={ModuleID}\r\n      setShowModule={setForceUpdate}\r\n      onlyBase={OnlyBase}\r\n      commonData={commonData}\r\n      // userIdentity={userIdentity}\r\n      search={\r\n        <Search\r\n          api={searchApi}\r\n          // overlayStyle={{width:'402px'}}\r\n          searchResult={(res, keyword) => {\r\n            return <SearchchAll keyword={keyword} data={res}></SearchchAll>;\r\n          }}\r\n          className=\"frame-search-all\"\r\n        ></Search>\r\n      }\r\n      ref={frameRef}\r\n      getActiveTab={getActiveTab}\r\n      onContentresize={(height, width) => {\r\n        // 获取主区域的宽高\r\n        dispatch({\r\n          type: commonActions.COMMON_SET_CONTENT_HW,\r\n          data: { height, width },\r\n        });\r\n      }}\r\n      tabPorps={{\r\n        onChange: (e) => {\r\n          console.log(e);\r\n        },\r\n        onEdit: (e, action) => {\r\n          console.log(e, action);\r\n        },\r\n      }}\r\n    >\r\n      {/* <Analysis\r\n        tabid={\"schoolResource\"}\r\n        tabname={SchoolName}\r\n        param={\"SchoolID\"}\r\n      >\r\n        {SchoolName}\r\n      </Analysis> */}\r\n        <Analysis tabid={\"schoolLiveMsg\"} tabname={\"校园生活档案\"} forceUpdate={forceUpdate}>\r\n          校园生活档案\r\n        </Analysis>\r\n        <Analysis tabid={\"awardAndPunish\"} tabname={\"奖惩档案\"} forceUpdate={forceUpdate}>\r\n          奖惩档案\r\n        </Analysis>\r\n        <Analysis tabid={\"healthMsg\"} tabname={\"健康档案\"} forceUpdate={forceUpdate}>\r\n          健康档案\r\n        </Analysis>\r\n        <Analysis tabid={\"attendanceMsg\"} tabname={\"考勤档案\"} forceUpdate={forceUpdate}>\r\n          考勤档案\r\n        </Analysis>\r\n        <Analysis tabid={\"stuConditionMsg\"} tabname={\"学情档案\"} forceUpdate={forceUpdate}>\r\n          学情档案\r\n        </Analysis>\r\n        <Analysis tabid={\"stuStatusMsg\"} tabname={\"学籍档案\"} forceUpdate={forceUpdate}>\r\n          学籍档案\r\n        </Analysis>\r\n      <Analysis\r\n        tabid={\"teacherPersonal\"}\r\n        tabname={TeacherName}\r\n        param={\"TeacherID\"}\r\n      >\r\n        {TeacherName}\r\n      </Analysis>\r\n      <Recruit\r\n        tabid={recruitId}\r\n        tabname={\"教师招聘计划管理\"}\r\n        param={\"home\"}\r\n        // paramList={recruitParams}\r\n      >\r\n        教师招聘计划管理\r\n      </Recruit>\r\n\r\n      <Recruit\r\n        tabid={\"publishRecruit\"}\r\n        tabname={\"发布招聘计划\"}\r\n        param={\"publish\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        发布招聘计划\r\n      </Recruit>\r\n      <Recruit\r\n        tabid={\"recruitDetail\"}\r\n        tabname={\"招聘计划详情\"}\r\n        param={\"detail\"}\r\n        mustparam={\"true\"}\r\n        redirect={\"teacherRecruit\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        招聘计划详情\r\n      </Recruit>\r\n      <Recruit\r\n        tabid={\"editRecruit\"}\r\n        tabname={\"编辑招聘计划\"}\r\n        param={\"edit\"}\r\n        mustparam={\"true\"}\r\n        redirect={\"teacherRecruit\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        编辑招聘计划\r\n      </Recruit>\r\n      <Train tabid={\"teacherTrain\"} tabname={\"教师培训计划管理\"} param={\"home\"}>\r\n        教师培训计划管理\r\n      </Train>\r\n      <Train\r\n        tabid={\"publishTrain\"}\r\n        tabname={\"发布培训计划\"}\r\n        param={\"publish\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        发布培训计划\r\n      </Train>\r\n      <Train\r\n        tabid={\"trainDetail\"}\r\n        tabname={\"培训计划详情\"}\r\n        mustparam={\"true\"}\r\n        redirect={\"teacherTrain\"}\r\n        param={\"detail\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        培训计划详情\r\n      </Train>\r\n      <Train\r\n        tabid={\"editTrain\"}\r\n        tabname={\"编辑培训计划\"}\r\n        param={\"edit\"}\r\n        mustparam={\"true\"}\r\n        redirect={\"teacherTrain\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        编辑培训计划\r\n      </Train>\r\n      <TeacherPersonal\r\n        tabid={\"teacherPersonal\"}\r\n        tabname={\"教师画像查询\"}\r\n        param={\"list\"}\r\n        // mustparam={\"true\"}\r\n        // redirect={\"teacherTrain\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        教师画像查询\r\n      </TeacherPersonal>\r\n      <TeacherPersonal\r\n        tabid={\"personalDetail\"}\r\n        tabname={\"教师画像详情\"}\r\n        param={\"detail\"}\r\n        // mustparam={\"true\"}\r\n        // redirect={\"teacherTrain\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        教师画像详情\r\n      </TeacherPersonal>\r\n      <Notice tabid={\"notice\"} tabname={\"通知公告\"}></Notice>\r\n      {/* 有frame类型的属性，*teacher：为教师类型，缺省则为default类型 */}\r\n      {/* 教师端 */}\r\n      <TeacherTrain\r\n        frametype={\"teacher\"}\r\n        routeid={\"teacherTrain\"}\r\n      ></TeacherTrain>\r\n      <Details\r\n        frametype={\"teacher\"}\r\n        routeid={\"trainDetail\"}\r\n        routename={\"培训计划详情\"}\r\n        param={\"id\"}\r\n        controlSize={\"\"}\r\n        useScrollbars={false}\r\n      >\r\n        培训计划详情\r\n      </Details>\r\n      <p\r\n        proversion={ProVersion}\r\n        className=\"teacher-ProVersion\"\r\n        frametype={\"teacher\"}\r\n      >\r\n        {ProVersion}\r\n      </p>\r\n      {/* 教师端end */}\r\n      {/* 个人画像 */}\r\n      <PersonalDetail\r\n        frametype={\"page\"}\r\n        pageid={\"personalDetail\"}\r\n        param={\"id\"}\r\n        teachermsg={TeacherMsg}\r\n        teacherid={TeacherID}\r\n      ></PersonalDetail>\r\n\r\n      {/* 个人画像end */}\r\n      {/* 招聘详情 */}\r\n      <Recruit\r\n        pageTitle={\"招聘计划详情\"}\r\n        frametype={\"page\"}\r\n        pageid={\"recruit\"}\r\n        param={\"recruit\"}\r\n        recruitid={RecruitID}\r\n      ></Recruit>\r\n\r\n      {/* PersonalDetail */}\r\n      {/* 多学校 */}\r\n\r\n      <School\r\n        tabid={\"schoolResource\"}\r\n        tabname={NameData.schoolList}\r\n        param={\"list\"}\r\n        removeTab={RemoveTab}\r\n      ></School>\r\n      <School\r\n        tabname={NameData.schoolDetail}\r\n        tabid={\"schoolDetail\"}\r\n        param={\"detail\"}\r\n        mustparam={\"true\"}\r\n        redirect={\"schoolResource\"}\r\n        removeTab={RemoveTab}\r\n      ></School>\r\n      <p proversion={ProVersion} className=\"page-ProVersion\" frametype={\"page\"}>\r\n        {ProVersion}\r\n      </p>\r\n    </Frame>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  // let { UIState, DataState, PublicState } = state;\r\n  // console.log(state)\r\n  return state;\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(App))));\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","/*\r\n *           佛曰:\r\n *                   写字楼里写字间，写字间里程序员；\r\n *                   程序人员写程序，又拿程序换酒钱。\r\n *                   酒醒只在网上坐，酒醉还来网下眠；\r\n *                   酒醉酒醒日复日，网上网下年复年。\r\n *                   但愿老死电脑间，不愿鞠躬老板前；\r\n *                   奔驰宝马贵者趣，公交自行程序员。\r\n *                   别人笑我忒疯癫，我笑自己命太贱；\r\n *                   不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-17 14:10:48\r\n * @LastEditTime: 2021-01-28 20:40:51\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\redux\\reducers\\commonData\\index.js\r\n */\r\n\r\nimport { commonActions } from \"../../actions\";\r\nconst commonData = (\r\n  state = {\r\n    alert: false,\r\n    leftMenu: [],\r\n    isReflash: false,\r\n    // params: [\r\n    //   { key: \"publish\", title: \"发布招聘计划\" },\r\n    //   { key: \"edit\", title: \"发布招聘计划\" },\r\n    // ],\r\n    userInfo: {},\r\n    identity: {},\r\n    basePlatFormMsg: {},\r\n    roleMsg: {},\r\n    termInfo: {\r\n      HasHistory: false,\r\n      TermInfo: [],\r\n    },\r\n    levelHash: {\r\n      1: {\r\n        productLevel: 1,\r\n        selectLevel: 1,\r\n        title: \"区域\",\r\n        sub: \"学段\", //教师基础信息文字显示\r\n        belong: \"学校\", //选择教师下级\r\n        belongBefore: \"所属\", //选择教师前缀\r\n        belondName: \"SchoolName\", //教师画像获取接口所属的属性\r\n        ganger: \"学段\", //班主任班级管理统计,\r\n        nextProductLevel: 3, //下级的产品级别\r\n        nextSelectLevel: 3, //下级的选择级别\r\n        nextTitle: \"学校\", //下级名称\r\n      },\r\n      2: {\r\n        productLevel: 2,\r\n        selectLevel: 2,\r\n        title: \"学校\",\r\n        sub: \"学院\",\r\n        belong: \"学院\",\r\n        belongBefore: \"所属\", //选择教师前缀\r\n        belondName: \"CollegeName\",\r\n        ganger: \"学院\",\r\n        nextProductLevel: 4, //下级的产品级别\r\n        nextSelectLevel: 3, //下级的选择级别\r\n        nextTitle: \"学院\", //下级名称\r\n      },\r\n      3: {\r\n        productLevel: 3,\r\n        selectLevel: 2,\r\n        title: \"学校\",\r\n        sub: \"学科\",\r\n        belongBefore: \"所教\", //选择教师前缀\r\n        belong: \"学科\",\r\n        belondName: \"SubjectNames\",\r\n        ganger: \"学科\",\r\n      },\r\n      4: {\r\n        productLevel: 4,\r\n        selectLevel: 3,\r\n        title: \"学院\",\r\n        sub: \"教研室\",\r\n        belongBefore: \"所属\", //选择教师前缀\r\n\r\n        belong: \"教研室\",\r\n        belondName: \"CroupName\",\r\n        ganger: \"学科\",\r\n      },\r\n    },\r\n    contentHW: { height: 0, width: 0 },\r\n    systemServer: {},\r\n  },\r\n  actions\r\n) => {\r\n  switch (actions.type) {\r\n    case commonActions.COMMON_REFLASH:\r\n      return Object.assign({}, state, {\r\n        isReflash: actions.data\r\n      });\r\n    case commonActions.COMMON_SET_COMMON_DATA:\r\n      return Object.assign({}, state, actions.data);\r\n    case commonActions.COMMON_SET_TERM_INFO:\r\n      return Object.assign({}, state, {\r\n        termInfo: actions.data,\r\n      });\r\n    case commonActions.COMMON_SET_LEFT_MENU:\r\n      return Object.assign({}, state, {\r\n        leftMenu: actions.data,\r\n      });\r\n    case commonActions.COMMON_SET_CONTENT_HW:\r\n      return Object.assign({}, state, {\r\n        contentHW: { ...state.contentHW, ...actions.data },\r\n      });\r\n    case commonActions.COMMON_SET_TEST:\r\n      return Object.assign({}, state, {\r\n        alert: true,\r\n      });\r\n    case commonActions.COMMON_SET_IDENTITY:\r\n      return Object.assign({}, state, {\r\n        identity: actions.data,\r\n      });\r\n    case commonActions.COMMON_SET_USER_INFO:\r\n      return Object.assign({}, state, {\r\n        userInfo: actions.data,\r\n      });\r\n    case commonActions.COMMON_SET_BASE_PLAT_FORM_MSG:\r\n      return Object.assign({}, state, {\r\n        basePlatFormMsg: actions.data,\r\n      });\r\n    case commonActions.COMMON_SET_ROLE_MSG:\r\n      return Object.assign({}, state, {\r\n        roleMsg: actions.data,\r\n      });\r\n    case commonActions.COMMON_SET_SYSTEM_SERVER:\r\n      return Object.assign({}, state, {\r\n        systemServer: actions.data,\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default commonData;\r\n","/*\r\n *           佛曰:\r\n *                   写字楼里写字间，写字间里程序员；\r\n *                   程序人员写程序，又拿程序换酒钱。\r\n *                   酒醒只在网上坐，酒醉还来网下眠；\r\n *                   酒醉酒醒日复日，网上网下年复年。\r\n *                   但愿老死电脑间，不愿鞠躬老板前；\r\n *                   奔驰宝马贵者趣，公交自行程序员。\r\n *                   别人笑我忒疯癫，我笑自己命太贱；\r\n *                   不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-17 14:10:48\r\n * @LastEditTime: 2020-12-10 16:22:02\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\redux\\reducers\\handleData\\index.js\r\n */\r\nimport { handleActions } from \"../../actions\";\r\nconst handleData = (\r\n  state = {\r\n    teacherRecruitMsg: {\r\n      tabName: \"教师招聘计划管理\",\r\n      tabId: \"teacherRecruit\",\r\n      component: \"home\",\r\n      params: [\r\n        { key: \"\", title: \"教师招聘计划管理\" },\r\n        { key: \"publish\", title: \"发布招聘计划\" },\r\n      ],\r\n    },\r\n    activeTab: \"\",\r\n  },\r\n  actions\r\n) => {\r\n  switch (actions.type) {\r\n    case handleActions.COMMON_SET_ACTIVE_TAB:\r\n      return Object.assign({}, state, {\r\n        activeTab: actions.data,\r\n      });\r\n    case handleActions.COMMON_SET_TEACHER_RECRUIT_MSG:\r\n      return Object.assign({}, state, {\r\n        teacherRecruitMsg: { ...state.teacherRecruitMsg, ...actions.data },\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default handleData;\r\n","/*\r\n *           佛曰:\r\n *                   写字楼里写字间，写字间里程序员；\r\n *                   程序人员写程序，又拿程序换酒钱。\r\n *                   酒醒只在网上坐，酒醉还来网下眠；\r\n *                   酒醉酒醒日复日，网上网下年复年。\r\n *                   但愿老死电脑间，不愿鞠躬老板前；\r\n *                   奔驰宝马贵者趣，公交自行程序员。\r\n *                   别人笑我忒疯癫，我笑自己命太贱；\r\n *                   不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-17 14:10:48\r\n * @LastEditTime: 2020-12-03 10:23:17\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\redux\\reducers\\mainData\\index.js\r\n */\r\nimport { mainActions } from \"../../actions\";\r\nconst mainData = (\r\n  state = {\r\n    alert: false,\r\n  },\r\n  actions\r\n) => {\r\n  switch (actions.type) {\r\n    // case commonActions.COMMON_SET_TEST:\r\n    //   return Object.assign({}, state, {\r\n    //     alert: true,\r\n    //   });\r\n\r\n    default:\r\n      return state\r\n  }\r\n};\r\nexport default mainData;\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport commonData from \"./commonData\";\r\nimport handleData from './handleData';\r\nimport mainData from './mainData'\r\nexport const initialState = {};\r\n\r\nlet rootReducers = combineReducers({\r\n  commonData,handleData,mainData,\r\n  // UIState,\r\n  PublicState: {},\r\n});\r\nexport default rootReducers;\r\n","import rootReducers, { initialState } from \"../reducers\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { createLogger } from \"redux-logger\";\r\n\r\nimport DevTools from \"./DevTools\"; // 辅助工具\r\n\r\nlet enhancer = applyMiddleware(thunk);\r\nif (process.env.NODE_ENV === \"development\") {\r\n  enhancer = compose(\r\n    applyMiddleware(thunk, createLogger()),\r\n    DevTools.instrument()\r\n  );\r\n}\r\n\r\nlet store = createStore(rootReducers, initialState, enhancer);\r\n\r\nif (process.env.NODE_ENV === \"development\") {\r\n  if (module.hot) {\r\n    // Enable Webpack hot module replacement for reducers\r\n    module.hot.accept(\"../reducers\", () => {\r\n      const nextRootReducer = require(\"../reducers\").default;\r\n      store.replaceReducer(nextRootReducer);\r\n    });\r\n  }\r\n}\r\n\r\n// export const StoreContext = createContext({});\r\n\r\n/**\r\n *  action 支持传入一个异步的函数,如：\r\n *  const increaseCount = async dispatch => {\r\n *      await sleep(1000);\r\n *      dispatch({ type: 'increase' });\r\n *  }\r\n *  调用：\r\n *  dispatch(increaseCount)\r\n */\r\n// const StoreReducer = (props) => {\r\n//   const [state, origin_dispatch] = useReducer(reducer, initialState);\r\n//   const dispatch = (action) => {\r\n//     if (typeof action === \"function\") {\r\n//       return action(origin_dispatch);\r\n//     }\r\n//     return origin_dispatch(action);\r\n//   };\r\n//   return (\r\n//     <StoreContext.Provider value={{ state, dispatch }}>\r\n//       {props.children}\r\n//     </StoreContext.Provider>\r\n//   );\r\n// };\r\n\r\nexport default store;\r\n","import React from 'react'\r\nimport { createDevTools } from 'redux-devtools'\r\nimport LogMonitor from 'redux-devtools-log-monitor'\r\nimport DockMonitor from 'redux-devtools-dock-monitor'\r\n\r\nexport default createDevTools(\r\n  <DockMonitor defaultIsVisible={false}\r\n               toggleVisibilityKey=\"ctrl-h\"\r\n               changePositionKey=\"ctrl-w\">\r\n    <LogMonitor />\r\n  </DockMonitor>\r\n)\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./pages/app\";\r\nimport Personal from \"./pages/personalDetail\";\r\nimport reportWebVitals from \"./util/reportWebVitals\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\nimport * as serviceWorker from \"./util/serviceWorker\";\r\nimport { HashRouter as Router } from \"react-router-dom\";\r\n// import { createHashHistory } from \"history\";\r\n// let history = createHashHistory();\r\n// console.log(history);\r\n// const history = require(\"history\").createHashHistory();\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        {/* <Route  history={history} path=\"/\" component={App}></Route> */}\r\n        <App />\r\n        {/* <Personal /> */}\r\n       </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\nserviceWorker.register();\r\n","/* eslint-disable no-undef */\r\n(function(e, t) {\r\n  \"object\" == typeof exports && \"undefined\" != typeof module\r\n    ? (module.exports = t)\r\n    : \"function\" == typeof define && define.amd\r\n    ? define(t)\r\n    : (e.listenAppDurationTime = t);\r\n})(this, function(url, sysID, modelID, userID, callback) {\r\n  var startTime = new Date().getTime();\r\n  var storageKey = String(sysID) + String(modelID);\r\n  var isLoad = false;\r\n  url = url + \"api/v1/DataCol/DataDeliver\";\r\n  window.addEventListener(\"load\", function() {\r\n    if (!sysID || !modelID) {\r\n      return;\r\n    }\r\n    isLoad = true;\r\n    var basicData = getBasicData();\r\n    var AppDurationTimeFlag = basicData.AppDurationTimeFlag;\r\n    var storageKeyValue = basicData.storageKeyValue;\r\n    var refreshTimeFlag = compareRefreshTime();\r\n    storageKeyValue = storageKeyValue\r\n      ? storageKeyValue\r\n      : {\r\n          startTime: startTime,\r\n          endTime: 0,\r\n          openWebTabsCount: 0,\r\n          refreshTime: startTime,\r\n          userID: userID\r\n        };\r\n    // 初始进入页面,断电的情况也是一种情况\r\n    if (\r\n      (!sessionStorage.getItem(storageKey) &&\r\n        storageKeyValue.openWebTabsCount == 0) ||\r\n      refreshTimeFlag\r\n    ) {\r\n      storageKeyValue.startTime = startTime;\r\n      storageKeyValue.endTime = 0;\r\n    }\r\n    storageKeyValue.openWebTabsCount = refreshTimeFlag\r\n      ? 1\r\n      : storageKeyValue.openWebTabsCount + 1;\r\n    storageKeyValue.openWebTabsCount = Math.max(\r\n      storageKeyValue.openWebTabsCount,\r\n      1\r\n    );\r\n    AppDurationTimeFlag[storageKey] = storageKeyValue;\r\n    localStorage.setItem(\r\n      \"AppDurationTimeFlag\",\r\n      JSON.stringify(AppDurationTimeFlag)\r\n    );\r\n  });\r\n  window.addEventListener(\"beforeunload\", function() {\r\n    try {\r\n      if (!sysID || !modelID) {\r\n        return;\r\n      }\r\n      var basicData = getBasicData();\r\n      var AppDurationTimeFlag = basicData.AppDurationTimeFlag;\r\n      var endTime = basicData.nowTime;\r\n      var storageKeyValue = basicData.storageKeyValue;\r\n      var openWebTabsCount = storageKeyValue.openWebTabsCount;\r\n      openWebTabsCount = isLoad ? openWebTabsCount - 1 : openWebTabsCount;\r\n      openWebTabsCount = Math.max(openWebTabsCount, 0);\r\n      storageKeyValue.endTime = endTime;\r\n      storageKeyValue.openWebTabsCount = openWebTabsCount;\r\n      AppDurationTimeFlag[storageKey] = storageKeyValue;\r\n      localStorage.setItem(\r\n        \"AppDurationTimeFlag\",\r\n        JSON.stringify(AppDurationTimeFlag)\r\n      );\r\n      if (openWebTabsCount == 0 && isLoad) {\r\n        //进行相关操作\r\n        sendData(url, storageKeyValue.startTime, endTime);\r\n        if (typeof callback == \"function\") {\r\n          callback(sysID, modelID, userID, storageKeyValue.startTime, endTime);\r\n        }\r\n      }\r\n      sessionStorage.setItem(storageKey, true);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  });\r\n\r\n  function getBasicData() {\r\n    var AppDurationTimeFlag = localStorage.getItem(\"AppDurationTimeFlag\");\r\n    var nowTime = new Date().getTime();\r\n    AppDurationTimeFlag = AppDurationTimeFlag\r\n      ? JSON.parse(AppDurationTimeFlag)\r\n      : {};\r\n    var storageKeyValue = AppDurationTimeFlag[storageKey];\r\n    return {\r\n      AppDurationTimeFlag: AppDurationTimeFlag,\r\n      nowTime: nowTime,\r\n      storageKeyValue: storageKeyValue\r\n    };\r\n  }\r\n\r\n  // 考虑断电等异常情况,30秒刷新一次，刷新时间超过一分钟就是数据有断层\r\n  function compareRefreshTime() {\r\n    setTimeout(compareRefreshTime, 30000);\r\n    var basicData = getBasicData();\r\n    var AppDurationTimeFlag = basicData.AppDurationTimeFlag;\r\n    var storageKeyValue = basicData.storageKeyValue;\r\n    if (!storageKeyValue) {\r\n      return false;\r\n    }\r\n    if (!storageKeyValue.refreshTime) {\r\n      return false;\r\n    }\r\n    var refreshTime = storageKeyValue.refreshTime;\r\n    var nowTime = basicData.nowTime;\r\n    var flag = nowTime - refreshTime > 60 * 1000;\r\n    storageKeyValue.refreshTime = basicData.nowTime;\r\n    AppDurationTimeFlag[storageKey] = storageKeyValue;\r\n    localStorage.setItem(\r\n      \"AppDurationTimeFlag\",\r\n      JSON.stringify(AppDurationTimeFlag)\r\n    );\r\n    return flag;\r\n  }\r\n  // 发送请求\r\n  function sendData(url, startTime, endTime) {\r\n    var xhr;\r\n    if (window.XMLHttpRequest) {\r\n      xhr = new XMLHttpRequest();\r\n    } else if (window.ActiveObject) {\r\n      xhr = new ActiveXobject(\"Microsoft.XMLHTTP\");\r\n    }\r\n    var guid = Guid();\r\n    var startDate = formatDate(startTime);\r\n    var endDate = formatDate(endTime);\r\n    var EventData = {\r\n      DataList: [\r\n        {\r\n          EventID: \"M37_V01_\" + guid,\r\n          UserID: userID,\r\n          VisitModule: modelID,\r\n          VisitTime: startDate,\r\n          VisitEndTime: endDate,\r\n          SysID: sysID\r\n        }\r\n      ]\r\n    };\r\n    EventData = JSON.stringify(EventData);\r\n    var data = {\r\n      SysID: sysID,\r\n      EventFlag: \"M37_V01\",\r\n      EventData: EventData\r\n    };\r\n    data = formatParams(data);\r\n    xhr.open(\"post\", url, true);\r\n    xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n    xhr.send(data);\r\n  }\r\n  //格式化参数\r\n  function formatParams(data) {\r\n    var arr = [];\r\n    for (var name in data) {\r\n      arr.push(encodeURIComponent(name) + \"=\" + encodeURIComponent(data[name]));\r\n    }\r\n    return arr.join(\"&\");\r\n  }\r\n  // 格式化时间戳\r\n  function formatDate(dateTime) {\r\n    var time = new Date(parseInt(dateTime));\r\n    var y = time.getFullYear(); //年\r\n    var m = time.getMonth() + 1; //月\r\n    if (m < 10) {\r\n      m = \"0\" + m;\r\n    }\r\n    var d = time.getDate(); //日\r\n    if (d < 10) {\r\n      d = \"0\" + d;\r\n    }\r\n    var h = time.getHours(); //时\r\n    if (h < 10) {\r\n      h = \"0\" + h;\r\n    }\r\n    var mm = time.getMinutes(); //分\r\n    if (mm < 10) {\r\n      mm = \"0\" + mm;\r\n    }\r\n    var s = time.getSeconds(); //秒\r\n    if (s < 10) {\r\n      s = \"0\" + s;\r\n    }\r\n    var timeStr = y + \"-\" + m + \"-\" + d + \" \" + h + \":\" + mm + \":\" + s;\r\n    return timeStr;\r\n  }\r\n  //生成随机 GUID 数\r\n  function Guid() {\r\n    function S4() {\r\n      return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n    }\r\n    return (\r\n      S4() +\r\n      S4() +\r\n      \"-\" +\r\n      S4() +\r\n      \"-\" +\r\n      S4() +\r\n      \"-\" +\r\n      S4() +\r\n      \"-\" +\r\n      S4() +\r\n      S4() +\r\n      S4()\r\n    );\r\n  }\r\n});\r\n"],"sourceRoot":""}