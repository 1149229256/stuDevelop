{"version":3,"sources":["redux/actions/images/icon-select-1.png","redux/actions/images/icon-select-2.png","redux/actions/images/icon-select-3.png","redux/actions/images/icon-select-4.png","redux/actions/images/icon-select-5.png","redux/actions/commonActions.js","redux/actions/handleActions.js","redux/actions/index.js","component/frame/images/image-top-name.png","component/common/index.js","util/public.js","util/connect.js","util/ipConfig.js","util/fetch.js","util/init.js","component/frame/leftMenu/index.js","component/frame/images/icon-select-1.png","component/frame/images/icon-select-2.png","component/frame/Tab/index.js","component/frame/TopBar/index.js","component/frame/routeTab/index.js","component/frame/page/index.js","component/frame/index.js","pages/teachersStatisticAnalysis/importPage.js","component/tableList/index.js","component/bar/index.js","api/baseMsg.js","component/input/index.js","component/tableItem/index.js","pages/teachersStatisticAnalysis/baseMsg/stuStatusCount.js","pages/teachersStatisticAnalysis/baseMsg/teaStatusCount.js","component/Track/flag.js","component/Track/index.js","pages/teachersStatisticAnalysis/historyModal.js","pages/teachersStatisticAnalysis/baseMsg/index.js","pages/teachersStatisticAnalysis/StuConditionMsg/conditionRank.js","pages/teachersStatisticAnalysis/StuConditionMsg/leaderConditionRank.js","pages/teachersStatisticAnalysis/StuConditionMsg/courseShow.js","pages/teachersStatisticAnalysis/StuConditionMsg/detailWork.js","pages/teachersStatisticAnalysis/StuConditionMsg/personStudy.js","pages/teachersStatisticAnalysis/StuConditionMsg/gradeStatistic.js","pages/teachersStatisticAnalysis/StuConditionMsg/testGrade.js","pages/teachersStatisticAnalysis/StuConditionMsg/index.js","pages/teachersStatisticAnalysis/attendanceMsg/attendanceStatus.js","pages/teachersStatisticAnalysis/attendanceMsg/courseAttendance.js","pages/teachersStatisticAnalysis/attendanceMsg/homeAttendance.js","pages/teachersStatisticAnalysis/attendanceMsg/schoolAttendance.js","pages/teachersStatisticAnalysis/attendanceMsg/index.js","pages/teachersStatisticAnalysis/healthMsg/healthBaseMsg.js","pages/teachersStatisticAnalysis/healthMsg/detailHealth.js","pages/teachersStatisticAnalysis/healthMsg/testStatus.js","pages/teachersStatisticAnalysis/healthMsg/sportTest.js","pages/teachersStatisticAnalysis/healthMsg/detailExercise.js","pages/teachersStatisticAnalysis/healthMsg/bodyHealth.js","pages/teachersStatisticAnalysis/healthMsg/mindHealth.js","pages/teachersStatisticAnalysis/healthMsg/index.js","pages/teachersStatisticAnalysis/awardAndPunish/awardPunishRank.js","pages/teachersStatisticAnalysis/awardAndPunish/awardMsg.js","pages/teachersStatisticAnalysis/awardAndPunish/punishMsg.js","pages/teachersStatisticAnalysis/awardAndPunish/index.js","pages/teachersStatisticAnalysis/schoolLive/myLive.js","pages/teachersStatisticAnalysis/schoolLive/myConsume.js","pages/teachersStatisticAnalysis/schoolLive/myInternet.js","pages/teachersStatisticAnalysis/schoolLive/MyContact.js","pages/teachersStatisticAnalysis/schoolLive/index.js","pages/teachersStatisticAnalysis/informationizeAbility/teacherInternet.js","pages/teachersStatisticAnalysis/informationizeAbility/teacherOnline.js","api/informationizeAbility.js","pages/teachersStatisticAnalysis/informationizeAbility/index.js","pages/teachersStatisticAnalysis/analysisTop.js","component/anchor/index.js","pages/teachersStatisticAnalysis/index.js","component/table/hooks.js","component/table/index.js","component/homeTop/index.js","pages/recruit/reducer.js","api/recruit.js","pages/recruit/home.js","hooks/useDetailRequest.js","api/train.js","component/UEditor/hooks/useUEditorLaod.js","component/UEditor/index.js","component/editor/UplaodInput.js","component/editor/index.js","component/fileDetail/index.js","pages/recruit/publish.js","pages/recruit/detail.js","pages/recruit/edit.js","pages/recruit/recruit.js","pages/recruit/index.js","pages/train/reducer.js","pages/train/home.js","pages/train/publish.js","pages/train/detail.js","pages/train/edit.js","pages/train/index.js","pages/notice/index.js","pages/teacher/train/index.js","api/personal.js","pages/teacherPersonal/personalList.js","pages/teacherPersonal/personalDetail.js","pages/teacherPersonal/index.js","component/search/hooks.js","component/search/index.js","api/search.js","pages/searchAll/bar.js","pages/searchAll/index.js","pages/personalDetail/card.js","pages/personalDetail/archives.js","pages/personalDetail/accout.js","component/progress/index.js","pages/personalDetail/teach.js","pages/personalDetail/work.js","pages/personalDetail/history.js","pages/personalDetail/information.js","pages/personalDetail/linkbtn.js","pages/personalDetail/data.js","pages/personalDetail/classStatus.js","pages/personalDetail/images/school-default.png","pages/personalDetail/schoolStatus.js","pages/personalDetail/classAttainment.js","pages/personalDetail/classRank.js","pages/personalDetail/gradeRank.js","pages/personalDetail/stuHealth.js","pages/personalDetail/index.js","api/school.js","pages/school/schoolList.js","pages/school/schoolDetail.js","pages/school/index.js","pages/app/index.js","util/reportWebVitals.js","redux/reducers/commonData/index.js","redux/reducers/handleData/index.js","redux/reducers/mainData/index.js","redux/reducers/index.js","redux/store/index.js","redux/store/DevTools.js","util/serviceWorker.js","index.js"],"names":["leftMenu_1","key","name","icon","Icon_1","children","params","title","Icon_2","Icon_3","Icon_4","Icon_5","leftMenu_0","COMMON_SET_TEST","COMMON_SET_IDENTITY","COMMON_SET_USER_INFO","COMMON_SET_BASE_PLAT_FORM_MSG","COMMON_SET_ROLE_MSG","COMMON_SET_TERM_INFO","COMMON_SET_CONTENT_HW","COMMON_SET_SYSTEM_SERVER","COMMON_SET_LEFT_MENU","SetLeftMenu","type","haveNotice","dispatch","getState","leftMenu","pop","data","COMMON_SET_COMMON_DATA","SetCommonData","commonData","actions","COMMON_SET_TEACHER_RECRUIT_MSG","setTeacherRecruitMsg","getProp","COMMON_SET_ACTIVE_TAB","setActiveTab","commonActions","CommonActions","handleActions","HandleActions","Option","Select","moment","locale","AppAlert","props","state","left","top","xTemp","yTemp","can_move","readyShow","e","onClose","this","onOk","onCancel","show","onHide","setTime","setTimeout","AlertBody","style","$","window","width","clientWidth","height","clientHeight","setState","focus","clearTimeout","document","on","event","$win","target","closest","css","mx","pageX","my","pageY","parseInt","mousemove","$window","mouseup","okContent","abstract","okTitle","cancelTitle","contentMaxWidth","className","cancelShow","okShow","maskShow","cancelContent","Fragment","display","ref","id","onClick","closeAlert","bind","ok","value","cancel","maxWidth","React","Component","Loading","size","tip","opacity","spinning","wrapperClassName","reset","Fragments","opacityClass","undefined","Search","selectShow","selectdValue","cancleShow","inputFocus","Value","SearchBlank","select","addEventListener","outSpanClickHandler","that","spanDom","refs","search_select_span","ulDom","search_select_ul","slideToggle","selectChange","hide","contains","onClickSearch","selectOptions","SearchInput","trim","onSearchKeyUp","nativeEvent","keyCode","placeHolder","onCancelSearch","CancelBtnShow","onChange","CancelBtnDisplay","borderColor","toggleSelectd","data-value","selectList","map","item","k","changeSelect","placeholder","onFocus","onInputFocus","onBlur","onInputBlur","onKeyUp","handleEnterKey","InputChange","SearchClick","Empty","selectType","className_1","noTitle","imageStyle","titleStyle","nextProps","Radio","ClassName","zhCN","RadioGroup","Group","CheckBox","CheckClassName","CheckBoxGroup","Table","PageComponent","showSizeChanger","showTotal","total","color","ErrorAlert","autoHide","Alert","Tip","getPopupContainer","parentNode","placement","overlayClassName","DropDownComponent","dropList","dropdownClassName","onSelect","option","find","child","Array","index","Modal","afterClose","bodyStyle","closable","footer","mask","maskClosable","maskStyle","okText","okType","visible","destroyOnClose","ModalStyle","Ref","centered","zIndex","closeIcon","cancelText","Button","HandleSize","HandleColor","disabled","handleHeight","lineHeight","handleWidth","handleStyle","Object","assign","shape","block","href","EmptyReact","component","Props","PagiNation","memo","Dropdown","getQueryVariable","variable","getUrlQueryVariable","location","url","includes","vars","divideUrl","urlSearch","split","i","length","pair","urlRemLg_tk","Url","decodeURIComponent","indexOf","lg_tk","replace","noHashUrl","param","search","push","join","addOrgToUrl","paramName","replaceWith","urlHash","urlPath","paraStr","idx","hashIndex","searchIndex","deepMap","array","callback","childrenKey","levelback","level","parent","indexArray","forEach","IndexArray","isNaN","concat","noRepeat","end","some","child2","ArrayNoRepeat","Arr1","Arr2","SimpleArrayNoRepeat","Arr","setDataStorage","haveLocalStorage","JSON","stringify","sessionStorage","setItem","localStorage","getDataStorage","console","log","getItem","parse","handleRoute","pathname","substr","checkInput","regular","success","error","fun","test","getAlertDom","AlertDom","getElementById","body","getElementsByTagName","alert","createElement","setAttribute","appendChild","autoAlert","other","ReactDOM","render","Math","round","random","debounce","fn","delay","timer","constructFileType","fileName","isDecide","lastIndexOf","FileType","slice","toLowerCase","getToken","resizeForEcharts","echartsInstance","resize","back","getClass","o","prototype","toString","call","deepCopy","obj","result","oClass","copy","changeToArray","addElement","element","Element","addScript","a","Promise","resolve","reject","charset","onload","onLoad","SetNaNToNumber","Number","transTime","time","front","unit_zh","unit_En_Up","unit_En_Low","toFixed","Time_zh","Time_En","Time_En_Low","correctNumber","number","keepDecimal","num","parseFloat","toPrecision","BrowserMsg","versions","u","navigator","userAgent","appVersion","trident","presto","webKit","gecko","mobile","match","ios","android","iPhone","iPad","webApp","weixin","qq","language","browserLanguage","Browser","agent","IEMode","documentMode","chrome","System","isIE","isGecko","isWebkit","isStrict","compatMode","supportSubTitle","supportScope","ieVersion","operaVersion","opera","versionFilter","arguments","version","start","openDatabase","shell","external","clientLanguage","clientInformation","languages","storeKeyLen","keys","webstore","client","removeSlashUrl","urlArr","TokenCheck","sysID","firstLoad","tokenValid","SESSION_TOKEN","URL_TOKEN","LOCAL_TOKEN","BasePlatformMsg","BasicWebRootUrl","WebRootUrl","baseIP","myTokenError","tokenError","tokenList","isSuccess","myCheckToken","token","checkToken","loop","isComplete","UserInfo","getUserInfo","CirculTokenCheck","LogOut","loginApi","method","err","ajax","dataType","jsonp","Date","getTime","lastTime","date","loginInfo","isLogin","routeToDisconnect","initType","encodeURIComponent","tokenSuccess","history","pushState","clear","removeItem","config","host","pathName","protocol","pathFolder","strArr","RootUrl","TokenProxy","proxy","BasicProxy","LoginProxy","EditorProxy","ErrorProxy","HashPrevProxy","RootProxy","COMMONKEY","TESTKEY","notAuthorizedCounter","fetchService","fetch","header","catch","exception","code","get","securityLevel","advance","headers","Accept","Authorization","requestSecure","redirect","mode","cache","credentials","then","res","advanceFetch","put","content_type","AESEncryptionUrl","AESEncryptionBody","post","tranfer","reqUrl","basicProxy","json","response","clone","status","StatusCode","isAllSelect","isSelect","Msg","securityKey","SecurityLevel","Autorization","getSign","timeStamp","formatDate","randomString","getRandomString","baseUrl","len","$chars","maxPos","randomStr","charAt","floor","fmt","getMonth","getDate","getHours","getMinutes","getSeconds","S","getMilliseconds","RegExp","$1","getFullYear","calculateSign","handleParam","md5","substring","paramsObj","CRYPTOJSKEY","plain","p","encrypt","newUrl","urlArray","plaintText","options","CryptoJS","ECB","padding","pad","Pkcs7","enc","Utf8","encryptedBase64Str","AES","initCount","init","moduleID","onlyBase","getBaseUrl","getBasePlatformMsg","basePlatformMsg","userInfo","identityDetail","getIdentityDetail","termInfo","getTermInfo","SchoolID","systemServer","getSystemServer","all","IdentityCode","IsPreset","role","setUnifyRole","Data","SysID","identity","baseMsg","Role","identityCode","identityName","userType","userClass","ProductUseRange","IdentityName","UserType","UserClass","schoolID","collegeID","CollegeID","selectLevel","productLevel","frameType","lg_ic","identityList","getIdentityList","GetIdentityTypeByCode","IdentityRecognition","replaceIcOfUrl","IdentityCodes","IdentityList","ModuleID","callBack","goErrorPage","IdentityMsg","promiseList","ValidateIdentity","findIndex","IdentityItem","errcode","UserID","webSvrAddr","isExist","TermInfo","HasHistory","MenuLink","List","useState","openMenu","setOpenMenu","selectMenu","setSelectMenu","setRouteAgain","Path","setPath","useEffect","path","reload","haveChild","openChild","isActive","to","activeClassName","backgroundImage","stopPropagation","stopImmediatePropagation","second","secondIndex","LeftMenu","list","withRouter","forwardRef","TabPane","Tabs","Tab","ComponentList","componentList","onContentresize","tabPorps","useHistory","useLocation","TabActive","setTabActive","TabList","setTabList","setTabListLength","useContext","frameContext","useMemo","resetRoute","tabkey","tabid","mustparam","tab","shift","routeTo","active","removeTab","useCallback","rmTabid","reParam","nextTabid","nextParam","onlyOne","tabIndex","activeBar","useImperativeHandle","activeTab","tabList","useLayoutEffect","tabContent","removeEventListener","animated","activeKey","renderTabBar","DefaultTabBar","tabname","TopBar","BasePlatFormMsg","basePlatFormMsg","Identity","platMsg","moduleName","initData","Time","MsgInit","setMsgInit","msgRef","useRef","wsAddr","WebSvrAddr","rel","src","Interval","setInterval","Moment","now","format","clearInterval","onMsgClick","current","click","background","PhotoPath","cursor","open","UserName","IconUrl","ProductLogoUrl","ProductName","RouteTab","routeList","ProVersion","domList","routeid","Page","pageList","useScrollbars","pageid","Scrollbars","createContext","initState","contentHeight","frameReducer","Frame","pageInit","getActiveTab","Init","setInit","setIdentity","setUserInfo","setBasePlatFormMsg","FrameLoading","setFrameLoading","logo","PlatMsg","setPlatMsg","SystemServer","setSystemServer","MenuList","tabRef","useReducer","setComponentList","setRouteList","setDomList","proversion","setProVersion","setModuleName","setPageList","setInitData","isInit","routename","checkType","frametype","Provider","minWidth","ipConfig","ImportPage","setShowType","currentClass","currentGrade","ModuleType","currentStep","setCurrentStep","currentIndex","setCurrentIndex","setFileNameStep","importSign","setImportSign","previewSign","setPreviewSign","saveSign","setSaveSign","message","file","fileList","pageSize","showQuickJumper","hideOnSinglePage","pageIndex","border","rowSpan","colSpan","marginBottom","mapStateToProps","roleMsg","contentHW","levelHash","connect","$Bar","topContext","marginLR","barName","loading","barId","isEmpty","emptyTitle","userIdentity","barRef","marginLeft","marginRight","position","$$typeof","MyInput","titleWidth","getValue","inputWidth","inputRef","setValue","isArray","Item","StucherCount","userStatus","studentName","gender","dateOfBirth","extraInfoJson","photoPath","nativePlace","nation","nationality","identityNum","overseaPeople","formerName","censusPlace","studentId","gradeName","isOnlychild","isAcceptpreschool","isLeftbehindchild","TeacherCount","titleDom","currentTerm","countKindList","kindDataList","setKindDataList","statusInfo","setStatusInfo","currentKind","setCurrentKind","setIsEmpty","stuStatusVisible","setStuStatusVisible","modalStuList","setModalStuList","arr","maleNum","dataList","maleList","femaleNum","femaleList","dayNum","dayList","boardNum","boardList","onlyChildNum","onlyChildList","classSize","notOnlyChildList","leftChildNum","leftChildList","notLeftChildList","acceptPreSchoolNum","acceptPreSchoolList","notAcceptPreSchoolList","poorNum","poorList","notPoorList","ageData","nationData","x","ageDistribution","nationDistribution","nativePlaceDistribution","nationalityDistribution","myEchart","echarts","myEchart2","myEchart3","myEchart4","tooltip","trigger","grid","right","bottom","text","textStyle","fontSize","backgroundColor","y","r","colorStops","offset","series","radius","center","minAngle","avoidLabelOverlap","label","emphasis","itemStyle","borderWidth","option2","option3","option4","setOption","gradeSize","autoHeight","autoHeightMax","photo","margin","Flag","direction","setDataList","recordDate","content","str","late","absent","leaveEarly","vacate","Track","circleList","flagList","j","BaseMsg","term","onAnchorComplete","productMsg","teacherCount","courseVisible","setCourseVisible","recordVisible","setRecordVisible","setUserStatus","trackInfo","setTrackInfo","stuNameRef","censusPlaceRef","classNameRef","dateOfBirthRef","formerNameRef","genderRef","gradeNameRef","homeAddressRef","identityNumRef","isAcceptpreschoolRef","isLeftbehindchildRef","isOnlychildRef","nationRef","nationalityRef","overseaPeopleRef","studentIdRef","studyingWayRef","martyrChildRef","lowProtectRef","postalCodeRef","nativePlaceRef","isParentWorkRef","takeCareRef","isLowBadRef","isFiveRef","classNumRef","hobbitRef","studyLowProtectRef","disasterStatusRef","inSchoolWayRef","politicRef","indexAddrRef","moneyFromRef","identityTypeRef","nowLiveRef","connectAddrRef","faimlyNumRef","birthPlaceRef","identityTimeRef","badManRef","trafficWayRef","notWorkRef","badTypeRef","onlyOneRef","isbadestRef","healthTypeRef","nameChineseRef","cityWorkRef","emailRef","isHelpRef","isTakeBusRef","followClassRef","isSoldierRef","isDisasterRef","isHaveOneRef","isHavePatientRef","debtReasonRef","stuFromRef","faimlyMoneyRef","telphoneRef","ableManRef","debtNumRef","inSchoolRef","schoolDistanceRef","countRef","myStatusRef","statusTrackRef","attendanceTrack","marginTop","classIName","studyingWay","homeAddress","stuName","extraInfo","val","ConditionRank","rankInfo","setRankInfo","currentTermInfo","termId","startDate","endDate","courseShowInfo","detailWorkInfo","personalStudyInfo","testGradeInfo","rankType","learningRankListList","score","LeaderConditionRank","CourseShow","setCourseShowInfo","courseGradeInfo","setCourseGradeInfo","allRateInfo","setAllRateInfo","allSubjectList","setAllSubjectList","currentSubject","setCurrentSubject","switchMonth","lessonBonusRateDataList","seriesList","xList","classDataList","gradeDataList","subjectName","rate","barWidth","graphic","lineStyle","fontWeight","axisPointer","extraCssText","formatter","seriesName","legend","xAxis","nameTextStyle","axisTick","axisLine","axisLabel","dataZoom","maxValueSpan","showDetail","moveHandSize","yAxis","min","max","splitLine","addList","sujbectList","Set","sum","minInterval","updateSubjectList","addAll","subtractAll","raiseAll","dots","index1","DetailWork","gradeCompleteRateList","setGradeCompleteRateList","gradePassRateList","setGradePassRateList","gradeAvgScoreList","setGradeAvgScoreList","gradeDetailScoreList","setGradeDetailScoreList","completeRateList","setCompleteRateList","passRateList","setPassRateList","avgScoreList","setAvgScoreList","completeRateType","setCompleteRateType","passRateType","setPassRateType","detailScoreList","setDetailScoreList","subjectList","finishRate","minValueSpan","passRate","updateAvgList","arr2","percent","showInfo","strokeColor","defaultValue","PersonStudy","GradeStatistic","gradeInfo","setGradeInfo","courseCount","avgScore","overallSubjectList","subject","classAvgScore","paddingTop","gradeAvgScore","comment","TestGrade","currentTestType","setCurrentTestType","setSubjectList","testInfoList","setTestInfoList","classInfoList","setClassInfoList","gradeInfoList","setGradeInfoList","colorList","examScoreAndRankList","examType","myDataList","maxDataList","examName","maxScore","classRank","gradeRank","StuCondition","conditionRank","courseStatus","detailWork","personStudy","testGrade","gradeShow","stuConditionTrack","AttendanceStatus","attendanceList","setAttendanceList","tableHeader","dataIndex","ellipsis","Total","paginationObj","dataSource","columns","rowClassName","pagination","CourseAttendance","rateInfo","setRateInfo","rateList","setRateList","classRateList","setClassRateList","gradeRateList","setGradeRateList","classList","classGradeId","classId","gradeId","absentRateDetailList","myList","gradeList","times","absentRate","avgAbsentRate","vacateTimes","lateTimes","leaveEarlyTimes","absentTimes","SchoolAttendance","AttendanceMsg","attendanceStatus","courseAttendance","homeAttendance","schoolAttendance","HealthBaseMsg","infoList","setInfoList","avgInfo","healthyInfoList","weight","symbolSize","heightList","weightList","recordTime","normal","symbol","BMIList","bmiIndex","classname","askleave","out","absence","lateback","baseInfo","classAverageHeight","gradeAverageHeight","classAverageWeight","gradeAverageWeight","DetailHealth","sickInfo","temperatureInfo","sickList","setSickList","temperatureList","setTemperatureList","averageTemperature","countList","timesList","studentAverageDuration","studentAverageCount","classAverageDuration","classAverageCount","gradeAverageDuration","gradeAverageCount","abNormalCount","abNormalRate","sickRecordCount","sickRecordDuration","totalCount","TestStatus","testAvg","projectList","echartList","setEchartList","classAverage","gradeAverage","studentScore","averageScore","studentAverageScore","classAverageScore","gradeAverageScore","testProject","subjectId","SportTest","strokeWidth","DetailExercise","BodyHealth","setTestAvg","setProjectList","setSickInfo","setTemperatureInfo","kindList","MindHealth","HealthMsg","baseMsgInfo","setBaseMsgInfo","bodyHealth","mindHealth","AwardPunishRank","awardList","setAwardList","punishList","setPunishList","userImageUrl","username","rewardsCount","punishCount","AwardMsg","setListType","awardLevelList","awardLevelName","awardClassList","awardClass","updateAwardList","awardLevel","awardName","PunishMsg","punishInfo","setPunishInfo","currentDataType","setCurrentDataType","personalTimes","classTimes","gradeTimes","month","classCount","stuCount","gradeCount","schoolCount","punishmentType","punishmentLevel","AwardAndPunish","awardPunishMsg","awardMsg","punishMsg","trackRef","MyLive","liveData","setLiveData","liveList","setLiveList","inList","outList","homeList","courseList","classAverageInCampusTime","classAverageOutCampusTime","classAverageDormitoryTime","classLengthOfClassTime","studentLengthOfClassTime","gradeLengthOfClassTime","studentAverageDormitoryTime","gradeAverageDormitoryTime","studentAverageInCampusTime","gradeAverageInCampusTime","studentAverageOutCampusTime","gradeAverageOutCampusTime","MyConsume","consumeList","setConsumeList","consumeGradeList","setConsumeGradeList","consumeClassList","setConsumeClassList","consumeStatisticList","setConsumeStatisticList","place","orderDate","personalCount","gradeSum","classSum","count","MyInternet","internetList","setInternetList","internetGradeList","setInternetGradeList","internetClassList","setInternetClassList","internetStatisticList","setInternetStatisticList","duration","MyContact","SchoolLive","myLive","myConsume","myInternet","myContact","liveTrack","TeacherInternet","DayAvgTimeSpan","DayAvgLoginCount","AvgLoginTimeSpan","TotalTeacher","DayAvgOnlineUser","DayAvgOfflineUser","DayAvgOnlinePercent","SubSet","subEchart","setSubEchart","taEchart","setTaEchart","taRef","subRef","myEchart_ta","myEchart_sub","dataset_ta","labelColor","labelSize","dataset_sub","pieOption","dataset","source","shadowColor","shadowBlur","colorIndex","sizeIndex","rich","NodeName","subOption","sub","containLabel","minSpan","maxSpan","zoomLock","showDataShadow","nameGap","barGap","barMaxWidth","x2","y2","borderRadius","taOption","off","TransTime","tTime","TeacherOnline","TPCount","AvgUploadTPCount","AvgUploadUserCount","HasUploadedCount","NoUploadedCount","UploadedPercent","row","itemWidth","itemHeight","itemGap","getTeachER","payload","InformationizeAbility","teacherInternet","setTeacherInternet","erRef","tpRef","AnalysisTop","termselect","termlist","onTermChange","schoolMsg","getHeight","onTypeChange","onClassChange","onGradeChange","teacherClassList","TermList","setTermList","TypeList","TermSelect","setTermSelect","TypeSelect","templateList","setTemplateList","setCurrentGrade","setCurrentClass","classPKVisible","setClassPKVisible","boxRef","updateClassList","filter","topType","isSchool","LogoUrl","downloadTemplate","importMethod","formData","FormData","append","async","processData","contentType","msg","customRequest","showUploadList","wrapClassName","trailColor","from","Anchor","scrollref","bottomheight","setShow","anchorList","setAnchorList","activeLink","setActiveLink","refuseRef","getClientHeight","scrollTop","handleScroll","getScrollHeight","offsetTop","$ref","outerHeight","onScroll","getScrollTop","ScrollTop","ClientHeight","offsetForBottom","fullBar","visualHeight","offsetVisualBottom","currentBar","onClickScroll","Analysis","roleData","setTopType","bottomHeight","setTypeSelect","topHeight","setTopHeight","setModuleID","showType","setGradeList","setClassList","setTeacherClassList","topRef","anchorRef","scrollRef","updateTermList","schoolId","termName","onUpdate","minHeight","anchor","useTableRequest","query","api","prepare","fisrtRequest","pageOptions","setPageOptions","PageSize","PageIndex","IsError","tableData","setTableData","setLoading","isUnMount","setIsUnMount","getList","isError","handerChange","reloadList","initIndex","$Table","outLoading","pageProps","onDataChange","PageProps","Boolean","showSorterTooltip","filters","sorter","extra","action","sortFiled","columnKey","sortType","order","HomeTop","publish","draft","tableProps","SearchValue","setSearchValue","setVisible","tableRef","reloadDraft","onVisibleChange","onSearch","Context","keyword","compoent","Reducer","getCruitList","rStatus","Index","Title","Issue","publisher","CreatorName","ReleaseTime","getRecruitDetail","ErrCode","ID","RID","publishRecruit","SelectLevel","RStatus","Content","FileList","editRecruit","deleteRecruit","RIDs","Home","teacherRecruitMsg","tabId","setDispatch","setQuery","setDraft","initGet","widthRate","align","textWrap","DeleteRecruit","draftColumns","homeTopRef","topDraft","Draft","handleData","useDetailRequest","setID","IsLoaded","IsExist","Status","CreatorID","UpdateTime","detailData","setDetailData","getDetailData","getCruitListByTeacher","getTrainDetail","TID","publishTrain","TStatus","Limit","ApplyBeginTime","ApplyEndTime","ActivityFlag","ApplyFlag","editTrain","deleteTrain","TIDs","applyTrain","Action","useUEditorLaod","UE","setUE","Ready","setReady","onerror","ResHttpRootUrl","UEDITOR_HOME_URL","jqLaod","configLaod","all_minLaod","parseLaod","langLaod","ue","getEditor","toolbars","wordCount","elementPathEnabled","ready","loadScript","UEditor","Id","setContent","addListener","Blur","getContent","TextArea","rows","UplaodInput","onFileUplaod","onUplaodPercert","initFile","onFileUpMD5","fileMD5","CompletePercert","setCompletePercert","UplaodParams","setUplaodParams","InputRef","ForbinClick","setForbinClick","calculate","fileReader","FileReader","blobSlice","File","mozSlice","webkitSlice","chunkSize","chunks","ceil","currentChunk","spark","SparkMD5","loadNext","readAsBinaryString","appendBinary","file_md5","upload","skip","fileSavePath","blockSize","nextSize","fileData","fileIP","textStatus","jqXHR","info","FileUrl","txtStatus","errorThrown","fileUpload","input","files","FileName","FileSize","RangePicker","Input","DatePicker","Editor","schema","preview","fileid","sourceName","setTitle","titleVisible","setTitleVisible","titleTip","setTitleTip","setSource","sourceVisible","setSourceVisible","sourceTip","setSourceTip","setFile","setFileMD5","main","setMain","mainVisible","setMainVisible","mainTip","setMainTip","applyFlag","setApplyFlag","applyFlagVisible","setApplyFlagVisible","applyFlagTip","limit","setLimit","limitVisible","limitTip","activityFlag","setActivityFlag","activityFlagVisible","setActivityFlagVisible","activityFlagTip","applyBeginTime","setApplyBeginTime","applyEndTime","setApplyEndTime","applyTimeVisible","setApplyTimeVisible","applyTimeTip","setApplyTimeTip","allowApply","setAllowApply","UploadRef","handleChange","applyFlagList","activityFlagList","UEditorRef","checkGeneralInput","isNull","checkTitle","checkSource","checkContent","checkApplyFlag","checkActivityFlag","checkApplyTime","begin","isValid","diff","checkLimit","checkAll","every","percert","maxLength","dates","dateString","allowEmpty","disabledDate","showTime","filename","fileSize","FileDetail","onReturn","onComfirm","previewData","UseScrollbars","preRef","html","whiteSpace","fontFamily","download","Publish","setPreview","ActiveTab","setPreviewData","Datail","detailRef","Recruit","recruitid","setComponent","homeRef","ApplyCount","ActivityList","DeleteTrain","teacherTrainMsg","controlSize","Train","Notice","setKeyword","typeList","0","handleType","handleTitle","handleClassName","1","2","3","4","5","ApplyStatus","HasApplied","ApplyTrain","getTeacherList","nodeType","nodeID","getNode","NodeID","NodeType","parentID","GetSubSystemsMainServerBySubjectID","sysIDs","GetTermAndPeriodAndWeekNOInfo","userID","ItemWeek","NowWeekSelect","WeekList","NowWeek","WeekNO","startTime","StartDate","endTime","EndDate","GetTeacherResView","subjectNames","subjectIDs","UploadCount","UploadAllScale","BrowseCount","UploadSubjectScale","AllCount","AllScale","UseCount","AllSubject","SubjectName","SUbjectID","SubjectID","Scale","SubjectScale","GetTeachPlanStatistics","PCLink","GetTeacherpercentage","uploadCount","uploadAllScale","browseCount","uploadSubjectScale","subjectID","subjectScale","GetTeacherWork","userName","semester","pageNum","administrativeClassNum","classNum","invigilationNum","scheduleCount","GetResearchByUserID","ProjectCount","CompletedCount","ActivityCount","GetDevelopmentHistory","ChangeDetail","ChangeTime","GetLogInfoByUserID","DayTimeList","Count","TimeSpan","DayOnlineList","PersonalList","levelMsg","belong","belondName","SchoolList","FirstNodeList","setFirstNodeList","SecondNodeList","setSecondNodeList","SecondNodeObj","setSecondNodeObj","firstSelect","setFirstSelect","secondSelect","setSecondSelect","belongBefore","PersonalDetail","TeacherPersonal","useSearchRequest","setResult","proList","Res","LGSearch","searchResult","overlayStyle","myResult","setMyResult","searchRef","dom","node","isOut","points","overflow","adjustX","adjustY","Bar","setSelect","setHeight","contentRef","defaultName","SearchAll","setList","empty","setEmpty","keyMap","RecruitmentList","idKey","nameKey","CollegeList","TeacherList","TrainList","nameArray","c","Card","cardid","btn","lock","componentProps","addr","nodeName","Archives","myInfo","setMyInfo","GradeRank","termStartDate","toLocaleDateString","replaceAll","termEndDate","Progress","step","bgColor","progressBarList","activeBarCount","StuHealth","setBaseMsg","Work","countInfo","setCountInfo","History","sign","dot","index2","Information","awardKind","awardKindList","updateAwardKindList","punishKindList","updatePunishKindList","Linkbtn","ClassStatus","classInfo","setClassInfo","SchoolStatus","schoolInfo","setSchoolInfo","DefaultImage","schoolSize","ClassAttainment","commentList","setCommentList","qualityItemList","rank","itemName","ClassRank","rankList","setRankList","renderThumbVertical","sumAvg","teachermsg","teacherid","Gender","Sign","storageUserInfo","setRate","zoomType","setZoomType","personalRef","animationType","setAnimationType","SelectCard","setSelectCard","SysUrl","setSysUrl","archives","setArchives","setAccout","setInformation","setTeach","TeachPlan","setTeachPlan","Percentage","setPercentage","ResView","setResView","SubjectList","setWork","WorkTerm","setWorkTerm","WorkTermList","setHistory","setWeekList","WeekData","setWeekData","DataParams","setDataParams","setCurrentTerm","awardPunishTrack","setAwardPunishTrack","setAttendanceTrack","cardList","GroupID","GradeID","SubjectIDs","SubjectNames","SubjectIDList","WsSvrAddr","page","getPX","old","onCardClick","archivesBtn","toUrl","transform","Teach","Accout","backgroundSize","WebkitTransform","MozTransform","OTransform","MsTransform","reg","rotateY","translateZ","cos","onMouseEnter","onMouseLeave","HistoryDom","onTermSelect","termSelect","termList","onWeekSelect","weekSelect","weekList","getSchoolList","getSchoolMsg","canControl","Culomns","ListFirst","setListFirst","CulomnsSelect","setCulomnsSelect","Term","TermName","haveCollege","EndCulomns","culomnsData","minute","TableTip","onCheckChange","sort","b","fixed","scroll","toolTipRef","tool","destroyTooltipOnHide","SchoolDetail","SelectTab","nextProductLevel","nextSelectLevel","nextTitle","School","SchoolMsg","setSchoolMsg","App","recruitId","tabName","first","useDispatch","TeacherName","setFrameType","TeacherMsg","TeacherID","OnlyBase","setOnlyBase","RecruitID","frameRef","NameData","schoolList","schoolDetail","moduleType","controlRoute","searchApi","RemoveTab","onEdit","pageTitle","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ganger","mainData","initialState","rootReducers","combineReducers","PublicState","enhancer","createDevTools","defaultIsVisible","toggleVisibilityKey","changePositionKey","applyMiddleware","thunk","store","createStore","isLocalhost","hostname","register","URL","process","origin","swUrl","checkValidServiceWorker","serviceWorker","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onSuccess","unregister","StrictMode"],"mappings":"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","file":"static/js/main.e2608780.chunk.js","sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAARCAYAAADUryzEAAABA0lEQVQ4jWP8////YQYGBhsGCDjC6L7BloEEwATSnNx3fm5I86ldUINqSTWAYd7Oh+wbXRSFQWxGc+kmlmleh9EV/t8ZcPj/zoD/UHwYxQCwRjk+YyT1NugG4HIpCzZnHZBmZbDeGfAfPVxALmWKtQe7lEFFtonB2tiNCZsB1hyMDDjDRZQfxaVYDYDZtsFcGRIuBtJNuNThNACsURolXEg3gBgwagAVDACnxGAbKbE3bKhmgcReczFiiL0SQDMBlJ3/Q8HRz7//M9ae+n/+x7+PcLH3v/8zlp36f/4LQuzIyz//GbLO/GdY+v8II4PbepA5oKSqBjXzFgMDQzNRYgwMzQAGCns6Yrh4jwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAADDElEQVQ4jX2Ub0yNURzHv+d57r1z09Qli1GZFl4Y2VqKXhhboVk0a0N4Ie9sTZMXMloSS6PxQiL9Q/mz1dRGKsuEwvzpqpSr3FsL/V/XfbpP97nPzw73aUn8trOz8+f32fn+zvccEJHWRCJKIaIOIhr39CmeefyrIboCAn4HA1BOhNjUqx8u+eyoztuc9vxjm82ebO2XGhJOvxLxn9Ag+wEE+MZXV+Xcs3iPSUpuzev+nQmZLzcJjAVtWOVXxGIq2b8wOk9/4HqN9e6YpPgCyNTlbY2DG+kdCkJSfgi9GWH+MQCiAJQCCJqSb+NjDbLmWGFbA4A7+mtb4klBuUci6iQKLg40ggWYkgAsYTGVFwD4TQHlahAobgpkplkWAFUaQAvGGOBj3CY2KqKQus1BTiZDZqAJ5kRRZboGaYmLXOhfErF4ybTjItKL4b2kAgbR5IrSdQtAgLbmdOO7sQiTkPyTiStOVd7sXG4PmDMJ0DMg3V9EnkUC8zFC36iEqTmPTkOl33JUcnM5/K51RJRNRPSxx94V2ScPenXLFGaboLofbj5N2c0DZLj1tU946hKEWuWGvtp998E36rY5aIj7hEPOEVHr4byW41llHc1fRuVxl0rUKat06LNEEeXdZP4mUYl51ILoCtFjvlIOL3s93IboiiwuJynpwtuzBQ+tJt3R8IYTTYPhqnkQZJ8A8zKAhczHni436ld7Bxsil+YDMABIvPZqtP9gfucCAGYO8S14aF3K/cFWzGuBCgjL/ACuVgHgYmh1AX5eIoq2L97LS1X6ZsR6sNDiD8d4GoCyX44VBTabarb3cOD/7L0rdK7+9ruRjn2FlkWQXWfo1obz8Nh+eGPofJPH1upMySuNDAoBOfV9jl3FlhCAXaSCdRmTG4got3dgfOj+i69xhl5nk97mJF2XTLpPMunbZVr7yUVmSaXLVvk7dtc+ZmktV6e+aO12DE3twzWSU+HP/68YVogu2WTVeKT5OUt7e2X6l8AhvLATEclPYrlkAOsBzJ5BkQPAM15EIPTPFQA/AUv+wU3Niak0AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAARCAYAAADUryzEAAABsklEQVQ4jZWTz0sbURDHPy9JV6uHiopUwQRtQURBRQ9iCnoTBUEtiGCFFuo/IHjxIHgWIehZ8CAeRLQXEaUntRSK9Fb8AR6iVsWDFtrqJrvryEuymsQEzMDs7Mzum/l+580gIukazhDLGtePLhE5k9zkLHEOpZ35zePxT9M/m4Giy6WuvrKB9VXSJDn+/l1F2dxoU7Cofy3oA8oTh2dlo/fQOInUqNKCCe9kxxU2B1jqu1hQvq9CBEqmPANtv1ZMFVou9OwCnzUCSa/2XFEfvx1pBKjOLwvaelorhrQrokCnvePRuuooxAGZaYGX+dU+t5hs9A4bvyMf9E9iK3AAG7AUmsKDNVVcY5VRvmS0R68NKr0qK4HjCFRtOymxlARvLqI4i3vIXys7BSMP2uozJ4ghGGt8UhgIuI73q+MXk3AuCPzkG+LprIv3gFSKz0EQhxGFqh/2k3huPcgzUO312RPEOA7WutcYsN4amv/jtx3bTxJ/N8G5nu2EH9F1Eu/hF/vRlDlwJVgMF6ZGJ47exu4//6L/c9nF01uRns0bk+GtHb0LepQbgBHgVcYOZpZrYO4eLDZVA1Pwm7cAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAACAUlEQVQ4je2TS0hUYRTHf9+983BmJEdRc5xQUHrQQyeIotdEWjMYCcNEO6FlQSs3UW1cuyyFqFUURFjgGBTMkBmRkUTYA9MarKmwxMjSsO6MM/fEtRFDoceiXX84i/Od8/utvoOINInIOxFJisgZEYmISJGIsKist2h+J5lnmgh1o6zmfOLNyXM3Ug0Hg37fvs3LS2p9nlqleKZrqhfQgN3A6mxO+gdGJofau5Kfizz2QOfRumZv9Pp2SyIqHOsEOoApYJ3Lqdfv31IRbGtZs9brsRsdPaNXTsVe2o1Mrhx4DjwBhiQeGbdYGz/ilXjkhWMsfQKT47NZ9ag7bfYe1s2Z16+mKtu7klncjqta694STHujGKqNtArMs/OS+bQBTiCITQvectopLsxltAN11aq+6pjMUozBkiyWOBcv5MCBw1azFF2I9qvhn+a/5B9KjEKXTf9bsECHtLkguTBweleDkckd8unq4+/gCge0+BWJHYrLKfkKZK3PdqTn3nujcWNZ63BNkT4ufLn2TdyJGdFdCty6IuQvIFSlsWeZotSm6JswzbMPpkcvXRy8Ddy3DhAVjikgoCm1NbypfGc06K/cFiirXllasMIUtDvjhuqflsm+hx+G795MjZkTU5/ImY+BAWBwTvJz8sIqYD2wAViVn49Ylws8Bd5KPDIHqnCM7w8x42SpsWfMAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAARCAYAAAACCvahAAACP0lEQVQ4jY2TW0hUURRA15mHd2YcRMoMSyNSjLIIbkVRBJORTRPBJInlV0X+VJQRRKEf9VFIVD9KT0jKH4ugiSgYSBILsweZhiX4CkWpNClf13meuIMjestq/ZwNZ6+zz9nsI8h7wHSk3+sCTgPrAQE0AOVim68OAyaDeAyoae762bjpxPMr6uFnjy/ca3eOauFHH67nnjfKZjL3xMV1QGVR+dtTRypbsnq+aU++DAWqnjYN1PQOaG17Xenn7Ip5rK558FVcnrq29HvvtvWOtC47WJsKnLVUeNwExUkZIoug6KiaH2nN0sbWbCipdwMdGK7t2n+pKQr4LFc9RcAdYAVg09fSr5bCnCXJacD2uGCZJqc2fhpKM3uzu4GHxvf1BSBJMTmwWlYRCmOsrJNk2pGpAg6jPIXTnh0PjbJOyqxirMUm5W/yfxOTpd9rB7R/SVoEEhXzVMF4cCAUjt4GgoYmzuBWn6TEk6E/KyEmS79XTy7Zd/HdC6AeyJ9NvtwtKd6asSDJYcmNVy6Ukv7xQMR9pmKzTU0QLlURqDaBaheoDoGaKFjtFMy1QnfAlHBo99IyvXVCSunTApG1E6GobUIx26xCOBQBAyEZqzbPKghEYDgsQR8hKejsHx3OO1rriY/ncSBdLHRmuFemzKkuztmYf6O1S0tOXO4rWMyu6k7evB98LceCPbEDolLyY+Tlb19S5+PNLWWLUh2lUYvJVNo5ISqvtXTJz993Mh5sn573R3kSvSkFk/F9oHbGLvALzCTHW3Z1uTAAAAAASUVORK5CYII=\"","/*\r\n *                                |~~~~~~~|\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *     |~.\\\\\\_\\~~~~~~~~~~~~~~xx~~~         ~~~~~~~~~~~~~~~~~~~~~/_//;~|\r\n *     |  \\  o \\_         ,XXXXX),                         _..-~ o /  |\r\n *     |    ~~\\  ~-.     XXXXX`)))),                 _.--~~   .-~~~   |\r\n *      ~~~~~~~`\\   ~\\~~~XXX' _/ ';))     |~~~~~~..-~     _.-~ ~~~~~~~\r\n *               `\\   ~~--`_\\~\\, ;;;\\)__.---.~~~      _.-~\r\n *                 ~-.       `:;;/;; \\          _..-~~\r\n *                    ~-._      `''        /-~-~\r\n *                        `\\              /  /\r\n *                          |         ,   | |\r\n *                           |  '        /  |\r\n *                            \\/;          |\r\n *                             ;;          |\r\n *                             `;   .       |\r\n *                             |~~~-----.....|\r\n *                            | \\             \\\r\n *                           | /\\~~--...__    |\r\n *                           (|  `\\       __-\\|\r\n *                           ||    \\_   /~    |\r\n *                           |)     \\~-'      |\r\n *                            |      | \\      '\r\n *                            |      |  \\    :\r\n *                             \\     |  |    |\r\n *                              |    )  (    )\r\n *                               \\  /;  /\\  |\r\n *                               |    |/   |\r\n *                               |    |   |\r\n *                                \\  .'  ||\r\n *                                |  |  | |\r\n *                                (  | |  |\r\n *                                |   \\ \\ |\r\n *                                || o `.)|\r\n *                                |`\\\\) |\r\n *                                |       |\r\n *                                |       |\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-17 14:14:26\r\n * @LastEditTime: 2020-12-22 16:33:43\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\redux\\actions\\commonActions.js\r\n */\r\nimport Icon_1 from \"./images/icon-select-1.png\";\r\nimport Icon_2 from \"./images/icon-select-2.png\";\r\nimport Icon_3 from \"./images/icon-select-3.png\";\r\nimport Icon_4 from \"./images/icon-select-4.png\";\r\nimport Icon_5 from \"./images/icon-select-5.png\";\r\nconst leftMenu_1 = [\r\n  {\r\n    key: \"teacherBaseMsg\",\r\n    name: \"师资统计分析\",\r\n    icon: Icon_1,\r\n    children: [\r\n      {\r\n        key: \"teacherBaseMsg\",\r\n        name: \"教师基本信息\",\r\n      },\r\n      {\r\n        key: \"workMsg\",\r\n        name: \"教师工作量\",\r\n      },\r\n      {\r\n        key: \"teachingAbility\",\r\n        name: \"教师教学能力\",\r\n      },\r\n      {\r\n        key: \"informationizeAbility\",\r\n        name: \"教师信息化能力\",\r\n      },\r\n      {\r\n        key: \"schoolResource\",\r\n        name: \"各校师资\",\r\n        params: [{ key: \"schoolDetail\", title: \"学校详情\" }],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    key: \"teacherPersonal\",\r\n    name: \"教师画像查询\",\r\n    icon: Icon_2,\r\n    children: [],\r\n    params: [{ key: \"page/personalDetail/\", title: \"教师画像详情\" }],\r\n  },\r\n  {\r\n    key: \"teacherRecruit\",\r\n    name: \"教师招聘计划管理\",\r\n    icon: Icon_3,\r\n    children: [],\r\n    // 除了左侧菜单的其它合法一级路由,打开这个路由，左侧会对应打开所属的节点\r\n    params: [\r\n      { key: \"publishRecruit\", title: \"发布招聘计划\" },\r\n      { key: \"editRecruit\", title: \"编辑招聘计划\" },\r\n      { key: \"recruitDetail\", title: \"招聘计划详情\" },\r\n    ],\r\n  },\r\n  {\r\n    key: \"teacherTrain\",\r\n    name: \"教师培训计划管理\",\r\n    icon: Icon_4,\r\n    children: [],\r\n    params: [\r\n      { key: \"publishTrain\", title: \"发布培训计划\" },\r\n      { key: \"editTrain\", title: \"编辑培训计划\" },\r\n      { key: \"trainDetail\", title: \"培训计划详情\" },\r\n    ],\r\n  },\r\n  { key: \"notice\", name: \"通知公告\", icon: Icon_5, children: [] },\r\n];\r\nconst leftMenu_0 = [\r\n  {\r\n    key: \"teacherPersonal\",\r\n    name: \"智能画像\",\r\n    icon: Icon_2,\r\n    children: [],\r\n    params: [{ key: \"page/personalDetail\", title: \"智能画像\" }],\r\n  },\r\n  {\r\n    key: \"stuStatusMsg\",\r\n    name: \"多维档案\",\r\n    icon: Icon_1,\r\n    children: [\r\n      {\r\n        key: \"stuStatusMsg\",\r\n        name: \"学籍档案\",\r\n      },\r\n      {\r\n        key: \"stuConditionMsg\",\r\n        name: \"学情档案\",\r\n      },\r\n      {\r\n        key: \"attendanceMsg\",\r\n        name: \"考勤档案\",\r\n      },\r\n      {\r\n        key: \"healthMsg\",\r\n        name: \"健康档案\",\r\n      },\r\n      {\r\n        key: \"awardAndPunish\",\r\n        name: \"奖惩档案\",\r\n      },\r\n      {\r\n        key: \"schoolLiveMsg\",\r\n        name: \"校园生活档案\",\r\n      },\r\n\r\n    ],\r\n  },\r\n  \r\n  // {\r\n  //   key: \"teacherRecruit\",\r\n  //   name: \"教师招聘计划管理\",\r\n  //   icon: Icon_3,\r\n  //   children: [],\r\n  //   // 除了左侧菜单的其它合法一级路由,打开这个路由，左侧会对应打开所属的节点\r\n  //   params: [\r\n  //     { key: \"publishRecruit\", title: \"发布招聘计划\" },\r\n  //     { key: \"editRecruit\", title: \"编辑招聘计划\" },\r\n  //     { key: \"recruitDetail\", title: \"招聘计划详情\" },\r\n  //   ],\r\n  // },\r\n  // {\r\n  //   key: \"teacherTrain\",\r\n  //   name: \"教师培训计划管理\",\r\n  //   icon: Icon_4,\r\n  //   children: [],\r\n  //   params: [\r\n  //     { key: \"publishTrain\", title: \"发布培训计划\" },\r\n  //     { key: \"editTrain\", title: \"编辑培训计划\" },\r\n  //     { key: \"trainDetail\", title: \"培训计划详情\" },\r\n  //   ],\r\n  // },\r\n  // { key: \"notice\", name: \"通知公告\", icon: Icon_5, children: [] },\r\n];\r\nconst COMMON_SET_TEST = \"COMMON_SET_TEST\";\r\nconst COMMON_SET_IDENTITY = \"COMMON_SET_IDENTITY\";\r\nconst COMMON_SET_USER_INFO = \"COMMON_SET_USER_INFO\";\r\nconst COMMON_SET_BASE_PLAT_FORM_MSG = \"COMMON_SET_BASE_PLAT_FORM_MSG\";\r\nconst COMMON_SET_ROLE_MSG = \"COMMON_SET_ROLE_MSG\";\r\nconst COMMON_SET_TERM_INFO = \"COMMON_SET_TERM_INFO\";\r\nconst COMMON_SET_CONTENT_HW = \"COMMON_SET_CONTENT_HW\";\r\nconst COMMON_SET_SYSTEM_SERVER = \"COMMON_SET_SYSTEM_SERVER\";\r\n// 设置左侧菜单\r\nconst COMMON_SET_LEFT_MENU = \"COMMON_SET_LEFT_MENU\";\r\n// *type:0教育局的学校，大学的学院，1教育局，大学的学校，默认0\r\nconst SetLeftMenu = (type = 0, haveNotice = true) => {\r\n  return (dispatch, getState) => {\r\n    let leftMenu = type === 1 ? leftMenu_1 : leftMenu_0;\r\n    switch (type) {\r\n      case 0:\r\n        leftMenu = leftMenu_0; //学院或中小学学校\r\n\r\n        break;\r\n      case 1:\r\n        leftMenu = leftMenu_1; //加各校师资，教育局\r\n\r\n        break;\r\n      case 2:\r\n        leftMenu_1[0].children[4].name = \"各院师资\";\r\n        leftMenu_1[0].children[4].params[0].title = \"学院详情\";\r\n        leftMenu = leftMenu_1; //各校师资改为各院，大学\r\n\r\n        break;\r\n      default:\r\n        leftMenu = leftMenu_0;\r\n    }\r\n    if (!haveNotice) {\r\n      leftMenu.pop();\r\n    }\r\n    dispatch({\r\n      type: COMMON_SET_LEFT_MENU,\r\n      data: leftMenu,\r\n    });\r\n  };\r\n};\r\n// 统一修改common,有风险，快捷\r\nconst COMMON_SET_COMMON_DATA = \"COMMON_SET_COMMON_DATA\";\r\nconst SetCommonData = (data) => {\r\n  return (dispatch, getState) => {\r\n    let { commonData } = getState();\r\n    dispatch({\r\n      type: COMMON_SET_COMMON_DATA,\r\n      data: { ...commonData, ...data },\r\n    });\r\n  };\r\n};\r\nconst actions = {\r\n  COMMON_SET_COMMON_DATA,\r\n  SetCommonData,\r\n  COMMON_SET_TERM_INFO,\r\n  COMMON_SET_TEST,\r\n  COMMON_SET_USER_INFO,\r\n  COMMON_SET_BASE_PLAT_FORM_MSG,\r\n  COMMON_SET_IDENTITY,\r\n  COMMON_SET_ROLE_MSG,\r\n  COMMON_SET_CONTENT_HW,\r\n  COMMON_SET_SYSTEM_SERVER,\r\n  COMMON_SET_LEFT_MENU,\r\n  SetLeftMenu,\r\n};\r\nexport default actions;\r\n","/*\r\n *                                |~~~~~~~|\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *     |~.\\\\\\_\\~~~~~~~~~~~~~~xx~~~         ~~~~~~~~~~~~~~~~~~~~~/_//;~|\r\n *     |  \\  o \\_         ,XXXXX),                         _..-~ o /  |\r\n *     |    ~~\\  ~-.     XXXXX`)))),                 _.--~~   .-~~~   |\r\n *      ~~~~~~~`\\   ~\\~~~XXX' _/ ';))     |~~~~~~..-~     _.-~ ~~~~~~~\r\n *               `\\   ~~--`_\\~\\, ;;;\\)__.---.~~~      _.-~\r\n *                 ~-.       `:;;/;; \\          _..-~~\r\n *                    ~-._      `''        /-~-~\r\n *                        `\\              /  /\r\n *                          |         ,   | |\r\n *                           |  '        /  |\r\n *                            \\/;          |\r\n *                             ;;          |\r\n *                             `;   .       |\r\n *                             |~~~-----.....|\r\n *                            | \\             \\\r\n *                           | /\\~~--...__    |\r\n *                           (|  `\\       __-\\|\r\n *                           ||    \\_   /~    |\r\n *                           |)     \\~-'      |\r\n *                            |      | \\      '\r\n *                            |      |  \\    :\r\n *                             \\     |  |    |\r\n *                              |    )  (    )\r\n *                               \\  /;  /\\  |\r\n *                               |    |/   |\r\n *                               |    |   |\r\n *                                \\  .'  ||\r\n *                                |  |  | |\r\n *                                (  | |  |\r\n *                                |   \\ \\ |\r\n *                                || o `.)|\r\n *                                |`\\\\) |\r\n *                                |       |\r\n *                                |       |\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-17 14:14:26\r\n * @LastEditTime: 2020-12-07 16:27:28\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\redux\\actions\\handleActions.js\r\n */\r\n// 设置招聘的信息\r\nconst COMMON_SET_TEACHER_RECRUIT_MSG = \"COMMON_SET_TEACHER_RECRUIT_MSG\";\r\nconst setTeacherRecruitMsg = (data) => {\r\n  return (dispatch, getProp) => {\r\n    dispatch({ type: COMMON_SET_TEACHER_RECRUIT_MSG, data });\r\n  };\r\n};\r\n// 设置获得的tab\r\nconst COMMON_SET_ACTIVE_TAB = \"COMMON_SET_ACTIVE_TAB\";\r\nconst setActiveTab = (data) => {\r\n  return (dispatch, getProp) => {\r\n    dispatch({ type: COMMON_SET_ACTIVE_TAB, data });\r\n  };\r\n};\r\nconst actions = {\r\n  COMMON_SET_ACTIVE_TAB,\r\n  setActiveTab,\r\n\r\n  COMMON_SET_TEACHER_RECRUIT_MSG,\r\n  setTeacherRecruitMsg,\r\n};\r\nexport default actions;\r\n","/*\r\n *  ┌─────────────────────────────────────────────────────────────┐\r\n *  │┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐│\r\n *  ││Esc│!1 │@2 │#3 │$4 │%5 │^6 │&7 │*8 │(9 │)0 │_- │+= │|\\ │`~ ││\r\n *  │├───┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴───┤│\r\n *  ││ Tab │ Q │ W │ E │ R │ T │ Y │ U │ I │ O │ P │{[ │}] │ BS  ││\r\n *  │├─────┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴─────┤│\r\n *  ││ Ctrl │ A │ S │ D │ F │ G │ H │ J │ K │ L │: ;│\" '│ Enter  ││\r\n *  │├──────┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴────┬───┤│\r\n *  ││ Shift  │ Z │ X │ C │ V │ B │ N │ M │< ,│> .│? /│Shift │Fn ││\r\n *  │└─────┬──┴┬──┴──┬┴───┴───┴───┴───┴───┴──┬┴───┴┬──┴┬─────┴───┘│\r\n *  │      │Fn │ Alt │         Space         │ Alt │Win│   HHKB   │\r\n *  │      └───┴─────┴───────────────────────┴─────┴───┘          │\r\n *  └─────────────────────────────────────────────────────────────┘\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-17 14:14:09\r\n * @LastEditTime: 2020-12-03 10:22:35\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\redux\\actions\\index.js\r\n */\r\n\r\nimport CommonActions from \"./commonActions\";\r\nimport HandleActions from \"./handleActions\";\r\nimport MainActions from \"./mainActions\";\r\nexport let commonActions = CommonActions;\r\nexport let handleActions = HandleActions;\r\nexport let mainActions = MainActions;\r\nconst actions = {\r\n  commonActions,mainActions,handleActions\r\n};\r\n\r\nexport default actions;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM8AAAAzCAYAAAAw0Vw9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBNDNCMjU4MjQ2NUMxMUVCOTM3NUI3MDJFRjBFNjE2MiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBNDNCMjU4MzQ2NUMxMUVCOTM3NUI3MDJFRjBFNjE2MiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE0M0IyNTgwNDY1QzExRUI5Mzc1QjcwMkVGMEU2MTYyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkE0M0IyNTgxNDY1QzExRUI5Mzc1QjcwMkVGMEU2MTYyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+sNTDRgAAGBlJREFUeNrsXQl4FFW2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\"","\r\nimport React, { memo, useMemo, createRef } from \"react\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"es6-shim\";\r\nimport moment from \"moment\";\r\nimport $ from \"jquery\";\r\nimport \"antd/dist/antd.min.css\";\r\nimport \"./index.scss\";\r\nimport zhCN from \"antd/es/locale/zh_CN\";\r\nimport \"moment/locale/zh-cn\";\r\nimport {\r\n  Spin,\r\n  Input as AntdInput,\r\n  ConfigProvider,\r\n  Radio as AntRadio,\r\n  Checkbox as AntCheckBox,\r\n  Table as AntTable,\r\n  Pagination as AntPagination,\r\n  Button as AntdButton,\r\n  Tooltip,\r\n  Modal as AntdModal,\r\n  Select,\r\n} from \"antd\";\r\nlet { Option } = Select;\r\nmoment.locale(\"zh-cn\");\r\n\r\n/*\r\n * 弹出框 start\r\n * */\r\n\r\nclass AppAlert extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      left: 0,\r\n\r\n      top: 0,\r\n\r\n      xTemp: 0,\r\n\r\n      yTemp: 0,\r\n\r\n      can_move: false,\r\n\r\n      readyShow: false,\r\n    };\r\n    let setTime = \"\";\r\n  }\r\n\r\n  //关闭按钮\r\n  closeAlert(e) {\r\n    const { onClose } = this.props;\r\n    if (onClose) {\r\n      onClose();\r\n    }\r\n  }\r\n  //点击ok\r\n  ok(e) {\r\n    const { onOk } = this.props;\r\n    if (onOk) {\r\n      onOk();\r\n    }\r\n  }\r\n  //点击cancel按钮\r\n  cancel(e) {\r\n    const { onCancel } = this.props;\r\n    if (onCancel) {\r\n      onCancel();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { show, type, onHide } = this.props;\r\n    if (show) {\r\n      if (\r\n        type === \"success\" ||\r\n        type === \"error\" ||\r\n        type === \"tips\" ||\r\n        type === \"warn\"\r\n      ) {\r\n        if (onHide) {\r\n          this.setTime = setTimeout(onHide, 1000);\r\n        }\r\n      }\r\n    }\r\n\r\n    /*if(this.AlertBody&&show&&!this.state.readyShow){\r\n  \r\n              this.setState({readyShow:true,left:($(window).width() - this.AlertBody.clientWidth) /2,top:($(window).height() - this.AlertBody.clientHeight)/ 2});\r\n  \r\n          }\r\n  \r\n          if(!show&&this.state.readyShow){\r\n  \r\n              this.setState({can_move:false,readyShow:false});\r\n  \r\n          }*/\r\n\r\n    //新的尝试 new try\r\n\r\n    if (this.AlertBody && show && !this.state.readyShow) {\r\n      this.AlertBody.style.left =\r\n        ($(window).width() - this.AlertBody.clientWidth) / 2 + \"px\";\r\n\r\n      this.AlertBody.style.top =\r\n        ($(window).height() - this.AlertBody.clientHeight) / 2 + \"px\";\r\n\r\n      this.setState({ readyShow: true });\r\n\r\n      $(\".alert_dialog_footer input.cancel\").focus();\r\n    }\r\n\r\n    if (!show && this.state.readyShow) {\r\n      this.setState({ readyShow: false });\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    clearTimeout(this.setTime);\r\n  }\r\n  componentDidMount() {\r\n    const { show, type, onHide } = this.props;\r\n    if (show) {\r\n      if (\r\n        type === \"success\" ||\r\n        type === \"error\" ||\r\n        type === \"tips\" ||\r\n        type === \"warn\"\r\n      ) {\r\n        if (onHide) {\r\n          this.setTime = setTimeout(onHide, 1000);\r\n        }\r\n      }\r\n    }\r\n\r\n    /* if(this.AlertBody&&show&&!this.state.readyShow){\r\n  \r\n               this.setState({readyShow:true,left:($(window).width() - this.AlertBody.clientWidth) /2,top:($(window).height() - this.AlertBody.clientHeight)/ 2});\r\n  \r\n           }\r\n  \r\n           if(!show&&this.state.readyShow){\r\n  \r\n               this.setState({can_move:false,readyShow:false});\r\n  \r\n           }\r\n  \r\n           const that = this;\r\n  \r\n           $(document).on('dragstart', '.alert_dialog_wrapper', function(e) { return false; });\r\n  \r\n           $(document).on('mousedown', '.alert_dialog_wrapper', function(event) {\r\n  \r\n               let $win = $(event.target).closest('.alert_dialog_wrapper');\r\n  \r\n               $win.css('cursor', 'move');\r\n  \r\n               let mx = event.clientX;\r\n  \r\n               let my = event.clientY;\r\n  \r\n               let can_move = true;\r\n  \r\n               let xTemp = mx - parseInt($win.offset().left-$(window).scrollLeft());\r\n  \r\n               let yTemp = my - parseInt($win.offset().top-$(window).scrollTop());\r\n  \r\n               that.setState({\r\n  \r\n                   can_move,xTemp,yTemp\r\n  \r\n               })\r\n  \r\n           });\r\n           //var win;\r\n           ///MSIE 8.0/.test(window.navigator.userAgent) ? win = document : win = window;\r\n  \r\n           $(window).mousemove(function(event) {\r\n  \r\n               if (that.AlertBody) {\r\n  \r\n                   if (that.state.can_move){\r\n  \r\n                       let $win = $(event.target).closest('.alert_dialog_wrapper');\r\n  \r\n                       let $window = $(window);\r\n  \r\n                       let mx = event.clientX;\r\n  \r\n                       let my = event.clientY;\r\n  \r\n  \r\n  \r\n                       if (mx - that.state.xTemp > 0 && mx - that.state.xTemp < $window.width() - $win.width()) {\r\n  \r\n                           /!*$win.css('left', mx - xTemp+'px');*!/\r\n  \r\n                           that.setState({left:mx - that.state.xTemp});\r\n  \r\n  \r\n  \r\n                       }\r\n  \r\n                       if (my - that.state.yTemp > 0 && my - that.state.yTemp < $window.height() - $win.height()) {\r\n  \r\n                           /!*$win.css('top', my - yTemp+'px');*!/\r\n  \r\n                           that.setState({top:my - that.state.yTemp});\r\n  \r\n  \r\n  \r\n                       }\r\n  \r\n                   }\r\n  \r\n               }\r\n  \r\n           }).mouseup(function(event) {\r\n  \r\n               if (that.AlertBody){\r\n  \r\n                   that.setState({can_move:false});\r\n  \r\n                   $('.alert_dialog_wrapper').css('cursor', 'default');\r\n  \r\n               }\r\n  \r\n           });\r\n   */\r\n\r\n    //新的尝试 new try\r\n\r\n    if (this.AlertBody && show && !this.state.readyShow) {\r\n      this.AlertBody.style.left =\r\n        ($(window).width() - this.AlertBody.clientWidth) / 2 + \"px\";\r\n\r\n      this.AlertBody.style.top =\r\n        ($(window).height() - this.AlertBody.clientHeight) / 2 + \"px\";\r\n\r\n      this.setState({ readyShow: true });\r\n    }\r\n\r\n    if (!show && this.state.readyShow) {\r\n      this.setState({ readyShow: false });\r\n    }\r\n\r\n    $(function () {\r\n      var xTemp, yTemp;\r\n\r\n      var can_move = false;\r\n\r\n      $(document).on(\"dragstart\", \".alert_dialog_dragheader\", function () {\r\n        return false;\r\n      });\r\n\r\n      $(document).on(\"mousedown\", \".alert_dialog_dragheader\", function (event) {\r\n        let $win = $(event.target).closest(\".alert_dialog_wrapper\");\r\n\r\n        can_move = true;\r\n\r\n        $(\".alert_dialog_wrapper\").css(\"cursor\", \"move\");\r\n\r\n        var mx = event.pageX;\r\n\r\n        var my = event.pageY;\r\n\r\n        xTemp = mx - parseInt($win.css(\"left\"));\r\n\r\n        yTemp = my - parseInt($win.css(\"top\"));\r\n      });\r\n\r\n      $(window)\r\n        .mousemove(function (event) {\r\n          if (can_move) {\r\n            let $win = $(event.target).closest(\".alert_dialog_wrapper\");\r\n\r\n            var $window = $(window);\r\n\r\n            var mx = event.pageX;\r\n\r\n            var my = event.pageY;\r\n\r\n            if (mx - xTemp > 0 && mx - xTemp < $window.width() - $win.width()) {\r\n              $win.css(\"left\", mx - xTemp);\r\n            }\r\n\r\n            if (\r\n              my - yTemp > 0 &&\r\n              my - yTemp < $window.height() - $win.height()\r\n            ) {\r\n              $win.css(\"top\", my - yTemp);\r\n            }\r\n          }\r\n        })\r\n        .mouseup(function () {\r\n          can_move = false;\r\n\r\n          $(\".alert_dialog_wrapper\").css(\"cursor\", \"default\");\r\n        });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      type,\r\n      title,\r\n      abstract,\r\n      okTitle,\r\n      cancelTitle,\r\n      show,\r\n      contentMaxWidth,\r\n      className,\r\n    } = this.props;\r\n\r\n    let { cancelShow, okShow } = this.props;\r\n\r\n    let maskShow = false;\r\n\r\n    let okContent,\r\n      cancelContent = \"\";\r\n\r\n    switch (type) {\r\n      case \"btn-success\":\r\n      case \"btn-error\":\r\n      case \"btn-warn\":\r\n        maskShow = true;\r\n        okShow = okShow === \"n\" ? false : true;\r\n        cancelShow = cancelShow === \"n\" ? false : true;\r\n        okContent = okTitle ? okTitle : \"确定\";\r\n        cancelContent = cancelTitle ? cancelTitle : \"取消\";\r\n        break;\r\n      case \"btn-query\":\r\n        maskShow = true;\r\n        okShow = okShow === \"n\" ? false : true;\r\n        cancelShow = cancelShow === \"n\" ? false : true;\r\n        okContent = okTitle ? okTitle : \"确定\";\r\n        cancelContent = cancelTitle ? cancelTitle : \"取消\";\r\n        break;\r\n      case \"btn-tips\":\r\n        maskShow = true;\r\n        okShow = false;\r\n        cancelShow = cancelShow === \"n\" ? false : true;\r\n        cancelContent = cancelTitle ? cancelTitle : \"我知道了\";\r\n        break;\r\n      default:\r\n        maskShow = false;\r\n        cancelShow = false;\r\n        okShow = false;\r\n        okContent = \"确定\";\r\n        cancelContent = \"取消\";\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {show ? (\r\n          maskShow ? (\r\n            <React.Fragment>\r\n              <div\r\n                className={`alert_dialog_mask ${className ? className : \"\"}`}\r\n                style={{ display: `${show ? \"block\" : \"none\"}` }}\r\n              ></div>\r\n              <div\r\n                className={`alert_dialog_tab ${className ? className : \"\"}`}\r\n                style={{ display: `${show ? \"block\" : \"none\"}` }}\r\n              >\r\n                <div\r\n                  ref={(ref) => (this.AlertBody = ref)}\r\n                  className=\"border alert_dialog_wrapper\"\r\n                  id=\"alert_dialog_wrapper\"\r\n                >\r\n                  {/*style={{left:this.state.left,top:this.state.top}} 这个地方应该是AlertBody的行内样式*/}\r\n\r\n                  <div className=\"alert_dialog_dragheader\"></div>\r\n\r\n                  <div\r\n                    className=\"alert_close_btn\"\r\n                    onClick={this.closeAlert.bind(this)}\r\n                  ></div>\r\n                  <div\r\n                    className={`alert_dialog_content ${\r\n                      abstract ? \"has-abstract\" : \"\"\r\n                    }`}\r\n                  >\r\n                    {abstract ? (\r\n                      <div className={`big_icon ${type}`}></div>\r\n                    ) : (\r\n                      <div className={`left-icon ${type}`}></div>\r\n                    )}\r\n                    <div\r\n                      className={`alert_dialog_msg ${abstract ? \"big\" : type}`}\r\n                    >\r\n                      {title}\r\n                    </div>\r\n                    {abstract ? (\r\n                      <div className=\"alert_dialog_abstract\">{abstract}</div>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                  <div className=\"alert_dialog_footer\">\r\n                    {okShow ? (\r\n                      <input\r\n                        type=\"button\"\r\n                        className=\"ok\"\r\n                        onClick={this.ok.bind(this)}\r\n                        value={okContent}\r\n                      />\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    {cancelShow ? (\r\n                      <input\r\n                        type=\"button\"\r\n                        className=\"cancel\"\r\n                        onClick={this.cancel.bind(this)}\r\n                        value={cancelContent}\r\n                      />\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          ) : (\r\n            <div\r\n              className={`alert_tips_tab ${show ? \"animation\" : \"\"} ${\r\n                className ? className : \"\"\r\n              }`}\r\n              ref=\"alert_tips_tab\"\r\n            >\r\n              <div className=\"border\">\r\n                <div\r\n                  className={`alert_tab_content ${type}`}\r\n                  style={contentMaxWidth ? { maxWidth: contentMaxWidth } : {}}\r\n                >\r\n                  {title}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 弹出框 end\r\n * */\r\n/*\r\n * 加载中 start\r\n * */\r\n\r\nclass Loading extends React.Component {\r\n  render() {\r\n    const {\r\n      type,\r\n      size,\r\n      tip,\r\n      opacity,\r\n      spinning,\r\n      wrapperClassName,\r\n      children,\r\n      ...reset\r\n    } = this.props;\r\n\r\n    let Fragments = \"\";\r\n\r\n    let opacityClass = \"\";\r\n\r\n    if (opacity) {\r\n      //透明度为true意味透明\r\n      if (opacity === true) {\r\n        opacityClass = \"ant-spin-transparent\";\r\n      }\r\n    } else {\r\n      if (opacity === undefined) {\r\n        //透明度为false意味不透明\r\n        opacityClass = \"\";\r\n      } else {\r\n        opacityClass = \"ant-spin-opaque\";\r\n      }\r\n    }\r\n\r\n    if (type) {\r\n      if (type === \"point\") {\r\n        //自己写的loading\r\n\r\n        Fragments = (\r\n          <div className={`loading_mask ${opacityClass}`}>\r\n            <div className=\"loading_point_container\">\r\n              <div className=\"point_container\">\r\n                <span className=\"point1 point\"></span>\r\n                <span className=\"point2 point\"></span>\r\n                <span className=\"point3 point\"></span>\r\n                <span className=\"point4 point\"></span>\r\n              </div>\r\n              <div className=\"point_loading_text\">{tip}</div>\r\n            </div>\r\n          </div>\r\n        );\r\n      } else {\r\n        //icon图标的loading\r\n        // let antIcon = <Icon type={type} spin {...reset} />;\r\n        Fragments = (\r\n          <Spin\r\n            // indicator={antIcon}\r\n            spinning={spinning}\r\n            size={size}\r\n            tip={tip}\r\n            wrapperClassName={`${\r\n              wrapperClassName ? wrapperClassName : \"\"\r\n            } ${opacityClass}`}\r\n          >\r\n            {children}\r\n          </Spin>\r\n        );\r\n      }\r\n    } else {\r\n      //默认loading\r\n      Fragments = (\r\n        <Spin\r\n          {...reset}\r\n          size={size}\r\n          spinning={spinning}\r\n          tip={tip}\r\n          wrapperClassName={`${\r\n            wrapperClassName ? wrapperClassName : \"\"\r\n          } ${opacityClass}`}\r\n        >\r\n          {children}\r\n        </Spin>\r\n      );\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        {\" \"}\r\n        {/*空标签*/}\r\n        {Fragments}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 加载中 end\r\n * */\r\n/*\r\n * 下拉 start\r\n * */\r\nclass DropComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dropSelectd: props.dropSelectd ? props.dropSelectd : \"\",\r\n      dropListShow: false,\r\n      range2ListShow: \"\",\r\n      range2ListActive: \"\",\r\n      simpleSearchList: [],\r\n      simpleSearchShow: false,\r\n      simpleSearchValue: \"\",\r\n    };\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    const { dropSelectd, dropList, type } = nextProps;\r\n\r\n    let simpleSearchList = [];\r\n\r\n    if (type !== \"multiple\") {\r\n      simpleSearchList = dropList;\r\n    }\r\n\r\n    this.setState({ dropSelectd: dropSelectd, simpleSearchList });\r\n  }\r\n\r\n  onToggleDropList() {\r\n    this.setState({ dropListShow: !this.state.dropListShow }, () => {\r\n      $(this.refs.dropdown_select_ul).slideToggle(\"fast\");\r\n    });\r\n  } //展示或者隐藏下拉列表\r\n\r\n  onSimpleDropChange(e) {\r\n    const { activeValue } = this.props;\r\n\r\n    const { onChange, value, title } = e;\r\n\r\n    this.setState(\r\n      { dropListShow: false, dropSelectd: { value, title } },\r\n      () => {\r\n        $(this.refs.dropdown_select_ul).hide();\r\n        if (onChange) {\r\n          onChange({ value, title });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  //改变下拉选项的时候调用\r\n  onMultipleRang2DropChange(e) {\r\n    const { id, name, onChange } = e;\r\n    this.setState(\r\n      {\r\n        //点击选项之后\r\n        dropListShow: false,\r\n        dropSelectd: {\r\n          value: id,\r\n          title: name,\r\n        },\r\n        range2ListActive: id,\r\n      },\r\n      () => {\r\n        $(this.refs.dropdown_select_ul).hide(); //隐藏下拉框\r\n        if (onChange) {\r\n          onChange({ value: name, id: id }); //调用外部传入的行数\r\n        }\r\n      }\r\n    );\r\n  } //二级下拉改变下拉的时候调用\r\n\r\n  onRange2ListShow(k1) {\r\n    if (this.state.range2ListShow === k1) {\r\n      this.setState({ range2ListShow: \"\" });\r\n    } else {\r\n      this.setState({ range2ListShow: k1 });\r\n    }\r\n  } //在二级的时候展开下拉\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"click\", (e) =>\r\n      this.outDropClick({\r\n        that: this,\r\n        target: e.target,\r\n        ulDom: this.refs.dropdown_select_ul,\r\n        spanDom: this.refs.dropdown_default_span,\r\n      })\r\n    ); //当点击事件发生在下拉之外的时候\r\n  }\r\n\r\n  outDropClick(e) {\r\n    const { that, target, ulDom, spanDom } = e;\r\n\r\n    const { dropList = [] } = this.props;\r\n\r\n    if (ulDom && spanDom) {\r\n      //在该界面上已有该组件才这样展示\r\n      if (!spanDom.contains(target) && !ulDom.contains(target)) {\r\n        that.setState(\r\n          {\r\n            dropListShow: false,\r\n            simpleSearchList: dropList,\r\n            simpleSearchShow: false,\r\n            simpleSearchValue: \"\",\r\n          },\r\n          () => {\r\n            $(ulDom).hide();\r\n          }\r\n        );\r\n      }\r\n    }\r\n  } //当点击事件发生在下拉组件之外的时候\r\n  onClickSearch(e) {\r\n    const { mutipleOptions } = this.props;\r\n    if (e.value) {\r\n      if (mutipleOptions && mutipleOptions.dropClickSearch) {\r\n        mutipleOptions.dropClickSearch(e);\r\n      }\r\n    } else {\r\n      if (mutipleOptions && mutipleOptions.dropClickSearch) {\r\n        mutipleOptions.dropClickSearch(e);\r\n      }\r\n    }\r\n  } //点击搜索之后\r\n  onCancelSearch(e) {\r\n    const { mutipleOptions } = this.props;\r\n\r\n    if (mutipleOptions && mutipleOptions.dropCancelSearch) {\r\n      mutipleOptions.dropCancelSearch();\r\n    }\r\n  }\r\n\r\n  simpleSearch() {\r\n    const { dropList } = this.props;\r\n\r\n    if (this.state.simpleSearchValue) {\r\n      const list = dropList.filter((i) => {\r\n        if (typeof i.title === \"string\" || typeof i.title === \"number\") {\r\n          return i.title.toString().includes(this.state.simpleSearchValue);\r\n        } else {\r\n          let hasValue = this.recursive(i.title);\r\n\r\n          return hasValue;\r\n        }\r\n      });\r\n\r\n      const simpleSearchList =\r\n        list.length > 0\r\n          ? list\r\n          : [{ value: \"symbol_none_value\", title: \"无数据\" }];\r\n\r\n      this.setState({ simpleSearchShow: true, simpleSearchList });\r\n    }\r\n  }\r\n\r\n  //递归函数\r\n  recursive(reactDom) {\r\n    let hasValue = false;\r\n\r\n    if (\r\n      typeof reactDom.props.children === \"string\" ||\r\n      typeof reactDom.props.children === \"number\"\r\n    ) {\r\n      if (\r\n        reactDom.props.children\r\n          .toString()\r\n          .includes(this.state.simpleSearchValue)\r\n      ) {\r\n        hasValue = true;\r\n      }\r\n    } else {\r\n      for (let i = 0; i <= reactDom.props.children.length - 1; i++) {\r\n        if (!hasValue) {\r\n          if (\r\n            typeof reactDom.props.children[i] === \"string\" ||\r\n            typeof reactDom.props.children[i] === \"number\"\r\n          ) {\r\n            if (\r\n              reactDom.props.children[i]\r\n                .toString()\r\n                .includes(this.state.simpleSearchValue)\r\n            ) {\r\n              hasValue = true;\r\n            }\r\n          } else {\r\n            hasValue = this.recursive(reactDom.props.children[i]);\r\n          }\r\n        }\r\n\r\n        return hasValue;\r\n      }\r\n    }\r\n  }\r\n  //简单搜索的值发生变化\r\n  simpleSearchValueChange(e) {\r\n    const { dropList } = this.props;\r\n\r\n    const searchValue = e.target.value;\r\n\r\n    this.setState(\r\n      {\r\n        simpleSearchValue: searchValue,\r\n      },\r\n      () => {\r\n        const list = dropList.filter((i) => {\r\n          if (typeof i.title === \"string\" || typeof i.title === \"number\") {\r\n            return i.title.toString().includes(searchValue);\r\n          } else {\r\n            let hasValue = this.recursive(i.title);\r\n\r\n            return hasValue;\r\n          }\r\n        });\r\n\r\n        const simpleSearchList =\r\n          list.length > 0\r\n            ? list\r\n            : [{ value: \"symbol_none_value\", title: \"无数据\" }];\r\n\r\n        this.setState({ simpleSearchShow: true, simpleSearchList });\r\n      }\r\n    );\r\n    // }\r\n\r\n    // return hasValue;\r\n  }\r\n\r\n  // //简单搜索的值发生变化\r\n  // simpleSearchValueChange(e) {\r\n  //   this.setState({\r\n  //     simpleSearchValue: e.target.value,\r\n  //   });\r\n  // }\r\n\r\n  //简单搜索关闭\r\n\r\n  simpleSearchClose() {\r\n    const { dropList } = this.props;\r\n\r\n    this.setState({\r\n      simpleSearchValue: \"\",\r\n      simpleSearchShow: false,\r\n      simpleSearchList: dropList,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      Title,\r\n      TitleShow,\r\n      title,\r\n      width,\r\n      height,\r\n      activeValue,\r\n      disabled,\r\n      dropSelectd,\r\n      dropList,\r\n      onChange,\r\n      type,\r\n      className,\r\n      mutipleOptions,\r\n      dropLoadingShow,\r\n      dropSimpleSearch,\r\n      ...reset\r\n    } = this.props;\r\n\r\n    let simpleSearchList = [];\r\n\r\n    if (type !== \"multiple\" && this.state.simpleSearchShow) {\r\n      simpleSearchList = this.state.simpleSearchList;\r\n    } else {\r\n      simpleSearchList = dropList;\r\n    }\r\n\r\n    let dropContainer = \"\";\r\n\r\n    let selectUlWidth =\r\n      mutipleOptions && mutipleOptions.width ? mutipleOptions.width : 540;\r\n\r\n    let selectUlHeight =\r\n      mutipleOptions && mutipleOptions.height ? mutipleOptions.height : 280;\r\n\r\n    let searchWidth =\r\n      mutipleOptions && mutipleOptions.searchWidth\r\n        ? mutipleOptions.searchWidth\r\n        : 320;\r\n\r\n    let scrollWrapperWidth =\r\n      mutipleOptions && mutipleOptions.width ? mutipleOptions.width - 20 : 520;\r\n\r\n    let scrollWrapperHeight =\r\n      mutipleOptions && mutipleOptions.height\r\n        ? mutipleOptions.height - 72\r\n        : 228;\r\n\r\n    let searchOpen =\r\n      mutipleOptions && mutipleOptions.searchOpen\r\n        ? mutipleOptions.searchOpen\r\n        : false;\r\n\r\n    //所需的参数\r\n    let dropMultipleList = \"\";\r\n\r\n    //判断等级渲染相对应的元素\r\n    if (searchOpen) {\r\n      //如果开启搜索的话\r\n\r\n      dropMultipleList = (\r\n        <ul className=\"dropdown_list_ul3 clearfix\" style={{ display: \"block\" }}>\r\n          <Loading\r\n            tip=\"加载中...\"\r\n            opacity={false}\r\n            spinning={\r\n              mutipleOptions && mutipleOptions.searchLoadingShow\r\n                ? mutipleOptions.searchLoadingShow\r\n                : false\r\n            }\r\n          >\r\n            {mutipleOptions.searchList.length > 0 ? (\r\n              mutipleOptions.searchList.map((item, ks) => {\r\n                let CanActive = \"\";\r\n\r\n                if (mutipleOptions.dropSelectd) {\r\n                  CanActive =\r\n                    mutipleOptions.dropSelectd.value === item.id\r\n                      ? \"active\"\r\n                      : \"\";\r\n                } else {\r\n                  CanActive =\r\n                    this.state.range2ListActive === item.id ? \"active\" : \"\";\r\n                }\r\n\r\n                return (\r\n                  <li\r\n                    key={ks}\r\n                    className={`dropdown_item3_li ${CanActive}`}\r\n                    onClick={this.onMultipleRang2DropChange.bind(this, {\r\n                      name: item.name,\r\n                      id: item.id,\r\n                      onChange: mutipleOptions.dropMultipleChange,\r\n                    })} //绑定点击事件\r\n                    title={TitleShow ? (Title ? Title : item.name) : \"\"}\r\n                  >\r\n                    <span className=\"dropdown_item3_name\">{item.name}</span>\r\n                  </li>\r\n                );\r\n              })\r\n            ) : (\r\n              <Empty\r\n                type=\"5\"\r\n                title={\r\n                  mutipleOptions.empSearchTitle\r\n                    ? mutipleOptions.empSearchTitle\r\n                    : \"暂未有相关数据\"\r\n                }\r\n              ></Empty>\r\n            )}\r\n          </Loading>\r\n        </ul>\r\n      );\r\n    } else if (mutipleOptions && mutipleOptions.range === 2) {\r\n      //如果range的等级为2\r\n\r\n      //内容是否为空\r\n      if (\r\n        mutipleOptions.dropMultipleList &&\r\n        mutipleOptions.dropMultipleList.length > 0\r\n      ) {\r\n        dropMultipleList = mutipleOptions.dropMultipleList.map((item1, k1) => {\r\n          //遍历第一个数组\r\n\r\n          return (\r\n            <li key={k1} className=\"dropdown_list_item1\">\r\n              <div\r\n                className={`dropdown_item1_name ${\r\n                  this.state.range2ListShow === k1 ? \"slide\" : \"\"\r\n                }`} //判断是否是活动状态\r\n                title={TitleShow ? (Title ? Title : item1.name) : \"\"}\r\n                onClick={this.onRange2ListShow.bind(this, k1)}\r\n              >\r\n                {item1.name}\r\n              </div>\r\n              <ul\r\n                ref={`dropdown_list_ul3_${k1}`}\r\n                className={`dropdown_list_ul3 clearfix`}\r\n                style={{\r\n                  display: `${\r\n                    this.state.range2ListShow === k1 ? \"block\" : \"none\"\r\n                  }`,\r\n                }}\r\n              >\r\n                {\r\n                  //遍历第二个数组\r\n                  item1.list.map((item2, k2) => {\r\n                    let CanActive = \"\";\r\n\r\n                    if (mutipleOptions.dropSelectd) {\r\n                      CanActive =\r\n                        mutipleOptions.dropSelectd.value === item2.id\r\n                          ? \"active\"\r\n                          : \"\";\r\n                    } else {\r\n                      CanActive =\r\n                        this.state.range2ListActive === item2.id\r\n                          ? \"active\"\r\n                          : \"\";\r\n                    }\r\n\r\n                    return (\r\n                      <li\r\n                        key={k2}\r\n                        className={`dropdown_item3_li ${CanActive}`} //判断是否是active\r\n                        title={TitleShow ? (Title ? Title : item2.name) : \"\"}\r\n                        onClick={this.onMultipleRang2DropChange.bind(this, {\r\n                          name: item2.name,\r\n                          id: item2.id,\r\n                          onChange: mutipleOptions.dropMultipleChange,\r\n                        })} //绑定点击事件\r\n                      >\r\n                        <span className=\"dropdown_item3_name\">\r\n                          {item2.name}\r\n                        </span>\r\n                      </li>\r\n                    );\r\n                  })\r\n                }\r\n              </ul>\r\n            </li>\r\n          );\r\n        });\r\n      } else {\r\n        dropMultipleList = (\r\n          <Empty\r\n            type=\"3\"\r\n            title={\r\n              mutipleOptions.empTitle\r\n                ? mutipleOptions.empTitle\r\n                : \"暂未有相关数据\"\r\n            }\r\n          ></Empty>\r\n        );\r\n      }\r\n    } else if (mutipleOptions && mutipleOptions.range === 3) {\r\n      //等待后期扩展使用\r\n    }\r\n\r\n    if (type && type === \"multiple\") {\r\n      dropContainer = (\r\n        <div\r\n          ref=\"dropdown_select_ul\"\r\n          className=\"dropdown_select_ul\"\r\n          style={{ width: selectUlWidth }}\r\n        >\r\n          <div className=\"dropdown_multiple_container\">\r\n            <div className=\"dropdown_search_wrapper\">\r\n              <Search\r\n                placeHolder={\r\n                  mutipleOptions && mutipleOptions.searchPlaceholder\r\n                    ? mutipleOptions.searchPlaceholder\r\n                    : null\r\n                }\r\n                width={searchWidth}\r\n                onClickSearch={this.onClickSearch.bind(this)}\r\n                onCancelSearch={this.onCancelSearch.bind(this)}\r\n                CancelBtnShow={mutipleOptions.CancelBtnShow}\r\n                Value={mutipleOptions.inputValue}\r\n              ></Search>\r\n            </div>\r\n\r\n            <Scrollbars\r\n              renderTrackHorizontal={(props) => {\r\n                return <span style={{ display: \"none\" }}></span>;\r\n              }}\r\n              renderThumbHorizontal={(props) => {\r\n                return <span style={{ display: \"none\" }}></span>;\r\n              }}\r\n              autoHeight\r\n              autoHeightMin={160}\r\n              autoHeightMax={scrollWrapperHeight}\r\n              style={{ width: scrollWrapperWidth }}\r\n            >\r\n              <Loading\r\n                opacity={false}\r\n                spinning={\r\n                  mutipleOptions && mutipleOptions.dropLoadingShow\r\n                    ? mutipleOptions.dropLoadingShow\r\n                    : false\r\n                }\r\n              >\r\n                <ul className=\"dropdown_list_ul\">{dropMultipleList}</ul>\r\n              </Loading>\r\n            </Scrollbars>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      dropContainer = (\r\n        <ul\r\n          className=\"dropdown_select_ul\"\r\n          ref=\"dropdown_select_ul\"\r\n          style={{ width: width, overflow: \"initial\" }}\r\n        >\r\n          <Loading opacity={false} spinning={dropLoadingShow}>\r\n            {dropList && dropList.length > 12 && dropSimpleSearch ? (\r\n              <li className={\"dropdown_select_search\"}>\r\n                <AntdInput\r\n                  value={this.state.simpleSearchValue}\r\n                  onChange={this.simpleSearchValueChange.bind(this)}\r\n                  onPressEnter={this.simpleSearch.bind(this)}\r\n                  className={\"search-input\"}\r\n                />\r\n\r\n                <i\r\n                  onClick={this.simpleSearchClose.bind(this)}\r\n                  className={\"dropdown_search_close\"}\r\n                  style={{\r\n                    display: `${\r\n                      this.state.simpleSearchShow ? \"block\" : \"none\"\r\n                    }`,\r\n                  }}\r\n                ></i>\r\n\r\n                <i\r\n                  onClick={this.simpleSearch.bind(this)}\r\n                  className={\"drop_search_btn\"}\r\n                  style={{\r\n                    display: `${\r\n                      this.state.simpleSearchShow ? \"none\" : \"block\"\r\n                    }`,\r\n                  }}\r\n                ></i>\r\n              </li>\r\n            ) : null}\r\n\r\n            <Scrollbars\r\n              autoHeight\r\n              autoHeightMin={0}\r\n              autoHeightMax={height ? height : 288}\r\n              // style={{height:height?(this.state.simpleSearchList.length*24<height?this.state.simpleSearchList.length*24:height):'auto'}}\r\n              renderTrackHorizontal={(props) => {\r\n                return <span style={{ display: \"none\" }}></span>;\r\n              }}\r\n              renderThumbHorizontal={(props) => {\r\n                return <span style={{ display: \"none\" }}></span>;\r\n              }}\r\n            >\r\n              {simpleSearchList.map((item, key) => {\r\n                return (\r\n                  <li\r\n                    key={key}\r\n                    className={`dropdown_select_li ${\r\n                      activeValue && activeValue === item.value\r\n                        ? \"active\"\r\n                        : dropSelectd.value === item.value\r\n                        ? \"active\"\r\n                        : \"\"\r\n                    }`}\r\n                    title={TitleShow ? (Title ? Title : item.title) : \"\"}\r\n                    data-vaule={item.value}\r\n                    onClick={\r\n                      item.value === \"symbol_none_value\"\r\n                        ? () => {}\r\n                        : this.onSimpleDropChange.bind(this, {\r\n                            onChange: onChange,\r\n                            value: item.value,\r\n                            title: item.title,\r\n                          })\r\n                    }\r\n                  >\r\n                    {item.title}\r\n                  </li>\r\n                );\r\n              })}\r\n            </Scrollbars>\r\n          </Loading>\r\n        </ul>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={`dropdown_container ${className ? className : \"\"}`}\r\n        {...reset}\r\n      >\r\n        <span className=\"dropdown_title_span\">{title}</span>\r\n        <span className=\"dropdown_wrapper\" style={{ width: width }}>\r\n          <span\r\n            ref=\"dropdown_default_span\"\r\n            className={`dropdown_default_span ${disabled ? \"disabled\" : \"\"}`}\r\n            onClick={\r\n              //点击展示和隐藏下拉列表\r\n              disabled ? () => {} : this.onToggleDropList.bind(this)\r\n            }\r\n            style={{ width: width }}\r\n          >\r\n            <span\r\n              className={`dropdown_icon_span ${\r\n                this.state.dropListShow ? \"slide\" : \"\"\r\n              }`}\r\n            ></span>\r\n            {\r\n              //判断this.state.dropSelectd?this.state.dropSelectd:(判断外界传入的dropSelectd？外界传入的dropSelectd:'')\r\n              this.state.dropSelectd ? (\r\n                <span\r\n                  data-value={this.state.dropSelectd.value}\r\n                  className=\"dropdown_text_span\"\r\n                  title={\r\n                    TitleShow\r\n                      ? Title\r\n                        ? Title\r\n                        : this.state.dropSelectd.title\r\n                      : \"\"\r\n                  }\r\n                >\r\n                  {this.state.dropSelectd.title}\r\n                </span>\r\n              ) : dropSelectd ? (\r\n                <span\r\n                  data-value={dropSelectd.value}\r\n                  className=\"dropdown_text_span\"\r\n                  title={TitleShow ? (Title ? Title : dropSelectd.title) : \"\"}\r\n                >\r\n                  {dropSelectd.title}\r\n                </span>\r\n              ) : (\r\n                \"\"\r\n              )\r\n            }\r\n          </span>\r\n\r\n          {dropContainer}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 下拉 end\r\n * */\r\n/*\r\n * 搜索 start\r\n * */\r\nclass Search extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectShow: false,\r\n      selectdValue: \"\",\r\n      cancleShow: false,\r\n      inputFocus: false,\r\n      Value: \"\",\r\n      SearchBlank: false,\r\n    };\r\n  }\r\n\r\n  InputChange(e) {\r\n    this.setState({ Value: e.target.value });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { select } = this.props;\r\n    if (select) {\r\n      document.addEventListener(\"click\", (e) =>\r\n        this.outSpanClickHandler({\r\n          that: this,\r\n          target: e.target,\r\n          spanDom: this.refs.search_select_span,\r\n          ulDom: this.refs.search_select_ul,\r\n        })\r\n      ); //点击其他地方将需要进行判断的元素传输给事件outSpanClickHandler\r\n    }\r\n  }\r\n\r\n  toggleSelectd(e) {\r\n    //切换下拉和上拉\r\n    this.setState({ selectShow: !this.state.selectShow }, () => {\r\n      $(this.refs.search_select_ul).slideToggle(\"fast\");\r\n    });\r\n  } //切换下拉状态为slideDown和slideUp\r\n  changeSelect(e) {\r\n    const { selectChange } = this.props;\r\n\r\n    this.setState({ selectdValue: { value: e.value, title: e.title } });\r\n    this.setState({ selectShow: !this.state.selectShow }, () => {\r\n      $(this.refs.search_select_ul).hide();\r\n\r\n      selectChange(e);\r\n    });\r\n  } //改变选项\r\n  outSpanClickHandler(e) {\r\n    const { target, ulDom, that, spanDom } = e;\r\n    if (spanDom && !spanDom.contains(target)) {\r\n      that.setState({ selectShow: false }, () => {\r\n        $(ulDom).hide();\r\n      });\r\n    }\r\n  } //点击其他地方将下拉收起\r\n  onInputFocus() {\r\n    this.setState({ inputFocus: true });\r\n  } //input focus事件\r\n\r\n  //点击搜索按钮事件\r\n\r\n  SearchClick() {\r\n    const { onClickSearch, select, selectOptions } = this.props;\r\n\r\n    if (this.SearchInput.value.trim()) {\r\n      this.setState({ cancleShow: true, SearchBlank: false }, () => {\r\n        if (onClickSearch) {\r\n          onClickSearch({\r\n            selectdValue: select\r\n              ? this.state.selectdValue\r\n                ? this.state.selectdValue.value\r\n                : selectOptions.selectdValue.value\r\n              : null,\r\n            value: this.SearchInput.value,\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      this.setState({ SearchBlank: true });\r\n\r\n      this.SearchInput.focus();\r\n    }\r\n  }\r\n\r\n  onInputBlur() {\r\n    this.setState({ inputFocus: false, SearchBlank: false });\r\n  } //input blur事件\r\n  handleEnterKey(e) {\r\n    const { select, selectOptions, onClickSearch, onSearchKeyUp } = this.props;\r\n\r\n    if (e.nativeEvent.keyCode === 13) {\r\n      if (this.SearchInput.value.trim()) {\r\n        this.setState({ cancleShow: true, SearchBlank: false }, () => {\r\n          if (onClickSearch) {\r\n            return onClickSearch({\r\n              selectdValue: select\r\n                ? this.state.selectdValue\r\n                  ? this.state.selectdValue.value\r\n                  : selectOptions.selectdValue.value\r\n                : null,\r\n              value: this.SearchInput.value,\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        this.setState({ SearchBlank: true });\r\n\r\n        this.SearchInput.focus();\r\n      }\r\n    } else {\r\n      if (onSearchKeyUp) {\r\n        onSearchKeyUp();\r\n      }\r\n    }\r\n  } //键盘enter事件\r\n  render() {\r\n    const {\r\n      width,\r\n      select,\r\n      selectChange,\r\n      placeHolder,\r\n      selectOptions,\r\n      onClickSearch,\r\n      onCancelSearch,\r\n      className,\r\n      CancelBtnShow,\r\n      Value,\r\n      onChange,\r\n    } = this.props;\r\n\r\n    let CancelBtnDisplay = CancelBtnShow\r\n      ? CancelBtnShow === \"y\"\r\n        ? \"block\"\r\n        : \"none\"\r\n      : this.state.cancleShow === true\r\n      ? \"block\"\r\n      : \"none\";\r\n\r\n    return (\r\n      <div\r\n        className={`search_container ${className ? className : \"\"}  ${\r\n          this.state.SearchBlank ? \"border\" : \"\"\r\n        }`}\r\n        style={{\r\n          width: width ? width : \"\",\r\n          borderColor: this.state.SearchBlank\r\n            ? \"#ff0000\"\r\n            : this.state.inputFocus\r\n            ? \"#5897ed\"\r\n            : \"#bac7d9\",\r\n        }}\r\n      >\r\n        <table className=\"search_wrapper_table\">\r\n          <tbody>\r\n            <tr>\r\n              {\r\n                //控制下拉部分的宽度\r\n                select ? (\r\n                  <td\r\n                    style={{\r\n                      width:\r\n                        selectOptions && selectOptions.width\r\n                          ? selectOptions.width\r\n                          : \"86px\",\r\n                    }}\r\n                  >\r\n                    <div className=\"search_select_wrapper\">\r\n                      <span\r\n                        className=\"search_select_span\"\r\n                        ref=\"search_select_span\"\r\n                        onClick={this.toggleSelectd.bind(this)}\r\n                        style={{\r\n                          width:\r\n                            selectOptions && selectOptions.width\r\n                              ? selectOptions.width - 14\r\n                              : \"\",\r\n                        }}\r\n                      >\r\n                        <span\r\n                          className={`search_select_icon ${\r\n                            this.state.selectShow === true\r\n                              ? \"search_slide_icon\"\r\n                              : \"\"\r\n                          }`}\r\n                        ></span>\r\n                        {\r\n                          // 判断是否有state的选中值（this.state.selectdValue）?使用state.selectdValue值：(判断是否有外界传值)?使用外界传值:''\r\n\r\n                          selectOptions && selectOptions.selectdValue ? (\r\n                            <span\r\n                              className=\"search_select_text\"\r\n                              data-value={selectOptions.selectdValue.value}\r\n                              title={selectOptions.selectdValue.title}\r\n                            >\r\n                              {selectOptions.selectdValue.title}\r\n                            </span>\r\n                          ) : this.state.selectdValue ? (\r\n                            <span\r\n                              className=\"search_select_text\"\r\n                              data-value={this.state.selectdValue.value}\r\n                              title={this.state.selectdValue.title}\r\n                            >\r\n                              {this.state.selectdValue.title}\r\n                            </span>\r\n                          ) : (\r\n                            \"\"\r\n                          )\r\n                        }\r\n                      </span>\r\n                      <ul className=\"search_select_ul\" ref=\"search_select_ul\">\r\n                        {\r\n                          //选项列表 (是否外界传值)？：使用外界值：''\r\n                          selectOptions && selectOptions.selectList\r\n                            ? selectOptions.selectList.map((item, k) => {\r\n                                return (\r\n                                  <li\r\n                                    key={k}\r\n                                    onClick={this.changeSelect.bind(this, {\r\n                                      value: item.value,\r\n                                      title: item.title,\r\n                                    })}\r\n                                    className=\"search_select_li\"\r\n                                    data-value={item.value}\r\n                                    title={item.title}\r\n                                  >\r\n                                    {item.title}\r\n                                  </li>\r\n                                );\r\n                              })\r\n                            : \"\"\r\n                        }\r\n                      </ul>\r\n                      <span className=\"search_select_gap\"></span>\r\n                    </div>\r\n                  </td>\r\n                ) : null\r\n              }\r\n              <td className=\"search_left_td\">\r\n                <input\r\n                  ref={(ref) => (this.SearchInput = ref)}\r\n                  className={`search_text_input`}\r\n                  type=\"text\"\r\n                  placeholder={placeHolder ? placeHolder : \"输入关键词快速搜索\"}\r\n                  onFocus={this.onInputFocus.bind(this)}\r\n                  onBlur={this.onInputBlur.bind(this)}\r\n                  onKeyUp={this.handleEnterKey.bind(this)}\r\n                  value={Value ? Value : this.state.Value}\r\n                  onChange={onChange ? onChange : this.InputChange.bind(this)}\r\n                />\r\n                <input\r\n                  className=\"search_cancel_input\"\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    this.setState({ cancleShow: false, Value: \"\" }, () => {\r\n                      this.SearchInput.value = \"\";\r\n                      if (onCancelSearch) {\r\n                        onCancelSearch({\r\n                          selectdValue: select\r\n                            ? this.state.selectdValue\r\n                              ? this.state.selectdValue.value\r\n                              : selectOptions.selectdValue.value\r\n                            : null,\r\n\r\n                          value: \"\",\r\n                        });\r\n                      }\r\n                    });\r\n                  }}\r\n                  style={{ display: CancelBtnDisplay }}\r\n                />\r\n              </td>\r\n              <td className=\"search_right_td\">\r\n                <div\r\n                  className=\"search_btn_input\"\r\n                  onClick={(e) => this.SearchClick(e)}\r\n                ></div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 空数据提示\r\n * */\r\nclass Empty extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      type: props.type,\r\n      title: props.title,\r\n      style: props.style,\r\n      className: props.className ? props.className : \"\",\r\n      noTitle: props.noTitle,\r\n      className_1: \"tips-error-1\",\r\n      imageStyle: props.imageStyle,\r\n      titleStyle: !props.noTitle\r\n        ? props.titleStyle\r\n          ? props.titleStyle\r\n          : \"\"\r\n        : \"noTitle\",\r\n    };\r\n  }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  componentDidMount(nextProps) {\r\n    const { style, title } = this.props;\r\n\r\n    this.setState({\r\n      title: title,\r\n      style: style,\r\n    });\r\n    this.selectType(this.state.type);\r\n  }\r\n\r\n  selectType = (type) => {\r\n    let className_1 = \"tips-error-1\";\r\n    switch (type) {\r\n      case \"1\":\r\n        if (!this.state.title) this.setState({ title: \"请选择要查看的学校\" });\r\n        className_1 = \"tips-error-1\";\r\n        break;\r\n      case \"2\":\r\n        if (!this.state.title) this.setState({ title: \"早起的鸟儿有虫吃~\" });\r\n        className_1 = \"tips-error-2\";\r\n        break;\r\n      case \"3\":\r\n        if (!this.state.title)\r\n          this.setState({ title: \"空空如也，暂时还没有资源～\" });\r\n        className_1 = \"tips-error-3\";\r\n        break;\r\n      case \"4\":\r\n        if (!this.state.title)\r\n          this.setState({ title: \"空空如也，暂时还没有资料～\" });\r\n        className_1 = \"tips-error-4\";\r\n        break;\r\n      case \"5\":\r\n        if (!this.state.title)\r\n          this.setState({ title: \"无搜索结果，换个词试试吧~\" });\r\n        className_1 = \"tips-error-5\";\r\n        break;\r\n      default:\r\n        if (!this.state.title) this.setState({ title: \"请选择要查看的学校\" });\r\n        className_1 = \"tips-error-1\";\r\n        break;\r\n    }\r\n\r\n    this.setState({\r\n      className_1: className_1,\r\n    });\r\n  };\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // UNSAFE_componentWillMount() {\r\n  //   this.selectType(this.state.type);\r\n  // }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={`emptyBox ${this.state.className}`}\r\n        style={this.state.style}\r\n      >\r\n        <i\r\n          style={this.state.imageStyle}\r\n          className={`empty ${this.state.className_1}`}\r\n        ></i>\r\n        <span className={`initTitle ${this.state.titleStyle}`}>\r\n          {this.state.title}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 搜索 end\r\n * */\r\n/*\r\n * 选择组件（单选、多选、全选） start\r\n * */\r\nclass Radio extends React.Component {\r\n  render() {\r\n    const { children, type, ...reset } = this.props;\r\n\r\n    let ClassName = \"\";\r\n\r\n    switch (type) {\r\n      case \"gray\":\r\n        ClassName = \"ant-radio-gray\";\r\n\r\n        break;\r\n\r\n      case \"green\":\r\n        ClassName = \"ant-radio-green\";\r\n\r\n        break;\r\n\r\n      default:\r\n        ClassName = \"\";\r\n    }\r\n\r\n    return (\r\n      <ConfigProvider locale={zhCN}>\r\n        <AntRadio className={ClassName} {...reset}>\r\n          {children}\r\n        </AntRadio>\r\n      </ConfigProvider>\r\n    );\r\n  }\r\n}\r\nclass RadioGroup extends React.Component {\r\n  render() {\r\n    const { children, ...reset } = this.props;\r\n    return (\r\n      <ConfigProvider locale={zhCN}>\r\n        <AntRadio.Group {...reset}>{children}</AntRadio.Group>\r\n      </ConfigProvider>\r\n    );\r\n  }\r\n}\r\nclass CheckBox extends React.Component {\r\n  render() {\r\n    const { children, className, type, ...reset } = this.props;\r\n\r\n    let CheckClassName = \"\";\r\n\r\n    switch (type) {\r\n      case \"gray\":\r\n        CheckClassName = \"ant-checkbox-gray\";\r\n\r\n        break;\r\n\r\n      case \"circle\":\r\n        CheckClassName = \"ant-checkbox-circle\";\r\n\r\n        break;\r\n\r\n      default:\r\n        CheckClassName = \"\";\r\n    }\r\n\r\n    return (\r\n      <ConfigProvider locale={zhCN}>\r\n        <AntCheckBox\r\n          className={`${className ? className : \"\"} ${CheckClassName}`}\r\n          {...reset}\r\n        >\r\n          {children}\r\n        </AntCheckBox>\r\n      </ConfigProvider>\r\n    );\r\n  }\r\n}\r\nclass CheckBoxGroup extends React.Component {\r\n  render() {\r\n    const { children, ...reset } = this.props;\r\n    return (\r\n      <ConfigProvider locale={zhCN}>\r\n        <AntCheckBox.Group {...reset}>{children}</AntCheckBox.Group>\r\n      </ConfigProvider>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 选择组件（单选、多选、全选） end\r\n * */\r\n\r\n/*\r\n * table组件 start\r\n * */\r\nclass Table extends React.Component {\r\n  render() {\r\n    const { children, ...reset } = this.props;\r\n    return (\r\n      <ConfigProvider locale={zhCN}>\r\n        <AntTable {...reset}>{children}</AntTable>\r\n      </ConfigProvider>\r\n    );\r\n  }\r\n}\r\n/*\r\n * table组件 end\r\n * */\r\n/*\r\n * 分页组件 start\r\n * */\r\nclass PageComponent extends React.Component {\r\n  render() {\r\n    const { children, size, className, showSizeChanger, ...reset } = this.props;\r\n\r\n    return (\r\n      <ConfigProvider locale={zhCN}>\r\n        <AntPagination\r\n          className={`${className ? className : \"\"} ${\r\n            size && size === \"micro\" ? \"micro\" : \"\"\r\n          } `}\r\n          size={size}\r\n          showSizeChanger={showSizeChanger}\r\n          showTotal={\r\n            showSizeChanger\r\n              ? (total) => (\r\n                  <span>\r\n                    共<span style={{ color: \"#ff6600\" }}>{total}</span>条\r\n                  </span>\r\n                )\r\n              : () => {}\r\n          }\r\n          {...reset}\r\n        >\r\n          {children}\r\n        </AntPagination>\r\n      </ConfigProvider>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 分页组件 end\r\n * */\r\n\r\n/**\r\n * @description: 封装的错误提醒\r\n * @param {*}\r\n * @return {*component}\r\n */\r\nexport class ErrorAlert extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      show: props.show,\r\n      autoHide: props.autoHide ? props.autoHide : false,\r\n      type:props.type ? props.type : props.autoHide ? \"warn\" :  \"btn-error\",\r\n    };\r\n  }\r\n  // componentWillReceiveProps(nextProps){\r\n  //   this.setState({\r\n  //     // show: nextProps.show,\r\n  //     autoHide:nextProps.autoHide?nextProps.autoHide:false,\r\n  //     type:nextProps.autoHide?'warn':nextProps.type?nextProps.type:'btn-error',\r\n  //   })\r\n  // }\r\n  onOk = () => {\r\n    let { onOk } = this.props;\r\n    typeof onOk === \"function\" && onOk();\r\n    this.setState({\r\n      show: false,\r\n    });\r\n  };\r\n\r\n  onCancel = () => {\r\n    let { onCancel } = this.props;\r\n    typeof onCancel === \"function\" && onCancel();\r\n    this.setState({\r\n      show: false,\r\n    });\r\n  };\r\n  onClose = () => {\r\n    let { onClose } = this.props;\r\n    typeof onClose === \"function\" && onClose();\r\n    this.setState({\r\n      show: false,\r\n    });\r\n  };\r\n  onHide = () => {\r\n    typeof this.state.autoHide === \"function\" && this.state.autoHide();\r\n    this.state.autoHide && this.onClose();\r\n  };\r\n  render() {\r\n    // console.log(this.state.show)\r\n    return (\r\n      <Alert\r\n        show={this.state.show}\r\n        type={this.state.type}\r\n        title={this.props.title}\r\n        onOk={this.onOk}\r\n        onCancel={this.onCancel}\r\n        onClose={this.onClose}\r\n        cancelShow={this.props.cancelShow ? \"y\" : \"n\"}\r\n        onHide={this.onHide}\r\n      ></Alert>\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * @description: 高阶组件，封装组件挂载在alert上\r\n * @param {*component}\r\n * @return {*component}\r\n */\r\n// 暂时不能用\r\nexport const withAlert = (Component) => {\r\n  if (!(Component instanceof Object)) {\r\n    console.log(\"Component 不是组件:\" + Component);\r\n    return;\r\n  }\r\n  let AlertDom = document.getElementById(\"alert\");\r\n  if (!AlertDom) {\r\n    //alert节点不存在，创建一个\r\n    let body = document.getElementsByTagName(\"body\")[0];\r\n    let alert = document.createElement(\"div\");\r\n    alert.setAttribute(\"id\", \"alert\");\r\n    body.appendChild(alert);\r\n    AlertDom = document.getElementById(\"alert\");\r\n  }\r\n  ReactDOM.render(Component, AlertDom);\r\n};\r\n\r\n/**\r\n * @description: 错误提示\r\n * @param {*}\r\n * @return {*}\r\n */\r\nfunction Tip(props) {\r\n  let { className, children, ...reset } = props;\r\n  return (\r\n    <Tooltip\r\n      getPopupContainer={(e) => e.parentNode}\r\n      placement={\"right\"}\r\n      overlayClassName={`lg-tip ${className ? className : \"\"}`}\r\n      {...reset}\r\n    >\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n}\r\n/**\r\n * @description: 下拉选择器\r\n * @param {*}\r\n * @return {*}\r\n */\r\nfunction DropDownComponent(props) {\r\n  const {\r\n    // value,\r\n    dropList,\r\n    width,\r\n    className,\r\n    dropdownClassName,\r\n    style,\r\n    title,\r\n    onSelect,\r\n    ...reset\r\n  } = props;\r\n  // console.log(props);\r\n  return (\r\n    <div\r\n      className={`lg-dropdown ${!title ? \"second-level-dropdown\" : \"\"} ${\r\n        className ? className : \"\"\r\n      }`}\r\n    >\r\n      {title ? <span className=\"dropdown-title\">{title}:</span> : \"\"}\r\n      <Select\r\n        className={`dropdown-box ${dropdownClassName ? dropdownClassName : \"\"}`}\r\n        width={width}\r\n        style={{ width: (width ? width : 200) + \"px\", ...style }}\r\n        onSelect={(e, option) => {\r\n          typeof onSelect === \"function\" &&\r\n            onSelect(e, {\r\n              ...option,\r\n              ...dropList.find((child) => child.value === e),\r\n            });\r\n        }}\r\n        {...reset}\r\n      >\r\n        {dropList instanceof Array &&\r\n          dropList.map((child, index) => {\r\n            return (\r\n              <Option value={child.value} key={index}>\r\n                {child.title}\r\n              </Option>\r\n            );\r\n          })}\r\n      </Select>\r\n    </div>\r\n  );\r\n}\r\n\r\n/*\r\n * 弹出框\r\n * */\r\nclass Modal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      afterClose: props.afterClose /*Modal 完全关闭后的回调*/,\r\n      bodyStyle: props.bodyStyle /*Modal body 样式*/,\r\n      closable: props.closable /*是否显示右上角的关闭按钮*/,\r\n      footer:\r\n        props.footer /*底部内容，当不需要默认底部按钮时，可以设为 footer={null}*/,\r\n      mask: props.mask /*是否展示遮罩*/,\r\n      maskClosable: props.maskClosable\r\n        ? props.maskClosable\r\n        : false /*Modal 完全关闭后的回调*/,\r\n      maskStyle: props.maskStyle /*遮罩样式*/,\r\n      okText: props.okText /*确认按钮文字*/,\r\n      okType: props.okType /*确认按钮类型*/,\r\n      style: props.style /*可用于设置浮层的样式，调整浮层位置等*/,\r\n      title: props.title /*标题*/,\r\n      width: props.width /*宽度*/,\r\n      onCancel: props.onCancel /*点击遮罩层或右上角叉或取消按钮的回调*/,\r\n      onOk: props.onOk /*点击确定回调*/,\r\n      visible: props.visible /*对话框是否可见*/,\r\n      className: props.className ? props.className : \"\" /**/,\r\n      destroyOnClose: props.destroyOnClose ? props.destroyOnClose : true,\r\n      ModalStyle: \"Modal-1\",\r\n    };\r\n  }\r\n\r\n  selectType(type) {\r\n    let width = 810;\r\n    let ModalStyle = \"Modal-1\";\r\n    switch (type) {\r\n      case \"1\":\r\n        width = 810;\r\n        ModalStyle = \"Modal-1\";\r\n        break;\r\n      case \"2\":\r\n        width = 810;\r\n        ModalStyle = \"Modal-2\";\r\n        this.setState({\r\n          footer: null,\r\n        });\r\n        break;\r\n      case \"3\":\r\n        width = 588;\r\n        ModalStyle = \"Modal-3\";\r\n        break;\r\n      default:\r\n        width = 810;\r\n        ModalStyle = \"Modal-1\";\r\n    }\r\n    this.setState({\r\n      width: this.props.width ? this.props.width : width,\r\n      ModalStyle: ModalStyle,\r\n    });\r\n    const Ref = createRef();\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.selectType(this.props.type);\r\n  }\r\n\r\n  // UNSAFE_componentWillReceiveProps(nextProps) {\r\n  //   const { title, bodyStyle, className, footer, mask } = nextProps;\r\n\r\n  //   this.selectType(this.props.type);\r\n\r\n  //   this.setState({ title: title, bodyStyle, className, footer, mask });\r\n  // }\r\n  // 拖拽modal\r\n\r\n  componentDidMount() {\r\n    const { title, bodyStyle, className, footer, mask } = this.props;\r\n\r\n    // this.selectType(this.props.type);\r\n\r\n    // this.setState({ title: title, bodyStyle, className, footer, mask });\r\n    //         let modalHeader = $('.ant-modal-header');\r\n    //         let modal = $(this.refs.Modal);\r\n    //         console.log(modalHeader,modal)\r\n    //         modal.click((e)=>{\r\n    // console.log(e)\r\n    //         })\r\n    //         modal.mousedown(function(e) {\r\n    //             // e.pageX\r\n    //             console.log('215')\r\n    //             var positionDiv = $(this).offset();\r\n    //             var distenceX = e.pageX - positionDiv.left;\r\n    //             var distenceY = e.pageY - positionDiv.top;\r\n    //             //alert(distenceX)\r\n    //             // alert(positionDiv.left);\r\n    //             $(document).mousemove(function(e) {\r\n    //                 var x = e.pageX - distenceX;\r\n    //                 var y = e.pageY - distenceY;\r\n    //                 if (x < 0) {\r\n    //                     x = 0;\r\n    //                 } else if (x > $(document).width() - modal.outerWidth(true)) {\r\n    //                     x = $(document).width() - modal.outerWidth(true);\r\n    //                 }\r\n    //                 if (y < 0) {\r\n    //                     y = 0;\r\n    //                 } else if (y > $(document).height() - modal.outerHeight(true)) {\r\n    //                     y = $(document).height() - $modal.outerHeight(true);\r\n    //                 }\r\n    //                 modal.css({\r\n    //                     'left': x + 'px',\r\n    //                     'top': y + 'px'\r\n    //                 });\r\n    //             });\r\n    //             $(document).mouseup(function() {\r\n    //                 $(document).off('mousemove');\r\n    //             });\r\n    //         });\r\n    /* $('.ant-modal').each((index,that)=>{\r\n\r\n            console.log($(that).width());\r\n\r\n            $(that).css({\r\n\r\n                left:($(window).width()-$(that).width()/2)+'px',\r\n\r\n                top:($(window).height()-$(that).height()/2)+'px',\r\n\r\n            });\r\n\r\n        });\r\n\r\n        let xTemp, yTemp;\r\n\r\n        let can_move = false;\r\n\r\n        $(document).on('dragstart', '.ant-modal-header', function(e) { return false; });\r\n\r\n        $(document).on('mousedown', '.ant-modal-header', function(event) {\r\n\r\n            let $win = $(event.target).closest('.ant-modal');\r\n\r\n            can_move = true;\r\n\r\n            $(event.target).css('cursor', 'move');\r\n\r\n            let mx = event.pageX;\r\n\r\n            let my = event.pageY;\r\n\r\n            xTemp = mx - parseInt($win.offset().left);\r\n\r\n            yTemp = my - parseInt($win.offset().top);\r\n\r\n            console.log(xTemp,yTemp);\r\n\r\n        });\r\n        //var win;\r\n        ///MSIE 8.0/.test(window.navigator.userAgent) ? win = document : win = window;\r\n\r\n        $(window).mousemove(function(event) {\r\n\r\n            if (can_move) {\r\n\r\n                let $win = $(event.target).closest('.ant-modal');\r\n\r\n                let $window = $(window);\r\n\r\n                let mx = event.pageX;\r\n\r\n                let my = event.pageY;\r\n\r\n                if (mx - xTemp > 0 && mx - xTemp < $window.width() - $win.width()) {\r\n\r\n                    console.log(mx - xTemp);\r\n\r\n                    $win.css('left', mx - xTemp+'px');\r\n\r\n                }\r\n\r\n                if (my - yTemp > 0 && my - yTemp < $window.height() - $win.height()) {\r\n\r\n                    console.log(my - yTemp);\r\n\r\n                    $win.css('top', my - yTemp+'px');\r\n\r\n                }\r\n\r\n\r\n\r\n            }\r\n\r\n        }).mouseup(function(event) {\r\n\r\n            can_move = false;\r\n\r\n            $('.ant-modal-header').css('cursor', 'default');\r\n\r\n        });*/\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <AntdModal\r\n        // ref={ref=>this.Modal=ref}\r\n        ref={this.Ref}\r\n        onOk={this.state.onOk}\r\n        onCancel={this.state.onCancel}\r\n        title={this.state.title}\r\n        className={`initModel ${this.state.ModalStyle} ${this.state.className}`}\r\n        style={this.state.style}\r\n        okText={this.state.okText}\r\n        maskClosable={this.state.maskClosable}\r\n        mask={this.state.mask}\r\n        maskStyle={this.props.maskStyle}\r\n        closable={this.state.closable}\r\n        destroyOnClose={this.state.destroyOnClose}\r\n        bodyStyle={this.state.bodyStyle}\r\n        afterClose={this.state.afterClose}\r\n        visible={this.props.visible}\r\n        centered={this.props.centered ? this.props.centered : true}\r\n        width={this.state.width}\r\n        zIndex={this.state.zIndex}\r\n        closeIcon={\r\n          this.state.ModalStyle === \"Modal-1\" ? (\r\n            <i className={\"modal-close-icon\"}></i>\r\n          ) : null\r\n        }\r\n        footer={\r\n          this.state.footer === null\r\n            ? null\r\n            : this.state.footer\r\n            ? this.state.footer\r\n            : [\r\n                <Button\r\n                  key=\"onOk\"\r\n                  type=\"primary\"\r\n                  size=\"small\"\r\n                  color=\"green\"\r\n                  onClick={this.state.onOk}\r\n                >\r\n                  {this.props.okText ? this.props.okText : \"确定\"}\r\n                </Button>,\r\n                <Button\r\n                  key=\"onCancel\"\r\n                  size=\"small\"\r\n                  color=\"blue\"\r\n                  onClick={this.state.onCancel}\r\n                >\r\n                  {this.props.cancelText ? this.props.cancelText : \"取消\"}\r\n                </Button>,\r\n              ]\r\n        }\r\n        id=\"AntdModal\"\r\n      >\r\n        {this.props.children}\r\n      </AntdModal>\r\n    );\r\n  }\r\n}\r\n/*\r\n * 按钮组件\r\n * */\r\n\r\nclass Button extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      type: props.type /*type:primary、default、默认primary*/,\r\n      size: props.size /*size:large、normal、small默认normal*/,\r\n      disabled: props.disabled ? true : false,\r\n      color: props.color,\r\n      value: props.value,\r\n      shape: props.shape /*shape:round、circle、默认border-radius:4px*/,\r\n      onClick: props.onClick,\r\n      onChange: props.onChange,\r\n      style: props.style,\r\n      className: props.className ? props.className : \"\",\r\n    };\r\n  }\r\n  componentWillReceiveProps(props) {\r\n    this.setState({\r\n      type: props.type /*type:primary、default、默认primary*/,\r\n      size: props.size /*size:large、normal、small默认normal*/,\r\n      disabled: props.disabled ? true : false,\r\n      color: props.color,\r\n      value: props.value,\r\n      shape: props.shape /*shape:round、circle、默认border-radius:4px*/,\r\n      onClick: props.onClick,\r\n      onChange: props.onChange,\r\n      style: props.style,\r\n      className: props.className ? props.className : \"\",\r\n    });\r\n  }\r\n\r\n  /*\r\n   * size筛选:large、normal、small，不写默认为normal\r\n   * */\r\n  HandleSize = (size) => {\r\n    switch (size) {\r\n      case \"large\":\r\n        return \"btn-large\";\r\n      case \"normal\":\r\n        return \"btn-normal\";\r\n      case \"small\":\r\n        return \"btn-small\";\r\n      default:\r\n        return \"btn-size\";\r\n    }\r\n  };\r\n\r\n  /*\r\n   * color筛选:orange、green、blue、red、mazarine(深蓝色)，不写默认为blue\r\n   * */\r\n  HandleColor = (color, disabled, type) => {\r\n    if (type === \"primary\") {\r\n      if (disabled) return \"btn-disabled\";\r\n      else {\r\n        switch (color) {\r\n          case \"orange\":\r\n            return \"btn-orange\";\r\n          case \"green\":\r\n            return \"btn-green\";\r\n          case \"blue\":\r\n            return \"btn-blue\";\r\n          case \"red\":\r\n            return \"btn-red\";\r\n          case \"mazarine\":\r\n            return \"btn-mazarine\";\r\n          default:\r\n            return \"btn-orange\";\r\n        }\r\n      }\r\n    } else if (type === \"default\") {\r\n      if (disabled) return \"btn-disabled-default\";\r\n      else {\r\n        switch (color) {\r\n          case \"orange\":\r\n            return \"btn-orange-default\";\r\n          case \"green\":\r\n            return \"btn-green-default\";\r\n          case \"blue\":\r\n            return \"btn-blue-default\";\r\n          case \"red\":\r\n            return \"btn-red-default\";\r\n          case \"mazarine\":\r\n            return \"btn-mazarine-default\";\r\n          default:\r\n            return \"btn-orange-default\";\r\n        }\r\n      }\r\n    } else {\r\n      if (disabled) return \"btn-disabled\";\r\n      else {\r\n        switch (color) {\r\n          case \"orange\":\r\n            return \"btn-orange\";\r\n          case \"green\":\r\n            return \"btn-green\";\r\n          case \"blue\":\r\n            return \"btn-blue\";\r\n          case \"red\":\r\n            return \"btn-red\";\r\n          case \"mazarine\":\r\n            return \"btn-mazarine\";\r\n          default:\r\n            return \"btn-orange\";\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  handleHeight = (height) => {\r\n    return {\r\n      height: height + \"px\",\r\n      lineHeight: height + \"px\",\r\n    };\r\n  };\r\n  handleWidth = (width) => {\r\n    return {\r\n      width: width + \"px\",\r\n    };\r\n  };\r\n\r\n  handleStyle = () => {\r\n    let style = this.state.style ? this.state.style : {};\r\n    if (this.props.height) {\r\n      style = Object.assign({}, style, this.handleHeight(this.props.height));\r\n    }\r\n    if (this.props.width) {\r\n      style = Object.assign({}, style, this.handleWidth(this.props.width));\r\n    }\r\n    // console.log(style)\r\n    return { style };\r\n  };\r\n  render() {\r\n    return (\r\n      <ConfigProvider locale={zhCN}>\r\n        <AntdButton\r\n          className={`Button ${this.HandleSize(\r\n            this.state.size\r\n          )} ${this.HandleColor(\r\n            this.state.color,\r\n            this.state.disabled,\r\n            this.state.type\r\n          )} ${this.state.className}`}\r\n          shape={this.state.shape}\r\n          disabled={this.state.disabled}\r\n          onClick={this.state.onClick}\r\n          style={this.state.style}\r\n          block={this.props.block}\r\n          href={this.props.href}\r\n          target={this.props.target}\r\n        >\r\n          {this.props.children ? this.props.children : this.state.value}\r\n        </AntdButton>\r\n      </ConfigProvider>\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * @description: 空标签，通过传入组件来控制是否渲染组件，方便做是否使用操作\r\n * @param {*}\r\n * @return {*}\r\n */\r\nfunction EmptyReact(props) {\r\n  let { component: Component, children,props:Props } = props;\r\n\r\n  return <>{Component ? <Component {...Props}>{children}</Component> : <>{children}</>}</>;\r\n}\r\nconst PagiNation = memo(PageComponent);\r\nconst Alert = memo(AppAlert);\r\nconst DropDown = memo(DropComponent);\r\nconst Dropdown = memo(DropDownComponent);\r\nexport {\r\n  Alert,\r\n  Loading,\r\n  DropDown,\r\n  Search,\r\n  Empty,\r\n  PagiNation,\r\n  Table,\r\n  CheckBoxGroup,\r\n  CheckBox,\r\n  RadioGroup,\r\n  Radio,\r\n  Tip,\r\n  Modal,\r\n  Button,\r\n  Dropdown,\r\n  EmptyReact,\r\n};\r\n","\r\n/* eslint-disable no-undef */\r\n// import { func } from \"prop-types\";\r\n\r\n// import config from \"./config\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport $ from \"jquery\";\r\nimport { ErrorAlert } from \"../component/common\";\r\nimport resolve from \"resolve\";\r\n//对象深度对比\r\nexport const deepCompare = (x, y) => {\r\n  var i, l, leftChain, rightChain;\r\n\r\n  function compare2Objects(x, y) {\r\n    var p;\r\n\r\n    // remember that NaN === NaN returns false\r\n    // and isNaN(undefined) returns true\r\n    if (\r\n      isNaN(x) &&\r\n      isNaN(y) &&\r\n      typeof x === \"number\" &&\r\n      typeof y === \"number\"\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    // Compare primitives andexport functions.\r\n    // Check if both arguments link to the same object.\r\n    // Especially useful on the step where we compare prototypes\r\n    if (x === y) {\r\n      return true;\r\n    }\r\n\r\n    // Works in case whenexport functions are created in constructor.\r\n    // Comparing dates is a common scenario. Another built-ins?\r\n    // We can even handleexport functions passed across iframes\r\n    if (\r\n      (typeof x === \"function\" && typeof y === \"function\") ||\r\n      (x instanceof Date && y instanceof Date) ||\r\n      (x instanceof RegExp && y instanceof RegExp) ||\r\n      (x instanceof String && y instanceof String) ||\r\n      (x instanceof Number && y instanceof Number)\r\n    ) {\r\n      return x.toString() === y.toString();\r\n    }\r\n\r\n    // At last checking prototypes as good as we can\r\n    if (!(x instanceof Object && y instanceof Object)) {\r\n      return false;\r\n    }\r\n\r\n    if (x.isPrototypeOf(y) || y.isPrototypeOf(x)) {\r\n      return false;\r\n    }\r\n\r\n    if (x.constructor !== y.constructor) {\r\n      return false;\r\n    }\r\n\r\n    if (x.prototype !== y.prototype) {\r\n      return false;\r\n    }\r\n\r\n    // Check for infinitive linking loops\r\n    if (leftChain.indexOf(x) > -1 || rightChain.indexOf(y) > -1) {\r\n      return false;\r\n    }\r\n\r\n    // Quick checking of one object being a subset of another.\r\n    // todo: cache the structure of arguments[0] for performance\r\n    for (p in y) {\r\n      if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\r\n        return false;\r\n      } else if (typeof y[p] !== typeof x[p]) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    for (p in x) {\r\n      if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\r\n        return false;\r\n      } else if (typeof y[p] !== typeof x[p]) {\r\n        return false;\r\n      }\r\n\r\n      switch (typeof x[p]) {\r\n        case \"object\":\r\n        case \"function\":\r\n          leftChain.push(x);\r\n          rightChain.push(y);\r\n\r\n          if (!compare2Objects(x[p], y[p])) {\r\n            return false;\r\n          }\r\n\r\n          leftChain.pop();\r\n          rightChain.pop();\r\n          break;\r\n\r\n        default:\r\n          if (x[p] !== y[p]) {\r\n            return false;\r\n          }\r\n          break;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  if (arguments.length < 1) {\r\n    return true; //Die silently? Don't know how to handle such case, please help...\r\n    // throw \"Need two or more arguments to compare\";\r\n  }\r\n\r\n  for (i = 1, l = arguments.length; i < l; i++) {\r\n    leftChain = []; //Todo: this can be cached\r\n    rightChain = [];\r\n\r\n    if (!compare2Objects(arguments[0], arguments[i])) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\n//获取url参数\r\nexport function getQueryVariable(variable) {\r\n  // var query =\r\n  // window.location.search.substring(1) ||\r\n  // window.location.href.split(\"?\")[1] ||\r\n  // window.location.href;\r\n  return getUrlQueryVariable(window.location.href, variable);\r\n  // var vars = query.split(\"&\");\r\n  // for (var i = 0; i < vars.length; i++) {\r\n  //   var pair = vars[i].split(\"=\");\r\n  //   if (pair[0] === variable) {\r\n  //     return pair[1];\r\n  //   }\r\n  // }\r\n  // return false;\r\n}\r\n\r\n//获取url参数\r\n/**\r\n * @description: 通过参数url查询是否存在variable键\r\n * @param {*url：链接，variable：所查询的键}\r\n * @return {*boolean}\r\n */\r\nexport function getUrlQueryVariable(url, variable) {\r\n  if (typeof url === \"string\" && !url.includes(\"?\")) {\r\n    //判断是否为字符串和包含？，不是则返回false\r\n    return false;\r\n  }\r\n  let { urlSearch } = divideUrl(url);\r\n  var vars = urlSearch.split(\"&\");\r\n  for (var i = 0; i < vars.length; i++) {\r\n    var pair = vars[i].split(\"=\");\r\n    if (pair[0] === variable) {\r\n      return pair[1];\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n *\r\n * 返回对相应的数据类型\r\n */\r\nexport function getType(data) {\r\n  return Object.prototype.toString.call(data).substring(8).split(/]/)[0];\r\n}\r\n\r\n/**\r\n *\r\n * @param {*} sourceObj\r\n * @param {*} compareObj\r\n *\r\n * 比较对象是否相等\r\n *\r\n */\r\nexport function comparisonObject(sourceObj, compareObj) {\r\n  // eslint-disable-next-line no-throw-literal\r\n  if (arguments.length < 2) throw \"Incorrect number of parameters\";\r\n  let sourceType = getType(sourceObj);\r\n  if (sourceType !== getType(compareObj)) return false;\r\n  // Not objects and arrays\r\n  if (\r\n    sourceType !== \"Array\" &&\r\n    sourceType !== \"Object\" &&\r\n    sourceType !== \"Set\" &&\r\n    sourceType !== \"Map\"\r\n  ) {\r\n    if (sourceType === \"Number\" && sourceObj.toString() === \"NaN\") {\r\n      return compareObj.toString() === \"NaN\";\r\n    }\r\n    if (sourceType === \"Date\" || sourceType === \"RegExp\") {\r\n      return sourceObj.toString() === compareObj.toString();\r\n    }\r\n    return sourceObj === compareObj;\r\n  } else if (sourceType === \"Array\") {\r\n    if (sourceObj.length !== compareObj.length) return false;\r\n    if (sourceObj.length === 0) return true;\r\n    for (let i = 0; i < sourceObj.length; i++) {\r\n      if (!comparisonObject(sourceObj[i], compareObj[i])) return false;\r\n    }\r\n  } else if (sourceType === \"Object\") {\r\n    let sourceKeyList = Reflect.ownKeys(sourceObj);\r\n    let compareKeyList = Reflect.ownKeys(compareObj);\r\n    let key;\r\n    if (sourceKeyList.length !== compareKeyList.length) return false;\r\n    for (let i = 0; i < sourceKeyList.length; i++) {\r\n      key = sourceKeyList[i];\r\n      if (key !== compareKeyList[i]) return false;\r\n      if (!comparisonObject(sourceObj[key], compareObj[key])) return false;\r\n    }\r\n  } else if (sourceType === \"Set\" || sourceType === \"Map\") {\r\n    // 把 Set Map 转为 Array\r\n    if (!comparisonObject(Array.from(sourceObj), Array.from(compareObj)))\r\n      return false;\r\n  }\r\n  return true;\r\n}\r\n// 处理链接，获取lg_tk\r\nexport function urlRemLg_tk(url) {\r\n  let Url = decodeURIComponent(url);\r\n  if (Url.indexOf(\"lg_tk\") === -1) {\r\n    return Url;\r\n  }\r\n  let lg_tk = \"\";\r\n  if (Url.indexOf(\"#\") === -1) {\r\n    lg_tk = Url.split(\"lg_tk=\")[1].split(\"&\")[0];\r\n  } else {\r\n    lg_tk = Url.split(\"lg_tk=\")[1].split(\"#\")[0].split(\"&\")[0];\r\n  }\r\n\r\n  lg_tk = Url.includes(\"&lg_tk=\") ? \"&lg_tk=\" + lg_tk : \"lg_tk=\" + lg_tk;\r\n\r\n  return Url.replace(lg_tk + \"&\", \"\").replace(lg_tk, \"\");\r\n}\r\nexport function removeToken(url) {\r\n  return removeParam(url, \"lg_tk\");\r\n}\r\n/**\r\n * @description: location去除指定键值,可\r\n * @param {*param:string 所去除的键，url：string,要处理的url}\r\n * @return {*success返回url}\r\n */\r\nexport function removeParam(url, param) {\r\n  if (typeof url !== \"string\") {\r\n    console.error(\"url类型应该为String\");\r\n    return url;\r\n  }\r\n  url = decodeURIComponent(url); //解码\r\n  if (url.indexOf(param) === -1 || url.indexOf(\"?\") === -1) {\r\n    //不存在，直接返回\r\n    return url;\r\n  }\r\n  let { urlHash, urlPath, urlSearch } = divideUrl(url);\r\n  urlSearch = noHashUrl(urlSearch, param);\r\n  return urlPath + \"?\" + urlSearch + \"#/\" + urlHash;\r\n}\r\nfunction noHashUrl(urlSearch, param) {\r\n  let params = urlSearch.split(\"&\");\r\n  let search = [];\r\n  for (let i = 0; i < params.length; i++) {\r\n    let pair = params[i].split(\"=\");\r\n    if (pair[0] !== param) {\r\n      search.push(params[i]);\r\n    }\r\n  }\r\n  return search.join(\"&\");\r\n}\r\n/**\r\n * @description: 替换url上的参数\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const addOrgToUrl = (url = \"\", paramName = \"\", replaceWith = \"\") => {\r\n  //url字符串添加参数\r\n  //url:路径地址 paramName：参数名 replaceWith：参数值\r\n  let { urlHash, urlPath, urlSearch } = divideUrl(url);\r\n  let paraStr = paramName + \"=\" + replaceWith;\r\n  // console.log(replaceWith,paramName)\r\n  if (url.indexOf(paramName) > -1) {\r\n    //原本存在\r\n    // var re = eval(\"/(\" + paramName + \"=)([^&]*)/gi\");\r\n    // url = url.replace(re, paramName + \"=\" + replaceWith);\r\n    url =\r\n      urlPath +\r\n      \"?\" +\r\n      noHashUrl(urlSearch, paramName) +\r\n      \"&\" +\r\n      paraStr +\r\n      \"#/\" +\r\n      urlHash;\r\n  } else {\r\n    var idx = url.indexOf(\"?\");\r\n    if (idx < 0) {\r\n      //没有?\r\n      url = urlPath + \"?\" + paraStr + \"#/\" + urlHash;\r\n    } else if (idx >= 0 && idx !== url.length - 1) {\r\n      url = urlPath + \"?\" + urlSearch + \"&\" + paraStr + \"#/\" + urlHash;\r\n    }\r\n  }\r\n  return url;\r\n};\r\n\r\n/**\r\n * @description: 处理url，分为三段，path,search,hash\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst divideUrl = (url) => {\r\n  let urlSearch = \"\";\r\n  let urlHash = \"\";\r\n  let urlPath = \"\";\r\n  let hashIndex = url.indexOf(\"#/\"); //hash 的位置,查询是否有哈希，有先分离，后面加回来\r\n  let searchIndex = url.indexOf(\"?\"); //参数的位置\r\n  if (hashIndex !== -1) {\r\n    //不存在hash\r\n    if (hashIndex < searchIndex) {\r\n      //哈希在前面，直接切\r\n      urlSearch = url.split(\"#/\")[1].split(\"?\")[1];\r\n      urlPath = url.split(\"#/\")[0];\r\n      urlHash = url.split(\"#/\")[1].split(\"?\")[0];\r\n    } else {\r\n      //在后面，需要先去掉哈希\r\n      urlSearch = url.split(\"#/\")[0].split(\"?\")[1];\r\n      urlPath = url.split(\"#/\")[0].split(\"?\")[0];\r\n      urlHash = url.split(\"#/\")[1];\r\n    }\r\n  } else {\r\n    urlSearch = url.split(\"?\")[1];\r\n    urlPath = url.split(\"?\")[0];\r\n  }\r\n  return {\r\n    urlHash,\r\n    urlPath,\r\n    urlSearch,\r\n  };\r\n};\r\n// 处理url适合获取icon\r\nexport const UrlGetIcon = (url) => {\r\n  let urlArr = \"\";\r\n  // console.log(url,url instanceof String,typeof url)\r\n  if (typeof url !== \"string\") {\r\n    return;\r\n  }\r\n  if (url.indexOf(\"://\") !== \"-1\") {\r\n    urlArr = url.split(\"/\").slice(0, 3).join(\"/\");\r\n    // console.log(urlArr)\r\n    return urlArr;\r\n  } else {\r\n    urlArr = url.split(\"/\")[0];\r\n    // console.log(urlArr)\r\n\r\n    return urlArr;\r\n  }\r\n};\r\n\r\n/**\r\n * @description: 数组遍历，下级是对象切存在下级字段可进行深层遍历\r\n * @param {*array:遍历的数组，*childrenKey:代表下级的对象字段,*callback:查找的回调}\r\n * @return {*}\r\n */\r\nexport const deepMap = (\r\n  array,\r\n  callback = () => {},\r\n  childrenKey = \"children\",\r\n  levelback = false, //深遍历到第几层，缺省默认遍历全部，定义为number遍历到该层，从1开始，包括number层\r\n  // 后面的为自己回调用\r\n  level = 1,\r\n  parent = [],\r\n  indexArray = []\r\n) => {\r\n  if (!(array instanceof Array)) {\r\n    return false;\r\n  }\r\n\r\n  array.forEach((child, index) => {\r\n    let IndexArray = indexArray.map((child) => child);\r\n    IndexArray.push(index);\r\n    callback({ child, index, indexArray: IndexArray, level, parent });\r\n    if (\r\n      (!levelback || isNaN(levelback) || level < levelback) &&\r\n      child[childrenKey] instanceof Array\r\n    ) {\r\n      deepMap(\r\n        child[childrenKey],\r\n        callback,\r\n        childrenKey,\r\n        levelback,\r\n        level + 1,\r\n        [child].concat(parent),\r\n        IndexArray\r\n      );\r\n    }\r\n  });\r\n};\r\n// export const requestNextAnimationFrame = (function () {\r\n//   var originalWebkitMethod,\r\n//     wrapper = undefined,\r\n//     callback = undefined,\r\n//     geckoVersion = 0,\r\n//     userAgent = navigator.userAgent,\r\n//     index = 0,\r\n//     self = this;\r\n//   if (window.webkitRequestAnimationFrame) {\r\n//     wrapper =export function (time) {\r\n//       if (time === undefined) {\r\n//         time += new Date();\r\n//       }\r\n//       self.callback(time);\r\n//     };\r\n//     originalWebkitMethod = window.webkitRequestAnimationFrame;\r\n//     window.webkitRequestAnimationFrame =export function (callback=()=>{}, element) {\r\n//       if(!self ){\r\n//         self = this;\r\n//       }\r\n//       console.log(self,this ,callback)\r\n//       self.callback = callback;\r\n//       originalWebkitMethod(wrapper, element);\r\n//     };\r\n//   }\r\n//   if (window.mozRequestAnimationFrame) {\r\n//     index = userAgent.indexOf(\"rv:\");\r\n//     if (userAgent.indexOf(\"Gecko\") !== -1) {\r\n//       geckoVersion = userAgent.substr(index + 3, 3);\r\n//       if (geckoVersion === \"2.0\") {\r\n//         window.mozRequestAnimationFrame = undefined;\r\n//       }\r\n//     }\r\n//   }\r\n\r\n//   return (\r\n//     window.requestNextAnimationFrame ||\r\n//     window.webkitRequestAnimationFrame ||\r\n//     window.mozRequestAnimationFrame ||\r\n//     window.oRequestAnimationFrame ||\r\n//     window.msRequestAnimationFrame ||\r\n//    export function (callback, element) {\r\n//       var start, finish;\r\n//       window.setTimeout(function () {\r\n//         start = +new Date();\r\n//         callback(start);\r\n//         finish = +new Date();\r\n//         self.timeout = 1000 / 60 - (finish - start);\r\n//       }, self.timeout);\r\n//     }\r\n//   );\r\n// })();\r\n\r\nexport const IEVersion = () => {\r\n  let userAgent = navigator.userAgent; //取得浏览器的userAgent字符串\r\n  // console.log(userAgent)\r\n  let isIE =\r\n    userAgent.indexOf(\"compatible\") > -1 && userAgent.indexOf(\"MSIE\") > -1; //判断是否IE<11浏览器\r\n  let isEdge = userAgent.indexOf(\"Edge\") > -1 && !isIE; //判断是否IE的Edge浏览器\r\n  let isIE11 =\r\n    userAgent.indexOf(\"Trident\") > -1 && userAgent.indexOf(\"rv:11.0\") > -1;\r\n  if (isIE) {\r\n    let reIE = new RegExp(\"MSIE (\\\\d+\\\\.\\\\d+);\");\r\n    reIE.test(userAgent);\r\n    let fIEVersion = parseFloat(RegExp[\"$1\"]);\r\n    if (fIEVersion < 10) {\r\n      //IE版本低于10 跳转到错误页面\r\n      //   window.location.href = config.ErrorProxy + \"/browser-tips.html\";\r\n      return false;\r\n      //   console.log(\"版本过低\");\r\n\r\n      //   console.log(fIEVersion);\r\n    } else {\r\n      console.log(\"这是IE10\");\r\n      return true; //IE版本>=10\r\n    }\r\n  } else if (isEdge) {\r\n    console.log(\"这个edge\");\r\n    return true; //edge\r\n  } else if (isIE11) {\r\n    console.log(\"这是IE11\");\r\n    return true; //IE11\r\n  } else {\r\n    console.log(\"不是ie浏览器\");\r\n    return true;\r\n  }\r\n};\r\n// 给教务系统，处理url，改变布局，设置跳转逻辑\r\nexport function checkUrlAndPostMsg(\r\n  { sysid = \"000\", btnName = \"\", url = \"\" },\r\n  useDefault = true,\r\n  func = () => {}\r\n) {\r\n  let iFrame = getQueryVariable(\"iFrame\");\r\n  let isIFrame = false;\r\n  // let { sysid, btnName, url } = params;\r\n  // console.log(iFrame, sysid, btnName, url, arguments);\r\n  if (iFrame === \"true\") {\r\n    isIFrame = true;\r\n\r\n    window.parent.postMessage({ sysid, btnName, url }, \"*\");\r\n  } else if (useDefault) {\r\n    window.open(url);\r\n  }\r\n  if (typeof arguments[arguments.length - 1] === \"function\") {\r\n    arguments[arguments.length - 1](isIFrame);\r\n  }\r\n  // (isIFrame);\r\n  return isIFrame;\r\n}\r\n\r\n// 设置用户角色,模块角色统一在这处理\r\nexport const setRole = (LoginMsg) => {\r\n  // let {\r\n  //   dispatch,\r\n  //   DataState,\r\n  //   PublicState: {\r\n  //     LoginMsg: { UserType, UserClass },\r\n  //   },\r\n  // } = this.props;\r\n  let { UserType, UserClass } = LoginMsg;\r\n  let Role = \"\";\r\n  UserType = parseInt(UserType);\r\n  UserClass = parseInt(UserClass);\r\n  if (UserType === 0 && (UserClass === 1 || UserClass === 2)) {\r\n    //学校管理员（admin_学校代码，创建学校时生成）\r\n    Role = \"Admin-School\";\r\n  } else if (UserType === 0 && (UserClass === 3 || UserClass === 4)) {\r\n    //学院管理员\r\n    Role = \"Admin-College\";\r\n  } else if (UserType === 1) {\r\n    //教师,— UserClass=100000~111111：\r\n    //后5位分别代表：\r\n    //任课教师、班主任、教研者（V3.0无效，恒为0）、学科主管、校领导\r\n    //（V3.0无效，恒为0），值为1时代表有该身份；\r\n    Role = \"Teacher\";\r\n  } else if (UserType === 2) {\r\n    //学生\r\n    Role = \"Student\";\r\n  } else if (UserType === 7) {\r\n    //学校领导（V3.0之后的版本才有此角色）\r\n    // — UserClass=0 校长\r\n    //— UserClass=1 副校长\r\n    //— UserClass=2 教务主任\r\n    Role = \"Leader-School\";\r\n  } else if (UserType === 10) {\r\n    //学院领导（V3.0之后的版本才有此角色）\r\n    // — UserClass=3 院长\r\n    //— UserClass=4 副院长\r\n    Role = \"Leader-College\";\r\n  } else if (UserType === 3) {\r\n    //家长\r\n\r\n    Role = \"Parent\";\r\n  } else if (UserType === 4) {\r\n    //教育专家\r\n\r\n    Role = \"Specialist\";\r\n  } else if (UserType === 5) {\r\n    //教育局领导\r\n\r\n    Role = \"Leader-Education\";\r\n  }\r\n  return { ...LoginMsg, Role };\r\n};\r\n// 数组与与元素 去重添加\r\nexport const noRepeat = (data, value) => {\r\n  //data:Array,value:string\r\n  let end = [];\r\n  data instanceof Array && data.push(value);\r\n  data instanceof Array &&\r\n    data.forEach((child) => {\r\n      // let isRepeat = false;\r\n      // eslint-disable-next-line eqeqeq\r\n      if (child === \"\" || child == undefined) {\r\n        return;\r\n      }\r\n      if (end.length === 0) {\r\n        end.push(child);\r\n      } else {\r\n        if (!end.some((child2) => child2 === child)) {\r\n          end.push(child);\r\n        }\r\n      }\r\n    });\r\n  return end;\r\n};\r\n// 数组与数组去重合并\r\nexport const ArrayNoRepeat = (Arr1 = [], Arr2 = []) => {\r\n  let end = Arr1;\r\n  Arr2 instanceof Array &&\r\n    Arr2.forEach((child, index) => {\r\n      end = noRepeat(end, child);\r\n    });\r\n  return end;\r\n};\r\n/**\r\n * @description:数组内部去重\r\n * @param {*array}\r\n * @return {*array}\r\n */\r\nexport const SimpleArrayNoRepeat = (Arr) => {\r\n  return ArrayNoRepeat(Arr, Arr);\r\n};\r\n// 适配工作平台跳转到对应班级\r\n//array:[classid,classid]\r\nexport function matchParamfromArray(\r\n  { param = \"classid\", array = [] },\r\n\r\n  fn = () => {}\r\n) {\r\n  let Param = getQueryVariable(param);\r\n  let Class = false;\r\n  if (Param && array instanceof Array) {\r\n    array.some((child) => {\r\n      let isTrue = child.value === Param;\r\n      if (isTrue) {\r\n        Class = child;\r\n      }\r\n      return isTrue;\r\n    });\r\n  }\r\n  fn(Class);\r\n  return Class;\r\n}\r\n// 适配工作平台跳转到对应班级\r\n//array:[classid,classid]\r\nexport function matchTypeAdd(\r\n  { param = \"type\" },\r\n\r\n  fn = () => {}\r\n) {\r\n  let Param = getQueryVariable(param);\r\n  let isAdd = false;\r\n  if (Param === \"add\") {\r\n    isAdd = true;\r\n  }\r\n  fn(isAdd);\r\n  return isAdd;\r\n}\r\n// export default {\r\n//   deepCompare,\r\n//   getQueryVariable,\r\n//   getUrlQueryVariable,\r\n//   comparisonObject,\r\n//   urlRemLg_tk,\r\n//   UrlGetIcon,\r\n//   IEVersion,\r\n//   // requestNextAnimationFrame,\r\n//   checkUrlAndPostMsg,\r\n//   setRole,\r\n//   noRepeat,\r\n//   ArrayNoRepeat,\r\n//   matchTypeAdd,\r\n//   matchParamfromArray,\r\n// };\r\n/**\r\n * @description: 存数据到storage,sessionStorage,localStorage\r\n * @param {*key:键,value:值，haveLocalStorage:是否存到localStorage}\r\n * @return {*boolean:是否存成功}\r\n */\r\nexport const setDataStorage = (\r\n  key = \"error\",\r\n  value = \"key is undefined\",\r\n  haveLocalStorage = false\r\n) => {\r\n  value = value instanceof Object ? JSON.stringify(value) : value;\r\n  sessionStorage.setItem(key, value);\r\n  haveLocalStorage && localStorage.setItem(key, value);\r\n};\r\n\r\n/**\r\n * @description: 获取storage的数据\r\n * @param {*key:键，haveLocalStorage:是否取localStorage}\r\n * @return {*value:不存在返回null}\r\n */\r\nexport const getDataStorage = (key, haveLocalStorage = false) => {\r\n  if (key === undefined) {\r\n    console.log(\"Storage key is not undefined\");\r\n    return null;\r\n  }\r\n  let value = \"\";\r\n  if (haveLocalStorage) {\r\n    value = localStorage.getItem(key);\r\n  } else {\r\n    value = sessionStorage.getItem(key);\r\n  }\r\n  if (value === null) {\r\n    console.log(key + \" Storage is not exist\");\r\n\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    value = JSON.parse(value);\r\n  } catch (e) {}\r\n  return value;\r\n};\r\n\r\n/**\r\n * @description: 处理路由pathname,返回数组\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const handleRoute = (pathname) => {\r\n  console.log(\"pathname\", pathname)\r\n  return pathname.substr(1).split(\"/\");\r\n};\r\n\r\n/**\r\n * @description: 项目检查input输入\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function checkInput({ value, regular, success, error }) {\r\n  let fun = () => {};\r\n  value = value || \"\";\r\n  regular = regular || /^[A-Za-z0-9_()\\u4e00-\\u9fa5-]{0,100}$/;\r\n  success = success || fun;\r\n  error = error || fun;\r\n\r\n  if (value === \"\") {\r\n    error(true);\r\n    return;\r\n  }\r\n  // 普通：[A-Za-z0-9_()\\u4e00-\\u9fa5-]\r\n  // 严格：  /^[a-zA-Z0-9_\\u4e00-\\u9fa5][a-zA-Z0-9_\\u4e00-\\u9fa5 ]{0,48}[a-zA-Z0-9_\\u4e00-\\u9fa5]$|^[a-zA-Z0-9_\\u4e00-\\u9fa5]{1,50}$/\r\n  let Test = regular.test(value);\r\n  if (Test) {\r\n    success();\r\n  } else {\r\n    error(false);\r\n  }\r\n}\r\n\r\n/**\r\n * @description: 获取alert节点\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getAlertDom() {\r\n  let AlertDom = document.getElementById(\"alert\");\r\n  if (!AlertDom) {\r\n    //alert节点不存在，创建一个\r\n    let body = document.getElementsByTagName(\"body\")[0];\r\n    let alert = document.createElement(\"div\");\r\n    alert.setAttribute(\"id\", \"alert\");\r\n    body.appendChild(alert);\r\n    AlertDom = document.getElementById(\"alert\");\r\n  }\r\n  return AlertDom;\r\n}\r\n/**\r\n * @description: 打开提示框，自动挂载\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const autoAlert = ({ title, type, autoHide, ...other }) => {\r\n  title = title || \"服务器出现未知异常，请重试或联系管理员\";\r\n\r\n  let AlertDom = getAlertDom();\r\n  ReactDOM.render(\r\n    // eslint-disable-next-line react/react-in-jsx-scope\r\n    <ErrorAlert\r\n      key={\"alert-400-\" + Math.round(Math.random() * 10000)}\r\n      show={true}\r\n      title={title}\r\n      type={type}\r\n      autoHide={autoHide}\r\n      {...other}\r\n    />,\r\n    AlertDom\r\n  );\r\n};\r\n/**\r\n * @description: 防抖，适用滚动、resize\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function debounce(fn, delay) {\r\n  let timer = null;\r\n  return function () {\r\n    if (timer) {\r\n      clearTimeout(timer);\r\n    }\r\n    timer = setTimeout(fn, delay);\r\n  };\r\n}\r\n// 分析文件类型\r\nexport const constructFileType = (fileName) => {\r\n  //moduleType:plan,preview\r\n  let VideoType = [\r\n    \"avi\",\r\n    \"asf\",\r\n    \"wmv\",\r\n    \"avs\",\r\n    \"flv\",\r\n    \"mkv\",\r\n    \"mov\",\r\n    \"3gp\",\r\n    \"mp4\",\r\n    \"mpg\",\r\n    \"mpeg\",\r\n    \"dat\",\r\n    \"ogm\",\r\n    \"vob\",\r\n    \"rm\",\r\n    \"rmvb\",\r\n    \"ts\",\r\n    \"tp\",\r\n    \"ifo\",\r\n    \"nsv\",\r\n    \"m4v\",\r\n    \"m3u8\",\r\n    \"3gpp\",\r\n    \"3gpp2\",\r\n    \"divx\",\r\n    \"f4v\",\r\n    \"ram\",\r\n    \"v8\",\r\n    \"swf\",\r\n    \"m2v\",\r\n    \"asx\",\r\n    \"ndivx\",\r\n    \"xvid\",\r\n  ];\r\n  let AudioType = [\r\n    \"mp3\",\r\n    \"aac\",\r\n    \"wav\",\r\n    \"cda\",\r\n    \"flac\",\r\n    \"m4a\",\r\n    \"mid\",\r\n    \"mka\",\r\n    \"mp2\",\r\n    \"mpa\",\r\n    \"mpc\",\r\n    \"ape\",\r\n    \"ofr\",\r\n    \"ogg\",\r\n    \"ra\",\r\n    \"wv\",\r\n    \"tta\",\r\n    \"ac3\",\r\n    \"dts\",\r\n    \"wma\",\r\n    \"midi\",\r\n  ];\r\n  // 压缩文件类型\r\n  let CompressType = [\r\n    \"rar\",\r\n    \"zip\",\r\n    \"7z\",\r\n    \"arj\",\r\n    \"cab\",\r\n    \"lzh\",\r\n    \"ace\",\r\n    \"gz\",\r\n    \"uue\",\r\n    \"bz2\",\r\n    \"jar\",\r\n    \"iso\",\r\n  ];\r\n  let PicType = [\"jpeg\", \"jpg\", \"tiff\", \"raw\", \"bmp\", \"gif\", \"png\"];\r\n  let type = \"file\"; //默认教案集\r\n  let isDecide = false;\r\n  if (typeof fileName === \"string\") {\r\n    let index = fileName.lastIndexOf(\".\");\r\n    if (index === -1) {\r\n      // 不存在，表示是单纯的字符串，使用教案集\r\n      // if(moduleType==='plan')\r\n      // type = \"plan\";\r\n      // else {\r\n      type = \"unknown\";\r\n      // }\r\n    } else {\r\n      let FileType = fileName.slice(index + 1).toLowerCase();\r\n      VideoType.some((child) => {\r\n        if (child === FileType) {\r\n          //视屏\r\n          type = \"video\";\r\n          isDecide = true;\r\n        }\r\n        return child === FileType;\r\n      });\r\n      AudioType.some((child) => {\r\n        //音频\r\n        if (child === FileType) {\r\n          type = \"audio\";\r\n          isDecide = true;\r\n          return child === FileType;\r\n        }\r\n        return child === FileType;\r\n      });\r\n      PicType.some((child) => {\r\n        //图片\r\n        if (child === FileType) {\r\n          type = \"pic\";\r\n          isDecide = true;\r\n        }\r\n        return child === FileType;\r\n      });\r\n      CompressType.some((child) => {\r\n        //压缩\r\n        if (child === FileType) {\r\n          type = \"zip\";\r\n          isDecide = true;\r\n        }\r\n        return child === FileType;\r\n      });\r\n      if (!isDecide) {\r\n        //前面不匹配\r\n\r\n        if (FileType === \"doc\" || FileType === \"docx\") {\r\n          type = \"doc\";\r\n        } else if (FileType === \"xls\" || FileType === \"xlsx\") {\r\n          type = \"excel\";\r\n        } else if (FileType === \"ppt\") {\r\n          type = \"ppt\";\r\n        } else if (FileType === \"pdf\") {\r\n          type = \"pdf\";\r\n        } else if (FileType === \"html\" || FileType === \"xml\") {\r\n          type = \"html\";\r\n        } else if (FileType === \"txt\") {\r\n          type = \"txt\";\r\n        } else {\r\n          type = \"unknown\";\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return type;\r\n};\r\n\r\n/**\r\n * @description: 文件大小\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const calculateFileSize = (fileSize) => {\r\n  let unit = [\"B\", \"KB\", \"M\", \"G\", \"T\"];\r\n  let i = unit.length - 1;\r\n  let myUnit = \"B\";\r\n  for (i; i >= 0; i--) {\r\n    if (fileSize / Math.pow(1024, i) >= 1) {\r\n      myUnit = unit[i];\r\n      break;\r\n    }\r\n  }\r\n  let str = Math.round((fileSize / Math.pow(1024, i)) * 100) / 100;\r\n  let Size = str.toString() + myUnit;\r\n  // // console.log(i,myUnit,Size)\r\n  return Size;\r\n};\r\n\r\n/**\r\n * @description: 获取平台的token，先url，后session，最后local，如果都没有，直接掉线\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const getToken = () => {\r\n  let token =\r\n    getQueryVariable(\"lg_tk\") ||\r\n    getDataStorage(\"token\") ||\r\n    getDataStorage(\"token\", true);\r\n  return token;\r\n};\r\n\r\n/**\r\n * @description: 使用echarts后，界面resize，对echarts实例要进行重绘\r\n * @param {*echartsInstance:echarts实例，必选，*params:function,返回{width,height},可缺省}\r\n * @return {*}\r\n */\r\nexport const resizeForEcharts = (echartsInstance, fn) => {\r\n  if (!echartsInstance) {\r\n    return;\r\n  }\r\n  $(window).resize(() => {\r\n    let height = null;\r\n    let width = null;\r\n    if (typeof fn === \"function\") {\r\n      let back = fn();\r\n      if (back instanceof Object) {\r\n        height = back.height || null;\r\n        width = back.width || null;\r\n      }\r\n    }\r\n\r\n    echartsInstance.resize(width, height);\r\n  });\r\n};\r\n\r\nfunction getClass(o) {\r\n  //判断数据类型\r\n  return Object.prototype.toString.call(o).slice(8, -1);\r\n}\r\n/**\r\n * @description: 深拷贝\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function deepCopy(obj) {\r\n  var result,\r\n    oClass = getClass(obj);\r\n\r\n  if (oClass === \"Object\") result = {};\r\n  //判断传入的如果是对象，继续遍历\r\n  else if (oClass === \"Array\") result = [];\r\n  //判断传入的如果是数组，继续遍历\r\n  else return obj; //如果是基本数据类型就直接返回\r\n\r\n  for (var i in obj) {\r\n    var copy = obj[i];\r\n\r\n    if (getClass(copy) === \"Object\") result[i] = deepCopy(copy);\r\n    //递归方法 ，如果对象继续变量obj[i],下一级还是对象，就obj[i][i]\r\n    else if (getClass(copy) === \"Array\") result[i] = deepCopy(copy);\r\n    //递归方法 ，如果对象继续数组obj[i],下一级还是数组，就obj[i][i]\r\n    else result[i] = copy; //基本数据类型则赋值给属性\r\n  }\r\n\r\n  return result;\r\n}\r\n// 处理为数组，\r\nexport const changeToArray = (param) => {\r\n  let end = [];\r\n  if (!(param instanceof Array)) {\r\n    // if (!param) {\r\n    //   end = [];\r\n    // }\r\n    if (typeof param === \"object\") {\r\n      for (let i in param) {\r\n        end.push(param[i]);\r\n      }\r\n    } else if (typeof param === \"string\") {\r\n      end = [param];\r\n    } else {\r\n      end = [param];\r\n    }\r\n  } else {\r\n    end = param;\r\n  }\r\n  return end;\r\n};\r\n\r\n/**\r\n * @description: 动态添加标签到dom\r\n * @param {*params:节点的属性，*element：所要添加的标签名，*parent:所添加的标签放到的位置}\r\n * @return {*}\r\n */\r\nexport const addElement = (\r\n  params = {},\r\n  element = \"script\",\r\n  parent = \"body\",\r\n  callback = () => {}\r\n) => {\r\n  try {\r\n    let Element = document.createElement(element);\r\n    // Element = { ...Element, ...params };\r\n    for (let i in params) {\r\n      Element[i] = params[i];\r\n    }\r\n    // 如果params带有id属性，判断dom是否有该节点了\r\n    if (\r\n      params.id &&\r\n      // params.src &&\r\n      document.getElementById(params.id)\r\n      // &&\r\n      // params.src === document.getElementById(params.id).src\r\n    ) {\r\n      callback(false);\r\n      return;\r\n    }\r\n    document[parent].appendChild(Element);\r\n    callback(true);\r\n  } catch (e) {\r\n    callback(false);\r\n\r\n    console.error(e);\r\n  }\r\n};\r\n/**\r\n * @description: 添加script,params传onLoad表示使用同步\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const addScript = async (\r\n  params = {},\r\n  element = \"script\",\r\n  parent = \"body\"\r\n) => {\r\n  // if (params.onLoad) {\r\n  return new Promise((resolve, reject) => {\r\n    addElement(\r\n      {\r\n        type: \"text/javascript\",\r\n        charset: \"utf-8\",\r\n        ...params,\r\n        onload: () => {\r\n          resolve(true);\r\n          typeof params.onLoad === \"function\" && params.onLoad();\r\n        },\r\n      },\r\n      element,\r\n      parent,\r\n      (data) => {\r\n        // if(!data)\r\n        resolve(data);\r\n      }\r\n    );\r\n  });\r\n  // } else {\r\n  //   addElement({ type: \"text/javascript\", ...params }, element, parent);\r\n  // }\r\n};\r\n\r\nexport const SetNaNToNumber = (data) => {\r\n  return isNaN(Number(data)) ? 0 : Number(data);\r\n};\r\n\r\n/**\r\n * @description: 时间转换,单纯的秒分时装换\r\n * @param {*time:要转换的时间，*front：转换前单位，*back：转换后单位}\r\n * 先简单点,分=>时\r\n * @return {*}\r\n */\r\nexport const transTime = (time, front, back) => {\r\n  time = isNaN(time) ? 0 : Number(time);\r\n  let data = {\r\n    time: time,\r\n    unit_zh: \"分钟\",\r\n    unit_En_Up: \"M\",\r\n    unit_En_Low: \"m\",\r\n    // Time_zh: time + \"分\",\r\n  };\r\n  if (back === \"h\" || time >= 60) {\r\n    data.time = Number((time / 60).toFixed(2));\r\n    data.unit_zh = \"小时\";\r\n    data.unit_En_Up = \"H\";\r\n    data.unit_En_Low = \"h\";\r\n  }\r\n  data.Time_zh = data.time + data.unit_zh;\r\n  data.Time_En = data.time + data.unit_En_Up;\r\n  data.Time_En_Low = data.time + data.unit_En_Low;\r\n  return data;\r\n};\r\n// 解决js数字失精问题\r\n// 0.7*100=7.0000000000001\r\n// 0.1+0.2=0.30000000000004\r\n/**\r\n * @description:\r\n * @param {*} number:要操作的数\r\n * @param {*} keepDecimal:保留多少小数，缺省不操作\r\n * @return {*}\r\n */\r\nexport function correctNumber(number = 0, keepDecimal) {\r\n  number = Number(number);\r\n  try {\r\n    let num = parseFloat(number.toPrecision(12));\r\n\r\n    return keepDecimal === undefined && typeof keepDecimal === \"number\"\r\n      ? num\r\n      : Number(num.toFixed(keepDecimal));\r\n  } catch (e) {\r\n    console.log(e);\r\n    return 0;\r\n  }\r\n}\r\n/**\r\n * @description: 判断浏览器内核\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const BrowserMsg = {\r\n  versions: (function () {\r\n    let u = navigator.userAgent,\r\n      app = navigator.appVersion;\r\n    return {\r\n      trident: u.indexOf(\"Trident\") > -1, //IE内核\r\n      presto: u.indexOf(\"Presto\") > -1, //opera内核\r\n      webKit: u.indexOf(\"AppleWebKit\") > -1, //苹果、谷歌内核\r\n      gecko: u.indexOf(\"Gecko\") > -1 && u.indexOf(\"KHTML\") === -1, //火狐内核\r\n      mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端\r\n      ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端\r\n      android: u.indexOf(\"Android\") > -1 || u.indexOf(\"Adr\") > -1, //android终端\r\n      iPhone: u.indexOf(\"iPhone\") > -1, //是否为iPhone或者QQHD浏览器\r\n      iPad: u.indexOf(\"iPad\") > -1, //是否iPad\r\n      webApp: u.indexOf(\"Safari\") === -1, //是否web应该程序，没有头部与底部\r\n      weixin: u.indexOf(\"MicroMessenger\") > -1, //是否微信 （2015-01-22新增）\r\n      qq: u.match(/\\sQQ/i) === \" qq\", //是否QQ\r\n    };\r\n  })(),\r\n  language: (navigator.browserLanguage || navigator.language).toLowerCase(),\r\n};\r\n\r\n/**\r\n * @description: 判断各种浏览器类型和版本\r\n * @param {*} window\r\n * @return {*}\r\n */\r\nexport const Browser=Browser || (function(window){\r\n\tvar document = window.document,\r\n\t\tnavigator = window.navigator,\r\n\t\tagent = navigator.userAgent.toLowerCase(),\r\n\t\t//IE8+支持.返回浏览器渲染当前文档所用的模式\r\n\t\t//IE6,IE7:undefined.IE8:8(兼容模式返回7).IE9:9(兼容模式返回7||8)\r\n\t\t//IE10:10(兼容模式7||8||9)\r\n\t\tIEMode = document.documentMode,\r\n\t\t//chorme\r\n\t\tchrome = window.chrome || false,\r\n\t\tSystem = {\r\n\t\t\t//user-agent\r\n\t\t\tagent : agent,\r\n\t\t\t//是否为IE\r\n\t\t\tisIE : /msie/.test(agent),\r\n\t\t\t//Gecko内核\r\n\t\t\tisGecko: agent.indexOf(\"gecko\")>0 && agent.indexOf(\"like gecko\")<0,\r\n\t\t\t//webkit内核\r\n\t\t\tisWebkit: agent.indexOf(\"webkit\")>0,\r\n\t\t\t//是否为标准模式\r\n\t\t\tisStrict: document.compatMode === \"CSS1Compat\",\r\n\t\t\t//是否支持subtitle\r\n\t\t\tsupportSubTitle:function(){\r\n\t\t\t\treturn \"track\" in document.createElement(\"track\");\r\n\t\t\t},\r\n\t\t\t//是否支持scoped\r\n\t\t\tsupportScope:function(){\r\n\t\t\t\treturn \"scoped\" in document.createElement(\"style\");\r\n\t\t\t},\r\n\t\t\t//获取IE的版本号\r\n\t\t\tieVersion:function(){\r\n\t\t\t\ttry {\r\n\t\t\t\t   return agent.match(/msie ([\\d.]+)/)[1] || 0;\r\n\t\t\t\t} catch(e) {\r\n\t\t\t\t   console.log(\"error\");\r\n\t\t\t\t   return IEMode;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//Opera版本号\r\n\t\t\toperaVersion:function(){\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif(window.opera) {\r\n\t\t\t\t\t\treturn agent.match(/opera.([\\d.]+)/)[1];\r\n\t\t\t\t\t} else if(agent.indexOf(\"opr\") > 0) {\r\n\t\t\t\t\t\treturn agent.match(/opr\\/([\\d.]+)/)[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(e) {\r\n\t\t\t\t\tconsole.log(\"error\");\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//描述:version过滤.如31.0.252.152 只保留31.0\r\n\t\t\tversionFilter:function(){\r\n\t\t\t\tif(arguments.length === 1 && typeof arguments[0] === \"string\") {\r\n\t\t\t\t\tvar version = arguments[0];\r\n\t\t\t\t\t\tstart = version.indexOf(\".\");\r\n\t\t\t\t\tif(start>0){\r\n\t\t\t\t\t\tend = version.indexOf(\".\",start+1);\r\n\t\t\t\t\t\tif(end !== -1) {\r\n\t\t\t\t\t\t\treturn version.substr(0,end);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn version;\r\n\t\t\t\t} else if(arguments.length === 1) {\r\n\t\t\t\t\treturn arguments[0];\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\ttry {\r\n\t\t//浏览器类型(IE、Opera、Chrome、Safari、Firefox)\r\n\t\tSystem.type = System.isIE?\"IE\":\r\n\t\t\twindow.opera || (agent.indexOf(\"opr\") > 0)?\"Opera\":\r\n\t\t\t(agent.indexOf(\"chrome\")>0)?\"Chrome\":\r\n\t\t\t//safari也提供了专门的判定方式\r\n\t\t\twindow.openDatabase?\"Safari\":\r\n\t\t\t(agent.indexOf(\"firefox\")>0)?\"Firefox\":\r\n\t\t\t'unknow';\r\n\r\n\t\t//版本号\r\n\t\tSystem.version = (System.type === \"IE\")?System.ieVersion():\r\n\t\t\t(System.type === \"Firefox\")?agent.match(/firefox\\/([\\d.]+)/)[1]:\r\n\t\t\t(System.type === \"Chrome\")?agent.match(/chrome\\/([\\d.]+)/)[1]:\r\n\t\t\t(System.type === \"Opera\")?System.operaVersion():\r\n\t\t\t(System.type === \"Safari\")?agent.match(/version\\/([\\d.]+)/)[1]:\r\n\t\t\t\"0\";\r\n\r\n\t\t//浏览器外壳\r\n\t\tSystem.shell=function(){\r\n\t\t\t//遨游浏览器\r\n\t\t\tif(agent.indexOf(\"maxthon\") > 0) {\r\n\t\t\t\tSystem.version = agent.match(/maxthon\\/([\\d.]+)/)[1] || System.version ;\r\n\t\t\t\treturn \"傲游浏览器\";\r\n\t\t\t}\r\n\t\t\t//QQ浏览器\r\n\t\t\tif(agent.indexOf(\"qqbrowser\") > 0) {\r\n\t\t\t\tSystem.version = agent.match(/qqbrowser\\/([\\d.]+)/)[1] || System.version ;\r\n\t\t\t\treturn \"QQ浏览器\";\r\n\t\t\t}\r\n\r\n\t\t\t//搜狗浏览器\r\n\t\t\tif( agent.indexOf(\"se 2.x\")>0) {\r\n\t\t\t\treturn '搜狗浏览器';\r\n\t\t\t}\r\n\r\n\t\t\t//Chrome:也可以使用window.chrome && window.chrome.webstore判断\r\n\t\t\tif(chrome && System.type !== \"Opera\") {\r\n\t\t\t\tvar external = window.external,\r\n\t\t\t\t\tclientInfo = window.clientInformation,\r\n\t\t\t\t\t//客户端语言:zh-cn,zh.360下面会返回undefined\r\n\t\t\t\t\tclientLanguage = clientInfo.languages;\r\n\r\n\t\t\t\t//猎豹浏览器:或者agent.indexOf(\"lbbrowser\")>0\r\n\t\t\t\tif( external && 'LiebaoGetVersion' in external) {\r\n\t\t\t\t\t return '猎豹浏览器';\r\n\t\t\t\t}\r\n\t\t\t\t//百度浏览器\r\n\t\t\t\tif (agent.indexOf(\"bidubrowser\")>0) {\r\n\t\t\t\t\tSystem.version = agent.match(/bidubrowser\\/([\\d.]+)/)[1] ||\r\n\t\t\t\t\t\tagent.match(/chrome\\/([\\d.]+)/)[1];\r\n\t\t\t\t\treturn \"百度浏览器\";\r\n\t\t\t\t}\r\n\t\t\t\t//360极速浏览器和360安全浏览器\r\n\t\t\t\tif( System.supportSubTitle() && typeof clientLanguage === \"undefined\") {\r\n\t\t\t\t\t//object.key()返回一个数组.包含可枚举属性和方法名称\r\n\t\t\t\t\tvar storeKeyLen = Object.keys(chrome.webstore).length,\r\n\t\t\t\t\t\tv8Locale = \"v8Locale\" in window;\r\n\t\t\t\t\treturn storeKeyLen > 1? '360极速浏览器':'360安全浏览器';\r\n\t\t\t\t}\r\n\t\t\t\treturn \"Chrome\";\r\n\t\t\t}\r\n\t\t\treturn System.type;\r\n\t\t};\r\n\r\n\t\t//浏览器名称(如果是壳浏览器,则返回壳名称)\r\n\t\tSystem.name = System.shell();\r\n\t\t//对版本号进行过滤过处理\r\n\t\tSystem.version = System.versionFilter(System.version);\r\n\r\n\t} catch(e) {\r\n\t\tconsole.log(\"error\");\r\n\t}\r\n\treturn {\r\n\t\tclient:System\r\n\t};\r\n\r\n})(window);\r\n/**\r\n * @description: \r\n * @param {*} removeSlashUrl:需要去掉 / 的链接 \r\n * @return {*}\r\n */\r\nexport const removeSlashUrl = (url)=>{\r\n\r\n  const urlArr = url.split('');\r\n\r\n  if (urlArr[urlArr.length-1]==='/'){\r\n\r\n      return url.substr(0,urlArr.length-1);\r\n\r\n  }else{\r\n\r\n      return url;\r\n\r\n  }\r\n\r\n};","/*\r\n *\r\n * 　　┏┓　　　┏┓+ +\r\n * 　┏┛┻━━━┛┻┓ + +\r\n * 　┃　　　　　　　┃\r\n * 　┃　　　━　　　┃ ++ + + +\r\n *  ████━████ ┃+\r\n * 　┃　　　　　　　┃ +\r\n * 　┃　　　┻　　　┃\r\n * 　┃　　　　　　　┃ + +\r\n * 　┗━┓　　　┏━┛\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ + + + +\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ +  神兽保佑\r\n * 　　　┃　　　┃    代码无bug\r\n * 　　　┃　　　┃　　+\r\n * 　　　┃　 　　┗━━━┓ + +\r\n * 　　　┃ 　　　　　　　┣┓\r\n * 　　　┃ 　　　　　　　┏┛\r\n * 　　　┗┓┓┏━┳┓┏┛ + + + +\r\n * 　　　　┃┫┫　┃┫┫\r\n * 　　　　┗┻┛　┗┻┛+ + + +\r\n *\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-18 15:49:51\r\n * @LastEditTime: 2020-12-07 14:39:16\r\n * @Description: token查询掉线机制\r\n * @FilePath: \\teacher-development\\src\\util\\connect.js\r\n */\r\n// import config from \"./ipConfig\";\r\n\r\nimport $ from \"jquery\";\r\n// import React from \"react\";\r\nimport {\r\n  getQueryVariable,\r\n  getDataStorage,\r\n  setDataStorage,\r\n  SimpleArrayNoRepeat,\r\n  urlRemLg_tk,\r\n  addOrgToUrl,removeParam\r\n} from \"./public\";\r\nimport {getBasePlatformMsg} from './init';\r\n// import { useHistory, useLocation } from \"react-router-dom\";\r\n// import { createHashHistory } from \"history\";\r\n// let history = createHashHistory();\r\n\r\n/**\r\n * @description: token检查，是否有效\r\n * @param {*sysID:系统id，默认000；*callback：回调函数,*isFirst:是否是第一次进来}\r\n * @return {*}\r\n */\r\nexport const TokenCheck = async ({ sysID, callback, firstLoad }) => {\r\n  sysID = sysID ? sysID : \"L10\"; //默认基础平台000；\r\n  callback = callback ? callback : (tokenValid) => {}; //回调函数；params:*tokenvalid:token是否有效\r\n  firstLoad = firstLoad ? firstLoad : false; //是否第一次进来判断，默认false\r\n  // token的比重是URL_TOKEN>SESSION_TOKEN>LOCAL_TOKEN\r\n\r\n  const { SESSION_TOKEN, URL_TOKEN, LOCAL_TOKEN } = getToken();\r\n  // session暂无基础平台链接，先写死；\r\n  // if(!baseIP){\r\n    let BasePlatformMsg = JSON.parse(sessionStorage.getItem(\"BasePlatformMsg\"));\r\n    let BasicWebRootUrl = BasePlatformMsg? BasePlatformMsg.WebRootUrl: \"\";\r\n    let baseIP = BasicWebRootUrl\r\n  // }\r\n//   let { BasicWebRootUrl: baseIP } =\r\n//  await getBasePlatformMsg(['BasicWebRootUrl'])\r\n\r\n      // console.log(getDataStorage(\"BasePlatformMsg\").BasicWebRootUrl,baseIP)\r\n  // // 柯里化\r\n  const myTokenError = () => {\r\n    tokenError(baseIP);\r\n  };\r\n  if (!SESSION_TOKEN && !URL_TOKEN && !LOCAL_TOKEN) {\r\n    //检查三者是否都存在，不存在直接跳到登陆页\r\n    myTokenError(); //掉线后重新定向到登陆页\r\n  }\r\n  let tokenList = SimpleArrayNoRepeat([URL_TOKEN, SESSION_TOKEN, LOCAL_TOKEN]); //去重后的\r\n  let isSuccess = false;\r\n  // 柯里化\r\n  const myCheckToken = async (token, success = () => {}, error = () => {}) => {\r\n    isSuccess = await checkToken(\r\n      baseIP,\r\n      token,\r\n      sysID,\r\n      () => {\r\n        success();\r\n      },\r\n      error\r\n    );\r\n    // if (isSuccess) {\r\n    //   success();\r\n    // } else {\r\n    //   error();\r\n    // }\r\n    return isSuccess;\r\n  };\r\n  let loop = 0;\r\n  // 第一步：验证token\r\n\r\n  let isComplete = false; //是否完成\r\n  tokenList.forEach(async (child, index) => {\r\n    if (isComplete) {\r\n      return;\r\n    }\r\n    //some 返回true结束遍历，false继续遍历\r\n    let result = await myCheckToken(\r\n      child,\r\n      () => {},\r\n      () => {\r\n        console.log(++loop, child);\r\n      }\r\n    );\r\n\r\n    if (result) {\r\n      //验证通过\r\n      // 第二步：获取用户信息\r\n      // 获取用户信息，不成功则跳登陆页\r\n      let UserInfo = getDataStorage(\"UserInfo\");\r\n      if (!UserInfo || firstLoad) {\r\n        //不存在就获取\r\n        UserInfo = await getUserInfo();\r\n\r\n        if (!UserInfo) {\r\n          callback(false);\r\n          // myTokenError();\r\n          return;\r\n        }\r\n      }\r\n\r\n      // 最后，执行回调\r\n      callback(UserInfo,child);\r\n      // 通过后需要轮询是否在线\r\n      CirculTokenCheck();\r\n      isComplete = true;\r\n      return true;\r\n    }\r\n    if (index === tokenList.length - 1) {\r\n      //最后都没通过，全部无效\r\n      // alert(\"token失效\");\r\n      callback(false);\r\n      myTokenError();\r\n    }\r\n    return result;\r\n  });\r\n};\r\n\r\n/**\r\n * @description: 退出登陆\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport async function  LogOut ({ baseIP, sysID }) {\r\n  const { SESSION_TOKEN, URL_TOKEN, LOCAL_TOKEN } = getToken();\r\n\r\n  if (sysID) {\r\n    sysID = \"L10\";\r\n  }\r\n  baseIP = baseIP\r\n    ? baseIP\r\n    : getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n    ? getDataStorage(\"BasePlatformMsg\").WebRootUrl\r\n    : \"\";\r\n  let token = URL_TOKEN || SESSION_TOKEN || LOCAL_TOKEN;\r\n\r\n  setDataStorage(\"LogOuting\", true);\r\n  loginApi({\r\n    token,\r\n    sysID,\r\n    baseIP,\r\n    method: \"Logout\",\r\n    success: (data) => {\r\n      //验证成功，则\r\n      let json = data;\r\n\r\n      if (json.data.result) {\r\n        //result为true\r\n\r\n        sessionStorage.setItem(\"LogOuting\", false);\r\n        tokenError(baseIP,false);\r\n      }\r\n    },\r\n    error: (err) => {\r\n      //请求失败后调用的函数\r\n\r\n      alert(err);\r\n    },\r\n  });\r\n}\r\n/**\r\n * @description: 登陆jsonp的api\r\n * @param {*}\r\n * @return {*}\r\n */\r\n\r\n const loginApi =async ({ baseIP, token, method, sysID, success, error }) => {\r\n  // if (!baseIP) {\r\n  //   const { BasicWebRootUrl } = await getBasePlatformMsg(['BasicWebRootUrl'])\r\n  //   baseIP = BasicWebRootUrl;\r\n  // }\r\n  if(!baseIP){\r\n    let BasePlatformMsg = JSON.parse(sessionStorage.getItem(\"BasePlatformMsg\"));\r\n    let BasicWebRootUrl = BasePlatformMsg? BasePlatformMsg.WebRootUrl: \"\";\r\n  //  let {BasicWebRootUrl} = await getBasePlatformMsg(['BasicWebRootUrl'])\r\n   baseIP = BasicWebRootUrl\r\n  }\r\n  const ajax = $.ajax({\r\n    url: `${baseIP}/UserMgr/Login/Api/Login.ashx?method=${method}&params=${sysID}${\r\n      token ? \"&token=\" + token : \"\"\r\n    }`,\r\n    type: \"GET\",\r\n    dataType: \"jsonp\",\r\n    jsonp: \"jsoncallback\", //这里的值需要和回调函数名一样\r\n    success: (data) => {\r\n      typeof success === \"function\" && success(data);\r\n    },\r\n    error: (data) => {\r\n      typeof error === \"function\" && error(data);\r\n    },\r\n  });\r\n\r\n  return ajax;\r\n};\r\n/**\r\n * @description: 获取token，从url，session，local\r\n * @param {*}\r\n * @return {*SESSION_TOKEN,URL_TOKEN,LOCAL_TOKEN}\r\n */\r\nconst getToken = () => {\r\n  const SESSION_TOKEN = getDataStorage(\"token\"); //存在session的token\r\n  const URL_TOKEN = getQueryVariable(\"lg_tk\"); //存在session的token\r\n  const LOCAL_TOKEN = getDataStorage(\"token\", true); //存在localStorage的token\r\n  return {\r\n    SESSION_TOKEN,\r\n    URL_TOKEN,\r\n    LOCAL_TOKEN,\r\n  };\r\n};\r\n/**\r\n * @description: 轮询是否在线是否有效\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst CirculTokenCheck = () => {\r\n  if (!getDataStorage(\"lastTime\")) {\r\n    //session没有lasttime,给提供一个，一般是初始进来的时候\r\n    let date = new Date();\r\n    let time = date.getTime();\r\n    setDataStorage(\"lastTime\", time); //下次check前的时间\r\n  }\r\n  let interval = 60000;\r\n  setTimeout(async () => {\r\n    let lastTime = getDataStorage(\"lastTime\");\r\n    let date = new Date();\r\n    let time = date.getTime();\r\n    if (interval <= time - lastTime) {\r\n      //少于interval秒不会请求，可能浏览器存在多个同源的站点运行了tokencheck\r\n      // 保证该浏览器只有一个运行\r\n      //当运行TokenCheck后，后台验证需要时间，成功会再次运行CirculTokenCheck\r\n      // 在setTimeout后，时间间隔会大于interval\r\n      // 如果另一个界面更新共用的session里的lasttime后\r\n      // 时间会在interval之间更新，所以间隔会小于interval，该界面不在进行轮询\r\n      // 尽量保证只有一个界面是进行轮询\r\n      setDataStorage(\"lastTime\", time);\r\n      await TokenCheck({});\r\n    }\r\n  }, interval);\r\n};\r\n/**\r\n * @description: 获取用户信息\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport const getUserInfo = async (\r\n  baseIP,\r\n  token,\r\n  sysID = \"L10\",\r\n  fun = () => {}\r\n) => {\r\n  token = token ? token : getDataStorage(\"token\");\r\n  // baseIP = baseIP\r\n  //   ? baseIP\r\n  //   : getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n  //   ? getDataStorage(\"BasePlatformMsg\").BasicWebRootUrl\r\n  //   : \"\";\r\n  // if (!baseIP) {\r\n  //   const { BasicWebRootUrl } = await getBasePlatformMsg(['BasicWebRootUrl'])\r\n  //   baseIP = BasicWebRootUrl;\r\n  // }\r\n  if(!baseIP){\r\n    let BasePlatformMsg = JSON.parse(sessionStorage.getItem(\"BasePlatformMsg\"));\r\n    let BasicWebRootUrl = BasePlatformMsg? BasePlatformMsg.WebRootUrl: \"\";\r\n  //  let {BasicWebRootUrl} = await getBasePlatformMsg(['BasicWebRootUrl'])\r\n   baseIP = BasicWebRootUrl\r\n  }\r\n  return new Promise((resolve) => {\r\n    if (!token) {\r\n      resolve(false);\r\n      return;\r\n    }\r\n    loginApi({\r\n      token,\r\n      sysID,\r\n      baseIP,\r\n      method: \"GetUserInfo\",\r\n      success: (data) => {\r\n        if (!data || !data.data) {\r\n          resolve(false);\r\n          return;\r\n        }\r\n        let loginInfo = data ? (data.data ? data.data : {}) : {};\r\n\r\n        let UserInfo = {};\r\n\r\n        UserInfo[\"TruethUserType\"] = loginInfo[\"UserType\"];\r\n        for(let key in loginInfo){\r\n          let value = loginInfo[key]\r\n          // console.log(key,value)\r\n          if (key === \"PhotoPath\") {\r\n            let date = new Date();\r\n            let time = date.getTime();\r\n            value = value + \"?T=\" + time;\r\n          }\r\n          // 锁控处理\r\n          if (key === \"LockerState\" && parseInt(value) !== 1) {\r\n            window.location.href =\r\n              baseIP + \"/LockerMgr/ErrorTips.aspx?ErrorCode=\" + value;\r\n            return;\r\n          }\r\n          UserInfo[key] = decodeURIComponent(value);\r\n        }\r\n\r\n        // for (let [key, value] of Object.entries(loginInfo)) {\r\n        //   // console.log(key,value)\r\n        //   if (key === \"PhotoPath\") {\r\n        //     let date = new Date();\r\n        //     let time = date.getTime();\r\n        //     value = value + \"?T=\" + time;\r\n        //   }\r\n        //   // 锁控处理\r\n        //   if (key === \"LockerState\" && parseInt(value) !== 1) {\r\n        //     window.location.href =\r\n        //       baseIP + \"/LockerMgr/ErrorTips.aspx?ErrorCode=\" + value;\r\n        //     return;\r\n        //   }\r\n        //   UserInfo[key] = decodeURIComponent(value);\r\n        // }\r\n\r\n        UserInfo.isLogin = true;\r\n\r\n        setDataStorage(\"UserInfo\", UserInfo);\r\n\r\n        fun();\r\n        resolve(UserInfo);\r\n      },\r\n      error: (err) => {\r\n        //请求失败后调用的函数\r\n        resolve(false);\r\n      },\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * @description: 掉线页\r\n * @param {*initType:是否带lg_preurl}\r\n * @return {*}\r\n */\r\nconst routeToDisconnect = (baseIP, initType = true) => {\r\n  window.location.href =\r\n    baseIP +\r\n    (initType\r\n      ? \"/?lg_preurl=\" + encodeURIComponent(urlRemLg_tk(window.location.href))\r\n      : \"\");\r\n};\r\n\r\n/**\r\n * @description: ajax获取token验证，返回promise\r\n * @param {*}\r\n * @return {*boolean,返回的都是布尔值，true 通过，false失败}\r\n */\r\nconst checkToken = (\r\n  baseIP,\r\n  token,\r\n  sysID,\r\n  success = () => {},\r\n  error = () => {}\r\n) => {\r\n  return new Promise((resolve, reject) => {\r\n    if (!baseIP || !token || !sysID) {\r\n      resolve(false);\r\n      console.error(\"baseIP or token or sysID is not undefined\");\r\n      return;\r\n    }\r\n    loginApi({\r\n      token,\r\n      sysID,\r\n      baseIP,\r\n      method: \"tokenCheck\",\r\n      success: (data) => {\r\n        if (data && data.data && data.data.result) {\r\n          // console.log(\"success\");\r\n\r\n          tokenSuccess(token);\r\n          success();\r\n          resolve(true);\r\n        } else {\r\n          // console.log(\"error\");\r\n\r\n          error(); //这个error是每次验证失败都运行\r\n          resolve(false);\r\n        }\r\n      },\r\n      error: (data) => {\r\n        // 出错就按token过期处理\r\n        error();\r\n        reject(false);\r\n      },\r\n    });\r\n  });\r\n};\r\n/**\r\n * @description: 验证token成功后,需要存token等操作\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst tokenSuccess = (token) => {\r\n  setDataStorage(\"token\", token); //存在session\r\n  setDataStorage(\"token\", token, true); //local\r\n  // 替换链接token\r\n  window.history.pushState(\r\n    null,\r\n    null,\r\n    addOrgToUrl(window.location.href, \"lg_tk\", token)\r\n  );\r\n};\r\n/**\r\n * @description: 验证token失败后跳转至登陆页，需要所有token都验证完\r\n * @param {*initType:是否带上lg_preurl}\r\n * @return {*}\r\n */\r\nconst tokenError = (baseIP,initType=true) => {\r\n  // 清掉storage\r\n  sessionStorage.clear();\r\n  localStorage.removeItem(\"token\");\r\n  routeToDisconnect(baseIP,initType); //掉线后重新定向到登陆页\r\n};\r\n/**\r\n * @description: 更新url上的token，有就替换，没有就加上\r\n * @param {*}\r\n * @return {*}\r\n */\r\n","/*\r\n *\r\n *    ┏┓　　　┏┓\r\n *  ┏┛┻━━━┛┻┓\r\n *  ┃　　　　　　　┃\r\n *  ┃　　　━　　　┃\r\n *  ┃　＞　　　＜　┃\r\n *  ┃　　　　　　　┃\r\n *  ┃...　⌒　...　┃\r\n *  ┃　　　　　　　┃\r\n *  ┗━┓　　　┏━┛\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃  神兽保佑\r\n *      ┃　　　┃  代码无bug\r\n *      ┃　　　┃\r\n *      ┃　　　┗━━━┓\r\n *      ┃　　　　　　　┣┓\r\n *      ┃　　　　　　　┏┛\r\n *      ┗┓┓┏━┳┓┏┛\r\n *        ┃┫┫　┃┫┫\r\n *        ┗┻┛　┗┻┛\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-18 15:41:25\r\n * @LastEditTime: 2020-12-10 08:59:14\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\util\\ipConfig.js\r\n */\r\n\r\nlet config = {};\r\n\r\nconst host = window.location.host;\r\n\r\nconst pathName = window.location.pathname;\r\n\r\nconst protocol = window.location.protocol;\r\n\r\nlet pathFolder = \"\";\r\n\r\nif (pathName.includes(\"/html/\")) {\r\n  pathFolder = pathName.split(\"/html/\")[0];\r\n} else if (pathName.includes(\".html\")) {\r\n  let strArr = window.location.pathname.split(\".html\")[0].split(\"/\");\r\n\r\n  strArr.pop();\r\n\r\n  pathFolder = strArr.join(\"/\");\r\n} else {\r\n  pathFolder = pathName;\r\n}\r\n\r\nconst RootUrl = protocol + \"//\" + host + pathFolder;\r\nif (process.env.NODE_ENV === \"development\") {\r\n  // 129.64:20103/Web_TeacherGrow/\r\n  //  129.1:8023\r\n  let baseIP = 'http://192.168.129.75:10103/student-growth';//基础平台服务器\r\n  // let baseIP = 'http://192.168.129.1:10103/student-growth';//基础平台服务器\r\n  // let baseIP = 'http://129.64:20103/Web_TeacherGrow';//中小学服务器\r\n  // let baseIP = 'http://192.168.129.182:10103/Web_Teachergrow';//大学服务器\r\n  // let baseIP = 'http://192.168.129.242:10101/Web_TeacherGrow';//大学服务器\r\n  config = {\r\n    TokenProxy: baseIP+\"\",\r\n    // TokenProxy:'http://47.115.20.102:10102',\r\n    proxy:\r\n      \"http://192.168.2.202:7300/mock/5d7726e0ed0ccd1564c8df05/webCloudDev\",\r\n    BasicProxy: baseIP+\"\",\r\n    EditorProxy: \"/UEditor/\",\r\n    // LoginProxy: \"http://192.168.129.64:20102\",\r\n    LoginProxy: \"http://192.168.129.1:10103\",\r\n    ErrorProxy: \"http://192.168.129.1:30103\",\r\n    HashPrevProxy: RootUrl,\r\n    RootProxy: RootUrl,\r\n  };\r\n}\r\n\r\nif (process.env.NODE_ENV === \"production\") {\r\n  config = {\r\n    // TokenProxy: \"\",\r\n\r\n    // BasicProxy: \"\",\r\n    // LoginProxy: \"\",\r\n\r\n    // ErrorProxy: \"\",\r\n    TokenProxy: \"\",\r\n    // TokenProxy:'http://47.115.20.102:10102',\r\n    proxy:\r\n      \"http://192.168.2.202:7300/mock/5d7726e0ed0ccd1564c8df05/webCloudDev\",\r\n    BasicProxy: RootUrl,\r\n    LoginProxy: RootUrl,\r\n    EditorProxy: \"/UEditor/\",\r\n\r\n    ErrorProxy: \"http://192.168.129.1:30103\",\r\n    HashPrevProxy: RootUrl,\r\n    RootProxy: RootUrl,\r\n  };\r\n  console.log = ()=>{}\r\n}\r\n\r\nexport default config;\r\n","/*\r\n *                        .::::.\r\n *                      .::::::::.\r\n *                     :::::::::::\r\n *                  ..:::::::::::'\r\n *               '::::::::::::'\r\n *                 .::::::::::\r\n *            '::::::::::::::..\r\n *                 ..::::::::::::.\r\n *               ``::::::::::::::::\r\n *                ::::``:::::::::'        .:::.\r\n *               ::::'   ':::::'       .::::::::.\r\n *             .::::'      ::::     .:::::::'::::.\r\n *            .:::'       :::::  .:::::::::' ':::::.\r\n *           .::'        :::::.:::::::::'      ':::::.\r\n *          .::'         ::::::::::::::'         ``::::.\r\n *      ...:::           ::::::::::::'              ``::.\r\n *     ````':.          ':::::::::'                  ::::..\r\n *                        '.:::::'                    ':'````..\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-17 16:56:48\r\n * @LastEditTime: 2020-12-10 15:28:59\r\n * @Description: fetch基础配置\r\n * @FilePath: \\teacher-development\\src\\util\\fetch.js\r\n */\r\nimport \"whatwg-fetch\";\r\n// import loggerService from \"./logger\";\r\nimport \"es6-promise\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport md5 from \"md5\";\r\nimport $ from \"jquery\";\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n// import { urlRemLg_tk } from \"./public\";\r\nimport { ErrorAlert } from \"../component/common\";\r\nimport { LogOut } from \"./connect\";\r\nimport { getAlertDom } from \"./public\";\r\nconst COMMONKEY = \"123456789\";\r\nconst TESTKEY = \"abcdefgabcdefg12\";\r\n\r\nlet notAuthorizedCounter = 0;\r\nlet fetchService = {\r\n  fetch: (url, method, header, body) => {\r\n    if (!header) {\r\n      header = {};\r\n    }\r\n\r\n    return fetchService[method.toLowerCase()](url, header, body).catch(\r\n      function (exception) {\r\n        console.log(\"fetchService failed:\" + exception);\r\n\r\n        // token过期，重新获取token并发起请求\r\n        if (exception.code === \"401\" || exception.code === \"403\") {\r\n          notAuthorizedCounter++;\r\n          // 最多重试3次\r\n          if (notAuthorizedCounter > 2) {\r\n            notAuthorizedCounter = 0;\r\n            // loggerService.warn(\"401 or 403 received. Max attemps reached.\");\r\n            return;\r\n          } else {\r\n            return fetchService.fetch(url, method, header, body);\r\n          }\r\n        }\r\n      }\r\n    );\r\n  },\r\n  get: ({ url, header, securityLevel, config, advance }) => {\r\n    //advance:是否提前处理,boolean:false表示不用提前，true表示使用，{}表示有选择的使用，里面为number，状态码\r\n    if (!header) {\r\n      //Content-Type: \"application/x-www-form-urlencoded\",\r\n      // \"application/json\",\r\n      // \"multipart/form-data\",\r\n      header = {};\r\n    }\r\n    if (!config) {\r\n      //fetch配置控制\r\n      config = {};\r\n    }\r\n    if (!securityLevel) {\r\n      securityLevel = 2;\r\n    }\r\n    if (advance === undefined) {\r\n      advance = true; //\r\n    }\r\n    let result = fetch(url, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain, */*\", //请求头，代表的、发送端（客户端）希望接收的数据类型\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\", //实体头，代表发送端（客户端|服务器）发送的实体数据的数据类型\r\n        Authorization: requestSecure(url, TESTKEY, securityLevel),\r\n        ...header,\r\n      },\r\n      redirect: \"follow\", //manual、*follow(自动重定向)、error，此项为重定向的相关配置\r\n      // referrer: 'no-referrer',//该首部字段会告知服务器请求的原始资源的URI\r\n      mode: \"cors\", //no-cors(跨域模式但服务器端不支持cors),*cors(跨域模式，需要服务器通过Access-control-Allow-Origin来\r\n      //允许指定的源进行跨域),same-origin(同源)\r\n      cache: \"no-cache\", //*no-cache,default,reload,force-cache,only-ifcached,此项为缓存相关配置\r\n      credentials: \"omit\", //*include(携带cookie)、same-origin(cookie同源携带)、omit(不携带)\r\n      ...config,\r\n    });\r\n    // result.then((res) => {\r\n    //   //做提前处理\r\n    //   let clone = res.clone();\r\n    //   //console.log(clone.json());\r\n    //   return clone;\r\n    // }).then(\r\n    //   (res) => res.json(),\r\n    //   (err) => {\r\n    //     return false;\r\n    //   }\r\n    // )\r\n    result.then((res) => {\r\n      //做提前处理\r\n      // console.log(res)\r\n      if (advance) {\r\n        advanceFetch(res, advance);\r\n      }\r\n    });\r\n    return result;\r\n  },\r\n  put: ({ url, header, body, securityLevel, config, advance, data }) => {\r\n    // header[\"Content-Type\"] = \"application/json\";\r\n    if (!header) {\r\n      header = {};\r\n    }\r\n    if (!config) {\r\n      //fetch配置控制\r\n      config = {};\r\n    }\r\n    if (!securityLevel) {\r\n      securityLevel = 2;\r\n    }\r\n    if (advance === undefined) {\r\n      advance = true; //\r\n    }\r\n    let content_type =\r\n      header[\"Content-Type\"] && header[\"Content-Type\"] === \"application/json\"\r\n        ? \"json\"\r\n        : \"default\";\r\n    let result = fetch(AESEncryptionUrl(url, TESTKEY, securityLevel), {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain, */*\", //请求头，代表的、发送端（客户端）希望接收的数据类型\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\", //实体头，代表发送端（客户端|服务器）发送的实体数据的数据类型\r\n        Authorization: requestSecure(url, TESTKEY, securityLevel),\r\n\r\n        ...header,\r\n      },\r\n      redirect: \"follow\", //manual、*follow(自动重定向)、error，此项为重定向的相关配置\r\n      // referrer: 'no-referrer',//该首部字段会告知服务器请求的原始资源的URI\r\n      mode: \"cors\", //no-cors(跨域模式但服务器端不支持cors),*cors(跨域模式，需要服务器通过Access-control-Allow-Origin来\r\n      //允许指定的源进行跨域),same-origin(同源)\r\n      cache: \"no-cache\", //*no-cache,default,reload,force-cache,only-ifcached,此项为缓存相关配置\r\n      credentials: \"omit\", //*include(携带cookie)、same-origin(cookie同源携带)、omit(不携带)\r\n      body: AESEncryptionBody(body, TESTKEY, securityLevel, content_type), //此处需要和headers里的\"Content-Type\"相对应\r\n      data: JSON.stringify(data),\r\n      ...config,\r\n    });\r\n    result.then((res) => {\r\n      //做提前处理\r\n      if (advance) {\r\n        advanceFetch(res, advance);\r\n      }\r\n    });\r\n\r\n    return result;\r\n  },\r\n  post: ({ url, header, body, securityLevel, config, advance }) => {\r\n    // header[\"Content-Type\"] = \"application/json\";\r\n    if (!header) {\r\n      header = {};\r\n    }\r\n    if (!config) {\r\n      //fetch配置控制\r\n      config = {};\r\n    }\r\n    if (!securityLevel) {\r\n      securityLevel = 2;\r\n    }\r\n    if (advance === undefined) {\r\n      advance = true; //\r\n    }\r\n    let content_type =\r\n      header[\"Content-Type\"] && header[\"Content-Type\"] === \"application/json\"\r\n        ? \"json\"\r\n        : \"default\";\r\n    let result = fetch(AESEncryptionUrl(url, TESTKEY, securityLevel), {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain, */*\", //请求头，代表的、发送端（客户端）希望接收的数据类型\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\", //实体头，代表发送端（客户端|服务器）发送的实体数据的数据类型\r\n        Authorization: requestSecure(url, TESTKEY, securityLevel),\r\n\r\n        ...header,\r\n      },\r\n      redirect: \"follow\", //manual、*follow(自动重定向)、error，此项为重定向的相关配置\r\n      // referrer: 'no-referrer',//该首部字段会告知服务器请求的原始资源的URI\r\n      mode: \"cors\", //no-cors(跨域模式但服务器端不支持cors),*cors(跨域模式，需要服务器通过Access-control-Allow-Origin来\r\n      //允许指定的源进行跨域),same-origin(同源)\r\n      cache: \"no-cache\", //*no-cache,default,reload,force-cache,only-ifcached,此项为缓存相关配置\r\n      credentials: \"omit\", //*include(携带cookie)、same-origin(cookie同源携带)、omit(不携带)\r\n      body: AESEncryptionBody(body, TESTKEY, securityLevel, content_type), //此处需要和headers里的\"Content-Type\"相对应\r\n      ...config,\r\n    });\r\n    result.then((res) => {\r\n      //做提前处理\r\n      if (advance) {\r\n        advanceFetch(res, advance);\r\n      }\r\n    });\r\n\r\n    return result;\r\n  },\r\n  tranfer: async ({ reqUrl, url, basicProxy = \"\", token }) => {\r\n    let data = null;\r\n    token =\r\n      token || sessionStorage.getItem(\"token\") || getQueryVariable(\"lg_tk\");\r\n    url =\r\n      url ||\r\n      basicProxy +\r\n        \"/Global/GetHttpRequestTransfer?appid=000&token=\" +\r\n        token +\r\n        \"&reqUrl=\" +\r\n        encodeURIComponent(reqUrl);\r\n    try {\r\n      let res = await fetchService.get({ url, securityLevel: 2, advance:false});\r\n      let json = await res.json();\r\n      data = JSON.parse(json);\r\n      // console.log(json)\r\n\r\n      // if (json.error === 0) {\r\n      //   data = json;\r\n      // } else {\r\n      //   data = false; //有错误\r\n      // }\r\n    } catch {\r\n      data = false; //有错误\r\n    }\r\n    return data;\r\n  },\r\n};\r\n\r\n// fecth Advance 提前处理函数\r\n/**\r\n * @description: post get 统一提前处理返回的数据\r\n * @param {*res:promise ,promise，advance：是否提前处理\r\n * false表示不用提前，true表示使用，{}表示有选择的使用，里面为number，状态码}\r\n * @return {*}\r\n */\r\nfunction advanceFetch(res, advance) {\r\n  //做提前处理\r\n  let response = res.clone();\r\n  // clone.then((response)=>{\r\n  let AlertDom = getAlertDom();\r\n  try {\r\n    let json = response.json();\r\n    json.then((json) => {\r\n      // console.log(!json.StatusCode, json);\r\n      let title = \"\";\r\n      // return\r\n      if(json.status){\r\n        json.StatusCode = json.status;\r\n      }\r\n      \r\n      if (!json) {\r\n        console.log(\"测试0\");\r\n        title = \"服务器出现未知异常，请重试或联系管理员\";\r\n        ReactDOM.render(\r\n          // eslint-disable-next-line react/react-in-jsx-scope\r\n          <ErrorAlert\r\n            key={\"alert-400-\" + Math.round(Math.random() * 10000)}\r\n            show={true}\r\n            title={title}\r\n          />,\r\n          AlertDom\r\n        );\r\n        // withAlert()\r\n        return;\r\n      }\r\n\r\n      if (!json.StatusCode) {\r\n        console.log(\"测试1\", json);\r\n        title = \"服务器出现未知异常，请重试或联系管理员\";\r\n        ReactDOM.render(\r\n          // eslint-disable-next-line react/react-in-jsx-scope\r\n          <ErrorAlert\r\n            key={\"alert-400-\" + Math.round(Math.random() * 10000)}\r\n            show={true}\r\n            title={title}\r\n          />,\r\n          AlertDom\r\n        );\r\n        return;\r\n      }\r\n      if (json.StatusCode === 200) return;\r\n      // console.log(json.StatusCode);\r\n\r\n      let isAllSelect = false;\r\n      let isSelect = {};\r\n      if (advance === true) {\r\n        isAllSelect = true;\r\n      } else if (advance instanceof Array) {\r\n        advance.forEach((child) => {\r\n          isSelect[child] = true;\r\n        });\r\n      } else {\r\n        console.log(\"参数错误\");\r\n        return;\r\n      }\r\n      switch (json.StatusCode) {\r\n        case 400:\r\n          if (isAllSelect || isSelect[400]) {\r\n            title = json.Msg;\r\n            ReactDOM.render(\r\n              // eslint-disable-next-line react/react-in-jsx-scope\r\n              <ErrorAlert\r\n                key={\"alert-400-\" + Math.round(Math.random() * 10000)}\r\n                show={true}\r\n                title={title}\r\n              />,\r\n              AlertDom\r\n            );\r\n          }\r\n          break;\r\n        case 500:\r\n          if (isAllSelect || isSelect[500]) {\r\n            console.log(\"测试3\");\r\n            title = \"服务器出现未知异常，请重试或联系管理员\";\r\n            ReactDOM.render(\r\n              // eslint-disable-next-line react/react-in-jsx-scope\r\n              <ErrorAlert\r\n                key={\"alert-400-\" + Math.round(Math.random() * 10000)}\r\n                show={true}\r\n                title={title}\r\n              />,\r\n              AlertDom\r\n            );\r\n          }\r\n          break;\r\n        case 401:\r\n          if (isAllSelect || isSelect[401]) {\r\n          }\r\n          // TokenCheck();\r\n\r\n          break;\r\n        case 403:\r\n          // if (isAllSelect || isSelect[403])\r\n          // {\r\n\r\n          // }\r\n          // window.location.href = config.ErrorProxy + \"/Error.aspx?errcode=E011\";\r\n          break;\r\n        default:\r\n        // window.location.href = config.ErrorProxy + \"/Error.aspx?errcode=E011\";\r\n      }\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n\r\n  // })\r\n  // return clone;\r\n}\r\n/**\r\n * @description: 获取alert节点\r\n * @param {*}\r\n * @return {*}\r\n */\r\n// function getAlertDom() {\r\n//   let AlertDom = document.getElementById(\"alert\");\r\n//   if (!AlertDom) {\r\n//     //alert节点不存在，创建一个\r\n//     let body = document.getElementsByTagName(\"body\")[0];\r\n//     let alert = document.createElement(\"div\");\r\n//     alert.setAttribute(\"id\", \"alert\");\r\n//     body.appendChild(alert);\r\n//     AlertDom = document.getElementById(\"alert\");\r\n//   }\r\n//   return AlertDom;\r\n// }\r\n//请求安全，根据安全级别SecurityLevel返回token+签名\r\nfunction requestSecure(params, securityKey, SecurityLevel = 1) {\r\n  let token = sessionStorage.getItem(\"token\") || getQueryVariable(\"lg_tk\");\r\n  let Autorization = null;\r\n\r\n  if (!token && SecurityLevel !== 1) {\r\n    console.log(\"token无效，请重新登录\"); //后期会进行无token的事件操作\r\n    //返回登录界面\r\n    let baseUrl = sessionStorage.getItem(\"baseUrl\");\r\n    window.location.href = baseUrl;\r\n    // LogOut({});\r\n    return;\r\n  }\r\n\r\n  if (SecurityLevel === 1) {\r\n    //级别1为不做任何安全认证\r\n    return Autorization;\r\n  } else if (SecurityLevel === 2) {\r\n    //级别2为带上token\r\n    Autorization = \"X-Token=\" + token;\r\n  } else if (SecurityLevel === 3) {\r\n    //级别2为带上token和签名\r\n    Autorization =\r\n      \"X-Token=\" + token + \"&sign=\" + getSign(token, params, securityKey);\r\n  } else if (SecurityLevel === 4) {\r\n    //级别4为带上token+随机字符串+时间戳+签名\r\n    let timeStamp = formatDate(\r\n      \"http://192.168.2.248:8075/Global/GetTimestramp\"\r\n    ); //生成统一的时间戳\r\n    let randomString = getRandomString(8, timeStamp);\r\n    Autorization =\r\n      \"X-Token=\" +\r\n      token +\r\n      \"&randomString=\" +\r\n      randomString +\r\n      \"&sign=\" +\r\n      getSign(token, params, securityKey, randomString);\r\n  } else {\r\n    console.log(\"SecurityLevel有误，请重新设置\");\r\n  }\r\n  // console.log(SecurityLevel,Autorization)\r\n  return Autorization;\r\n}\r\n//生成随机字符串和时间戳(前端本地时间)\r\nfunction getRandomString(len, timeStamp) {\r\n  len = len || 8; //默认8位\r\n\r\n  /****默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1****/\r\n  let $chars = \"ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678\";\r\n  let maxPos = $chars.length;\r\n  let randomStr = \"\";\r\n  for (let i = 0; i < len; i++) {\r\n    randomStr += $chars.charAt(Math.floor(Math.random() * maxPos));\r\n  }\r\n  return randomStr + timeStamp;\r\n}\r\n//格式化日期,\r\nfunction formatDate(url) {\r\n  let date = new Date();\r\n  let fmt = \"yyyyMMddHH\";\r\n  var o = {\r\n    \"M+\": date.getMonth() + 1, //月份\r\n    \"d+\": date.getDate(), //日\r\n    \"H+\": date.getHours(), //小时\r\n    \"m+\": date.getMinutes(), //分\r\n    \"s+\": date.getSeconds(), //秒\r\n    \"q+\": Math.floor((date.getMonth() + 3) / 3), //季度\r\n    S: date.getMilliseconds(), //毫秒\r\n  };\r\n  if (/(y+)/.test(fmt))\r\n    fmt = fmt.replace(\r\n      RegExp.$1,\r\n      (date.getFullYear() + \"\").substr(4 - RegExp.$1.length)\r\n    );\r\n  for (var k in o)\r\n    if (new RegExp(\"(\" + k + \")\").test(fmt))\r\n      fmt = fmt.replace(\r\n        RegExp.$1,\r\n        RegExp.$1.length === 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length)\r\n      );\r\n\r\n  let nonce = fetch(url, {\r\n    method: \"get\", //*post、get、put、delete，此项为请求方法相关的配置\r\n    mode: \"no-cors\", //no-cors(跨域模式但服务器端不支持cors),*cors(跨域模式，需要服务器通过Access-control-Allow-Origin来\r\n    //允许指定的源进行跨域),same-origin(同源)\r\n    cache: \"no-cache\", //*no-cache,default,reload,force-cache,only-ifcached,此项为缓存相关配置\r\n    credentials: \"include\", //*include(携带cookie)、same-origin(cookie同源携带)、omit(不携带)\r\n\r\n    headers: {\r\n      Accept: \"application/json, text/plain, */*\", //请求头，代表的、发送端（客户端）希望接收的数据类型\r\n      \"Content-Type\": \"application/x-www-form-urlencodeed\", //实体头，代表发送端（客户端|服务器）发送的实体数据的数据类型\r\n    },\r\n    redirect: \"follow\", //manual、*follow(自动重定向)、error，此项为重定向的相关配置\r\n    // referrer: 'no-referrer',//该首部字段会告知服务器请求的原始资源的URI\r\n    // 注意post时候参数的形式\r\n  });\r\n\r\n  return nonce;\r\n}\r\nfunction getSign(token, params, securityKey, randomString) {\r\n  // 获取签名   返回一个包含\"?\"的参数串\r\n  try {\r\n    let param = handleParam(params); //处理params,返回序列化后的params\r\n\r\n    let sign = calculateSign(param, securityKey, token, randomString);\r\n    return sign;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n// 生成sign\r\nfunction calculateSign(param, securityKey, token, randomString) {\r\n  //等级3时是不需要randomString\r\n\r\n  return md5(token + param + securityKey + randomString); //签名顺序：token + 参数 + 秘钥 + randomString\r\n}\r\n//解析是get或post传进来的是url还是param，返回序列化字符串\r\nfunction handleParam(params) {\r\n  let param = \"\";\r\n  if (\"string\" == typeof params) {\r\n    let urlArray = params.split(\"?\");\r\n    param = urlArray[1];\r\n  } else if (\"object\" == typeof params) {\r\n    param = $.param(params);\r\n  } else {\r\n    console.log(\"参数不合法\");\r\n  }\r\n  return param;\r\n}\r\n//获取url参数\r\nfunction getQueryVariable(variable) {\r\n  var query =\r\n    window.location.search.substring(1) ||\r\n    window.location.href.split(\"?\")[1] ||\r\n    window.location.href;\r\n\r\n  var vars = query.split(\"&\");\r\n  for (var i = 0; i < vars.length; i++) {\r\n    var pair = vars[i].split(\"=\");\r\n    if (pair[0] === variable) {\r\n      return pair[1];\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\n// // 根据statuscode进行不同alter操作\r\n// class ErrorAlert extends React.Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//     this.state = {\r\n//       show: props.show,\r\n//     };\r\n//   }\r\n\r\n//   onOk = () => {\r\n//     let { onOk } = this.props;\r\n//     typeof onOk === \"function\" && onOk();\r\n//     this.setState({\r\n//       show: false,\r\n//     });\r\n//   };\r\n\r\n//   onCancel = () => {\r\n//     let { onCancel } = this.props;\r\n//     typeof onCancel === \"function\" && onCancel();\r\n//     this.setState({\r\n//       show: false,\r\n//     });\r\n//   };\r\n//   onClose = () => {\r\n//     let { onClose } = this.props;\r\n//     typeof onClose === \"function\" && onClose();\r\n//     this.setState({\r\n//       show: false,\r\n//     });\r\n//   };\r\n\r\n//   render() {\r\n//     // console.log(this.state.show)\r\n//     return (\r\n//       <Alert\r\n//         show={this.state.show}\r\n//         type=\"btn-error\"\r\n//         title={this.props.title}\r\n//         onOk={this.onOk}\r\n//         onCancel={this.onCancel}\r\n//         onClose={this.onClose}\r\n//         cancelShow={\"n\"}\r\n//       ></Alert>\r\n//     );\r\n//   }\r\n// }\r\n\r\n//AES加密传输参数：post\r\nfunction AESEncryptionBody(\r\n  paramsObj,\r\n  CRYPTOJSKEY = COMMONKEY,\r\n  SecurityLevel,\r\n  content_type\r\n) {\r\n  //加密所使用的的key，需要与服务器端的解密key相对应\r\n  if (content_type === \"json\") {\r\n    //let body = JSON.stringify(paramsObj);\r\n    let plain = JSON.stringify(paramsObj); //json序列化\r\n    // if (SecurityLevel === 4) {\r\n    //     plain = getSign(paramsObj, CRYPTOJSKEY, randomString, 'post');\r\n    // }\r\n\r\n    // console.log(decrypt(encrypt(plain,CRYPTOJSKEY)))\r\n    if (SecurityLevel === 3 || SecurityLevel === 4) {\r\n      plain = JSON.stringify({ p: encrypt(plain, CRYPTOJSKEY) });\r\n    }\r\n    //console.log(plain)\r\n    return plain;\r\n  } else {\r\n    //let body = JSON.stringify(paramsObj);\r\n    let plain = $.param(paramsObj); //json序列化\r\n    // if (SecurityLevel === 4) {\r\n    //     plain = getSign(paramsObj, CRYPTOJSKEY, randomString, 'post');\r\n    // }\r\n\r\n    // console.log(decrypt(encrypt(plain,CRYPTOJSKEY)))\r\n    if (SecurityLevel === 3 || SecurityLevel === 4) {\r\n      plain = $.param({ p: encrypt(plain, CRYPTOJSKEY) });\r\n    }\r\n\r\n    return plain;\r\n  }\r\n}\r\n//AES加密传输参数：get\r\nfunction AESEncryptionUrl(url, CRYPTOJSKEY = COMMONKEY, SecurityLevel, IsDesk) {\r\n  //加密所使用的的key，需要与服务器端的解密key相对应\r\n  let newUrl = url;\r\n  let urlArray = url.split(\"?\");\r\n  let params = urlArray[1];\r\n  let host = urlArray[0];\r\n\r\n  if (SecurityLevel === 3 || SecurityLevel === 4) {\r\n    newUrl = host + \"?p=\" + encrypt(params, CRYPTOJSKEY); //参数加密处理\r\n  }\r\n\r\n  return newUrl;\r\n}\r\n// 加密\r\nfunction encrypt(plaintText, CRYPTOJSKEY) {\r\n  var options = {\r\n    mode: CryptoJS.mode.ECB,\r\n    padding: CryptoJS.pad.Pkcs7,\r\n  };\r\n  var key = CryptoJS.enc.Utf8.parse(CRYPTOJSKEY);\r\n  var encryptedData = CryptoJS.AES.encrypt(plaintText, key, options);\r\n  var encryptedBase64Str = encryptedData.toString().replace(/\\//g, \"_\");\r\n  encryptedBase64Str = encryptedBase64Str.replace(/\\+/g, \"-\");\r\n  return encryptedBase64Str;\r\n}\r\n//解密\r\n// eslint-disable-next-line\r\nfunction decrypt(encryptedBase64Str, CRYPTOJSKEY) {\r\n  // eslint-disable-next-line\r\n  var vals = encryptedBase64Str.replace(/\\-/g, \"+\").replace(/_/g, \"/\");\r\n  var options = {\r\n    mode: CryptoJS.mode.ECB,\r\n    padding: CryptoJS.pad.Pkcs7,\r\n  };\r\n  var key = CryptoJS.enc.Utf8.parse(CRYPTOJSKEY);\r\n  var decryptedData = CryptoJS.AES.decrypt(vals, key, options);\r\n  var decryptedStr = CryptoJS.enc.Utf8.stringify(decryptedData);\r\n  return decryptedStr;\r\n}\r\nexport default fetchService;\r\n","/**\r\n * @description: 初始化总开关\r\n * @param {*callback:回调函数}\r\n * @return {*}\r\n */\r\nimport { TokenCheck } from \"./connect\";\r\nimport config from \"./ipConfig\";\r\nimport {\r\n  setDataStorage,\r\n  getDataStorage,\r\n  getQueryVariable,\r\n  addOrgToUrl,\r\n  changeToArray,\r\n  urlRemLg_tk,\r\n} from \"./public\";\r\nimport fetch from \"./fetch\";\r\nlet { BasicProxy } = config;\r\nlet { get, post } = fetch;\r\nlet initCount = 0;\r\nexport const init = (params, success = () => {}, error = () => {}) => {\r\n  //   L10001 师资发展管理       管理员、教师（学校领导）\r\n  // 默认权限身份IC0002、IC0010\r\n\r\n  // L10002   师资发展培训  教师\r\n  // 默认权限身份IC0011、IC0012、IC0013\r\n  let moduleID = \"\";\r\n  // 先对params进行判断，是对象还是字符串，字符串就是moduleID，对象就是有很多数据存在里面\r\nlet onlyBase = false;//只要基础信息，不用验证用户，不用登陆功能\r\n  if (!params) {\r\n    //没定义或为null，undefiened,'',false,表示所有人都能进来\r\n    moduleID = \"\";\r\n  } else if (typeof params === \"string\") {\r\n    moduleID = params;\r\n  } else if (typeof params === \"object\") {\r\n    moduleID = params.moduleID || \"\";\r\n    onlyBase = params.onlyBase || false;\r\n  }\r\n  console.log(params);\r\n  // tokencheck前需要进行基础信息的请求\r\n  initCount++;\r\n  getBaseUrl((baseUrl)=>{\r\n    getBasePlatformMsg(baseUrl).then((data) => {\r\n      //data：基础平台信息，object,{BasePlatformAddr}\r\n      // console.log(data)\r\n      if(onlyBase){\r\n        success({\r\n          basePlatformMsg: data,\r\n        })\r\n        return;\r\n      }\r\n      if (data) {\r\n        TokenCheck({\r\n          //里面进行token验证，用户信息获取，回调返回true才能正常，不然页面初始化失败\r\n          firstLoad: true,\r\n          callback: (userInfo, token) => {\r\n            //有用户信息才能继续下面的工作\r\n            if (userInfo) {\r\n              // 检查锁控,不等于1的时候跳\r\n              // http://192.168.129.1/baseshare/Temp/V23%E7%9B%B8%E5%85%B3%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/%E5%8A%A0%E5%AF%86%E9%94%81%E6%8E%A7%E5%88%B6%E9%9B%86%E6%88%90%E7%9B%B8%E5%85%B3%E6%96%87%E6%A1%A3/%E3%80%90-2%E3%80%91%E4%BA%91%E5%B9%B3%E5%8F%B0%E5%8A%A0%E5%AF%86%E9%94%81%E6%8E%A7%E5%88%B6%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E.pdf\r\n              // if (userInfo.LockerState !== \"1\") {\r\n              //   window.location.href =\r\n              //     data.LockerServerRootUrl +\r\n              //     \"/LockerMgr/ErrorTips.aspx?ErrorCode=\" +\r\n              //     userInfo.LockerState;\r\n              //   return;\r\n              // }\r\n              let identityDetail = getIdentityDetail(moduleID);\r\n              \r\n              let termInfo = getTermInfo(\r\n                userInfo.SchoolID ? userInfo.SchoolID : \"\"\r\n              );\r\n              let systemServer = getSystemServer([\r\n                310, //教学方案\r\n                // 300, //教学方案\r\n                \"D21\", //精品课程\r\n                \"E34\", //档案\r\n                \"C10\", //电子资源\r\n              ]);\r\n  \r\n              // 多个接口，不能用await阻塞，要用Promise\r\n              // let identityDetail = getPromise(\r\n              //   getIdentityDetail.bind(this, moduleID)\r\n              // );\r\n              // let termInfo = getPromise(\r\n              //   getTermInfo.bind(this, userInfo.SchoolID ? userInfo.SchoolID : \"\")\r\n              // );\r\n              Promise.all([identityDetail, termInfo, systemServer]).then(\r\n                (res) => {\r\n                  let [identityDetail, termInfo, systemServer] = res;\r\n                    if(![\"IC0010\", \"IC0012\", \"IC0014\", \"IC0015\"].includes(identityDetail.IdentityCode) &&\r\n                     identityDetail.IsPreset &&\r\n                     window.location.href.indexOf(\"localhost\") == -1){\r\n                      let baseUrl = JSON.parse(sessionStorage.getItem(\"BasePlatformMsg\")).WebRootUrl;\r\n                      // 清掉storage\r\n                      sessionStorage.clear();\r\n                      localStorage.removeItem(\"token\");\r\n                      // console.log(urlRemLg_tk(window.location.href))\r\n                      window.location.href =\r\n                      baseUrl + \"?lg_preurl=\" + encodeURIComponent(urlRemLg_tk(window.location.href));\r\n                      return;\r\n                      // console.log(baseUrl);\r\n                      // alert(\"暂不支持该身份登录，请重新登录！\");\r\n                      // LogOut({});\r\n                      // window.open(baseUrl);\r\n                      // return;\r\n                    }\r\n                  success({\r\n                    identityDetail,\r\n                    basePlatformMsg: data,\r\n                    userInfo,\r\n                    termInfo,\r\n                    systemServer,\r\n                    token,\r\n                    role: setUnifyRole(userInfo, identityDetail, data),\r\n                  });\r\n                }\r\n              );\r\n            } else {\r\n              // error();\r\n            }\r\n          },\r\n        });\r\n      }\r\n       else {\r\n        //获取基础平台信息失败，进行三次，三次失败就失败了\r\n        if (initCount <= 2) {\r\n          init();\r\n        }\r\n  \r\n        error();\r\n      }\r\n    });\r\n  \r\n  })\r\n    \r\n    \r\n  \r\n};\r\n\r\n// 传个promise进去，返回promise\r\nconst getPromise = (promise) => {\r\n  return new Promise((resolve, reject) => {\r\n    promise().then((res) => {\r\n      resolve(res);\r\n    });\r\n  });\r\n};\r\n// 获取子系统的服务器地址信息\r\n/**\r\n * @description: 获取子系统的服务器地址信息\r\n * @param {*sysID：额外要求请求的sysid,可为数组或字符串}\r\n * @return {*}\r\n */\r\nconst getSystemServer = async (sysID) => {\r\n  let { WebRootUrl: baseIP } =\r\n    getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n      ? getDataStorage(\"BasePlatformMsg\")\r\n      : {};\r\n  // 200:个人信息管理系统ID\r\n  sysID = [400, 200].concat(changeToArray(sysID)).join(\",\"); //处理为数组\r\n  // 先处理，看storage里是否有全部的sysid,\r\n\r\n  const result = await get({\r\n    url: `${baseIP}/BaseApi/Global/GetSubSystemsMainServerBySubjectID?appid=L10&access_token=7f0fc0ce1335b77b0f3f944003713e09&subjectID=&sysIDs=${sysID}`,\r\n    securityLevel: 2,\r\n  });\r\n\r\n  const res = await result.json();\r\n  if (res.StatusCode === 200) {\r\n    let data = {};\r\n    if (res.Data instanceof Array) {\r\n      res.Data.forEach((child) => {\r\n        data[child.SysID] = child;\r\n      });\r\n    }\r\n    setDataStorage(\"SubSystemsMainServer\", data);\r\n    return data;\r\n  } else {\r\n    return {};\r\n  }\r\n};\r\n/**\r\n * @description: 处理用户信息，统一角色身份，返回统一后的教育局端、高校端的各种身份\r\n * @param {*userInfo:后台返回的用户个人信息，*identity：后台返回的身份信息,*baseMsg:平台基础信息}\r\n * @return {*}\r\n */\r\nconst setUnifyRole = (userInfo, identity, baseMsg) => {\r\n  ////*version:教育局：education，教育局学校：education-school，高校：university,高校学院：university-academy\r\n  // *identityCode:身份code,*identityName:身份名称，*userType:用户类型（旧的身份识别，保留），*userClass：用户类型2\r\n  // baseMsg.ProductUseRange:学校场景\r\n  // 1：单个专业英语院校，\r\n  // 2：单个普通大学，\r\n  // 3：单个中小学校，\r\n  // 4：多个中小学，\r\n  // 5：单个中职学校，\r\n  // 6：单个高职学校，\r\n  // 7：多个大学，\r\n  // 8：多个中职学校，\r\n  // 9：多个高职学校。\r\n  let Role = {\r\n    version: \"noPower\",\r\n    identityCode: \"\",\r\n    identityName: \"\",\r\n    userType: \"\",\r\n    userClass: \"\",\r\n  };\r\n  try {\r\n    let { ProductUseRange } = baseMsg;\r\n    let { IdentityCode, IdentityName } = identity;\r\n    Role.userType = parseInt(userInfo.UserType);\r\n    Role.userClass = parseInt(userInfo.UserClass);\r\n    Role.identityCode = IdentityCode;\r\n    Role.identityName = IdentityName;\r\n\r\n    ProductUseRange = parseInt(ProductUseRange);\r\n    let version = \"noPower\";\r\n    // 中小学教育局端没有学校id，用户信息拿到什么就传什么\r\n    let schoolID = userInfo.SchoolID ? userInfo.SchoolID : \"\";\r\n    // 学院id，大学有用\r\n    let collegeID = userInfo.CollegeID ? userInfo.CollegeID : \"\";\r\n    // 控制级别：1教育局，2学校，3学院\r\n    let selectLevel = 2;\r\n    // 数字记录组织类型：*1：教育局，*2：大学学校，*3：教育局学校*4大学学院\r\n    let productLevel = 3; //默认为3\r\n    // 根据身份和产品类型判断显示的版本\r\n    switch (ProductUseRange) {\r\n      // 1，2，6：单个大学，为高校版本学校端\r\n      case 1:\r\n      case 2:\r\n      case 6:\r\n      case 9:\r\n        //非学院管理员\r\n        if (IdentityCode !== \"IC0008\") {\r\n          //学校\r\n          version = \"university\";\r\n          productLevel = 2;\r\n          selectLevel = 2;\r\n        } else if (IdentityCode === \"IC0008\") {\r\n          //学院\r\n          version = \"university-academy\";\r\n          productLevel = 4;\r\n\r\n          selectLevel = 3;\r\n        }\r\n        break;\r\n      // 3,5:单个中小学，为教育局版本学校端\r\n      case 3:\r\n      case 5:\r\n        // if (IdentityCode.includes(\"IC000\")) {\r\n        //学校\r\n        version = \"education-school\";\r\n        selectLevel = 2;\r\n        productLevel = 3;\r\n\r\n        // } else {\r\n        //   version = 'noPower'; //无权限进入\r\n        // }\r\n        break;\r\n      // 4,8:多个中小学，为教育局版本教育局端\r\n      case 4:\r\n      case 8:\r\n        version = \"education-school\";\r\n        selectLevel = 2;\r\n        productLevel = 3;\r\n\r\n        //非g管理员\r\n        if (IdentityCode.includes(\"IC000\")) {\r\n          //code之后会有\r\n          //教育局\r\n          version = \"education\";\r\n          selectLevel = 1;\r\n          productLevel = 1;\r\n        }\r\n        // else if (IdentityCode === \"IC0008\") {\r\n        //   //教育局\r\n        //   version = \"education\";\r\n        // }\r\n        // else {\r\n        //   version = 'noPower'; //无权限进入\r\n        // }\r\n        break;\r\n      default:\r\n        version = \"noPower\";\r\n    }\r\n    // Role.version = version;\r\n    //2,3为学生家长，没有权限进来\r\n    // if (Role.userType === 2 || Role.userType === 3) {\r\n    //   goErrorPage(\"E011\");\r\n    //   return;\r\n    // }\r\n    Role = {\r\n      ...Role,\r\n      version,\r\n      selectLevel,\r\n      collegeID,\r\n      schoolID,\r\n      productLevel,\r\n      frameType:\r\n        Role.userType === 1\r\n          ? \"teacher\"\r\n          : Role.userType === 2 || Role.userType === 3\r\n          ? \"\"\r\n          : \"default\", //教师是没有左侧的，其它的都一样,2,3为学生家长，没有权限进来\r\n      //教师 UserType=1\r\n      level: !version.includes(\"-\") ? 1 : 0,\r\n    };\r\n    // if ( ProductUseRange === 1||) {\r\n    // }\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n  return Role;\r\n};\r\n/**\r\n * @description: 获取用户身份信息详情\r\n * @param {*模块id,不传则是所有的都可以}\r\n * @return {*{IconUrl: \"http://192.168.129.1:30101/lgftp/Power/IC0001.png\"\r\n              IdentityCode: \"IC0001\"\r\n              IdentityName: \"学校管理员\"\r\n              IsPreset: true}}\r\n */\r\nconst getIdentityDetail = async (moduleID = \"\") => {\r\n  let lg_ic = getQueryVariable(\"lg_ic\"); //获取url上的身份id，\r\n  let identityDetail = getDataStorage(\"IdentityMsg\")\r\n    ? getDataStorage(\"IdentityMsg\")\r\n    : false;\r\n  let identityList = [];\r\n  if (lg_ic) {\r\n    //存在，进行身份信息获取\r\n    // lg_ic可能有误，要进行用户所拥有的的身份列表验证\r\n    identityList = await getIdentityList();\r\n    identityList.forEach((child) => {});\r\n    if (\r\n      identityList.some((child) => {\r\n        return child.IdentityCode === lg_ic;\r\n      })\r\n    ) {\r\n      identityList = await GetIdentityTypeByCode(lg_ic);\r\n    }\r\n    // identityDetail = data[0];\r\n  } else if (identityDetail && identityDetail.IdentityCode) {\r\n    //不存在，获取session上存的身份信息,存在本次用这个\r\n    identityList = [identityDetail];\r\n  } else {\r\n    //不存在，获取该用户的身份列表，拿第一个\r\n    if (\r\n      getDataStorage(\"IdentityList\") instanceof Array &&\r\n      getDataStorage(\"IdentityList\").length > 0\r\n    ) {\r\n      identityList = getDataStorage(\"IdentityList\");\r\n    } else {\r\n      //请求\r\n      identityList = await getIdentityList();\r\n    }\r\n    // if (identityList instanceof Array && identityList.length > 0) {\r\n    //   identityDetail = identityList[0];\r\n    //   setDataStorage(\"IdentityMsg\", identityDetail);\r\n    //   // console.log(identityDetail);\r\n    // }\r\n  }\r\n\r\n  //判断该身份是否拥有访问本系统的权限\r\n  identityDetail =await IdentityRecognition(identityList, \"\");\r\n\r\n  identityDetail &&\r\n    window.history.pushState(\r\n      null,\r\n      null,\r\n      replaceIcOfUrl(identityDetail.IdentityCode)\r\n    );\r\n  return identityDetail;\r\n};\r\n/**\r\n * @description: 替换urllg_ic\r\n * @param {*}\r\n * @return {*url}\r\n */\r\nconst replaceIcOfUrl = (lg_ic) => {\r\n  return addOrgToUrl(window.location.href, \"lg_ic\", lg_ic);\r\n};\r\n//根据用户身份code获取用户身份详情\r\nconst GetIdentityTypeByCode = async (IdentityCodes) => {\r\n  const { SchoolID } = getDataStorage(\"UserInfo\")\r\n    ? getDataStorage(\"UserInfo\")\r\n    : {};\r\n  let { WebRootUrl: baseIP } =\r\n    getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n      ? getDataStorage(\"BasePlatformMsg\")\r\n      : {};\r\n  const result = await get({\r\n    url: `${baseIP}/UserMgr/PowerMgr/GetIdentityTypeByCode?SchoolID=${SchoolID}&IdentityCodes=${IdentityCodes}`,\r\n    securityLevel: 2,\r\n  });\r\n\r\n  const res = await result.json();\r\n\r\n  if (res.StatusCode === 200) {\r\n    return res.Data;\r\n  }\r\n};\r\n/**\r\n * @description: 确认身份是否有权限访问该模块，ModuleID不存在就默认能null,IdentityList必须是数组且有值为对象\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst IdentityRecognition = async (\r\n  IdentityList,\r\n  ModuleID = \"\",\r\n  callBack = () => {}\r\n) => {\r\n  if (!(IdentityList instanceof Array) || IdentityList.length === 0) {\r\n    goErrorPage(\"E011\");\r\n    return false;\r\n  }\r\n  let IdentityMsg = {};\r\n  if (ModuleID) {\r\n    const promiseList = IdentityList.map((i) => {\r\n      const res = ValidateIdentity(i.IdentityCode, ModuleID);\r\n\r\n      return res;\r\n    });\r\n    // 需要等所有请求返回\r\n    let res = await Promise.all(promiseList);\r\n\r\n    const index = res.findIndex((i) => i === true);\r\n    if (index >= 0) {\r\n      const IdentityItem = IdentityList[index];\r\n\r\n      setDataStorage(\"IdentityMsg\", IdentityItem);\r\n\r\n      typeof callBack === \"function\" && callBack(IdentityItem);\r\n      IdentityMsg = IdentityItem;\r\n    } else {\r\n      goErrorPage(\"E011\");\r\n      IdentityMsg = false;\r\n    }\r\n  } else {\r\n    setDataStorage(\"IdentityMsg\", IdentityList[0]);\r\n\r\n    typeof callBack === \"function\" && callBack(IdentityList[0]);\r\n    IdentityMsg = IdentityList[0];\r\n  }\r\n  return IdentityMsg;\r\n};\r\n/**\r\n * @description: 跳转至错误界面\r\n * @param {*}\r\n * @return {*}\r\n */\r\n\r\nconst goErrorPage = (errcode) => {\r\n  //  保证这个基础平台的信息是存在才能用\r\n  let { WebRootUrl: baseIP } =\r\n    getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n      ? getDataStorage(\"BasePlatformMsg\")\r\n      : {};\r\n  window.location.href = baseIP + \"/Error.aspx?errcode=\" + errcode;\r\n};\r\n//模块和身份校验\r\nconst ValidateIdentity = async (IdentityCode, ModuleID) => {\r\n  const { UserID } = getDataStorage(\"UserInfo\")\r\n    ? getDataStorage(\"UserInfo\")\r\n    : {};\r\n  let { WebRootUrl: baseIP } =\r\n    getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n      ? getDataStorage(\"BasePlatformMsg\")\r\n      : {};\r\n  const result = await post({\r\n    url: `${baseIP}/UserMgr/PowerMgr/ValidateIdentity`,\r\n    body: {\r\n      IdentityCode,\r\n      ModuleID,\r\n      UserID,\r\n    },\r\n    securityLevel: 2,\r\n  });\r\n\r\n  const res = await result.json();\r\n\r\n  if (res.StatusCode === 200) {\r\n    return res.Data;\r\n  }\r\n};\r\n/**\r\n * @description: 获取登陆用户身份列表\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst getIdentityList = async () => {\r\n  const { UserID } = getDataStorage(\"UserInfo\")\r\n    ? getDataStorage(\"UserInfo\")\r\n    : {};\r\n  // let { WebRootUrl: baseIP } =\r\n  //   getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n  //     ? getDataStorage(\"BasePlatformMsg\")\r\n  //     : {};\r\n  let { WebRootUrl: baseIP } =\r\n    getDataStorage(\"BasePlatformMsg\") instanceof Object\r\n      ? getDataStorage(\"BasePlatformMsg\")\r\n      : {};\r\n  const result = await get({\r\n    url: `${baseIP}/UserMgr/PowerMgr/GetIdentityTypeByUserID?UserID=${UserID}`,\r\n    securityLevel: 2,\r\n  });\r\n\r\n  const res = await result.json();\r\n  if (res.StatusCode === 200) {\r\n    setDataStorage(\"IdentityList\", res.Data);\r\n    return res.Data;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\n//获取基础平台地址\r\n///api/base/getServerInfo\r\nexport const getBaseUrl = (callback) => {\r\n  // callback(\"http://192.168.129.1:10102\");\r\n  // sessionStorage.setItem(\"baseUrl\", \"http://192.168.129.1:10102\");\r\n  let url = BasicProxy + \"/api/base/getServerInfo?sysIds=000\";\r\n  fetch\r\n  .get({ url })\r\n  .then((res)=>{\r\n    return res.json();\r\n  })\r\n  .then((result)=>{\r\n    if(result.status == 200 && result.data){\r\n      callback(result.data.webSvrAddr);\r\n      sessionStorage.setItem(\"baseUrl\", result.data.webSvrAddr);\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * @description: 异步，获取基础平台信息\r\n * @param {*keys:需要判断BasePlatformMsg是否存在这些字段，不匹配就请求}\r\n * @return {*promise}\r\n */\r\nexport const getBasePlatformMsg = async (baseUrl, keys = []) => {\r\n  // let url = BasicProxy + \"/Global/GetBaseInfo\";\r\n  console.log(baseUrl);\r\n  let url = baseUrl + \"/Global/GetBaseInfo\"\r\n  \r\n  let BasePlatformMsg = getDataStorage(\"BasePlatformMsg\"); //具体有什么字段这里不做判断，外部判断\r\n  let json = \"\";\r\n  let isExist = false;\r\n  keys = keys instanceof Array ? keys : [];\r\n  if (BasePlatformMsg && BasePlatformMsg instanceof Object) {\r\n    for (let key in keys) {\r\n      if (BasePlatformMsg[keys[key]] === undefined) {\r\n        isExist = false;\r\n      }\r\n    }\r\n  } else {\r\n    isExist = false;\r\n  }\r\n\r\n  if (isExist) {\r\n    json = await new Promise((resolve, reject) => {\r\n      resolve({\r\n        StatusCode: 200,\r\n        Data: BasePlatformMsg,\r\n      });\r\n    });\r\n  } else {\r\n    let res = await get({ url });\r\n    json = await res.json();\r\n  }\r\n\r\n  // let json = await pro();\r\n  // let res = await getData(url, 2, \"cors\", false, false);\r\n  // let json = await res.json();\r\n  if (json.StatusCode === 200) {\r\n    BasePlatformMsg = json.Data;\r\n  } else {\r\n    if (keys.length > 0) {\r\n      BasePlatformMsg = {}; //想获取某个值的时候给空对象\r\n    } else {\r\n      BasePlatformMsg = false; //有错误\r\n    }\r\n\r\n    // return ;\r\n  }\r\n  setDataStorage(\"BasePlatformMsg\", json.Data);\r\n\r\n  return BasePlatformMsg;\r\n};\r\n/**\r\n * @description: 异步，获取学年学期,http://192.168.129.1:8033/showdoc/web/#/21?page_id=2085\r\n * @param {*SchoolID:}\r\n * @return {*promise}\r\n */\r\nexport const getTermInfo = async (SchoolID, baseUrl) => {\r\n  // let url = BasicProxy + \"/Global/GetTermInfo\";\r\n  let url = BasicProxy + \"/api/base/listTermInfo?schoolId=\" + SchoolID;\r\n  let TermInfo = getDataStorage(\"TermInfo\"); //具体有什么字段这里不做判断，外部判断\r\n  let json = \"\";\r\n  //  界面第一次加载获取后保存，基本不会出错\r\n\r\n  if (TermInfo && TermInfo.TermInfo instanceof Array && TermInfo.length > 0) {\r\n    json = await new Promise((resolve, reject) => {\r\n      resolve({\r\n        StatusCode: 200,\r\n        Data: TermInfo,\r\n      });\r\n    });\r\n  } else {\r\n    let res = await get({ url });\r\n    json = await res.json();\r\n  }\r\n\r\n  // if (json.StatusCode == 200) {\r\n  //   TermInfo = json.Data;\r\n  // } else {\r\n  //   TermInfo = { TermInfo: [], HasHistory: false }; //有错误\r\n  // }\r\n  if (json.status == 200) {\r\n    let obj = {\r\n      HasHistory: json.data.length > 0? true: false,\r\n      TermInfo: json.data\r\n    }\r\n    TermInfo = obj;\r\n  } else {\r\n    TermInfo = { TermInfo: [], HasHistory: false }; //有错误\r\n  }\r\n  // console.log(TermInfo)\r\n  // if(!(json.Data instanceof Array)&&)\r\n  setDataStorage(\"TermInfo\", TermInfo);\r\n\r\n  return TermInfo;\r\n};\r\n","\r\n// leftmenu数据结构\r\n// leftMenu: [\r\n//   {\r\n//     key: \"teacherBaseMsg\",\r\n//     name: \"师资统计分析\",\r\n//     icon: Icon_1,\r\n//     children: [\r\n//       {\r\n//         key: \"teacherBaseMsg\",\r\n//         name: \"教师基本信息\",\r\n//       },\r\n//       {\r\n//         key: \"workMsg\",\r\n//         name: \"教师工作量\",\r\n//       },\r\n//       {\r\n//         key: \"teachingAbility\",\r\n//         name: \"教师教学能力\",\r\n//       },\r\n//       {\r\n//         key: \"informationizeAbility\",\r\n//         name: \"教师信息化能力\",\r\n//       },\r\n//       {\r\n//         key: \"schoolResource\",\r\n//         name: \"各校师资\",\r\n//       },\r\n//     ],\r\n//   },\r\n//   {\r\n//     key: \"teacherPersona\",\r\n//     name: \"教师画像查询\",\r\n//     icon: Icon_2,\r\n//     children: [],\r\n//   },\r\n//   {\r\n//     key: \"teacherRecruit\",\r\n//     name: \"教师招聘计划管理\",\r\n//     icon: Icon_3,\r\n//     children: [],\r\n//     // 除了左侧菜单的其它合法一级路由,打开这个路由，左侧会对应打开所属的节点\r\n//     params: [\r\n//       { key: \"publishRecruit\", title: \"发布招聘计划\" },\r\n//       { key: \"editRecruit\", title: \"编辑招聘计划\" },\r\n//       { key: \"recruitDetail\", title: \"招聘计划详情\" },\r\n//     ],\r\n//   },\r\n//   {\r\n//     key: \"teacherTrain\",\r\n//     name: \"教师培训计划管理\",\r\n//     icon: Icon_4,\r\n//     children: [],\r\n//   },\r\n//   { key: \"notice\", name: \"通知公告\", icon: Icon_5, children: [] },\r\n// ],\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  //   useRef,\r\n  forwardRef,\r\n  connect\r\n} from \"react\";\r\nimport { withRouter, NavLink } from \"react-router-dom\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { deepMap, handleRoute } from \"../../../util/public\";\r\nimport \"./index.scss\";\r\n// 在listen中无法做到list的实时更新，唯有做这个全局变量进行更新\r\n// let List = [];\r\n/**\r\n * @description: 下拉箭头控制\r\n * @param {*}\r\n * @return {*}\r\n */\r\nfunction MenuLink(props, ref) {\r\n  let { children: List, location, UserID } = props;\r\n  // list 全局赋值，保证listen里的值是最新\r\n  // list里的key值要保证名字不重复切字符不全包含，\r\n  // 下面的监听匹配是通过string.includes进行match的\r\n\r\n  // 设置该层唯一打开的菜单,空表示没有打开\r\n  const [openMenu, setOpenMenu] = useState(\"\");\r\n  // 设置选中的第一级菜单项，通过二级控制一级\r\n  const [selectMenu, setSelectMenu] = useState(false);\r\n\r\n  // 下级开关\r\n  const [routeAgain, setRouteAgain] = useState(true);\r\n  const [Path, setPath] = useState([]);\r\n\r\n  //  路由监听\r\n  useEffect(() => {\r\n    // 控制当下级箭头操作时在不影响路由的前提下可控isactive\r\n    // setRouteAgain(true);\r\n    let Path = handleRoute(location.pathname);\r\n    if(location.pathname.indexOf(\"page\") != -1){\r\n      window.location.reload();\r\n      return;\r\n    }\r\n    setPath(Path);\r\n    // let Path = location && location.pathname ? location.pathname : \"\";\r\n    deepMap(List, ({ child, index, level, parent }) => {\r\n      if (level === 1) {\r\n        if (\r\n          Path.some((path) => child.key === path) ||\r\n          selectMenu === child.key\r\n        ) {\r\n          setSelectMenu(false);\r\n          setOpenMenu(child.key);\r\n        }\r\n      } else if (level === 2) {\r\n        if (Path.some((path) => child.key === path)) {\r\n          setSelectMenu(parent[level - 2].key);\r\n        }\r\n      }\r\n    });\r\n    \r\n  }, [location, List, selectMenu]);\r\n  \r\n  return (\r\n    List instanceof Array &&\r\n    List.map((child, index) => {\r\n      let { key, name, icon, children, params } = child;\r\n      // icon:*false,表示不要图标且位置也不要，*undefined,表示使用默认标点,\r\n      // *true,保留图标位置，但不要图标,*string,图标url\r\n      // children:是否有下一级，非array或array length为0不做渲染\r\n      if (key === undefined) {\r\n        //如果key 为undefined，这个节点不能渲染\r\n        return \"\";\r\n      }\r\n      let haveChild = children instanceof Array && children.length > 0;\r\n      // 初始时是否打开下级菜单\r\n      let openChild = openMenu === key;\r\n      \r\n      return (\r\n        <div key={index} className=\"select-box\">\r\n          <div className=\"select-sub\">\r\n            <NavLink\r\n              isActive={(match, location) => {\r\n                // 选择下级的话就必定上级选中\r\n                if (\r\n                  match ||\r\n                  selectMenu === key ||\r\n                  (params instanceof Array &&\r\n                    params.some((param) => {\r\n                      return param.key === Path[0];\r\n                    })) ||\r\n                  (children instanceof Array &&\r\n                    children.some((child) => {\r\n                      return (\r\n                        child.params instanceof Array &&\r\n                        child.params.some((param) => {\r\n                          return param.key === Path[0];\r\n                        })\r\n                      );\r\n                    }))\r\n                ) {\r\n                  // 一级级选中后影响一级选中\r\n                  // setSelectMenu(false);\r\n                  // 路由变化的open才能使用\r\n                  if (routeAgain) {\r\n                    // setOpenMenu(key);\r\n                  }\r\n                  return true;\r\n                }\r\n              }}\r\n              to={\"/\" + (key.indexOf('page') == -1? key: key + \"/\" +　UserID)}\r\n              activeClassName={\"link-select\"}\r\n              className={`link-bar ${\"link-level-1\"}`}\r\n            >\r\n              {icon !== false ? (\r\n                <i\r\n                  className={`link-icon ${icon === undefined ? \"dot\" : \"\"}`}\r\n                  style={\r\n                    typeof icon === \"string\"\r\n                      ? { backgroundImage: `url(${icon})` }\r\n                      : {}\r\n                  }\r\n                ></i>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              <span className=\"link-name\" title={name}>\r\n                {name}\r\n              </span>\r\n            </NavLink>\r\n            {haveChild ? (\r\n              <i\r\n                className={`link-arrow ${openChild ? \"link-arrow-open\" : \"\"}`}\r\n                onClick={(e) => {\r\n                  // 阻止合成事件的冒泡\r\n                  e.stopPropagation();\r\n                  // 阻止与原生事件的冒泡\r\n                  e.nativeEvent.stopImmediatePropagation();\r\n                  setRouteAgain(false);\r\n                  // 可控制菜单的打开，取反\r\n                  setOpenMenu(openChild ? false : key);\r\n                }}\r\n              ></i>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n          {haveChild ? (\r\n            <div\r\n              className={`link-child-box ${openChild ? \"link-child-open\" : \"\"}`}\r\n              style={{ height: openChild ? `${children.length * 44}px` : 0 }}\r\n            >\r\n              {children.map((second, secondIndex) => {\r\n                let { key, name, icon, params } = second;\r\n                return (\r\n                  <NavLink\r\n                    isActive={(match, location) => {\r\n                      //  选中操作，可影响上级，只做选中操作\r\n\r\n                      // 选择下级的话就必定上级选中\r\n                      if (\r\n                        match ||\r\n                        (params instanceof Array &&\r\n                          params.some((param) => {\r\n                            return param.key === Path[0];\r\n                          }))\r\n                      ) {\r\n                        // 二级选中后影响一级选中\r\n                        // setSelectMenu(child.key);\r\n                        return true;\r\n                      }\r\n                    }}\r\n                    key={secondIndex}\r\n                    // location={'/'+key}\r\n                    to={\"/\" + key}\r\n                    activeClassName={\"link-select\"}\r\n                    className={`link-bar ${\"link-level-2\"}`}\r\n                  >\r\n                    {icon !== false ? (\r\n                      <i\r\n                        className={`link-icon ${\r\n                          icon === undefined ? \"dot\" : \"\"\r\n                        }`}\r\n                        style={\r\n                          typeof icon === \"string\"\r\n                            ? { backgroundImage: `url(${icon})` }\r\n                            : {}\r\n                        }\r\n                      ></i>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    <span className=\"link-name\" title={name}>\r\n                      {name}\r\n                    </span>\r\n                  </NavLink>\r\n                );\r\n              })}\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      );\r\n    })\r\n  );\r\n}\r\nfunction LeftMenu(props, ref) {\r\n  console.log(props)\r\n  let { \r\n    list: List,\r\n    location,\r\n    commonData: {\r\n      userInfo: {\r\n        UserID\r\n      }\r\n    }\r\n  } = props;\r\n  \r\n  return (\r\n    <div className=\"LeftMenu\">\r\n      <Scrollbars>\r\n        <MenuLink children={List} location={location} UserID={UserID}></MenuLink>{\" \"}\r\n      </Scrollbars>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(memo(forwardRef(LeftMenu)));\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAARCAYAAADUryzEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpERTFDQzM3QjY1MzcxMUVCOEUwOEU0OEUzMUY1NUU5MiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpERTFDQzM3QzY1MzcxMUVCOEUwOEU0OEUzMUY1NUU5MiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkRFMUNDMzc5NjUzNzExRUI4RTA4RTQ4RTMxRjU1RTkyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkRFMUNDMzdBNjUzNzExRUI4RTA4RTQ4RTMxRjU1RTkyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NjuCUgAAAltJREFUeNpiPHjrHgMO0ArEeUA8CYircSliwsKPBGI2IC4BYp6fv36Vuyem5UDFmfAZoATEp4A4K7u+xe/v3399QM3/th88/JqDnR2kOevLt283vn3/roLNAJDmw89fv1nnlpL1+sV/hub6Szdjcldu+Dd/935Bfh29v/nb9qVt2XfwNdDgi5v3HbCEGcAIDAOQISefvXy1Mrm+NVzd3V1bUluHE4t3PwNxmNm7FwEq8nIROY2tuhtnTH4MMiAK5DyP1OxXRv4B7tLa2lwMuAHIEL0oIZ7tq7fvfLNiy3Z7kO2x+46fPCIqK6OlaajPxcfGwoAH8wJxuSA/X6OjhbkCUK8bC5AwWbB241NTH28hQTY2BiKAFxA3y0tLglzqBTJA5MmLFwpx6ur8nOxEGSABxG/YWFl5gLQayIA3okKCotJC/C+BbFkiDHgBshSI3wIxPygMHN99/Pjm/5cv+4SALiAC7wDqeXn60pVwIP0R5ILIXQtmW/xnZLzxm40VFMq8+GKB7ffv3wz/GT6Y6GpPBvKzQS4oYWRk5Pr961d6Y0fPIn6gIUDMgAWDxMMY//9PBSXxX79/lwFpd5ABPbAke+f+Q2MeVhZdIJ4JxI+B+BeUBvF1f3z5ehZZPZAdAfJCtWdSxlOQV+Z3tvC8ePNuBQsz80QgvwkUwNAAswPiJUD82ikmKRlIP4VmrhWMaNmZaeG6jRstDPT0FGVluIFRBQqPt0DnXjp+7sL55qkzxf79+/du35J5pTANLGiB9A9ogD8Qu4L8B8SaQCwAlWMH4tVAvAtZA0CAAQAhOufsxm5eowAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpENERBRjJBNzY1MzcxMUVCQjE3RkMyRDhENDgwQTI0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpENERBRjJBODY1MzcxMUVCQjE3RkMyRDhENDgwQTI0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQ0REFGMkE1NjUzNzExRUJCMTdGQzJEOEQ0ODBBMjREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQ0REFGMkE2NjUzNzExRUJCMTdGQzJEOEQ0ODBBMjREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+J80QOAAAArxJREFUeNpiPHjrHgMUMANxPhCnA7EcED8C4plAPBGI/zLgAE4xSQwsUDYjEK/4+uev8uS9B3kunT3PKsHJIZse6FPLzcEePnf1eqv63EycBjFB6fif//5pFsxZqHft+g0pJUdHZiEPT86lz99yMzAyqajKy20C2shIyJDk5SfPsf/68oVZ38ubQVhMjIGbjY1BUEyM9cJfxgc2JkYmQDXeQPwAiP8j4YcgzTDvGJ46c5ZN3dycgZedDcWW13//qsvKSIDCK3DWw+cMhxYvZvjx+TNY7t/fvxJAagvMEIbv794xycjJMrCwsqAYwsrIyMDIyAiyVT1NXlIhraYMZ8BeUpeT1uVlYeZBN0Sane3Gv3///kADH+QdeSRpUAzKw3TMivZ07z/0/PUfaUUFuClAXb/1eLk4zl+9vh5k3oEPX2RWzJjF8PnTRwzvgLCWrIS4gPmvX+9+s7K8/sHAoMjFzHRPmZ31Gwsjo9HHz5//c3Fw1DoI8CQ5VBRheAcUO+3//zMErTl45MWRs+fZxP/8lDLgYmdWY2flePT23d8Zaze8V1dSUG0qzMkFamBGiyF47KSsPXj497nLV0SDA/0Zjty4zXD0+EmG9+/fKwgKCipYW5ozvP/7/6GGspI1UG3OK6Anu3onMHz48JHhD5J3BA4fO8GQl5bMICUpwaClqMDgamOFnp7kOX//AtG+Ygz/FXqK8zFj5/evnwxqctIM+MDf32BKAOoFOfTYeScpKsrFwczMwcSIPWX//fv39jcGBmEQm5eP939hUzvD2w8fGP78QXhncWpYcNqLZ89vK8vJqkDTAwz8//3nz40v376zvH73fi2Qr/L502eTpoIcDO+UvXj9xlhDWdHs1fsP6E4B8SWABmyNK6kEeWUDNpeCDPlV1NblBC1LvICYD4s6UIBtA+Lp2AwBCDAAnov81yEcI9wAAAAASUVORK5CYII=\"","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useMemo,\r\n  useLayoutEffect,\r\n  //   useReducer,\r\n  //   createContext,\r\n  useContext,\r\n  useRef,\r\n  // forwardRef,\r\n} from \"react\";\r\nimport { withRouter, useHistory, useLocation } from \"react-router-dom\";\r\n// import {frameContext} from '../index'\r\nimport \"./index.scss\";\r\nimport $ from \"jquery\";\r\nimport { handleRoute, autoAlert } from \"../../../util/public\";\r\nimport { Tabs } from \"antd\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { frameContext } from \"../index\";\r\nimport { debounce } from \"../../../util/public\";\r\nlet { TabPane } = Tabs;\r\n\r\nfunction Tab(props, ref) {\r\n  const {\r\n    // type,\r\n\r\n    // className,\r\n    componentList: ComponentList,\r\n    // children,\r\n    // history,\r\n    // location,\r\n    onContentresize,\r\n    // 传回来的tab的props，跟antd的Tab一样\r\n    tabPorps,\r\n    search,\r\n  } = props;\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  // 设置标签选择\r\n  const [TabActive, setTabActive] = useState(\"\");\r\n  // reduce\r\n  // const [state, dispatch] = useReducer(frameReducer, initState);\r\n  // ComponentList\r\n  //   const [ComponentList, setComponentList] = useState(componentList);\r\n  const [TabList, setTabList] = useState([]);\r\n  const [, setTabListLength] = useState(TabList.length);\r\n\r\n  const { state, dispatch } = useContext(frameContext);\r\n  // 路径\r\n  const Path = useMemo(() => {\r\n    // console.log(location);\r\n\r\n    return location && typeof location.pathname === \"string\"\r\n      ? handleRoute(location.pathname)\r\n      : \"\";\r\n  }, [location]);\r\n\r\n  // 标签页\r\n  useEffect(() => {\r\n    // console.log(Path, ComponentList, TabList);\r\n    // 查是否存在compoent\r\n    let resetRoute = \"\";\r\n    let tabkey = Path[0] + (Path[1] ? \"|\" + Path[1] : \"\");\r\n\r\n    Path instanceof Array &&\r\n      Path.length > 0 &&\r\n      ComponentList instanceof Array &&\r\n      ComponentList.forEach((child, index) => {\r\n        let { props } = child;\r\n        // 路由匹配包含，同事看tablist是否存在,尽量不要tabid有字符一样\r\n        // 是否重定向，当节点设置了mustParam的时候，path没有param则会重定向到指定的redirct路径，没设置redirct则重定向到该节点key\r\n        resetRoute = props.tabid === Path[0] && props.mustparam && !Path[1];\r\n        if (\r\n          Path[0] === props.tabid &&\r\n          !TabList.some((tab) => {\r\n            // id一样，如果没有param就返回true，如果有param就看param是否一样，一样就true\r\n            // 返回true说明tab是已经存在了这个tab，不会加，只会跳到对应的tab页\r\n            // 当component的param是存在，但路由没有传，则照常打开窗口，逻辑使用者处理\r\n\r\n            return (\r\n              props.tabid === tab.props.tabid &&\r\n              (!props.param || Path[1] === tab.props.param)\r\n            );\r\n          }) &&\r\n          !resetRoute\r\n          //  &&\r\n          // // paramList为限制二级路由的列表，如果路由出现不在列表的，不允许打开\r\n          // (!props.paramList ||\r\n          //   props.paramList.find((param) => {\r\n          //     return !Path[1] || param.key === Path[1];\r\n          //   }))\r\n        ) {\r\n          // tab数量最多10个，多了就删前面的\r\n          if (TabList.length >= 10) {\r\n            let len = TabList.length;\r\n            for (let i = 0; i < len - 9; i++) {\r\n              TabList.shift();\r\n            }\r\n          }\r\n          // 如果有param，替换param\r\n          let obj = {};\r\n          if (child.props.param) {\r\n            obj.param = Path[1];\r\n            obj.tabid = Path[0];\r\n          }\r\n          obj.tabkey = tabkey;\r\n\r\n          // if(props.paramList){\r\n          //   props.paramList.some((param) => {\r\n          //     obj.tabname = param.title;\r\n          //     return param.key === (Path[1]?Path[1]:'');\r\n          //   })\r\n          // }\r\n          TabList.push({ ...child, props: { ...props, ...obj } });\r\n          setTabList(TabList);\r\n          setTabListLength(TabList.length);\r\n        }\r\n        if (resetRoute) {\r\n          resetRoute = props.redirect;\r\n          // history.push(props.redirect);\r\n        }\r\n      });\r\n\r\n    if (resetRoute) {\r\n      history.push(resetRoute);\r\n    } else {\r\n      setTabActive(tabkey);\r\n    }\r\n    // console.log(Path, ComponentList);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [Path, ComponentList]);\r\n  // bar跳转\r\n  const routeTo = (active, param) => {\r\n    history.push(\"/\" + active.split(\"|\")[0] + (param ? \"/\" + param : \"\"));\r\n  };\r\n  // 移除tab\r\n  const removeTab = useCallback(\r\n    /**\r\n     * @description: *rmTabid:要移除的tabid,为'',undefined,null时删除当前tab，*reParam：有二级的时候要匹配的二级路由\r\n     * nextTabid,nextParam:要route到自己想到的位置时，\r\n     * @param {*}\r\n     * @return {*}\r\n     */\r\n    (rmTabid, reParam, nextTabid, nextParam, onlyOne) => {\r\n      if (TabList.length <= 0) {\r\n        return;\r\n      }\r\n      let List = [];\r\n\r\n      let tabIndex = 0;\r\n      let active = TabActive.split(\"|\")[0];\r\n      // let activeParam = TabActive.split(\"|\")[1];\r\n      let param = TabActive.split(\"|\")[1];\r\n      if (TabList.length === 1) {\r\n        // 当一个的时候，rmTabid有值，说明是先移除当前节点，再添加下一节点\r\n        if (typeof onlyOne === \"function\") {\r\n          // 更新活动\r\n          // setTabActive(active);\r\n\r\n          // 更新列表\r\n          setTabList(List);\r\n\r\n          // 通过路由修改\r\n          routeTo(nextTabid || active, nextTabid ? nextParam : param);\r\n          onlyOne(active, param);\r\n        } else {\r\n          routeTo(nextTabid || active, nextTabid ? nextParam : param);\r\n          // rmTabid&&removeTab(rmTabid,reParam)\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      if (!rmTabid) {\r\n        rmTabid = active;\r\n        reParam = param;\r\n      }\r\n      //不传rmTabid，表示移除当前tab 如果是删当前，选中往前移\r\n      if (rmTabid === active && reParam === param) {\r\n        let activeBar = {};\r\n        // 找到该tab的位置\r\n        TabList.some((child, index) => {\r\n          if (child.props.tabid === active && child.props.param === param) {\r\n            tabIndex = index;\r\n            return true;\r\n          }\r\n          return false;\r\n        });\r\n        if (tabIndex === TabList.length - 1) {\r\n          //最后往前移\r\n          activeBar = TabList[TabList.length - 2];\r\n        } else {\r\n          activeBar = TabList[tabIndex + 1];\r\n        }\r\n        active = activeBar.props.tabid;\r\n        param = activeBar.props.param;\r\n      }\r\n      // let List = [];\r\n      TabList.forEach((tab) => {\r\n        if (tab.props.tabid !== rmTabid || tab.props.param !== reParam) {\r\n          List.push(tab);\r\n        }\r\n      });\r\n      // 更新活动\r\n      // setTabActive(active);\r\n\r\n      // 更新列表\r\n      setTabList(List);\r\n\r\n      // 通过路由修改\r\n      routeTo(nextTabid || active, nextTabid ? nextParam : param);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [TabList, TabActive]\r\n  );\r\n  // 向外部传值\r\n  useImperativeHandle(\r\n    ref,\r\n    () => ({\r\n      activeTab: TabActive,\r\n      tabList: TabList,\r\n      removeTab,\r\n      // removeActiveTab: () => {\r\n      //   removeTab(TabActive);\r\n      // },\r\n    }),\r\n    [TabActive, TabList, removeTab]\r\n  );\r\n  // 获取可视区域高度\r\n  useLayoutEffect(() => {\r\n    let tabContent = $(\".Frame-contain-right  .ant-tabs-content-holder\");\r\n    let height = tabContent.height();\r\n    let width = tabContent.width();\r\n    typeof onContentresize === \"function\" && onContentresize(height, width);\r\n    dispatch({ type: \"RESIZE_CONTENT\", data: height });\r\n    let resize = (e) => {\r\n      let height = tabContent.height();\r\n      let width = tabContent.width();\r\n      typeof onContentresize === \"function\" && onContentresize(height, width);\r\n\r\n      dispatch({ type: \"RESIZE_CONTENT\", data: height });\r\n    };\r\n    window.addEventListener(\"resize\", debounce(resize, 500), false);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", debounce(resize, 500));\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  // console.log(ref)\r\n  return (\r\n    <Tabs\r\n      {...tabPorps}\r\n      animated={false}\r\n      activeKey={TabActive}\r\n      renderTabBar={(props, DefaultTabBar) => {\r\n        // console.log(TabList, TabList.length);\r\n\r\n        return (\r\n          <>\r\n            <DefaultTabBar\r\n              {...props}\r\n              // onTabClick={(key, e) => {\r\n              //   // setTabActive(key);\r\n              //   TabList.forEach((child) => {\r\n              //     let route = key.split(\"|\");\r\n              //     if (\r\n              //       route[0] === child.props.tabid &&\r\n              //       route[1] === child.props.param\r\n              //     ) {\r\n              //       // 通过路由修改\r\n              //       routeTo(key, child.props.param);\r\n              //       return true;\r\n              //     }\r\n              //     return false;\r\n              //   });\r\n              // }}\r\n              \r\n              className={`tab-nav-bar ${search ? \"haveSearch\" : \"\"}`}\r\n            ></DefaultTabBar>\r\n            {/* {search ? <div className=\"search-context\">{search}</div> : \"\"} */}\r\n          </>\r\n        );\r\n      }}\r\n    >\r\n      {TabList.map((child, index) => {\r\n        let { children, props } = child;\r\n        return (\r\n          <TabPane\r\n            tab={\r\n              // <NavLink to={\"/\" + props.tabid} className=\"tab-name\">\r\n              <div\r\n                className=\"tabname\"\r\n                title={props.tabname}\r\n                onClick={(key, e) => {\r\n                  // setTabActive(key);\r\n                  // let route = key.split(\"|\");\r\n\r\n                  routeTo(child.props.tabid, child.props.param);\r\n                  // TabList.forEach((child) => {\r\n                  //   let route = key.split(\"|\");\r\n                  //   if (\r\n                  //     route[0] === child.props.tabid &&\r\n                  //     route[1] === child.props.param\r\n                  //   ) {\r\n                  //     // 通过路由修改\r\n                  //     routeTo(key, child.props.param);\r\n                  //     return true;\r\n                  //   }\r\n                  //   return false;\r\n                  // });\r\n                }}\r\n              >\r\n                {props.tabname}\r\n                <i\r\n                  className=\"tab-close-btn\"\r\n                  onClick={(e) => {\r\n                    // 阻止合成事件的冒泡\r\n                    e.stopPropagation();\r\n                    // 阻止与原生事件的冒泡\r\n                    e.nativeEvent.stopImmediatePropagation();\r\n                    // console.log(e);\r\n                    removeTab(props.tabid, props.param);\r\n                    // // 一个不许删\r\n                    // if (TabList.length <= 1) {\r\n                    //   return;\r\n                    // }\r\n                    // let active = TabActive.split(\"|\")[0];\r\n                    // // let activeParam = TabActive.split(\"|\")[1];\r\n                    // let param = TabActive.split(\"|\")[1];\r\n                    // // 如果是删当前，选中往前移\r\n                    // if (props.tabid === active && props.param === param) {\r\n                    //   let activeBar = {};\r\n                    //   if (index === TabList.length - 1) {\r\n                    //     //最后往前移\r\n                    //     activeBar = TabList[TabList.length - 2];\r\n                    //   } else {\r\n                    //     activeBar = TabList[index + 1];\r\n                    //   }\r\n                    //   active = activeBar.props.tabid;\r\n                    //   param = activeBar.props.param;\r\n                    // }\r\n                    // let List = [];\r\n                    // TabList.forEach((tab) => {\r\n                    //   if (\r\n                    //     tab.props.tabid !== props.tabid ||\r\n                    //     tab.props.param !== props.param\r\n                    //   ) {\r\n                    //     List.push(tab);\r\n                    //   }\r\n                    // });\r\n                    // // 更新活动\r\n                    // // setTabActive(active);\r\n                    // // 更新列表\r\n                    // setTabList(List);\r\n                    // // 通过路由修改\r\n                    // routeTo(active, param);\r\n                  }}\r\n                ></i>\r\n              </div>\r\n            }\r\n            key={props.tabkey}\r\n          >\r\n            <Scrollbars>{children}</Scrollbars>\r\n          </TabPane>\r\n        );\r\n      })}\r\n    </Tabs>\r\n  );\r\n}\r\nexport default memo(React.forwardRef(Tab));\r\n","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  //   useImperativeHandle,\r\n  //   useMemo,\r\n  //   useReducer,\r\n  //   createContext,\r\n  //   useContext,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport {\r\n  getDataStorage,\r\n  addElement,\r\n  addScript,\r\n  autoAlert,\r\n} from \"@/util/public\";\r\nimport { LogOut } from \"@/util/connect\";\r\nimport fetch from \"@/util/fetch\";\r\nimport \"./index.scss\";\r\nimport moment from \"moment\";\r\nimport $ from \"jquery\";\r\nlet { get, post } = fetch;\r\n\r\nfunction TopBar(props, ref) {\r\n  let {\r\n    userInfo: UserInfo,\r\n    basePlatFormMsg: BasePlatFormMsg,\r\n    platMsg: PlatMsg,\r\n    identity: Identity,\r\n    type,\r\n    systemServer,\r\n    moduleName,\r\n    initData,\r\n  } = props;\r\n  const [Time, setTime] = useState(\"\");\r\n  // 消息中心加载完成\r\n  const [MsgInit, setMsgInit] = useState(false);\r\n  const msgRef = useRef(null);\r\n  // 获取消息中心\r\n  useEffect(() => {\r\n    // if (BasePlatFormMsg && BasePlatFormMsg.WebRootUrl) {\r\n    //   let { WebRootUrl: baseIP } = BasePlatFormMsg;\r\n    //   post({\r\n    //     url: `${baseIP}Base/WS/Service_Basic.asmx/WS_G_GetSubSystemServerInfo`,\r\n    //     body: {\r\n    //       subjectID: \"\",\r\n    //       sysID: 200,\r\n    //     },\r\n    //     // securityLevel: 2,\r\n    //   })\r\n    //     .then((result) => {\r\n    //       return result.json();\r\n    //     })\r\n    //     .then((res) => {\r\n    //       if (res.StatusCode === 200) {\r\n    //         let data = {};\r\n    //         console.log(res);\r\n    //         return data;\r\n    //       } else {\r\n    //         return {};\r\n    //       }\r\n    //     });\r\n    // }\r\n    if (initData && initData.systemServer && initData.systemServer[200]) {\r\n      let wsAddr = initData.systemServer[200].WebSvrAddr;\r\n      let {\r\n        token,\r\n        basePlatformMsg: { WebRootUrl },\r\n      } = initData;\r\n      //1.动态引入css\r\n      addElement(\r\n        {\r\n          rel: \"stylesheet\",\r\n          type: \"text/css\",\r\n          id: \"PsnMgr_link_assistantInfoCenter\",\r\n\r\n          href:\r\n            wsAddr +\r\n            \"/PsnMgr/LgAssistant/css/lancoo.cp.assistantInfoCenter.css\",\r\n        },\r\n        \"link\",\r\n        \"body\"\r\n      );\r\n      // 2.将用户Token，基础平台地址MainServerAddr，\r\n      // 个人信息管理系统地址LgAssistantAddr，三个值保存到sessionStorage\r\n      sessionStorage.setItem(\"PsnMgrToken\", token); //用户Token\r\n      sessionStorage.setItem(\"PsnMgrMainServerAddr\", WebRootUrl); //基础平台IP地址和端口号形如：http://192.168.129.1:30103/\r\n      sessionStorage.setItem(\"PsnMgrLgAssistantAddr\", wsAddr); //个人信息管理系统Web站点IP地址和端口号形如：http://192.168.129.1:10103/\r\n      // 3.引入js\r\n      //\r\n      addScript({\r\n        src: wsAddr + \"/PsnMgr/LgAssistant/js/jquery-1.7.2.min.js\",\r\n        id: \"PsnMgr_script_jq\",\r\n      }).then((res) => {\r\n        if (res) {\r\n          addScript({\r\n            src: wsAddr + \"/PsnMgr/LgAssistant/assets/jquery.pagination.js\",\r\n            id: \"PsnMgr_script_pagination\",\r\n          }).then((res) => {\r\n            if (res) {\r\n              addScript({\r\n                src:\r\n                  wsAddr +\r\n                  \"/PsnMgr/LgAssistant/js/lancoo.cp.assistantInfoCenter.js\",\r\n                id: \"PsnMgr_script_assistantInfoCenter\",\r\n              }).then((res) => {\r\n                if (res) {\r\n                  setMsgInit(true);\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n    // console.log(systemServer)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [initData]);\r\n  useEffect(() => {\r\n    let Interval = setInterval(() => {\r\n      let Moment = moment();\r\n      let now = (\r\n        <>\r\n          {Moment.format(\"YYYY-MM-DD\")}\r\n          <span className={\"time-space\"}></span>\r\n          {Moment.format(\"dddd\")}\r\n          <span className={\"time-space\"}></span>\r\n          {Moment.format(\"hh:mm\")}\r\n        </>\r\n      );\r\n      // console.log(\r\n      //   now\r\n      // );\r\n      setTime(now);\r\n    }, 1000);\r\n    return () => {\r\n      clearInterval(Interval);\r\n    };\r\n  }, []);\r\n  // 点击消息字也可以打开消息中心\r\n  const onMsgClick = useCallback(() => {\r\n    $(msgRef.current).click();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [MsgInit]);\r\n  return (\r\n    <div\r\n      className={` Frame-topBar ${\r\n        type === \"teacher\" ? \"Frame-topBar-teacher\" : \"Frame-topBar-default\"\r\n      }`}\r\n    >\r\n      {type === \"default\" && (\r\n        <>\r\n          {\" \"}\r\n          <i\r\n            className=\"Frame-logo\"\r\n            // style={{ background: `url(${PlatMsg.logo}) no-repeat` }}\r\n          ></i>\r\n          {UserInfo ? (\r\n            <div className={\"Frame-userMsg  Frame-devide\"}>\r\n              <i\r\n                className=\"user-pic\"\r\n                style={{\r\n                  background: `url(${UserInfo.PhotoPath}) no-repeat center center/28px 28px`,\r\n                  cursor: BasePlatFormMsg ? \"pointer\" : \"auto\",\r\n                }}\r\n                onClick={() => {\r\n                \r\n                  BasePlatFormMsg &&\r\n                    window.open(\r\n                      BasePlatFormMsg.WebRootUrl +\r\n                        \"/html/personalMgr/?lg_tk=\" +\r\n                        getDataStorage(\"token\") +\r\n                        \"#/\"\r\n                    );\r\n                }}\r\n              >\r\n                {\" \"}\r\n              </i>\r\n              <span\r\n                onClick={() => {\r\n               \r\n                  BasePlatFormMsg &&\r\n                    window.open(\r\n                      BasePlatFormMsg.WebRootUrl +\r\n                        \"/html/personalMgr/?lg_tk=\" +\r\n                        getDataStorage(\"token\") +\r\n                        \"#/\"\r\n                    );\r\n                }}\r\n                title={UserInfo.UserName}\r\n                className={\"user-name\"}\r\n              >\r\n                {UserInfo.UserName}\r\n              </span>\r\n              <span\r\n                className=\"user-iden\"\r\n                style={{\r\n                  background: `url(${Identity.IconUrl}) no-repeat center center/contain  `,\r\n                }}\r\n              >\r\n                {Identity.IdentityCode && Identity.IdentityCode.includes(\"IC1\")\r\n                  ? Identity.IdentityName\r\n                  : \"\"}\r\n              </span>\r\n              <span\r\n                className=\"logout\"\r\n                onClick={() => {\r\n                  autoAlert({\r\n                    title: \"确定要退出登录吗?\",\r\n                    type: \"btn-warn\",\r\n                    cancelShow: true,\r\n                    onOk: () => {\r\n                      LogOut({});\r\n                    },\r\n                  });\r\n                }}\r\n              ></span>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <div className=\"Frame-open Frame-devide\">\r\n            {MsgInit ? (\r\n              <span className=\"open-msg\" onClick={onMsgClick}>\r\n                <i ref={msgRef} className=\"msg\" id={\"Assistant_infoCenter\"}></i>\r\n                消息\r\n              </span>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            <span\r\n              className=\"open-help\"\r\n              onClick={() => {\r\n                // if(identity == \"IC0010\"){\r\n                //   window.open(\"/UserHelp/270-L.html?lg_tk=\" + sessionStorage.getItem('token'))\r\n                //   return;\r\n                // }\r\n                if(Identity.IdentityCode == \"IC0012\"){\r\n                  window.open(\"/student-growth/UserHelp/270-T.html?lg_tk=\" + sessionStorage.getItem('token'))\r\n                  return;\r\n                }\r\n                if(Identity.IdentityCode == \"IC0014\" || Identity.IdentityCode == \"IC0015\"){\r\n                  window.open(\"/student-growth/UserHelp/270-S.html?lg_tk=\" + sessionStorage.getItem('token'))\r\n                  return;\r\n                }\r\n                window.open(\"/student-growth/UserHelp/270-L.html?lg_tk=\" + sessionStorage.getItem('token'))\r\n              }}\r\n            >\r\n              帮助\r\n            </span>\r\n          </div>\r\n          {Time ? <div className=\"Frame-time  Frame-devide\">{Time}</div> : \"\"}\r\n        </>\r\n      )}\r\n      {type === \"teacher\" && (\r\n        <>\r\n          <div className=\"tb-bar\">\r\n            <i\r\n              className=\"tb-logo\"\r\n              style={{\r\n                background: `url(${BasePlatFormMsg.ProductLogoUrl}) no-repeat center center/contain`,\r\n              }}\r\n            ></i>\r\n            <span className=\"tb-title\">\r\n              {BasePlatFormMsg.ProductName\r\n                ? BasePlatFormMsg.ProductName\r\n                : \"一体化智慧校园\"}\r\n            </span>\r\n            {UserInfo ? (\r\n              <div className={\"Frame-userMsg  Frame-devide\"}>\r\n                <i\r\n                  className=\"user-pic\"\r\n                  style={{\r\n                    background: `url(${UserInfo.PhotoPath}) no-repeat center center/28px 28px`,\r\n                    cursor: BasePlatFormMsg ? \"pointer\" : \"auto\",\r\n                  }}\r\n                  onClick={() => {\r\n                    BasePlatFormMsg &&\r\n                      window.open(\r\n                        BasePlatFormMsg.WebRootUrl +\r\n                          \"/html/personalMgr/?lg_tk=\" +\r\n                          getDataStorage(\"token\") +\r\n                          \"#/\"\r\n                      );\r\n                  }}\r\n                >\r\n                  {\" \"}\r\n                </i>\r\n                <span\r\n                  onClick={() => {\r\n                    BasePlatFormMsg &&\r\n                      window.open(\r\n                        BasePlatFormMsg.WebRootUrl +\r\n                          \"/html/personalMgr/?lg_tk=\" +\r\n                          getDataStorage(\"token\") +\r\n                          \"#/\"\r\n                      );\r\n                  }}\r\n                  title={UserInfo.UserName}\r\n                  className={\"user-name\"}\r\n                >\r\n                  {UserInfo.UserName}\r\n                </span>\r\n                <span\r\n                  className=\"user-iden\"\r\n                  style={{\r\n                    background: `url(${Identity.IconUrl}) no-repeat center center/contain  `,\r\n                  }}\r\n                >\r\n                  {Identity.IdentityCode &&\r\n                  Identity.IdentityCode.includes(\"IC1\")\r\n                    ? Identity.IdentityName\r\n                    : \"\"}\r\n                </span>\r\n                <span\r\n                  className=\"logout\"\r\n                  onClick={() => {\r\n                    LogOut({});\r\n                  }}\r\n                ></span>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            <div className=\"Frame-open Frame-devide\">\r\n              {MsgInit ? (\r\n                <span className=\"open-msg\" onClick={onMsgClick}>\r\n                  <i\r\n                    ref={msgRef}\r\n                    className=\"msg\"\r\n                    id={\"Assistant_infoCenter\"}\r\n                  ></i>\r\n                  {/* 消息 */}\r\n                </span>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"tb-name\">\r\n            {moduleName ? (\r\n              <span className=\"tb-module-name\">{moduleName}</span>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default memo(forwardRef(TopBar));\r\n","import React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  // useMemo,\r\n  useReducer,\r\n  createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n  ForwardedRef,\r\n  useCallback,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { withRouter, Router, Route, HashRouter } from \"react-router-dom\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { handleRoute } from \"@/util/public\";\r\n\r\nfunction RouteTab(props, ref) {\r\n  let {\r\n    children,\r\n    routeList,\r\n    basePlatFormMsg,\r\n    domList,\r\n    ProVersion,\r\n    location,\r\n    history,\r\n  } = props;\r\n  // 路由变化,控制头部modulename\r\n  useEffect(() => {\r\n    let Path = handleRoute(location.pathname);\r\n    let isExist = false;\r\n    routeList.forEach((child, index) => {\r\n      if (child.props.routeid === Path[0]) {\r\n        isExist = true;\r\n        // 路由上有parma，但组件没有，改变路由\r\n        if (Path[1] && !child.props.param) {\r\n          history.push(\"/\" + child.props.routeid);\r\n        } else if (!Path[1] && child.props.param) {\r\n          //有设置param但路由没有\r\n          if (!routeList[0].props.param)\r\n            history.push(\"/\" + routeList[0].props.routeid);\r\n          else {\r\n            window.location.href =\r\n              basePlatFormMsg.BasicWebRootUrl + \"/Error.aspx?errcode=E012\";\r\n\r\n            //http://192.168.2.207:10108/Error.aspx?errcode=E012\r\n          }\r\n        }\r\n      }\r\n    });\r\n    if (!isExist && routeList.length > 0) {\r\n      history.push(\"/\" + routeList[0].props.routeid);\r\n    }\r\n    return () => {};\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location, routeList]);\r\n  return (\r\n    <Scrollbars>\r\n      <div className=\"lg-route-tab\">\r\n        {/* <div style={{ height: \"1000px\" }}> */}\r\n        <HashRouter>\r\n          {routeList.map((child, index) => {\r\n            let param = child.props.param ? \"/:\" + child.props.param : \"\";\r\n            return (\r\n              <Route\r\n                key={index}\r\n                path={\"/\" + child.props.routeid + param}\r\n                //   component={child}\r\n              >\r\n                {child}\r\n              </Route>\r\n            );\r\n          })}\r\n        </HashRouter>\r\n        {/* </div> */}\r\n        {ProVersion}\r\n      </div>\r\n    </Scrollbars>\r\n  );\r\n}\r\n\r\nexport default withRouter(memo(forwardRef(RouteTab)));\r\n","import React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  //   useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport { withRouter, Router, Route, HashRouter } from \"react-router-dom\";\r\nimport { handleRoute } from \"@/util/public\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { EmptyReact } from \"@/component/common\";\r\nimport \"./index.scss\";\r\n//   import { Search, Empty } from \"../common\";\r\n\r\nfunction Page(props, ref) {\r\n  let {\r\n    className,\r\n    basePlatFormMsg,\r\n    pageList,\r\n    location,\r\n    history,\r\n    useScrollbars,\r\n    ProVersion,\r\n    domList,\r\n    // commonData: {\r\n    //   userInfo: {\r\n    //     UserID\r\n    //   }\r\n    // }\r\n  } = props;\r\n  useEffect(() => {\r\n    let Path = handleRoute(location.pathname);\r\n    let isExist = false;\r\n    pageList.forEach((child, index) => {\r\n      if (child.props.pageid === Path[1]) {\r\n        isExist = true;\r\n        // 路由上有parma，但组件没有，改变路由\r\n        if (Path[2] && !child.props.param) {\r\n          history.push(\"/page/\" + child.props.pageid);\r\n        } else if (!Path[2] && child.props.param) {\r\n          //有设置param但路由没有,如果第一个也没有就有组件自己控制\r\n          if (!pageList[0].props.param) {\r\n            history.push(\"/page/\" + pageList[0].props.pageid);\r\n          } else {\r\n            window.location.href =\r\n              basePlatFormMsg.BasicWebRootUrl + \"/Error.aspx?errcode=E012\";\r\n\r\n            //http://192.168.2.207:10108/Error.aspx?errcode=E012\r\n          }\r\n        }\r\n      }\r\n    });\r\n    if (!isExist && pageList.length > 0) {\r\n      let UserID = sessionStorage.getItem(\"UserInfo\")? JSON.parse(sessionStorage.getItem(\"UserInfo\")).UserID: \"\";\r\n      history.push(\"/page/\" + pageList[0].props.pageid + \"/\" + UserID);\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [pageList, location]);\r\n  return (\r\n    <EmptyReact\r\n      component={useScrollbars === undefined || useScrollbars ? Scrollbars : \"\"}\r\n    >\r\n      <div className={`lg-page ${className ? className : \"\"}`}>\r\n        <HashRouter>\r\n          {pageList.map((child, index) => {\r\n            let param = child.props.param ? \"/:\" + child.props.param : \"\";\r\n            return (\r\n              <Route\r\n                key={index}\r\n                path={\"/page/\" + child.props.pageid + param}\r\n                //   component={child}\r\n              >\r\n                {child}\r\n              </Route>\r\n            );\r\n          })}\r\n        </HashRouter>\r\n        {/* <p className='lg-page-proversion'>{ProVersion}</p> */}\r\n      </div>\r\n    </EmptyReact>\r\n  );\r\n}\r\nexport default withRouter(memo(forwardRef(Page)));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-18 19:36:59\r\n * @LastEditTime: 2020-12-22 16:49:55\r\n * @Description: 平台框架\r\n * @FilePath: \\teacher-development\\src\\component\\frame\\index.js\r\n */\r\nimport React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  // useMemo,\r\n  useReducer,\r\n  createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n  ForwardedRef,\r\n  useCallback,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { withRouter, useLocation } from \"react-router-dom\";\r\nimport $ from \"jquery\";\r\n\r\nimport logo from \"./images/image-top-name.png\";\r\nimport { init } from \"@/util/init\";\r\nimport { Loading } from \"@/component/common\";\r\n\r\nimport LeftMenu from \"./leftMenu\";\r\nimport Icon_1 from \"./images/icon-select-1.png\";\r\nimport Icon_2 from \"./images/icon-select-2.png\";\r\nimport Tab from \"./Tab\";\r\nimport TopBar from \"./TopBar\";\r\nimport RouteTab from \"./routeTab\";\r\nimport Page from \"./page\";\r\nimport { handleRoute } from \"@/util/public\";\r\n// 创建frame的context\r\nexport const frameContext = createContext();\r\nconst initState = {\r\n  contentHeight: 0,\r\n};\r\nconst frameReducer = (state, actions) => {\r\n  switch (actions.type) {\r\n    case \"RESIZE_CONTENT\":\r\n      return Object.assign({}, state, {\r\n        contentHeight: actions.data,\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nconst leftMenu_0 = [\r\n  {\r\n    key: \"page/personalDetail\",\r\n    name: \"智能画像\",\r\n    icon: Icon_2,\r\n    children: [],\r\n    params: [{ key: \"page/personalDetail\", title: \"智能画像\" }],\r\n  },\r\n  {\r\n    key: \"stuStatusMsg\",\r\n    name: \"多维档案\",\r\n    icon: Icon_1,\r\n    children: [\r\n      {\r\n        key: \"stuStatusMsg\",\r\n        name: \"学籍档案\",\r\n      },\r\n      {\r\n        key: \"stuConditionMsg\",\r\n        name: \"学情档案\",\r\n      },\r\n      {\r\n        key: \"attendanceMsg\",\r\n        name: \"考勤档案\",\r\n      },\r\n      {\r\n        key: \"healthMsg\",\r\n        name: \"健康档案\",\r\n      },\r\n      {\r\n        key: \"awardAndPunish\",\r\n        name: \"奖惩档案\",\r\n      },\r\n      {\r\n        key: \"schoolLiveMsg\",\r\n        name: \"校园生活档案\",\r\n      },\r\n\r\n    ],\r\n  },\r\n];\r\n/**\r\n * @description: frame的children的属性需要包含tabid，tabname，可有param\r\n * @param {*}\r\n * @return {*}\r\n */\r\nfunction Frame(props, ref) {\r\n  // type控制显示骨架类型，不存在或false则界面loading\r\n  // type:*default:默认模式，存在左侧菜单和默认头部，children为中部内容区\r\n  // *default-teacher:没有左侧区域，只有中间区域\r\n  // search为tab的搜索区域，undefined则不会出现\r\n  const {\r\n    type,\r\n    // 初始化回调\r\n    pageInit,\r\n    className,\r\n    moduleID,\r\n    // 平台信息，头部的logo和名称\r\n    platMsg,\r\n    // 左侧菜单，结构看leftmenu里面注释\r\n    leftMenu,\r\n    children,\r\n    // 主动获取frame当前的活动标签页，回调函数\r\n    getActiveTab,\r\n    // 控制tab的props，与antd的tabs一样配置\r\n    tabPorps,\r\n    // 回调函数，获取标签页主要区域的宽高\r\n    onContentresize,\r\n    // 是否需要进行默认的趋势化操作，缺省为需要，false为不需要，配合不需要登陆逻辑的界面\r\n    onlyBase,\r\n    search,\r\n    commonData\r\n  } = props;\r\n\r\n  // 是否初始化\r\n  let [Init, setInit] = useState(false);\r\n  // 身份信息\r\n  let [Identity, setIdentity] = useState(false);\r\n  // 用户信息\r\n  let [UserInfo, setUserInfo] = useState(false);\r\n  // 基础平台信息\r\n  let [BasePlatFormMsg, setBasePlatFormMsg] = useState(false);\r\n  // 可用区域高度\r\n  // const [contentHeight, setContentHeight] = useState(0);\r\n  // 骨架外层loading\r\n  let [FrameLoading, setFrameLoading] = useState(true);\r\n  // 平台信息\r\n  let [PlatMsg, setPlatMsg] = useState({ logo });\r\n  // 各服务器url\r\n  let [SystemServer, setSystemServer] = useState(null);\r\n  // // init 的所有数据\r\n  // const [InitData,setInitData] =useState(null)\r\n  // 左侧菜单\r\n  let [MenuList, setMenuList] = useState(leftMenu_0);\r\n  // tab的ref；\r\n  const tabRef = useRef({});\r\n  // reduce\r\n  const [state, dispatch] = useReducer(frameReducer, initState);\r\n  // ComponentList\r\n  const [ComponentList, setComponentList] = useState([]);\r\n\r\n  // 单页面的,还保留头部的\r\n  //   存得到路由标签\r\n  const [routeList, setRouteList] = useState([]);\r\n  //   存普通的节点\r\n  const [domList, setDomList] = useState([]);\r\n  //   存底部版本\r\n  const [proversion, setProVersion] = useState(\"\");\r\n\r\n  // 路由\r\n  const location = useLocation();\r\n\r\n  // 设置modulename\r\n  const [moduleName, setModuleName] = useState(undefined);\r\n  // end 单页面\r\n\r\n  // 单页面2\r\n  //   存得到路由标签\r\n  const [pageList, setPageList] = useState([]);\r\n  // let { ComponentList, TabList } = state;\r\n  // init成功\r\n  const [initData, setInitData] = useState(false);\r\n  // 页面初始化副作用，依赖moduleID，pageInit,type\r\n  useEffect(() => {\r\n    //初始化，didmount，只依赖moduleid，依赖type会请求多次\r\n    type &&\r\n      // onlyBase !== false &&\r\n      init(\r\n        {moduleID,onlyBase:onlyBase},//onlyBase:只要基础信息，不用验证用户，不用登陆功能\r\n        (data) => {\r\n          //成功\r\n          if (data.identityDetail && data.role.version !== \"noPower\") {\r\n            //true表示该身份有效\r\n            setIdentity(data.identityDetail);\r\n            data.userInfo && setUserInfo(data.userInfo);\r\n            data.basePlatformMsg && setBasePlatFormMsg(data.basePlatformMsg);\r\n            setSystemServer(data.systemServer ? data.systemServer : false);\r\n            // typeof pageInit === \"function\" && pageInit(data);\r\n            setInitData(data);\r\n            // type && setFrameLoading(false); //加载完毕，去掉laoding，需要type存在\r\n            setInit(true);\r\n          }else if(onlyBase){\r\n            data.basePlatformMsg && setBasePlatFormMsg(data.basePlatformMsg);\r\n            setInitData(data);\r\n            setInit(true);\r\n            \r\n          } else {\r\n            //身份无效\r\n            // console.log('无效')\r\n            document.location.href =\r\n              data.basePlatformMsg.BasicWebRootUrl + \"/Error.aspx?errcode=E011\";\r\n          }\r\n        },\r\n        () => {\r\n          // type && setFrameLoading(true); //加载完毕，去掉laoding，需要type存在\r\n        }\r\n      );\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [moduleID]);\r\n\r\n  // 监听type变化，修改loading,解决接口因为type变化请求多次问题请求多次\r\n  // 初始化成功后的逻辑与初始化分开比较好\r\n  useEffect(() => {\r\n    // 初始化成功和loading还在才运行\r\n    if ((Init ) && FrameLoading) {\r\n      typeof pageInit === \"function\" &&\r\n        pageInit(initData).then((isInit) => {\r\n          if (isInit) {\r\n            type && setFrameLoading(false);\r\n          }\r\n        });\r\n    }\r\n  }, [type, initData, Init, pageInit, FrameLoading, onlyBase]);\r\n  // 平台信息副作用,\r\n  useEffect(() => {\r\n    // 对platMsg做把控，防止传进来的数据不对\r\n    platMsg instanceof Object &&\r\n      setPlatMsg({\r\n        logo: platMsg.logo ? platMsg.logo : logo,\r\n        ...platMsg,\r\n      });\r\n  }, [platMsg]);\r\n  // 初始化左侧菜单列表和顶部数据\r\n  // useEffect(() => {\r\n  //   // 对platMsg做把控，防止传进来的数据不对\r\n  //   platMsg instanceof Object &&\r\n  //     setPlatMsg({\r\n  //       logo: platMsg.logo ? platMsg.logo : logo,\r\n  //       ...platMsg,\r\n  //     });\r\n  //   leftMenu instanceof Array && setMenuList(leftMenu);\r\n  // }, [platMsg, leftMenu]);\r\n  // 路由变化,控制头部modulename\r\n  useEffect(() => {\r\n    let Path = handleRoute(location.pathname);\r\n    routeList.forEach((child, index) => {\r\n      if (child.props.routeid === Path[0]) {\r\n        setModuleName(child.props.routename);\r\n      }\r\n    });\r\n\r\n    return () => {};\r\n  }, [location, routeList]);\r\n  // 当type不一样的时候，处理界面显示不同的模式，返回不同的节点列表\r\n  useEffect(() => {\r\n    // 默认的才有tab\r\n\r\n    if (checkType(\"default\")) {\r\n      let List = [];\r\n      children.forEach((child) => {\r\n        try {\r\n          // 不存在这两个参数的不要\r\n          if (\r\n            !child.props ||\r\n            child.props.tabid === undefined ||\r\n            child.props.tabname === undefined\r\n          ) {\r\n            return \"\";\r\n          }\r\n        } catch {\r\n          return \"\";\r\n        }\r\n\r\n        List.push({\r\n          children: child,\r\n          props: {\r\n            ...child.props,\r\n            redirect:\r\n              \"/\" +\r\n              (child.props.redirect\r\n                ? child.props.redirect\r\n                : leftMenu[0]\r\n                ? leftMenu[0].key\r\n                : \"\"),\r\n          },\r\n        });\r\n      });\r\n      // 存compoent\r\n      setComponentList(List);\r\n    }\r\n    // 教师端，也就是有路由的\r\n    if (checkType(\"teacher\")) {\r\n      let routeList = [];\r\n      let domList = [];\r\n      let proversion = [];\r\n\r\n      children instanceof Array &&\r\n        children.forEach((child) => {\r\n          // frametype为teacher的都是要的\r\n          if (child.props.frametype === \"teacher\") {\r\n            if (child.props.routeid) {\r\n              routeList.push(child);\r\n            } else if (child.props.proversion) {\r\n              proversion.push(child);\r\n            } else {\r\n              domList.push(child);\r\n            }\r\n          }\r\n        });\r\n      setRouteList(routeList);\r\n      setProVersion(proversion);\r\n      setDomList(domList);\r\n    }\r\n\r\n    // 单页面,新开界面\r\n    if (checkType(\"page\")) {\r\n      let pageList = [];\r\n      let domList = [];\r\n      let proversion = [];\r\n      children instanceof Array &&\r\n        children.forEach((child) => {\r\n          // frametype为page的都是要的\r\n          if (child.props.frametype === \"page\") {\r\n            if (child.props.pageid) {\r\n              pageList.push(child);\r\n            } else if (child.props.proversion) {\r\n              proversion.push(child);\r\n            } else {\r\n              domList.push(child);\r\n            }\r\n          }\r\n        });\r\n        console.log(pageList)\r\n\r\n      setPageList(pageList);\r\n      setProVersion(proversion);\r\n      setDomList(domList);\r\n    }\r\n    return () => {};\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [children, type, leftMenu]);\r\n\r\n  // 对type字段解析，查看是否包含\r\n  const checkType = useCallback(\r\n    (key = null) => {\r\n      return typeof type === \"string\" && type.includes(key);\r\n    },\r\n    [type]\r\n  );\r\n  let { activeTab, tabList, removeTab } = tabRef.current ? tabRef.current : {};\r\n  // 返回方法，外部使用\r\n  useImperativeHandle(\r\n    ref,\r\n    () => {\r\n      return {\r\n        // pageInit,\r\n        activeTab,\r\n        tabList,\r\n        removeTab,\r\n        contentHeight: state.contentHeight,\r\n      };\r\n    },\r\n    [activeTab, tabList, removeTab, state.contentHeight]\r\n  );\r\n  // 保存活动的tab\r\n  useEffect(() => {\r\n    typeof getActiveTab === \"function\" && getActiveTab(activeTab);\r\n    // dispatch(handleActions.setActiveTab(activeTab));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [activeTab]);\r\n\r\n  return (\r\n    <frameContext.Provider value={{ state, dispatch }}>\r\n      <Loading\r\n        spinning={FrameLoading \r\n          // || MenuList.length === 0\r\n        }\r\n        opacity={false}\r\n        tip={\"加载中...\"}\r\n      >\r\n        <div\r\n          id=\"Frame\"\r\n          style={checkType(\"page\") ? { minWidth: \"auto\" } : {}}\r\n          className={`Frame ${className ? className : \"\"}`}\r\n        >\r\n          {checkType(\"page\") ? (\r\n            BasePlatFormMsg && (\r\n              <Page\r\n                pageList={pageList}\r\n                useScrollbars={false}\r\n                basePlatFormMsg={BasePlatFormMsg}\r\n                domList={domList}\r\n                ProVersion={proversion}\r\n                commonData={commonData}\r\n              ></Page>\r\n            )\r\n          ) : (\r\n            <>\r\n              <TopBar\r\n                userInfo={UserInfo}\r\n                basePlatFormMsg={BasePlatFormMsg}\r\n                platMsg={PlatMsg}\r\n                identity={Identity}\r\n                type={type}\r\n                systemServer={SystemServer}\r\n                moduleName={moduleName}\r\n                initData={initData}\r\n              ></TopBar>\r\n\r\n              {type ? (\r\n                <div\r\n                  className={`Frame-contain  ${\r\n                    checkType(\"teacher\") ? \"Frame-contain-2\" : \"\"\r\n                  }`}\r\n                >\r\n                  {checkType(\"default\") ? (\r\n                    <div className=\"Frame-contain-left\">\r\n                      <LeftMenu list={MenuList} commonData={commonData}></LeftMenu>\r\n                    </div>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n\r\n                  <div\r\n                    className={`Frame-contain-right ${\r\n                      checkType(\"teacher\") ? \"only-center\" : \"\"\r\n                    }`}\r\n                  >\r\n                    {Init ? (\r\n                      checkType(\"teacher\") ? (\r\n                        <RouteTab\r\n                          routeList={routeList}\r\n                          domList={domList}\r\n                          basePlatFormMsg={BasePlatFormMsg}\r\n                          ProVersion={proversion}\r\n                        >\r\n                          {children}\r\n                        </RouteTab>\r\n                      ) : ComponentList instanceof Array &&\r\n                        ComponentList.length > 0 ? (\r\n                        <Tab\r\n                          tabPorps={tabPorps}\r\n                          ref={tabRef}\r\n                          componentList={ComponentList}\r\n                          search={search}\r\n                          type={type}\r\n                          onContentresize={onContentresize}\r\n                        >\r\n                          {children}\r\n                        </Tab>\r\n                      ) : (\r\n                        \"\"\r\n                      )\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </Loading>\r\n    </frameContext.Provider>\r\n  );\r\n}\r\nexport default memo(forwardRef(Frame));\r\n","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport $ from \"jquery\";\r\nimport \"./index.scss\";\r\nimport { Upload, Pagination, ConfigProvider, message } from \"antd\";\r\nimport zhCN from \"antd/es/locale/zh_CN\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n\r\nfunction ImportPage(props, ref) {\r\n    let {\r\n        setShowType,\r\n        basePlatFormMsg: { ProVersion },\r\n        ModuleID,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID},\r\n        ModuleType\r\n    } = props;\r\n    //当前步骤进度  import导入文件；preview预览；save保存\r\n    const [currentStep, setCurrentStep] = useState(\"import\");\r\n    //分页器当前页数\r\n    const [currentIndex, setCurrentIndex] = useState(1);\r\n    //文件名\r\n    const [fileName, setFileNameStep] = useState(\"\");\r\n    //步骤是否完成的标志\r\n    const [importSign, setImportSign] = useState(0);\r\n    const [previewSign, setPreviewSign] = useState(0);\r\n    const [saveSign, setSaveSign] = useState(0);\r\n    //下载的模板类别\r\n    const download = () => {\r\n        // TEMPERATURE(0, \"体温信息录入模板.xlsx\"),\r\n        //     REWARDS_LOGS(2, \"奖励信息导入模板.xlsx\"),\r\n        //     NETWORK_LOGS(3, \"学生上网记录导入模板.xlsx\"),\r\n        //     CONSUMPTION_LOGS(4, \"学生消费记录导入模板.xlsx\"),\r\n        //     LEAVE_RECORD_LOGS(5, \"学生请假记录录入模板.xlsx\"),\r\n        //     MENTAL_HEALTHY_LOGS(6, \"心理健康导入模板.xlsx\"),\r\n        //     PUNISHMENT_LOGS(7, \"惩戒信息导入模板.xlsx\"),\r\n        //     PHYSICS_HEALTHY_LOGS(8, \"身体健康档案录入模板.xlsx\"),\r\n        //     STATUS_LOGS(9, \"学籍导入模板.xlsx\"),\r\n        //     ATTENDANCE_LOGS(10, \"课堂出勤导入模板.xlsx\");\r\n        let templateType = \"STATUS_LOGS\";\r\n        // switch(ModuleID){\r\n        //     case \"stuStatusMsg\":\r\n        //         templateType = \"STATUS_LOGS\";\r\n        //         break;\r\n        //     case \"stuConditionMsg\":\r\n        //         templateType = \"\";\r\n        //         break;\r\n        //     case \"attendanceMsg\":\r\n        //         templateType = \"ATTENDANCE_LOGS\";\r\n        //         break;\r\n        //     case \"healthMsg\":\r\n        //         templateType = \"\";\r\n        //         break;\r\n        //     case \"awardAndPunish\":\r\n        //         templateType = \"\";\r\n        //         break;\r\n        //     case \"schoolLiveMsg\":\r\n        //         templateType = \"\";\r\n        //         break;\r\n        //     default:\r\n        //         break;\r\n        // }\r\n        let url = BasicProxy + \"/api/base/template?schoolId=\" + SchoolID +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&classId=\" + currentClass +\r\n        \"&templateType=\" + templateType +\r\n        \"&blankSheet=0\";\r\n        //导出excel文档\r\n        window.location.href = url;\r\n    }\r\n    \r\n    //判断当前步骤进度\r\n    useEffect(() => {\r\n        \r\n        if(importSign == 1 && saveSign == 0){\r\n            setCurrentStep(\"preview\");\r\n        }\r\n        if(importSign == 1 && previewSign == 1){\r\n            setCurrentStep(\"save\");\r\n        }\r\n        if(importSign == 1 && previewSign == 1 && saveSign == 1){\r\n            message.success(\"导入成功~\");\r\n            setShowType(\"detail\");\r\n        }\r\n    }, [importSign, previewSign, saveSign])\r\n    return (\r\n        <div className=\"import-page\">\r\n            <div className=\"import-top\">\r\n                导入学籍信息\r\n            </div>\r\n            <div className=\"import-step-list\">\r\n                <div \r\n                className={\"step-1 \" +\r\n                (currentStep == \"import\"? \"active\": \"prev\")} \r\n                // onClick={()=>setCurrentStep(\"import\")}\r\n                >\r\n                    1.导入文件\r\n                </div>\r\n                <div \r\n                className={\"step-2 \" + \r\n                (currentStep == \"preview\"? \"active\": currentStep == \"save\"? \"prev\": \"\")}\r\n                // onClick={()=>setCurrentStep(\"preview\")}\r\n                >\r\n                    2.内容预览\r\n                </div>\r\n                <div \r\n                className={\"step-3 \" +\r\n                (currentStep == \"save\"? \"active\": \"\")} \r\n                // onClick={()=>setCurrentStep(\"save\")}\r\n                >\r\n                    3.修改保存\r\n                </div>\r\n            </div>\r\n            {\r\n                currentStep == \"import\"?\r\n                <div className=\"import-file\">\r\n                    <p className=\"import-tip\">\r\n                        <i className=\"warnlogo\"></i>\r\n                        导入提醒:\r\n                    </p>\r\n                    <p>1.选择导入的文件必须为模板文件。&nbsp;&nbsp;\r\n                        \"\r\n                        <span className=\"template-download\" onClick={download}>模板下载</span>\r\n                        \"\r\n                    </p>\r\n                    <p>2.模板文件内可以同时有多个学籍信息。</p>\r\n                    <div className=\"file-upload\">\r\n                        {fileName}\r\n                        <Upload\r\n                        onChange = {({ file, fileList }) => {\r\n                            setImportSign(1);\r\n                            setFileNameStep(file.name);\r\n                        }}>\r\n                            <div className=\"file-upload-btn\">选择文件</div>\r\n                        </Upload>\r\n                    </div>\r\n                </div>:\r\n                currentStep == \"preview\"?\r\n                <div className=\"preview-file\">\r\n                    <div className=\"preview-top\">\r\n                        <ConfigProvider locale={zhCN}>\r\n                            <Pagination\r\n                            className=\"preview-pagination\"\r\n                            size=\"small\"\r\n                            total={5}\r\n                            current={currentIndex}\r\n                            pageSize={1}\r\n                            showQuickJumper={true}\r\n                            showSizeChanger={false}\r\n                            hideOnSinglePage\r\n                            onChange={(pageIndex)=>{\r\n                                setCurrentIndex(pageIndex)\r\n                            }}\r\n                            />\r\n                        </ConfigProvider>\r\n                        <div className=\"btn-group\">\r\n                            <div className=\"delete-btn\">删除</div>\r\n                            <div className=\"next-btn\" onClick={()=>{\r\n                                setPreviewSign(1)\r\n                                setCurrentStep(\"save\")\r\n                            }}>下一步</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"file-one\">\r\n                        <table className=\"base-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                            <caption>基本信息及辅助信息</caption>\r\n                            <tr>\r\n                                <td>姓名</td>\r\n                                <td>张三</td>\r\n                                <td>性别</td>\r\n                                <td>男</td>\r\n                                <td>出生日期</td>\r\n                                <td>1000.02.22</td>\r\n                                <td>出生地</td>\r\n                                <td>天庭</td> \r\n                                <td rowSpan=\"6\">asdas</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>籍贯</td>\r\n                                <td>湖南</td>\r\n                                <td>民族</td>\r\n                                <td>汉</td>\r\n                                <td>国籍/地区</td>\r\n                                <td>中国</td>\r\n                                <td>身份证件类型</td>\r\n                                <td>中国居民身份证</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>身份证件号码</td>\r\n                                <td colSpan=\"3\">12312312312</td>\r\n                                <td>港澳台侨胞</td>\r\n                                <td>否</td>\r\n                                <td>政治面貌</td>\r\n                                <td>共青团员</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>健康状况</td>\r\n                                <td>良好</td>\r\n                                <td>姓名拼音</td>\r\n                                <td>pengzhiwen</td>\r\n                                <td>曾用名</td>\r\n                                <td>彭达文</td>\r\n                                <td>身份证件有效期</td>\r\n                                <td>111111</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>户口所在地</td>\r\n                                <td>湖南</td>\r\n                                <td>特长</td>\r\n                                <td colSpan=\"5\">啊实打实大撒旦王</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>学籍辅号</td>\r\n                                <td>12312312312</td>\r\n                                <td>班内学号</td>\r\n                                <td>123123</td>\r\n                                <td>年级</td>\r\n                                <td>高一</td>\r\n                                <td>班级</td>\r\n                                <td>1202班</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>入学年月</td>\r\n                                <td>2015.05</td>\r\n                                <td>入学方式</td>\r\n                                <td>统招</td>\r\n                                <td>就读方式</td>\r\n                                <td>走读</td>\r\n                                <td>学生来源</td>\r\n                                <td colSpan=\"2\">社会</td> \r\n                            </tr>\r\n                        </table>\r\n                        <table className=\"person-link\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                            <caption>个人联系方式</caption>\r\n                            <tr>\r\n                                <td>现住址</td>\r\n                                <td colSpan=\"3\">啊实打实大撒旦王额请问请问</td>\r\n                                <td>通信地址</td>\r\n                                <td colSpan=\"3\">啊实打实大师都萨达</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>家庭地址</td>\r\n                                <td colSpan=\"3\">啊实打实大撒旦王额请问请问</td>\r\n                                <td>联系电话</td>\r\n                                <td>啊实打实大师都萨达</td>\r\n                                <td>邮政编码</td>\r\n                                <td>啊实打实大师都萨达</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>现住址</td>\r\n                                <td colSpan=\"3\">啊实打实大撒旦王额请问请问</td>\r\n                                <td>通信地址</td>\r\n                                <td colSpan=\"3\">啊实打实大师都萨达</td>\r\n                            </tr>\r\n                        </table>\r\n                        <table className=\"person-more-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                            <caption>个人扩展信息</caption>\r\n                            <tr>\r\n                                <td width=\"200\">是否独生子女</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                                <td width=\"200\">是否受过学前教育</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                                <td width=\"200\">是否留守儿童</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                                <td width=\"200\">是否进城务工人员随迁子女</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td width=\"200\">是否孤儿</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                                <td width=\"200\">是否烈士或优抚子女</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                                <td width=\"200\">随班就读</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                                <td width=\"200\">是否需要申请资助</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td width=\"200\">是否享受一补</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                                <td width=\"200\">残疾人类型</td>\r\n                                <td colSpan=\"5\">啊实打实大撒旦王额请问请问</td>\r\n                            </tr>\r\n                        </table>\r\n                        <table className=\"study-status\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                            <caption>学习经历</caption>\r\n                            <tr>\r\n                                <th width=\"148\">学习起始时间</th>\r\n                                <th width=\"148\">学习结束时间</th>\r\n                                <th width=\"395\">学习单位</th>\r\n                                <th width=\"160\">学习内容</th>\r\n                                <th width=\"140\">担任职务</th>\r\n                                <th width=\"150\">学习证明人</th>\r\n                            </tr>\r\n                            <tr>\r\n                                <td width=\"148\">学习起始时间</td>\r\n                                <td width=\"148\">学习结束时间</td>\r\n                                <td width=\"395\">学习单位</td>\r\n                                <td width=\"160\">学习内容</td>\r\n                                <td width=\"140\">担任职务</td>\r\n                                <td width=\"150\">学习证明人</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td width=\"148\">学习起始时间</td>\r\n                                <td width=\"148\">学习结束时间</td>\r\n                                <td width=\"395\">学习单位</td>\r\n                                <td width=\"160\">学习内容</td>\r\n                                <td width=\"140\">担任职务</td>\r\n                                <td width=\"150\">学习证明人</td>\r\n                            </tr>\r\n                        </table>\r\n                        <table className=\"transport-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                            <caption>上下学交通方式</caption>\r\n                            <tr>\r\n                                <td width=\"200\">上下学距离(千米)</td>\r\n                                <td width=\"178\">12千米</td>\r\n                                <td width=\"200\">上下学交通方式</td>\r\n                                <td width=\"178\">高铁</td>\r\n                                <td width=\"200\">是否需要乘坐校车</td>\r\n                                <td width=\"178\">是</td>\r\n                            </tr>\r\n                        </table>\r\n                        <table className=\"family-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                            <caption>家庭成员或监护人信息</caption>\r\n                            <tr>\r\n                                <td>姓名</td>\r\n                                <td>张三</td>\r\n                                <td>关系</td>\r\n                                <td>男</td>\r\n                                <td>身份证件类型</td>\r\n                                <td>1000.02.22</td>\r\n                                <td>身份证件号码</td>\r\n                                <td>天庭</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>民族</td>\r\n                                <td>张三</td>\r\n                                <td>是否监护人</td>\r\n                                <td>男</td>\r\n                                <td>户口所在地</td>\r\n                                <td>1000.02.22</td>\r\n                                <td>联系方式</td>\r\n                                <td>天庭</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>现住址</td>\r\n                                <td colSpan=\"3\">张三</td>\r\n                                <td>工作单位</td>\r\n                                <td>男</td>\r\n                                <td>职务</td>\r\n                                <td>1000.02.22</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"8\" style={{height: 7}}></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>姓名</td>\r\n                                <td>张三</td>\r\n                                <td>关系</td>\r\n                                <td>男</td>\r\n                                <td>身份证件类型</td>\r\n                                <td>1000.02.22</td>\r\n                                <td>身份证件号码</td>\r\n                                <td>天庭</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>民族</td>\r\n                                <td>张三</td>\r\n                                <td>是否监护人</td>\r\n                                <td>男</td>\r\n                                <td>户口所在地</td>\r\n                                <td>1000.02.22</td>\r\n                                <td>联系方式</td>\r\n                                <td>天庭</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>现住址</td>\r\n                                <td colSpan=\"3\">张三</td>\r\n                                <td>工作单位</td>\r\n                                <td>男</td>\r\n                                <td>职务</td>\r\n                                <td>1000.02.22</td>\r\n                            </tr>\r\n                        </table>\r\n                        <table className=\"economic-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                            <caption>家庭经济情况</caption>\r\n                            <tr>\r\n                                <td>家庭人口</td>\r\n                                <td>张三</td>\r\n                                <td>赡养人口</td>\r\n                                <td>男</td>\r\n                                <td>家庭年收入</td>\r\n                                <td>1000.02.22</td>\r\n                                <td>主要收入来源</td>\r\n                                <td>天庭</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>具备劳动力人数</td>\r\n                                <td>湖南</td>\r\n                                <td>是否低保</td>\r\n                                <td>汉</td>\r\n                                <td>就学地低保线</td>\r\n                                <td>中国</td>\r\n                                <td>困难程度</td>\r\n                                <td>中国居民身份证</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>是否父母丧失劳动能力</td>\r\n                                <td>12312312312</td>\r\n                                <td>是否农村绝对贫困家庭</td>\r\n                                <td>否</td>\r\n                                <td colSpan=\"3\">是否经民政部门确认的农村特困救助范围的家庭子女</td>\r\n                                <td>共青团员</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>是否军烈属</td>\r\n                                <td>良好</td>\r\n                                <td>家庭是否五保户</td>\r\n                                <td>pengzhiwen</td>\r\n                                <td colSpan=\"3\">家庭是否有大病患者</td>\r\n                                <td>彭达文</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>家庭是否遭受自然灾害</td>\r\n                                <td>湖南</td>\r\n                                <td colSpan=\"2\">自然灾害具体情况描述</td>\r\n                                <td colSpan=\"4\">啊实打实大撒旦王</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>家庭失业人数</td>\r\n                                <td>12312312312</td>\r\n                                <td>家庭欠债金额</td>\r\n                                <td>123123</td>\r\n                                <td>欠债原因</td>\r\n                                <td colSpan=\"3\">高一</td>\r\n                            </tr>\r\n                        </table>\r\n                        \r\n                    </div>\r\n                </div>:\r\n                currentStep == \"save\"?\r\n                <div className=\"save-file\">\r\n                    <div className=\"preview-top\">\r\n                        <ConfigProvider locale={zhCN}>\r\n                            <Pagination\r\n                            className=\"preview-pagination\"\r\n                            size=\"small\"\r\n                            total={5}\r\n                            current={currentIndex}\r\n                            pageSize={1}\r\n                            showQuickJumper={true}\r\n                            showSizeChanger={false}\r\n                            hideOnSinglePage\r\n                            onChange={(pageIndex)=>{\r\n                                setCurrentIndex(pageIndex)\r\n                            }}\r\n                            />\r\n                        </ConfigProvider>\r\n                        <div className=\"btn-group\">\r\n                            <div className=\"edit-btn\">编辑</div>\r\n                            <div className=\"confirm-btn\" onClick={()=>{\r\n                                setImportSign(1);\r\n                                setPreviewSign(1);\r\n                                setSaveSign(1);\r\n                            }}>确认</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"file-one\">\r\n                        <table className=\"base-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                            <caption>基本信息及辅助信息</caption>\r\n                            <tr>\r\n                                <td>姓名</td>\r\n                                <td>张三</td>\r\n                                <td>性别</td>\r\n                                <td>男</td>\r\n                                <td>出生日期</td>\r\n                                <td>1000.02.22</td>\r\n                                <td>出生地</td>\r\n                                <td>天庭</td> \r\n                                <td rowSpan=\"6\">asdas</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>籍贯</td>\r\n                                <td>湖南</td>\r\n                                <td>民族</td>\r\n                                <td>汉</td>\r\n                                <td>国籍/地区</td>\r\n                                <td>中国</td>\r\n                                <td>身份证件类型</td>\r\n                                <td>中国居民身份证</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>身份证件号码</td>\r\n                                <td colSpan=\"3\">12312312312</td>\r\n                                <td>港澳台侨胞</td>\r\n                                <td>否</td>\r\n                                <td>政治面貌</td>\r\n                                <td>共青团员</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>健康状况</td>\r\n                                <td>良好</td>\r\n                                <td>姓名拼音</td>\r\n                                <td>pengzhiwen</td>\r\n                                <td>曾用名</td>\r\n                                <td>彭达文</td>\r\n                                <td>身份证件有效期</td>\r\n                                <td>111111</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>户口所在地</td>\r\n                                <td>湖南</td>\r\n                                <td>特长</td>\r\n                                <td colSpan=\"5\">啊实打实大撒旦王</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>学籍辅号</td>\r\n                                <td>12312312312</td>\r\n                                <td>班内学号</td>\r\n                                <td>123123</td>\r\n                                <td>年级</td>\r\n                                <td>高一</td>\r\n                                <td>班级</td>\r\n                                <td>1202班</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>入学年月</td>\r\n                                <td>2015.05</td>\r\n                                <td>入学方式</td>\r\n                                <td>统招</td>\r\n                                <td>就读方式</td>\r\n                                <td>走读</td>\r\n                                <td>学生来源</td>\r\n                                <td colSpan=\"2\">社会</td> \r\n                            </tr>\r\n                        </table>\r\n                        <table className=\"person-link\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                            <caption>个人联系方式</caption>\r\n                            <tr>\r\n                                <td>现住址</td>\r\n                                <td colSpan=\"3\">啊实打实大撒旦王额请问请问</td>\r\n                                <td>通信地址</td>\r\n                                <td colSpan=\"3\">啊实打实大师都萨达</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>家庭地址</td>\r\n                                <td colSpan=\"3\">啊实打实大撒旦王额请问请问</td>\r\n                                <td>联系电话</td>\r\n                                <td>啊实打实大师都萨达</td>\r\n                                <td>邮政编码</td>\r\n                                <td>啊实打实大师都萨达</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>现住址</td>\r\n                                <td colSpan=\"3\">啊实打实大撒旦王额请问请问</td>\r\n                                <td>通信地址</td>\r\n                                <td colSpan=\"3\">啊实打实大师都萨达</td>\r\n                            </tr>\r\n                        </table>\r\n                        <table className=\"person-more-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                            <caption>个人扩展信息</caption>\r\n                            <tr>\r\n                                <td width=\"200\">是否独生子女</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                                <td width=\"200\">是否受过学前教育</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                                <td width=\"200\">是否留守儿童</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                                <td width=\"200\">是否进城务工人员随迁子女</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td width=\"200\">是否孤儿</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                                <td width=\"200\">是否烈士或优抚子女</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                                <td width=\"200\">随班就读</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                                <td width=\"200\">是否需要申请资助</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td width=\"200\">是否享受一补</td>\r\n                                <td width=\"85\">啊实打实大撒旦王额请问请问</td>\r\n                                <td width=\"200\">残疾人类型</td>\r\n                                <td colSpan=\"5\">啊实打实大撒旦王额请问请问</td>\r\n                            </tr>\r\n                        </table>\r\n                        <table className=\"study-status\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                            <caption>学习经历</caption>\r\n                            <tr>\r\n                                <th width=\"148\">学习起始时间</th>\r\n                                <th width=\"148\">学习结束时间</th>\r\n                                <th width=\"395\">学习单位</th>\r\n                                <th width=\"160\">学习内容</th>\r\n                                <th width=\"140\">担任职务</th>\r\n                                <th width=\"150\">学习证明人</th>\r\n                            </tr>\r\n                            <tr>\r\n                                <td width=\"148\">学习起始时间</td>\r\n                                <td width=\"148\">学习结束时间</td>\r\n                                <td width=\"395\">学习单位</td>\r\n                                <td width=\"160\">学习内容</td>\r\n                                <td width=\"140\">担任职务</td>\r\n                                <td width=\"150\">学习证明人</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td width=\"148\">学习起始时间</td>\r\n                                <td width=\"148\">学习结束时间</td>\r\n                                <td width=\"395\">学习单位</td>\r\n                                <td width=\"160\">学习内容</td>\r\n                                <td width=\"140\">担任职务</td>\r\n                                <td width=\"150\">学习证明人</td>\r\n                            </tr>\r\n                        </table>\r\n                        <table className=\"transport-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                            <caption>上下学交通方式</caption>\r\n                            <tr>\r\n                                <td width=\"200\">上下学距离(千米)</td>\r\n                                <td width=\"178\">12千米</td>\r\n                                <td width=\"200\">上下学交通方式</td>\r\n                                <td width=\"178\">高铁</td>\r\n                                <td width=\"200\">是否需要乘坐校车</td>\r\n                                <td width=\"178\">是</td>\r\n                            </tr>\r\n                        </table>\r\n                        <table className=\"family-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                            <caption>家庭成员或监护人信息</caption>\r\n                            <tr>\r\n                                <td>姓名</td>\r\n                                <td>张三</td>\r\n                                <td>关系</td>\r\n                                <td>男</td>\r\n                                <td>身份证件类型</td>\r\n                                <td>1000.02.22</td>\r\n                                <td>身份证件号码</td>\r\n                                <td>天庭</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>民族</td>\r\n                                <td>张三</td>\r\n                                <td>是否监护人</td>\r\n                                <td>男</td>\r\n                                <td>户口所在地</td>\r\n                                <td>1000.02.22</td>\r\n                                <td>联系方式</td>\r\n                                <td>天庭</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>现住址</td>\r\n                                <td colSpan=\"3\">张三</td>\r\n                                <td>工作单位</td>\r\n                                <td>男</td>\r\n                                <td>职务</td>\r\n                                <td>1000.02.22</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"8\" style={{height: 7}}></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>姓名</td>\r\n                                <td>张三</td>\r\n                                <td>关系</td>\r\n                                <td>男</td>\r\n                                <td>身份证件类型</td>\r\n                                <td>1000.02.22</td>\r\n                                <td>身份证件号码</td>\r\n                                <td>天庭</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>民族</td>\r\n                                <td>张三</td>\r\n                                <td>是否监护人</td>\r\n                                <td>男</td>\r\n                                <td>户口所在地</td>\r\n                                <td>1000.02.22</td>\r\n                                <td>联系方式</td>\r\n                                <td>天庭</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>现住址</td>\r\n                                <td colSpan=\"3\">张三</td>\r\n                                <td>工作单位</td>\r\n                                <td>男</td>\r\n                                <td>职务</td>\r\n                                <td>1000.02.22</td>\r\n                            </tr>\r\n                        </table>\r\n                        <table className=\"economic-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n                            <caption>家庭经济情况</caption>\r\n                            <tr>\r\n                                <td>家庭人口</td>\r\n                                <td>张三</td>\r\n                                <td>赡养人口</td>\r\n                                <td>男</td>\r\n                                <td>家庭年收入</td>\r\n                                <td>1000.02.22</td>\r\n                                <td>主要收入来源</td>\r\n                                <td>天庭</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>具备劳动力人数</td>\r\n                                <td>湖南</td>\r\n                                <td>是否低保</td>\r\n                                <td>汉</td>\r\n                                <td>就学地低保线</td>\r\n                                <td>中国</td>\r\n                                <td>困难程度</td>\r\n                                <td>中国居民身份证</td> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>是否父母丧失劳动能力</td>\r\n                                <td>12312312312</td>\r\n                                <td>是否农村绝对贫困家庭</td>\r\n                                <td>否</td>\r\n                                <td colSpan=\"3\">是否经民政部门确认的农村特困救助范围的家庭子女</td>\r\n                                <td>共青团员</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>是否军烈属</td>\r\n                                <td>良好</td>\r\n                                <td>家庭是否五保户</td>\r\n                                <td>pengzhiwen</td>\r\n                                <td colSpan=\"3\">家庭是否有大病患者</td>\r\n                                <td>彭达文</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>家庭是否遭受自然灾害</td>\r\n                                <td>湖南</td>\r\n                                <td colSpan=\"2\">自然灾害具体情况描述</td>\r\n                                <td colSpan=\"4\">啊实打实大撒旦王</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>家庭失业人数</td>\r\n                                <td>12312312312</td>\r\n                                <td>家庭欠债金额</td>\r\n                                <td>123123</td>\r\n                                <td>欠债原因</td>\r\n                                <td colSpan=\"3\">高一</td>\r\n                            </tr>\r\n                        </table>\r\n                        \r\n                    </div>\r\n                </div>:\r\n                \"\"\r\n            }\r\n            <p className=\"ProVersion\" style={{marginBottom: 0}}>{ProVersion}</p>\r\n        </div>  \r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n      commonData: { roleMsg, basePlatFormMsg, contentHW, termInfo, levelHash, userInfo },\r\n    } = state;\r\n    return { roleMsg, basePlatFormMsg, contentHW, termInfo, levelHash, userInfo };\r\n  };\r\nexport default connect(mapStateToProps)(memo(forwardRef(ImportPage)));\r\n  ","import React, {\r\n    useState,\r\n    useEffect\r\n} from \"react\";\r\nimport \"./index.scss\";\r\n\r\nfunction Table(props) {\r\n    return (\r\n        <div className=\"data-table\">\r\n            <div className=\"table-thead\">\r\n                <div className=\"table-th\">姓名</div>\r\n                <div className=\"table-th\">性别</div>\r\n                <div className=\"table-th\">籍贯</div>\r\n                <div className=\"table-th\">联系电话</div>\r\n                <div className=\"table-th\">地址</div>\r\n            </div>\r\n            <div className=\"table-tr\">\r\n                <div className=\"table-td\">张三</div>\r\n                <div className=\"table-td\">男</div>\r\n                <div className=\"table-td\">湖南</div>\r\n                <div className=\"table-td\">123123123</div>\r\n                <div className=\"table-td\">天庭</div>\r\n            </div>\r\n        </div>  \r\n    )\r\n}\r\n\r\nexport default Table;","import React, {\r\n  //   useCallback,\r\n  memo,\r\n  // useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useLayoutEffect,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport $ from \"jquery\";\r\nimport \"./index.scss\";\r\nimport { Loading, Empty } from \"../common\";\r\n\r\n/**\r\n * @description: 在frame中使用的bar\r\n * @param {*}\r\n * @return {*}\r\n */\r\nfunction $Bar(props, ref) {\r\n  let {\r\n    topContext,\r\n    width,\r\n    marginLR,\r\n    style,\r\n    className,\r\n    barName,\r\n    loading,\r\n    barId,\r\n    children,\r\n    isEmpty,\r\n    emptyTitle,\r\n    userIdentity,\r\n    ...reset\r\n  } = props;\r\n  // bar的高度\r\n  // const [barHeight, setBarHeight] = useState(0);\r\n  // 获取bar ref\r\n  const barRef = useRef(null);\r\n  // 挂载后\r\n  // useLayoutEffect(() => {\r\n  //   let bar = $(barRef.current);\r\n  //   // setBarHeight(bar.height());\r\n  //   console.log(barRef.current.height, bar.outerHeight(true));\r\n  // }, []);\r\n  useImperativeHandle(ref, () => {\r\n    return barRef.current;\r\n  });\r\n  return (\r\n    <div\r\n      ref={barRef}\r\n      style={Object.assign(\r\n        {},\r\n        {\r\n          width: `calc(${width ? width : \"100%\"} - ${\r\n            typeof marginLR === \"number\" ? marginLR * 2 : 32\r\n          }px)`,\r\n          marginLeft: typeof marginLR === \"number\" ? marginLR + \"px\" : \"16px\",\r\n          marginRight: typeof marginLR === \"number\" ? marginLR + \"px\" : \"16px\",\r\n        },\r\n        style instanceof Object ? style : {}\r\n      )}\r\n      className={`frame-bar-context ${className ? className : \"\"}`}\r\n      {...reset}\r\n    >\r\n      <div className=\"fbc-top\">\r\n        <span className=\"ftc-bar-name\" title={barName}>\r\n          {barName}\r\n        </span>\r\n        {topContext ? (\r\n          <span className=\"ftc-top-custom\">\r\n            {\r\n              //当loading为true时，阻止该区域点击,下级的捕获\r\n              /** 后期自己看是否需要加可控属性 */\r\n            }\r\n            {loading ? (\r\n              <div\r\n                style={{ height: \"100%\", width: \"100%\", position: \"absolute\" }}\r\n              ></div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {/* 判断是否是reactDom，是渲染，否用组件的 */}\r\n            {/* *topContext:{\r\n            title:按钮名称,存在才渲染\r\n            icon:有就用这个，没有就有默认的\r\n            className:类\r\n            onClick:点击\r\n          } */}\r\n            {topContext.$$typeof ? (\r\n              topContext\r\n            ) : topContext.title ? (\r\n              <span\r\n                className={`ftc-default-btn ${\r\n                  topContext.className ? topContext.className : \"\"\r\n                }`}\r\n                onClick={() => {\r\n                  typeof topContext.onClick === \"function\" &&\r\n                    topContext.onClick();\r\n                }}\r\n                style={\r\n                  topContext.icon\r\n                    ? {\r\n                        background: `url(${topContext.icon}) no-repeat left center/15px 15px`,\r\n                      }\r\n                    : {}\r\n                }\r\n              >\r\n                {topContext.title}\r\n              </span>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </span>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n      <div className=\"fbc-contain\">\r\n        <Loading\r\n          spinning={loading ? loading : false}\r\n          opacity={false}\r\n          tip={\"加载中...\"}\r\n        >\r\n          {isEmpty === undefined || !isEmpty ? (\r\n            <div className=\"fbc-contain-box\">{children}</div>\r\n          ) : (\r\n            <Empty\r\n              className={\"bar-empty\"}\r\n              title={emptyTitle ? emptyTitle : \"暂无数据...\"}\r\n              type={\"4\"}\r\n            ></Empty>\r\n          )}\r\n        </Loading>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n// $Context.Bar = $Bar\r\nexport default memo(forwardRef($Bar));\r\n","/*\r\n *\r\n *    ┏┓　　　┏┓\r\n *  ┏┛┻━━━┛┻┓\r\n *  ┃　　　　　　　┃\r\n *  ┃　　　━　　　┃\r\n *  ┃　＞　　　＜　┃\r\n *  ┃　　　　　　　┃\r\n *  ┃...　⌒　...　┃\r\n *  ┃　　　　　　　┃\r\n *  ┗━┓　　　┏━┛\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃  神兽保佑\r\n *      ┃　　　┃  代码无bug\r\n *      ┃　　　┃\r\n *      ┃　　　┗━━━┓\r\n *      ┃　　　　　　　┣┓\r\n *      ┃　　　　　　　┏┛\r\n *      ┗┓┓┏━┳┓┏┛\r\n *        ┃┫┫　┃┫┫\r\n *        ┗┻┛　┗┻┛\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 11:46:56\r\n * @LastEditTime: 2020-12-21 11:22:13\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\api\\baseMsg.js\r\n */\r\nimport fetch from \"../util/fetch\";\r\nimport ipConfig from \"../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description:获取教师人数概况  http://192.168.129.1:8033/showdoc/web/#/21?page_id=2087\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getTeacherCount(payload = {}) {\r\n  // *RStatus:状态：0草稿；1正式发布\r\n  let { schoolID, collegeID, selectLevel, term } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/Basic/TeacherCount?SchoolID=${\r\n      schoolID ? schoolID : \"\"\r\n    }&CollegeID=${collegeID ? collegeID : \"\"}&SelectLevel=${\r\n      selectLevel ? selectLevel : \"\"\r\n    }&Term=${term ? term : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        // \"Total\":50,\r\n        // \"MaleCount\":50,\r\n        // \"FemaleCount\":50,\r\n        // \"TeaSthRatio\":\"1:17\",\r\n        // \"SubSet\":[{\r\n        //     \"NodeID\":\"XXXXXXXXXXX\",\r\n        //     \"NodeName\":\"语文\",\r\n        //     \"Total\":50,\r\n        //     \"MaleCount\":10,\r\n        //     \"FemaleCount\":10,\r\n        //     \"MalePercent\":\"50%\",\r\n        //     \"FemalePercent\":\"50%\",\r\n        // }]\r\n        return json.Data?json.Data:{};\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n}\r\n\r\n/**\r\n * @description:获取教师人数概况  http://192.168.129.1:8033/showdoc/web/#/21?page_id=2087\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getHonorTeacher(payload = {}) {\r\n  // *RStatus:状态：0草稿；1正式发布\r\n  let { schoolID, collegeID, selectLevel, term } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/Basic/HonorTeacher?SchoolID=${\r\n      schoolID ? schoolID : \"\"\r\n    }&CollegeID=${collegeID ? collegeID : \"\"}&SelectLevel=${\r\n      selectLevel ? selectLevel : \"\"\r\n    }&Term=${term ? term : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        // \"Total\":50,\r\n        // \"MaleCount\":50,\r\n        // \"FemaleCount\":50,\r\n        // \"TeaSthRatio\":\"1:17\",\r\n        // \"SubSet\":[{\r\n        //     \"NodeID\":\"XXXXXXXXXXX\",\r\n        //     \"NodeName\":\"语文\",\r\n        //     \"Total\":50,\r\n        //     \"MaleCount\":10,\r\n        //     \"FemaleCount\":10,\r\n        //     \"MalePercent\":\"50%\",\r\n        //     \"FemalePercent\":\"50%\",\r\n        // }]\r\n        return json.Data?json.Data:{};\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n}\r\n\r\n/**\r\n * @description:获取教师人数概况  http://192.168.129.1:8033/showdoc/web/#/21?page_id=2087\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getTeacherAge(payload = {}) {\r\n  // *RStatus:状态：0草稿；1正式发布\r\n  let { schoolID, collegeID, selectLevel, term } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/Basic/Age?SchoolID=${schoolID ? schoolID : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }&SelectLevel=${selectLevel ? selectLevel : \"\"}&Term=${term ? term : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        // \"Term\":\"2020-202102\",\r\n        // \"SchoolID\":\"S-002\",\r\n        // \"CollegeID\":\"S-002-02\",\r\n        // \"AgeAvg\":36,            //平均年龄,\r\n        // \"TeachAgeAvg\":36,        //平均教龄\r\n        // \"AgeList\":[{\r\n        //     \"NodeID\":\"XXXXXXXXXXX\",\r\n        //     \"NodeName\":\"20-30岁\",\r\n        //     \"Total\":50,\r\n        // }]\r\n        return json.Data?json.Data:{};\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n}\r\n\r\n/**\r\n * @description:学历职称统计  http://192.168.129.1:8033/showdoc/web/#/21?page_id=2091\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getTeacherEduAndTitle(payload = {}) {\r\n  // *RStatus:状态：0草稿；1正式发布\r\n  let { schoolID, collegeID, selectLevel, term } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/Basic/EduAndTitle?SchoolID=${schoolID ? schoolID : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }&SelectLevel=${selectLevel ? selectLevel : \"\"}&Term=${term ? term : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        // \"Term\":\"2020-202102\",\r\n        // \"SchoolID\":\"S-002\",\r\n        // \"CollegeID\":\"S-002-02\",\r\n        // \"AgeAvg\":36,            //平均年龄,\r\n        // \"TeachAgeAvg\":36,        //平均教龄\r\n        // \"AgeList\":[{\r\n        //     \"NodeID\":\"XXXXXXXXXXX\",\r\n        //     \"NodeName\":\"20-30岁\",\r\n        //     \"Total\":50,\r\n        // }]\r\n        return json.Data?json.Data:{};\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n}\r\n\r\n","import React, {\r\n    useState,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    memo,\r\n    useImperativeHandle,\r\n    forwardRef\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Select } from \"antd\";\r\nconst { Option } = Select;\r\n//输入框\r\nfunction MyInput(props) {\r\n    let {\r\n        title,\r\n        type,\r\n        data,\r\n        list,\r\n        width,\r\n        getValue,\r\n        titleWidth,\r\n        inputWidth,\r\n        inputRef\r\n    } = props;\r\n    const [value, setValue] = useState(\"\");\r\n    const saveValue = (e) => {\r\n        setValue(e.target.value);\r\n    }\r\n    useLayoutEffect(() => {\r\n        \r\n        setValue(data);\r\n    }, [data])\r\n    useImperativeHandle(\r\n        inputRef,\r\n        () => ({\r\n           value: value\r\n        }),\r\n        [value, data],\r\n    )\r\n    return (\r\n        <div ref={inputRef} className=\"input-container\" style={{width: width}}>\r\n            <span className=\"input-title\" style={{width: titleWidth}}>{title}:</span>\r\n            {\r\n                type == \"select\"?\r\n                <Select \r\n                value={value} \r\n                onChange={(value)=>setValue(value)}\r\n                \r\n                style={{width: (inputWidth? inputWidth: \"\")}}>\r\n                    <Option value=\"否\">否</Option>\r\n                    <Option value=\"是\">是</Option>\r\n                </Select>:\r\n                type == \"list\"?\r\n                <Select \r\n                value={value} \r\n                onChange={(value)=>setValue(value)} \r\n                style={{width: (inputWidth? inputWidth: \"\")}}>\r\n                    {\r\n                        Array.isArray(list) &&\r\n                        list.map((item, index)=>{\r\n                            return (\r\n                                <Option \r\n                                key={index} \r\n                                value={item}>\r\n                                    {item}\r\n                                </Option>\r\n                            )\r\n                        })\r\n                    }\r\n                </Select>:\r\n                type == \"input\"?\r\n                <input \r\n                className=\"input-btn\" \r\n                type=\"text\" \r\n                value={value} \r\n                onChange={saveValue} \r\n                style={{width: inputWidth}}/>:\r\n                <div \r\n                className=\"input-btn\" \r\n                style={{width: inputWidth}}>\r\n                    {value}\r\n                </div>\r\n            }\r\n        </div>\r\n            \r\n    )\r\n}\r\n\r\nexport default memo(forwardRef(MyInput));","import React, {\r\n    useState,\r\n    useEffect\r\n} from \"react\";\r\nimport \"./index.scss\";\r\n\r\nfunction Item(props) {\r\n    let {\r\n        title,\r\n        content,\r\n        titleWidth,\r\n        contentWidth\r\n    } = props;\r\n    return (\r\n        <div className=\"list-one\">\r\n            <div className=\"list-title\" style={{width: Number(titleWidth)}}>{title}</div>\r\n            <div className=\"list-content\" style={{width: Number(contentWidth)}}>{content}</div>\r\n        </div>  \r\n    )\r\n}\r\n\r\nexport default Item;","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport Item from \"@/component/tableItem\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\n\r\nlet { BasicProxy } = ipConfig;\r\n  function StucherCount(props, ref) {\r\n    let {\r\n        userInfo: { UserID },\r\n        userStatus\r\n    } = props;\r\n    // const [userStatus, setUserStatus] = useState({});\r\n    \r\n    // userStatus.extraInfoJson = JSON.parse(userStatus.extraInfoJson);\r\n    // console.log(userStatus.extraInfoJson);\r\n    return (\r\n      <div className=\"stu-status\">\r\n        <table className=\"base-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>基本信息及辅助信息</caption>\r\n            <tr>\r\n                <td>姓名</td>\r\n                <td>{userStatus.studentName? userStatus.studentName: \"--\"}</td>\r\n                <td>性别</td>\r\n                <td>{userStatus.gender? userStatus.gender: \"--\"}</td>\r\n                <td>出生日期</td>\r\n                <td>{userStatus.dateOfBirth? userStatus.dateOfBirth: \"--\"}</td>\r\n                <td>出生地</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"出生地\"]?\r\n                 userStatus.extraInfoJson[\"出生地\"]: \"--\"}</td> \r\n                <td rowSpan=\"6\">{userStatus.photoPath}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>籍贯</td>\r\n                <td>{userStatus.nativePlace? userStatus.nativePlace: \"--\"}</td>\r\n                <td>民族</td>\r\n                <td>{userStatus.nation? userStatus.nation: \"--\"}</td>\r\n                <td>国籍/地区</td>\r\n                <td>{userStatus.nationality? userStatus.nationality: \"--\"}</td>\r\n                <td>身份证件类型</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"身份证件类型\"]?\r\n                 userStatus.extraInfoJson[\"身份证件类型\"]: \"--\"}</td> \r\n            </tr>\r\n            <tr>\r\n                <td>身份证件号码</td>\r\n                <td colSpan=\"3\">{userStatus.identityNum? userStatus.identityNum: \"--\"}</td>\r\n                <td>港澳台侨胞</td>\r\n                <td>{userStatus.overseaPeople? userStatus.overseaPeople: \"--\"}</td>\r\n                <td>政治面貌</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"政治面貌\"]?\r\n                 userStatus.extraInfoJson[\"政治面貌\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>健康状况</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"健康状况\"]?\r\n                 userStatus.extraInfoJson[\"健康状况\"]: \"--\"}</td>\r\n                <td>姓名拼音</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"姓名拼音\"]?\r\n                 userStatus.extraInfoJson[\"姓名拼音\"]: \"--\"}</td>\r\n                <td>曾用名</td>\r\n                <td>{userStatus.formerName? userStatus.formerName: \"--\"}</td>\r\n                <td>身份证件有效期</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"身份证件有效期\"]?\r\n                 userStatus.extraInfoJson[\"身份证件有效期\"]: \"--\"}</td> \r\n            </tr>\r\n            <tr>\r\n                <td>户口所在地</td>\r\n                <td>{userStatus.censusPlace? userStatus.censusPlace: \"--\"}</td>\r\n                <td>特长</td>\r\n                <td colSpan=\"5\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"特长\"]?\r\n                 userStatus.extraInfoJson[\"特长\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>学籍辅号</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"学籍辅号\"]?\r\n                 userStatus.extraInfoJson[\"学籍辅号\"]: \"--\"}</td>\r\n                <td>班内学号</td>\r\n                <td>{userStatus.studentId? userStatus.studentId: \"--\"}</td>\r\n                <td>年级</td>\r\n                <td>{userStatus.gradeName? userStatus.gradeName: \"--\"}</td>\r\n                <td>班级</td>\r\n                <td>{userStatus.className? userStatus.className: \"--\"}</td> \r\n            </tr>\r\n            <tr>\r\n                <td>入学年月</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"入学年月\"]?\r\n                 userStatus.extraInfoJson[\"入学年月\"]: \"--\"}</td>\r\n                <td>入学方式</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"入学方式\"]?\r\n                 userStatus.extraInfoJson[\"入学方式\"]: \"--\"}</td>\r\n                <td>就读方式</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"就读方式\"]?\r\n                 userStatus.extraInfoJson[\"就读方式\"]: \"--\"}</td>\r\n                <td>学生来源</td>\r\n                <td colSpan=\"2\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"学生来源\"]?\r\n                 userStatus.extraInfoJson[\"学生来源\"]: \"--\"}</td> \r\n            </tr>\r\n        </table>\r\n        <table className=\"person-link\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>个人联系方式</caption>\r\n            <tr>\r\n                <td>现住址</td>\r\n                <td colSpan=\"3\">啊实打实大撒旦王额请问请问</td>\r\n                <td>通信地址</td>\r\n                <td colSpan=\"3\">啊实打实大师都萨达</td>\r\n            </tr>\r\n            <tr>\r\n                <td>家庭地址</td>\r\n                <td colSpan=\"3\">啊实打实大撒旦王额请问请问</td>\r\n                <td>联系电话</td>\r\n                <td>啊实打实大师都萨达</td>\r\n                <td>邮政编码</td>\r\n                <td>啊实打实大师都萨达</td>\r\n            </tr>\r\n            <tr>\r\n                <td>现住址</td>\r\n                <td colSpan=\"3\">啊实打实大撒旦王额请问请问</td>\r\n                <td>通信地址</td>\r\n                <td colSpan=\"3\">啊实打实大师都萨达</td>\r\n            </tr>\r\n        </table>\r\n        <table className=\"person-more-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>个人扩展信息</caption>\r\n            <tr>\r\n                <td width=\"200\">是否独生子女</td>\r\n                <td width=\"85\">{userStatus.isOnlychild? userStatus.isOnlychild: \"--\"}</td>\r\n                <td width=\"200\">是否受过学前教育</td>\r\n                <td width=\"85\">{userStatus.isAcceptpreschool? userStatus.isAcceptpreschool: \"--\"}</td>\r\n                <td width=\"200\">是否留守儿童</td>\r\n                <td width=\"85\">{userStatus.isLeftbehindchild? userStatus.isLeftbehindchild: \"--\"}</td>\r\n                <td width=\"200\">是否进城务工人员随迁子女</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否进城务工人员随迁子女\"]?\r\n                 userStatus.extraInfoJson[\"是否进城务工人员随迁子女\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td width=\"200\">是否孤儿</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否孤儿\"]?\r\n                 userStatus.extraInfoJson[\"是否孤儿\"]: \"--\"}</td>\r\n                <td width=\"200\">是否烈士或优抚子女</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否烈士或优抚子女\"]?\r\n                 userStatus.extraInfoJson[\"是否烈士或优抚子女\"]: \"--\"}</td>\r\n                <td width=\"200\">随班就读</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"随班就读\"]?\r\n                 userStatus.extraInfoJson[\"随班就读\"]: \"--\"}</td>\r\n                <td width=\"200\">是否需要申请资助</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要申请资助\"]?\r\n                 userStatus.extraInfoJson[\"是否需要申请资助\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td width=\"200\">是否享受一补</td>\r\n                <td width=\"85\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否享受一补\"]?\r\n                 userStatus.extraInfoJson[\"是否享受一补\"]: \"--\"}</td>\r\n                <td width=\"200\">残疾人类型</td>\r\n                <td colSpan=\"5\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"残疾人类型\"]?\r\n                 userStatus.extraInfoJson[\"残疾人类型\"]: \"--\"}</td>\r\n            </tr>\r\n        </table>\r\n        <table className=\"study-status\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>学习经历</caption>\r\n            <tr>\r\n                <th width=\"148\">学习起始时间</th>\r\n                <th width=\"148\">学习结束时间</th>\r\n                <th width=\"395\">学习单位</th>\r\n                <th width=\"160\">学习内容</th>\r\n                <th width=\"140\">担任职务</th>\r\n                <th width=\"150\">学习证明人</th>\r\n            </tr>\r\n            <tr>\r\n                <td width=\"148\">学习起始时间</td>\r\n                <td width=\"148\">学习结束时间</td>\r\n                <td width=\"395\">学习单位</td>\r\n                <td width=\"160\">学习内容</td>\r\n                <td width=\"140\">担任职务</td>\r\n                <td width=\"150\">学习证明人</td>\r\n            </tr>\r\n            <tr>\r\n                <td width=\"148\">学习起始时间</td>\r\n                <td width=\"148\">学习结束时间</td>\r\n                <td width=\"395\">学习单位</td>\r\n                <td width=\"160\">学习内容</td>\r\n                <td width=\"140\">担任职务</td>\r\n                <td width=\"150\">学习证明人</td>\r\n            </tr>\r\n        </table>\r\n        <table className=\"transport-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>上下学交通方式</caption>\r\n            <tr>\r\n                <td width=\"200\">上下学距离(千米)</td>\r\n                <td width=\"178\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"上下学距离(千米)\"]?\r\n                 userStatus.extraInfoJson[\"上下学距离(千米)\"]: \"--\"}</td>\r\n                <td width=\"200\">上下学交通方式</td>\r\n                <td width=\"178\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"上下学交通方式\"]?\r\n                 userStatus.extraInfoJson[\"上下学交通方式\"]: \"--\"}</td>\r\n                <td width=\"200\">是否需要乘坐校车</td>\r\n                <td width=\"178\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]?\r\n                 userStatus.extraInfoJson[\"是否需要乘坐校车\"]: \"--\"}</td>\r\n            </tr>\r\n        </table>\r\n        <table className=\"family-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>家庭成员或监护人信息</caption>\r\n            <tr>\r\n                <td>姓名</td>\r\n                <td>张三</td>\r\n                <td>关系</td>\r\n                <td>男</td>\r\n                <td>身份证件类型</td>\r\n                <td>1000.02.22</td>\r\n                <td>身份证件号码</td>\r\n                <td>天庭</td> \r\n            </tr>\r\n            <tr>\r\n                <td>民族</td>\r\n                <td>张三</td>\r\n                <td>是否监护人</td>\r\n                <td>男</td>\r\n                <td>户口所在地</td>\r\n                <td>1000.02.22</td>\r\n                <td>联系方式</td>\r\n                <td>天庭</td> \r\n            </tr>\r\n            <tr>\r\n                <td>现住址</td>\r\n                <td colSpan=\"3\">张三</td>\r\n                <td>工作单位</td>\r\n                <td>男</td>\r\n                <td>职务</td>\r\n                <td>1000.02.22</td>\r\n            </tr>\r\n            <tr>\r\n                <td colSpan=\"8\" style={{height: 7}}></td>\r\n            </tr>\r\n            <tr>\r\n                <td>姓名</td>\r\n                <td>张三</td>\r\n                <td>关系</td>\r\n                <td>男</td>\r\n                <td>身份证件类型</td>\r\n                <td>1000.02.22</td>\r\n                <td>身份证件号码</td>\r\n                <td>天庭</td> \r\n            </tr>\r\n            <tr>\r\n                <td>民族</td>\r\n                <td>张三</td>\r\n                <td>是否监护人</td>\r\n                <td>男</td>\r\n                <td>户口所在地</td>\r\n                <td>1000.02.22</td>\r\n                <td>联系方式</td>\r\n                <td>天庭</td> \r\n            </tr>\r\n            <tr>\r\n                <td>现住址</td>\r\n                <td colSpan=\"3\">张三</td>\r\n                <td>工作单位</td>\r\n                <td>男</td>\r\n                <td>职务</td>\r\n                <td>1000.02.22</td>\r\n            </tr>\r\n        </table>\r\n        <table className=\"economic-info\" border=\"1\" borderColor=\"#b7e1e5\">\r\n            <caption>家庭经济情况</caption>\r\n            <tr>\r\n                <td>家庭人口</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭人口\"]?\r\n                 userStatus.extraInfoJson[\"家庭人口\"]: \"--\"}</td>\r\n                <td>赡养人口</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"赡养人口\"]?\r\n                 userStatus.extraInfoJson[\"赡养人口\"]: \"--\"}</td>\r\n                <td>家庭年收入</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭年收入\"]?\r\n                 userStatus.extraInfoJson[\"家庭年收入\"]: \"--\"}</td>\r\n                <td>主要收入来源</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"主要收入来源\"]?\r\n                 userStatus.extraInfoJson[\"主要收入来源\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>具备劳动力人数</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"具备劳动力人数\"]?\r\n                 userStatus.extraInfoJson[\"具备劳动力人数\"]: \"--\"}</td>\r\n                <td>是否低保</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否低保\"]?\r\n                 userStatus.extraInfoJson[\"是否低保\"]: \"--\"}</td>\r\n                <td>就学地低保线</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"就学地低保线\"]?\r\n                 userStatus.extraInfoJson[\"就学地低保线\"]: \"--\"}</td>\r\n                <td>困难程度</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"困难程度\"]?\r\n                 userStatus.extraInfoJson[\"困难程度\"]: \"--\"}</td> \r\n            </tr>\r\n            <tr>\r\n                <td>是否父母丧失劳动能力</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否父母丧失劳动能力\"]?\r\n                 userStatus.extraInfoJson[\"是否父母丧失劳动能力\"]: \"--\"}</td>\r\n                <td>是否农村绝对贫困家庭</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否农村绝对贫困家庭\"]?\r\n                 userStatus.extraInfoJson[\"是否农村绝对贫困家庭\"]: \"--\"}</td>\r\n                <td colSpan=\"3\">是否经民政部门确认的农村特困救助范围的家庭子女</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否经民政部门确认的农村特困救助范围的家庭子女\"]?\r\n                 userStatus.extraInfoJson[\"是否经民政部门确认的农村特困救助范围的家庭子女\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>是否军烈属</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否军烈属\"]?\r\n                 userStatus.extraInfoJson[\"是否军烈属\"]: \"--\"}</td>\r\n                <td>家庭是否五保户</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭是否五保户\"]?\r\n                 userStatus.extraInfoJson[\"家庭是否五保户\"]: \"--\"}</td>\r\n                <td colSpan=\"3\">家庭是否有大病患者</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭是否有大病患者\"]?\r\n                 userStatus.extraInfoJson[\"家庭是否有大病患者\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>家庭是否遭受自然灾害</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭是否遭受自然灾害\"]?\r\n                 userStatus.extraInfoJson[\"家庭是否遭受自然灾害\"]: \"--\"}</td>\r\n                <td colSpan=\"2\">自然灾害具体情况描述</td>\r\n                <td colSpan=\"4\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"自然灾害具体情况描述\"]?\r\n                 userStatus.extraInfoJson[\"自然灾害具体情况描述\"]: \"--\"}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>家庭失业人数</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭失业人数\"]?\r\n                 userStatus.extraInfoJson[\"家庭失业人数\"]: \"--\"}</td>\r\n                <td>家庭欠债金额</td>\r\n                <td>{userStatus.extraInfoJson && userStatus.extraInfoJson[\"家庭欠债金额\"]?\r\n                 userStatus.extraInfoJson[\"家庭欠债金额\"]: \"--\"}</td>\r\n                <td>欠债原因</td>\r\n                <td colSpan=\"3\">{userStatus.extraInfoJson && userStatus.extraInfoJson[\"欠债原因\"]?\r\n                 userStatus.extraInfoJson[\"欠债原因\"]: \"--\"}</td>\r\n            </tr>\r\n        </table>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n  \r\n  const mapStateToProps = (state) => {\r\n    let {\r\n      commonData: { levelHash, userInfo },\r\n    } = state;\r\n    return { levelHash, userInfo };\r\n  };\r\n  export default connect(mapStateToProps)(memo(forwardRef(StucherCount)));\r\n  ","import {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport { Modal, Empty } from '@/component/common';\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\n\r\nlet { BasicProxy } = ipConfig;\r\n// import { resizeForEcharts } from \"../../../util/public\";\r\nfunction TeacherCount(props, ref) {\r\n  let {\r\n    currentClass,\r\n    currentGrade,\r\n    currentTerm,\r\n    userIdentity,\r\n    userInfo: {SchoolID}\r\n  } = props;\r\n  const [countKindList, setCountKindList] = useState([\r\n    '男生',\r\n    '走读生',\r\n    '独生子女',\r\n    '留守儿童',\r\n    '接受过学前教育',\r\n    '贫困生',\r\n    '女生',\r\n    '住宿生',\r\n    '非独生子女',\r\n    '非留守儿童',\r\n    '未接受过学前教育',\r\n    '非贫困生'\r\n  ])\r\n  const [kindDataList, setKindDataList] = useState([]);\r\n  // const [titleDom, setTitleDom] = useState(\"\");\r\n  let titleDom;\r\n  const [statusInfo, setStatusInfo] = useState({});\r\n  const [currentKind, setCurrentKind] = useState(\"\");\r\n  const [isEmpty, setIsEmpty] = useState(true);\r\n  const [stuStatusVisible, setStuStatusVisible] = useState(false);\r\n  //弹出框学生列表\r\n  const [modalStuList, setModalStuList] = useState([]);\r\n  useLayoutEffect(() => {\r\n    let url, classId = \"\", gradeId = \"\";\r\n    if(userIdentity == \"manager\" && !SchoolID){\r\n      return;\r\n    }\r\n    if(userIdentity == \"teacher\" && !currentClass){\r\n      return;\r\n    }\r\n    // if(userIdentity == \"manager\" && !currentGrade ){\r\n    //   return;\r\n    // }\r\n    if(userIdentity == \"teacher\"){\r\n      url = BasicProxy + \"/api/status/class?classId=\" + currentClass;\r\n    }\r\n    if(userIdentity == \"manager\"){\r\n      if(currentClass){\r\n        url = BasicProxy + \"/api/status/class?classId=\" + currentClass;\r\n      }\r\n      if(currentGrade){\r\n        url = BasicProxy + \"/api/status/grade?gradeId=\" + currentGrade;\r\n      }\r\n      if(!currentClass && !currentGrade){\r\n        url = BasicProxy + \"/api/status/school?schoolId=\" + SchoolID;\r\n      } \r\n    }\r\n    fetch.\r\n    get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && result.data){\r\n        let arr = [];\r\n        countKindList.forEach((item)=>{\r\n          if(item == \"男生\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.maleNum,\r\n              dataList: result.data.maleList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"女生\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.femaleNum,\r\n              dataList: result.data.femaleList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"走读生\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.dayNum,\r\n              dataList: result.data.dayList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"住宿生\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.boardNum,\r\n              dataList: result.data.boardList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"独生子女\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.onlyChildNum,\r\n              dataList: result.data.onlyChildList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"非独生子女\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.classSize - result.data.onlyChildNum,\r\n              dataList: result.data.notOnlyChildList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"留守儿童\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.leftChildNum,\r\n              dataList: result.data.leftChildList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"非留守儿童\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.classSize - result.data.leftChildNum,\r\n              dataList: result.data.notLeftChildList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"接受过学前教育\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.acceptPreSchoolNum,\r\n              dataList: result.data.acceptPreSchoolList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"未接受过学前教育\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.classSize - result.data.acceptPreSchoolNum,\r\n              dataList: result.data.notAcceptPreSchoolList\t\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"贫困生\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.poorNum,\r\n              dataList: result.data.poorList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n          if(item == \"非贫困生\"){\r\n            let obj = {\r\n              key: item,\r\n              num: result.data.classSize - result.data.poorNum,\r\n              dataList: result.data.notPoorList\r\n            };\r\n            arr.push(obj);\r\n          }\r\n        })\r\n        setStatusInfo(result.data);\r\n        setKindDataList(arr);\r\n      }\r\n    })\r\n  }, [currentClass, currentGrade])\r\n  useEffect(()=>{\r\n    let ageData = [], nativePlace = [], nationData = [], nationality = [];\r\n    //求出年龄分布\r\n    for(let x in statusInfo.ageDistribution){\r\n      let obj = {\r\n        name: x,\r\n        value: statusInfo.ageDistribution[x]\r\n      }\r\n      ageData.push(obj);\r\n    }\r\n    //求出民族分布\r\n    for(let x in statusInfo.nationDistribution){\r\n      let obj = {\r\n        name: x,\r\n        value: statusInfo.nationDistribution[x]\r\n      }\r\n      nationData.push(obj);\r\n    }\r\n    //求出籍贯分布\r\n    for(let x in statusInfo.nativePlaceDistribution){\r\n      let obj = {\r\n        name: x,\r\n        value: statusInfo.nativePlaceDistribution[x]\r\n      }\r\n      nativePlace.push(obj);\r\n    }\r\n    //求出国籍分布\r\n    for(let x in statusInfo.nationalityDistribution){\r\n      let obj = {\r\n        name: x,\r\n        value: statusInfo.nationalityDistribution[x]\r\n      }\r\n      nationality.push(obj);\r\n    }\r\n    if(ageData.length == 0 && nativePlace.length == 0 && nationality.length == 0 && nationData.length == 0){\r\n      setIsEmpty(true);\r\n      return;\r\n    }\r\n    setIsEmpty(false);\r\n    let myEchart = echarts.init(document.getElementById(\"age-position-echart\"));\r\n    let myEchart2 = echarts.init(document.getElementById(\"native-position-echart\"));\r\n    let myEchart3 = echarts.init(document.getElementById(\"nation-position-echart\"));\r\n    let myEchart4 = echarts.init(document.getElementById(\"nationality-position-echart\"));\r\n    myEchart.resize();\r\n    let option = {\r\n      tooltip: {\r\n          trigger: 'item'\r\n      },\r\n      grid: {\r\n          top: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          left: 0\r\n      },\r\n      title: {\r\n          text: '年龄分布图',\r\n          left: 'center',\r\n          top: '80%',\r\n          textStyle: {\r\n              padding: [0, 0, 30, 0],\r\n              fontSize: 14,\r\n          }\r\n      },\r\n      backgroundColor: {\r\n        type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n        x: 0.5,  //x，y控制渐变的圆心\r\n        y: 0.45, \r\n        r: 0.35, //半径\r\n        //颜色配置\r\n        colorStops: [\r\n          {\r\n            offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n            color: 'white', // 0% 处的颜色\r\n          },\r\n          {\r\n            offset: 0.65,\r\n            color: 'white',\r\n          },\r\n          {\r\n            offset: 0.66,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.8,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'transparent',\r\n          },\r\n          {\r\n            offset: 1,\r\n            color: 'transparent', // 100% 处的颜色\r\n          },\r\n        ],\r\n      },\r\n      color: ['#89df89', '#f77575', '#71add8', '#2d3047', '#ffb782', 'pink'],\r\n      series: [\r\n        {\r\n          name: '访问来源',\r\n          type: 'pie',\r\n          radius: ['25%', '60%'],\r\n          center: ['50%', '45%'],\r\n          minAngle: 25,\r\n          avoidLabelOverlap: false,\r\n          label: {\r\n              show: true\r\n          },\r\n          emphasis: {\r\n              itemStyle: {\r\n                  borderWidth: 10,\r\n                  borderColor: 'rgba(0, 0, 0, 0.05)'\r\n              },\r\n          },\r\n          \r\n          data: ageData\r\n        }\r\n      ]\r\n    };  \r\n    let option2 = {\r\n      tooltip: {\r\n          trigger: 'item'\r\n      },\r\n      grid: {\r\n          top: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          left: 0\r\n      },\r\n      title: {\r\n          text: '籍贯分布图',\r\n          left: 'center',\r\n          top: '80%',\r\n          textStyle: {\r\n              padding: [0, 0, 30, 0],\r\n              fontSize: 14,\r\n          }\r\n      },\r\n      backgroundColor: {\r\n        type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n        x: 0.5,  //x，y控制渐变的圆心\r\n        y: 0.45, \r\n        r: 0.35, //半径\r\n        //颜色配置\r\n        colorStops: [\r\n          {\r\n            offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n            color: 'white', // 0% 处的颜色\r\n          },\r\n          {\r\n            offset: 0.65,\r\n            color: 'white',\r\n          },\r\n          {\r\n            offset: 0.66,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.8,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'transparent',\r\n          },\r\n          {\r\n            offset: 1,\r\n            color: 'transparent', // 100% 处的颜色\r\n          },\r\n        ],\r\n      },\r\n      color: ['#89df89', '#f77575', '#71add8', '#2d3047', '#ffb782', 'pink'],\r\n      series: [\r\n        {\r\n          name: '访问来源',\r\n          type: 'pie',\r\n          radius: ['25%', '60%'],\r\n          center: ['50%', '45%'],\r\n          minAngle: 25,\r\n          avoidLabelOverlap: false,\r\n          label: {\r\n              show: true\r\n          },\r\n          emphasis: {\r\n              itemStyle: {\r\n                  borderWidth: 10,\r\n                  borderColor: 'rgba(0, 0, 0, 0.05)'\r\n              },\r\n          },\r\n          \r\n          data: nativePlace\r\n        }\r\n      ]\r\n    };     \r\n    let option3 = {\r\n      tooltip: {\r\n          trigger: 'item'\r\n      },\r\n      grid: {\r\n          top: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          left: 0\r\n      },\r\n      title: {\r\n          text: '民族分布图',\r\n          left: 'center',\r\n          top: '80%',\r\n          textStyle: {\r\n              padding: [0, 0, 30, 0],\r\n              fontSize: 14,\r\n          }\r\n      },\r\n      backgroundColor: {\r\n        type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n        x: 0.5,  //x，y控制渐变的圆心\r\n        y: 0.45, \r\n        r: 0.35, //半径\r\n        //颜色配置\r\n        colorStops: [\r\n          {\r\n            offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n            color: 'white', // 0% 处的颜色\r\n          },\r\n          {\r\n            offset: 0.65,\r\n            color: 'white',\r\n          },\r\n          {\r\n            offset: 0.66,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.8,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'transparent',\r\n          },\r\n          {\r\n            offset: 1,\r\n            color: 'transparent', // 100% 处的颜色\r\n          },\r\n        ],\r\n      },\r\n      color: ['#89df89', '#f77575', '#71add8', '#2d3047', '#ffb782', 'pink'],\r\n      series: [\r\n        {\r\n          name: '访问来源',\r\n          type: 'pie',\r\n          radius: ['25%', '60%'],\r\n          center: ['50%', '45%'],\r\n          minAngle: 25,\r\n          avoidLabelOverlap: false,\r\n          label: {\r\n              show: true\r\n          },\r\n          emphasis: {\r\n              itemStyle: {\r\n                  borderWidth: 10,\r\n                  borderColor: 'rgba(0, 0, 0, 0.05)'\r\n              },\r\n          },\r\n          \r\n          data: nationData\r\n        }\r\n      ]\r\n    };     \r\n    let option4 = {\r\n      tooltip: {\r\n          trigger: 'item'\r\n      },\r\n      grid: {\r\n          top: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          left: 0\r\n      },\r\n      title: {\r\n          text: '国籍分布图',\r\n          left: 'center',\r\n          top: '80%',\r\n          textStyle: {\r\n              padding: [0, 0, 30, 0],\r\n              fontSize: 14,\r\n          }\r\n      },\r\n      backgroundColor: {\r\n        type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n        x: 0.5,  //x，y控制渐变的圆心\r\n        y: 0.45, \r\n        r: 0.35, //半径\r\n        //颜色配置\r\n        colorStops: [\r\n          {\r\n            offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n            color: 'white', // 0% 处的颜色\r\n          },\r\n          {\r\n            offset: 0.65,\r\n            color: 'white',\r\n          },\r\n          {\r\n            offset: 0.66,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.8,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'rgba(0, 0, 0, 0.05)',\r\n          },\r\n          {\r\n            offset: 0.91,\r\n            color: 'transparent',\r\n          },\r\n          {\r\n            offset: 1,\r\n            color: 'transparent', // 100% 处的颜色\r\n          },\r\n        ],\r\n      },\r\n      color: ['#89df89', '#f77575', '#71add8', '#2d3047', '#ffb782', 'pink'],\r\n      series: [\r\n        {\r\n          name: '访问来源',\r\n          type: 'pie',\r\n          radius: ['25%', '60%'],\r\n          center: ['50%', '45%'],\r\n          minAngle: 25,\r\n          avoidLabelOverlap: false,\r\n          label: {\r\n              show: true\r\n          },\r\n          emphasis: {\r\n              itemStyle: {\r\n                  borderWidth: 10,\r\n                  borderColor: 'rgba(0, 0, 0, 0.05)'\r\n              },\r\n          },\r\n          \r\n          data: nationality\r\n        }\r\n      ]\r\n    };           \r\n    myEchart.setOption(option);\r\n    myEchart2.setOption(option2);\r\n    myEchart3.setOption(option3);\r\n    myEchart4.setOption(option4);\r\n    window.addEventListener(\"resize\", function(){\r\n      myEchart.resize();\r\n      myEchart2.resize();\r\n      myEchart3.resize();\r\n      myEchart4.resize();\r\n    })\r\n    // return () => {\r\n    //   window.removeEventListener(\"resize\");\r\n    // }\r\n  }, []);\r\n  useEffect(() => {\r\n    titleDom = <p>学籍统计<span>-{currentKind}</span></p>;\r\n  }, [currentKind])\r\n \r\n  return (\r\n    <div className={`TeacherCount`}>\r\n      <div className=\"count-status\">\r\n        <div className=\"count-status-left\">\r\n          <div className=\"all-count\">{\r\n          userIdentity == \"teacher\"? \r\n          statusInfo.classSize:\r\n          currentClass?\r\n          statusInfo.classSize:\r\n          currentGrade?\r\n          statusInfo.gradeSize:\r\n          \"--\"\r\n        }</div>\r\n          <p>总人数</p>\r\n        </div>\r\n        <div className=\"slice-line\"></div>\r\n        <div className=\"count-status-right\">\r\n          {\r\n            Array.isArray(countKindList) &&\r\n            // countKindList.map((item)=>{\r\n              kindDataList.map((item, index)=>{\r\n                return (\r\n                  <div \r\n                  className={\"count-kind-one \" + (index > 5? \"orange\": \"\")}\r\n                  key={index}\r\n                  onClick={()=>{\r\n                    setModalStuList(item.dataList);\r\n                    setStuStatusVisible(true);\r\n                    setCurrentKind(item);\r\n                  }}\r\n                  >\r\n                    <p>{item.key}</p>\r\n                    <p className=\"kind-one-num\">{item.num}</p>\r\n                  </div>\r\n                )\r\n              })\r\n              \r\n            // })\r\n          }\r\n        </div>\r\n      </div>\r\n      {\r\n        isEmpty?\r\n        \"\":\r\n        // <Empty\r\n        // // className={\"bar-empty\"}\r\n        // style={{margin: \"20px 0\"}}\r\n        // title={\"暂无数据\"}\r\n        // type={\"4\"}\r\n        // ></Empty>:\r\n        <div className=\"kind-position\">\r\n          <div className=\"x-line\"></div>\r\n          <div className=\"y-line\"></div>\r\n          <div className=\"age-position-echart\" id=\"age-position-echart\"></div>\r\n          <div className=\"native-position-echart\" id=\"native-position-echart\"></div>\r\n          <div className=\"nation-position-echart\" id=\"nation-position-echart\"></div>\r\n          <div className=\"nationality-position-echart\" id=\"nationality-position-echart\"></div>\r\n        </div>\r\n      }\r\n      \r\n      <Modal\r\n        type=\"1\"\r\n        title={titleDom}\r\n        visible={stuStatusVisible}\r\n        onOk={()=>setStuStatusVisible(true)}\r\n        onCancel={()=>setStuStatusVisible(false)}\r\n        footer={null}\r\n        width={576}\r\n        className=\"stu-member-info\"\r\n        bodyStyle={{height: 432 + 'px', padding: '20px 36px'}}\r\n      >\r\n        <p className=\"stu-count\">共<span>{\r\n          userIdentity == \"teacher\"? \r\n          statusInfo.classSize:\r\n          currentClass?\r\n          statusInfo.classSize:\r\n          currentGrade?\r\n          statusInfo.gradeSize:\r\n          \"--\"\r\n          }</span>人</p>\r\n        <ul className=\"member-list\">\r\n          <Scrollbars \r\n          autoHeight\r\n          autoHeightMax={392}>\r\n            {\r\n              modalStuList.length > 0?\r\n              modalStuList.map((item, index)=>{\r\n                return (\r\n                <li key={index}>\r\n                  <img src={item.photo} />\r\n                  <p title={item.studentName}>{item.studentName}</p>\r\n                </li>\r\n                )\r\n              }):\r\n              <Empty\r\n              className={\"bar-empty\"}\r\n              style={{margin: \"80px 0 0\"}}\r\n              title={\"暂无数据\"}\r\n              type={\"4\"}\r\n              ></Empty>\r\n            }\r\n          \r\n          </Scrollbars>\r\n          \r\n        </ul>  \r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: { levelHash, userInfo },\r\n  } = state;\r\n  return { levelHash, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(TeacherCount)));\r\n","import React, {\r\n    useState,\r\n    useEffect\r\n} from \"react\";\r\nimport \"./index.scss\";\r\n\r\nfunction Flag(props) {\r\n    let {\r\n        type,\r\n        left,\r\n        direction,\r\n        dataType,\r\n        data\r\n    } = props;\r\n    \r\n    const [dataList, setDataList] = useState([]);\r\n    useEffect(()=>{\r\n        if(dataType == \"baseMsg\"){\r\n            let arr = [];\r\n            // Array.isArray(data) &&\r\n            // data.forEach((item)=>{\r\n                // let obj = {\r\n                //     time: item.recordDate,\r\n                //     content: item.content\r\n                // }\r\n                // arr.push(obj);\r\n            // })\r\n            // setDataList(arr);\r\n            let obj = {\r\n                time: data.recordDate,\r\n                content: data.content\r\n            }\r\n            arr.push(obj);\r\n            setDataList(arr);\r\n        }\r\n        if(dataType == \"attendanceMsg\"){\r\n            let arr = [];\r\n            let str = \"\";\r\n            if(data.late){\r\n                str += \"迟到人数\" + data.late + \"人\";\r\n            }\r\n            if(data.absent){\r\n                str += \"缺勤人数\" + data.absent + \"人\";\r\n            }\r\n            if(data.leaveEarly){\r\n                str += \"早退人数\" + data.leaveEarly + \"人\";\r\n            }\r\n            if(data.vacate){\r\n                str += \"请假人数\" + data.vacate + \"人\";\r\n            }\r\n            let obj = {\r\n                time: data.date,\r\n                content: str\r\n            }\r\n            arr.push(obj);\r\n            setDataList(arr);\r\n        }\r\n    }, [dataType, data])\r\n    console.log(\"轨迹信息\", dataType, dataList);\r\n    return (\r\n        <div \r\n        className={\r\n            direction == 'top'?\r\n            type == 'red'? 'top-flag-red': type == 'green'? 'top-flag-green': 'top-flag-blue':\r\n            type == 'red'? 'bottom-flag-red': type == 'green'? 'bottom-flag-green': 'bottom-flag-blue'\r\n        }\r\n        style={{\r\n            left: left\r\n        }}\r\n        >\r\n            {\r\n                dataList && Array.isArray(dataList) &&\r\n                dataList.length > 0?\r\n                dataList.map((item, index)=>{\r\n                    return (\r\n                    <div key={index}>\r\n                        <div className=\"flag-circle\">\r\n                        <div className=\"in-circle\"></div>\r\n                        </div>\r\n                        <div className=\"flag-line\"></div>\r\n                        <div className=\"flag-content\">\r\n                            <p className=\"content-title\">\r\n                                <span title={item.time}>{item.time}</span>\r\n                                {/* <span title={item.content}>{item.content}</span> */}\r\n                            </p>\r\n                            <p \r\n                            className=\"content-details\"\r\n                            title={item.content}\r\n                            >{item.content}</p>\r\n                        </div>\r\n                    </div>\r\n                    )\r\n                })\r\n                :\r\n                \"\"\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Flag;","import React, {\r\n    useState,\r\n    useEffect\r\n} from \"react\";\r\nimport Flag from \"./flag\";\r\nimport {Empty} from \"../common\"\r\nimport \"./index.scss\";\r\n\r\nfunction Track(props) {\r\n    //type是区别模块\r\n    let {\r\n        type,\r\n        userIdentity,\r\n        data\r\n    } = props;\r\n    //暂时只显示6个\r\n    data = Array.isArray(data) && data.slice(0, 6);\r\n    let circleList = [], flagList = [];\r\n    for(let i = 0; i < 34; i++){\r\n        circleList.push(\r\n            <div className=\"circle-one\"></div>\r\n        )\r\n    }\r\n   if(Array.isArray(data) && data.length){\r\n    data.forEach((item, j)=>{\r\n        j = j + 1;\r\n        flagList.push(\r\n            <Flag \r\n            dataType={type}\r\n            direction={j%2 == 0? 'bottom': 'top'}\r\n            type={j%3 == 0? 'red': j%3 == 2? 'green': 'blue'}\r\n            left={j == 1? -5 + j*112: j*140 - 33}\r\n            data={item}\r\n            ></Flag>\r\n        )\r\n    })\r\n   }\r\n    \r\n   \r\n    return (\r\n        <div className=\"track-show\">\r\n            {\r\n                data && Array.isArray(data) &&\r\n                data.length > 0?\r\n                <div className=\"circle-container\">\r\n                    {flagList}\r\n                    {circleList}\r\n                </div>:\r\n                <Empty\r\n                // className={\"bar-empty\"}\r\n                style={{position: 'relative', top: '80px'}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Track;","/*\r\n *           佛曰:\r\n *                   写字楼里写字间，写字间里程序员；\r\n *                   程序人员写程序，又拿程序换酒钱。\r\n *                   酒醒只在网上坐，酒醉还来网下眠；\r\n *                   酒醉酒醒日复日，网上网下年复年。\r\n *                   但愿老死电脑间，不愿鞠躬老板前；\r\n *                   奔驰宝马贵者趣，公交自行程序员。\r\n *                   别人笑我忒疯癫，我笑自己命太贱；\r\n *                   不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-29 16:47:13\r\n * @LastEditTime: 2021-01-05 10:00:20\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\teachersStatisticAnalysis\\historyModal.js\r\n */\r\n\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n  useImperativeHandle,\r\n  useLayoutEffect,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport { Modal } from \"../../component/common\";\r\nimport { deepMap, resizeForEcharts,changeToArray } from \"../../util/public\";\r\nimport echarts from \"echarts/lib/echarts\";\r\n\r\nimport \"echarts/lib/chart/line\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nfunction HistoryModal(props, ref) {\r\n  // *data:数据，结构看下面对data处理\r\n  // *visible:控制弹窗的显示，\r\n  // *title：弹窗的头部文案\r\n  // *childKey:data有下级的时候的键,可缺省，默认为children\r\n  // *类型选择名字，可缺省，默认类型选择\r\n  let {\r\n    title,\r\n    visible,\r\n    data,\r\n    childKey,\r\n    color,\r\n    width,\r\n    typeName,\r\n    className,\r\n    onClose,\r\n  } = props;\r\n  // 控制显示\r\n  const [Visible, setVisible] = useState(visible ? true : false);\r\n  // 处理后的数据\r\n  const [Source, setSource] = useState([]);\r\n  // 类型选择\r\n  const [TypeSelect, setTypeSelect] = useState(0);\r\n  // 展示的数据选择\r\n  const [SourceSelect, setSourceSelect] = useState([]);\r\n \r\n  // 柱状\r\n\r\n \r\n  // 处理颜色\r\n  const colors = useMemo(() => {\r\n    return (\r\n      color || [\r\n        \"#30a0f6\",\r\n        \"#fbb458\",\r\n        \"#fd8273\",\r\n        \"#3fb43f\",\r\n        \"#e84855\",\r\n        \"#e58d4c\",\r\n        \"#2d3047\",\r\n        \"#71add8\",\r\n      ]\r\n    );\r\n  }, [color]);\r\n  useEffect(() => {\r\n    setVisible(!!visible);\r\n  }, [visible]);\r\n  // 对data进行处理\r\n  useEffect(() => {\r\n    if (data !== undefined && !(data instanceof Array)) {\r\n      return;\r\n    }\r\n    const myData = data || [\r\n      {\r\n        nodeName: \"全部\",\r\n        nodeID: \"all\",\r\n        titleList: [\r\n          [\"\", \"年\", \"教师人均周课时\", \"节次\"],\r\n          [\"人均总课时\", \"节\"],\r\n          [\"人均任教班级\", \"个\"],\r\n          [\"人均任教学生\", \"人\"],\r\n        ],\r\n        xName: \"周课时数\",\r\n        yName: \"年份\",\r\n        source: [], //数据源\r\n        type: [\"测试1\", \"测试2\"], //多个数据时候的名称lengen\r\n        children: [\r\n          {\r\n            nodeName: \"2018\",\r\n            nodeID: 2018,\r\n            dataList: [[\"2018\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [70, 65],\r\n          },\r\n          {\r\n            nodeName: \"2019\",\r\n            nodeID: 2019,\r\n            dataList: [[\"2019\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [60, 30],\r\n          },\r\n          {\r\n            nodeName: \"2020\",\r\n            nodeID: 2020,\r\n            dataList: [[\"2020\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [85, 40],\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        nodeName: \"类型2\",\r\n        nodeID: \"all1\",\r\n        titleList: [\r\n          [\"\", \"年\", \"教师人均周课时\", \"节次\"],\r\n          [\"人均总课时\", \"节\"],\r\n          [\"人均任教班级\", \"个\"],\r\n          [\"人均任教学生\", \"人\"],\r\n        ],\r\n        xName: \"周课时数\",\r\n        yName: \"年份\",\r\n        type: [\"测试1\", \"测试2\"], //多个数据时候的名称lengen\r\n        children: [\r\n          {\r\n            nodeName: \"2018\",\r\n            nodeID: 2018,\r\n            dataList: [[\"2018\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [10, 300],\r\n          },\r\n          {\r\n            nodeName: \"2019\",\r\n            nodeID: 2019,\r\n            dataList: [[\"2019\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [50, 60],\r\n          },\r\n          {\r\n            nodeName: \"2020\",\r\n            nodeID: 2020,\r\n            dataList: [[\"2020\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [20, 70],\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        nodeName: \"类型3\",\r\n        nodeID: \"all3\",\r\n        titleList: [\r\n          [\"\", \"年\", \"教师人均周课时\", \"节次\"],\r\n          [\"人均总课时\", \"节\"],\r\n          [\"人均任教班级\", \"个\"],\r\n          [\"人均任教学生\", \"人\"],\r\n        ],\r\n        xName: \"周课时数\",\r\n        yName: \"周课时数\",\r\n        type: [\"测试1\"], //多个数据时候的名称lengen\r\n        children: [\r\n          {\r\n            nodeName: \"2018\",\r\n            nodeID: 2018,\r\n            dataList: [\r\n              [\"2018\", \"初中学段\", \"21\"],\r\n              [\"<span class='title-2'>150</span>\"],\r\n              [\"2\"],\r\n              [\"60\"],\r\n            ],\r\n            source: [10, 300],\r\n          },\r\n          {\r\n            nodeName: \"2019\",\r\n            nodeID: 2019,\r\n            dataList: [[\"2019\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [50, 60],\r\n          },\r\n          {\r\n            nodeName: \"2020\",\r\n            nodeID: 2020,\r\n            dataList: [[\"2020\", \"初中学段\", \"21\"], [\"150\"], [\"2\"], [\"60\"]],\r\n            source: [20, 70],\r\n          },\r\n        ],\r\n      },\r\n    ];\r\n    // 先判断有几层，一层不要类型选择，二层要\r\n    let haveChald = false; //控制后面的数据加层,false加\r\n    let source_level_2 = [];\r\n    // let source_level_1 = []; //当只有一级的时候使用这个\r\n    let source_level_1 = [\r\n      {\r\n        nodeName: \"全部\",\r\n        nodeID: \"all\",\r\n        xName: \"x坐标轴\",\r\n        yName: \"y坐标轴\",\r\n        children: [],\r\n      },\r\n    ]; //一层的时候默认的第一级\r\n    let typeList = []; //做类型选择\r\n    let typeIndex = -1; //第一层位置\r\n    // let dataIndex = -1; //第二层位置\r\n    // 处理方法,合成tooltip的title\r\n    const handleSource = ({\r\n      nodeName,\r\n      nodeID,\r\n      titleList,\r\n      dataList,\r\n      source,\r\n      xName,\r\n      yName,\r\n      ...other\r\n    }) => {\r\n      // 没有用第一级的\r\n      titleList = titleList || typeList[typeIndex].titleList || [];\r\n      dataList = dataList || [];\r\n      xName = xName || \"x坐标轴\";\r\n      yName = yName || \"y坐标轴\";\r\n      let tooltip = [];\r\n      let maxLen =\r\n        titleList.length > dataList.length ? titleList.length : dataList.length; //最长长度\r\n      // 处理tooltip\r\n      for (let i = 0; i < maxLen; i++) {\r\n        // 第一级是行，第二级才拼起来，需要保持一样长度\r\n        let title = changeToArray(titleList[i]); //转化为数组\r\n        let data = changeToArray(dataList[i]);\r\n        let maxLen2 = title.length > data.length ? title.length : data.length; //最长长度\r\n        let culunm = [];\r\n        for (let j = 0; j < maxLen2; j++) {\r\n          culunm.push(title[j]);\r\n          culunm.push(data[j]);\r\n        }\r\n        tooltip.push(culunm);\r\n      }\r\n      return {\r\n        nodeName,\r\n        nodeID,\r\n        tooltip,\r\n        source: changeToArray(source),\r\n        xName,\r\n        yName,\r\n        ...other,\r\n      };\r\n    };\r\n    deepMap(\r\n      myData,\r\n      ({ child, level, parent, indexArray }) => {\r\n        let { nodeName, nodeID, titleList, xName, yName, type } = child;\r\n        // 第一层\r\n        if (level === 1) {\r\n          typeIndex++;\r\n          // dataIndex = 0;\r\n          typeList[typeIndex] = {\r\n            nodeName,\r\n            nodeID,\r\n            titleList: titleList,\r\n            type: changeToArray(type),\r\n          };\r\n          source_level_2[typeIndex] = {\r\n            nodeName,\r\n            xName,\r\n            yName,\r\n            nodeID,\r\n            type: changeToArray(type),\r\n            children: [],\r\n          };\r\n\r\n          source_level_1[0].xName = xName || source_level_1[0].xName;\r\n          source_level_1[0].yName = yName || source_level_1[0].yName;\r\n          source_level_1[0].children.push(handleSource(child));\r\n        }\r\n\r\n        if (level === 2) {\r\n          source_level_2[typeIndex].children.push(handleSource(child));\r\n\r\n          // 干煸状态\r\n          // dataIndex++;\r\n          haveChald = true;\r\n        }\r\n      },\r\n      childKey || \"children\"\r\n    );\r\n    if (!haveChald) {\r\n      //一层，替换source\r\n      // typeList_level_1[0].children = source_level_1;\r\n      source_level_2 = source_level_1;\r\n    }\r\n\r\n    setTypeSelect(0);\r\n    setSourceSelect(source_level_2[0].children);\r\n    setSource(source_level_2);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [data, childKey]);\r\n  // 进行echarts 的挂载\r\n \r\n\r\n  // 处理为数组\r\n  const changeToArray = useCallback((param) => {\r\n    let end = [];\r\n    if (!(param instanceof Array)) {\r\n      // if (!param) {\r\n      //   end = [];\r\n      // }\r\n      if (typeof param === \"object\") {\r\n        for (let i in param) {\r\n          end.push(param[i]);\r\n        }\r\n      } else if (typeof param === \"string\") {\r\n        end = [param];\r\n      } else {\r\n        end = [];\r\n      }\r\n    } else {\r\n      end = param;\r\n    }\r\n    return end;\r\n  }, []);\r\n\r\n  // useImperativeHandle(ref,()=>({\r\n  //   controlVisible:(bool)=>{\r\n  //     setVisible(!!bool)\r\n  //   }\r\n  // }))\r\n  return (\r\n    <Modal\r\n      className={`HistoryModal ${className ? className : \"\"}`}\r\n      footer={null}\r\n      type={\"4\"}\r\n      visible={Visible}\r\n      width={width || 886}\r\n      title={title ? title : \"历年人均\"}\r\n      onCancel={() => {\r\n        setVisible(false);\r\n        onClose(false);\r\n      }}\r\n    >\r\n      {Visible ? (\r\n        <>\r\n          {Source.length > 1 ? (\r\n            <p className=\"type-label\">\r\n              <span className=\"type-name\">{typeName || \"类型选择\"}:</span>\r\n              {Source.map((child, index) => {\r\n                return (\r\n                  <span\r\n                    key={index}\r\n                    onClick={() => {\r\n                      setTypeSelect(index);\r\n                      setSourceSelect(Source[index]);\r\n                    }}\r\n                    className={`type-select ${\r\n                      index === TypeSelect ? \"type-select-active\" : \"\"\r\n                    }`}\r\n                  >\r\n                    {child.nodeName}\r\n                  </span>\r\n                );\r\n              })}\r\n            </p>\r\n          ) : (\r\n            <div style={{height:'40px'}}></div>\r\n          )}\r\n\r\n          {/* <div ref={echartsRef} className=\"teacher-bar hm-echarts\">\r\n      \r\n          </div> */}\r\n          <MyEcharts\r\n            colors={colors}\r\n            Source={Source}\r\n            Visible={Visible}\r\n            TypeSelect={TypeSelect}\r\n          ></MyEcharts>\r\n        </>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Modal>\r\n  );\r\n}\r\nfunction MyEcharts(props) {\r\n  let { colors, Source, Visible, TypeSelect } = props;\r\n  // 柱状\r\n\r\n  let [myEchart, setMyEchart] = useState(null);\r\n\r\n  // echartref\r\n  const echartsRef = useRef(null);\r\n\r\n  // 进行echarts 的挂载\r\n  useLayoutEffect(() => {\r\n    if (!Visible || Source.length === 0 || !echartsRef.current) {\r\n      return;\r\n    }\r\n    if (!myEchart) {\r\n      // 数据更新后，防止二次初始化echarts，第一次进来初始化echarts\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      myEchart = echarts.init(echartsRef.current);\r\n      // 保存echart实例\r\n      setMyEchart(myEchart);\r\n      // 对界面resize进行监听重绘echart\r\n      resizeForEcharts(myEchart);\r\n    }\r\n    let source = Source[TypeSelect];\r\n    let data = [[\"nodename\", ...source.type]];\r\n    let series = [];\r\n    source.children.forEach((child) => {\r\n      let tooltip = \"\";\r\n      child.tooltip.forEach((tip, index) => {\r\n        tip = changeToArray(tip);\r\n        let title = \"\";\r\n        tip.forEach((data) => {\r\n          title += data || \"\";\r\n        });\r\n        if (index === 0) {\r\n          tooltip += `<p class=\"nodename\">${title}</p>`;\r\n        } else {\r\n          tooltip += `<p class='msg msg-2'>${title}</p>`;\r\n        }\r\n      });\r\n      data.push([child.nodeName, ...child.source, tooltip]);\r\n    });\r\n    source.type.forEach((child, index) => {\r\n      series.push({\r\n        type: \"line\",\r\n        // xAxisIndex: 1,\r\n        smooth: true,\r\n        symbolSize: 7,\r\n        showSymbol: false,\r\n      });\r\n    });\r\n    let option = {\r\n      dataset: {\r\n        source: data,\r\n      },\r\n      color: colors,\r\n\r\n      tooltip: {\r\n        trigger: \"axis\",\r\n        axisPointer: {\r\n          type: \"cross\",\r\n        },\r\n        backgroundColor: \"rgba(0,0,0,0.7)\",\r\n        borderColor: \"transparent\",\r\n        borderWidth: 0,\r\n        formatter: (params) => {\r\n          return `<div class='t-tooltip'>${\r\n            params[0].data[params[0].data.length - 1]\r\n          }</div>`;\r\n        },\r\n      },\r\n\r\n      legend: {\r\n        show: source.type.length > 1,\r\n        right: 50,\r\n        top: 0,\r\n        // itemWidth: 11,\r\n        // itemHeight: 11,\r\n        itemGap: 30,\r\n        // formatter: (id) => {\r\n        //   return `{name|${sexData[id].title}:}{count|${sexData[id].value}}{name|人}`;\r\n        // },\r\n        textStyle: {\r\n          rich: {\r\n            name: {\r\n              fontSize: 12,\r\n              color: \"#999999\",\r\n            },\r\n            count: {\r\n              fontSize: 14,\r\n              fontWeight: \"bold\",\r\n              color: \"#333\",\r\n            },\r\n          },\r\n        },\r\n      },\r\n      grid: {\r\n        top: 30,\r\n        // bottom: 20,\r\n        right: 80,\r\n        left: 40,\r\n        containLabel: true,\r\n        height: 330,\r\n      },\r\n      xAxis: {\r\n        type: \"category\",\r\n        name: source.xName,\r\n        axisTick: {\r\n          show: true,\r\n          inside: true,\r\n          alignWithLabel: true,\r\n          length: 305,\r\n          lineStyle: {\r\n            color: \"#e5e5e5\",\r\n          },\r\n        },\r\n        axisLine: {\r\n          // onZero: false,\r\n          lineStyle: {\r\n            color: \"#cccccc\",\r\n          },\r\n        },\r\n        nameTextStyle: {\r\n          color: \"#b8b8b8\",\r\n        },\r\n        axisLabel: {\r\n          color: \"#666666\",\r\n          fontSize: 12,\r\n          margin: 13,\r\n        },\r\n        splitLine: {\r\n          show: false,\r\n        },\r\n      },\r\n\r\n      yAxis: {\r\n        type: \"value\",\r\n        name: source.yName,\r\n        axisLine: { show: false },\r\n        nameTextStyle: {\r\n          color: \"#b8b8b8\",\r\n          align: \"left\",\r\n        },\r\n        axisLabel: {\r\n          color: \"#b8b8b8\",\r\n          margin: 20,\r\n          fontSize: 12,\r\n        },\r\n        splitLine: {\r\n          lineStyle: {\r\n            type: \"dashed\",\r\n          },\r\n        },\r\n      },\r\n\r\n      series: series,\r\n    };\r\n\r\n    // option.dataset.source = dataList;\r\n\r\n    // 设置option\r\n    myEchart.setOption(option);\r\n    return () => {\r\n      // 卸载echarts实例的事件\r\n\r\n      myEchart.off();\r\n    };\r\n  }, [Source, Visible, TypeSelect]);\r\n \r\n return  <div ref={echartsRef} className=\"teacher-bar hm-echarts\"></div>;\r\n}\r\nexport default memo(forwardRef(HistoryModal));\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport { Modal } from '@/component/common';\r\nimport Table from '@/component/tableList';\r\nimport $ from 'jquery';\r\nimport \"./index.scss\";\r\nimport Bar from \"../../../component/bar\";\r\nimport {\r\n  getTeacherCount,\r\n  getHonorTeacher,\r\n  getTeacherAge,\r\n  getTeacherEduAndTitle,\r\n} from \"../../../api/baseMsg\";\r\nimport Scrollbars from \"react-custom-scrollbars\";\r\nimport MyInput from '@/component/input';\r\nimport StuStatusCount from \"./stuStatusCount\";\r\nimport TeaStatusCount from \"./teaStatusCount\";\r\nimport Track from \"../../../component/Track\";\r\nimport HistoryModal from \"../historyModal\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nimport { message } from \"antd\";\r\n\r\nlet { BasicProxy } = ipConfig;\r\nfunction BaseMsg(props, ref) {\r\n  // *selectLevel:这里的selectLevel与用户的没关系，与看的级别有关，例如教育局的看学校的，selectLevel===2\r\n  // *productLevel:产品类型，给用户看的界面类型，用来控制界面的一些属性：1教育局，2大学学校，3教育局学校，4大学学院，\r\n  // *product:包含该productLevel的所有信息,有使用组件者使用productLevel和commonData的levelHash匹配使用，必须传，不传将出问题\r\n  let {\r\n    term,\r\n    HasHistory,\r\n    onAnchorComplete,\r\n    schoolID,\r\n    collegeID,\r\n    productMsg,\r\n    userIdentity,\r\n    userInfo: {UserID, SchoolID},\r\n    currentClass,\r\n    currentGrade,\r\n  } = props;\r\n  const selectLevel = 2;\r\n  // const { selectLevel } = productMsg;\r\n  // 教师人数\r\n  const [teacherCount, setTeacherCount] = useState(false);\r\n  const [teacherFamous, setTeacherFamous] = useState(false);\r\n  const [teacherAge, setTeacherAge] = useState(false);\r\n  const [teacherEduAndTitle, setTeacherEduAndTitle] = useState(false);\r\n  // 弹框\r\n  const [visible, setVisible] = useState(false);\r\n  const [courseVisible, setCourseVisible] = useState(false);\r\n  const [recordVisible, setRecordVisible] = useState(false);\r\n  //学生学籍信息\r\n  const [userStatus, setUserStatus] = useState({});\r\n  //轨迹信息\r\n  const [trackInfo, setTrackInfo] = useState([]);\r\n  //学籍所有字段ref\r\n  const stuNameRef = useRef(null);\r\n  const censusPlaceRef = useRef(null);\r\n  const classIdRef = useRef(null);\r\n  const classNameRef = useRef(null);\r\n  const dateOfBirthRef = useRef(null);\r\n  const errorCorrectionRef = useRef(null);\r\n  //额外信息\r\n  const extraInfoRef = useRef(null);\r\n\r\n  const formerNameRef = useRef(null);\r\n  const genderRef = useRef(null);\r\n  const gradeIdRef = useRef(null);\r\n  const gradeNameRef = useRef(null);\r\n  //监护人信息\r\n  const guardianListRef = useRef(null);\r\n\r\n  const homeAddressRef = useRef(null);\r\n  const identityNumRef = useRef(null);\r\n  const isAcceptpreschoolRef = useRef(null);\r\n  const isLeftbehindchildRef = useRef(null);\r\n  const isOnlychildRef = useRef(null);\r\n  const isPoorRef = useRef(null);\r\n  const nationRef = useRef(null);\r\n  const nationalityRef = useRef(null);\r\n  const overseaPeopleRef = useRef(null);\r\n  const studentIdRef = useRef(null);\r\n  const studentNameRef = useRef(null);\r\n  const studyingWayRef = useRef(null);\r\n  const schoolIdRef = useRef(null);\r\n  const martyrChildRef = useRef(null);\r\n  const lowProtectRef = useRef(null);\r\n  const postalCodeRef = useRef(null);\r\n  const nativePlaceRef = useRef(null);\r\n  const isParentWorkRef = useRef(null);\r\n  const takeCareRef = useRef(null);\r\n  const isLowBadRef = useRef(null);\r\n  const isFiveRef = useRef(null);\r\n  const classNumRef = useRef(null);\r\n\r\n  const hobbitRef = useRef(null);\r\n  const bitrhPlaceRef = useRef(null);\r\n  const studyLowProtectRef = useRef(null);\r\n  const disasterStatusRef = useRef(null);\r\n  const inSchoolWayRef = useRef(null);\r\n  const politicRef = useRef(null);\r\n\r\n  const indexAddrRef = useRef(null);\r\n  const moneyFromRef = useRef(null);\r\n  const identityTypeRef = useRef(null);\r\n  const nowLiveRef = useRef(null);\r\n  const connectAddrRef = useRef(null);\r\n  const faimlyNumRef = useRef(null);\r\n  const nameRef = useRef(null);\r\n  const relationshipRef = useRef(null);\r\n  const serviceUnitRef = useRef(null);\r\n  const telRef = useRef(null);\r\n  const changeItemRef = useRef(null);\r\n  const userIdRef = useRef(null);\r\n\r\n  const semesterStartTimeRef = useRef(null);\r\n  const semesterEndTimeRef = useRef(null);\r\n  const schoolRef = useRef(null);\r\n  const learningContentRef = useRef(null);\r\n  const dutyRef = useRef(null);\r\n  const certifierRef = useRef(null);\r\n  const birthPlaceRef = useRef(null);\r\n\r\n  const identityTimeRef = useRef(null);\r\n  const badManRef = useRef(null);\r\n  const trafficWayRef = useRef(null);\r\n  const notWorkRef = useRef(null);\r\n  const badTypeRef = useRef(null);\r\n  const readTypeRef = useRef(null);\r\n  const onlyOneRef = useRef(null);\r\n\r\n  const isbadestRef = useRef(null);\r\n  const healthTypeRef = useRef(null);\r\n  const nameChineseRef = useRef(null);\r\n  const cityWorkRef = useRef(null);\r\n  const emailRef = useRef(null);\r\n  const isHelpRef = useRef(null);\r\n  const isTakeBusRef = useRef(null);\r\n  const followClassRef = useRef(null);\r\n  const isSoldierRef= useRef(null);\r\n  const isDisasterRef = useRef(null);\r\n  const isHaveOneRef = useRef(null);\r\n  const isHavePatientRef = useRef(null);\r\n  const debtReasonRef = useRef(null);\r\n  const stuFromRef = useRef(null);\r\n  const faimlyMoneyRef = useRef(null);\r\n  const telphoneRef = useRef(null);\r\n  const ableManRef = useRef(null);\r\n  const debtNumRef = useRef(null);\r\n  const inSchoolRef = useRef(null);\r\n  const schoolDistanceRef = useRef(null);\r\n  const nationPlaceRef = useRef(null);\r\n  // const isLeftbehindchildRef = useRef(null);\r\n  // const isOnlychildRef = useRef(null);\r\n  // const isPoorRef = useRef(null);\r\n  //向上传bar的信息\r\n  // const [anchorList, setAnchorList] = useState([]);\r\n  // 获取每一块的ref，实现锚点功能\r\n  const countRef = useRef(null);\r\n  const myStatusRef = useRef(null);\r\n  const statusTrackRef = useRef(null);\r\n  const attendanceTrack = useRef(null);\r\n  const search = () => {\r\n    //搜索\r\n    let keyowrd = $('.search-input').val();\r\n    \r\n  }\r\n  useLayoutEffect(() => {\r\n    // setAnchorList();\r\n    typeof onAnchorComplete === \"function\" &&\r\n      onAnchorComplete([\r\n        { ref: countRef.current, name: \"学籍统计\" },\r\n        { ref: myStatusRef.current, name: \"我的学籍\" },\r\n        { ref: attendanceTrack.current, name: \"学籍轨迹\" },\r\n        { ref: statusTrackRef.current, name: \"学籍轨迹\" },\r\n      ]);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  // 初始请求\r\n  //获取轨迹信息\r\n  useLayoutEffect(() => {\r\n    let url = BasicProxy + \"/api/status/record?type=\" +\r\n    (\r\n      userIdentity == \"student\"?\r\n      1:\r\n      userIdentity == \"manager\"?\r\n      currentClass?\r\n      2:\r\n      currentGrade?\r\n      3:\r\n      4:\r\n      2\r\n    ) +\r\n    \"&studentId=\" + UserID +\r\n    \"&classId=\" + currentClass +\r\n    \"&gradeId=\" + currentGrade +\r\n    \"&schoolId=\" + SchoolID;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && result.data){\r\n        setTrackInfo(result.data);\r\n      }\r\n    })\r\n  }, [userIdentity, currentGrade, currentClass])\r\n  //获取学生自身学籍信息\r\n  useLayoutEffect(()=>{\r\n    let url = BasicProxy + \"/api/status/student?studentId=\" + UserID;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n            setUserStatus(\r\n                {\r\n                  \"photoPath\": null,\r\n                  \"schoolId\": null,\r\n                  \"studentId\": \"lzx001\",\r\n                  \"studentName\": \"零零一\",\r\n                  \"classId\": null,\r\n                  \"className\": \"一年级一(1)班\",\r\n                  \"gradeId\": null,\r\n                  \"gradeName\": \"一年级\",\r\n                  \"gender\": \"男\",\r\n                  \"studyingWay\": \"\",\r\n                  \"isOnlychild\": \"否\",\r\n                  \"isLeftbehindchild\": \"否\",\r\n                  \"isAcceptpreschool\": \"否\",\r\n                  \"isPoor\": null,\r\n                  \"dateOfBirth\": \"1996-09-02\",\r\n                  \"nativePlace\": \"广东广州\",\r\n                  \"nation\": \"汉\",\r\n                  \"nationality\": \"中国\",\r\n                  \"formerName\": \"秦晓雪\",\r\n                  \"identityNum\": \"45041020001010225X\",\r\n                  \"censusPlace\": \"广东广州\",\r\n                  \"overseaPeople\": \"否\",\r\n                  \"homeAddress\": \"广东省广州市白云区北太路1633号民营科技园科创路1号\",\r\n                  \"resume\": null,\r\n                  \"guardian\": null,\r\n                  \"extraInfo\": null,\r\n                  \"errorCorrection\": null,\r\n                  \"resumeJson\": [\r\n                    {\r\n                      \"学习起始时间\": \"2001-09-01\",\r\n                      \"学习证明人\": \"蒋金霞\",\r\n                      \"学习内容\": \"小学\",\r\n                      \"担任职务\": \"班长\",\r\n                      \"学习结束时间\": \"2007-06-01\",\r\n                      \"学习单位\": \"广州市第一实验小学\"\r\n                    },\r\n                    {\r\n                      \"学习起始时间\": \"2007-09-01\",\r\n                      \"学习证明人\": \"何艳芳\",\r\n                      \"学习内容\": \"初中\",\r\n                      \"担任职务\": \"班长\",\r\n                      \"学习结束时间\": \"2010-06-01\",\r\n                      \"学习单位\": \"广州市第八初级中学\"\r\n                    },\r\n                    {\r\n                      \"学习起始时间\": \"2010-09-01\",\r\n                      \"学习证明人\": \"贺苏\",\r\n                      \"学习内容\": \"高中\",\r\n                      \"担任职务\": \"学习委员\",\r\n                      \"学习结束时间\": \"2013-06-01\",\r\n                      \"学习单位\": \"广州市第十一中学\"\r\n                    }\r\n                  ],\r\n                  \"guardianJson\": [\r\n                    {\r\n                      \"姓名\": \"覃爱国\",\r\n                      \"关系\": \"父女\",\r\n                      \"民族\": \"汉\",\r\n                      \"身份证件号码\": \"45012119631201233\",\r\n                      \"户口所在地\": \"广东广州\",\r\n                      \"联系方式\": \"13623021202\",\r\n                      \"职务\": \"工程师\",\r\n                      \"身份证件类型\": \"中国居民身份证\",\r\n                      \"现住址\": \"广东省广州市白云区民营科技园科创路1号员工宿舍\",\r\n                      \"工作单位\": \"蓝鸽集团\",\r\n                      \"是否监护人\": \"是\"\r\n                    },\r\n                    {\r\n                      \"姓名\": \"黄美丽\",\r\n                      \"关系\": \"母女\",\r\n                      \"民族\": \"汉\",\r\n                      \"身份证件号码\": \"45012119631201233\",\r\n                      \"户口所在地\": \"广东广州\",\r\n                      \"联系方式\": \"13623026985\",\r\n                      \"职务\": \"注册会计师\",\r\n                      \"身份证件类型\": \"中国居民身份证\",\r\n                      \"现住址\": \"广东省广州市白云区民营科技园科创路1号员工宿舍\",\r\n                      \"工作单位\": \"蓝鸽集团\",\r\n                      \"是否监护人\": \"是\"\r\n                    }\r\n                  ],\r\n                  \"extraInfoJson\": {\r\n                    \"身份证件有效期\": \"2030-12-30\",\r\n                    \"残疾人类型\": \"\",\r\n                    \"上下学交通方式\": \"乘坐公交车\",\r\n                    \"家庭失业人数\": \"\",\r\n                    \"困难程度\": \"一般\",\r\n                    \"随班就读\": \"否\",\r\n                    \"是否孤儿\": \"否\",\r\n                    \"是否经民政部门确认的农村特困救助范围的家庭子女\": \"否\",\r\n                    \"健康状况\": \"良好\",\r\n                    \"姓名拼音\": \"QIN AIXUE\",\r\n                    \"是否进城务工人员随迁子女\": \"否\",\r\n                    \"电子邮箱\": \"1152512562@163.com\",\r\n                    \"是否需要申请资助\": \"否\",\r\n                    \"是否需要乘坐校车\": \"是\",\r\n                    \"是否军烈属\": \"否\",\r\n                    \"家庭是否遭受自然灾害\": \"否\",\r\n                    \"是否享受一补\": \"否\",\r\n                    \"家中是否有大病患者\": \"否\",\r\n                    \"欠债原因\": \"\",\r\n                    \"学生来源\": \"\",\r\n                    \"家庭年收入\": \"100W\",\r\n                    \"联系电话\": \"15612510232\",\r\n                    \"具备劳动力人数\": \"2\",\r\n                    \"家庭欠债金额\": \"\",\r\n                    \"入学年月\": \"1905-07-08\",\r\n                    \"上下学距离（千米）\": \"12\",\r\n                    \"是否烈士或优抚子女\": \"否\",\r\n                    \"是否低保\": \"否\",\r\n                    \"邮政编号\": \"564450\",\r\n                    \"是否父母丧失劳动能力\": \"否\",\r\n                    \"赡养人口\": \"4\",\r\n                    \"是否农村绝对贫困家庭\": \"否\",\r\n                    \"家庭是否五保户\": \"否\",\r\n                    \"班内学号\": \"010101\",\r\n                    \"特长\": \"拉丁舞、民族舞、芭蕾舞、国画\",\r\n                    \"出生地\": \"广东广州\",\r\n                    \"就学地低保线\": \"\",\r\n                    \"自然灾害具体情况描述\": \"\",\r\n                    \"入学方式\": \"\",\r\n                    \"政治面貌\": \"中共党员\",\r\n                    \"主页地址\": \"www.baidu.com\",\r\n                    \"主要收入来源\": \"务工\",\r\n                    \"身份证件类型\": \"中国居民身份证\",\r\n                    \"现住址\": \"广东省广州市白云第一中学学生宿舍2栋615室\",\r\n                    \"通讯地址\": \"广东省广州市白云第一中学学生宿舍2栋615室\",\r\n                    \"家庭人口\": \"5\"\r\n                  }\r\n                }\r\n              );\r\n        }\r\n    })\r\n  }, [UserID])\r\n  useEffect(() => {\r\n    // 第一次进来的时候可能为undefined\r\n    \r\n  }, [term, schoolID, collegeID, selectLevel]);\r\n  const sendStatus = () => {\r\n    let stuName = stuNameRef.current.value;\r\n    let censusPlace = censusPlaceRef.current.value;\r\n    let className = classNameRef.current.value;\r\n    let dateOfBirth = dateOfBirthRef.current.value;\r\n    let extraInfo = {\r\n      \"身份证件有效期\": identityTimeRef.current.value,\r\n      \"残疾人类型\": badManRef.current.value,\r\n      \"上下学交通方式\": trafficWayRef.current.value,\r\n      \"家庭失业人数\": notWorkRef.current.value,\r\n      \"困难程度\": badTypeRef.current.value,\r\n      \"是否随班就读\": followClassRef.current.value,\r\n      \"是否孤儿\": onlyOneRef.current.value,\r\n      \"是否经民政部门确认的农村特困救助范围的家庭子女\": isbadestRef.current.value,\r\n      \"健康状况\": healthTypeRef.current.value,\r\n      \"姓名拼音\": nameChineseRef.current.value,\r\n      \"是否进城务工人员随迁子女\": cityWorkRef.current.value,\r\n      \"电子邮箱\": emailRef.current.value,\r\n      \"是否需要申请资助\": isHelpRef.current.value,\r\n      \"是否需要乘坐校车\": isTakeBusRef.current.value,\r\n      \"是否军烈属\": isSoldierRef.current.value,\r\n      \"家庭是否遭受自然灾害\": isDisasterRef.current.value,\r\n      \"是否享受一补\": isHaveOneRef.current.value,\r\n      \"家中是否有大病患者\": isHavePatientRef.current.value,\r\n      \"欠债原因\": debtReasonRef.current.value,\r\n      \"学生来源\": stuFromRef.current.value,\r\n      \"家庭年收入\": faimlyMoneyRef.current.value,\r\n      \"联系电话\": telphoneRef.current.value,\r\n      \"具备劳动力人数\": ableManRef.current.value,\r\n      \"家庭欠债金额\": debtNumRef.current.value,\r\n      \"入学年月\": inSchoolRef.current.value,\r\n      \"上下学距离（千米）\": schoolDistanceRef.current.value,\r\n      \"是否烈士或优抚子女\": martyrChildRef.current.value,\r\n      \"是否低保\":  lowProtectRef.current.value,\r\n      \"邮政编号\":  postalCodeRef.current.value,\r\n      \"是否父母丧失劳动能力\": isParentWorkRef.current.value,\r\n      \"赡养人口\": takeCareRef.current.value,\r\n      \"是否农村绝对贫困家庭\": isLowBadRef.current.value,\r\n      \"家庭是否五保户\": isFiveRef.current.value,\r\n      \"班内学号\": classNumRef.current.value,\r\n      \"特长\": hobbitRef.current.value,\r\n      \"出生地\": birthPlaceRef.current.value,\r\n      \"就学地低保线\": studyLowProtectRef.current.value,\r\n      \"自然灾害具体情况描述\": disasterStatusRef.current.value,\r\n      \"入学方式\": inSchoolWayRef.current.value,\r\n      \"政治面貌\": politicRef.current.value,\r\n      \"主页地址\": indexAddrRef.current.value,\r\n      \"主要收入来源\": moneyFromRef.current.value,\r\n      \"身份证件类型\": identityTypeRef.current.value,\r\n      \"现住址\": nowLiveRef.current.value,\r\n      \"通讯地址\": connectAddrRef.current.value,\r\n      \"家庭人口\": faimlyNumRef.current.value\r\n    };\r\n    let formerName = formerNameRef.current.value;\r\n    let gender = genderRef.current.value;\r\n    let gradeName = gradeNameRef.current.value;\r\n    // let guardianList = {\r\n    //   \"changeItem\": changeItemRef.current.value,\r\n    //   \"name\": nameRef.current.value,\r\n    //   \"relationship\": relationshipRef.current.value,\r\n    //   \"serviceUnit\": serviceUnitRef.current.value,\r\n    //   \"tel\": telRef.current.value,\r\n    //   \"userId\": userIdRef.current.value\r\n    // };\r\n    let homeAddress = homeAddressRef.current.value;\r\n    let identityNum = identityNumRef.current.value;\r\n    let isAcceptpreschool = isAcceptpreschoolRef.current.value;\r\n    let isLeftbehindchild = isLeftbehindchildRef.current.value;\r\n    let isOnlychild = isOnlychildRef.current.value;\r\n    // let isPoor = isPoorRef.current.value;\r\n    let nation = nationRef.current.value;\r\n    let nationality = nationalityRef.current.value;\r\n    let nativePlace = nativePlaceRef.current.value;\r\n    let overseaPeople = overseaPeopleRef.current.value;\r\n    // let resumeList = {\r\n    //   \"changeItem\": changeItemRef.current.value,\r\n    //   \"userId\": userIdRef.current.value,\r\n    //   \"semesterStartTime\": semesterStartTimeRef.current.value,\r\n    //   \"semesterEndTime\": semesterEndTimeRef.current.value,\r\n    //   \"school\": schoolRef.current.value,\r\n    //   \"learningContent\": learningContentRef.current.value,\r\n    //   \"duty\": dutyRef.current.value,\r\n    //   \"certifier\": certifierRef.current.value\r\n    // };\r\n    // let schoolId = schoolIdRef.current.value;\r\n    let studentId = studentIdRef.current.value;\r\n    let studyingWay = studyingWayRef.current.value\r\n\r\n    let params = [\r\n      {\r\n        censusPlace,\r\n        dateOfBirth,\r\n        // errorCorrection,\r\n        extraInfo,\r\n        formerName,\r\n        // \"guardianList\": [\r\n        //   {\r\n        //     \"changeItem\": 0,\r\n        //     \"id\": 0,\r\n        //     \"name\": \"string\",\r\n        //     \"relationship\": \"string\",\r\n        //     \"serviceUnit\": \"string\",\r\n        //     \"tel\": \"string\",\r\n        //     \"userId\": \"string\"\r\n        //   }\r\n        // ],\r\n        homeAddress,\r\n        identityNum,\r\n        isAcceptpreschool,\r\n        isLeftbehindchild,\r\n        isOnlychild,\r\n        // isPoor,\r\n        nation,\r\n        nationality,\r\n        nativePlace,\r\n        overseaPeople,\r\n        // \"resumeList\": [\r\n        //   {\r\n        //     \"certifier\": \"string\",\r\n        //     \"changeItem\": 0,\r\n        //     \"duty\": \"string\",\r\n        //     \"id\": 0,\r\n        //     \"learningContent\": \"string\",\r\n        //     \"school\": \"string\",\r\n        //     \"semesterEndTime\": \"string\",\r\n        //     \"semesterStartTime\": \"string\",\r\n        //     \"userId\": \"string\"\r\n        //   }\r\n        // ],\r\n        studentId,\r\n        \"studentName\": stuName,\r\n        studyingWay\r\n      }\r\n    ]\r\n    let url = BasicProxy + \"/api/status/student/correction?studentId=\" + UserID + \"&jsonString=\" + JSON.stringify(params);\r\n    fetch\r\n    .put({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200){\r\n        message.success(\"纠错申请发起成功~\");\r\n        setRecordVisible(false);\r\n      }\r\n    })\r\n  }\r\n  return (\r\n    <div className=\"BaseMsg\">\r\n      {\r\n        userIdentity == 'teacher' || userIdentity == 'manager'?\r\n        <div>\r\n          <Bar\r\n          barName={\"学籍统计\"}\r\n          ref={countRef}\r\n          // topContext={\r\n          //   HasHistory\r\n          //     ? \r\n          //       // {\r\n          //       //   title: \"查看历年人数变化\",\r\n          //       //   onClick: () => {\r\n          //       //     setVisible(true);\r\n          //       //   },\r\n          //       // }\r\n          //       <div className=\"module-link-group\">\r\n          //         <span>\r\n          //           <i className=\"red-dot\"></i>\r\n          //           学籍纠错审核\r\n          //         </span>\r\n          //         <span className=\"download\">\r\n          //           下载模板\r\n          //         </span>\r\n          //         <span \r\n          //         className=\"status\"\r\n          //         onClick={()=>setCourseVisible(true)}\r\n          //         >\r\n          //           查看课堂详情信息\r\n          //         </span>\r\n\r\n          //       </div>\r\n          //     : false\r\n          // }\r\n          loading={false}\r\n        >\r\n          <TeaStatusCount\r\n            data={teacherCount} \r\n            userIdentity={userIdentity}\r\n            productMsg={productMsg}\r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n          ></TeaStatusCount>\r\n        </Bar>\r\n        <Bar \r\n        loading={false} \r\n        barName={\"学籍轨迹 \"}\r\n        ref={attendanceTrack}\r\n        >\r\n          <Track\r\n          type=\"baseMsg\"\r\n          userIdentity={userIdentity}\r\n          data={trackInfo}>\r\n          </Track>\r\n        </Bar>\r\n        </div>:\r\n        <div>\r\n          <Bar\r\n          barName={\"我的学籍\"}\r\n          ref={myStatusRef}\r\n          // topContext={\r\n          //   <div className=\"module-link-group\">\r\n          //     <span onClick={()=>setRecordVisible(true)}>\r\n          //       学籍纠错\r\n          //     </span>\r\n          //   </div>\r\n          // }\r\n          loading={false}>\r\n            <StuStatusCount\r\n            userStatus={userStatus}\r\n          ></StuStatusCount>\r\n          </Bar>\r\n          <Bar loading={false} barName={\"学籍轨迹 \"} ref={statusTrackRef}>\r\n            <Track\r\n            type=\"baseMsg\"\r\n            userIdentity={userIdentity}\r\n            data={trackInfo}>\r\n            </Track>\r\n          </Bar>\r\n        </div>\r\n      }\r\n      <Modal\r\n        type=\"1\"\r\n        title=\"变更档案信息\"\r\n        visible={recordVisible}\r\n        onCancel={()=>setRecordVisible(false)}\r\n        footer={null}\r\n        width={1180}\r\n        className=\"change-status\"\r\n        bodyStyle={{height: 650 + 'px', padding: 0}}\r\n      >\r\n        <Scrollbars\r\n        autoHeight\r\n        autoHeightMax={640}>\r\n        <div className=\"body-container\">\r\n          <div>\r\n            <MyInput \r\n            title=\"学生姓名\"\r\n            type=\"input\"\r\n            data={userStatus.studentName}\r\n            width=\"25%\"\r\n            inputRef={stuNameRef}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"性别\"\r\n            type=\"list\"\r\n            inputRef={genderRef}\r\n            data={userStatus.gender}\r\n            width=\"25%\"\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"出生日期\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={dateOfBirthRef}\r\n            data={userStatus.dateOfBirth}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"出生地\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={birthPlaceRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"出生地\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"籍贯\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={nativePlaceRef}\r\n            data={userStatus.nativePlace}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"民族\"\r\n            type=\"list\"\r\n            width=\"25%\"\r\n            inputRef={nationRef}\r\n            data={userStatus.nation}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"国家/地区\"\r\n            type=\"list\"\r\n            width=\"25%\"\r\n            inputRef={nationalityRef}\r\n            data={userStatus.nationality}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"身份证件类型\"\r\n            type=\"list\"\r\n            width=\"25%\"\r\n            inputRef={identityTypeRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"身份证件类型\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"身份证件号码\"\r\n            type=\"input\"\r\n            width=\"50%\"\r\n            inputRef={identityNumRef}\r\n            data={userStatus.identityNum}\r\n            inputWidth={421}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"港澳台侨胞\"\r\n            type=\"select\"\r\n            width=\"25%\"\r\n            inputRef={overseaPeopleRef}\r\n            data={userStatus.overseaPeople}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"政治面貌\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={politicRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"政治面貌\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"健康状况\"\r\n            type=\"select\"\r\n            width=\"25%\"\r\n            inputRef={healthTypeRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"健康状况\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"姓名拼音\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={nameChineseRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"姓名拼音\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"曾用名\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={formerNameRef}\r\n            data={userStatus.formerName}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"身份证件有效期\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={identityTimeRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"身份证件有效期\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"户口所在地\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={censusPlaceRef}\r\n            data={userStatus.censusPlace}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"特长\"\r\n            type=\"input\"\r\n            width=\"75%\"\r\n            inputRef={hobbitRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"特长\"]}\r\n            inputWidth={702}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"学籍编号\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={studentIdRef}\r\n            data={userStatus.studentId}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"班内学号\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={classNumRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"班内学号\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"年级\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={gradeNameRef}\r\n            data={userStatus.gradeName}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"班级\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={classNameRef}\r\n            data={userStatus.classIName}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"入学年月\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={inSchoolRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"入学年月\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"入学方式\"\r\n            type=\"list\"\r\n            width=\"25%\"\r\n            inputRef={inSchoolWayRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"入学方式\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"就读方式\"\r\n            type=\"list\"\r\n            width=\"25%\"\r\n            inputRef={studyingWayRef}\r\n            data={userStatus.studyingWay}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"学生来源\"\r\n            type=\"list\"\r\n            width=\"25%\"\r\n            inputRef={stuFromRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"学生来源\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n          </div>\r\n          <div className=\"slice-line\"></div>\r\n\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"现住址\"\r\n            type=\"input\"\r\n            width=\"50%\"\r\n            inputRef={nowLiveRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"现住址\"]}\r\n            inputWidth={421}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"通信地址\"\r\n            type=\"input\"\r\n            width=\"50%\"\r\n            inputRef={connectAddrRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"通信地址\"]}\r\n            inputWidth={421}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"家庭地址\"\r\n            type=\"input\"\r\n            width=\"50%\"\r\n            inputRef={homeAddressRef}\r\n            data={userStatus.homeAddress}\r\n            inputWidth={421}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"联系电话\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={telphoneRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"联系电话\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"邮政编码\"\r\n            type=\"input\"\r\n            width=\"25%\"\r\n            inputRef={postalCodeRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"邮政编码\"]}\r\n            inputWidth={140}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"电子邮箱\"\r\n            type=\"input\"\r\n            width=\"50%\"\r\n            inputRef={emailRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"电子邮箱\"]}\r\n            inputWidth={421}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"主页地址\"\r\n            type=\"input\"\r\n            width=\"50%\"\r\n            inputRef={indexAddrRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"主页地址\"]}\r\n            inputWidth={421}\r\n            ></MyInput>\r\n          </div>\r\n          <div className=\"slice-line\"></div>\r\n        \r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"是否独生子女\"\r\n            type=\"select\"\r\n            inputRef={isOnlychildRef}\r\n            data={userStatus.isOnlychild}\r\n            width=\"22%\"\r\n            titleWidth={169}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"是否受过学前教育\"\r\n            type=\"select\"\r\n            inputRef={isAcceptpreschoolRef}\r\n            data={userStatus.isAcceptpreschool}\r\n            width=\"25%\"\r\n            titleWidth={203}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"是否留守儿童\"\r\n            type=\"select\"\r\n            inputRef={isLeftbehindchildRef}\r\n            data={userStatus.isLeftbehindchild}\r\n            width=\"25%\"\r\n            titleWidth={203}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"是否进城务工人员随迁子女\"\r\n            type=\"select\"\r\n            inputRef={cityWorkRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否进城务工人员随迁子女\"]}\r\n            width=\"25%\"\r\n            titleWidth={203}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"是否孤儿\"\r\n            type=\"select\"\r\n            inputRef={onlyOneRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否孤儿\"]}\r\n            width=\"22%\"\r\n            titleWidth={169}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"是否烈士或优抚子女\"\r\n            type=\"select\"\r\n            inputRef={martyrChildRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否烈士或优抚子女\"]}\r\n            width=\"25%\"\r\n            titleWidth={203}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"是否随班就读\"\r\n            type=\"select\"\r\n            data=\"张三\"\r\n            width=\"25%\"\r\n            inputRef={followClassRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否随班就读\"]}\r\n            titleWidth={203}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"是否需要申请资助\"\r\n            type=\"select\"\r\n            data=\"张三\"\r\n            width=\"25%\"\r\n            inputRef={isHelpRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要申请资助\"]}\r\n            titleWidth={203}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput \r\n            title=\"是否享受一补\"\r\n            type=\"select\"\r\n            data=\"张三\"\r\n            width=\"22%\"\r\n            inputRef={isHaveOneRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否享受一补\"]}\r\n            titleWidth={169}\r\n            inputWidth={70}\r\n            ></MyInput>\r\n            <MyInput \r\n            title=\"残疾人类型\"\r\n            type=\"input\"\r\n            data=\"张三\"\r\n            width=\"78%\"\r\n            inputRef={badManRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"残疾人类型\"]}\r\n            titleWidth={203}\r\n            inputWidth={632}\r\n            ></MyInput>\r\n          </div>\r\n          <div className=\"slice-line\"></div>\r\n          \r\n          <div className=\"study-record\">\r\n            <div className=\"record-title\">\r\n              学习经历:\r\n            </div>\r\n            <div className=\"list-container\">\r\n              <div className=\"record-list\">\r\n                <i className=\"deletelogo\"></i>\r\n                <div>\r\n                  <MyInput\r\n                  title=\"学习起始时间\"\r\n                  type=\"input\"\r\n                  width=\"28%\"\r\n                  inputWidth={140} />\r\n                  <MyInput\r\n                  title=\"学习起始时间\"\r\n                  type=\"input\"\r\n                  width=\"28%\"\r\n                  inputWidth={140} />\r\n                  <MyInput\r\n                  title=\"学习起始时间\"\r\n                  type=\"input\"\r\n                  width=\"44%\"\r\n                  inputWidth={240} />\r\n                </div>\r\n                <div style={{marginTop: 16}}>\r\n                  <MyInput\r\n                  title=\"学习内容\"\r\n                  type=\"input\"\r\n                  width=\"28%\"\r\n                  inputWidth={140} />\r\n                  <MyInput\r\n                  title=\"担任职务\"\r\n                  type=\"input\"\r\n                  width=\"28%\"\r\n                  inputWidth={140} />\r\n                  <MyInput\r\n                  title=\"学习证明人\"\r\n                  type=\"input\"\r\n                  width=\"44%\"\r\n                  inputWidth={140} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"add-record\">\r\n              新增学习经历\r\n            </div>\r\n          </div>\r\n          <div className=\"slice-line\"></div>\r\n\r\n          <div>\r\n            <MyInput\r\n            title=\"上下学距离(千米)\"\r\n            type=\"input\"\r\n            titleWidth={155}\r\n            inputRef={schoolDistanceRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"上下学距离(千米)\"]}\r\n            inputWidth={140} />\r\n            <MyInput\r\n            title=\"上下学交通方式\"\r\n            type=\"input\"\r\n            titleWidth={155}\r\n            inputRef={trafficWayRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"上下学交通方式\"]}\r\n            inputWidth={140} />\r\n            <MyInput\r\n            title=\"是否需要乘坐校车\"\r\n            type=\"input\"\r\n            titleWidth={155}\r\n            inputRef={isTakeBusRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            inputWidth={140} />\r\n          </div>\r\n          <div className=\"slice-line\"></div>\r\n\r\n          <div className=\"family-info\">\r\n            <div className=\"family-title\">\r\n              家庭成员或监护人信息:\r\n            </div>\r\n            <div className=\"info-list-container\">\r\n              <div className=\"family-list\">\r\n                <i className=\"deletelogo\"></i>\r\n                <div>\r\n                  <MyInput\r\n                  title=\"姓名\"\r\n                  type=\"input\"\r\n                  titleWidth={110}\r\n                  inputWidth={140} />\r\n                  <MyInput\r\n                  title=\"关系\"\r\n                  type=\"input\"\r\n                  titleWidth={118}\r\n                  inputWidth={140} />\r\n                  <MyInput\r\n                  title=\"身份证件类型\"\r\n                  type=\"list\"\r\n                  titleWidth={118}\r\n                  inputWidth={240} />\r\n                </div>\r\n                <div style={{marginTop: 16}}>\r\n                  <MyInput\r\n                  title=\"身份证件号码\"\r\n                  type=\"input\"\r\n                  titleWidth={110}\r\n                  inputWidth={406} />\r\n                  <MyInput\r\n                  title=\"民族\"\r\n                  type=\"list\"\r\n                  titleWidth={118}\r\n                  inputWidth={140} />\r\n                </div>\r\n                <div style={{marginTop: 16}}>\r\n                  <MyInput\r\n                  title=\"是否监护人\"\r\n                  type=\"select\"\r\n                  titleWidth={110}\r\n                  inputWidth={140} />\r\n                  <MyInput\r\n                  title=\"户口所在地\"\r\n                  type=\"input\"\r\n                  titleWidth={118}\r\n                  inputWidth={140} />\r\n                  <MyInput\r\n                  title=\"联系方式\"\r\n                  type=\"input\"\r\n                  titleWidth={118}\r\n                  inputWidth={240} />\r\n                </div>\r\n                <div style={{marginTop: 16}}>\r\n                  <MyInput\r\n                  title=\"现住址\"\r\n                  type=\"input\"\r\n                  titleWidth={110}\r\n                  inputWidth={773} />\r\n                </div>\r\n                <div style={{marginTop: 16}}>\r\n                  <MyInput\r\n                  title=\"工作单位\"\r\n                  type=\"input\"\r\n                  titleWidth={110}\r\n                  inputWidth={406} />\r\n                  <MyInput\r\n                  title=\"职务\"\r\n                  type=\"input\"\r\n                  titleWidth={118}\r\n                  inputWidth={240} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"add-family-info\">\r\n              新增家庭成员或监护人信息\r\n            </div>\r\n          </div>\r\n          <div className=\"slice-line\"></div>\r\n          <div>\r\n            <MyInput\r\n            title=\"家庭人口\"\r\n            type=\"input\"\r\n            inputRef={faimlyNumRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={137}\r\n            inputWidth={120} />\r\n            <MyInput\r\n            title=\"赡养人口\"\r\n            type=\"input\"\r\n            inputRef={takeCareRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={123}\r\n            inputWidth={120} />\r\n            <MyInput\r\n            title=\"家庭年收入\"\r\n            type=\"input\"\r\n            inputRef={faimlyMoneyRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={123}\r\n            inputWidth={120} />\r\n            <MyInput\r\n            title=\"主要收入来源\"\r\n            type=\"input\"\r\n            inputRef={moneyFromRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={123}\r\n            inputWidth={120} />\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput\r\n            title=\"具备劳动力人数\"\r\n            type=\"input\"\r\n            inputRef={ableManRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={137}\r\n            inputWidth={120} />\r\n            <MyInput\r\n            title=\"是否低保\"\r\n            type=\"select\"\r\n            inputRef={lowProtectRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={123}\r\n            inputWidth={120} />\r\n            <MyInput\r\n            title=\"就学地低保线\"\r\n            type=\"input\"\r\n            inputRef={studyLowProtectRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={123}\r\n            inputWidth={120} />\r\n            <MyInput\r\n            title=\"困难程度\"\r\n            type=\"input\"\r\n            inputRef={badTypeRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={123}\r\n            inputWidth={120} />\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput\r\n            title=\"是否父母丧失劳动能力\"\r\n            type=\"select\"\r\n            inputRef={isParentWorkRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={179}\r\n            inputWidth={90} />\r\n            <MyInput\r\n            title=\"是否农村绝对贫困家庭\"\r\n            type=\"select\"\r\n            inputRef={isLowBadRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={175}\r\n            inputWidth={90} />\r\n            <MyInput\r\n            title=\"是否经民政部门确认的农村特困救助范围的家庭子女\"\r\n            type=\"select\"\r\n            inputRef={isbadestRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={357}\r\n            inputWidth={90} />\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput\r\n            title=\"是否军烈属\"\r\n            type=\"select\"\r\n            inputRef={isSoldierRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={179}\r\n            inputWidth={90} />\r\n            <MyInput\r\n            title=\"家庭是否五保户\"\r\n            type=\"select\"\r\n            inputRef={isFiveRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={175}\r\n            inputWidth={90} />\r\n            <MyInput\r\n            title=\"家中是否有重大病患者\"\r\n            type=\"select\"\r\n            inputRef={isHavePatientRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={357}\r\n            inputWidth={90} />\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput\r\n            title=\"家庭是否遭受自然灾害\"\r\n            type=\"select\"\r\n            inputRef={isDisasterRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={179}\r\n            inputWidth={90} />\r\n            <MyInput\r\n            title=\"自然灾害具体情况描述\"\r\n            type=\"input\"\r\n            inputRef={disasterStatusRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={175}\r\n            inputWidth={545} />\r\n          </div>\r\n          <div style={{marginTop: 16}}>\r\n            <MyInput\r\n            title=\"家庭失业人数\"\r\n            type=\"input\"\r\n            inputRef={notWorkRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={179}\r\n            inputWidth={90} />\r\n            <MyInput\r\n            title=\"家庭欠债金额\"\r\n            type=\"input\"\r\n            inputRef={debtNumRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={175}\r\n            inputWidth={90} />\r\n            <MyInput\r\n            title=\"家庭欠债原因\"\r\n            type=\"input\"\r\n            inputRef={debtReasonRef}\r\n            data={userStatus.extraInfoJson && userStatus.extraInfoJson[\"是否需要乘坐校车\"]}\r\n            titleWidth={175}\r\n            inputWidth={272} />\r\n          </div>\r\n          \r\n        </div>\r\n        </Scrollbars>\r\n        <div className=\"modal-footer\">\r\n          <div className=\"cancel-btn\" onClick={()=>setRecordVisible(false)}>取消</div>\r\n          <div className=\"confirm-btn\" onClick={sendStatus}>确定</div>\r\n        </div>\r\n        \r\n        \r\n      </Modal>\r\n      <Modal\r\n        type=\"1\"\r\n        title=\"课堂详情信息\"\r\n        visible={courseVisible}\r\n        onOk={()=>setCourseVisible(true)}\r\n        onCancel={()=>setCourseVisible(false)}\r\n        footer={null}\r\n        width={1000}\r\n        className=\"course-status\"\r\n        bodyStyle={{height: 617 + 'px', padding: 0}}\r\n      >\r\n        <div className=\"search-container\">\r\n          <span className=\"list-count\">\r\n            共<span>30位</span>学生\r\n          </span>\r\n          <div className=\"input-container\">\r\n            <input \r\n            className=\"search-input\" \r\n            type=\"text\" \r\n            placeholder=\"请输入学生姓名进行搜索...\" />\r\n            <i className=\"searchlogo\" onClick={search}></i>\r\n          </div>\r\n          \r\n        </div>\r\n        <Table></Table>\r\n      </Modal>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: {\r\n      termInfo: { HasHistory },\r\n      userInfo\r\n    },\r\n  } = state;\r\n  // console.log(state)\r\n  return { HasHistory, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(BaseMsg)));\r\n","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Progress } from \"antd\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction ConditionRank(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID},\r\n      } = props;\r\n    // 初始请求\r\n    const [rankInfo, setRankInfo] = useState({});\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/learning2/rank?type=\" +\r\n        (userIdentity == \"manager\"? 3:\r\n        userIdentity == \"teacher\"? 2:\r\n        \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setRankInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    let courseShowInfo = [], detailWorkInfo = [], personalStudyInfo = [], testGradeInfo = [];\r\n    Array.isArray(rankInfo) && rankInfo.forEach((item)=>{\r\n        if(item.rankType.indexOf(\"课堂\") != -1){\r\n            courseShowInfo = item.learningRankListList.slice(0, 5);\r\n        }\r\n        if(item.rankType.indexOf(\"日常\") != -1){\r\n            detailWorkInfo = item.learningRankListList.slice(0, 5);\r\n        }\r\n        if(item.rankType.indexOf(\"自学\") != -1){\r\n            personalStudyInfo = item.learningRankListList.slice(0, 5);\r\n        }\r\n        if(item.rankType.indexOf(\"考试\") != -1){\r\n            testGradeInfo = item.learningRankListList.slice(0, 5);\r\n        }\r\n    })\r\n    return (\r\n        <div className=\"condition-rank\">\r\n            {\r\n                courseShowInfo.length == 0 &&\r\n                detailWorkInfo.length == 0 &&\r\n                personalStudyInfo.length == 0 &&\r\n                testGradeInfo.length == 0?\r\n                <Empty\r\n                // className={\"bar-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>:\r\n                <div>\r\n                    <div className=\"course-show-rank\">\r\n                    <i className=\"course-show-logo\"></i>\r\n                    <ul className=\"rank-list\">\r\n                        {\r\n                            courseShowInfo.length > 0?\r\n                            courseShowInfo.map((item, index)=>{\r\n                                return (\r\n                                    <li key={index}>\r\n                                        <i className={\"ranklogo \" + \r\n                                        (index == 0? \"one\":\r\n                                        index == 1? \"two\": \r\n                                        index == 2? \"three\":\r\n                                        \"\")}></i>\r\n                                        <img src=\"\"/>\r\n                                        <span className=\"rank-name\" title={item.name}>{item.name}</span>\r\n                                        <span className={\"rank-grade \" + \r\n                                        (index == 0? \"one\":\r\n                                        index == 1? \"two\": \r\n                                        index == 2? \"three\":\r\n                                        \"\")}>\r\n                                            {typeof item.score == \"number\"? item.score: \"--\"}分\r\n                                        </span>\r\n                                    </li>\r\n                                )\r\n                            }):\r\n                            <Empty\r\n                            // className={\"bar-empty\"}\r\n                            style={{margin: \"20px 0\"}}\r\n                            title={\"暂无数据\"}\r\n                            type={\"4\"}\r\n                            ></Empty>\r\n                        }\r\n                    </ul>   \r\n                </div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"detail-work-rank\">\r\n                        <i className=\"detail-work-logo\"></i>\r\n                        <ul className=\"rank-list\">\r\n                            {\r\n                                detailWorkInfo.length > 0?\r\n                                detailWorkInfo.map((item, index)=>{\r\n                                    return (\r\n                                        <li key={index}>\r\n                                            <i className={\"ranklogo \" + \r\n                                            (index == 0? \"one\":\r\n                                            index == 1? \"two\": \r\n                                            index == 2? \"three\":\r\n                                            \"\")}></i>\r\n                                            <img src=\"\"/>\r\n                                            <span className=\"rank-name\" title={item.name}>{item.name}</span>\r\n                                            <span className={\"rank-grade \" + \r\n                                            (index == 0? \"one\":\r\n                                            index == 1? \"two\": \r\n                                            index == 2? \"three\":\r\n                                            \"\")}>\r\n                                                {typeof item.score == \"number\"? item.score: \"--\"}分\r\n                                            </span>\r\n                                        </li>\r\n                                    )\r\n                                }):\r\n                                <Empty\r\n                                // className={\"bar-empty\"}\r\n                                style={{margin: \"20px 0\"}}\r\n                                title={\"暂无数据\"}\r\n                                type={\"4\"}\r\n                                ></Empty>\r\n                            }\r\n                        </ul>   \r\n                    </div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"person-study-rank\">\r\n                        <i className=\"person-study-logo\"></i>\r\n                        <ul className=\"rank-list\">\r\n                            {\r\n                                personalStudyInfo.length > 0?\r\n                                personalStudyInfo.map((item, index)=>{\r\n                                    return (\r\n                                        <li key={index}>\r\n                                            <i className={\"ranklogo \" + \r\n                                            (index == 0? \"one\":\r\n                                            index == 1? \"two\": \r\n                                            index == 2? \"three\":\r\n                                            \"\")}></i>\r\n                                            <img src=\"\"/>\r\n                                            <span className=\"rank-name\" title={item.name}>{item.name}</span>\r\n                                            <span className={\"rank-grade \" + \r\n                                            (index == 0? \"one\":\r\n                                            index == 1? \"two\": \r\n                                            index == 2? \"three\":\r\n                                            \"\")}>\r\n                                                {typeof item.score == \"number\"? item.score: \"--\"}h\r\n                                            </span>\r\n                                        </li>\r\n                                    )\r\n                                }):\r\n                                <Empty\r\n                                // className={\"bar-empty\"}\r\n                                style={{margin: \"20px 0\"}}\r\n                                title={\"暂无数据\"}\r\n                                type={\"4\"}\r\n                                ></Empty>\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"test-grade-rank\">\r\n                        <i className=\"test-grade-logo\"></i>\r\n                        <ul className=\"rank-list\">\r\n                            {\r\n                                testGradeInfo.length > 0?\r\n                                testGradeInfo.map((item, index)=>{\r\n                                    return (\r\n                                        <li key={index}>\r\n                                            <i className={\"ranklogo \" + \r\n                                            (index == 0? \"one\":\r\n                                            index == 1? \"two\":  \r\n                                            index == 2? \"three\":\r\n                                            \"\")}></i>\r\n                                            <img src=\"\"/>\r\n                                            <span className=\"rank-name\" title={item.name}>{item.name}</span>\r\n                                            <span className={\"rank-grade \" + \r\n                                            (index == 0? \"one\":\r\n                                            index == 1? \"two\": \r\n                                            index == 2? \"three\":\r\n                                            \"\")}>\r\n                                                {typeof item.score == \"number\"? item.score: \"--\"}分\r\n                                            </span>\r\n                                        </li>\r\n                                    )\r\n                                }):\r\n                                <Empty\r\n                                // className={\"bar-empty\"}\r\n                                style={{margin: \"20px 0\"}}\r\n                                title={\"暂无数据\"}\r\n                                type={\"4\"}\r\n                                ></Empty>\r\n                            }\r\n                        </ul>   \r\n                    </div>\r\n                    <p className=\"tip\">\r\n                        <i className=\"tiplogo\"></i>\r\n                        课堂表现为本本学期课堂表现总分排行；日常作业为最近一次作业成绩排行；\r\n                        课外自学为本学期累计时长排行；考试成绩为本学期最近一次考试成绩排行\r\n                    </p>\r\n                </div>\r\n            } \r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(ConditionRank)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Progress } from \"antd\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction LeaderConditionRank(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID},\r\n      } = props;\r\n    // 初始请求\r\n    const [rankInfo, setRankInfo] = useState({});\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        let url = BasicProxy + \"/api/learning2/rank?type=\" +\r\n        (userIdentity == \"manager\"? 4:\r\n        userIdentity == \"teacher\"? 3:\r\n        \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setRankInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    return (\r\n        <div className=\"leader-condition-rank\">\r\n            <div className=\"condition-rank-top\">\r\n                <div className=\"circle-container\">\r\n                    <div className=\"circle-violet\">\r\n                        50\r\n                    </div>\r\n                    <p>全校班级课堂平均分</p>\r\n                </div>\r\n                <div className=\"circle-container\">\r\n                    <div className=\"circle-orange\">\r\n                        50%\r\n                    </div>\r\n                    <p>全校日常作业完成率</p>\r\n                </div>\r\n                <div className=\"circle-container\">\r\n                    <div className=\"circle-red\">\r\n                        50\r\n                    </div>\r\n                    <p>全校班级平均自学时长</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"condition-rank-bottom\">\r\n                <div className=\"course-show-rank\">\r\n                    <i className=\"course-show-logo\"></i>\r\n                    <ul className=\"rank-list\">\r\n                        <li>\r\n                            <i className=\"ranklogo one\"></i>\r\n                            <img src=\"\"/>\r\n                            <span className=\"rank-name\">张三</span>\r\n                            <span className=\"rank-grade one\">50分</span>\r\n                        </li>\r\n                        <li>\r\n                            <i className=\"ranklogo two\"></i>\r\n                            <img src=\"\"/>\r\n                            <span className=\"rank-name\">张三</span>\r\n                            <span className=\"rank-grade two\">50分</span>\r\n                        </li>\r\n                        <li>\r\n                            <i className=\"ranklogo three\"></i>\r\n                            <img src=\"\"/>\r\n                            <span className=\"rank-name\">张三</span>\r\n                            <span className=\"rank-grade three\">50分</span>\r\n                        </li>\r\n                        <li>\r\n                            <i className=\"ranklogo\"></i>\r\n                            <img src=\"\"/>\r\n                            <span className=\"rank-name\">张三</span>\r\n                            <span className=\"rank-grade\">50分</span>\r\n                        </li>\r\n                        <li>\r\n                            <i className=\"ranklogo\"></i>\r\n                            <img src=\"\"/>\r\n                            <span className=\"rank-name\">张三</span>\r\n                            <span className=\"rank-grade\">50分</span>\r\n                        </li>\r\n                    </ul>   \r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"detail-work-rank\">\r\n                    <i className=\"detail-work-logo\"></i>\r\n                    <ul className=\"rank-list\">\r\n                    <li>\r\n                            <i className=\"ranklogo one\"></i>\r\n                            <img src=\"\"/>\r\n                            <span className=\"rank-name\">张三</span>\r\n                            <span className=\"rank-grade one\">50分</span>\r\n                        </li>\r\n                        <li>\r\n                            <i className=\"ranklogo two\"></i>\r\n                            <img src=\"\"/>\r\n                            <span className=\"rank-name\">张三</span>\r\n                            <span className=\"rank-grade two\">50分</span>\r\n                        </li>\r\n                        <li>\r\n                            <i className=\"ranklogo three\"></i>\r\n                            <img src=\"\"/>\r\n                            <span className=\"rank-name\">张三</span>\r\n                            <span className=\"rank-grade three\">50分</span>\r\n                        </li>\r\n                        <li>\r\n                            <i className=\"ranklogo\"></i>\r\n                            <img src=\"\"/>\r\n                            <span className=\"rank-name\">张三</span>\r\n                            <span className=\"rank-grade\">50分</span>\r\n                        </li>\r\n                        <li>\r\n                            <i className=\"ranklogo\"></i>\r\n                            <img src=\"\"/>\r\n                            <span className=\"rank-name\">张三</span>\r\n                            <span className=\"rank-grade\">50分</span>\r\n                        </li>\r\n                    </ul>   \r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"person-study-rank\">\r\n                    <i className=\"person-study-logo\"></i>\r\n                    <ul className=\"rank-list\">\r\n                    <li>\r\n                            <i className=\"ranklogo one\"></i>\r\n                            <img src=\"\"/>\r\n                            <span className=\"rank-name\">张三</span>\r\n                            <span className=\"rank-grade one\">50分</span>\r\n                        </li>\r\n                        <li>\r\n                            <i className=\"ranklogo two\"></i>\r\n                            <img src=\"\"/>\r\n                            <span className=\"rank-name\">张三</span>\r\n                            <span className=\"rank-grade two\">50分</span>\r\n                        </li>\r\n                        <li>\r\n                            <i className=\"ranklogo three\"></i>\r\n                            <img src=\"\"/>\r\n                            <span className=\"rank-name\">张三</span>\r\n                            <span className=\"rank-grade three\">50分</span>\r\n                        </li>\r\n                        <li>\r\n                            <i className=\"ranklogo\"></i>\r\n                            <img src=\"\"/>\r\n                            <span className=\"rank-name\">张三</span>\r\n                            <span className=\"rank-grade\">50分</span>\r\n                        </li>\r\n                        <li>\r\n                            <i className=\"ranklogo\"></i>\r\n                            <img src=\"\"/>\r\n                            <span className=\"rank-name\">张三</span>\r\n                            <span className=\"rank-grade\">50分</span>\r\n                        </li>\r\n                    </ul>   \r\n                </div>\r\n            </div>\r\n\r\n            \r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(LeaderConditionRank)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Popover, Carousel } from \"antd\";\r\n// import echarts from \"echarts\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nimport { data } from \"jquery\";\r\nlet { BasicProxy } = ipConfig;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction CourseShow(props, ref) {\r\n\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n    } = props;\r\n    const [courseShowInfo, setCourseShowInfo] = useState({});\r\n    const [courseGradeInfo, setCourseGradeInfo] = useState([]);\r\n    const [allRateInfo, setAllRateInfo] = useState({});\r\n    const [allSubjectList, setAllSubjectList] = useState([]);\r\n    const [currentSubject, setCurrentSubject] = useState(\"\");\r\n    const switchMonth = (value) => {\r\n        //根据日期化为月份展示\r\n        let str = \"\";\r\n        switch(value){\r\n            case \"01\":\r\n                str = \"一月份\";\r\n                break;\r\n            case \"02\":\r\n                str = \"二月份\";\r\n                break;\r\n            case \"03\":\r\n                str = \"三月份\";\r\n                break;\r\n            case \"04\":\r\n                str = \"四月份\";\r\n                break;\r\n            case \"05\":\r\n                str = \"五月份\";\r\n                break;\r\n            case \"06\":\r\n                str = \"六月份\";\r\n                break;\r\n            case \"07\":\r\n                str = \"七月份\";\r\n                break;\r\n            case \"08\":\r\n                str = \"八月份\";\r\n                break;\r\n            case \"09\":\r\n                str = \"九月份\";\r\n                break;\r\n            case \"10\":\r\n                str = \"十月份\";\r\n                break;\r\n            case \"11\":\r\n                str = \"十一月份\";\r\n                break;\r\n            case \"12\":\r\n                str = \"十二月份\";\r\n                break;\r\n            default:\r\n                str = \"\";\r\n                break;\r\n        }\r\n        return str;\r\n    }\r\n    //获取全年级课堂表现数据\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        //课堂活跃表现\r\n        let url = BasicProxy + \"/api/learning2/performance/statistics?type=4\" +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setAllRateInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    \r\n    //获取对应身份展示的表现数据\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        // SchoolID = \"S27-511-AF57\";\r\n        // currentTermInfo.termId = \"2020-202101\";\r\n        // currentClass = \"d8ed1a21-39bc-4403-8330-5f9bd578f721\";\r\n        // currentGrade = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\"; \r\n        //课堂活跃表现\r\n        let url = BasicProxy + \"/api/learning2/performance/statistics?type=\" +\r\n        (userIdentity == \"manager\"? \r\n        currentClass?  //没有选年级，只选班级就查班级\r\n        2:\r\n        currentGrade? //为空是查全校，存在某值时是查某年级\r\n        3:\r\n        4:\r\n        userIdentity == \"teacher\"? 2:\r\n        1) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setCourseShowInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    \r\n    //获取各学科课堂表现分数\r\n    useLayoutEffect(() => {\r\n\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        //课堂活跃表现\r\n        let url = BasicProxy + \"/api/learning2/performance/subject?type=\" +\r\n        (userIdentity == \"manager\"? \r\n        !currentGrade?  //为空是查全校，存在某值时是查某年级\r\n        4:\r\n        3:\r\n        userIdentity == \"teacher\"? 2:\r\n        1) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setCourseGradeInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    useEffect(() => {\r\n        if(!courseShowInfo.lessonBonusRateDataList || courseShowInfo.lessonBonusRateDataList.length == 0){\r\n            return;\r\n        }\r\n        let seriesList = [];\r\n        let xList = [], classDataList = [], gradeDataList = [];\r\n        //获取所有学科列表并将数据按学科分类\r\n        courseShowInfo.lessonBonusRateDataList && courseShowInfo.lessonBonusRateDataList.forEach((item)=>{\r\n            xList.push(item.subjectName);\r\n            classDataList.push(item.rate);\r\n        })\r\n        //将全年级数据分类\r\n        xList.forEach((item)=>{\r\n            allRateInfo.lessonBonusRateDataList && allRateInfo.lessonBonusRateDataList.forEach((child)=>{\r\n                if(child.subjectName == item){\r\n                    gradeDataList.push(child.rate);\r\n                }\r\n            })\r\n        })\r\n        if(userIdentity == 'teacher'){\r\n            seriesList = [\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data: classDataList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data: gradeDataList\r\n                },\r\n                \r\n            ];\r\n        }\r\n        if(userIdentity == 'student'){\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:[1, 1, 1, 0, 3]\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                \r\n            ];\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"grade-compare-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '各学科加分率百分比',\r\n                left: 'center',\r\n                top: '10px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 75,\r\n                bottom: xList.length > 6? 100: 90\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}%</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '40px',\r\n                right: '10%',\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    },\r\n                    formatter: function(value){\r\n                        return value.length > 4? value.substr(0, 4) + \"...\": value;\r\n                    }\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 6,\r\n                height: 2,\r\n                start: 0,\r\n                end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 70\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [courseShowInfo, userIdentity]); \r\n\r\n    useEffect(() => {\r\n        if(courseGradeInfo.length == 0){\r\n            return;\r\n        }\r\n        let seriesList = [];\r\n        let xList = [], sumList = [], addList = [], reduceList = [], sujbectList = [], dataList = [];\r\n        //获取学科列表\r\n        courseGradeInfo.forEach((item)=>{\r\n            sujbectList.push(item.subjectName);\r\n            \r\n        })\r\n        sujbectList = [...new Set(sujbectList)];\r\n        \r\n        allSubjectList.length == 0 && setAllSubjectList(sujbectList);\r\n        !currentSubject && setCurrentSubject(sujbectList[0]);\r\n\r\n        //获取当前学科数据\r\n        courseGradeInfo.forEach((item)=>{\r\n            if(item.subjectName == currentSubject){\r\n                dataList.push(item);\r\n                xList.push(switchMonth(item.date.substr(5, 2)));\r\n            }\r\n        })\r\n        //将各数据按日期分类\r\n        xList = [...new Set(xList)];\r\n        xList.forEach((item)=>{\r\n            let sum = 0;\r\n            dataList.forEach((child)=>{\r\n                if(switchMonth(child.date.substr(5, 2)) == item){\r\n                    sum += child.score;\r\n                }\r\n            })\r\n            addList.push(sum);\r\n        })\r\n        if(userIdentity == 'teacher'){\r\n            seriesList = [\r\n                // {\r\n                //     name: '总分',\r\n                //     type: 'line',\r\n                //     // stack: '总量', //数据堆叠，同个类目轴上系列配置相同的stack值可以堆叠放置。\r\n                //     lineStyle: {\r\n                //         color: '#ff0000',\r\n                //         width: 1,\r\n                //         borderColor: '#ff0000',\r\n                //         emphasis: {\r\n                //             width: 1\r\n                //         }\r\n                //     },\r\n                //     itemStyle: {\r\n                //         color: '#ff0000'\r\n                //     },\r\n                //     data: [320, 302, 342, 374, 390, 450, 420]\r\n                // },\r\n                {\r\n                    name: '加分',\r\n                    type: 'bar',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data: addList\r\n                },\r\n                // {\r\n                //     name: '扣分',\r\n                //     type: 'bar',\r\n                //     barWidth: 16,\r\n                //     itemStyle: {\r\n                //         color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                //             offset: 0,\r\n                //             color: '#ffe88a'\r\n                //         },{\r\n                //             offset: 1,\r\n                //             color: '#ffb709'\r\n                //         }])\r\n                //     }, \r\n                //     data: [-120, -132, -102, -134, -190, -230, -210]\r\n                // }\r\n            ]\r\n        }\r\n        if(userIdentity == 'student'){\r\n            seriesList = [\r\n                {\r\n                    name: '个人',\r\n                    type: 'line',\r\n                    // stack: '总量', //数据堆叠，同个类目轴上系列配置相同的stack值可以堆叠放置。\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data: [320, 302, 342, 374, 390, 450, 420]\r\n                },\r\n                {\r\n                    name: '加分',\r\n                    type: 'bar',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data: [200, 170, 240, 244, 200, 220, 210]\r\n                },\r\n                {\r\n                    name: '扣分',\r\n                    type: 'bar',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#ffe88a'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#ffb709'\r\n                        }])\r\n                    }, \r\n                    data: [-120, -132, -102, -134, -190, -230, -210]\r\n                }\r\n            ]\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"grade-statistic-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '课堂分数统计信息',\r\n                left: 'center',\r\n                top: '10px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 75,\r\n                bottom: xList.length > 6? 100: 90\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}%</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '40px',\r\n                right: '10%',\r\n                // data:['个人','加分','扣分'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 6,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 70\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '日期',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [10000, 0, 0, 0]\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: [{\r\n                type: 'value',\r\n                name: '分数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                minInterval: 1,\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            }],\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentSubject, userIdentity, courseGradeInfo, allSubjectList]);\r\n    let updateSubjectList = [];\r\n    let arr = [];\r\n    //每7个化为一页，进行轮播\r\n    Array.isArray(allSubjectList) && allSubjectList.forEach((item, index)=>{\r\n        arr.push(item);\r\n        if(((index + 1) % 7 == 0) || index == allSubjectList.length - 1){\r\n            updateSubjectList.push(arr);\r\n            arr = [];\r\n        }\r\n    })\r\n    return (\r\n      <div className=\"course-show\">\r\n          {\r\n                userIdentity == 'teacher'?\r\n                <div className=\"show-top\">\r\n                    {/* <div className=\"course-liveness\" style={{marginRight: 107}}>\r\n                        <Popover\r\n                        content={\r\n                            <div className=\"circle-tootip\">\r\n                                <p className=\"tooltip-title\">活跃人数</p>\r\n                                <ul className=\"tooltip-list\">\r\n                                    <li>一年级平均活跃人数 3人/课</li>\r\n                                    <li>一年级平均活跃人数 3人/课</li>\r\n                                    <li>一年级平均活跃人数 3人/课</li>\r\n                                    <li>一年级平均活跃人数 3人/课</li>\r\n                                </ul>\r\n                            </div>\r\n                        }>\r\n                            <div className=\"circle-blue\">\r\n                                {\"--\"}\r\n                            </div>\r\n                        </Popover>\r\n                        \r\n                        <p>课堂平均活跃人数</p>\r\n                    </div> */}\r\n                    <div className=\"course-add\" style={{marginRight: 107}}>\r\n                        <div className=\"circle-violet\">\r\n                            {typeof courseShowInfo.addAll == 'number' && \r\n                            typeof courseShowInfo.subtractAll == 'number'?\r\n                            courseShowInfo.addAll - courseShowInfo.subtractAll:\r\n                            \"--\"}\r\n                        </div>\r\n                        <p>课堂平均分</p>\r\n                    </div>\r\n                    <div className=\"course-reduce\" style={{marginRight: 107}}>\r\n                        <div className=\"circle-orange\">\r\n                            {courseShowInfo.addAll}\r\n                        </div>\r\n                        <p>课堂平均加分</p>\r\n                    </div>\r\n                    <div className=\"raise-hand\" style={{marginRight: 107}}>\r\n                        <div className=\"circle-red\">\r\n                            {courseShowInfo.subtractAll}\r\n                        </div>\r\n                        <p>课堂平均扣分</p>\r\n                    </div>\r\n                    <div className=\"raise-hand\">\r\n                        <div className=\"circle-green\">\r\n                            {courseShowInfo.raiseAll}\r\n                        </div>\r\n                        <p>平均举手次数</p>\r\n                    </div>\r\n                </div>:\r\n                <div className=\"show-top\"> \r\n                    {/* <div className=\"course-liveness\">\r\n                        <Popover\r\n                        placement=\"bottomLeft\"\r\n                        content={\r\n                            <div className=\"circle-tootip\">\r\n                                <p className=\"tooltip-title\">活跃人数</p>\r\n                                <ul className=\"tooltip-list\">\r\n                                    <li>一年级平均活跃人数 <span>3人/课</span><i className=\"downlogo\"></i></li>\r\n                                    <li>一年级平均活跃人数 <span>3人/课</span><i className=\"uplogo\"></i></li>\r\n                                    <li>一年级平均活跃人数 <span>3人/课</span></li>\r\n                                    <li>一年级平均活跃人数 <span>3人/课</span></li>\r\n                                </ul>\r\n                            </div>\r\n                        }>\r\n                            <div className=\"circle-blue\">\r\n                                50\r\n                            </div>\r\n                        </Popover>\r\n                        <p>课堂活跃度</p>\r\n                    </div> */}\r\n                    <div className=\"course-add\">\r\n                        <div className=\"circle-orange\">\r\n                            {courseShowInfo.addAll}\r\n                        </div>\r\n                        <p>课堂加分</p>\r\n                    </div>\r\n                    {/* <div className=\"course-reduce\">\r\n                        <div className=\"circle-red\">\r\n                            {courseShowInfo.subtractAll}\r\n                        </div>\r\n                        <p>课堂扣分</p>\r\n                    </div> */}\r\n                    <div className=\"raise-hand\">\r\n                        <div className=\"circle-green\">\r\n                            {courseShowInfo.raiseAll}\r\n                        </div>\r\n                        <p>举手次数</p>\r\n                    </div>\r\n                </div>\r\n          }\r\n          \r\n          <div className=\"show-bottom\">\r\n                <div className=\"grade-compare-status\">\r\n                    {/* 暂时没有扣分率 */}\r\n                    {/* <div className=\"kind-list\" style={{margin: \"24px 0 0 67px\"}}>\r\n                        <span>类型:</span>\r\n                        <span className=\"list-one\">加分率</span>\r\n                        <span className=\"list-slice-line\"></span>\r\n                        <span className=\"list-one\">扣分率</span>\r\n                    </div> */}\r\n                    {\r\n                        !courseShowInfo.lessonBonusRateDataList || courseShowInfo.lessonBonusRateDataList.length == 0?\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        style={{margin: \"80px 0 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>:\r\n                        <div className=\"grade-compare-echart\" style={{marginTop: 45}} id=\"grade-compare-echart\"></div>\r\n                    }\r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"subject-grade-statistic\">\r\n                    {\r\n                        allSubjectList.length > 0?\r\n                        <div className=\"kind-list\" style={{margin: \"24px 0 0 67px\"}}>\r\n                            <span>学科:</span>\r\n                            <Carousel\r\n                            dots={{\r\n                                className: 'award-dot'\r\n                            }}>\r\n                                {\r\n                                    updateSubjectList.map((item, index)=>{\r\n                                        return (\r\n                                            <span className=\"span-container\" key={index}>\r\n                                                {\r\n                                                    item.map((child, index1)=>{\r\n                                                        return (\r\n                                                            <span className=\"span-container\" key={index1}>\r\n                                                            <span \r\n                                                            className={\"list-one \" + (currentSubject == child? \"active\": \"\")}\r\n                                                            onClick={()=>setCurrentSubject(child)}\r\n                                                            >\r\n                                                                {child}\r\n                                                            </span>\r\n                                                            {\r\n                                                                index1 != item.length - 1?\r\n                                                                <span className=\"list-slice-line\"></span>:\r\n                                                                \"\"\r\n                                                            }\r\n                                                            </span>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            \r\n                                            </span>\r\n                                        )\r\n                                        item.forEach((child, index1)=>{\r\n                                            return \r\n                                        })\r\n                                    })\r\n                                }\r\n                            {/* {\r\n                                allSubjectList.map((item, index)=>{\r\n                                    return (\r\n                                        <div key={index} className=\"span-container\">\r\n                                            <span \r\n                                            className={\"list-one \" + (currentSubject == item? \"active\": \"\")}\r\n                                            onClick={()=>setCurrentSubject(item)}\r\n                                            >\r\n                                                {item}\r\n                                            </span>\r\n                                            {\r\n                                                index != allSubjectList.length - 1?\r\n                                                <span className=\"list-slice-line\"></span>:\r\n                                                \"\"\r\n                                            }\r\n                                            \r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            } */}\r\n                            </Carousel>\r\n                            {/* <span className=\"list-one\">数学</span>\r\n                            <span className=\"list-slice-line\"></span>\r\n                            <span className=\"list-one\">英语</span> */}\r\n                        </div>:\r\n                        \"\"\r\n                    }\r\n                    {\r\n                        courseGradeInfo.length > 0?\r\n                        <div className=\"grade-statistic-echart\" id=\"grade-statistic-echart\"></div>:\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        style={{margin: \"80px 0 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                    \r\n                </div>\r\n          </div>\r\n      </div>\r\n    );\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(CourseShow)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Progress, Select, Popover, Carousel } from \"antd\";\r\n\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst { Option } = Select;\r\n\r\nfunction DetailWork(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n    } = props;\r\n    //全年级的数据\r\n    const [gradeCompleteRateList, setGradeCompleteRateList] = useState([]);\r\n    const [gradePassRateList, setGradePassRateList] = useState([]);\r\n    const [gradeAvgScoreList, setGradeAvgScoreList] = useState([]);\r\n    const [gradeDetailScoreList, setGradeDetailScoreList] = useState([]);\r\n    //根据身份取得数据\r\n    const [rankInfo, setRankInfo] = useState({});\r\n    const [completeRateList, setCompleteRateList] = useState([]);\r\n    const [passRateList, setPassRateList] = useState([]);\r\n    const [avgScoreList, setAvgScoreList] = useState([]);\r\n    //day是按日，week按周，month按月\r\n    const [completeRateType, setCompleteRateType] = useState(\"day\");\r\n    const [passRateType, setPassRateType] = useState(\"day\");\r\n    const [detailScoreList, setDetailScoreList] = useState([]);\r\n    const [subjectList, setSubjectList] = useState([]);\r\n    const [currentSubject, setCurrentSubject] = useState(\"\");\r\n    //获取全年级数据用于比较\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n\r\n        SchoolID = \"S27-511-AF57\";\r\n        currentTermInfo.termId = \"2020-202101\";\r\n        currentClass = \"d8ed1a21-39bc-4403-8330-5f9bd578f721\";\r\n        currentGrade = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\"; \r\n        //获取全年级各科作业平均分\r\n        let url = BasicProxy + \"/api/learning2/homework/avgScore?type=4\" +\r\n        \"&studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeAvgScoreList(result.data);\r\n            }\r\n        })\r\n\r\n        //获取全年级日常作业分数\r\n        url = BasicProxy + \"/api/learning2/homework/score?type=4\" +\r\n        \"&studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeDetailScoreList(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    //获取全年级作业完成率\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n\r\n        // SchoolID = \"S27-511-AF57\";\r\n        // currentTermInfo.termId = \"2020-202101\";\r\n        // currentClass = \"d8ed1a21-39bc-4403-8330-5f9bd578f721\";\r\n        // currentGrade = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\"; \r\n        let url = BasicProxy + \"/api/learning2/homework/rate/date?type=4\" +\r\n        \"&statisticalType=\" + (\r\n            completeRateType == \"day\"?\r\n            1:\r\n            completeRateType == \"week\"?\r\n            2:\r\n            completeRateType == \"month\"?\r\n            3:\r\n            1\r\n        ) +\r\n        \"&studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeCompleteRateList(result.data);\r\n            }\r\n        })\r\n    }, [completeRateType, currentTerm, currentGrade, currentClass])\r\n    //获取全年级作业及格率\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n\r\n        // SchoolID = \"S27-511-AF57\";\r\n        // currentTermInfo.termId = \"2020-202101\";\r\n        // currentClass = \"d8ed1a21-39bc-4403-8330-5f9bd578f721\";\r\n        // currentGrade = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\"; \r\n        let url = BasicProxy + \"/api/learning2/homework/rate/date?type=4\" +\r\n        \"&statisticalType=\" + (\r\n            passRateType == \"day\"?\r\n            1:\r\n            passRateType == \"week\"?\r\n            2:\r\n            passRateType == \"month\"?\r\n            3:\r\n            1\r\n        ) +\r\n        \"&studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradePassRateList(result.data);\r\n            }\r\n        })\r\n    }, [passRateType, currentTerm, currentGrade, currentClass])\r\n    //获取数据\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n\r\n        // SchoolID = \"S27-511-AF57\";\r\n        // currentTermInfo.termId = \"2020-202101\";\r\n        // currentClass = \"d8ed1a21-39bc-4403-8330-5f9bd578f721\";\r\n        // currentGrade = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\"; \r\n        //获取班级及格率和完成率\r\n        let url = BasicProxy + \"/api/learning2/homework/rate?type=\" +\r\n        (userIdentity == \"manager\"? \r\n        currentClass? \r\n        2: \r\n        currentGrade? \r\n        3:\r\n        4:\r\n        userIdentity == \"teacher\"? 2:\r\n        1) +\r\n        \"&studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setRankInfo(result.data);\r\n            }\r\n        })\r\n        //获取各科作业平均分\r\n        url = BasicProxy + \"/api/learning2/homework/avgScore?type=\" +\r\n        (userIdentity == \"manager\"? \r\n        currentClass? \r\n        2: \r\n        currentGrade? \r\n        3:\r\n        4:\r\n        userIdentity == \"teacher\"? 2:\r\n        1) +\r\n        \"&studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setAvgScoreList(result.data);\r\n            }\r\n        })\r\n\r\n        //获取日常作业分数\r\n        url = BasicProxy + \"/api/learning2/homework/score?type=\" +\r\n        (userIdentity == \"manager\"? \r\n        currentClass? \r\n        2: \r\n        currentGrade? \r\n        3:\r\n        4:\r\n        userIdentity == \"teacher\"? 2:\r\n        1) +\r\n        \"&studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setDetailScoreList(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    //获取各学科作业完成率和及格率\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n\r\n        // SchoolID = \"S27-511-AF57\";\r\n        // currentTermInfo.termId = \"2020-202101\";\r\n        // currentClass = \"d8ed1a21-39bc-4403-8330-5f9bd578f721\";\r\n        // currentGrade = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\"; \r\n        let url = BasicProxy + \"/api/learning2/homework/rate/date?type=\" +\r\n        (userIdentity == \"manager\"? \r\n        currentClass? \r\n        2: \r\n        currentGrade? \r\n        3:\r\n        4:\r\n        userIdentity == \"teacher\"? 2:\r\n        1) +\r\n        \"&statisticalType=\" + (\r\n            completeRateType == \"day\"?\r\n            1:\r\n            completeRateType == \"week\"?\r\n            2:\r\n            completeRateType == \"month\"?\r\n            3:\r\n            1\r\n        ) +\r\n        \"&studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setCompleteRateList(result.data);\r\n            }\r\n        })\r\n    }, [completeRateType, currentTerm, currentGrade, currentClass])\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n\r\n        // SchoolID = \"S27-511-AF57\";\r\n        // currentTermInfo.termId = \"2020-202101\";\r\n        // currentClass = \"d8ed1a21-39bc-4403-8330-5f9bd578f721\";\r\n        // currentGrade = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\"; \r\n        let url = BasicProxy + \"/api/learning2/homework/rate/date?type=\" +\r\n        (userIdentity == \"manager\"? \r\n        currentClass? \r\n        2: \r\n        currentGrade? \r\n        3:\r\n        4:\r\n        userIdentity == \"teacher\"? 2:\r\n        1) +\r\n        \"&statisticalType=\" + (\r\n            passRateType == \"day\"?\r\n            1:\r\n            passRateType == \"week\"?\r\n            2:\r\n            passRateType == \"month\"?\r\n            3:\r\n            1\r\n        ) +\r\n        \"&studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setPassRateList(result.data);\r\n            }\r\n        })\r\n    }, [passRateType, currentTerm, currentGrade, currentClass])\r\n    //作业完成率图表\r\n    useEffect(() => {\r\n        if(completeRateList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], classDataList = [], gradeDataList = [];\r\n        completeRateList.forEach((item)=>{\r\n            xList.push(item.time.substr(5, 5));\r\n            classDataList.push(item.finishRate);\r\n        })\r\n        gradeCompleteRateList.forEach((item)=> {\r\n            gradeDataList.push(item.finishRate);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"complete-rate-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            legend: {\r\n                left: '68%',\r\n                top: 5\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}分</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            grid: {\r\n                top: 40,\r\n                bottom: xList.length > 6? 40: 20\r\n            },\r\n            dataZoom: {\r\n                show:  xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                minValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name:(completeRateType == 'day'? '天数':\r\n                completeRateType == 'week'? '周次':\r\n                '月份'),\r\n                nameTextStyle: {\r\n                    color: '#999999'\r\n                },\r\n                axisLabel: {\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n                data: xList\r\n            },\r\n            yAxis: {\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 40]\r\n                },\r\n                axisLabel: {\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n            },\r\n            series: [\r\n                {\r\n                    type: 'bar',\r\n                    name: '班级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    }, \r\n                    data: classDataList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: gradeDataList\r\n                },\r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [completeRateList, completeRateType]);\r\n    //作业及格率图表\r\n    useEffect(() => {\r\n        if(passRateList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], classDataList = [], gradeDataList = [];\r\n        passRateList.forEach((item)=>{\r\n            xList.push(item.time.substr(5, 5));\r\n            classDataList.push(item.passRate);\r\n        })\r\n        gradePassRateList.forEach((item)=>{\r\n            gradeDataList.push(item.passRate);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"pass-rate-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            legend: {\r\n                left: '68%',\r\n                top: 5\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}分</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            grid: {\r\n                top: 40,\r\n                bottom: xList.length > 6? 40: 20\r\n            },\r\n            dataZoom: {\r\n                show:  xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                minValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name:(completeRateType == 'day'? '天数':\r\n                completeRateType == 'week'? '周次':\r\n                '月份'),\r\n                nameTextStyle: {\r\n                    color: '#999999'\r\n                },\r\n                axisLabel: {\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n                data: xList\r\n            },\r\n            yAxis: {\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 40]\r\n                },\r\n                axisLabel: {\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n            },\r\n            series: [\r\n                {\r\n                    type: 'bar',\r\n                    name: '班级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    }, \r\n                    data: classDataList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: gradeDataList\r\n                },\r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [passRateList, passRateType]);\r\n    //各学科日常作业平均分\r\n    useEffect(() => {\r\n        //获取学科列表\r\n        if(avgScoreList.length == 0){\r\n            return;\r\n        }\r\n        let subjectList = [], classDataList = [], gradeDataList = [];\r\n        avgScoreList.forEach((item)=>{\r\n            subjectList.push(item.subjectName);\r\n            classDataList.push(item.score);\r\n        })\r\n        gradeAvgScoreList.forEach((item)=>{\r\n            gradeDataList.push(item.score);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"work-avg-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            legend: {\r\n                left: '68%',\r\n                top: 5\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}分</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            grid: {\r\n                top: 40,\r\n                bottom: subjectList.length > 5? 40: 20\r\n            },\r\n            dataZoom: {\r\n                show: subjectList.length > 5? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999'\r\n                },\r\n                axisLabel: {\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n                data: subjectList\r\n            },\r\n            yAxis: {\r\n                name: '得分',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 40]\r\n                },\r\n                axisLabel: {\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n            },\r\n            series: [\r\n                {\r\n                    type: 'bar',\r\n                    name: '班级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    }, \r\n                    data: classDataList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: gradeDataList\r\n                },\r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [avgScoreList]);\r\n    //学科日常分数\r\n    useEffect(() => { \r\n        //获取学科列表\r\n        if(detailScoreList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], classDataList = [], subjectList = [], gradeDataList = [];\r\n        detailScoreList.forEach((item)=>{\r\n            xList.push(item.date);\r\n            classDataList.push(item.score);\r\n            subjectList.push(item.subjectName);\r\n        })\r\n        gradeDetailScoreList.forEach((item)=>{\r\n            gradeDataList.push(item.score);\r\n        })\r\n        !currentSubject && setCurrentSubject(subjectList[0]);\r\n        let myEchart = echarts.init(document.getElementById(\"detail-grade-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            legend: {\r\n                left: '68%',\r\n                top: 5\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}分</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            grid: {\r\n                top: 40,\r\n                bottom: xList.length > 5? 40: 20\r\n            },\r\n            dataZoom: {\r\n                show:  xList.length > 5? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '月份',\r\n                nameTextStyle: {\r\n                    color: '#999999'\r\n                },\r\n                axisLabel: {\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n                data: xList\r\n            },\r\n            yAxis: {\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 40]\r\n                },\r\n                axisLabel: {\r\n                    color: '#999999'\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                splitLine: {\r\n                   lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    } \r\n                },\r\n            },\r\n            series: [\r\n                {\r\n                    type: 'bar',\r\n                    name: '班级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    }, \r\n                    data: classDataList\r\n                },\r\n                {\r\n                    type: 'bar',\r\n                    name: '年级',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    }, \r\n                    data: gradeDataList\r\n                },\r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [detailScoreList, currentSubject]);\r\n    //每5个化为一页，进行轮播\r\n    let updateAvgList = [];\r\n    let arr = [];\r\n    Array.isArray(avgScoreList) && avgScoreList.forEach((item, index)=>{\r\n        arr.push(item);\r\n        if(((index + 1) % 5 == 0) || index == avgScoreList.length - 1){\r\n            updateAvgList.push(arr);\r\n            arr = [];\r\n        }\r\n    })\r\n\r\n    //学科每7个化为一页，进行轮播\r\n    let updateSubjectList = [];\r\n    let arr2 = [];\r\n    Array.isArray(subjectList) && subjectList.forEach((item, index)=>{\r\n        arr2.push(item);\r\n        if(((index + 1) % 7 == 0) || index == subjectList.length - 1){\r\n            updateSubjectList.push(arr);\r\n            arr2 = [];\r\n        }\r\n    })\r\n    return (\r\n        <div className=\"detail-work\">\r\n            <div className=\"detail-work-top\">\r\n                <div className=\"rate-echart-container\">\r\n                    <div className=\"complete-rate\">\r\n                    <Popover\r\n                    placement=\"bottomLeft\"\r\n                    content={\r\n                        <div className=\"circle-tootip\">\r\n                            <p className=\"tooltip-title\">活跃人数</p>\r\n                            <ul className=\"tooltip-list\">\r\n                                <li>一年级平均活跃人数 <span>3人/课</span><i className=\"downlogo\"></i></li>\r\n                                <li>一年级平均活跃人数 <span>3人/课</span><i className=\"uplogo\"></i></li>\r\n                                <li>一年级平均活跃人数 <span>3人/课</span></li>\r\n                                <li>一年级平均活跃人数 <span>3人/课</span></li>\r\n                            </ul>\r\n                        </div>\r\n                    }>\r\n                        <Progress \r\n                        type=\"circle\" \r\n                        percent={rankInfo.finishRate? rankInfo.finishRate: 0}\r\n                        format={(percent)=> percent}\r\n                        width={92}\r\n                        showInfo\r\n                        className=\"progress work-complete\"\r\n                        strokeColor=\"#8fdb66\" />\r\n                    </Popover>\r\n                    <p>完成率</p>\r\n                    </div>\r\n                    <div className=\"pass-rate\">\r\n                    <Popover\r\n                    placement=\"bottomLeft\"\r\n                    content={\r\n                        <div className=\"circle-tootip\">\r\n                            <p className=\"tooltip-title\">活跃人数</p>\r\n                            <ul className=\"tooltip-list\">\r\n                                <li>一年级平均活跃人数 <span>3人/课</span><i className=\"downlogo\"></i></li>\r\n                                <li>一年级平均活跃人数 <span>3人/课</span><i className=\"uplogo\"></i></li>\r\n                                <li>一年级平均活跃人数 <span>3人/课</span></li>\r\n                                <li>一年级平均活跃人数 <span>3人/课</span></li>\r\n                            </ul>\r\n                        </div>\r\n                    }>\r\n                        <Progress \r\n                        type=\"circle\" \r\n                        percent={rankInfo.passRate? rankInfo.passRate: 0}\r\n                        format={(percent)=> percent}\r\n                        width={92}\r\n                        className=\"progress work-pass\"\r\n                        strokeColor=\"#49aaea\" />\r\n                    </Popover>\r\n                    <p>及格率</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                {\r\n                    avgScoreList.length > 0?\r\n                    <Carousel\r\n                    dots={{\r\n                        className: 'award-dot'\r\n                    }}>\r\n                        {\r\n                            updateAvgList.map((item, index)=>{\r\n                                return (\r\n                                    <div className=\"subject-grade-list\" key={index}>\r\n                                        {\r\n                                            item.map((child, index1)=>{\r\n                                                return (\r\n                                                    <div className=\"grade-list-one\" key={index1}>\r\n                                                        <p className={\"grade-num \" + (\r\n                                                        child.score >= 90?\r\n                                                            \"orange\":\r\n                                                        child.score >= 80 && child.score < 90?\r\n                                                            \"violet\":\r\n                                                        child.score >= 75 && child.score < 80?\r\n                                                            \"blue\":\r\n                                                            child.score >= 70 && child.score < 75?\r\n                                                            \"green\":\r\n                                                            \"red\"\r\n                                                        )}>{child.score}</p>\r\n                                                        <p>{child.subjectName}作业</p>\r\n                                                        <p>平均分</p>\r\n                                                    </div>\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Carousel>:\r\n                    <Empty\r\n                    className={\"bar-empty\"}\r\n                    style={{margin: \"20px 0\"}}\r\n                    title={\"暂无数据\"}\r\n                    type={\"4\"}\r\n                    ></Empty>\r\n                }\r\n                \r\n            </div>\r\n            <div className=\"work-echart-container\">\r\n                <div className=\"x-line\"></div>\r\n                <div className=\"y-line\"></div>\r\n                <div className=\"work-complete-rate\">\r\n                    <div className=\"echart-title\">\r\n                        <span>作业完成率</span>\r\n                        <Select defaultValue=\"day\" className=\"select\" onChange={(value)=>setCompleteRateType(value)}>\r\n                            <Option value=\"day\">按天数</Option>\r\n                            <Option value=\"week\">按周次</Option>\r\n                            <Option value=\"month\">按月份</Option>\r\n                        </Select>\r\n                    </div>\r\n                    <div className=\"complete-rate-echart\" id=\"complete-rate-echart\"></div>\r\n                </div>\r\n                <div className=\"work-pass-rate\">\r\n                    <div className=\"echart-title\">\r\n                        <span>作业及格率</span>\r\n                        <Select defaultValue=\"day\" className=\"select\" onChange={(value)=>{setPassRateType(value)}}>\r\n                            <Option value=\"day\">按天数</Option>\r\n                            <Option value=\"week\">按周次</Option>\r\n                            <Option value=\"month\">按月份</Option>\r\n                        </Select>\r\n                    </div>\r\n                    <div className=\"pass-rate-echart\" id=\"pass-rate-echart\"></div>\r\n                    \r\n                </div>\r\n                <div className=\"allsubject-work-avg\">\r\n                    <div className=\"echart-title\">\r\n                        <span>各学科日常作业平均分</span>\r\n                        {/* <Select defaultValue=\"month\" className=\"select\">\r\n                            <Option value=\"month\">按学科</Option>\r\n                        </Select> */}\r\n                    </div>\r\n                    {\r\n                        avgScoreList.length > 0?\r\n                        <div className=\"work-avg-echart\" id=\"work-avg-echart\"></div>:\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                    \r\n                </div>\r\n                <div className=\"subject-detail-grade\">\r\n                    {\r\n                        subjectList.length > 0?\r\n                        <div className=\"kind-list\">\r\n                            <span>学科:</span>\r\n                            <Carousel\r\n                            dots={{\r\n                                className: 'award-dot'\r\n                            }}>\r\n                                {\r\n                                    updateSubjectList.map((item, index)=>{\r\n                                        return (\r\n                                            <span className=\"span-container\" key={index}>\r\n                                                {\r\n                                                    item.map((child, index1)=>{\r\n                                                        return (\r\n                                                            <span className=\"span-container\" key={index1}>\r\n                                                            <span \r\n                                                            className={\"list-one \" + \r\n                                                            (currentSubject == child? \"active\": \"\")}\r\n                                                            onClick={()=>setCurrentSubject(child)}\r\n                                                            >\r\n                                                                {child}\r\n                                                            </span>\r\n                                                            {\r\n                                                                index1 != item.length - 1?\r\n                                                                <span className=\"list-slice-line\"></span>:\r\n                                                                \"\"\r\n                                                            }\r\n                                                            </span>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            \r\n                                            </span>\r\n                                        )\r\n                                        item.forEach((child, index1)=>{\r\n                                            return \r\n                                        })\r\n                                    })\r\n                                }\r\n                            </Carousel>\r\n                        </div>:\r\n                        \"\"\r\n                    }\r\n                    \r\n                    <div className=\"echart-title\">\r\n                        <span>{currentSubject}日常作业分数</span>\r\n                        {/* <Select defaultValue=\"month\" className=\"select\">\r\n                            <Option value=\"month\">按月份</Option>\r\n                        </Select> */}\r\n                    </div>\r\n                    {\r\n                        detailScoreList.length > 0?\r\n                        <div className=\"detail-grade-echart\" id=\"detail-grade-echart\"></div>:\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(DetailWork)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\n// import echarts from \"echarts\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction PersonStudy(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n    } = props;\r\n    //获取数据\r\n    // useLayoutEffect(() => {\r\n    //     let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n    //     //课堂活跃表现\r\n    //     let url = BasicProxy + \"/api/learning2/performance/statistics?type=4\" +\r\n    //     \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n    //     \"&classId=\" + currentClass +\r\n    //     \"&gradeId=\" + currentGrade +\r\n    //     \"&schoolId=\" + SchoolID +\r\n    //     \"&termId=\" + currentTermInfo.termId +\r\n    //     \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n    //     \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n    //     fetch\r\n    //     .get({url, securityLevel: 2})\r\n    //     .then((res)=>res.json())\r\n    //     .then((result)=>{\r\n    //         if(result.status == 200 && result.data){\r\n    //         }\r\n    //     })\r\n    // }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    useEffect(() => { \r\n        let myEchart = echarts.init(document.getElementById(\"time-sum-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '累计自学时长',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: '58%',\r\n                data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: ['一月份','二月份','三月份','四月份','五月份'],\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: [\r\n                 \r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:[1, 1, 1, 0, 3]\r\n                },\r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n\r\n    //每日自学时长图表\r\n    useEffect(() => { \r\n        let myEchart = echarts.init(document.getElementById(\"detail-study-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '每日自学时长',\r\n                left: 'center',\r\n                top: '10px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 75,\r\n                bottom: 90\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                }\r\n            },\r\n            legend: {\r\n                top: '40px',\r\n                left: '58%',\r\n                data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: ['一月份','二月份','三月份','四月份','五月份'],\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: [\r\n                 \r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:[1, 1, 1, 0, 3]\r\n                },\r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n\r\n    return (\r\n      <div className=\"course-show\">\r\n          {\r\n                userIdentity == 'teacher'?\r\n                <div className=\"show-top\">\r\n                    <div className=\"course-liveness\">\r\n                        <div className=\"circle-blue\">\r\n                            50\r\n                        </div>\r\n                        <p>班级总自学时长</p>\r\n                    </div>\r\n                    <div className=\"course-add\">\r\n                        <div className=\"circle-orange\">\r\n                            50\r\n                        </div>\r\n                        <p>最多自学学科</p>\r\n                    </div>\r\n                    <div className=\"course-reduce\">\r\n                        <div className=\"circle-red\">\r\n                            50\r\n                        </div>\r\n                        <p>班级内最大连续<br/>自学时长</p>\r\n                    </div>\r\n                    <div className=\"raise-hand\">\r\n                        <div className=\"circle-green\">\r\n                            50\r\n                        </div>\r\n                        <p>班级内个人平均<br/>自学时长</p>\r\n                    </div>\r\n                </div>:\r\n                <div className=\"show-top\">\r\n                    <div className=\"course-liveness\">\r\n                        <div className=\"circle-blue\">\r\n                            50\r\n                        </div>\r\n                        <p>自学时长</p>\r\n                    </div>\r\n                    <div className=\"course-add\">\r\n                        <div className=\"circle-orange\">\r\n                            50\r\n                        </div>\r\n                        <p>最多自学学科</p>\r\n                    </div>\r\n                    <div className=\"course-reduce\">\r\n                        <div className=\"circle-red\">\r\n                            50\r\n                        </div>\r\n                        <p>最大连续自学时长</p>\r\n                    </div>\r\n                    <div className=\"raise-hand\">\r\n                        <div className=\"circle-green\">\r\n                            50\r\n                        </div>\r\n                        <p>平均自学时长</p>\r\n                    </div>\r\n                </div>\r\n          }\r\n          \r\n          <div className=\"show-bottom\">\r\n                <div className=\"grade-compare-status\">\r\n                    {/* <div className=\"kind-list\" style={{margin: \"24px 0 0 67px\"}}>\r\n                        <span>类型:</span>\r\n                        <span className=\"list-one\">加分率</span>\r\n                        <span className=\"list-slice-line\"></span>\r\n                        <span className=\"list-one\">扣分率</span>\r\n                    </div> */}\r\n                    <div className=\"grade-compare-echart\" id=\"time-sum-echart\"></div>\r\n                </div>\r\n                <div className=\"subject-grade-statistic\">\r\n                    <div className=\"kind-list\" style={{margin: \"24px 0 0 67px\"}}>\r\n                        <span>类型:</span>\r\n                        <span className=\"list-one\">按日期</span>\r\n                        <span className=\"list-slice-line\"></span>\r\n                        <span className=\"list-one\">按月份</span>\r\n                        <span className=\"list-slice-line\"></span>\r\n                        <span className=\"list-one\">按学期</span>\r\n                        <span className=\"list-slice-line\"></span>\r\n                        <span className=\"list-one\">按年份</span>\r\n                    </div>\r\n                    <div className=\"grade-statistic-echart\" id=\"detail-study-echart\"></div>\r\n                </div>\r\n          </div>\r\n      </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(PersonStudy)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction GradeStatistic(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n    } = props;\r\n    // 初始请求\r\n    const [gradeInfo, setGradeInfo] = useState({});\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        let url = BasicProxy + \"/api/learning2/overall/score?type=\" +\r\n        (userIdentity == \"manager\"? 3:\r\n        userIdentity == \"teacher\"? 2:\r\n        1) +\r\n        \"&studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    return (\r\n        <div className=\"grade-statistic\">\r\n            <p className=\"course-count\">\r\n                共选修\r\n                <span>{typeof gradeInfo.courseCount == \"number\"? gradeInfo.courseCount: \"--\"}</span>\r\n                门课程，平均分\r\n                <span>{typeof gradeInfo.avgScore == \"number\"? gradeInfo.avgScore: \"--\"}</span>\r\n                分\r\n            </p>\r\n            {\r\n                userIdentity == 'manager'?\r\n                <div>\r\n                    <div className=\"course-grade-one A\">\r\n                        <p className=\"course-name\">语文</p>\r\n                        <div className=\"course-grade-statistic leader-statistic\">\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"course-grade-one B\">\r\n                        <p className=\"course-name\">语文</p>\r\n                        <div className=\"course-grade-statistic leader-statistic\">\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"course-grade-one C\">\r\n                        <p className=\"course-name\">语文</p>\r\n                        <div className=\"course-grade-statistic leader-statistic\">\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"course-grade-one D\">\r\n                        <p className=\"course-name\">语文</p>\r\n                        <div className=\"course-grade-statistic leader-statistic\">\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                            <p className=\"grade-avg-one\">一年级均分: <span>75分</span></p>\r\n                        </div>\r\n                    </div>\r\n                </div>:\r\n                userIdentity == 'teacher'?\r\n                <div>\r\n                    {\r\n                        Array.isArray(gradeInfo.overallSubjectList) &&\r\n                        gradeInfo.overallSubjectList.length > 0?\r\n                        gradeInfo.overallSubjectList.map((item, index)=>{\r\n                            return (\r\n                                <div \r\n                                className={\"course-grade-one \" + (\r\n                                    item.score >= 90?\r\n                                    \"A\":\r\n                                    item.score >= 80 && item.score < 90?\r\n                                    \"B\":\r\n                                    item.score >= 70 && item.score < 80?\r\n                                    \"C\":\r\n                                    \"D\"\r\n                                )} \r\n                                key={index}>\r\n                                    <p className=\"course-name\">{item.subject}</p>\r\n                                    <div className=\"course-grade-statistic\">\r\n                                        <div className=\"grade-sum\">\r\n                                            <p className=\"grade-num\">{item.classAvgScore}</p>\r\n                                            <p>班级平均分</p>\r\n                                        </div>\r\n                                        <div className=\"grade-avg\" style={{paddingTop: 32}}>\r\n                                            <p>年级均分: <span>{item.gradeAvgScore}分</span></p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }):\r\n                        <Empty\r\n                        // className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                </div>:\r\n                <div>\r\n                    {\r\n                        Array.isArray(gradeInfo.overallSubjectList) &&\r\n                        gradeInfo.overallSubjectList.length > 0?\r\n                        gradeInfo.overallSubjectList.map((item, index)=>{\r\n                            return (\r\n                                <div \r\n                                className={\"course-grade-one \" + (\r\n                                    item.score >= 90?\r\n                                    \"A\":\r\n                                    item.score >= 80 && item.score < 90?\r\n                                    \"B\":\r\n                                    item.score >= 70 && item.score < 80?\r\n                                    \"C\":\r\n                                    \"D\"\r\n                                )} \r\n                                key={index}>\r\n                                     <p className=\"course-name\">语文</p>\r\n                                    <div className=\"course-grade-statistic\">\r\n                                        <div className=\"grade-sum\">\r\n                                            <p className=\"grade-num\">{item.score}</p>\r\n                                            <p>总评分</p>\r\n                                        </div>\r\n                                        <div className=\"grade-avg\">\r\n                                            <p>班级均分: <span>{item.classAvgScore}分</span></p>\r\n                                            <p>年级均分: <span>{item.gradeAvgScore}分</span></p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }):\r\n                        <Empty\r\n                        // className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                </div>\r\n            }\r\n            {\r\n                userIdentity == 'teacher' || userIdentity == 'student'?\r\n                <div className=\"teacher-remark\">\r\n                    <span className=\"remark-name\">班主任评语:</span>\r\n                    <span className=\"remark-content\">\r\n                        {gradeInfo.comment? gradeInfo.comment: \"暂无评语~\"}\r\n                    </span>\r\n                </div>:\r\n                \"\"\r\n            }\r\n            \r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(GradeStatistic)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\n// import echarts from \"echarts\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport {Select} from \"antd\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction TestGrade(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n    } = props;\r\n    //common平时考试,termCenter期中考试,termEnd期末考试\r\n    const [currentTestType, setCurrentTestType] = useState(\"common\");\r\n    const [subjectList, setSubjectList] = useState([]);\r\n    const [currentSubject, setCurrentSubject] = useState(\"\");\r\n    const [testInfoList, setTestInfoList] = useState([]);\r\n    const [classInfoList, setClassInfoList] = useState([]);\r\n    const [gradeInfoList, setGradeInfoList] = useState([]);\r\n    let colorList = [\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#1da4fe'\r\n        },{\r\n            offset: 1,\r\n            color: '#7ecbff'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#51ca51'\r\n        },{\r\n            offset: 1,\r\n            color: '#a0dea0'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#F79750'\r\n        },{\r\n            offset: 1,\r\n            color: '#FFB681'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#2D3149'\r\n        },{\r\n            offset: 1,\r\n            color: '#363D71'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#E84956'\r\n        },{\r\n            offset: 1,\r\n            color: '#E9707A'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#6E54CC'\r\n        },{\r\n            offset: 1,\r\n            color: '#7E90E9'\r\n        }])\r\n    ];\r\n    //身份为学生时还需调用班级接口\r\n    useLayoutEffect(() => {\r\n        if(userIdentity != \"student\"){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取班级\r\n        let url = BasicProxy + \"/api/learning2/exam/scoreRank?type=2\" + \r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&examType=\" + (\r\n            currentTestType == \"common\"?\r\n            1:\r\n            2\r\n        ) +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setClassInfoList(result.data);\r\n            }\r\n        })\r\n    }, [currentTestType, userIdentity, currentGrade, currentClass, currentTerm]);\r\n    //获取年级数据\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"manager\"){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取年级\r\n        let url = BasicProxy + \"/api/learning2/exam/scoreRank?type=\" + (\r\n            currentGrade?\r\n            3:\r\n            4\r\n        ) + \r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&examType=\" + (\r\n            currentTestType == \"common\"?\r\n            1:\r\n            2\r\n        ) +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setGradeInfoList(result.data);\r\n            }\r\n        })\r\n    }, [currentTestType, userIdentity, currentGrade, currentClass, currentTerm]);\r\n    //获取身份对应数据\r\n    useLayoutEffect(() => {\r\n        if(userIdentity == \"manager\" && !currentClass && !currentGrade){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n\r\n        let url = BasicProxy + \"/api/learning2/exam/scoreRank?type=\" +\r\n        (userIdentity == \"manager\"? \r\n        !currentGrade? //为空是查全校，存在某值时是查某年级\r\n        currentClass?  //没有选年级，只选班级就查班级\r\n        2:\r\n        4:\r\n        3:\r\n        userIdentity == \"teacher\"? 2:\r\n        1) +\r\n        \"&studentId=\" + (userIdentity == \"student\"? UserID: \"\") +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&examType=\" + (\r\n            currentTestType == \"common\"?\r\n            1:\r\n            2\r\n        ) +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setTestInfoList(result.data);\r\n                let subjectList = result.data.map((item)=>{\r\n                    return item.subject;\r\n                })\r\n                subjectList = [...new Set(subjectList)];\r\n                setSubjectList(subjectList);\r\n                result.data[0] && setCurrentSubject(subjectList[0]);\r\n            }\r\n        })\r\n    }, [currentTestType, userIdentity, currentGrade, currentClass, currentTerm]);\r\n    //身份为领导时查全部需要特殊处理\r\n    useLayoutEffect(() => {\r\n        if(userIdentity != \"manager\" || currentGrade || currentClass){\r\n            return;\r\n        }\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n\r\n        let url = BasicProxy + \"/api/learning2/exam/scoreRank?type=3\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&examType=\" + (\r\n            currentTestType == \"common\"?\r\n            1:\r\n            2\r\n        ) +\r\n        \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setTestInfoList(result.data);\r\n                let subjectList = [];\r\n                result.data.map((item)=>{\r\n                    item.examScoreAndRankList.forEach((child)=>{\r\n                        subjectList.push(child.subject);\r\n                    })\r\n                })\r\n                subjectList = [...new Set(subjectList)];\r\n                setSubjectList(subjectList);\r\n                result.data[0] && setCurrentSubject(subjectList[0]);\r\n            }\r\n        })\r\n    }, [currentTestType, userIdentity, currentGrade, currentClass, currentTerm]);\r\n    useEffect(() => {\r\n        if(userIdentity == 'manager' || testInfoList.length == 0){\r\n            return;\r\n        }\r\n        //期末期中考试是放在一起的，需要分开\r\n        let dataList = [];\r\n        if(currentTestType == \"common\"){\r\n            dataList = testInfoList;\r\n        }\r\n        if(currentTestType == \"termCenter\"){\r\n            testInfoList.forEach((item)=>{\r\n                if(item.examType == \"期中考试\" && item.subject == currentSubject){\r\n                    dataList.push(item);\r\n                }\r\n            })\r\n        }\r\n        if(currentTestType == \"termEnd\"){\r\n            testInfoList.forEach((item)=>{\r\n                if(item.examType == \"期末考试\" && item.subject == currentSubject){\r\n                    dataList.push(item);\r\n                }\r\n            })\r\n        }\r\n        let xList = [], classDataList = [], gradeDataList = [], myDataList = [], maxDataList = [];\r\n        dataList.forEach((item)=>{\r\n            xList.push(item.examName);\r\n            myDataList.push(item.score);\r\n            maxDataList.push(item.maxScore);\r\n        })\r\n        gradeInfoList.forEach((item)=>{\r\n            gradeDataList.push(item.score);\r\n        })\r\n        classInfoList.forEach((item)=>{\r\n            classDataList.push(item.score);\r\n        })\r\n        let seriesList = [];\r\n        if(userIdentity == 'teacher'){\r\n            seriesList = [\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data: myDataList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data: gradeDataList\r\n                }\r\n            ]\r\n        }\r\n        if(userIdentity == 'student'){\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data: myDataList\r\n                },\r\n                {\r\n                    name:'最高分',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#f18a1a',\r\n                        width: 1,\r\n                        borderColor: '#f18a1a',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#f18a1a'\r\n                    },\r\n                    data: maxDataList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data: classDataList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data: gradeDataList\r\n                }\r\n            ];\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"common-grade-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: `平时考试成绩(${currentSubject})`,\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 65: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}分</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 70\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                right: '10%',\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [testInfoList, userIdentity, currentSubject, currentTestType]);\r\n    useEffect(() => { \r\n        if(userIdentity == 'manager' || testInfoList.length == 0){\r\n            return;\r\n        }\r\n        //期末期中考试是放在一起的，需要分开\r\n        let dataList = [];\r\n        if(currentTestType == \"common\"){\r\n            dataList = testInfoList;\r\n        }\r\n        if(currentTestType == \"termCenter\"){\r\n            testInfoList.forEach((item)=>{\r\n                if(item.examType == \"期中考试\" && item.subject == currentSubject){\r\n                    dataList.push(item);\r\n                }\r\n            })\r\n        }\r\n        if(currentTestType == \"termEnd\"){\r\n            testInfoList.forEach((item)=>{\r\n                if(item.examType == \"期末考试\" && item.subject == currentSubject){\r\n                    dataList.push(item);\r\n                }\r\n            })\r\n        }\r\n\r\n        let xList = [], classDataList = [], gradeDataList = [];\r\n        dataList.forEach((item)=>{\r\n            xList.push(item.examName);\r\n            classDataList.push(item.classRank? item.classRank: 0);\r\n            gradeDataList.push(item.gradeRank? item.gradeRank: 0);\r\n        })\r\n        let seriesList = [];\r\n        if(userIdentity == 'teacher'){\r\n            seriesList = [\r\n                {\r\n                    name:'排名',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#0099ff',\r\n                        width: 1,\r\n                        borderColor: '#0099ff',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#0099ff'\r\n                    },\r\n                    data: classDataList\r\n                }\r\n            ]\r\n        }\r\n        if(userIdentity == 'student'){\r\n            seriesList = [\r\n                {\r\n                    name:'班级排名',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#0099ff',\r\n                        width: 1,\r\n                        borderColor: '#0099ff',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#0099ff'\r\n                    },\r\n                    data: classDataList\r\n                },\r\n                {\r\n                    name:'年级排名',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#22a814',\r\n                        width: 1,\r\n                        borderColor: '#22a814',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#22a814'\r\n                    },\r\n                    data: gradeDataList\r\n                },\r\n            ]\r\n        }\r\n        let myEchart = echarts.init(document.getElementById(\"common-rank-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: `平时考试班级排名(${currentSubject})`,\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}名</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                right: '10%',\r\n                // data:['班级排名','年级排名'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 70\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '考试',\r\n                nameTextStyle: {\r\n                    color: '#999999', \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '名次',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [testInfoList, userIdentity, currentSubject, currentTestType]);\r\n    \r\n    useEffect(() => {\r\n        if(userIdentity != 'manager'){\r\n            return;\r\n        }\r\n        let xList = [], classDataList = [], gradeDataList = [], myDataList = [], maxDataList = [], seriesList = [];;\r\n        if(!currentClass && !currentGrade){ //查所有年级\r\n            //期末期中考试是放在一起的，需要分开\r\n            let dataList = [];\r\n            if(currentTestType == \"common\"){\r\n                dataList = testInfoList;\r\n            }\r\n            if(currentTestType == \"termCenter\"){\r\n                testInfoList.forEach((item)=>{\r\n                    item.examScoreAndRankList.forEach((child)=>{\r\n                        if(child.examType == \"期中考试\" && child.subject == currentSubject){\r\n                            dataList.push(item);\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n            if(currentTestType == \"termEnd\"){\r\n                testInfoList.forEach((item)=>{\r\n                    item.examScoreAndRankList.forEach((child)=>{\r\n                        if(child.examType == \"期末考试\" && child.subject == currentSubject){\r\n                            dataList.push(item);\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n            //得出所有考试列表\r\n            dataList.forEach((item)=>{\r\n                xList.push(item.examName);\r\n            })\r\n            xList = [...new Set(xList)];\r\n            //得出一个个年级在每场考试的数据列表\r\n            testInfoList.forEach((item, index)=>{\r\n                let list = [];\r\n                xList.forEach((child)=>{\r\n                    let sum = 0;\r\n                    item.examScoreAndRankList.forEach((child2)=>{\r\n                        if(child2.examName == child && child.subject == currentSubject){\r\n                            sum += child2.score;\r\n                        }\r\n                    })\r\n                    //平均分\r\n                    list.push(parseInt(sum / item.examScoreAndRankList.length));\r\n                })\r\n                seriesList.push({\r\n                    name: item.gradeName,\r\n                    type:'bar',\r\n                    // barWidth : 16,\r\n                    itemStyle: colorList[index % 6],\r\n                    data: list\r\n                })\r\n            })\r\n            \r\n        } else {  //某一年级或班级\r\n            //期末期中考试是放在一起的，需要分开\r\n            let dataList = [];\r\n            if(currentTestType == \"common\"){\r\n                dataList = testInfoList;\r\n            }\r\n            if(currentTestType == \"termCenter\"){\r\n                testInfoList.forEach((item)=>{\r\n                    if(item.examType == \"期中考试\" && item.subject == currentSubject){\r\n                        dataList.push(item);\r\n                    }\r\n                })\r\n            }\r\n            if(currentTestType == \"termEnd\"){\r\n                testInfoList.forEach((item)=>{\r\n                    if(item.examType == \"期末考试\" && item.subject == currentSubject){\r\n                        dataList.push(item);\r\n                    }\r\n                })\r\n            }\r\n            dataList.forEach((item)=>{\r\n                xList.push(item.examName);\r\n                myDataList(item.score);\r\n            })\r\n            xList = [...new Set(xList)];\r\n            seriesList = [\r\n                {\r\n                    name: currentClass? \"班级\": \"年级\",\r\n                    type:'bar',\r\n                    // barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data: myDataList\r\n                },\r\n            ]\r\n        }\r\n        \r\n        let myEchart = echarts.init(document.getElementById(\"manager-grade-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: `平时考试成绩(${currentSubject})`,\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 40: 30\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}分</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                // start: 0,\r\n                // end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 70\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: 'center',\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n\r\n    \r\n    return (\r\n      <div className=\"test-grade\">\r\n            <div className=\"test-grade-top\">\r\n                <div className=\"kind-list\">\r\n                    <span>类型:</span>\r\n                    <span \r\n                    className={\"list-one \" + (currentTestType == \"common\"? \"active\": \"\")} \r\n                    onClick={()=>setCurrentTestType(\"common\")}>平时考试</span>\r\n                    <span className=\"list-slice-line\"></span>\r\n                    <span \r\n                    className={\"list-one \" + (currentTestType == \"termCenter\"? \"active\": \"\")} \r\n                    onClick={()=>setCurrentTestType(\"termCenter\")}>期中考试</span>\r\n                    <span className=\"list-slice-line\"></span>\r\n                    <span \r\n                    className={\"list-one \" + (currentTestType == \"termEnd\"? \"active\": \"\")}\r\n                    onClick={()=>setCurrentTestType(\"termEnd\")}>期末考试</span>\r\n                </div>\r\n                {\r\n                    subjectList.length > 0?\r\n                    <div className=\"select-container\">\r\n                        <span>学科:</span>\r\n                        <Select \r\n                        value={currentSubject}\r\n                        className=\"select\" \r\n                        onChange={(value)=>setCurrentSubject(value)}>\r\n                            {\r\n                                subjectList.map((item, index)=>{\r\n                                    return (\r\n                                        <Option key={index} value={item}>{item}</Option>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </Select>\r\n                    </div>:\r\n                    \"\"\r\n                }\r\n                \r\n            </div>\r\n            {\r\n                userIdentity == 'manager'?\r\n                <div className=\"manager-grade-bottom\">\r\n                    <div className=\"manager-grade-echart\" id=\"manager-grade-echart\"></div>\r\n                </div>:\r\n                testInfoList.length > 0?\r\n                <div className=\"test-grade-bottom\">\r\n                    <div className=\"common-grade-echart\" id=\"common-grade-echart\"></div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"common-rank-echart\" id=\"common-rank-echart\"></div>\r\n                </div>:\r\n                <Empty\r\n                // className={\"bar-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }\r\n      </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(TestGrade)));\r\n  ","import {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport Bar from \"../../../component/bar\";\r\nimport Track from \"../../../component/Track\";\r\nimport ConditionRank from \"./conditionRank\";\r\nimport LeaderConditionRank from \"./leaderConditionRank\";\r\nimport CourseShow from \"./courseShow\";\r\nimport DetailWork from \"./detailWork\";\r\nimport PersonStudy from \"./personStudy\";\r\nimport GradeStatistic from \"./gradeStatistic\";\r\nimport TestGrade from \"./testGrade\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n\r\nfunction StuCondition(props, ref) {\r\n  // *selectLevel:这里的selectLevel与用户的没关系，与看的级别有关，例如教育局的看学校的，selectLevel===2\r\n  // *productLevel:产品类型，给用户看的界面类型，用来控制界面的一些属性：1教育局，2大学学校，3教育局学校，4大学学院，\r\n  // *product:包含该productLevel的所有信息,有使用组件者使用productLevel和commonData的levelHash匹配使用，必须传，不传将出问题\r\n  let {\r\n    term,\r\n    HasHistory,\r\n    onAnchorComplete,\r\n    schoolID,\r\n    collegeID,\r\n    productMsg,\r\n    userIdentity,\r\n    currentClass,\r\n    currentGrade,\r\n    userInfo: {SchoolID},\r\n  } = props;\r\n  \r\n  const [detailVisible, setDetailVisible] = useState(false);\r\n  const [testVisible, setTestVisible] = useState(false);\r\n  const conditionRank = useRef(null);\r\n  const courseStatus = useRef(null);\r\n  const detailWork = useRef(null);\r\n  const personStudy = useRef(null);\r\n  const testGrade = useRef(null);\r\n  const gradeShow = useRef(null);\r\n  const stuConditionTrack = useRef(null);\r\n  useLayoutEffect(() => {\r\n    // setAnchorList();\r\n    let {\r\n      userIdentity\r\n    } = props;\r\n    typeof onAnchorComplete === \"function\" &&\r\n      onAnchorComplete([\r\n        { ref: conditionRank.current, name: \"学情排行\" },\r\n        { ref: courseStatus.current, name: \"课堂表现\" },\r\n        { ref: detailWork.current, name: \"日常作业\" },\r\n        { ref: personStudy.current, name: \"课外自学\" },\r\n        { ref: testGrade.current, name: \"考试成绩\" },\r\n        { ref: gradeShow.current, name: \"成绩总评\" },\r\n        { ref: stuConditionTrack.current, name: \"学情轨迹\" },\r\n      ]);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  \r\n  return (\r\n    <div className=\"stu-condition\">\r\n      {\r\n        userIdentity == 'teacher'?\r\n        <Bar loading={false} barName={\"学情排行\"} ref={conditionRank}>\r\n          <ConditionRank \r\n          userIdentity={userIdentity} \r\n          currentTerm={term}\r\n          currentGrade={currentGrade}\r\n          currentClass={currentClass} />\r\n        </Bar>:\r\n        userIdentity == 'manager'?\r\n        <Bar loading={false} barName={\"学情排行\"} ref={conditionRank}>\r\n          <LeaderConditionRank \r\n          userIdentity={userIdentity} \r\n          currentTerm={term}\r\n          currentGrade={currentGrade}\r\n          currentClass={currentClass} />\r\n        </Bar>:\r\n        \"\"\r\n      }\r\n      \r\n      <Bar\r\n        barName={\"课堂表现\"}\r\n        ref={courseStatus}\r\n        // topContext={\r\n        //   HasHistory? \r\n        //   <div className=\"module-link-group\">\r\n        //     <span \r\n        //     className=\"status\" \r\n        //     onClick={()=>setDetailVisible(true)}>\r\n        //       查看课堂详情信息\r\n        //     </span>\r\n        //   </div>\r\n        //   :false}\r\n        loading={false}\r\n      >\r\n        <CourseShow \r\n        userIdentity={userIdentity} \r\n        currentTerm={term}\r\n        currentGrade={currentGrade}\r\n        currentClass={currentClass} />\r\n      </Bar>\r\n      <Bar loading={false} barName={\"日常作业\"} ref={detailWork}>\r\n        <DetailWork\r\n        userIdentity={userIdentity} \r\n        currentTerm={term}\r\n        currentGrade={currentGrade}\r\n        currentClass={currentClass} />\r\n      </Bar>\r\n      {/* <Bar loading={false} barName={\"课外自学\"} ref={personStudy}>\r\n        <PersonStudy\r\n        userIdentity={userIdentity} \r\n        currentTerm={term}\r\n        currentGrade={currentGrade}\r\n        currentClass={currentClass} />\r\n      </Bar> */}\r\n      <Bar \r\n      loading={false} \r\n      barName={\"考试成绩\"} \r\n      ref={testGrade}\r\n      // topContext={\r\n      //   HasHistory?\r\n      //   <div className=\"module-link-group\">\r\n      //     <span \r\n      //     className=\"status\"\r\n      //     onClick={()=>setTestVisible(true)}>\r\n      //       查看考试详情信息\r\n      //     </span>\r\n      //   </div>\r\n      //   :false}\r\n      >\r\n        <TestGrade \r\n        userIdentity={userIdentity}\r\n        currentTerm={term}\r\n        currentGrade={currentGrade}\r\n        currentClass={currentClass} />\r\n      </Bar>\r\n      <Bar loading={false} barName={\"成绩总评\"} ref={gradeShow}>\r\n        <GradeStatistic \r\n        userIdentity={userIdentity}\r\n        currentTerm={term}\r\n        currentGrade={currentGrade}\r\n        currentClass={currentClass} />\r\n      </Bar>\r\n      <Bar loading={false} barName={\"学情轨迹\"} ref={stuConditionTrack}>\r\n        <Track></Track>\r\n      </Bar>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let { \r\n    commonData:{\r\n      termInfo:{\r\n        HasHistory,\r\n        TermInfo\r\n      },\r\n      userInfo\r\n    } \r\n  } = state;\r\n  // console.log(state)\r\n  return {HasHistory, TermInfo, userInfo};\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(StuCondition)));\r\n","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n    memo,\r\n    useEffect,\r\n    useState,\r\n    useImperativeHandle,\r\n    useRef,\r\n    useLayoutEffect,\r\n    forwardRef,\r\n} from \"react\";\r\nimport { Table, Progress } from \"antd\";\r\nimport \"./index.scss\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction AttendanceStatus(props){\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n    } = props;\r\n    const [currentIndex, setCurrentIndex] = useState(1);\r\n    const [attendanceList, setAttendanceList] = useState([]);\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/attendance/attendance/details?studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setAttendanceList(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    let tableHeader = [\r\n        {\r\n            title: '序号',\r\n            key: 'index',\r\n            dataIndex: 'index',\r\n            width: 128,\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: userIdentity == 'teacher'? '姓名': '班级',\r\n            key: userIdentity == 'teacher'? 'studentName': 'className',\r\n            dataIndex: userIdentity == 'teacher'? 'studentName': 'className',\r\n            width: 309,\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: '迟到次数',\r\n            key: 'askleave',\r\n            dataIndex: 'askleave',\r\n            width: 176,\r\n            ellipsis: true\r\n        }\r\n        ,\r\n        {\r\n            title: '早退次数',\r\n            key: 'out',\r\n            dataIndex: 'out',\r\n            width: 176,\r\n            ellipsis: true\r\n        }\r\n        ,\r\n        {\r\n            title: '缺勤次数',\r\n            key: 'absence',\r\n            dataIndex: 'absence',\r\n            width: 176,\r\n            ellipsis: true\r\n        }\r\n        ,\r\n        {\r\n            title: '晚归次数',\r\n            key: 'lateback',\r\n            dataIndex: 'lateback',\r\n            width: 176,\r\n            ellipsis: true\r\n        }\r\n    ]\r\n    let Total = attendanceList.length;\r\n    \r\n    let paginationObj = Total > 8?{\r\n        total: Total,\r\n        showQuickJumper: false,\r\n        showSizeChanger: false,\r\n        current: currentIndex,\r\n        position: ['bottomCenter'],\r\n        pageSize: 8,\r\n        onChange: (pageIndex)=>setCurrentIndex(pageIndex)\r\n    }:false;\r\n    return (\r\n        <div className=\"all-attendance-status\">\r\n            {\r\n                userIdentity == \"manager\"?\r\n                <div className=\"attendance-status-top\">\r\n                    <div className=\"progress-container\">\r\n                        <Progress \r\n                        type=\"circle\" \r\n                        percent={75}\r\n                        format={(percent)=> percent}\r\n                        width={92}\r\n                        className=\"progress attendance-rate\"\r\n                        strokeColor=\"#9780F8\" />\r\n                        <p>全校出勤率</p>\r\n                    </div>\r\n                    <div className=\"progress-container\">\r\n                        <Progress \r\n                        type=\"circle\" \r\n                        percent={75}\r\n                        format={(percent)=> percent}\r\n                        width={92}\r\n                        className=\"progress askleave-rate\"\r\n                        strokeColor=\"#FFAF54\" />\r\n                        <p>请假率</p>\r\n                    </div>\r\n                    <div className=\"progress-container\">\r\n                        <Progress \r\n                        type=\"circle\" \r\n                        percent={75}\r\n                        format={(percent)=> percent}\r\n                        width={92}\r\n                        className=\"progress late-rate\"\r\n                        strokeColor=\"#FD8276\" />\r\n                        <p>迟到早退率</p>\r\n                    </div>  \r\n                </div>:\r\n                \"\"\r\n            }\r\n            <Table\r\n                dataSource={attendanceList}\r\n                columns={tableHeader}\r\n                rowClassName=\"rows\"\r\n                pagination={paginationObj}\r\n                className={\"attendance-table \" + (Total > 8? \"table-min\": \"\")}\r\n            ></Table>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(AttendanceStatus)));","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n    memo,\r\n    useEffect,\r\n    useState,\r\n    useImperativeHandle,\r\n    useRef,\r\n    useLayoutEffect,\r\n    forwardRef,\r\n} from \"react\";\r\nimport {Progress} from \"antd\";\r\nimport \"./index.scss\";\r\n\r\nimport * as echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport {Select} from \"antd\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\nfunction CourseAttendance(props){\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n      } = props;\r\n    //统计类型(1：按日 2：按周 3：按月)\r\n    const [currentKind, setCurrentKind] = useState(\"1\");\r\n    const [rateInfo, setRateInfo] = useState({});\r\n    const [rateList, setRateList] = useState({});\r\n    const [classRateList, setClassRateList] = useState({});\r\n    const [gradeRateList, setGradeRateList] = useState({});\r\n    let colorList = [\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#1da4fe'\r\n        },{\r\n            offset: 1,\r\n            color: '#7ecbff'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#51ca51'\r\n        },{\r\n            offset: 1,\r\n            color: '#a0dea0'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#F79750'\r\n        },{\r\n            offset: 1,\r\n            color: '#FFB681'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#2D3149'\r\n        },{\r\n            offset: 1,\r\n            color: '#363D71'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#E84956'\r\n        },{\r\n            offset: 1,\r\n            color: '#E9707A'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#6E54CC'\r\n        },{\r\n            offset: 1,\r\n            color: '#7E90E9'\r\n        }])\r\n    ];\r\n    //获取班级与年级的数据\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let url = BasicProxy + \"/api/attendance/attendance/times?type=2\" +\r\n        \"&studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&statisticalType=\" + currentKind +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setClassRateList(result.data);\r\n            }\r\n        })\r\n        url = BasicProxy + \"/api/attendance/attendance/times?type=3\" +\r\n        \"&studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&statisticalType=\" + currentKind +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setGradeRateList(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentKind]);\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let url = BasicProxy + \"/api/attendance/attendance/statistics?studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setRateInfo(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let url = BasicProxy + \"/api/attendance/attendance/times?type=\" + (\r\n            userIdentity == \"manager\"?\r\n            currentClass?\r\n            2:\r\n            currentGrade?\r\n            3:\r\n            4:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            1\r\n        ) +\r\n        \"&studentId=\" + UserID +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&statisticalType=\" + currentKind +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setRateList(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentKind]);\r\n    useEffect(() => {\r\n        if(!rateList.absentRateDetailList || rateList.absentRateDetailList.length == 0){\r\n            return;\r\n        }\r\n\r\n        let myEchart = echarts.init(document.getElementById(\"attendance-rate-echart\"));\r\n        myEchart.resize();\r\n        let seriesList = [], xList = [];\r\n        if(userIdentity == 'student'){\r\n            let myList = [], classList = [], gradeList = [];\r\n            rateList.absentRateDetailList && rateList.absentRateDetailList.forEach((item)=>{\r\n                xList.push(item.times);\r\n                myList.push(item.absentRate);\r\n            })\r\n            classRateList.absentRateDetailList && classRateList.absentRateDetailList.forEach((item)=>{\r\n                classList.push(item.absentRate);\r\n            })\r\n            gradeRateList.absentRateDetailList && gradeRateList.absentRateDetailList.forEach((item)=>{\r\n                gradeList.push(item.absentRate);\r\n            })\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        }\r\n        if(userIdentity == 'teacher'){\r\n            let myList = [], classList = [], gradeList = [];\r\n            rateList.absentRateDetailList && rateList.absentRateDetailList.forEach((item)=>{\r\n                xList.push(item.times);\r\n                myList.push(item.absentRate);\r\n            })\r\n            classRateList.absentRateDetailList && classRateList.absentRateDetailList.forEach((item)=>{\r\n                classList.push(item.absentRate);\r\n            })\r\n            gradeRateList.absentRateDetailList && gradeRateList.absentRateDetailList.forEach((item)=>{\r\n                gradeList.push(item.absentRate);\r\n            })\r\n            seriesList = [\r\n                // {\r\n                //     name:'个人',\r\n                //     type:'line',\r\n                //     lineStyle: {\r\n                //         color: '#ff0000',\r\n                //         width: 1,\r\n                //         borderColor: '#ff0000',\r\n                //         emphasis: {\r\n                //             width: 1\r\n                //         }\r\n                //     },\r\n                //     itemStyle: {\r\n                //         color: '#ff0000'\r\n                //     },\r\n                //     data:myList\r\n                // },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        }\r\n        if(userIdentity == \"manager\"){\r\n            seriesList = [\r\n                {\r\n                    name:'一年级',\r\n                    type:'bar',\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'二年级',\r\n                    type:'bar',\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'三年级',\r\n                    type:'bar',\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#F79750'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#FFB681'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'四年级',\r\n                    type:'bar',\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#2D3149'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#363D71'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'五年级',\r\n                    type:'bar',\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#E84956'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#E9707A'\r\n                        }])\r\n                    },\r\n                    data:[30, 20, 60, 10, 50]\r\n                },\r\n                {\r\n                    name:'六年级',\r\n                    type:'bar',\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#6E54CC'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7E90E9'\r\n                        }])\r\n                    },\r\n                    data:[10, 20, 0, 10, 50]\r\n                },\r\n            ]\r\n        }\r\n        let option = {\r\n            title: {\r\n                text: '各' + (userIdentity == 'teacher'? '学科': '年级') + \r\n                (currentKind == 'attendance'? '出勤': '缺勤')+ '率对比',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 8? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); padding: 10px;\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}出勤率:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}%</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: 'center',\r\n                // data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 8? true: false,\r\n                maxValueSpan: 7,\r\n                height: 2,\r\n                start: 0,\r\n                end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [userIdentity, rateList, currentKind]);\r\n    return (\r\n        <div className=\"course-attendance\">\r\n            <div className=\"course-attendance-top\">\r\n                <div className=\"attendance-rate-container\">\r\n                    <div className=\"attendance-rate\">\r\n                        <Progress\r\n                        type=\"circle\" \r\n                        percent={(1 - (Number(rateList.avgAbsentRate).toFixed(2)))*100}\r\n                        width={92}\r\n                        format={(percent)=>percent}\r\n                        className=\"progress\"\r\n                        strokeColor=\"#49aaea\" />\r\n                        <p>出勤率</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"attendance-status\">\r\n                    <div className=\"askleave-count\">\r\n                        <p className=\"count-num blue\">{rateInfo.vacateTimes? rateInfo.vacateTimes: \"--\"}</p>\r\n                        <p>请假次数</p>\r\n                    </div>\r\n                    <div className=\"askleave-count\">\r\n                        <p className=\"count-num red\">{rateInfo.lateTimes? rateInfo.lateTimes: \"--\"}</p>\r\n                        <p>迟到次数</p>\r\n                    </div>\r\n                    <div className=\"askleave-count\">\r\n                        <p className=\"count-num green\">{rateInfo.leaveEarlyTimes? rateInfo.leaveEarlyTimes: \"--\"}</p>\r\n                        <p>早退次数</p>\r\n                    </div>\r\n                    <div className=\"askleave-count\">\r\n                        <p className=\"count-num violet\">{rateInfo.absentTimes? rateInfo.absentTimes: \"--\"}</p>\r\n                        <p>缺勤次数</p>\r\n                    </div>\r\n                </div> \r\n            </div>\r\n            <div className=\"select-container\">\r\n                <span>时间:</span>\r\n                <Select value={currentKind} className=\"select\" onChange={(value)=>setCurrentKind(value)}>\r\n                    <Option value=\"1\">按天数</Option>\r\n                    <Option value=\"2\">按周次</Option>\r\n                    <Option value=\"3\">按月份</Option>\r\n                </Select>\r\n            </div>\r\n            {/* <div className=\"kind-list\">\r\n                <span>类型:</span>\r\n                <span \r\n                className={\"list-one \" + (currentKind == \"attendance\"? \"active\": \"\")} \r\n                onClick={()=>setCurrentKind(\"attendance\")}>出勤率</span>\r\n                <span className=\"list-slice-line\"></span>\r\n                <span \r\n                className={\"list-one \" + (currentKind == \"absence\"? \"active\": \"\")}\r\n                onClick={()=>setCurrentKind(\"absence\")}>缺勤率</span>\r\n            </div> */}\r\n            {\r\n                rateList && Array.isArray(rateList.absentRateDetailList) &&\r\n                rateList.absentRateDetailList.length > 0?\r\n                <div className=\"attendance-rate-echart\" id=\"attendance-rate-echart\"></div>:\r\n                <Empty\r\n                // className={\"list-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(CourseAttendance)));","import React, {\r\n    useState,\r\n    useEffect\r\n} from \"react\";\r\nimport {Progress} from \"antd\";\r\nimport \"./index.scss\";\r\nimport {Select} from \"antd\";\r\nimport * as echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nconst {Option} = Select;\r\n\r\nfunction HomeAttendance(props){\r\n    let {\r\n        userIdentity\r\n    } = props;\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"out-time-echart\"));\r\n        myEchart.resize();\r\n        let seriesList = [];\r\n        if(userIdentity == 'student'){\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:[1, 1, 1, 0, 3]\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                \r\n            ]\r\n        } else {\r\n            seriesList = [\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[111111, 213123123, 123123, 123123123, 123123123]\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[111111, 213123123, 123123, 123123123, 123123123]\r\n                },\r\n                \r\n            ]\r\n        }\r\n        let option = {\r\n            title: {\r\n                text: '出勤时间',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `<span style=\"color: #fffd64\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}出勤率:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                right: '10%',\r\n                // data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: ['一月份','二月份','三月份','四月份','五月份'],\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '时间',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: function(value){\r\n                        let date = new Date(value);\r\n                        return date.getHours() + \":\" + date.getMinutes()\r\n                    }\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"in-time-echart\"));\r\n        myEchart.resize();\r\n        let seriesList = [];\r\n        if(userIdentity == 'student'){\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:[1, 1, 1, 0, 3]\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                \r\n            ]\r\n        } else {\r\n            seriesList = [\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[111111, 213123123, 123123, 123123123, 123123123]\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[111111, 213123123, 123123, 123123123, 123123123]\r\n                },\r\n                \r\n            ]\r\n        }\r\n        let option = {\r\n            title: {\r\n                text: '归寝时间',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6)\",\r\n                formatter: function(params){\r\n                    let str = `<span style=\"color: #fffd64\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}出门时间:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                right: '10%',\r\n                // data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: ['一月份','二月份','三月份','四月份','五月份'],\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '时间',\r\n                position: 'bottom',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    show: true,\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLine: {\r\n                    show: false\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: function(value){\r\n                        let date = new Date(value);\r\n                        return date.getHours() + \":\" + date.getMinutes()\r\n                    }\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    return (\r\n        <div className=\"home-attendance\">\r\n            <div className=\"home-attendance-top\">\r\n                <div className=\"mornning-card\">\r\n                    <div className=\"card-title\">上午</div>\r\n                    <div className=\"time-container\">\r\n                        <div className=\"pre-time\">\r\n                            <p className=\"time-num\">07:00</p>\r\n                            <p>出寝时间</p>\r\n                        </div>\r\n                        <span>-</span>\r\n                        <div className=\"next-time\">\r\n                            <p className=\"time-num\">12:05</p>\r\n                            <p>归寝时间</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"class-time-avg\">\r\n                        <p>\r\n                            <span>出寝:&nbsp;</span>\r\n                            <span className=\"class-avg\">班级平均: 07:12</span>\r\n                            <span className=\"grade-avg\">年级平均: 12:12</span>\r\n                        </p>\r\n                        <p>\r\n                            <span>归寝:&nbsp;</span> \r\n                            <span className=\"class-avg\">班级平均: 07:12</span>\r\n                            <span className=\"grade-avg\">年级平均: 12:12</span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"afternoon-card\">\r\n                    <div className=\"card-title\">上午</div>\r\n                    <div className=\"time-container\">\r\n                        <div className=\"pre-time\">\r\n                            <p className=\"time-num\">07:00</p>\r\n                            <p>出寝时间</p>\r\n                        </div>\r\n                        <span>-</span>\r\n                        <div className=\"next-time\">\r\n                            <p className=\"time-num\">12:05</p>\r\n                            <p>归寝时间</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"class-time-avg\">\r\n                        <p>\r\n                            <span>出寝:&nbsp;</span>\r\n                            <span className=\"class-avg\">班级平均: 07:12</span>\r\n                            <span className=\"grade-avg\">年级平均: 12:12</span>\r\n                        </p>\r\n                        <p>\r\n                            <span>归寝:&nbsp;</span> \r\n                            <span className=\"class-avg\">班级平均: 07:12</span>\r\n                            <span className=\"grade-avg\">年级平均: 12:12</span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"night-card\">\r\n                    <div className=\"card-title\">上午</div>\r\n                    <div className=\"time-container\">\r\n                        <div className=\"pre-time\">\r\n                            <p className=\"time-num\">07:00</p>\r\n                            <p>出寝时间</p>\r\n                        </div>\r\n                        <span>-</span>\r\n                        <div className=\"next-time\">\r\n                            <p className=\"time-num\">12:05</p>\r\n                            <p>归寝时间</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"class-time-avg\">\r\n                        <p>\r\n                            <span>出寝:&nbsp;</span>\r\n                            <span className=\"class-avg\">班级平均: 07:12</span>\r\n                            <span className=\"grade-avg\">年级平均: 12:12</span>\r\n                        </p>\r\n                        <p>\r\n                            <span>归寝:&nbsp;</span> \r\n                            <span className=\"class-avg\">班级平均: 07:12</span>\r\n                            <span className=\"grade-avg\">年级平均: 12:12</span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"deepnight-card\">\r\n                    <div className=\"card-title\">上午</div>\r\n                    <div className=\"time-container\">\r\n                        <div className=\"pre-time\">\r\n                            <p className=\"time-num\">07:00</p>\r\n                            <p>出寝时间</p>\r\n                        </div>\r\n                        <span>-</span>\r\n                        <div className=\"next-time\">\r\n                            <p className=\"time-num\">12:05</p>\r\n                            <p>归寝时间</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"class-time-avg\">\r\n                        <p>\r\n                            <span>出寝:&nbsp;</span>\r\n                            <span className=\"class-avg\">班级平均: 07:12</span>\r\n                            <span className=\"grade-avg\">年级平均: 12:12</span>\r\n                        </p>\r\n                        <p>\r\n                            <span>归寝:&nbsp;</span> \r\n                            <span className=\"class-avg\">班级平均: 07:12</span>\r\n                            <span className=\"grade-avg\">年级平均: 12:12</span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"select-container\">\r\n                <span>时间:</span>\r\n                <Select defaultValue=\"month\" className=\"select\">\r\n                    <Option value=\"month\">按月份</Option>\r\n                </Select>\r\n            </div>\r\n            <div className=\"select-container\">\r\n                <span>范围:</span>\r\n                <Select defaultValue=\"month\" className=\"select\">\r\n                    <Option value=\"month\">上午</Option>\r\n                </Select>\r\n            </div>\r\n            <div className=\"home-attendance-bottom\">\r\n                <div className=\"out-time-echart\" id=\"out-time-echart\"></div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"in-time-echart\" id=\"in-time-echart\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default HomeAttendance;","import React, {\r\n    useState,\r\n    useEffect\r\n} from \"react\";\r\nimport {Progress} from \"antd\";\r\nimport \"./index.scss\";\r\nimport {Select} from \"antd\";\r\nimport * as echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nconst {Option} = Select;\r\n\r\nfunction SchoolAttendance(props){\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"out-school-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '到校时间',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); width: 138px; height: 99px\",\r\n                formatter: function(params){\r\n                    let str = `<span style=\"color: #fffd64\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}出勤率:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: 'center',\r\n                data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: ['一月份','二月份','三月份','四月份','五月份'],\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:[1, 1, 1, 0, 3]\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                \r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"in-school-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '离校时间',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6); width: 138px; height: 99px\",\r\n                formatter: function(params){\r\n                    let str = `<span style=\"color: #fffd64\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}出勤率:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: 'center',\r\n                data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: ['一月份','二月份','三月份','四月份','五月份'],\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:[1, 1, 1, 0, 3]\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                \r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    return (\r\n        <div className=\"school-attendance\">\r\n            <div className=\"home-attendance-top\">\r\n                <div className=\"afternoon-card\">\r\n                    <div className=\"card-title\">上午</div>\r\n                    <div className=\"time-container\" style={{margin: \"10px 0\"}}>\r\n                        <div className=\"pre-time\">\r\n                            <p className=\"time-num\">07:00</p>\r\n                            <p>到校时间</p>\r\n                        </div>\r\n                        <span>-</span>\r\n                        <div className=\"next-time\">\r\n                            <p className=\"time-num\">12:05</p>\r\n                            <p>离校时间</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"class-time-avg\">\r\n                        <p style={{textAlign: 'center'}}>年级平均: 07:16 - 12:08</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"select-container\">\r\n                <span>时间:</span>\r\n                <Select defaultValue=\"month\" className=\"select\">\r\n                    <Option value=\"month\">按月份</Option>\r\n                </Select>\r\n            </div>\r\n            <div className=\"select-container\">\r\n                <span>范围:</span>\r\n                <Select defaultValue=\"month\" className=\"select\">\r\n                    <Option value=\"month\">上午</Option>\r\n                </Select>\r\n            </div>\r\n            <div className=\"home-attendance-bottom\">\r\n                <div className=\"out-school-echart\" id=\"out-school-echart\"></div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"in-school-echart\" id=\"in-school-echart\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default SchoolAttendance;","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport Bar from \"../../../component/bar\";\r\nimport AttendanceStatus from \"./attendanceStatus\";\r\nimport CourseAttendance from \"./courseAttendance\";\r\nimport HomeAttendance from \"./homeAttendance\";\r\nimport SchoolAttendance from \"./schoolAttendance\";\r\nimport Track from \"../../../component/Track\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n  function AttendanceMsg(props, ref) {\r\n    // *selectLevel:这里的selectLevel与用户的没关系，与看的级别有关，例如教育局的看学校的，selectLevel===2\r\n    // *productLevel:产品类型，给用户看的界面类型，用来控制界面的一些属性：1教育局，2大学学校，3教育局学校，4大学学院，\r\n    // *product:包含该productLevel的所有信息,有使用组件者使用productLevel和commonData的levelHash匹配使用，必须传，不传将出问题\r\n    let {\r\n      term,\r\n      HasHistory,\r\n      onAnchorComplete,\r\n      schoolID,\r\n      collegeID,\r\n      productMsg,\r\n      userIdentity,\r\n      currentClass,\r\n      currentGrade,\r\n      userInfo: {SchoolID, UserID}\r\n    } = props;\r\n    const [detailVisible, setDetailVisible] = useState(false);\r\n    const [testVisible, setTestVisible] = useState(false);\r\n    const [trackInfo, setTrackInfo] = useState([]);\r\n    const attendanceStatus = useRef(null);\r\n    const courseAttendance = useRef(null);\r\n    const homeAttendance = useRef(null);\r\n    const schoolAttendance = useRef(null);\r\n    const attendanceTrack = useRef(null);\r\n    useLayoutEffect(() => {\r\n      // setAnchorList();\r\n      typeof onAnchorComplete === \"function\" &&\r\n        onAnchorComplete([\r\n          { ref: attendanceStatus.current, name: \"考勤情况\" },\r\n          { ref: courseAttendance.current, name: \"课堂出勤\" },\r\n          { ref: homeAttendance.current, name: \"宿舍考勤\" },\r\n          { ref: schoolAttendance.current, name: \"学校考勤\" },\r\n          { ref: attendanceTrack.current, name: \"考勤轨迹\" },\r\n        ]);\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    // 初始请求\r\n    //获取轨迹数据\r\n    useLayoutEffect(() => {\r\n      let currentTermInfo = term.value? JSON.parse(term.value): {};  \r\n      let classList = sessionStorage.getItem(\"classList\") ?\r\n      JSON.parse(sessionStorage.getItem(\"classList\")):\r\n      [];\r\n      let classGradeId = \"\";\r\n      classList.forEach((item)=>{\r\n          if(item.classId == currentClass){\r\n              classGradeId = item.gradeId;\r\n          }\r\n      })\r\n      currentClass = \"33fba709-f19f-40cc-a694-075bec1b0e3b\";\r\n      classGradeId = \"7C11E555-AE69-41DA-8E8B-624BB21B456E\";\r\n      let url = BasicProxy + \"/api/attendance/attendance/path?type=\" + (\r\n          userIdentity == \"manager\"?\r\n          currentClass?\r\n          2:\r\n          currentGrade?\r\n          3:\r\n          4:\r\n          userIdentity == \"teacher\"?\r\n          2:\r\n          1\r\n      ) +\r\n      \"&studentId=\" + UserID +\r\n      \"&classId=\" + currentClass +\r\n      \"&gradeId=\" + (\r\n          userIdentity == \"teacher\" && !currentGrade?\r\n          classGradeId:\r\n          currentGrade) +\r\n      \"&schoolId=\" + SchoolID +\r\n      // \"&termId=\" + currentTermInfo.termId +\r\n      \"&start=\" + currentTermInfo.startDate.substr(0, 10) +\r\n      \"&end=\" + currentTermInfo.endDate.substr(0, 10);\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && result.data){\r\n              setTrackInfo(result.data);\r\n          }\r\n      })\r\n    }, [currentClass, currentGrade, userIdentity]);\r\n    return (\r\n      <div className=\"stu-condition\">\r\n        {/* {\r\n            userIdentity == 'teacher' || userIdentity == 'manager'?\r\n            <Bar loading={false} barName={\"考勤情况\"} ref={attendanceStatus}>\r\n                <AttendanceStatus \r\n                currentClass={currentClass}\r\n                currentGrade={currentGrade}\r\n                currentTerm={term}\r\n                userIdentity={userIdentity} />\r\n            </Bar>:\r\n            \"\"\r\n        } */}\r\n        <Bar\r\n          barName={\"课堂出勤\"}\r\n          ref={courseAttendance}\r\n          // topContext={\r\n          //   HasHistory?\r\n          //   <div className=\"module-link-group\">\r\n          //     <span \r\n          //     className=\"status\" \r\n          //     onClick={()=>setDetailVisible(true)}>\r\n          //       查看课堂详情信息\r\n          //     </span>\r\n          //   </div>\r\n          //   :false}\r\n          loading={false}\r\n        >\r\n            <CourseAttendance \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            userIdentity={userIdentity} />\r\n        </Bar>\r\n        {/* <Bar loading={false} barName={\"宿舍考勤\"} ref={homeAttendance}>\r\n            <HomeAttendance userIdentity={userIdentity} />\r\n        </Bar> */}\r\n        {/* {\r\n            userIdentity == \"teacher\"?\r\n            <Bar loading={false} barName={\"学校考勤\"} ref={schoolAttendance}>\r\n                <SchoolAttendance userIdentity={userIdentity} />\r\n            </Bar>:\r\n            \"\"\r\n        } */}\r\n        <Bar loading={false} barName={\"考勤轨迹\"} ref={attendanceTrack}>\r\n          <Track\r\n          type=\"attendanceMsg\"\r\n          userIdentity={userIdentity}\r\n          data={trackInfo}\r\n          />\r\n        </Bar>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  const mapStateToProps = (state) => {\r\n    let { commonData:{termInfo:{HasHistory}, userInfo} } = state;\r\n    // console.log(state)\r\n    return {HasHistory, userInfo};\r\n  };\r\n  export default connect(mapStateToProps)(memo(forwardRef(AttendanceMsg)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport {Table, Select} from \"antd\";\r\n// import echarts from \"echarts\";\r\nimport {Empty} from \"../../../component/common\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport \"echarts/lib/chart/scatter\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction HealthBaseMsg(props, ref) {\r\n\r\n    let {\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        currentTerm,\r\n        data,\r\n        userInfo: {UserID, SchoolID}\r\n    } = props;\r\n    const [currentIndex, setCurrentIndex] = useState(1);\r\n    const [infoList, setInfoList] = useState([]);\r\n    useLayoutEffect(() => {\r\n        //查询身高体重和BMI图表数据\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取目前平均身高体重信息\r\n        let url = BasicProxy + \"/api/healthy/studentHealthInfo/distribution?id=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            userIdentity == \"teacher\"?\r\n            currentClass:\r\n            currentClass?\r\n            currentClass:\r\n            currentGrade?\r\n            currentGrade:\r\n            SchoolID\r\n        ) +\r\n        \"&queryType=\" + (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            currentClass?\r\n            2:\r\n            currentGrade?\r\n            3:\r\n            4\r\n        ) +\r\n        \"&periodType=\" + (\r\n            1\r\n        ) +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setInfoList(result.data);\r\n            }\r\n        })\r\n          \r\n    }, [currentTerm, currentClass, currentGrade, userIdentity]);\r\n    useEffect(() => {\r\n        if(userIdentity == \"student\" || !data.avgInfo || !Array.isArray(data.avgInfo.healthyInfoList) ||\r\n            data.avgInfo.healthyInfoList.length == 0){\r\n            return;\r\n        }\r\n        let dataList = [];\r\n        data.avgInfo.healthyInfoList.forEach((item)=>{\r\n            let arr = [item.height, item.weight];\r\n            dataList.push(arr);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"class-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '班级学生身高体重分布图',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: 40\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n            },\r\n            xAxis: {\r\n                name: '体重kg',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                name: '身高cm',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 40]\r\n                },\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            series: [{\r\n                symbolSize: 11,\r\n                itemStyle: {\r\n                  color: '#04c8a1'  \r\n                },\r\n                data: dataList,\r\n                type: 'scatter'\r\n            }]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [userIdentity])\r\n    useEffect(() => { \r\n        if(infoList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], heightList = [], weightList = [];\r\n        infoList.forEach((item)=>{\r\n            xList.push(item.recordTime);\r\n            heightList.push(item.height);\r\n            weightList.push(item.weight);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"high-weight-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '身高体重变化',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 115,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                // axisPointer: {\r\n                //     type: 'shadow'\r\n                // }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                start: 0,\r\n                end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: 'center',\r\n                data:['身高','体重'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                data: ['一月份','二月份','三月份','四月份','五月份'],\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: [{\r\n                type: 'value',\r\n                name: '身高cm',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 40]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                }\r\n            },{\r\n                type: 'value',\r\n                name: '体重kg',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 40, 0, 0]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            }],\r\n            series: [\r\n                {\r\n                    name:'身高',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#358bff',\r\n                        width: 1\r\n                    },\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: '#358bff',\r\n                            opacity: 0\r\n                        },\r\n                        emphasis:{ // 鼠标经过时：\r\n                            color: 'white',\r\n                            borderWidth: 3,\r\n                            borderColor: '#358bff',\r\n                            opacity: 1\r\n                        }\r\n                    },\r\n                    symbolSize: 8,\r\n                    symbol: 'circle',\r\n                    // smooth: true,\r\n                    data:heightList\r\n                },\r\n                {\r\n                    name:'体重',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#009900',\r\n                        width: 1\r\n                    },\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: '#009900',\r\n                            opacity: 0\r\n                        },\r\n                        emphasis:{ // 鼠标经过时：\r\n                            color: 'white',\r\n                            borderWidth: 3,\r\n                            borderColor: '#009900',\r\n                            opacity: 1\r\n                        }\r\n                    },\r\n                    symbolSize: 8,\r\n                    symbol: 'circle',\r\n                    // smooth: true,\r\n                    data:weightList\r\n                },\r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [infoList]);\r\n    //每日自学时长图表\r\n    useEffect(() => { \r\n        if(infoList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], heightList = [], weightList = [], BMIList = [];\r\n        infoList.forEach((item)=>{\r\n            xList.push(item.recordTime);\r\n            BMIList.push(item.bmiIndex);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"BMI-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: 'BMI波动情况',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 115,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                // axisPointer: {\r\n                //     type: 'shadow'\r\n                // }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                start: 0,\r\n                end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: 'center',\r\n                // data:['个人','标准下限','标准上限'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '时间',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: 'BMI值',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#358bff',\r\n                        width: 1\r\n                    },\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: '#358bff',\r\n                            opacity: 0\r\n                        },\r\n                        emphasis:{ // 鼠标经过时：\r\n                            color: 'white',\r\n                            borderWidth: 3,\r\n                            borderColor: '#358bff',\r\n                            opacity: 1\r\n                        }\r\n                    },\r\n                    symbolSize: 8,\r\n                    symbol: 'circle',\r\n                    // smooth: true,\r\n                    data:BMIList\r\n                },\r\n                // {\r\n                //     name:'标准下限',\r\n                //     type:'line',\r\n                //     lineStyle: {\r\n                //         color: '#ff0000',\r\n                //         width: 1\r\n                //     },\r\n                //     itemStyle: {\r\n                //         normal: {\r\n                //             color: '#ff0000',\r\n                //             opacity: 0\r\n                //         },\r\n                //         emphasis:{ // 鼠标经过时：\r\n                //             color: 'white',\r\n                //             borderWidth: 3,\r\n                //             borderColor: '#ff0000',\r\n                //             opacity: 1\r\n                //         }\r\n                //     },\r\n                //     symbolSize: 8,\r\n                //     symbol: 'circle',\r\n                //     // smooth: true,\r\n                //     data:[4, 4, 4, 4, 3]\r\n                // },\r\n                // {\r\n                //     name:'标准上限',\r\n                //     type:'line',\r\n                //     lineStyle: {\r\n                //         color: '#009900',\r\n                //         width: 1\r\n                //     },\r\n                //     itemStyle: {\r\n                //         normal: {\r\n                //             color: '#009900',\r\n                //             opacity: 0\r\n                //         },\r\n                //         emphasis:{ // 鼠标经过时：\r\n                //             color: 'white',\r\n                //             borderWidth: 3,\r\n                //             borderColor: '#009900',\r\n                //             opacity: 1\r\n                //         }\r\n                //     },\r\n                //     symbolSize: 8,\r\n                //     symbol: 'circle',\r\n                //     // smooth: true,\r\n                //     data:[1, 1, 1, 0, 3]\r\n                // },\r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [infoList]);\r\n   \r\n    let List = [\r\n        {\r\n            index: 1,\r\n            name: 'pzw',\r\n            classname: '三年级(1)班',\r\n            askleave: 2,\r\n            out: 3,\r\n            absence: 4,\r\n            lateback: 2\r\n        }\r\n    ]\r\n    let tableHeader = [\r\n        {\r\n            title: '年级',\r\n            key: 'index',\r\n            dataIndex: 'index',\r\n            width: '14.4%',\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: '男生平均身高(cm)',\r\n            key: 'name',\r\n            dataIndex: 'name',\r\n            width: '14.4%',\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: '男生平均体重(kg)',\r\n            key: 'askleave',\r\n            dataIndex: 'askleave',\r\n            width: '14.4%',\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: 'BMI(男)',\r\n            key: 'out',\r\n            dataIndex: 'out',\r\n            width: '14.4%',\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: '女生平均身高(cm)',\r\n            key: 'absence',\r\n            dataIndex: 'absence',\r\n            width: '14.4%',\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: '女生平均体重(kg)',\r\n            key: 'lateback',\r\n            dataIndex: 'lateback',\r\n            width: '14.4%',\r\n            ellipsis: true\r\n        },\r\n        {\r\n            title: 'BMI(女)',\r\n            key: 'lateback',\r\n            dataIndex: 'lateback',\r\n            width: '14.4%',\r\n            ellipsis: true\r\n        }\r\n    ]\r\n    let Total = List.length;\r\n    let paginationObj = Total > 8?{\r\n        total: Total,\r\n        showQuickJumper: false,\r\n        showSizeChanger: false,\r\n        current: currentIndex,\r\n        position: ['bottomCenter'],\r\n        pageSize: 8,\r\n        onChange: (pageIndex)=>setCurrentIndex(pageIndex)\r\n    }:false;\r\n    return (\r\n      <div className=\"health-base-info\">\r\n          {\r\n            userIdentity == 'manager'?\r\n            <Table\r\n                dataSource={List}\r\n                columns={tableHeader}\r\n                rowClassName=\"rows\"\r\n                pagination={paginationObj}\r\n                className={\"health-table \" + (Total > 8? \"table-min\": \"\")}\r\n            ></Table>:\r\n            <div className=\"show-top\">\r\n                <div className=\"info-show-one blue\">\r\n                    <i className=\"cardlogo\"></i>\r\n                    <p className=\"info-status\">\r\n                        身高:\r\n                        <span>{data.baseInfo? \r\n                         userIdentity == \"manager\"?\r\n                         currentClass?\r\n                         data.avgInfo.classAverageHeight + \"cm\":\r\n                         data.avgInfo.gradeAverageHeight + \"cm\":\r\n                         userIdentity == \"teacher\"?\r\n                         data.avgInfo.classAverageHeight + \"cm\":\r\n                         data.baseInfo.height + \"cm\": \"--\"}</span>\r\n                    </p>\r\n                    {\r\n                        userIdentity == \"student\"?\r\n                        <p className=\"info-avg\">\r\n                            班级平均: \r\n                            <span>{data.avgInfo? data.avgInfo.classAverageHeight + \"cm\": \"--\"}</span>;\r\n                            年级平均: \r\n                            <span>{data.avgInfo? data.avgInfo.gradeAverageHeight + \"cm\": \"--\"}</span>\r\n                        </p>:\r\n                        userIdentity == \"teacher\"?\r\n                        <p className=\"info-avg\">\r\n                            年级平均: \r\n                            <span>{data.avgInfo? data.avgInfo.gradeAverageHeight + \"cm\": \"--\"}</span>\r\n                        </p>:\r\n                        \"\"\r\n                    }\r\n                    \r\n                </div>\r\n                <div className=\"info-show-one green\">\r\n                    <i className=\"cardlogo\"></i>\r\n                    <p className=\"info-status\">\r\n                        体重:\r\n                        <span>{data.baseInfo? \r\n                         userIdentity == \"manager\"?\r\n                         currentClass?\r\n                         data.avgInfo.classAverageWeight + \"kg\":\r\n                         data.avgInfo.gradeAverageWeight + \"kg\":\r\n                         userIdentity == \"teacher\"?\r\n                         data.avgInfo.classAverageWeight + \"kg\":\r\n                         data.baseInfo.weight + \"kg\": \"--\"}</span>\r\n                    </p>\r\n                    {\r\n                        userIdentity == \"student\"?\r\n                        <p className=\"info-avg\">\r\n                            班级平均: \r\n                            <span>{data.avgInfo? data.avgInfo.classAverageWeight + \"kg\": \"--\"}</span>;\r\n                            年级平均: \r\n                            <span>{data.avgInfo? data.avgInfo.gradeAverageWeight + \"kg\": \"--\"}</span>\r\n                        </p>:\r\n                        userIdentity == \"teacher\"?\r\n                        <p className=\"info-avg\">\r\n                            年级平均: \r\n                            <span>{data.avgInfo? data.avgInfo.gradeAverageWeight + \"kg\": \"--\"}</span>\r\n                        </p>:\r\n                        \"\"\r\n                    }\r\n                    \r\n                </div>\r\n                <div className=\"info-show-one orange\">\r\n                    <i className=\"cardlogo\"></i>\r\n                    <p className=\"info-status\">\r\n                        BMI:\r\n                        <span>{data.baseInfo?\r\n                            userIdentity == \"manager\"?\r\n                            currentClass?\r\n                            data.avgInfo.classAverageHeight?\r\n                            (data.avgInfo.classAverageWeight/data.avgInfo.classAverageHeight*2).toFixed(1):\r\n                            0:\r\n                            data.avgInfo.gradeAverageHeight?\r\n                            (data.avgInfo.gradeAverageWeight/data.avgInfo.gradeAverageHeight*2).toFixed(1):\r\n                            0:\r\n                            userIdentity == \"teacher\"?\r\n                            data.avgInfo.classAverageHeight?\r\n                            (data.avgInfo.classAverageWeight/data.avgInfo.classAverageHeight*2).toFixed(1):\r\n                            0:\r\n                            data.baseInfo.bmiIndex: \"--\"}</span>\r\n                        <i className=\"querylogo\" title=\"体质指数(BMI)=体重(kg)/身高*2(m)\"></i>\r\n                    </p>\r\n                    {\r\n                        userIdentity == \"student\"?\r\n                        <p className=\"info-avg\">\r\n                            班级平均: \r\n                            <span>\r\n                            {\r\n                                data.avgInfo? \r\n                                data.avgInfo.classAverageHeight?\r\n                                (data.avgInfo.classAverageWeight/data.avgInfo.classAverageHeight*2).toFixed(1):\r\n                                0:\r\n                                \"--\"\r\n                            }\r\n                            </span>;\r\n                            年级平均: \r\n                            <span>\r\n                            {\r\n                                data.avgInfo? \r\n                                data.avgInfo.gradeAverageHeight?\r\n                                (data.avgInfo.gradeAverageWeight/data.avgInfo.gradeAverageHeight*2).toFixed(1):\r\n                                0:\r\n                                \"--\"\r\n                            }\r\n                            </span>\r\n                        </p>:\r\n                        userIdentity == \"teacher\"?\r\n                        <p className=\"info-avg\">\r\n                            年级平均: \r\n                            <span>\r\n                            {\r\n                                data.avgInfo? \r\n                                data.avgInfo.gradeAverageHeight?\r\n                                (data.avgInfo.gradeAverageWeight/data.avgInfo.gradeAverageHeight*2).toFixed(1):\r\n                                0:\r\n                                \"--\"\r\n                            }\r\n                            </span>\r\n                        </p>:\r\n                        \"\"\r\n                    }\r\n                    \r\n                </div>\r\n            </div>\r\n          }\r\n          {/* {\r\n            userIdentity == 'manager'?\r\n            <div>\r\n                 <div className=\"select-container\">\r\n                    <span>性别:</span>\r\n                    <Select defaultValue=\"boy\" className=\"select\">\r\n                        <Option value=\"boy\">男</Option>\r\n                        <Option value=\"girl\">女</Option>\r\n                    </Select>\r\n                </div>\r\n                <div className=\"select-container\">\r\n                    <span>年级:</span>\r\n                    <Select defaultValue=\"one\" className=\"select\">\r\n                        <Option value=\"one\">一年级</Option>\r\n                    </Select>\r\n                </div>\r\n            </div>:\r\n            \"\"    \r\n          } */}\r\n          {\r\n            infoList.length > 0?\r\n            <div className=\"show-bottom\" style={{backgroundColor: (userIdentity == 'student'? \"#f5f5f5\": \"white\")}}>\r\n        \r\n                <div className=\"high-weight-echart\" id=\"high-weight-echart\"></div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"BMI-echart\" id=\"BMI-echart\"></div>\r\n            </div>:\r\n            \"\"\r\n          }\r\n          \r\n          {\r\n            userIdentity == 'student'?\r\n            \"\":\r\n            data.avgInfo &&\r\n            Array.isArray(data.avgInfo.healthyInfoList) &&\r\n            data.avgInfo.healthyInfoList.length > 0?\r\n            <div className=\"class-position-echart\" id=\"class-position-echart\"></div>:\r\n            <Empty\r\n            // className={\"bar-empty\"}\r\n            style={{margin: \"20px 0\"}}\r\n            title={\"暂无数据\"}\r\n            type={\"4\"}\r\n            ></Empty>\r\n          }\r\n      </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n  }\r\nexport default connect(mapStateToProps)(memo(forwardRef(HealthBaseMsg)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\n// import echarts from \"echarts\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction DetailHealth(props, ref) {\r\n    let {\r\n        sickInfo,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        currentTerm,\r\n        userInfo: {UserID, SchoolID},\r\n        temperatureInfo\r\n    } = props;\r\n    const [currentDataType, setCurrentDataType] = useState(\"3\");\r\n    const [sickList, setSickList] = useState([]);\r\n    const [temperatureList, setTemperatureList] = useState([]);\r\n    useLayoutEffect(()=>{\r\n        //获取体温数据\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取体温的统计信息\r\n        let url = BasicProxy + \"/api/healthy/temperature/abnormalCountWithPeriod?id=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            userIdentity == \"teacher\"?\r\n            currentClass:\r\n            userIdentity == \"manager\"?\r\n            currentClass?\r\n            currentClass:\r\n            currentGrade?\r\n            currentGrade:\r\n            SchoolID:\r\n            \"\"\r\n        ) +\r\n        \"&queryType=\" + (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            userIdentity == \"manager\"?\r\n            currentClass?\r\n            2:\r\n            currentGrade?\r\n            3:\r\n            \"\":\r\n            \"\"\r\n        ) +\r\n        \"&periodType=1\" +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setTemperatureList(result.data);\r\n            }\r\n        })\r\n    }, [currentGrade, currentClass, currentTerm, userIdentity]);\r\n    useLayoutEffect(()=>{\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取次数和时长的统计信息\r\n        let url = BasicProxy + \"/api/healthy/leave/distribution?id=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            userIdentity == \"teacher\"?\r\n            currentClass:\r\n            userIdentity == \"manager\"?\r\n            currentClass?\r\n            currentClass:\r\n            currentGrade?\r\n            currentGrade:\r\n            SchoolID:\r\n            \"\"\r\n        ) +\r\n        \"&queryType=\" + (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            userIdentity == \"manager\"?\r\n            currentClass?\r\n            2:\r\n            currentGrade?\r\n            3:\r\n            \"\":\r\n            \"\"\r\n        ) +\r\n        \"&periodType=3\" +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setSickList(result.data);\r\n            }\r\n        })\r\n    }, [currentGrade, currentClass, currentTerm, userIdentity]);\r\n    useEffect(() => { \r\n        if(temperatureList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], myList = [];\r\n        temperatureList.forEach((item)=>{\r\n            xList.push(item.date);\r\n            myList.push(item.averageTemperature);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"temperature-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '体温记录',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 80,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                // axisPointer: {\r\n                //     type: 'shadow'\r\n                // }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                start: 0,\r\n                end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: [{\r\n                type: 'value',\r\n                name: '体温/℃',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 40]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                }\r\n            },{\r\n                type: 'value',\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            }],\r\n            series: [\r\n                {\r\n                    name:'体温',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#358bff',\r\n                        width: 1\r\n                    },\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: '#358bff',\r\n                            opacity: 0\r\n                        },\r\n                        emphasis:{ // 鼠标经过时：\r\n                            color: 'white',\r\n                            borderWidth: 3,\r\n                            borderColor: '#358bff',\r\n                            opacity: 1\r\n                        }\r\n                    },\r\n                    symbolSize: 8,\r\n                    symbol: 'circle',\r\n                    // smooth: true,\r\n                    data:myList\r\n                }\r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [temperatureList, userIdentity]);\r\n    //病假时长和次数图表\r\n    useEffect(() => { \r\n        if(sickList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], countList = [], timesList = [];\r\n        sickList.forEach((item)=>{\r\n            xList.push(item.date);\r\n            if(userIdentity == \"student\"){\r\n                countList.push(item.studentAverageDuration);\r\n                timesList.push(item.studentAverageCount);\r\n            }\r\n            if(userIdentity == \"teacher\"){\r\n                countList.push(item.classAverageDuration);\r\n                timesList.push(item.classAverageCount);\r\n            }\r\n            if(userIdentity == \"manager\"){\r\n                countList.push(item.gradeAverageDuration);\r\n                timesList.push(item.gradeAverageCount);\r\n            }\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"askleave-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '病假次数与时长',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 115,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `<span style=\"color: #fffd64\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">\r\n                        ${item.value}${item.seriesName == \"次数\"? \"次\": \"h\"}\r\n                        </span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: 'center',\r\n                data:['次数','时长'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                start: 0,\r\n                end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: [{\r\n                type: 'value',\r\n                name: '次数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },{\r\n                type: 'value',\r\n                name: '时长/h',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 40, 0, 0]\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            }],\r\n            series: [\r\n                {\r\n                    name:'时长',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#22a814',\r\n                        width: 1,\r\n                        borderColor: '#22a814',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#22a814'\r\n                    },\r\n                    data:countList\r\n                },\r\n                {\r\n                    name:'次数',\r\n                    type:'bar',\r\n                    barWidth : 24,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:timesList\r\n                }       \r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [userIdentity, sickList]);\r\n\r\n    return (\r\n        <div className=\"detail-health\">\r\n            <div className=\"show-top\">\r\n                <div className=\"temperature-info\">\r\n                    <div className=\"temperature-avg\">\r\n                        <div className=\"circle blue\">\r\n                            {typeof temperatureInfo.averageTemperature == \"number\"? \r\n                             temperatureInfo.averageTemperature + \"℃\":\r\n                             \"--\"\r\n                            }\r\n                        </div>\r\n                        <p>平均体温</p>\r\n                    </div>\r\n                    <div className=\"temperature-warn-count\">\r\n                        <div className=\"circle orange\">\r\n                        {typeof temperatureInfo.abNormalCount == \"number\"? \r\n                             temperatureInfo.abNormalCount:\r\n                             \"--\"\r\n                        }\r\n                        </div>\r\n                        <p>异常体温次数</p>\r\n                    </div>\r\n                    <div className=\"temperature-warn-rate\">\r\n                        <div className=\"circle red\">\r\n                        {typeof temperatureInfo.abNormalRate == \"number\"? \r\n                             temperatureInfo.abNormalRate + \"%\":\r\n                             \"--\"\r\n                        }\r\n                        \r\n                        </div>\r\n                        <p>异常体温率</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"askleave-info\">\r\n                    <div className=\"askleave-count\">\r\n                        <div className=\"circle violet\">\r\n                            {typeof sickInfo.sickRecordCount == \"number\"?\r\n                             sickInfo.sickRecordCount: \"--\"}\r\n                        </div>\r\n                        <p>病假次数</p>\r\n                    </div>\r\n                    <div className=\"askleave-time\">\r\n                        <div className=\"circle pink\">\r\n                            {typeof sickInfo.sickRecordDuration == \"number\"?\r\n                             sickInfo.sickRecordDuration + \"h\": \"--\"}\r\n                        </div>\r\n                        <p>病假时长</p>\r\n                    </div>\r\n                    <div className=\"askleave-rate\">\r\n                        <div className=\"circle green\">\r\n                            {typeof sickInfo.sickRecordCount == \"number\"? sickInfo.totalCount?\r\n                             ((sickInfo.sickRecordCount / sickInfo.totalCount)*100).toFixed(1): 0: \"--\"}\r\n                        </div>\r\n                        <p>病假率</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"show-bottom\">\r\n                    {\r\n                        temperatureList.length > 0?\r\n                        <div className=\"temperature-echart\" id=\"temperature-echart\"></div>:\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\", width: \"calc(50% - 1px)\", display: \"inline-block\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                    \r\n                    <div className=\"slice-line\"></div>\r\n                    {\r\n                        sickList.length > 0?\r\n                        <div className=\"askleave-echart\" id=\"askleave-echart\"></div>:\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        style={{margin: \"20px 0\", width: \"calc(50% - 1px)\", display: \"inline-block\"}}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                    \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash, userInfo },\r\n    } = state;\r\n    return { levelHash, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(DetailHealth)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport { Progress } from \"antd\";\r\n// import echarts from \"echarts\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction TestStatus(props, ref) {\r\n    let {\r\n        userIdentity,\r\n        testAvg,\r\n        projectList,\r\n        currentTerm,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {UserID}\r\n    } = props;\r\n    const [subjectList, setSubjectList] = useState([]);\r\n    const [currentSubject, setCurrentSubject] = useState(\"\");\r\n    const [echartList, setEchartList] = useState([]);\r\n    let colorList = [\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#1da4fe'\r\n        },{\r\n            offset: 1,\r\n            color: '#7ecbff'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#51ca51'\r\n        },{\r\n            offset: 1,\r\n            color: '#a0dea0'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#F79750'\r\n        },{\r\n            offset: 1,\r\n            color: '#FFB681'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#2D3149'\r\n        },{\r\n            offset: 1,\r\n            color: '#363D71'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#E84956'\r\n        },{\r\n            offset: 1,\r\n            color: '#E9707A'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#6E54CC'\r\n        },{\r\n            offset: 1,\r\n            color: '#7E90E9'\r\n        }])\r\n    ]\r\n    useLayoutEffect(() => {\r\n        //获取体测成绩数据\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取体测项目列表\r\n        let url = BasicProxy + \"/api/healthy/physicalTest/project/list\";\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setSubjectList(result.data);\r\n                result.data[0] && setCurrentSubject(result.data[0])\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, userIdentity]);\r\n    useLayoutEffect(() => {\r\n        //获取体测图表数据\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        if(userIdentity == \"teacher\" && !currentClass){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取体测项目列表\r\n        let url = BasicProxy + \"/api/healthy/physicalTest/score/distribution?id=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            userIdentity == \"teacher\"?\r\n            currentClass:\r\n            userIdentity == \"manager\"?\r\n            currentGrade:\r\n            currentGrade\r\n        ) +\r\n        \"&queryType=\" + (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            userIdentity == \"manager\"?\r\n            3:\r\n            3\r\n        ) +\r\n        \"&projectId=\" + currentSubject +\r\n        \"periodType=1\" + \r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setEchartList(result.data);\r\n            }\r\n        })\r\n    }, [currentSubject]);\r\n    useEffect(() => { \r\n        if(echartList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], classList = [], gradeList = [], myList = [];\r\n        echartList.forEach((item)=>{\r\n            xList.push(item.date);\r\n            classList.push(item.classAverage);\r\n            gradeList.push(item.gradeAverage);\r\n            myList.push(item.studentScore);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"test-kind-echart\"));\r\n        myEchart.resize();\r\n        let seriesList = [];\r\n        if(userIdentity == \"manager\"){\r\n            seriesList = [\r\n                {\r\n                    name:'平均分',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:[1, 1, 1, 0, 3]\r\n                },\r\n                {\r\n                    name:'一年级',\r\n                    type:'bar',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: colorList[0]\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'二年级',\r\n                    type:'bar',\r\n                    barWidth: 16,\r\n                    itemStyle: {\r\n                        color: colorList[1]\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                \r\n            ]\r\n        } else {\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                // {\r\n                //     name:'最高分',\r\n                //     type:'line',\r\n                //     lineStyle: {\r\n                //         color: '#f18a1a',\r\n                //         width: 1,\r\n                //         borderColor: '#f18a1a',\r\n                //         emphasis: {\r\n                //             width: 1\r\n                //         }\r\n                //     },\r\n                //     itemStyle: {\r\n                //         color: '#f18a1a'\r\n                //     },\r\n                //     data:[1, 1, 1, 0, 3]\r\n                // },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        }\r\n        let option = {\r\n            title: {\r\n                text: '体测项目对比',\r\n                left: 'center',\r\n                top: '35px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 110,\r\n                bottom: xList.length > 8? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '65px',\r\n                left: 'center',\r\n                // data:['个人', '最高分', '班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '学科',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: ['一月份','二月份','三月份','四月份','五月份'],\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 8? true: false,\r\n                maxValueSpan: 7,\r\n                height: 2,\r\n                start: 0,\r\n                end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '分数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentSubject, currentTerm, currentClass, currentGrade, userIdentity, echartList]);\r\n\r\n    return (\r\n        <div className=\"test-status\">\r\n            <div className=\"show-top\">\r\n                <div className=\"test-avg\">\r\n                    <Progress \r\n                    type=\"circle\" \r\n                    percent={testAvg.averageScore}\r\n                    format={(percent)=>percent}\r\n                    width={92}\r\n                    className=\"progress\"\r\n                    strokeColor=\"#8fdb66\" />\r\n                    <p>体测平均分</p>\r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"test-kind-list\">\r\n                    <Scrollbars>\r\n                        {\r\n                            Array.isArray(projectList) && projectList.map((item, index)=>{\r\n                                let score = userIdentity == \"student\"?\r\n                                item.studentAverageScore:\r\n                                userIdentity == \"teacher\"?\r\n                                item.classAverageScore:\r\n                                userIdentity == \"manager\"?\r\n                                item.gradeAverageScore:\r\n                                \"--\";\r\n                                return (\r\n                                    <div className={\r\n                                        score >= 90 ? \"good\":\r\n                                        score >= 80 && score < 90? \"common\":\r\n                                        score >= 70 && score < 80? \"pass\":\r\n                                        \"bad\"\r\n                                    } key={index}>\r\n                                        <i className=\"test-kind-rank\"></i>\r\n                                        <p>评分: {score}</p>\r\n                                        <p className=\"test-kind-name\">{item.testProject.subjectName}</p>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Scrollbars>\r\n                    \r\n                </div>\r\n            </div>\r\n            {\r\n                subjectList.length > 0?\r\n                <div className=\"show-bottom\">\r\n                    <div className=\"kind-list\">\r\n                        <span>项目:</span>\r\n                        {\r\n                            subjectList.map((item, index)=>{\r\n                                return (\r\n                                    <span key={index} onClick={()=>setCurrentSubject(item.subjectId)}>\r\n                                        <span \r\n                                        className={\"list-one \" + (currentSubject == item.subjectId? \"active\": \"\")}>\r\n                                            {item.subjectName}\r\n                                        </span>\r\n                                        {\r\n                                            index != subjectList.length - 1?\r\n                                            <span className=\"list-slice-line\"></span>:\r\n                                            \"\"\r\n                                        }\r\n                                    </span>\r\n                                    \r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <div className=\"test-kind-echart\" id=\"test-kind-echart\"></div>\r\n                </div>:\r\n                <Empty\r\n                // className={\"list-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }\r\n           \r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash, userInfo },\r\n    } = state;\r\n    return { levelHash, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(TestStatus)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport { Progress } from \"antd\";\r\n\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nfunction SportTest(props, ref) {\r\n    const colorList = ['#ffb487', '#879bff', '#67d4d8', '#ff8787', '#51c2fd'];\r\n    return (\r\n        <div className=\"sport-test\">\r\n            <div className=\"test-sum\">\r\n                <Progress \r\n                type=\"circle\" \r\n                percent={75}\r\n                width={92}\r\n                format={() => 75}\r\n                className=\"progress\"\r\n                strokeColor=\"#8fdb66\" />\r\n                <p>体育考试总分</p>\r\n            </div>\r\n            <div className=\"slice-line\"></div>\r\n            <div className=\"sport-project-list\">\r\n                <Scrollbars>\r\n                <div className=\"project-list-one\">\r\n                    <span className=\"sport-project-name\">长跑</span>\r\n                    <Progress\r\n                    status=\"active\"\r\n                    percent={75}\r\n                    strokeWidth={12}\r\n                    showInfo={false}\r\n                    className=\"sport-project-progress\"\r\n                    strokeColor=\"#49aaea\" />\r\n                    <span className=\"sport-project-grade\" style={{color: '#eb7833'}}>75分</span>\r\n                    <span className=\"avg-grade\">\r\n                        班级平均<span>17</span>分/\r\n                    </span>\r\n                    <span className=\"avg-grade\">\r\n                        年级平均<span>17</span>分\r\n                    </span>\r\n                </div>\r\n                </Scrollbars>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash },\r\n    } = state;\r\n    return { levelHash };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(SportTest)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport { Progress, Select } from \"antd\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nimport * as echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nconst {Option} = Select;\r\n\r\nfunction DetailExercise(props, ref) {\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"time-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 10,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '运动时间分布图',\r\n                left: 'center',\r\n                top: 'bottom',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.5, \r\n                r: 0.35, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '访问来源',\r\n                    type: 'pie',\r\n                    radius: ['25%', '60%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: [1, 2, 3, 4, 5]\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"place-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 10,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '运动时间分布图',\r\n                left: 'center',\r\n                top: 'bottom',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.5, \r\n                r: 0.35, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '访问来源',\r\n                    type: 'pie',\r\n                    radius: ['25%', '60%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: [1, 2, 3, 4, 5]\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"exercise-count-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '运动次数',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: '58%',\r\n                data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '月份',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: ['一月份','二月份','三月份','四月份','五月份'],\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '次数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:[1, 1, 1, 0, 3]\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                \r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"exercise-time-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '运动时长',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: '58%',\r\n                data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '月份',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: ['一月份','二月份','三月份','四月份','五月份'],\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '时长/h',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:[1, 1, 1, 0, 3]\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                \r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    return (\r\n        <div className=\"detail-exercise\">\r\n            <span className=\"exercise-info\">\r\n                体育课程:\r\n                <span>3次/周</span>\r\n            </span>\r\n            <span className=\"exercise-info\">\r\n                早操:\r\n                <span>平均2次/d，共48次</span>\r\n            </span>\r\n            <span className=\"exercise-info\">\r\n                课间操:\r\n                <span>平均2次/d，共48次</span>\r\n            </span>\r\n            <span className=\"exercise-info\">\r\n                体育运动会:\r\n                <span>3次</span>\r\n            </span>\r\n            <div className=\"exercise-card-container\">\r\n                <div className=\"exercise-card time\">\r\n                    <i className=\"exerciselogo\"></i>\r\n                    <p>\r\n                        运动时长:\r\n                        <span>10h</span>\r\n                    </p>\r\n                    <p className=\"exercise-avg\">班级平均:10h; 年级平均:9h</p>\r\n                </div>\r\n                <div className=\"exercise-card count\">\r\n                    <i className=\"exerciselogo\"></i>\r\n                    <p>\r\n                        运动次数:\r\n                        <span>10h</span>\r\n                    </p>\r\n                    <p className=\"exercise-avg\">班级平均:10h; 年级平均:9h</p>\r\n                </div>\r\n                <div className=\"exercise-card frequency\">\r\n                    <i className=\"exerciselogo\"></i>\r\n                    <p>\r\n                        运动频率:\r\n                        <span>10h</span>\r\n                    </p>\r\n                    <p className=\"exercise-avg\">班级平均:10h; 年级平均:9h</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"exercise-pie-echart\">\r\n                <div className=\"time-position-echart\" id=\"time-position-echart\"></div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"place-position-echart\" id=\"place-position-echart\"></div>\r\n            </div>\r\n            <div className=\"select-container\">\r\n                <span>时间:</span>\r\n                <Select defaultValue=\"month\" className=\"select\">\r\n                    <Option value=\"month\">按月份</Option>\r\n                </Select>\r\n            </div>\r\n            <div className=\"exercise-bar-container\">\r\n                <div className=\"exercise-count-echart\" id=\"exercise-count-echart\"></div>\r\n                <div className=\"slice-line\"></div>\r\n                <div className=\"exercise-time-echart\" id=\"exercise-time-echart\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash },\r\n    } = state;\r\n    return { levelHash };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(DetailExercise)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport {Empty} from \"../../../component/common\"\r\n// import echarts from \"echarts\";\r\nimport * as echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\n\r\nimport DetailHealth from \"./detailHealth\";\r\nimport TestStatus from \"./testStatus\";\r\nimport SportTest from \"./sportTest\";\r\nimport DetailExercise from \"./detailExercise\";\r\nimport detailExercise from \"./detailExercise\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction BodyHealth(props, ref) {\r\n    let {\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        currentTerm,\r\n        userInfo: {UserID, SchoolID}\r\n    } = props;\r\n     // dom ref\r\n    const [currentKind, setCurrentKind] = useState('test');\r\n    //体测成绩\r\n    const [testAvg, setTestAvg] = useState(\"--\");\r\n    const [projectList, setProjectList] = useState({});\r\n    const [testStatusData, setTestStatusData] = useState({});\r\n    const [sickInfo, setSickInfo] = useState({});\r\n    const [temperatureInfo, setTemperatureInfo] = useState({});\r\n    useLayoutEffect(() => {\r\n        //获取体测成绩数据\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取体测平均分\r\n        let url = BasicProxy + \"/api/healthy/physicalTest/averageScore?studentId=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setTestAvg(result.data);\r\n            }\r\n        })\r\n\r\n        //获取体测成绩\r\n        url = BasicProxy + \"/api/healthy/physicalTest/score/list?studentId=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n        userIdentity == \"teacher\" && !currentGrade?\r\n        classGradeId:\r\n        currentGrade) +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setProjectList(result.data);\r\n            }\r\n        })\r\n        \r\n        //获取项目列表\r\n        url = BasicProxy + \"/api/healthy/physicalTest/score/list?studentId=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n        userIdentity == \"teacher\" && !currentGrade?\r\n        classGradeId:\r\n        currentGrade) +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setProjectList(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, userIdentity]);\r\n    useLayoutEffect(() => {\r\n        //获取日常健康数据\r\n        if(!currentTerm){\r\n            return;\r\n        }\r\n        let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = currentTerm && currentTerm.value && JSON.parse(currentTerm.value);\r\n        //获取病假信息\r\n        let url = BasicProxy + \"/api/healthy/leave/sickRecord?studentId=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setSickInfo(result.data);\r\n            }\r\n        })\r\n        //获取体温信息\r\n        url = BasicProxy + \"/api/healthy/temperature/dallyHealthyInfo?studentId=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + (\r\n            userIdentity == \"teacher\" && !currentGrade?\r\n            classGradeId:\r\n            currentGrade) +\r\n        // \"&termId=\" + currentTermInfo.termId +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setTemperatureInfo(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, userIdentity]);\r\n    const kindList = [\r\n        {\r\n            key: 'test',\r\n            name: '体测情况'\r\n        },\r\n        // {\r\n        //     key: 'exam',\r\n        //     name: '体育中考'\r\n        // },\r\n        // {\r\n        //     key: 'sport',\r\n        //     name: '日常运动'\r\n        // },\r\n        {\r\n            key: 'health',\r\n            name: '日常健康'\r\n        },\r\n    ];\r\n    return (\r\n        <div className=\"body-health\">\r\n            <div className=\"kind-list\">\r\n                <span>类型:</span>\r\n                {\r\n                    kindList.map((item, index)=>{\r\n                        return (\r\n                            <div style={{margin: 0}} key={index} onClick={()=>setCurrentKind(item.key)}>\r\n                                <span \r\n                                className={\"list-one \" + (currentKind == item.key? \"active\": \"\")}>\r\n                                    {item.name}\r\n                                </span>\r\n                                {\r\n                                    index != kindList.length - 1?\r\n                                    <span className=\"list-slice-line\"></span>:\r\n                                    \"\"\r\n                                }\r\n                            </div>\r\n                            \r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            {\r\n                currentKind == \"exam\"?\r\n                <SportTest userIdentity={userIdentity} currentKind={currentKind} />:\r\n                currentKind == \"sport\"?\r\n                <DetailExercise userIdentity={userIdentity} currentKind={currentKind} />:\r\n                currentKind == \"health\"?\r\n                <DetailHealth \r\n                userIdentity={userIdentity} \r\n                currentKind={currentKind} \r\n                currentClass={currentClass}\r\n                currentGrade={currentGrade}\r\n                currentTerm={currentTerm}\r\n                sickInfo={sickInfo}\r\n                temperatureInfo={temperatureInfo} />:\r\n                <TestStatus \r\n                userIdentity={userIdentity} \r\n                currentClass={currentClass}\r\n                currentGrade={currentGrade}\r\n                currentTerm={currentTerm}\r\n                currentKind={currentKind} \r\n                testAvg={testAvg}\r\n                projectList={projectList} />\r\n            }\r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n  }\r\nexport default connect(mapStateToProps)(memo(forwardRef(BodyHealth)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\n\r\nfunction MindHealth(props, ref) {\r\n    let {\r\n        userIdentity\r\n    } = props;\r\n    return (\r\n        <div className=\"mind-health\">\r\n            <div className=\"show-top\">\r\n                <div className=\"test-info-one orange\">\r\n                    <i className=\"cardlogo\"></i>\r\n                    <p className=\"test-name\">\r\n                        <i className=\"dotlogo\"></i>\r\n                        焦虑测试\r\n                    </p>\r\n                    {\r\n                        userIdentity == \"manager\"?\r\n                        <p className=\"test-num\">\r\n                            <span>正常人数: <span style={{color: 'green'}}>47</span></span>\r\n                            <span>异常人数: <span style={{color: '#ff0000'}}>27</span></span>\r\n                        </p>:\r\n                        \"\"\r\n                    }\r\n                    <p className=\"test-time\">\r\n                        测试时间: 2020-12-31\r\n                    </p>\r\n                </div>\r\n                <div className=\"test-info-one green\">\r\n                    <i className=\"cardlogo\"></i>\r\n                    <p className=\"test-name\">\r\n                        <i className=\"dotlogo\"></i>\r\n                        焦虑测试\r\n                    </p>\r\n                    {\r\n                        userIdentity == \"manager\"?\r\n                        <p className=\"test-num\">\r\n                            <span>正常人数: <span style={{color: 'green'}}>47</span></span>\r\n                            <span>异常人数: <span style={{color: '#ff0000'}}>27</span></span>\r\n                        </p>:\r\n                        \"\"\r\n                    }\r\n                    <p className=\"test-time\">\r\n                        测试时间: 2020-12-31\r\n                    </p>\r\n                </div>\r\n                <div className=\"test-info-one red\">\r\n                    <i className=\"cardlogo\"></i>\r\n                    <p className=\"test-name\">\r\n                        <i className=\"dotlogo\"></i>\r\n                        焦虑测试\r\n                    </p>\r\n                    {\r\n                        userIdentity == \"manager\"?\r\n                        <p className=\"test-num\">\r\n                            <span>正常人数: <span style={{color: 'green'}}>47</span></span>\r\n                            <span>异常人数: <span style={{color: '#ff0000'}}>27</span></span>\r\n                        </p>:\r\n                        \"\"\r\n                    }\r\n                    <p className=\"test-time\">\r\n                        测试时间: 2020-12-31\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            {\r\n                userIdentity == \"manager\"?\r\n                \"\":\r\n                <div className=\"show-bottom\">\r\n                    <span className=\"remark-name\">建议:</span>\r\n                    <span className=\"remark-content\">\r\n                    要想走出抑郁状态，要在对待疾病的态度上做出转变。抑郁状态出现初始，很多人是敌对它憎恨它，\r\n                    经常抱怨自己为什么会得这种病，因而十分痛苦。我们应该逐渐学会\r\n                    宽恕与接纳，感恩疾病助自己成长，感恩疾病让自己走上探索心理的道路，感恩疾病让自己明白了很多\r\n                    关于生命的信息，包括如何深度地了解自己、思考如何完善人性的\r\n                    弱点、提高个体的力量、丰富思考问题的角度、了解生命的意义等等。\r\n                    </span>\r\n                </div>\r\n            } \r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash },\r\n    } = state;\r\n    return { levelHash };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(MindHealth)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport Bar from \"../../../component/bar\";\r\nimport HealthBaseMsg from \"./healthBaseMsg\";\r\nimport BodyHealth from \"./bodyHealth\";\r\nimport MindHealth from \"./mindHealth\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n  function HealthMsg(props, ref) {\r\n    // *selectLevel:这里的selectLevel与用户的没关系，与看的级别有关，例如教育局的看学校的，selectLevel===2\r\n    // *productLevel:产品类型，给用户看的界面类型，用来控制界面的一些属性：1教育局，2大学学校，3教育局学校，4大学学院，\r\n    // *product:包含该productLevel的所有信息,有使用组件者使用productLevel和commonData的levelHash匹配使用，必须传，不传将出问题\r\n    let {\r\n      term,\r\n      HasHistory,\r\n      onAnchorComplete,\r\n      schoolID,\r\n      collegeID,\r\n      productMsg,\r\n      currentClass,\r\n      currentGrade,\r\n      userIdentity,\r\n      userInfo: {SchoolID, UserID}\r\n    } = props;\r\n    const [detailVisible, setDetailVisible] = useState(false);\r\n    const [testVisible, setTestVisible] = useState(false);\r\n    const [baseMsgInfo, setBaseMsgInfo] = useState({});\r\n    const baseMsg = useRef(null);\r\n    const bodyHealth = useRef(null);\r\n    const mindHealth = useRef(null);\r\n    useLayoutEffect(() => {\r\n      // setAnchorList();\r\n      typeof onAnchorComplete === \"function\" &&\r\n        onAnchorComplete([\r\n          { ref: baseMsg.current, name: \"基本情况\" },\r\n          { ref: bodyHealth.current, name: \"身体健康\" },\r\n        //   { ref: schoolAttendance.current, name: \"学校考勤\" },\r\n          { ref: mindHealth.current, name: \"心理健康\" },\r\n        ]);\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    // 初始请求\r\n    useLayoutEffect(() => {\r\n      if(!currentClass && !currentGrade && userIdentity != \"student\"){\r\n        return;\r\n      }\r\n      if(!term){\r\n        return;\r\n    }\r\n      let classList = sessionStorage.getItem(\"classList\") ?\r\n        JSON.parse(sessionStorage.getItem(\"classList\")):\r\n        [];\r\n        let classGradeId = \"\";\r\n        classList.forEach((item)=>{\r\n            if(item.classId == currentClass){\r\n                classGradeId = item.gradeId;\r\n            }\r\n        })\r\n        let currentTermInfo = term.value && JSON.parse(term.value);\r\n        if(userIdentity != \"student\"){\r\n          //获取目前平均身高体重信息\r\n          let url = BasicProxy + \"/api/healthy/overview?classId=\" + currentClass +\r\n          \"&gradeId=\" + (\r\n            userIdentity == \"teacher\"?\r\n            classGradeId:\r\n            currentGrade\r\n          ) +\r\n          \"&studentId=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            \"\") +\r\n          // \"&termId=\" + currentTermInfo.termId +\r\n          \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n          \"&endDate=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n          fetch\r\n          .get({url, securityLevel: 2})\r\n          .then((res)=>res.json())\r\n          .then((result)=>{\r\n              if(result.status == 200 && result.data){\r\n                let obj = {\r\n                  ...baseMsg,\r\n                  baseInfo: result.data,\r\n                  avgInfo: result.data\r\n                }\r\n                setBaseMsgInfo(obj);\r\n              }\r\n          })\r\n       }\r\n        \r\n        if(userIdentity == \"student\"){\r\n           //获取目前平均身高体重信息\r\n          let url = BasicProxy + \"/api/healthy/overview?classId=\" + currentClass +\r\n          \"&gradeId=\" + currentGrade +\r\n          \"&studentId=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            \"\") +\r\n          // \"&termId=\" + currentTermInfo.termId +\r\n          \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n          \"&endDate=\" + currentTermInfo.endDate.substr(0, 10) ;\r\n          fetch\r\n          .get({url, securityLevel: 2})\r\n          .then((res)=>res.json())\r\n          .then((result)=>{\r\n              if(result.status == 200 && result.data){\r\n                let obj = {\r\n                  ...baseMsg,\r\n                  avgInfo: result.data\r\n                }\r\n                setBaseMsgInfo(obj);\r\n              }\r\n          })\r\n          //获取本人或班级身高体重信息\r\n          url = BasicProxy + \"/api/healthy/studentHealthInfo?studentId=\" + UserID;\r\n          fetch\r\n          .get({url, securityLevel: 2})\r\n          .then((res)=>res.json())\r\n          .then((result)=>{\r\n              if(result.status == 200 && result.data){\r\n                let obj = {\r\n                  ...baseMsg,\r\n                  baseInfo: result.data\r\n                }\r\n                setBaseMsgInfo(obj);\r\n              }\r\n          })\r\n        }\r\n        \r\n    }, [term, currentClass, currentGrade, userIdentity]);\r\n    return (\r\n      <div className=\"stu-condition\">\r\n        <Bar\r\n          barName={\"基本情况\"}\r\n          ref={baseMsg}\r\n          // topContext={\r\n          //   HasHistory?\r\n          //   <div className=\"module-link-group\">\r\n          //     <span \r\n          //     className=\"status\" \r\n          //     onClick={()=>setDetailVisible(true)}>\r\n          //       查看身高体重详情信息\r\n          //     </span>\r\n          //   </div>\r\n          //   :false}\r\n          loading={false}\r\n        >\r\n            <HealthBaseMsg \r\n            userIdentity={userIdentity} \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            data={baseMsgInfo} />\r\n        </Bar>\r\n        <Bar loading={false} barName={\"身体健康\"} ref={bodyHealth}>\r\n            <BodyHealth \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            userIdentity={userIdentity} />\r\n        </Bar>\r\n        {/* <Bar loading={false} barName={\"心理健康\"} ref={mindHealth}>\r\n            <MindHealth  \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            userIdentity={userIdentity} />\r\n        </Bar> */}\r\n      </div>\r\n    );\r\n  }\r\n  \r\nconst mapStateToProps = (state) => {\r\n  let { \r\n    commonData:{\r\n      termInfo:{\r\n        HasHistory,\r\n        TermInfo\r\n      },\r\n      userInfo\r\n    } \r\n  } = state;\r\n  // console.log(state)\r\n  return {HasHistory, TermInfo, userInfo};\r\n}\r\n  export default connect(mapStateToProps)(memo(forwardRef(HealthMsg)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Progress } from \"antd\";\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction AwardPunishRank(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        currentGrade,\r\n        currentClass\r\n    } = props;\r\n    const [awardList, setAwardList] = useState([]);\r\n    const [punishList, setPunishList] = useState([]);\r\n    useEffect(() => {\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        if(!currentClass || !currentTermInfo.startDate || !currentTermInfo.endDate){\r\n            return;\r\n        }\r\n        //获取奖励排行信息\r\n        let url = BasicProxy + \"/api/punishAndReward/rewards/rank?classId=\" + currentClass +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setAwardList(result.data);\r\n            }\r\n        })\r\n        //获取处罚排行信息\r\n        url = BasicProxy + \"/api/punishAndReward/punishment/rank?classId=\" + currentClass +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setPunishList(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm,currentClass])\r\n    return (\r\n        <div className=\"award-punish-rank\">\r\n            <div className=\"award-rank\">\r\n                <i className=\"award-logo\"></i>\r\n                <ul className=\"rank-list\">\r\n                    {\r\n                        awardList.length > 0?\r\n                        awardList.map((item, index)=>{\r\n                            return (\r\n                                <li key={index}>\r\n                                    <i className=\"ranklogo one\"></i>\r\n                                    <img src={item.userImageUrl}/>\r\n                                    <span \r\n                                    className=\"rank-name\"\r\n                                    title={item.username}\r\n                                    >{item.username}</span>\r\n                                    <span \r\n                                    className={\"rank-grade \" + \r\n                                    (index == 0? \"one\": \r\n                                    index == 1? \"two\": \r\n                                    index == 2? \"three\": \r\n                                    \"\")}\r\n                                    title={item.rewardsCount}\r\n                                    >获得{item.rewardsCount}个奖项</span>\r\n                                </li>\r\n                            )\r\n                        }):\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                </ul>   \r\n            </div>\r\n            <div className=\"slice-line\"></div>\r\n            <div className=\"punish-rank\">\r\n                <i className=\"punish-logo\"></i>\r\n                <ul className=\"rank-list\">\r\n                    {\r\n                        punishList.length > 0?\r\n                        punishList.map((item, index)=>{\r\n                            return (\r\n                                <li key={index}>\r\n                                    <i className=\"ranklogo one\"></i>\r\n                                    <img src={item.userImageUrl}/>\r\n                                    <span \r\n                                    className=\"rank-name\"\r\n                                    title={item.username}\r\n                                    >{item.username}</span>\r\n                                    <span \r\n                                    className={\"rank-grade \" + \r\n                                    (index == 0? \"one\": \r\n                                    index == 1? \"two\": \r\n                                    index == 2? \"three\": \r\n                                    \"\")}\r\n                                    title={item.punishCount}\r\n                                    >获得{item.punishCount}个奖项</span>\r\n                                </li>\r\n                            )\r\n                        }):\r\n                        <Empty\r\n                        className={\"bar-empty\"}\r\n                        title={\"暂无数据\"}\r\n                        type={\"4\"}\r\n                        ></Empty>\r\n                    }\r\n                </ul>   \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash },\r\n    } = state;\r\n    return { levelHash };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(AwardPunishRank)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport { Progress, Select, Carousel, Popover } from \"antd\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nimport * as echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nimport { data } from \"jquery\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n\r\nfunction AwardMsg(props, ref) {\r\n    let {\r\n        userIdentity,\r\n        currentTerm,\r\n        currentGrade,\r\n        currentClass,\r\n        userInfo: { UserID }\r\n    } = props;\r\n    const [awardList, setAwardList] = useState([]);\r\n    const [listType, setListType] = useState(\"day\");\r\n    const awardLevelList = {\r\n        \"1\": '一等奖',\r\n        \"2\": '二等奖',\r\n        \"3\": '三等奖',\r\n        \"-1\": '其他'\r\n    };\r\n    let colorList = [\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#1da4fe'\r\n        },{\r\n            offset: 1,\r\n            color: '#7ecbff'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#51ca51'\r\n        },{\r\n            offset: 1,\r\n            color: '#a0dea0'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#F79750'\r\n        },{\r\n            offset: 1,\r\n            color: '#FFB681'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#2D3149'\r\n        },{\r\n            offset: 1,\r\n            color: '#363D71'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#E84956'\r\n        },{\r\n            offset: 1,\r\n            color: '#E9707A'\r\n        }]),\r\n        new graphic.LinearGradient(0, 0, 0, 1, [{\r\n            offset: 0,\r\n            color: '#6E54CC'\r\n        },{\r\n            offset: 1,\r\n            color: '#7E90E9'\r\n        }])\r\n    ];\r\n    useLayoutEffect(()=>{\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        if(!currentTermInfo.startDate || !currentTermInfo.endDate){\r\n            return;\r\n        }\r\n        \r\n        let url;\r\n        if(userIdentity == 'student'){//学生获取本人奖励信息\r\n            url = BasicProxy + \"/api/punishAndReward/rewards/list?studentId=\" + UserID +\r\n            \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n            \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        } else {//老师、领导获取奖励信息\r\n            url = BasicProxy + \"/api/punishAndReward/rewards/list?studentId=\" + \r\n            \"&classId=\" + currentClass +\r\n            \"&gradeId=\" + currentGrade +\r\n            \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n            \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        }\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setAwardList(result.data);\r\n            } else {\r\n                setAwardList(false);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade]);\r\n    useEffect(() => {\r\n        if(!awardList || awardList.length == 0){\r\n            return;\r\n        }\r\n        //获取已有等级列表\r\n        let awardLevelList = awardList.map((item)=>{\r\n            return item.awardLevelName;\r\n        })\r\n        awardLevelList = [...new Set(awardLevelList)];\r\n        let dataList = [];\r\n        awardLevelList.forEach((item)=>{\r\n            let arr = [];\r\n            awardList.forEach((child)=>{\r\n                if(child.awardLevelName == item){\r\n                    arr.push(arr);\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: arr.length\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"rank-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '获奖等级分布图',\r\n                left: 'center',\r\n                top: '80%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0)',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'rgba(0, 0, 0, 0)', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '获奖等级',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true,\r\n                        color: 'auto',\r\n                        formatter: `{b}  {d}%`\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: dataList\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [awardList]);\r\n    useEffect(() => {\r\n        if(!awardList || awardList.length == 0){\r\n            return;\r\n        }\r\n        //获取已有等级列表\r\n        let awardClassList = awardList.map((item)=>{\r\n            return awardLevelList[item.awardClass]? awardLevelList[item.awardClass]: \"其他\";\r\n        })\r\n        awardClassList = [...new Set(awardClassList)];\r\n        let dataList = [];\r\n        awardClassList.forEach((item)=>{\r\n            let arr = [];\r\n            awardList.forEach((child)=>{\r\n                child.awardClass = child.awardClass? child.awardClass: \"-1\";\r\n                if(awardLevelList[child.awardClass] == item){\r\n                    arr.push(arr);\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: arr.length\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"level-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '获奖等级分布图',\r\n                left: 'center',\r\n                top: '80%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0)',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'rgba(0, 0, 0, 0)', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '获奖等级',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true,\r\n                        color: 'auto',\r\n                        formatter: `{b}  {d}%`\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: dataList\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [awardList]);\r\n    useEffect(() => {\r\n        if(!awardList || awardList.length == 0){\r\n            return;\r\n        }\r\n        let legendList = [];\r\n        let myEchart = echarts.init(document.getElementById(\"award-statistic-echart\"));\r\n        myEchart.resize();\r\n        let seriesList = [], gradeDataList = [];\r\n        if(userIdentity == 'manager'){\r\n            legendList = awardList.map((item)=>{\r\n                return item.gradeId;\r\n            })\r\n            //先按年级区分奖项\r\n            legendList.forEach((item)=>{\r\n                let arr = [];\r\n                awardList.forEach((child)=>{\r\n                    if(child.gradeId == item){\r\n                        arr.push(item);\r\n                    }\r\n                })\r\n                let obj = {\r\n                    name: item,\r\n                    data: arr\r\n                }\r\n                gradeDataList.push(obj);\r\n            })\r\n            console.log(gradeDataList)\r\n            //再按日期区别奖项\r\n            // if(listType == 'day'){\r\n            //     //获取所有奖项日期\r\n            //     let dateList = awardList.map((item)=>{\r\n            //         return item.awardDate;\r\n            //     })\r\n            //     //去重\r\n            //     dateList = [...new Set(dateList)];\r\n            //     dateList.forEach((item)=>{\r\n            //         gradeDataList.forEach((child)=>{\r\n            //             let arr = []; \r\n                        \r\n            //             child.data.forEach((child2)=>{\r\n            //                 if(child2.awardDate == item){\r\n            //                     arr.push(child2);\r\n            //                 }\r\n            //             })\r\n            //             child.value = arr.length;\r\n            //         })\r\n            //     })\r\n            // }\r\n            console.log(gradeDataList)\r\n            seriesList = [\r\n                {\r\n                    name:'个人奖项',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:[1, 1, 1, 0, 3]\r\n                },\r\n                {\r\n                    name:'班级奖项',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#2d3047',\r\n                        width: 1,\r\n                        borderColor: '#2d3047',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#2d3047'\r\n                    },\r\n                    data:[3, 3, 3, 2, 3]\r\n                },\r\n                {\r\n                    name:'班级总数',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'年级平均',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                \r\n            ];\r\n        } else if(userIdentity == 'teacher'){\r\n            seriesList = [\r\n                {\r\n                    name:'个人奖项',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:[1, 1, 1, 0, 3]\r\n                },\r\n                {\r\n                    name:'班级奖项',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#2d3047',\r\n                        width: 1,\r\n                        borderColor: '#2d3047',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#2d3047'\r\n                    },\r\n                    data:[3, 3, 3, 2, 3]\r\n                },\r\n                {\r\n                    name:'班级总数',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'年级平均',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                \r\n            ];\r\n        } else {\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:[1, 1, 1, 0, 3]\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:[1, 2, 0, 1, 5]\r\n                },\r\n                \r\n            ];\r\n        }\r\n        let option = {\r\n            title: {\r\n                text: '获奖统计',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: 'center',\r\n                // data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '月份',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: ['一月份','二月份','三月份','四月份','五月份'],\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '次数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [awardList, userIdentity]);\r\n    let updateAwardList = [];\r\n    let arr = [];\r\n    //每9个化为一页，进行轮播\r\n    Array.isArray(awardList) && awardList.forEach((item, index)=>{\r\n        arr.push(item);\r\n        if((index + 1) % 9 == 0 || index == awardList.length - 1){\r\n            updateAwardList.push(arr);\r\n            arr = [];\r\n        }\r\n    })\r\n    return (\r\n        <div className=\"award-info\">\r\n            {\r\n                Array.isArray(awardList) && awardList.length > 0?\r\n                <div>\r\n                    <div className=\"award-info-top\">\r\n                    <div className=\"award-sum\">\r\n                        <Popover\r\n                        placement=\"bottomLeft\"\r\n                        content={\r\n                            <div className=\"circle-tootip\">\r\n                                <p className=\"tooltip-title\">班级获奖情况</p>\r\n                                <ul className=\"tooltip-list\">\r\n                                    <li>班集体获奖次数 <span>22次</span><i className=\"downlogo\"></i></li>\r\n                                    <li>学生个人获奖次数 <span>22次</span><i className=\"uplogo\"></i></li>\r\n                                    <li>年级平均获奖次数 <span>43次</span></li>\r\n                                </ul>\r\n                            </div>\r\n                        }>\r\n                        <div className=\"circle\">\r\n                            {Array.isArray(awardList)? awardList.length: \"--\"}\r\n                        </div>\r\n                        </Popover>\r\n                        <p>\r\n                            {userIdentity == 'teacher'? \r\n                            \"班级\": \r\n                            userIdentity == 'manager'? \r\n                            \"全校\":\r\n                            \"个人\"}获奖总数\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <Carousel\r\n                    dots={{\r\n                        className: 'award-dot'\r\n                    }}>\r\n                        {\r\n                            updateAwardList.map((item, index)=>{\r\n                                return (\r\n                                    <div className=\"award-list\" key={index}>\r\n                                    {\r\n                                        item.map((child, index1)=>{\r\n                                            return (\r\n                                            <div className=\"award-one\" key={index1}>\r\n                                                <i className={\"awardlogo \" + \r\n                                                (\r\n                                                    child.awardLevel == 5 || child.awardClass == 1?\r\n                                                    \"award-1\":\r\n                                                    child.awardLevel == 4 || child.awardClass == 2?\r\n                                                    \"award-2\":\r\n                                                    child.awardLevel == 3 || child.awardClass == 3?\r\n                                                    \"award-3\":\r\n                                                    \"\"\r\n                                                )\r\n                                                }></i>\r\n                                                <p title={child.awardLevelName + child.awardName}>\r\n                                                    {child.awardLevelName + child.awardName}\r\n                                                </p>\r\n                                                <p title={awardLevelList[child.awardClass]}>\r\n                                                    {awardLevelList[child.awardClass]}\r\n                                                </p>\r\n                                                {\r\n                                                    userIdentity == 'manager'?\r\n                                                    <p \r\n                                                    title={child.studentName}\r\n                                                    style={{color: '#ff6600'}}\r\n                                                    >[{child.studentName}]</p>:\r\n                                                    \"\"\r\n                                                }\r\n                                            </div>\r\n                                            )\r\n                                        })\r\n                                    }  \r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Carousel>\r\n                </div>\r\n                <div className=\"award-pie-echart\">\r\n                    <div className=\"rank-position-echart\" id=\"rank-position-echart\"></div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"level-position-echart\" id=\"level-position-echart\"></div>\r\n                </div>\r\n                <div className=\"award-bar-container\">\r\n                    <div className=\"select-container\">\r\n                        <span>时间:</span>\r\n                        <Select \r\n                        defaultValue=\"day\" \r\n                        className=\"select\" \r\n                        onChange={(value)=>setListType(value)}>\r\n                            <Option value=\"day\">按天数</Option>\r\n                            <Option value=\"week\">按周次</Option>\r\n                            <Option value=\"month\">按月份</Option>\r\n                        </Select>\r\n                    </div>\r\n                    <div className=\"award-statistic-echart\" id=\"award-statistic-echart\"></div>\r\n                </div>\r\n                </div>:\r\n                <Empty\r\n                // className={\"list-empty\"}\r\n                style={{marginTop: 40}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }\r\n           \r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash, userInfo },\r\n    } = state;\r\n    return { levelHash, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(AwardMsg)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\nimport { Progress, Select, Carousel } from \"antd\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nimport * as echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nimport { data } from \"jquery\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n\r\nfunction PunishMsg(props, ref) {\r\n    let {\r\n        userIdentity,\r\n        currentTerm,\r\n        currentGrade,\r\n        currentClass,\r\n        userInfo: { UserID,SchoolID }\r\n    } = props;\r\n    const [punishInfo, setPunishInfo] = useState([]);\r\n    const [punishList, setPunishList] = useState([]);\r\n    //日期类型，1按月，2按周，3按日\r\n    const [currentDataType, setCurrentDataType] = useState(\"3\");\r\n    \r\n    useLayoutEffect(()=>{\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        if(!currentTermInfo.startDate || !currentTermInfo.endDate){\r\n            return;\r\n        }\r\n        \r\n        let url;\r\n        // if(userIdentity == 'student'){//\r\n            url = BasicProxy + \"/api/punishAndReward/punishment/list?studentId=\" + (\r\n                userIdentity == \"student\"?\r\n                UserID:\r\n                \"\"\r\n            ) +\r\n            \"&classId=\" + currentClass +\r\n            \"&gradeId=\" + currentGrade +\r\n            \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n            \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        // }\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setPunishList(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade]);\r\n    useLayoutEffect(()=>{\r\n        let currentTermInfo = currentTerm.value && JSON.parse(currentTerm.value);\r\n        if(!currentTermInfo.startDate || !currentTermInfo.endDate){\r\n            return;\r\n        }\r\n        \r\n        let url;\r\n        // if(userIdentity == 'student'){//\r\n            url = BasicProxy + \"/api/punishAndReward/punishment/distribution?id=\" + (\r\n                userIdentity == \"student\"?\r\n                UserID:\r\n                userIdentity == \"teacher\"?\r\n                currentClass:\r\n                userIdentity == \"manager\"?\r\n                currentClass?\r\n                currentClass:\r\n                currentGrade?\r\n                currentGrade:\r\n                SchoolID:\r\n                \"\"\r\n            ) +\r\n            \"&queryType=\" + (\r\n                userIdentity == \"student\"?\r\n                1:\r\n                userIdentity == \"teacher\"?\r\n                2:\r\n                userIdentity == \"manager\"?\r\n                currentClass?\r\n                2:\r\n                currentGrade?\r\n                3:\r\n                4:\r\n                \"\"\r\n            ) +\r\n            \"&periodType=\" + currentDataType +\r\n            \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n            \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        // }\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && Array.isArray(result.data)){\r\n                setPunishInfo(result.data);\r\n            }\r\n        })\r\n    }, [currentTerm, currentClass, currentGrade, currentDataType]);\r\n    useEffect(() => {\r\n        let myEchart = echarts.init(document.getElementById(\"punish-statistic-echart\"));\r\n        myEchart.resize();\r\n        let myList = [], classList = [], gradeList = [], xList = [];\r\n        punishInfo && punishInfo.forEach((item)=>{\r\n            myList.push(item.personalTimes);\r\n            classList.push(item.classTimes);\r\n            gradeList.push(item.gradeTimes);\r\n            xList.push(item.month);\r\n        })\r\n        let seriesList = [];\r\n        if(userIdentity == 'teacher'){\r\n            seriesList = [\r\n                {\r\n                    name:'个人奖项',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                // {\r\n                //     name:'班级奖项',\r\n                //     type:'line',\r\n                //     lineStyle: {\r\n                //         color: '#2d3047',\r\n                //         width: 1,\r\n                //         borderColor: '#2d3047',\r\n                //         emphasis: {\r\n                //             width: 1\r\n                //         }\r\n                //     },\r\n                //     itemStyle: {\r\n                //         color: '#2d3047'\r\n                //     },\r\n                //     data:[3, 3, 3, 2, 3]\r\n                // },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级平均',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ];\r\n        } else {\r\n            seriesList = [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ];\r\n        }\r\n        let option = { \r\n            grid: {\r\n                top: 40,\r\n                bottom: 40,\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            backgroundColor: '#f5f5f5',\r\n            legend: {\r\n                top: '7px',\r\n                left: (userIdentity == 'teacher'?'30%': '58%'),\r\n                // data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '月份',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '百分比',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: seriesList\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    let classCount = 0, stuCount = 0, gradeCount = 0, schoolCount = 0;\r\n    punishList.forEach((item)=>{\r\n        if(item.punishmentType == 3){\r\n            classCount++;\r\n        }\r\n        if(item.punishmentType == 2){\r\n            gradeCount++;\r\n        }\r\n        if(item.punishmentType == 1){\r\n            stuCount++;\r\n        }\r\n        if(item.punishmentLevel == 1){\r\n            schoolCount++;\r\n        }\r\n    })\r\n    \r\n    return (\r\n        <div className=\"punish-info\">\r\n            <div className=\"punish-left\">\r\n                {\r\n                    userIdentity == 'teacher'?\r\n                    <p className=\"punish-count\">\r\n                        班级处罚总数\r\n                        <span style={{color: '#333333'}}>{classCount}次</span>;\r\n                        年级平均处罚数\r\n                        <span style={{color: '#ff0000'}}>{gradeCount}次</span>\r\n                    </p>:\r\n                    <p className=\"punish-count\">\r\n                        个人处罚总数\r\n                        <span style={{color: '#333333'}}>{stuCount}次</span>;\r\n                        班级平均处罚数\r\n                        <span style={{color: '#ff0000'}}>{classCount}次</span>;\r\n                        年级平均处罚数\r\n                        <span style={{color: '#ff0000'}}>{gradeCount}次</span>\r\n                    </p>\r\n                }\r\n                <div className=\"circle-container\">\r\n                    <div className=\"punish-kind-info\">\r\n                        <div className=\"circle blue\">{schoolCount}</div>\r\n                        <p>校级处罚</p>\r\n                    </div>\r\n                    <div className=\"punish-kind-info\">\r\n                        <div className=\"circle orange\">{gradeCount}</div>\r\n                        <p>年级处罚</p>\r\n                    </div>\r\n                    <div className=\"punish-kind-info\">\r\n                        <div className=\"circle red\">{classCount}</div>\r\n                        <p>班级处罚</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"punish-right\">\r\n                    <div className=\"echart-title\">\r\n                        <span>处罚统计</span>\r\n                        <Select value={currentDataType} className=\"select\" onChange={(value)=>setCurrentDataType(value)}>\r\n                            <Option value=\"3\">按天数</Option>\r\n                            <Option value=\"2\">按周次</Option>\r\n                            <Option value=\"1\">按月份</Option>\r\n                        </Select>\r\n                    </div>\r\n                <div className=\"punish-statistic-echart\" id=\"punish-statistic-echart\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        commonData: { levelHash, userInfo },\r\n    } = state;\r\n    return { levelHash, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(PunishMsg)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n  } from \"react-redux\";\r\n  import React, {\r\n    // useCallback,\r\n    memo,\r\n    useEffect,\r\n    useState,\r\n    useImperativeHandle,\r\n    useRef,\r\n    useLayoutEffect,\r\n    forwardRef,\r\n  } from \"react\";\r\n  import \"./index.scss\";\r\n  import Bar from \"../../../component/bar\";\r\n  import AwardPunishRank from \"./awardPunishRank\";\r\n  import AwardMsg from \"./awardMsg\";\r\n  import PunishMsg from \"./punishMsg\";\r\n  import Track from \"../../../component/Track\";\r\n  function AwardAndPunish(props, ref) {\r\n    // *selectLevel:这里的selectLevel与用户的没关系，与看的级别有关，例如教育局的看学校的，selectLevel===2\r\n    // *productLevel:产品类型，给用户看的界面类型，用来控制界面的一些属性：1教育局，2大学学校，3教育局学校，4大学学院，\r\n    // *product:包含该productLevel的所有信息,有使用组件者使用productLevel和commonData的levelHash匹配使用，必须传，不传将出问题\r\n    let {\r\n      term,\r\n      HasHistory,\r\n      onAnchorComplete,\r\n      schoolID,\r\n      collegeID,\r\n      productMsg,\r\n      userIdentity,\r\n      currentClass,\r\n      currentGrade\r\n    } = props;\r\n    console.log(props);\r\n    const [awardVisible, setAwardVisible] = useState(false);\r\n    const [punishVisible, setPunishVisible] = useState(false);\r\n    // const [myGrade, setCurrentGrade] = useState(\"\");\r\n    // const [myClass, setCurrentClass] = useState(\"\");\r\n    const awardPunishMsg = useRef(null);\r\n    const awardMsg = useRef(null);\r\n    const punishMsg = useRef(null);\r\n    const trackRef = useRef(null);\r\n    // useEffect(() => {\r\n    //   setCurrentClass(currentClass);\r\n    // }, [currentClass])\r\n    // useEffect(() => {\r\n    //   setCurrentGrade(currentGrade);\r\n    // }, [currentGrade])\r\n    useLayoutEffect(() => {\r\n      // setAnchorList();\r\n      typeof onAnchorComplete === \"function\" &&\r\n        onAnchorComplete([\r\n          { ref: awardPunishMsg.current, name: \"奖惩排行\" },\r\n          { ref: awardMsg.current, name: \"获奖情况\" },\r\n          { ref: punishMsg.current, name: \"处罚情况\" },\r\n        //   { ref: schoolAttendance.current, name: \"学校考勤\" },\r\n          { ref: trackRef.current, name: \"奖惩轨迹\" },\r\n        ]);\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    // 初始请求\r\n    return (\r\n      <div className=\"award-and-punish\">\r\n          {\r\n            userIdentity == 'teacher' || userIdentity == 'manager'?\r\n            <Bar loading={false} barName={\"奖惩排行\"} ref={awardPunishMsg}>\r\n                <AwardPunishRank \r\n                userIdentity={userIdentity} \r\n                currentTerm={term}\r\n                currentClass={currentClass}\r\n                currentGrade={currentGrade} />\r\n            </Bar>:\r\n            \"\"\r\n          }\r\n        \r\n        <Bar\r\n          barName={\"获奖情况\"}\r\n          ref={awardMsg}\r\n          // topContext={\r\n          //   HasHistory?\r\n          //   <div className=\"module-link-group\">\r\n          //     <span \r\n          //     className=\"status\" \r\n          //     onClick={()=>setAwardVisible(true)}>\r\n          //       查看获奖详情信息\r\n          //     </span>\r\n          //   </div>\r\n          //   :false}\r\n          loading={false}\r\n        >\r\n            <AwardMsg\r\n            userIdentity={userIdentity} \r\n            currentTerm={term}\r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade} />\r\n        </Bar>\r\n        <Bar \r\n        loading={false} \r\n        barName={\"处罚情况\"} \r\n        ref={punishMsg}\r\n        // topContext={\r\n        // HasHistory?\r\n        // <div className=\"module-link-group\">\r\n        //     <span \r\n        //     className=\"status\" \r\n        //     onClick={()=>setPunishVisible(true)}>\r\n        //     查看处罚详情信息\r\n        //     </span>\r\n        // </div>\r\n        // :false}\r\n        >\r\n            <PunishMsg\r\n            userIdentity={userIdentity}\r\n            currentTerm={term}\r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade} />\r\n        </Bar>\r\n        <Bar loading={false} barName={\"奖惩轨迹\"} ref={trackRef}>\r\n            <Track />\r\n        </Bar>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  const mapStateToProps = (state) => {\r\n    let { commonData:{termInfo:{HasHistory}} } = state;\r\n    // console.log(state)\r\n    return {HasHistory};\r\n  };\r\n  export default connect(mapStateToProps)(memo(forwardRef(AwardAndPunish)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\n// import echarts from \"echarts\";\r\nimport {Select} from \"antd\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction MyLive(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n      } = props;\r\n    const [liveData, setLiveData] = useState({});\r\n    const [liveList, setLiveList] = useState([]);\r\n    const [currentDataType, setCurrentDataType] = useState(\"3\");\r\n    useLayoutEffect(() => {\r\n        //作息\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/campusLife/rest/average?studentId=\" + (\r\n          userIdentity == \"student\"?\r\n          UserID:\r\n          \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setLiveData(result.data);\r\n            }\r\n        })\r\n  \r\n        url = BasicProxy + \"/api/campusLife/rest/distribution?id=\" + (\r\n          userIdentity == \"student\"?\r\n          UserID:\r\n          userIdentity == \"teacher\"?\r\n          currentClass:\r\n          userIdentity == \"manager\"?\r\n          currentClass?\r\n          currentClass:\r\n          currentGrade?\r\n          currentGrade:\r\n          SchoolID:\r\n          \"\"\r\n        ) +\r\n        \"&queryType=\" + (\r\n            userIdentity == \"student\"?\r\n            1:\r\n            userIdentity == \"teacher\"?\r\n            2:\r\n            userIdentity == \"manager\"?\r\n            currentClass?\r\n            2:\r\n            currentGrade?\r\n            3:\r\n            4:\r\n            \"\"\r\n        ) +\r\n        \"&periodType=\" + currentDataType +\r\n        // \"&gradeId=\" + currentGrade +\r\n        // \"&schoolId=\" + SchoolID +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setLiveList(result.data);\r\n            }\r\n        })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentDataType]);\r\n    useEffect(() => {\r\n        if(liveList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], inList = [], outList = [], homeList = [], courseList = [];\r\n        liveList.forEach((item)=>{\r\n            xList.push(item.month);\r\n            inList.push(item.classAverageInCampusTime);\r\n            outList.push(item.classAverageOutCampusTime);\r\n            homeList.push(item.classAverageDormitoryTime);\r\n            courseList.push(item.classLengthOfClassTime);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"kinds-time-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '个人各项时长',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 8? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: 'center',\r\n                // data:['上课时长','宿舍时长','校内时长', '校外时长'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '月份',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '次数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 8? true: false,\r\n                maxValueSpan: 7,\r\n                height: 2,\r\n                start: 0,\r\n                end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            series: [\r\n                {\r\n                    name:'上课时长',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#2d3047'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#363d72'\r\n                        }])\r\n                    },\r\n                    data:courseList\r\n                },\r\n                {\r\n                    name:'宿舍时长',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#ffb709'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#ffe88a'\r\n                        }])\r\n                    },\r\n                    data:homeList\r\n                },\r\n                {\r\n                    name:'校内时长',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#80c35c'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#b3f093'\r\n                        }])\r\n                    },\r\n                    data:inList\r\n                },\r\n                {\r\n                    name:'校外时长',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:outList\r\n                },\r\n                \r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentDataType, liveList]);  \r\n\r\n    return (\r\n      <div className=\"my-live\">\r\n            <div className=\"show-top\">\r\n                <div className=\"course-time\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">上课时长: <span>\r\n                    {\r\n                    userIdentity == \"student\"?\r\n                    liveData.studentLengthOfClassTime:\r\n                    userIdentity == \"teacher\"?\r\n                    liveData.classLengthOfClassTime:\r\n                    userIdentity == \"manager\"?\r\n                    liveData.gradeLengthOfClassTime:\r\n                    \"--\"\r\n                    }\r\n                    h</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:\r\n                            {liveData.gradeLengthOfClassTime?liveData.gradeLengthOfClassTime: \"--\"}\r\n                        </p>:\r\n                        <p>\r\n                            班级平均:{liveData.classLengthOfClassTime?liveData.classLengthOfClassTime: \"--\"}; \r\n                            年级平均:{liveData.gradeLengthOfClassTime?liveData.gradeLengthOfClassTime: \"--\"}\r\n                        </p>\r\n                    }\r\n                </div>\r\n                <div className=\"schoolhome-time\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">宿舍时长: <span>\r\n                    {\r\n                    userIdentity == \"student\"?\r\n                    liveData.studentAverageDormitoryTime\t:\r\n                    userIdentity == \"teacher\"?\r\n                    liveData.classAverageDormitoryTime:\r\n                    userIdentity == \"manager\"?\r\n                    liveData.gradeAverageDormitoryTime:\r\n                    \"--\"\r\n                    }h</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:{liveData.gradeAverageDormitoryTime? liveData.gradeAverageDormitoryTime: \"--\"}</p>:\r\n                        <p>班级平均:{liveData.classAverageDormitoryTime? liveData.classAverageDormitoryTime: \"--\"}; \r\n                            年级平均:{liveData.gradeAverageDormitoryTime? liveData.gradeAverageDormitoryTime: \"--\"}</p>\r\n                    }\r\n                </div>\r\n                <div className=\"school-in-time\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">校内时长: <span>{\r\n                    userIdentity == \"student\"?\r\n                    liveData.studentAverageInCampusTime:\r\n                    userIdentity == \"teacher\"?\r\n                    liveData.classAverageInCampusTime:\r\n                    userIdentity == \"manager\"?\r\n                    liveData.gradeAverageInCampusTime:\r\n                    \"--\"\r\n                    }h</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:{liveData.gradeAverageInCampusTime? liveData.gradeAverageInCampusTime: \"--\"}</p>:\r\n                        <p>班级平均:{liveData.classAverageInCampusTime? liveData.classAverageInCampusTime: \"--\"}; \r\n                            年级平均:{liveData.gradeAverageInCampusTime? liveData.gradeAverageInCampusTime: \"--\"}</p>\r\n                    }\r\n                </div>\r\n                <div className=\"school-out-time\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">校外时长: <span>{\r\n                    userIdentity == \"student\"?\r\n                    liveData.studentAverageOutCampusTime:\r\n                    userIdentity == \"teacher\"?\r\n                    liveData.classAverageOutCampusTime:\r\n                    userIdentity == \"manager\"?\r\n                    liveData.gradeAverageOutCampusTime:\r\n                    \"--\"\r\n                    }h</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:{liveData.gradeAverageOutCampusTime? liveData.gradeAverageOutCampusTime: \"--\"}</p>:\r\n                        <p>班级平均:{liveData.classAverageOutCampusTime? liveData.classAverageOutCampusTime: \"--\"}; \r\n                        年级平均:{liveData.gradeAverageOutCampusTime? liveData.gradeAverageOutCampusTime: \"--\"}</p>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className=\"select-container\">\r\n                <span>时间:</span>\r\n                <Select value={currentDataType} className=\"select\" onChange={(value)=>setCurrentDataType(value)}>\r\n                    <Option value=\"3\">按天数</Option>\r\n                    <Option value=\"2\">按周次</Option>\r\n                    <Option value=\"1\">按月份</Option>\r\n                </Select>\r\n            </div>\r\n            <div className=\"show-bottom\">\r\n                {\r\n                    liveList.length > 0?\r\n                    <div className=\"kinds-time-echart\" id=\"kinds-time-echart\"></div>:\r\n                    <Empty\r\n                    // className={\"bar-empty\"}\r\n                    style={{margin: \"20px 0\"}}\r\n                    title={\"暂无数据\"}\r\n                    type={\"4\"}\r\n                    ></Empty>\r\n                }\r\n                    \r\n            </div>\r\n      </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(MyLive)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\n// import echarts from \"echarts\";\r\nimport {Select} from \"antd\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nimport Item from \"antd/lib/list/Item\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction MyConsume(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n      } = props;\r\n    const [currentDataType, setCurrentDataType] = useState(\"3\");\r\n    const [consumeList, setConsumeList] = useState([]);\r\n    const [consumeGradeList, setConsumeGradeList] = useState([]);\r\n    const [consumeClassList, setConsumeClassList] = useState([]);\r\n    const [consumeStatisticList, setConsumeStatisticList] = useState([]);\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/campusLife/consumption/list?studentId=\" + (\r\n          userIdentity == \"student\"?\r\n          UserID:\r\n          \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setConsumeList(result.data);\r\n            }\r\n        }) \r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let  url = BasicProxy + \"/api/campusLife/consumption/distribution?id=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            userIdentity == \"teacher\"?\r\n            currentClass:\r\n            userIdentity == \"manager\"?\r\n            currentClass?\r\n            currentClass:\r\n            currentGrade?\r\n            currentGrade:\r\n            SchoolID:\r\n            \"\"\r\n          ) +\r\n          \"&queryType=\" + (\r\n              userIdentity == \"student\"?\r\n              1:\r\n              userIdentity == \"teacher\"?\r\n              2:\r\n              userIdentity == \"manager\"?\r\n              currentClass?\r\n              2:\r\n              currentGrade?\r\n              3:\r\n              4:\r\n              \"\"\r\n          ) +\r\n          \"&periodType=\" + currentDataType +\r\n          // \"&gradeId=\" + currentGrade +\r\n          // \"&schoolId=\" + SchoolID +\r\n          \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n          \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n          fetch\r\n          .get({url, securityLevel: 2})\r\n          .then((res)=>res.json())\r\n          .then((result)=>{\r\n              if(result.status == 200 && result.data){\r\n                setConsumeStatisticList(result.data);\r\n              }\r\n          })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentDataType]);\r\n   //获取班级数据\r\n   useLayoutEffect(() => {\r\n    let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n    let url = BasicProxy + \"/api/campusLife/consumption/list?studentId=\" +\r\n    \"&gradeId=&classId=\" + currentClass +\r\n    \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n    \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          setConsumeClassList(result.data);\r\n        }\r\n    }) \r\n}, [userIdentity, currentGrade, currentClass, currentTerm, currentDataType]);\r\n    //获取年级数据\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/campusLife/consumption/list?studentId=\" +\r\n        \"&classId=&gradeId=\" + currentGrade +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setConsumeGradeList(result.data);\r\n            }\r\n        }) \r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentDataType]);\r\n    \r\n    useEffect(() => {\r\n        if(consumeList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], dataList = [];\r\n        consumeList.forEach((item)=>{\r\n            xList.push(item.type);\r\n        })\r\n        xList = [...new Set(xList)];\r\n        xList.forEach((item)=>{\r\n            let sum = 0;\r\n            consumeList.forEach((child)=>{\r\n                if(child.type == item){\r\n                    sum += 1;\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: sum\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"consume-kind-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '消费类别分布图',\r\n                left: 'center',\r\n                top: '81%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '消费类别',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: dataList\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    useEffect(() => {\r\n        if(consumeList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], dataList = [];\r\n        consumeList.forEach((item)=>{\r\n            xList.push(item.place);\r\n        })\r\n        xList = [...new Set(xList)];\r\n        xList.forEach((item)=>{\r\n            let sum = 0;\r\n            consumeList.forEach((child)=>{\r\n                if(child.place == item){\r\n                    sum += 1;\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: sum\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"consume-area-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '消费地点分布图',\r\n                left: 'center',\r\n                top: '81%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '消费地点',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: dataList\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    useEffect(() => {\r\n        if(consumeList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], dataList = [];\r\n        consumeList.forEach((item)=>{\r\n            xList.push(item.orderDate);\r\n        })\r\n        xList = [...new Set(xList)];\r\n        xList.forEach((item)=>{\r\n            let sum = 0;\r\n            consumeList.forEach((child)=>{\r\n                if(child.orderDate == item){\r\n                    sum += 1;\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: sum\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"consume-time-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '消费时间分布图',\r\n                left: 'center',\r\n                top: '81%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '消费时间',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: dataList\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    useEffect(() => {\r\n        if(consumeStatisticList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], myList = [], classList = [], gradeList = [];\r\n        consumeStatisticList.forEach((item)=>{\r\n            xList.push(item.month);\r\n            myList.push(item.personalCount);\r\n            classList.push(item.classCount);\r\n            gradeList.push(item.gradeCount);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"consume-sum-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '消费总额',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: '58%',\r\n                data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '月份',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                start: 0,\r\n                end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '次数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentDataType, consumeStatisticList]);\r\n    useEffect(() => {\r\n        if(consumeStatisticList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], myList = [], classList = [], gradeList = [];\r\n        consumeStatisticList.forEach((item)=>{\r\n            xList.push(item.month);\r\n            myList.push(item.personalTimes);\r\n            classList.push(item.classTimes);\r\n            gradeList.push(item.gradeTimes);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"consume-count-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '消费次数',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: '58%',\r\n                data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '月份',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                start: 0,\r\n                end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '次数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentDataType, consumeStatisticList]);\r\n    let gradeSum = 0, \r\n    gradeCount = consumeGradeList.length, sum = 0, classSum = 0, count = consumeList.length, \r\n    classCount = consumeClassList.length;\r\n    consumeList.forEach((item)=>{\r\n        sum += item.count;\r\n    })\r\n    consumeClassList.forEach((item)=>{\r\n        classSum += item.count;\r\n    })\r\n    consumeGradeList.forEach((item)=>{\r\n        gradeSum += item.count;\r\n    })\r\n    return (\r\n        <div className=\"my-consume\">\r\n            <div className=\"show-top\">\r\n                <div className=\"consume-level\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">消费水平: <span>--</span></p>\r\n                    <p>--</p>\r\n                </div>\r\n                <div className=\"consume-sum\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">消费总额: <span>{sum}</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:{gradeSum}</p>:\r\n                        <p>班级平均:{classSum}; 年级平均:{gradeSum}</p>\r\n                    }\r\n                </div>\r\n                <div className=\"consume-count\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">消费次数: <span>{count}</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:{gradeCount}</p>:\r\n                        <p>班级平均:{gradeCount}; 年级平均:{gradeCount}</p>\r\n                    }\r\n                </div>\r\n                <div className=\"consume-frequency\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">消费频率: <span>--次/天</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:--</p>:\r\n                        <p>班级平均:--; 年级平均:--</p>\r\n                    }\r\n                </div>\r\n            </div>\r\n            {\r\n                consumeList.length > 0?\r\n                <div className=\"show-center\">\r\n                    <div className=\"consume-kind-echart\" id=\"consume-kind-echart\"></div>      \r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"consume-area-echart\" id=\"consume-area-echart\"></div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"consume-time-echart\" id=\"consume-time-echart\"></div>\r\n                </div>  :\r\n                <Empty\r\n                className={\"bar-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }\r\n        \r\n            <div className=\"select-container\">\r\n                <span>时间:</span>\r\n                <Select value={currentDataType} className=\"select\" onChange={(value)=>setCurrentDataType(value)}>\r\n                    <Option value=\"3\">按天数</Option>\r\n                    <Option value=\"2\">按周次</Option>\r\n                    <Option value=\"1\">按月份</Option>\r\n                </Select>\r\n            </div>\r\n            {\r\n                consumeStatisticList.length > 0?\r\n                <div className=\"show-bottom\">\r\n                \r\n                    <div className=\"consume-sum-echart\" id=\"consume-sum-echart\"></div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"consume-count-echart\" id=\"consume-count-echart\"></div>\r\n                </div>:\r\n                <Empty\r\n                // className={\"bar-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }   \r\n            \r\n        </div>\r\n    );\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(MyConsume)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\n// import echarts from \"echarts\";\r\nimport {Select} from \"antd\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction MyInternet(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n      } = props;\r\n    const [currentDataType, setCurrentDataType] = useState(\"3\");\r\n    const [internetList, setInternetList] = useState([]);\r\n    const [internetGradeList, setInternetGradeList] = useState([]);\r\n    const [internetClassList, setInternetClassList] = useState([]);\r\n    const [internetStatisticList, setInternetStatisticList] = useState([]);\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/campusLife/networkLog/list?studentId=\" + (\r\n          userIdentity == \"student\"?\r\n          UserID:\r\n          \"\"\r\n        ) +\r\n        \"&classId=\" + currentClass +\r\n        \"&gradeId=\" + currentGrade +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setInternetList(result.data);\r\n            }\r\n        }) \r\n    }, [userIdentity, currentGrade, currentClass, currentTerm]);\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let  url = BasicProxy + \"/api/campusLife/networkLog/distribution?id=\" + (\r\n            userIdentity == \"student\"?\r\n            UserID:\r\n            userIdentity == \"teacher\"?\r\n            currentClass:\r\n            userIdentity == \"manager\"?\r\n            currentClass?\r\n            currentClass:\r\n            currentGrade?\r\n            currentGrade:\r\n            SchoolID:\r\n            \"\"\r\n          ) +\r\n          \"&queryType=\" + (\r\n              userIdentity == \"student\"?\r\n              1:\r\n              userIdentity == \"teacher\"?\r\n              2:\r\n              userIdentity == \"manager\"?\r\n              currentClass?\r\n              2:\r\n              currentGrade?\r\n              3:\r\n              4:\r\n              \"\"\r\n          ) +\r\n          \"&periodType=\" + currentDataType +\r\n          // \"&gradeId=\" + currentGrade +\r\n          // \"&schoolId=\" + SchoolID +\r\n          \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n          \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n          fetch\r\n          .get({url, securityLevel: 2})\r\n          .then((res)=>res.json())\r\n          .then((result)=>{\r\n              if(result.status == 200 && result.data){\r\n                setInternetStatisticList(result.data);\r\n              }\r\n          })\r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentDataType]);\r\n     //获取班级数据\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/campusLife/networkLog/list?studentId=\" +\r\n        \"&gradeId=&classId=\" + currentClass +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n            setInternetClassList(result.data);\r\n            }\r\n        }) \r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentDataType]);\r\n    //获取年级数据\r\n    useLayoutEffect(() => {\r\n        let currentTermInfo = currentTerm.value? JSON.parse(currentTerm.value): {};  \r\n        let url = BasicProxy + \"/api/campusLife/networkLog/list?studentId=\" +\r\n        \"&classId=&gradeId=\" + currentGrade +\r\n        \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) +\r\n        \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setInternetGradeList(result.data);\r\n            }\r\n        }) \r\n    }, [userIdentity, currentGrade, currentClass, currentTerm, currentDataType]);\r\n    \r\n    useEffect(() => {\r\n        if(internetList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], dataList = [];\r\n        internetList.forEach((item)=>{\r\n            xList.push(item.type);\r\n        })\r\n        xList = [...new Set(xList)];\r\n        xList.forEach((item)=>{\r\n            let sum = 0;\r\n            internetList.forEach((child)=>{\r\n                if(child.type == item){\r\n                    sum += 1;\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: sum\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"kind-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '上网类别分布图',\r\n                left: 'center',\r\n                top: '81%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '访问来源',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: [1, 2, 3, 4, 5]\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    useEffect(() => {\r\n        if(internetList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], dataList = [];\r\n        internetList.forEach((item)=>{\r\n            xList.push(item.place);\r\n        })\r\n        xList = [...new Set(xList)];\r\n        xList.forEach((item)=>{\r\n            let sum = 0;\r\n            internetList.forEach((child)=>{\r\n                if(child.place == item){\r\n                    sum += 1;\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: sum\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"place-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '上网地点分布图',\r\n                left: 'center',\r\n                top: '81%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '访问来源',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: dataList\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    useEffect(() => {\r\n        if(internetList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], dataList = [];\r\n        internetList.forEach((item)=>{\r\n            xList.push(item.orderDate);\r\n        })\r\n        xList = [...new Set(xList)];\r\n        xList.forEach((item)=>{\r\n            let sum = 0;\r\n            internetList.forEach((child)=>{\r\n                if(child.orderDate == item){\r\n                    sum += 1;\r\n                }\r\n            })\r\n            let obj = {\r\n                name: item,\r\n                value: sum\r\n            }\r\n            dataList.push(obj);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"time-position-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n            },\r\n            grid: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            },\r\n            title: {\r\n                text: '上网时间分布图',\r\n                left: 'center',\r\n                top: '81%',\r\n                textStyle: {\r\n                    padding: [0, 0, 30, 0],\r\n                    fontSize: 14,\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            backgroundColor: {\r\n                type: 'radial',  //radial为镜像渐变， line为线性渐变\r\n                x: 0.5,  //x，y控制渐变的圆心\r\n                y: 0.45, \r\n                r: 0.32, //半径\r\n                //颜色配置\r\n                colorStops: [\r\n                  {\r\n                    offset: 0, //必须存在不能超过1，表示这一颜色的范围\r\n                    color: 'white', // 0% 处的颜色\r\n                  },\r\n                  {\r\n                    offset: 0.65,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 0.66,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.8,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'rgba(0, 0, 0, 0.05)',\r\n                  },\r\n                  {\r\n                    offset: 0.91,\r\n                    color: 'white',\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'white', // 100% 处的颜色\r\n                  },\r\n                ],\r\n            },\r\n            color: ['#89df89', '#e84855', '#36afd2', '#2d3047', '#ffb782', 'pink'],\r\n            series: [\r\n                {\r\n                    name: '访问来源',\r\n                    type: 'pie',\r\n                    radius: ['25%', '55%'],\r\n                    center: ['50%', '45%'],\r\n                    minAngle: 25,\r\n                    avoidLabelOverlap: false,\r\n                    label: {\r\n                        show: true\r\n                    },\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            borderWidth: 10,\r\n                            borderColor: 'rgba(0, 0, 0, 0.05)'\r\n                        },\r\n                    },\r\n                    \r\n                    data: dataList\r\n                }\r\n            ]\r\n        }; \r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, []);\r\n    useEffect(() => {\r\n        if(internetStatisticList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], myList = [], classList = [], gradeList = [];\r\n        internetStatisticList.forEach((item)=>{\r\n            xList.push(item.month);\r\n            myList.push(item.personalTimes);\r\n            classList.push(item.classTimes);\r\n            gradeList.push(item.gradeTimes);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"internet-time-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '上网时长',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: '58%',\r\n                // data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                start: 0,\r\n                end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '月份',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '时长/h',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentDataType, internetStatisticList]);\r\n    useEffect(() => {\r\n        if(internetStatisticList.length == 0){\r\n            return;\r\n        }\r\n        let xList = [], myList = [], classList = [], gradeList = [];\r\n        internetStatisticList.forEach((item)=>{\r\n            xList.push(item.month);\r\n            myList.push(item.personalTimes);\r\n            classList.push(item.classTimes);\r\n            gradeList.push(item.gradeTimes);\r\n        })\r\n        let myEchart = echarts.init(document.getElementById(\"internet-count-echart\"));\r\n        myEchart.resize();\r\n        let option = {\r\n            title: {\r\n                text: '上网次数',\r\n                left: 'center',\r\n                top: '20px',\r\n                textStyle: {\r\n                    color: '#333333',\r\n                    fontWeight: 'normal',\r\n                    fontSize: 14\r\n                }\r\n            },\r\n            grid: {\r\n                top: 85,\r\n                bottom: xList.length > 6? 55: 45\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {\r\n                    type: 'shadow'\r\n                },\r\n                extraCssText: \"border: 0; background-color: rgba(0, 0, 0, 0.6);\",\r\n                formatter: function(params){\r\n                    let str = `\r\n                    <span \r\n                    style=\"\r\n                    display: inline-block; \r\n                    width: 100%; \r\n                    color: #fffd64; \r\n                    text-overflow: ellipsis; \r\n                    overflow: hidden; \r\n                    white-space: nowrap;\">${params[0].name}</span><br/>`;\r\n                    params.forEach((item)=>{\r\n                        str += `\r\n                        <i class='tooltip-dot'></i>\r\n                        <span style=\"color: #cccccc;\">${item.seriesName}:</span>\r\n                        <span style=\"color: rgba(255, 255, 255, 0.8);\">${item.value}</span><br/>`;\r\n                    })\r\n                    return str;\r\n                }\r\n            },\r\n            legend: {\r\n                top: '50px',\r\n                left: '58%',\r\n                // data:['个人','班级','年级'],\r\n                textStyle: {\r\n                    color: '#999999',\r\n                }\r\n            },\r\n            dataZoom: {\r\n                show: xList.length > 6? true: false,\r\n                maxValueSpan: 5,\r\n                height: 2,\r\n                start: 0,\r\n                end: 40,\r\n                showDetail: false,\r\n                moveHandSize: 6,\r\n                bottom: 10\r\n            },\r\n            xAxis: {\r\n                type: 'category',\r\n                name: '月份',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    \r\n                },\r\n                data: xList,\r\n                axisTick: {\r\n                    show: false\r\n                },\r\n                axisLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#7c7c7c'\r\n                    }\r\n                }\r\n            },\r\n            yAxis: {\r\n                type: 'value',\r\n                name: '次数',\r\n                nameTextStyle: {\r\n                    color: '#999999',\r\n                    padding: [0, 0, 0, 30]\r\n                },\r\n                splitLine: {\r\n                    lineStyle: {\r\n                        color: '#e6e6e6'\r\n                    }\r\n                },\r\n                axisLabel: {\r\n                    textStyle: {\r\n                        color: '#999999'\r\n                    },\r\n                    formatter: '{value} '\r\n                }\r\n            },\r\n            series: [\r\n                {\r\n                    name:'个人',\r\n                    type:'line',\r\n                    lineStyle: {\r\n                        color: '#ff0000',\r\n                        width: 1,\r\n                        borderColor: '#ff0000',\r\n                        emphasis: {\r\n                            width: 1\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#ff0000'\r\n                    },\r\n                    data:myList\r\n                },\r\n                {\r\n                    name:'班级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#1da4fe'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#7ecbff'\r\n                        }])\r\n                    },\r\n                    data:classList\r\n                },\r\n                {\r\n                    name:'年级',\r\n                    type:'bar',\r\n                    barWidth : 16,\r\n                    itemStyle: {\r\n                        color: new graphic.LinearGradient(0, 0, 0, 1, [{\r\n                            offset: 0,\r\n                            color: '#51ca51'\r\n                        },{\r\n                            offset: 1,\r\n                            color: '#a0dea0'\r\n                        }])\r\n                    },\r\n                    data:gradeList\r\n                },\r\n                \r\n            ]\r\n        };\r\n        myEchart.setOption(option);\r\n        window.addEventListener(\"resize\", function(){\r\n            myEchart.resize();\r\n        })\r\n    }, [currentDataType, internetStatisticList]);\r\n    let gradeSum = 0, \r\n    gradeCount = internetGradeList.length, sum = 0, classSum = 0, count = internetList.length, \r\n    classCount = internetClassList.length;\r\n    internetList.forEach((item)=>{\r\n        sum += item.duration;\r\n    })\r\n    internetClassList.forEach((item)=>{\r\n        classSum += item.duration;\r\n    })\r\n    internetGradeList.forEach((item)=>{\r\n        gradeSum += item.duration;\r\n    })\r\n    return (\r\n        <div className=\"my-internet\">\r\n            <div className=\"show-top\">\r\n                <div className=\"internet-time\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">上网时长: <span>{sum}h</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:{gradeSum}</p>:\r\n                        <p>班级平均:{classSum}; 年级平均:{gradeSum}</p>\r\n                    }\r\n                </div>\r\n                <div className=\"internet-count\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">上网次数: <span>{count}</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:{gradeCount}</p>:\r\n                        <p>班级平均:{classCount}; 年级平均:{gradeCount}</p>\r\n                    }\r\n                </div>\r\n                {/* <div className=\"internet-frequency\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">上网频率: <span>2次/天</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:982</p>:\r\n                        <p>班级平均:1010; 年级平均:982</p>\r\n                    }\r\n                </div> */}\r\n            </div>\r\n            {\r\n                internetList.length > 0?\r\n                <div className=\"show-center\">\r\n                    <div className=\"kind-position-echart\" id=\"kind-position-echart\"></div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"place-position-echart\" id=\"place-position-echart\"></div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"time-position-echart\" id=\"time-position-echart\"></div>\r\n                </div>:\r\n                <Empty\r\n                className={\"bar-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }\r\n            \r\n            <div className=\"select-container\">\r\n                <span>时间:</span>\r\n                <Select value={currentDataType} className=\"select\" onChange={(value)=>setCurrentDataType(value)}>\r\n                    <Option value=\"3\">按天数</Option>\r\n                    <Option value=\"2\">按周次</Option>\r\n                    <Option value=\"1\">按月份</Option>\r\n                </Select>\r\n            </div>\r\n            {\r\n                internetStatisticList.length > 0?\r\n                <div className=\"show-bottom\">\r\n                    <div className=\"internet-time-echart\" id=\"internet-time-echart\"></div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"internet-count-echart\" id=\"internet-count-echart\"></div>\r\n                </div>:\r\n                <Empty\r\n                // className={\"bar-empty\"}\r\n                style={{margin: \"20px 0\"}}\r\n                title={\"暂无数据\"}\r\n                type={\"4\"}\r\n                ></Empty>\r\n            }  \r\n            \r\n        </div>\r\n    );\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(MyInternet)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n// useCallback,\r\nmemo,\r\nuseEffect,\r\nuseState,\r\nuseImperativeHandle,\r\nuseRef,\r\nuseLayoutEffect,\r\nforwardRef,\r\n} from \"react\";\r\n// import echarts from \"echarts\";\r\nimport {Select} from \"antd\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/grid\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/component/dataZoom\";\r\nimport * as graphic from 'echarts/lib/util/graphic';\r\nimport { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n//   import { resizeForEcharts } from \"../../../util/public\";\r\nfunction MyContact(props, ref) {\r\n    let {\r\n        currentTerm,\r\n        userIdentity,\r\n        currentClass,\r\n        currentGrade,\r\n        userInfo: {SchoolID, UserID},\r\n      } = props;\r\n      const [currentDataType, setCurrentDataType] = useState(\"3\");\r\n    return (\r\n        <div className=\"my-contact\">\r\n            <div className=\"show-top\">\r\n                <div className=\"contact-count\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">联系人数: <span>130人</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:982</p>:\r\n                        <p>班级平均:1010; 年级平均:982</p>\r\n                    }\r\n                </div>\r\n                <div className=\"online-contact-count\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">在线聊天次数: <span>12次</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:982</p>:\r\n                        <p>班级平均:1010; 年级平均:982</p>\r\n                    }\r\n                </div>\r\n                <div className=\"online-contact-frequency\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">在线聊天频率: <span>125</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:982</p>:\r\n                        <p>班级平均:1010; 年级平均:982</p>\r\n                    }\r\n                </div>\r\n                <div className=\"online-contact-time\">\r\n                    <i className=\"livelogo\"></i>\r\n                    <p className=\"live-name\">在线聊天时长: <span>2次/天</span></p>\r\n                    {\r\n                        userIdentity == 'teacher'?\r\n                        <p>年级平均:982</p>:\r\n                        <p>班级平均:1010; 年级平均:982</p>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\nexport default connect(mapStateToProps)(memo(forwardRef(MyContact)));\r\n  ","import {\r\n    connect,\r\n    // useSelector,\r\n    useDispatch,\r\n  } from \"react-redux\";\r\n  import React, {\r\n    // useCallback,\r\n    memo,\r\n    useEffect,\r\n    useState,\r\n    useImperativeHandle,\r\n    useRef,\r\n    useLayoutEffect,\r\n    forwardRef,\r\n  } from \"react\";\r\n  import \"./index.scss\";\r\n  import Bar from \"../../../component/bar\";\r\n  import MyLive from \"./myLive\";\r\n  import MyConsume from \"./myConsume\";\r\n  import MyInternet from \"./myInternet\";\r\n  import MyContact from \"./MyContact\";\r\n  import Track from \"../../../component/Track\";\r\n  import { Empty } from \"../../../component/common\";\r\nimport fetch from \"../../../util/fetch\";\r\nimport ipConfig from \"../../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n\r\n  function SchoolLive(props, ref) {\r\n    let {\r\n      term,\r\n      HasHistory,\r\n      onAnchorComplete,\r\n      schoolID,\r\n      collegeID,\r\n      productMsg,\r\n      userIdentity,\r\n      currentClass,\r\n      currentGrade,\r\n      userInfo: {UserID, SchoolID}\r\n    } = props;\r\n    \r\n    const myLive = useRef(null);\r\n    const myConsume = useRef(null);\r\n    const myInternet = useRef(null);\r\n    const myContact = useRef(null);\r\n    const liveTrack = useRef(null);\r\n    useLayoutEffect(() => {\r\n      // setAnchorList();\r\n      typeof onAnchorComplete === \"function\" &&\r\n        onAnchorComplete([\r\n          { ref: myLive.current, name:(userIdentity == \"student\"? \"我的作息\": \"学生作息\") },\r\n          { ref: myConsume.current, name: (userIdentity == \"student\"? \"我的消费\": \"学生消费\") },\r\n          { ref: myInternet.current, name: (userIdentity == \"student\"? \"我的上网\": \"学生上网\") },\r\n          { ref: myContact.current, name: (userIdentity == \"student\"? \"我的社交\": \"学生社交\") },\r\n          { ref: liveTrack.current, name: \"生活轨迹\" },\r\n        ]);\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    // 初始请求\r\n    \r\n    return (\r\n      <div className=\"award-and-punish\">\r\n        <Bar loading={false} barName={userIdentity == \"student\"? \"我的作息\": \"学生作息\"} ref={myLive}>\r\n            <MyLive \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            userIdentity={userIdentity} />\r\n        </Bar>\r\n        <Bar loading={false} barName={userIdentity == \"student\"? \"我的消费\": \"学生消费\"} ref={myConsume}>\r\n            <MyConsume \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            userIdentity={userIdentity} />\r\n        </Bar>\r\n        <Bar loading={false} barName={userIdentity == \"student\"? \"我的上网\": \"学生上网\"} ref={myInternet}>\r\n            <MyInternet \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            userIdentity={userIdentity} />\r\n        </Bar>\r\n        {/* <Bar loading={false} barName={\"我的社交\"} ref={myContact}>\r\n            <MyContact \r\n            currentClass={currentClass}\r\n            currentGrade={currentGrade}\r\n            currentTerm={term}\r\n            userIdentity={userIdentity} />\r\n        </Bar> */}\r\n        <Bar loading={false} barName={\"生活轨迹\"} ref={liveTrack}>\r\n            <Track userIdentity={userIdentity} />\r\n        </Bar>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  const mapStateToProps = (state) => {\r\n    let { \r\n      commonData:{\r\n        termInfo:{\r\n          HasHistory,\r\n          TermInfo\r\n        },\r\n        userInfo\r\n      } \r\n    } = state;\r\n    // console.log(state)\r\n    return {HasHistory, TermInfo, userInfo};\r\n}\r\n  export default connect(mapStateToProps)(memo(forwardRef(SchoolLive)));\r\n  ","/*\r\n *                        .::::.\r\n *                      .::::::::.\r\n *                     :::::::::::\r\n *                  ..:::::::::::'\r\n *               '::::::::::::'\r\n *                 .::::::::::\r\n *            '::::::::::::::..\r\n *                 ..::::::::::::.\r\n *               ``::::::::::::::::\r\n *                ::::``:::::::::'        .:::.\r\n *               ::::'   ':::::'       .::::::::.\r\n *             .::::'      ::::     .:::::::'::::.\r\n *            .:::'       :::::  .:::::::::' ':::::.\r\n *           .::'        :::::.:::::::::'      ':::::.\r\n *          .::'         ::::::::::::::'         ``::::.\r\n *      ...:::           ::::::::::::'              ``::.\r\n *     ````':.          ':::::::::'                  ::::..\r\n *                        '.:::::'                    ':'````..\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-25 10:29:46\r\n * @LastEditTime: 2020-12-25 10:29:46\r\n * @Description: 电子资源\r\n * @FilePath: \\teacher-development\\src\\pages\\teachersStatisticAnalysis\\teachingAbility\\teacherER.js\r\n */\r\n\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport { Tooltip } from \"antd\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/chart/pie\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport { resizeForEcharts, deepCopy, transTime,correctNumber } from \"../../../util/public\";\r\nfunction TeacherInternet(props, ref) {\r\n  let {\r\n    className,\r\n    levelHash,\r\n    productMsg,\r\n    data: {\r\n      DayAvgTimeSpan,\r\n      DayAvgLoginCount,\r\n      AvgLoginTimeSpan,\r\n      TotalTeacher,\r\n      DayAvgOnlineUser,\r\n      DayAvgOfflineUser,\r\n      DayAvgOnlinePercent,\r\n      SubSet,\r\n    },\r\n  } = props;\r\n  productMsg = productMsg ? productMsg : {};\r\n  // echart实例\r\n  // 柱状\r\n  const [subEchart, setSubEchart] = useState(null);\r\n\r\n  //\r\n  const [taEchart, setTaEchart] = useState(null);\r\n  // dom ref\r\n  const taRef = useRef(null);\r\n  const subRef = useRef(null);\r\n  useLayoutEffect(() => {\r\n    if (DayAvgOfflineUser === undefined || DayAvgOnlineUser === undefined) {\r\n      return;\r\n    }\r\n    let myEchart_ta = taEchart;\r\n    let myEchart_sub = subEchart;\r\n    let color = [\r\n      \"#0a407d\",\r\n      \"#5ed9d8\",\r\n      // \"#2edba3\",\r\n      \"#fbb458\",\r\n      \"#fd8273\",\r\n      \"#3fb43f\",\r\n      \"#e84855\",\r\n      \"#e58d4c\",\r\n      \"#2d3047\",\r\n      \"#71add8\",\r\n    ];\r\n\r\n    let dataset_ta = [\r\n      [\"nodeName\", \"Count\"],\r\n      [\"平均每日不上机人数\", DayAvgOfflineUser],\r\n      [\"平均每日上机人数\", DayAvgOnlineUser],\r\n    ];\r\n    let labelColor = {};\r\n    let labelSize = {};\r\n    color.forEach((child, index) => {\r\n      labelColor[`${index}`] = { color: child, fontSize: 12 };\r\n      labelSize[`${index}16`] = { color: child, fontSize: 16 };\r\n    });\r\n    let dataset_sub = [[\"nodeName\", \"平均年龄\", \"平均教龄\"]];\r\n    let pieOption = {\r\n      dataset: { source: [] },\r\n      // title: {\r\n      //   text: \"教师年龄段人数分布\",\r\n      //   bottom: \"7%\",\r\n      //   left: \"center\",\r\n      //   // top: 180,\r\n      //   textStyle: {\r\n      //     color: \"#333333\",\r\n      //     fontSize: 14,\r\n      //   },\r\n      // },\r\n      tooltip: {\r\n        // appendToBody: true,\r\n        trigger: \"item\",\r\n        backgroundColor: \"rgba(0,0,0,0.7)\",\r\n        formatter: (params) => {\r\n          // let { percent, value, dataIndex } = params;\r\n\r\n          return `平均每日上机人数占比${correctNumber(DayAvgOnlinePercent * 100)}%`;\r\n        },\r\n        textStyle: {\r\n          color: \"#fffd64\",\r\n        },\r\n      },\r\n\r\n      legend: {\r\n        show: false,\r\n        // orient: \"vertical\",\r\n        // left: 155,\r\n        // top: 40,\r\n        // itemWidth: 11,\r\n        // itemHeight: 11,\r\n        // textStyle: {\r\n        //   color: \"#999\",\r\n        // },\r\n      },\r\n      color: color,\r\n      series: [\r\n        {\r\n          name: \"上机信息统计\",\r\n          type: \"pie\",\r\n          radius: [\"50%\", \"80%\"],\r\n          top: \"10\",\r\n          minAngle:4,\r\n\r\n          // center: [\"50% \", \"50%\"],\r\n          height: \"90%\",\r\n          itemStyle: {\r\n            borderColor: \"#fff\",\r\n            borderWidth: 1,\r\n            shadowColor: \"rgba(0, 0, 0, 0.15)\",\r\n            shadowBlur: 7,\r\n          },\r\n\r\n          label: {\r\n            show: true,\r\n            color: null,\r\n            formatter: (params) => {\r\n              let colorIndex = 0;\r\n              let sizeIndex = 0;\r\n              color.forEach((child, index) => {\r\n                if (child === params.color) {\r\n                  colorIndex = index;\r\n                  sizeIndex = index + \"16\";\r\n                }\r\n              });\r\n\r\n              return `{${colorIndex}|${params.name}}\\n{${sizeIndex}|${params.value[1]}}{${colorIndex}|人}`;\r\n            },\r\n            rich: {\r\n              ...labelColor,\r\n              ...labelSize,\r\n            },\r\n          },\r\n        },\r\n      ],\r\n    };\r\n    SubSet instanceof Array &&\r\n      SubSet.forEach((child, index) => {\r\n        let {\r\n          NodeName,\r\n          AvgLoginTimeSpan,\r\n          DayAvgTimeSpan,\r\n          DayAvgOnlinePercent,\r\n          DayAvgLoginCount,\r\n        } = child;\r\n        dataset_sub.push([\r\n          NodeName,\r\n          transTime(DayAvgTimeSpan,'m','h').time, //每人每日平均上机时长\r\n          DayAvgLoginCount, //每人每日平均上机次数\r\n          transTime(AvgLoginTimeSpan,'m','h').time, //平均每次时间\r\n          DayAvgOnlinePercent, //平均每日上机百分比\r\n        ]);\r\n      });\r\n    let subOption = {\r\n      title: {\r\n        text: \"各\" + productMsg.sub + \"教师平均每日上机时长统计信息\",\r\n        // bottom: \"4%\",\r\n        left: \"center\",\r\n        top: 20,\r\n        textStyle: {\r\n          color: \"#333333\",\r\n          fontSize: 14,\r\n        },\r\n      },\r\n      // backgroundColor: \"#f5f5f5\",\r\n      tooltip: {\r\n        trigger: \"axis\",\r\n        // appendToBody:true,\r\n\r\n        axisPointer: {\r\n          // 坐标轴指示器，坐标轴触发有效\r\n          type: \"shadow\", // 默认为直线，可选为：'line' | 'shadow'\r\n        },\r\n        backgroundColor: \"rgba(0,0,0,0.7)\",\r\n        borderColor: \"transparent\",\r\n        borderWidth: 0,\r\n        formatter: (params) => {\r\n          let row = params[0];\r\n          let { data } = row;\r\n\r\n          return `<div  class=\"t-tooltip\">\r\n                <p class=\"nodename\">每人每日平均上机时长${data[1]}小时</p><p class='msg msg-2'>每人每日平均上机<span>${data[2]}次</span></p><p class='msg msg-2'>每人每次平均上机时长<span>${data[3]}小时</span></p><p class='msg msg-2'>平均每日上机人数占比<span>${data[4]}%</span></p></div>\r\n            `;\r\n        },\r\n        // textStyle: {\r\n        //   color: \"#fff\",\r\n        // },\r\n      },\r\n      legend: {\r\n        // data: [\"男性教师\", \"女性教师\"],\r\n        show: false,\r\n        // right: 50,\r\n        // top: 40,\r\n        // itemWidth: 11,\r\n        // itemHeight: 11,\r\n        // itemGap: 30,\r\n        // // formatter: (id) => {\r\n        // //   return `{name|${sexData[id].title}:}{count|${sexData[id].value}}{name|人}`;\r\n        // // },\r\n        // textStyle: {\r\n        //   rich: {\r\n        //     name: {\r\n        //       fontSize: 12,\r\n        //       color: \"#999999\",\r\n        //     },\r\n        //     count: {\r\n        //       fontSize: 14,\r\n        //       fontWeight: \"bold\",\r\n        //       color: \"#333\",\r\n        //     },\r\n        //   },\r\n        // },\r\n      },\r\n      grid: {\r\n        left: 28,\r\n        height: 180,\r\n        right: 58,\r\n        bottom: 20,\r\n        containLabel: true,\r\n      },\r\n      dataset: {\r\n        source: [],\r\n      },\r\n      dataZoom: {\r\n        type: \"slider\",\r\n        show: dataset_sub.length > 6,\r\n        // xAxisIndex: [0],\r\n        // start: 0,\r\n        // end: 10/(dataset.length-1)*100,\r\n        minSpan: (4 / (dataset_sub.length - 1)) * 100,\r\n        maxSpan: (4 / (dataset_sub.length - 1)) * 100,\r\n        zoomLock: true,\r\n        showDetail: false,\r\n        showDataShadow: false,\r\n        height: 8,\r\n        bottom: 0,\r\n      },\r\n      xAxis: [\r\n        {\r\n          type: \"category\",\r\n          name: productMsg.sub,\r\n          nameGap: 12,\r\n          // data: [\r\n          //   \"幼儿园教师\",\r\n          //   \"小学教师\",\r\n          //   \"初中教师\",\r\n          //   \"高中教师\",\r\n          //   \"中专教师 \",\r\n          //   \"中职教师\",\r\n          // ],\r\n\r\n          nameTextStyle: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n          },\r\n          axisTick: {\r\n            //刻度线\r\n            show: false,\r\n          },\r\n          axisLine: {\r\n            //x轴\r\n            show: false,\r\n            lineStyle: {\r\n              // color:'#e6e6e6',\r\n              // opacity:0.5\r\n            },\r\n          },\r\n          axisLabel: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n            formatter: (value) => {\r\n              let data = value;\r\n              if (typeof value === \"string\" && value.length > 6) {\r\n                data = value.slice(0, 4) + \"...\";\r\n              }\r\n              return data;\r\n            },\r\n          },\r\n        },\r\n      ],\r\n      yAxis: [\r\n        {\r\n          type: \"value\",\r\n          name: \"平均每日上机时长(单位:小时)\",\r\n          // max: 1,\r\n          axisLabel: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n            margin: 20,\r\n            // formatter: (value) => {\r\n            //   return `${value * 100}%`;\r\n            // },\r\n          },\r\n\r\n          nameTextStyle: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n\r\n            padding: [0, 0, 0, 150],\r\n          },\r\n          nameGap: 20,\r\n        },\r\n      ],\r\n      series: [\r\n        {\r\n          // name: \"女性教师\",\r\n          type: \"bar\",\r\n          barGap: \"4%\",\r\n          // barWidth: 5,\r\n          barMaxWidth: 24,\r\n          itemStyle: {\r\n            color: {\r\n              type: \"linear\",\r\n              x: 1,\r\n              y: 1,\r\n              x2: 0,\r\n              y2: 0,\r\n              colorStops: [\r\n                {\r\n                  offset: 0,\r\n                  color: \"#9fedec\", // 0% 处的颜色\r\n                },\r\n                {\r\n                  offset: 1,\r\n                  color: \"#28c6c5\", // 100% 处的颜色\r\n                },\r\n              ],\r\n            },\r\n            borderRadius: [3, 3, 0, 0],\r\n          },\r\n          // data: [120, 132, 101, 134, 90, 230, 210],\r\n        },\r\n      ],\r\n    };\r\n\r\n    // TeachAgeList instanceof Array &&\r\n    //   TeachAgeList.forEach((child, index) => {\r\n    //     let { NodeName, Total } = child;\r\n    //     dataset_ta.push([NodeName, Total]);\r\n    //   });\r\n\r\n    // if (!myEchart_avg) {\r\n    //   // 数据更新后，防止二次初始化echarts，第一次进来初始化echarts\r\n    //   myEchart_avg = echarts.init(avgRef.current);\r\n    //   // 保存echart实例\r\n    //   setAvgEchart(myEchart_avg);\r\n    //   // 对界面resize进行监听重绘echart\r\n    //   resizeForEcharts(myEchart_avg);\r\n    // }\r\n    if (!myEchart_ta) {\r\n      // 数据更新后，防止二次初始化echarts，第一次进来初始化echarts\r\n      myEchart_ta = echarts.init(taRef.current);\r\n      // 保存echart实例\r\n      setTaEchart(myEchart_ta);\r\n      // 对界面resize进行监听重绘echart\r\n      resizeForEcharts(myEchart_ta);\r\n    }\r\n    if (!myEchart_sub) {\r\n      // 数据更新后，防止二次初始化echarts，第一次进来初始化echarts\r\n      myEchart_sub = echarts.init(subRef.current);\r\n      // 保存echart实例\r\n      setSubEchart(myEchart_sub);\r\n      // 对界面resize进行监听重绘echart\r\n      resizeForEcharts(myEchart_sub);\r\n    }\r\n    let taOption = deepCopy(pieOption);\r\n\r\n    taOption.dataset.source = dataset_ta;\r\n    // taOption.title.text = \"教师教龄段人数分布\";\r\n\r\n    subOption.dataset.source = dataset_sub;\r\n\r\n    // 设置option\r\n    // myEchart_avg.setOption(avgOption);\r\n    myEchart_ta.setOption(taOption);\r\n    myEchart_sub.setOption(subOption);\r\n    return () => {\r\n      // 卸载echarts实例的事件\r\n      // myEchart_avg.off();\r\n      myEchart_ta.off();\r\n      myEchart_sub.off();\r\n    };\r\n    // 依赖数据的变化重绘界面\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [SubSet, productMsg]);\r\nconst TransTime = useCallback(\r\n  (time) => {\r\n    let tTime = transTime(time,'m')\r\n    if(tTime.time<1){\r\n      return '小于1分钟'\r\n    }\r\n\r\n    return tTime.Time_zh\r\n  },\r\n  [],\r\n)\r\n  return (\r\n    <div\r\n      className={`teacher-bar TeacherInternet ${className ? className : \"\"} `}\r\n    >\r\n      <div className=\"ter-left\">\r\n        <p className=\"tb-tip\">\r\n          {productMsg && productMsg.title ? productMsg.title : \"\"}\r\n          每人每日平均上机时长\r\n          <span className=\"tb-tip-2\">{TransTime(DayAvgTimeSpan)}</span>\r\n          ，每人每日平均上机\r\n          <span className=\"tb-tip-2\">{DayAvgLoginCount}</span>\r\n          次，每次\r\n          <span className=\"tb-tip-2\">{TransTime(AvgLoginTimeSpan)}</span>\r\n        </p>\r\n        <div ref={taRef} className=\"ter-echarts\"></div>\r\n        <p className=\"ter-all\">\r\n          教师总人数\r\n          <br />\r\n          <span>{TotalTeacher}</span>人\r\n        </p>\r\n        <p className=\"ter-title\">\r\n          平均每日上机人数占比\r\n          <Tooltip\r\n            title=\"疑问\"\r\n            color={\"#0249a5\"}\r\n            overlayClassName=\"show-detail\"\r\n            getPopupContainer={(e) => e.parentNode}\r\n            trigger={[\"hover\"]}\r\n          >\r\n            <i className=\"tb-show-detail\" onClick={() => {}}></i>\r\n          </Tooltip>\r\n        </p>\r\n      </div>\r\n\r\n      <div ref={subRef} className=\"tb-right ter-right\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: { levelHash },\r\n  } = state;\r\n  return { levelHash };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(TeacherInternet)));\r\n","/*\r\n *                        .::::.\r\n *                      .::::::::.\r\n *                     :::::::::::\r\n *                  ..:::::::::::'\r\n *               '::::::::::::'\r\n *                 .::::::::::\r\n *            '::::::::::::::..\r\n *                 ..::::::::::::.\r\n *               ``::::::::::::::::\r\n *                ::::``:::::::::'        .:::.\r\n *               ::::'   ':::::'       .::::::::.\r\n *             .::::'      ::::     .:::::::'::::.\r\n *            .:::'       :::::  .:::::::::' ':::::.\r\n *           .::'        :::::.:::::::::'      ':::::.\r\n *          .::'         ::::::::::::::'         ``::::.\r\n *      ...:::           ::::::::::::'              ``::.\r\n *     ````':.          ':::::::::'                  ::::..\r\n *                        '.:::::'                    ':'````..\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-25 10:29:46\r\n * @LastEditTime: 2020-12-25 10:29:46\r\n * @Description: 电子教案\r\n * @FilePath: \\teacher-development\\src\\pages\\teachersStatisticAnalysis\\teachingAbility\\teacherTP.js\r\n */\r\n\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport { Tooltip } from \"antd\";\r\nimport echarts from \"echarts/lib/echarts\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/chart/pie\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport { resizeForEcharts, deepCopy } from \"../../../util/public\";\r\nfunction TeacherOnline(props, ref) {\r\n  let {\r\n    className,\r\n    levelHash,\r\n    productMsg,\r\n    data: {\r\n      TPCount,\r\n      AvgUploadTPCount,\r\n      AvgUploadUserCount,\r\n      TotalTeacher,\r\n      HasUploadedCount,\r\n      NoUploadedCount,\r\n      UploadedPercent,\r\n      SubSet,\r\n \r\n    },\r\n  } = props;\r\n  productMsg = productMsg ? productMsg : {};\r\n  // echart实例\r\n  // 柱状\r\n  const [subEchart, setSubEchart] = useState(null);\r\n\r\n  //\r\n  // dom ref\r\n  const subRef = useRef(null);\r\n  useLayoutEffect(() => {\r\n    if(NoUploadedCount===undefined||HasUploadedCount===undefined){\r\n      return;\r\n    }\r\n    let myEchart_sub = subEchart;\r\n    \r\n\r\n  \r\n    let labelColor = {};\r\n    let labelSize = {};\r\n \r\n    let dataset_sub = [[\"nodeName\", \"平均在线办公时长\", \"平均在线教学时长\"]];\r\n    SubSet instanceof Array &&\r\n    SubSet.forEach((child, index) => {\r\n      let {\r\n        NodeName,\r\n        TotalTeacher,\r\n        HasUploadedCount,\r\n        UploadedPercent,\r\n      } = child;\r\n      dataset_sub.push([\r\n        NodeName,\r\n        TotalTeacher,\r\n        HasUploadedCount,\r\n        TotalTeacher,\r\n\r\n      ]);\r\n    });\r\n    let subOption = {\r\n      // title: {\r\n      //   text: \"各\" + productMsg.sub + \"统计信息\",\r\n      //   // bottom: \"4%\",\r\n      //   left: \"center\",\r\n      //   top: 20,\r\n      //   textStyle: {\r\n      //     color: \"#333333\",\r\n      //     fontSize: 14,\r\n      //   },\r\n      // },\r\n      // backgroundColor: \"#f5f5f5\",\r\n      dataZoom: {\r\n        type: \"slider\",\r\n        show: dataset_sub.length>6,\r\n        // xAxisIndex: [0],\r\n        // start: 0,\r\n        // end: 10/(dataset.length-1)*100,\r\n        minSpan: (4 /(dataset_sub.length-1  )) * 100,\r\n        maxSpan: (4 /(dataset_sub.length-1  )) * 100,\r\n        zoomLock: true,\r\n        showDetail: false,\r\n        showDataShadow: false,\r\n        height: 8,\r\n        bottom: 0,\r\n      },\r\n      tooltip: {\r\n        trigger: \"axis\",\r\n        // appendToBody:true,\r\n\r\n        axisPointer: {\r\n          // 坐标轴指示器，坐标轴触发有效\r\n          type: \"shadow\", // 默认为直线，可选为：'line' | 'shadow'\r\n        },\r\n        backgroundColor: \"rgba(0,0,0,0.7)\",\r\n        borderColor: \"transparent\",\r\n        borderWidth: 0,\r\n        formatter: (params) => {\r\n        \r\n          let row = params[0];\r\n          let { data ,name} = row;\r\n\r\n          return `<div  class=\"t-tooltip\">\r\n                <p class=\"nodename\">${\r\n                  name\r\n                }</p><p class='msg msg-2'>在线办公<span>${\r\n            data[1]\r\n          }小时</span></p><p class='msg msg-2'>在线教学<span>${\r\n            data[2]\r\n          }小时</span></p></div>\r\n            `;\r\n        },\r\n        // textStyle: {\r\n        //   color: \"#fff\",\r\n        // },\r\n      },\r\n      legend: {\r\n        // data: [\"男性教师\", \"女性教师\"],\r\n        show: true,\r\n        right: 50,\r\n        top: 0,\r\n        itemWidth: 11,\r\n        itemHeight: 11,\r\n        itemGap: 30,\r\n        // formatter: (id) => {\r\n        //   return `{name|${sexData[id].title}:}{count|${sexData[id].value}}{name|人}`;\r\n        // },\r\n        textStyle: {\r\n          rich: {\r\n            name: {\r\n              fontSize: 12,\r\n              color: \"#999999\",\r\n            },\r\n            count: {\r\n              fontSize: 14,\r\n              fontWeight: \"bold\",\r\n              color: \"#333\",\r\n            },\r\n          },\r\n          color: \"#999999\",\r\n        },\r\n      },\r\n      grid: {\r\n        left: 58,\r\n        height: 175,\r\n        right: 88,\r\n        bottom: 0,\r\n        containLabel: true,\r\n      },\r\n      dataset: {\r\n        source: [],\r\n      },\r\n      xAxis: [\r\n        {\r\n          type: \"category\",\r\n          name: productMsg.sub,\r\n          nameGap: 12,\r\n          // data: [\r\n          //   \"幼儿园教师\",\r\n          //   \"小学教师\",\r\n          //   \"初中教师\",\r\n          //   \"高中教师\",\r\n          //   \"中专教师 \",\r\n          //   \"中职教师\",\r\n          // ],\r\n\r\n          nameTextStyle: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n          },\r\n          axisTick: {\r\n            //刻度线\r\n            show: false,\r\n          },\r\n          axisLine: {\r\n            //x轴\r\n            show: false,\r\n            lineStyle: {\r\n              // color:'#e6e6e6',\r\n              // opacity:0.5\r\n            },\r\n          },\r\n          axisLabel: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n            formatter: (value) => {\r\n              let data = value;\r\n              if (typeof value === \"string\" && value.length > 6) {\r\n                data = value.slice(0, 4) + \"...\";\r\n              }\r\n              return data;\r\n            },\r\n          },\r\n        },\r\n      ],\r\n      yAxis: [\r\n        {\r\n          type: \"value\",\r\n          name: \"时长\",\r\n          // max: 1,\r\n          axisLabel: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n            margin: 20,\r\n            // formatter: (value) => {\r\n            //   return `${value * 100}%`;\r\n            // },\r\n          },\r\n\r\n          nameTextStyle: {\r\n            color: \"#7c7c7c\",\r\n            fontSize: 12,\r\n\r\n            padding: [0, 0, 0, 100],\r\n          },\r\n          nameGap: 20,\r\n        },\r\n      ],\r\n      series: [\r\n        {\r\n          // name: \"女性教师\",\r\n          type: \"bar\",\r\n          barGap: \"4%\",\r\n          // barWidth: 5,\r\n          barMaxWidth:32,\r\n          itemStyle: {\r\n            color: {\r\n              type: \"linear\",\r\n              x: 1,\r\n              y: 1,\r\n              x2: 0,\r\n              y2: 0,\r\n              colorStops: [\r\n                {\r\n                  offset: 0,\r\n                  color: \"#ffb782\", // 0% 处的颜色\r\n                },\r\n                {\r\n                  offset: 0.5,\r\n                  color: \"#fba768\", // 0% 处的颜色\r\n                },\r\n                {\r\n                  offset: 1,\r\n                  color: \"#f7964e\", // 100% 处的颜色\r\n                },\r\n              ],\r\n            },\r\n            borderRadius: [3, 3, 0, 0],\r\n          },\r\n          // data: [120, 132, 101, 134, 90, 230, 210],\r\n        },{\r\n          // name: \"女性教师\",\r\n          type: \"bar\",\r\n          barGap: \"4%\",\r\n          // barWidth: 5,\r\n          barMaxWidth:32,\r\n          itemStyle: {\r\n            color: {\r\n              type: \"linear\",\r\n              x: 1,\r\n              y: 1,\r\n              x2: 0,\r\n              y2: 0,\r\n              colorStops: [\r\n                {\r\n                  offset: 0,\r\n                  color: \"#a0dea0\", // 0% 处的颜色\r\n                },\r\n                 \r\n                {\r\n                  offset: 1,\r\n                  color: \"#51ca51\", // 100% 处的颜色\r\n                },\r\n              ],\r\n            },\r\n            borderRadius: [3, 3, 0, 0],\r\n          },\r\n        }\r\n      ],\r\n    };\r\n\r\n    // TeachAgeList instanceof Array &&\r\n    //   TeachAgeList.forEach((child, index) => {\r\n    //     let { NodeName, Total } = child;\r\n    //     dataset_ta.push([NodeName, Total]);\r\n    //   });\r\n   \r\n    // if (!myEchart_avg) {\r\n    //   // 数据更新后，防止二次初始化echarts，第一次进来初始化echarts\r\n    //   myEchart_avg = echarts.init(avgRef.current);\r\n    //   // 保存echart实例\r\n    //   setAvgEchart(myEchart_avg);\r\n    //   // 对界面resize进行监听重绘echart\r\n    //   resizeForEcharts(myEchart_avg);\r\n    // }\r\n     \r\n    if (!myEchart_sub) {\r\n      // 数据更新后，防止二次初始化echarts，第一次进来初始化echarts\r\n      myEchart_sub = echarts.init(subRef.current);\r\n      // 保存echart实例\r\n      setSubEchart(myEchart_sub);\r\n      // 对界面resize进行监听重绘echart\r\n      resizeForEcharts(myEchart_sub);\r\n    }\r\n\r\n    // taOption.title.text = \"教师教龄段人数分布\";\r\n\r\n    subOption.dataset.source = dataset_sub;\r\n\r\n    // 设置option\r\n    // myEchart_avg.setOption(avgOption);\r\n    myEchart_sub.setOption(subOption);\r\n    return () => {\r\n      // 卸载echarts实例的事件\r\n      // myEchart_avg.off();\r\n      myEchart_sub.off();\r\n    };\r\n    // 依赖数据的变化重绘界面\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [SubSet, productMsg]);\r\n\r\n  return (\r\n    <div className={`teacher-bar TeacherOnline ${className ? className : \"\"} `}>\r\n       <div className=\"tb-top\">\r\n        <p className=\"tb-tip\">\r\n          {productMsg && productMsg.title ? productMsg.title : \"\"}\r\n          每人每日平均在线办公<span className=\"tb-tip-2\">{TPCount}</span>\r\n          次，共\r\n          <span className=\"tb-tip-2\">{AvgUploadTPCount}</span>小时；每人每日平均在线教学\r\n          <span className=\"tb-tip-2\">{AvgUploadUserCount}</span>次，共\r\n          <span className=\"tb-tip-2\">{TotalTeacher}</span>小时\r\n        </p>\r\n        <p className=\"tp-tilte\">各{productMsg.sub}教师每日办公教学\\办公统计信息</p>\r\n        \r\n      </div>\r\n\r\n      <div ref={subRef} className=\"tb-charts\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: { levelHash },\r\n  } = state;\r\n  return { levelHash };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(TeacherOnline)));\r\n","/*\r\n *\r\n *    ┏┓　　　┏┓\r\n *  ┏┛┻━━━┛┻┓\r\n *  ┃　　　　　　　┃\r\n *  ┃　　　━　　　┃\r\n *  ┃　＞　　　＜　┃\r\n *  ┃　　　　　　　┃\r\n *  ┃...　⌒　...　┃\r\n *  ┃　　　　　　　┃\r\n *  ┗━┓　　　┏━┛\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃  神兽保佑\r\n *      ┃　　　┃  代码无bug\r\n *      ┃　　　┃\r\n *      ┃　　　┗━━━┓\r\n *      ┃　　　　　　　┣┓\r\n *      ┃　　　　　　　┏┛\r\n *      ┗┓┓┏━┳┓┏┛\r\n *        ┃┫┫　┃┫┫\r\n *        ┗┻┛　┗┻┛\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 11:46:56\r\n * @LastEditTime: 2020-12-21 11:22:13\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\api\\baseMsg.js\r\n */\r\nimport fetch from \"../util/fetch\";\r\nimport ipConfig from \"../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description:上机信息统计  http://192.168.129.1:8033/showdoc/web/#/21?page_id=2096\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getTeachER(payload = {}) {\r\n  let { schoolID, collegeID, selectLevel, term } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/NetInfo/RP?SchoolID=${\r\n      schoolID ? schoolID : \"\"\r\n    }&CollegeID=${collegeID ? collegeID : \"\"}&SelectLevel=${\r\n      selectLevel ? selectLevel : \"\"\r\n    }&Term=${term ? term : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        // \"DayAvgTimeSpan\":\"3小时\",            //每人每日平均上机时长\r\n        // \"DayAvgLoginCount\":2,                //每人每日平均上机次数\r\n        // \"AvgLoginTimeSpan\":\"1.5小时\",                //平均每次时间\r\n        // \"TotalTeacher\":1920,                //教师总数量\r\n        // \"DayAvgOnlineUser\":60,                //平均每日上机人数\r\n        // \"DayAvgOfflineUser\":60,                //平均每日未上线人数\r\n        // \"\"DayAvgOnlinePercent\":\"0.96\",        //平均每日上机百分比\r\n        // \"SubSet\":[{\r\n        //     \"NodeID\":\"XXXXXXXXXXX\",            \r\n        //     \"NodeName\":\"语文\",            //节点名称（学科、学院等）\r\n        //     \"TotalTeacher\":50,            //该节点下的教师数量\r\n        //     \"DayAvgTimeSpan\":\"3\",            //每人每日平均上机时长\r\n        //     \"DayAvgLoginCount\":2,                //每人每日平均上机次数\r\n        //     \"AvgLoginTimeSpan\":\"1.5\",                //平均每次时间\r\n        //     \"DayAvgOnlinePercent\":0.96,        //平均每日上机百分比\r\n        // }]\r\n        // }]\r\n        return json.Data ? json.Data : {};\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n}\r\n\r\n/**\r\n * @description:在线教学\\办公统计  http://192.168.129.1:8033/showdoc/web/#/21?page_id=2097\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getTeachTP(payload = {}) {\r\n  let { schoolID, collegeID, selectLevel, term } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/NetInfo/TP?SchoolID=${schoolID ? schoolID : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }&SelectLevel=${selectLevel ? selectLevel : \"\"}&Term=${term ? term : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        // \"TPCount\":150,            //教案总制作数量\r\n        // \"AvgUploadTPCount\":14,    //人均制作数量\r\n        // \"AvgUploadUserCount\":2,            //平均每日上传人数\r\n        // \"TotalTeacher\":60,                //教师总数量\r\n        // \"HasUploadedCount\":60,            //参与制作人数\r\n        // \"NoUploadedCount\":60,            //未参与制作人数\r\n        // \"UploadedPercent\":0.963,            //参与率\r\n        // \"SubSet\":[{\r\n        //     \"NodeID\":\"XXXXXXXXXXX\",            \r\n        //     \"NodeName\":\"语文\",            //节点名称（学科、学院等）\r\n        //     \"TotalTeacher\":50,            //该节点下的教师数量\r\n        //     \"HasUploadedCount\":39,            //该节点参与上传人数\r\n        //     \"NoUploadedCount\":11,            //该节点参与上传人数\r\n        //     \"UploadedPercent\":0.963,                    //参与率\r\n        // }]\r\n        return json.Data ? json.Data : {};\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n}\r\n ","/*\r\n * ......................................&&.........................\r\n * ....................................&&&..........................\r\n * .................................&&&&............................\r\n * ...............................&&&&..............................\r\n * .............................&&&&&&..............................\r\n * ...........................&&&&&&....&&&..&&&&&&&&&&&&&&&........\r\n * ..................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&..............\r\n * ................&...&&&&&&&&&&&&&&&&&&&&&&&&&&&&.................\r\n * .......................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&.........\r\n * ...................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&...............\r\n * ..................&&&   &&&&&&&&&&&&&&&&&&&&&&&&&&&&&............\r\n * ...............&&&&&@  &&&&&&&&&&..&&&&&&&&&&&&&&&&&&&...........\r\n * ..............&&&&&&&&&&&&&&&.&&....&&&&&&&&&&&&&..&&&&&.........\r\n * ..........&&&&&&&&&&&&&&&&&&...&.....&&&&&&&&&&&&&...&&&&........\r\n * ........&&&&&&&&&&&&&&&&&&&.........&&&&&&&&&&&&&&&....&&&.......\r\n * .......&&&&&&&&.....................&&&&&&&&&&&&&&&&.....&&......\r\n * ........&&&&&.....................&&&&&&&&&&&&&&&&&&.............\r\n * ..........&...................&&&&&&&&&&&&&&&&&&&&&&&............\r\n * ................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&............\r\n * ..................&&&&&&&&&&&&&&&&&&&&&&&&&&&&..&&&&&............\r\n * ..............&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&....&&&&&............\r\n * ...........&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&......&&&&............\r\n * .........&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&.........&&&&............\r\n * .......&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&...........&&&&............\r\n * ......&&&&&&&&&&&&&&&&&&&...&&&&&&...............&&&.............\r\n * .....&&&&&&&&&&&&&&&&............................&&..............\r\n * ....&&&&&&&&&&&&&&&.................&&...........................\r\n * ...&&&&&&&&&&&&&&&.....................&&&&......................\r\n * ...&&&&&&&&&&.&&&........................&&&&&...................\r\n * ..&&&&&&&&&&&..&&..........................&&&&&&&...............\r\n * ..&&&&&&&&&&&&...&............&&&.....&&&&...&&&&&&&.............\r\n * ..&&&&&&&&&&&&&.................&&&.....&&&&&&&&&&&&&&...........\r\n * ..&&&&&&&&&&&&&&&&..............&&&&&&&&&&&&&&&&&&&&&&&&.........\r\n * ..&&.&&&&&&&&&&&&&&&&&.........&&&&&&&&&&&&&&&&&&&&&&&&&&&.......\r\n * ...&&..&&&&&&&&&&&&.........&&&&&&&&&&&&&&&&...&&&&&&&&&&&&......\r\n * ....&..&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&...........&&&&&&&&.....\r\n * .......&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&..............&&&&&&&....\r\n * .......&&&&&.&&&&&&&&&&&&&&&&&&..&&&&&&&&...&..........&&&&&&....\r\n * ........&&&.....&&&&&&&&&&&&&.....&&&&&&&&&&...........&..&&&&...\r\n * .......&&&........&&&.&&&&&&&&&.....&&&&&.................&&&&...\r\n * .......&&&...............&&&&&&&.......&&&&&&&&............&&&...\r\n * ........&&...................&&&&&&.........................&&&..\r\n * .........&.....................&&&&........................&&....\r\n * ...............................&&&.......................&&......\r\n * ................................&&......................&&.......\r\n * .................................&&..............................\r\n * ..................................&..............................\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-28 09:45:45\r\n * @LastEditTime: 2020-12-28 09:45:45\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\teachersStatisticAnalysis\\informationizeAbility\\index.js\r\n */\r\n\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport Bar from \"../../../component/bar\";\r\nimport TeacherInternet from \"./teacherInternet\";\r\nimport TeacherOnline from \"./teacherOnline\";\r\n\r\nimport { getTeachER, getTeachTP } from \"../../../api/informationizeAbility\";\r\n// import teacherInternet from \"./teacherInternet\";\r\n// import TeacherOnline from \"./teacherOnline\";\r\n// import TeacherAge from \"./teacherAge\";\r\n// import TeacherTitle from \"./teacherTitle\";\r\nfunction InformationizeAbility(props, ref) {\r\n  // *selectLevel:这里的selectLevel与用户的没关系，与看的级别有关，例如教育局的看学校的，selectLevel===2\r\n  // *productLevel:产品类型，给用户看的界面类型，用来控制界面的一些属性：1教育局，2大学学校，3教育局学校，4大学学院，\r\n  // *product:包含该productLevel的所有信息,有使用组件者使用productLevel和commonData的levelHash匹配使用，必须传，不传将出问题\r\n  let {\r\n    term,\r\n    HasHistory,\r\n    onAnchorComplete,\r\n    schoolID,\r\n    collegeID,\r\n    productMsg,\r\n  } = props;\r\n  const { selectLevel, productLevel } = productMsg;\r\n  // 教师人数\r\n  const [teacherInternet, setTeacherInternet] = useState(false);\r\n  const [teacherOnline, setTeacherOnline] = useState(false);\r\n\r\n  //向上传bar的信息\r\n  // const [anchorList, setAnchorList] = useState([]);\r\n  // 获取每一块的ref，实现锚点功能\r\n  const erRef = useRef(null);\r\n  const tpRef = useRef(null);\r\n \r\n  useLayoutEffect(() => {\r\n    // setAnchorList();\r\n    typeof onAnchorComplete === \"function\" &&\r\n      onAnchorComplete([\r\n        { ref: erRef.current, name: \"上机信息\" },\r\n        { ref: tpRef.current, name: \"教学办公\" },\r\n      ]);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  // 初始请求\r\n  useEffect(() => {\r\n    // 第一次进来的时候可能为undefined\r\n    if (term instanceof Object) {\r\n      // 电子资源\r\n      getTeachER({\r\n        term: term.value,\r\n        schoolID,\r\n        collegeID,\r\n        selectLevel,\r\n      }).then((data) => {\r\n        if (data) {\r\n          setTeacherInternet(data);\r\n        }\r\n      });\r\n      // // 电子教案\r\n      // getTeachTP({\r\n      //   term: term.value,\r\n      //   schoolID,\r\n      //   collegeID,\r\n      //   selectLevel,\r\n      // }).then((data) => {\r\n      //   if (data) {\r\n      //     setTeacherOnline(data);\r\n      //   }\r\n      // });\r\n    }\r\n  }, [term, schoolID, collegeID, selectLevel]);\r\n\r\n  return (\r\n    <div className=\"InformationizeAbility\">\r\n      <Bar loading={!teacherInternet} barName={\"上机信息统计 \"} ref={erRef}>\r\n        <TeacherInternet data={teacherInternet} productMsg={productMsg}></TeacherInternet>\r\n      </Bar>\r\n      {/* <Bar\r\n        loading={!teacherOnline}\r\n        barName={\"在线教学\\\\办公统计\"}\r\n        ref={tpRef}\r\n        topContext={HasHistory ? { title: \"查看历年参与率变化 \" } : false}\r\n      >\r\n        <TeacherOnline data={teacherOnline} productMsg={productMsg}></TeacherOnline>\r\n      </Bar> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: {\r\n      termInfo: { HasHistory },\r\n    },\r\n  } = state;\r\n  // console.log(state)\r\n  return { HasHistory };\r\n};\r\nexport default connect(mapStateToProps)(\r\n  memo(forwardRef(InformationizeAbility))\r\n);\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n  useImperativeHandle,\r\n  useLayoutEffect,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport $ from \"jquery\";\r\n// import { Select } from \"antd\";\r\nimport {Modal, Progress, Select, Popover, Upload, message} from \"antd\";\r\nimport { Dropdown } from \"../../component/common\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nconst {Option} = Select;\r\n\r\nfunction AnalysisTop(props, ref) {\r\n  let {\r\n    type,\r\n    termselect,\r\n    termlist,\r\n    onTermChange,\r\n    className,\r\n    schoolMsg,\r\n    getHeight,\r\n    onTypeChange,\r\n    setShowType,\r\n    userIdentity,\r\n    gradeList,\r\n    classList,\r\n    onClassChange,\r\n    onGradeChange,\r\n    teacherClassList,\r\n    ModuleID\r\n  } = props;\r\n\r\n  // 下拉菜单\r\n  const [TermList, setTermList] = useState(\r\n    termlist\r\n    // [\r\n    // { value: \"00\", title: \"2019~2020学年第1学期\" },\r\n    // { value: \"0\", title: \"2019~2020学年第2学期\" },\r\n    // { value: \"1\", title: \"2020~2021学年第1学期\" },\r\n    // { value: \"2\", title: \"2020~2021学年第2学期\" },\r\n    // { value: \"3\", title: \"2020~2021学年第2学期\" },\r\n    // { value: \"4\", title: \"2020~2021学年第2学期2021学年第2学期\" },\r\n    // { value: \"5\", title: \"2020~2021学年第2021学年第2学期2学期\" },\r\n    // { value: \"6\", title: \"2020~2021学2021学年第2学期年第2学期\" },\r\n    // { value: \"7\", title: \"2020~2021学年第2学期2021学年第2学期\" },\r\n    // ]\r\n  );\r\n  // 统计类型\r\n  const [TypeList, setTypeList] = useState([\r\n    { value: \"stuStatusMsg\", title: \"学籍档案\" },\r\n    { value: \"stuConditionMsg\", title: \"学情档案\" },\r\n    { value: \"attendanceMsg\", title: \"考勤档案\" },\r\n    { value: \"healthMsg\", title: \"健康档案\" },\r\n    { value: \"awardAndPunish\", title: \"奖惩档案\" },\r\n    { value: \"schoolLive\", title: \"校园生活档案\" },\r\n  ]);\r\n  // 选择下拉\r\n  const [TermSelect, setTermSelect] = useState(TermList[0] ? TermList[0] : {});\r\n  const [TypeSelect, setTypeSelect] = useState(TypeList[0] ? TypeList[0] : {});\r\n\r\n  //模板下载列表\r\n  const [templateList, setTemplateList] = useState([]);\r\n  //当前年级\r\n  const [currentGrade, setCurrentGrade] = useState(gradeList[0] ? gradeList[0].gradeId : \"\");\r\n  //当前班级\r\n  const [currentClass, setCurrentClass] = useState(classList[0] ? classList[0].classId : \"\");\r\n  //班级pkmodal\r\n  const [classPKVisible, setClassPKVisible] = useState(false);\r\n  // 获取整个结构的都没节点\r\n  const boxRef = useRef({});\r\n  // 下拉初始化\r\n  useEffect(() => {\r\n    // termselect存在，表明选择有使用者决定\r\n    termselect !== undefined && setTermSelect(termselect);\r\n  }, [termselect]);\r\n  useEffect(() => {\r\n    !currentGrade && setCurrentGrade(gradeList[0] ? gradeList[0].gradeId : \"\");\r\n  }, [gradeList]);\r\n  useEffect(() => {\r\n    if(currentClass){\r\n      return;\r\n    }\r\n    let updateClassList = [];\r\n    if(classList.length > 0){\r\n      updateClassList = classList.filter((item)=>{\r\n        return item.gradeId == currentGrade;\r\n      })\r\n    }\r\n    if(teacherClassList.length > 0){\r\n      teacherClassList.forEach((item)=>{\r\n        updateClassList.push(item);\r\n      })\r\n    }\r\n    setCurrentClass(updateClassList[0] ? updateClassList[0].classId : \"\");\r\n  }, [classList, currentGrade, teacherClassList]);\r\n\r\n  // 下拉列表再次修改\r\n  useEffect(() => {\r\n    if (termlist === undefined) return;\r\n    setTermList(termlist);\r\n    termselect === undefined &&\r\n      TermSelect === undefined &&\r\n      setTermSelect(termlist[0] ? termlist[0] : {});\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [termlist]);\r\n  const topType = useMemo(() => {\r\n    // 头部类型：*default:默认，*school:带有学校信息\r\n    return type ? type : \"default\";\r\n  }, [type]);\r\n  // 学校信息\r\n  const { isSchool, NodeName, LogoUrl } = useMemo(() => {\r\n    let data = { isSchool: false };\r\n    if (schoolMsg && topType === \"school\") {\r\n      data = { isSchool: true, ...schoolMsg };\r\n    }\r\n    return data;\r\n  }, [schoolMsg, topType]);\r\n  \r\n  // 监听变化，修改回调\r\n  useEffect(() => {\r\n    typeof onTermChange === \"function\" && onTermChange(TermSelect);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    \r\n  }, [TermSelect]);\r\n  // 监听变化，修改回调\r\n  useEffect(() => {\r\n    typeof onTypeChange === \"function\" && onTypeChange(TypeSelect);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [TypeSelect]);\r\n  useEffect(() => {\r\n    typeof onClassChange === \"function\" && onClassChange(currentClass);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentClass]);\r\n  useEffect(() => {\r\n    typeof onGradeChange === \"function\" && onGradeChange(currentGrade);\r\n    let updateClassList = [];\r\n    if(classList.length > 0){\r\n      updateClassList = classList.filter((item)=>{\r\n        return item.gradeId == currentGrade;\r\n      })\r\n    }\r\n    if(teacherClassList.length > 0){\r\n      teacherClassList.forEach((item)=>{\r\n        updateClassList.push(item);\r\n      })\r\n    }\r\n    setCurrentClass(updateClassList[0] ? updateClassList[0].classId : \"\");\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentGrade]);\r\n  //下载模板\r\n  const downloadTemplate = (value) => {\r\n    // TEMPERATURE(0, \"体温信息录入模板.xlsx\"),\r\n    //     REWARDS_LOGS(2, \"奖励信息导入模板.xlsx\"),\r\n    //     NETWORK_LOGS(3, \"学生上网记录导入模板.xlsx\"),\r\n    //     CONSUMPTION_LOGS(4, \"学生消费记录导入模板.xlsx\"),\r\n    //     LEAVE_RECORD_LOGS(5, \"学生请假记录录入模板.xlsx\"),\r\n    //     MENTAL_HEALTHY_LOGS(6, \"心理健康导入模板.xlsx\"),\r\n    //     PUNISHMENT_LOGS(7, \"惩戒信息导入模板.xlsx\"),\r\n    //     PHYSICS_HEALTHY_LOGS(8, \"身体健康档案录入模板.xlsx\"),\r\n    //     STATUS_LOGS(9, \"学籍导入模板.xlsx\"),\r\n    //     ATTENDANCE_LOGS(10, \"课堂出勤导入模板.xlsx\");\r\n    // let templateType = \"STATUS_LOGS\";\r\n    if(ModuleID == \"stuStatusMsg\"){\r\n      value = \"STATUS_LOGS\";\r\n    }\r\n    if(ModuleID == \"attendanceMsg\"){\r\n      value = \"ATTENDANCE_LOGS\";\r\n    }\r\n    let url = BasicProxy + \"/api/base/template?schoolId=\" +\r\n    \"&gradeId=\" +\r\n    \"&classId=\" +\r\n    \"&templateType=\" + value +\r\n    \"&blankSheet=0\";\r\n    //导出excel文档\r\n    window.location.href = url;\r\n  }\r\n  //导入模板信息\r\n  const importMethod = (data, key) => {\r\n    let url = \"\";\r\n    var formData = new FormData();\r\n     // TEMPERATURE(0, \"体温信息录入模板.xlsx\"),\r\n    //     REWARDS_LOGS(2, \"奖励信息导入模板.xlsx\"),\r\n    //     NETWORK_LOGS(3, \"学生上网记录导入模板.xlsx\"),\r\n    //     CONSUMPTION_LOGS(4, \"学生消费记录导入模板.xlsx\"),\r\n    //     LEAVE_RECORD_LOGS(5, \"学生请假记录录入模板.xlsx\"),\r\n    //     MENTAL_HEALTHY_LOGS(6, \"心理健康导入模板.xlsx\"),\r\n    //     PUNISHMENT_LOGS(7, \"惩戒信息导入模板.xlsx\"),\r\n    //     PHYSICS_HEALTHY_LOGS(8, \"身体健康档案录入模板.xlsx\"),\r\n    //     STATUS_LOGS(9, \"学籍导入模板.xlsx\"),\r\n    //     ATTENDANCE_LOGS(10, \"课堂出勤导入模板.xlsx\");\r\n    // let templateType = \"STATUS_LOGS\";\r\n    if(ModuleID == \"stuStatusMsg\"){\r\n      formData.append(\"multipartFile\", data.file);\r\n      // 多文件上传需要给参数名称后面加上[]\r\n      // formData.append(\"testfile[]\", files[1]);\r\n      url = BasicProxy + \"/api/status/import\";\r\n    }\r\n    // if(ModuleID == \"stuConditionMsg\"){\r\n    //   formData.append(\"multipartFile\", data.file);\r\n    //   // 多文件上传需要给参数名称后面加上[]\r\n    //   // formData.append(\"testfile[]\", files[1]);\r\n    //   url = BasicProxy + \"/api/status/import\";\r\n    // }\r\n    if(ModuleID == \"attendanceMsg\"){\r\n      formData.append(\"multipartFile\", data.file);\r\n      // 多文件上传需要给参数名称后面加上[]\r\n      // formData.append(\"testfile[]\", files[1]);\r\n      url = BasicProxy + \"/api/attendance/check/attendance\";\r\n    }\r\n    if(ModuleID == \"awardAndPunish\"){\r\n      formData.append(\"file\", data.file);\r\n      // 多文件上传需要给参数名称后面加上[]\r\n      // formData.append(\"testfile[]\", files[1]);\r\n      if(key == \"REWARDS_LOGS\") {\r\n        url = BasicProxy + \"/api/punishAndReward/rewards/import\";\r\n      }\r\n      if(key == \"PUNISHMENT_LOGS\") {\r\n        url = BasicProxy + \"/api/punishAndReward/punishment/import\";\r\n      }\r\n      \r\n    }\r\n    if(ModuleID == \"healthMsg\"){\r\n      formData.append(\"file\", data.file);\r\n      // 多文件上传需要给参数名称后面加上[]\r\n      // formData.append(\"testfile[]\", files[1]);\r\n      if(key == \"LEAVE_RECORD_LOGS\") {\r\n        url = BasicProxy + \"/api/healthy/leave/import\";\r\n      }\r\n      if(key == \"TEMPERATURE\") {\r\n        url = BasicProxy + \"/api/healthy/temperature/import\";\r\n      }\r\n    }\r\n    if(ModuleID == \"schoolLiveMsg\"){\r\n      formData.append(\"file\", data.file);\r\n      // 多文件上传需要给参数名称后面加上[]\r\n      // formData.append(\"testfile[]\", files[1]);\r\n      if(key == \"CONSUMPTION_LOGS\") {\r\n        url = BasicProxy + \"/api/campusLife/consumption/import\";\r\n      }\r\n      if(key == \"NETWORK_LOGS\") {\r\n        url = BasicProxy + \"/api/campusLife/networkLog/import\";\r\n      }\r\n    }\r\n\r\n    $.ajax({\r\n      url: url,\r\n      type: 'post',\r\n      async: true,\r\n      data: formData,\r\n      dataType:'json',\r\n      cache: false, // 上传文件无需缓存\r\n      processData : false, // 使数据不做处理\r\n      contentType: false,\r\n      headers: {\r\n        \"Authorization\": \"X-Token=\" + sessionStorage.getItem(\"token\"),\r\n      },\r\n      success: function(data){\r\n        if(data.status == 200){\r\n          if(ModuleID == \"attendanceMsg\"){\r\n            let url = BasicProxy + \"/api/attendance/import/attendance\";\r\n            $.ajax({\r\n              url: url,\r\n              type: 'post',\r\n              async: true,\r\n              data: formData,\r\n              dataType:'json',\r\n              cache: false, // 上传文件无需缓存\r\n              processData : false, // 使数据不做处理\r\n              contentType: false,\r\n              headers: {\r\n                \"Authorization\": \"X-Token=\" + sessionStorage.getItem(\"token\"),\r\n              },\r\n              success: function(data){\r\n                message.success(\"导入成功~\");\r\n              }\r\n            });\r\n            return;\r\n          }\r\n          message.success(\"导入成功~\");\r\n        } else {\r\n          \r\n          if(data.msg && data.msg.indexOf(\".xls\") != -1){\r\n            message.success(\"文档内数据错误，请下载文件并修改标红行的数据！\", 3);\r\n            window.location.href = BasicProxy + \"/api/base/fileDownload?filePath=\" + data.msg;\r\n            return;\r\n          }\r\n          message.success(\"导入失败！请检查输入文件是否是模板文件~\");\r\n        }\r\n        \r\n         \r\n      },\r\n      error:function(response){\r\n        \r\n        \r\n        // let url = BasicProxy + \"/api/base/fileDownload?filePath\";\r\n        // $.ajax({\r\n        //   url: url,\r\n        //   type: 'get',\r\n        //   async: true,\r\n        //   dataType:'json',\r\n        //   headers: {\r\n        //     \"Authorization\": \"X-Token=\" + sessionStorage.getItem(\"token\"),\r\n        //   },\r\n        //   success: function(data){\r\n        //     message.success(\"导入成功~\");\r\n        //   }\r\n        // });\r\n      }\r\n    })\r\n    // fetch.post({url, securityLevel: 2})\r\n    // .then((res)=>{res.json()})\r\n    // .then((result)=>{\r\n    //   if(result.status == 200){\r\n    //     message.success(\"导入成功~\");\r\n    //   } else {\r\n    //     message.success(\"导入失败~\");\r\n    //   }\r\n    // })\r\n  }\r\n  useLayoutEffect(()=>{\r\n    //有些模块有多个模板，需要设置列表供用户选择下载\r\n    switch(ModuleID){\r\n      case \"stuConditionMsg\":\r\n          break;\r\n      case \"attendanceMsg\":\r\n          break;\r\n      case \"healthMsg\":\r\n          setTemplateList([\r\n            {\r\n              name: \"体温信息录入模板\",\r\n              value: \"TEMPERATURE\"\r\n            },\r\n            {\r\n              name: \"学生请假记录录入模板\",\r\n              value: \"LEAVE_RECORD_LOGS\"\r\n            },\r\n            {\r\n              name: \"心理健康导入模板\",\r\n              value: \"MENTAL_HEALTHY_LOGS\"\r\n            },\r\n            {\r\n              name: \"身体健康档案录入模板\",\r\n              value: \"PHYSICS_HEALTHY_LOGS\"\r\n            },\r\n          ]);\r\n          break;\r\n      case \"awardAndPunish\":\r\n          setTemplateList([\r\n            {\r\n              name: \"奖励信息导入模板\",\r\n              value: \"REWARDS_LOGS\"\r\n            },\r\n            {\r\n              name: \"惩戒信息导入模板\",\r\n              value: \"PUNISHMENT_LOGS\"\r\n            },\r\n          ]);\r\n          break;\r\n      case \"schoolLiveMsg\":\r\n          setTemplateList([\r\n            {\r\n              name: \"学生上网记录导入模板\",\r\n              value: \" NETWORK_LOGS\"\r\n            },\r\n            {\r\n              name: \"学生消费记录导入模板\",\r\n              value: \"CONSUMPTION_LOGS\"\r\n            },\r\n          ]);\r\n          break;\r\n      default:\r\n          break;\r\n    }\r\n  }, [ModuleID]);\r\n  useImperativeHandle(\r\n    ref,\r\n    () => ({\r\n      TermSelect,\r\n      boxRef,\r\n      TypeSelect,\r\n      currentClass,\r\n      currentGrade\r\n    }),\r\n    [TermSelect, TypeSelect, currentClass, currentGrade]\r\n  );\r\n  // console.log($(boxRef.current).height())\r\n  useLayoutEffect(() => {\r\n    typeof getHeight === \"function\" && getHeight($(boxRef.current).height());\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div ref={boxRef} className={`Analysis-Top ${className ? className : \"\"}`}>\r\n      {isSchool ? (\r\n        <div className=\"top-msg\">\r\n          <p className=\"s-msg\">\r\n            <i style={{ backgroundImage: LogoUrl ?LogoUrl: \"#fff\" }}></i>\r\n            {NodeName ? NodeName : \"测试\"}\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <div className=\"top-default\">\r\n        {\r\n          userIdentity == 'teacher'?\r\n          <div className=\"select-container\" style={{marginLeft: 0}}>\r\n            <span>当前班级:</span>\r\n            <Select \r\n              value={currentClass} \r\n              className=\"select class-select\"\r\n              onChange={(value)=>setCurrentClass(value)}\r\n            >\r\n              {\r\n                Array.isArray(teacherClassList) && teacherClassList.map((item, index)=>{\r\n                  return (\r\n                    <Option \r\n                    key={index}\r\n                    value={item.classId}\r\n                    >{item.className}</Option>\r\n                  )\r\n                })\r\n              }\r\n            </Select>\r\n          </div>:\r\n          \"\"\r\n        }\r\n        <Dropdown\r\n          width={200}\r\n          height={240}\r\n          dropList={TermList}\r\n          title={\"所统计学期\"}\r\n          value={TermSelect.value}\r\n          className={`term-dropdown ${isSchool ? \"dropdown-school\" : \"\"}`}\r\n          onChange={(e) => {}}\r\n          onSelect={(e, option) => {\r\n            // console.log(option);\r\n            setTermSelect(option);\r\n          }}\r\n        ></Dropdown>\r\n        {\r\n          userIdentity == \"manager\"?\r\n          <div style={{display: 'inline-block'}}>\r\n            <div className=\"select-container\">\r\n              <span>年级:</span>\r\n              <Select \r\n              value={currentGrade} \r\n              className=\"select grade-select\"\r\n              onChange={(value)=>setCurrentGrade(value)}\r\n              >\r\n                  {\r\n                    Array.isArray(gradeList) && gradeList.map((item, index)=>{\r\n                      return (\r\n                        <Option \r\n                        key={index}\r\n                        value={item.gradeId}\r\n                        >{item.gradeName}</Option>\r\n                      )\r\n                    })\r\n                  }\r\n              </Select>\r\n            </div>\r\n            <div className=\"select-container\">\r\n              <span>班级:</span>\r\n              <Select \r\n              value={currentClass} \r\n              className=\"select class-select\"\r\n              onChange={(value)=>setCurrentClass(value)}\r\n              >\r\n                  {\r\n                    Array.isArray(classList) && classList.map((item, index)=>{\r\n                      if(item.gradeId == currentGrade){\r\n                        return (\r\n                          <Option \r\n                          key={index}\r\n                          value={item.classId}\r\n                          >{item.className}</Option>\r\n                        )\r\n                      }\r\n                      \r\n                    })\r\n                  }\r\n              </Select>\r\n            </div>\r\n          </div>:\r\n          \"\"\r\n        }\r\n        {/* {isSchool && (\r\n          <Dropdown\r\n            width={200}\r\n            height={240}\r\n            dropList={TypeList}\r\n            title={\"所统计类型\"}\r\n            value={TypeSelect.value}\r\n            className={`term-dropdown dropdown-school`}\r\n            onChange={(e) => {}}\r\n            onSelect={(e, option) => {\r\n              // console.log(option);\r\n              setTypeSelect(option);\r\n            }}\r\n          ></Dropdown>\r\n        )} */}\r\n        {\r\n          userIdentity == 'teacher'?\r\n          <div className=\"top-right\">\r\n            {\r\n              ModuleID == \"stuStatusMsg\" || ModuleID == \"stuConditionMsg\"?\r\n              \"\":\r\n              templateList.length > 0?\r\n              <Popover\r\n              placement=\"bottom\"\r\n              trigger=\"click\" \r\n              id=\"template-list-container\"\r\n              content={\r\n                <ul className=\"template-list\">\r\n                  {\r\n                    templateList.map((item)=>{\r\n                      return (\r\n                        <li onClick={()=>downloadTemplate(item.value)}>{item.name}</li>\r\n                      )\r\n                    })\r\n                  }\r\n                </ul>\r\n              }>\r\n              <div className=\"top-download\">\r\n                  {/* <i className=\"importlogo\"></i> */}\r\n                  下载模板\r\n              </div>\r\n              </Popover>:\r\n              <div className=\"top-download\" onClick={downloadTemplate}>\r\n                  {/* <i className=\"importlogo\"></i> */}\r\n                  下载模板\r\n              </div>\r\n            }\r\n            {\r\n              ModuleID != \"stuStatusMsg\" && ModuleID != \"stuConditionMsg\"?\r\n              templateList.length > 0?\r\n              <Popover\r\n              placement=\"bottom\"\r\n              trigger=\"click\" \r\n              className=\"template-list-container\"\r\n              content={\r\n                <ul className=\"template-list\">\r\n                  {\r\n                    templateList.map((item, index)=>{\r\n                      return (\r\n                        <Upload\r\n                        customRequest={(file)=>importMethod(file, item.value)}\r\n                        showUploadList={false}\r\n                        onChange = {({ file, fileList }) => {\r\n                          // if(!file){\r\n                          //   return;\r\n                          // }\r\n                          // importMethod(file);\r\n                        }}>\r\n                            <li key={index}>\r\n                              {item.name.replace(\"模板\", \"\")}\r\n                            </li>\r\n                        </Upload>\r\n                        \r\n                      )\r\n                    })\r\n                  }\r\n                </ul>\r\n              }>\r\n              <div className=\"top-import\">\r\n                <i className=\"importlogo\"></i>\r\n                导入\r\n              </div>\r\n                \r\n              </Popover>:\r\n              <Upload\r\n                customRequest={importMethod}\r\n                showUploadList={false}\r\n              >\r\n                <div className=\"top-import\">\r\n                  <i className=\"importlogo\"></i>\r\n                  导入\r\n                </div>\r\n              </Upload>:\r\n              \"\"\r\n            }\r\n            \r\n            \r\n            {/* <div className=\"top-output\">\r\n              <i className=\"outputlogo\"></i>\r\n              导出\r\n            </div>\r\n            <div className=\"class-PK\" onClick={()=>setClassPKVisible(true)}>\r\n              <i className=\"pklogo\"></i>\r\n              班级PK\r\n            </div> */}\r\n          </div>:\r\n          userIdentity == 'manager'?\r\n          <div className=\"top-right\">\r\n            {/* <div className=\"top-import-tea\" onClick={()=>setShowType(\"import\")}>\r\n              <i className=\"importlogo\"></i>\r\n              导出\r\n            </div>\r\n            <div className=\"grade-PK\">\r\n              <i className=\"pklogo\"></i>\r\n              年级PK\r\n            </div>\r\n            <div className=\"class-PK\" onClick={()=>setClassPKVisible(true)}>\r\n              <i className=\"pklogo\"></i>\r\n              班级PK\r\n            </div> */}\r\n          </div>:\r\n          \"\"\r\n        }\r\n        \r\n      </div>\r\n      <Modal\r\n      title=\"\"\r\n      wrapClassName=\"classPK-modal\"\r\n      visible={classPKVisible}\r\n      width={720}\r\n      closable={false}\r\n      bodyStyle={{height: 636}}\r\n      footer={null}\r\n      >\r\n        <div className=\"classPK-top\">\r\n          <div className=\"my-class\">\r\n            \r\n            <div className=\"class-info\">\r\n              <img className=\"class-image\" />\r\n              <span className=\"class-name\">三年级(3)班</span>\r\n              <span className=\"change-class-btn\">切换</span>\r\n            </div>\r\n            <div className=\"num-show\">3</div>\r\n          </div>\r\n          <div className=\"vslogo\"></div>\r\n          <div className=\"compare-class\">\r\n            <div className=\"class-info\">\r\n              <span className=\"class-name\">三年级(3)班</span>\r\n              <img className=\"class-image\" />\r\n            </div>\r\n            <div className=\"num-show\">0</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"classPK-bottom\">\r\n          <div className=\"compare-one\">\r\n            <i className=\"resultlogo\"></i>\r\n            <p>课堂表现分</p>\r\n            <div>\r\n              <span className=\"my-grade\">89分</span>\r\n              <Progress\r\n              className=\"my-class-progress\"\r\n              showInfo={false}\r\n              trailColor=\"#e6e6e6\"\r\n              status=\"active\"\r\n              percent={72}\r\n              strokeWidth={12}\r\n              strokeColor={{\r\n                from: '#ff6a66',\r\n                to: '#ff9b63'\r\n              }} />\r\n              \r\n              <Progress\r\n              className=\"compare-class-progress\"\r\n              showInfo={false}\r\n              trailColor=\"#e6e6e6\"\r\n              status=\"active\"\r\n              percent={72}\r\n              strokeWidth={12}\r\n              strokeColor={{\r\n                from: '#376dff',\r\n                to: '#2ea0ff'\r\n              }} />\r\n              <span className=\"compare-grade\">89分</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"compare-one\">\r\n            <i className=\"resultlogo\"></i>\r\n            <p>作业完成率</p>\r\n            <div>\r\n              <span className=\"my-grade\">89分</span>\r\n              <Progress\r\n              className=\"my-class-progress\"\r\n              showInfo={false}\r\n              trailColor=\"#e6e6e6\"\r\n              status=\"active\"\r\n              percent={72}\r\n              strokeWidth={12}\r\n              strokeColor={{\r\n                from: '#ff6a66',\r\n                to: '#ff9b63'\r\n              }} />\r\n              \r\n              <Progress\r\n              className=\"compare-class-progress\"\r\n              showInfo={false}\r\n              trailColor=\"#e6e6e6\"\r\n              status=\"active\"\r\n              percent={72}\r\n              strokeWidth={12}\r\n              strokeColor={{\r\n                from: '#376dff',\r\n                to: '#2ea0ff'\r\n              }} />\r\n              <span className=\"compare-grade\">89分</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"compare-one\">\r\n            <i className=\"resultlogo\"></i>\r\n            <p>自学时长</p>\r\n            <div>\r\n              <span className=\"my-grade\">89分</span>\r\n              <Progress\r\n              className=\"my-class-progress\"\r\n              showInfo={false}\r\n              trailColor=\"#e6e6e6\"\r\n              status=\"active\"\r\n              percent={72}\r\n              strokeWidth={12}\r\n              strokeColor={{\r\n                from: '#ff6a66',\r\n                to: '#ff9b63'\r\n              }} />\r\n              \r\n              <Progress\r\n              className=\"compare-class-progress\"\r\n              showInfo={false}\r\n              trailColor=\"#e6e6e6\"\r\n              status=\"active\"\r\n              percent={72}\r\n              strokeWidth={12}\r\n              strokeColor={{\r\n                from: '#376dff',\r\n                to: '#2ea0ff'\r\n              }} />\r\n              <span className=\"compare-grade\">89分</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"compare-one\">\r\n            <i className=\"resultlogo\"></i>\r\n            <p>考试平均分(最近)</p>\r\n            <div>\r\n              <span className=\"my-grade\">89分</span>\r\n              <Progress\r\n              className=\"my-class-progress\"\r\n              showInfo={false}\r\n              trailColor=\"#e6e6e6\"\r\n              status=\"active\"\r\n              percent={72}\r\n              strokeWidth={12}\r\n              strokeColor={{\r\n                from: '#ff6a66',\r\n                to: '#ff9b63'\r\n              }} />\r\n              \r\n              <Progress\r\n              className=\"compare-class-progress\"\r\n              showInfo={false}\r\n              trailColor=\"#e6e6e6\"\r\n              status=\"active\"\r\n              percent={72}\r\n              strokeWidth={12}\r\n              strokeColor={{\r\n                from: '#376dff',\r\n                to: '#2ea0ff'\r\n              }} />\r\n              <span className=\"compare-grade\">89分</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"compare-one\">\r\n            <i className=\"resultlogo\"></i>\r\n            <p>总评平均分(最近)</p>\r\n            <div>\r\n              <span className=\"my-grade\">89分</span>\r\n              <Progress\r\n              className=\"my-class-progress\"\r\n              showInfo={false}\r\n              trailColor=\"#e6e6e6\"\r\n              status=\"active\"\r\n              percent={72}\r\n              strokeWidth={12}\r\n              strokeColor={{\r\n                from: '#ff6a66',\r\n                to: '#ff9b63'\r\n              }} />\r\n              \r\n              <Progress\r\n              className=\"compare-class-progress\"\r\n              showInfo={false}\r\n              trailColor=\"#e6e6e6\"\r\n              status=\"active\"\r\n              percent={72}\r\n              strokeWidth={12}\r\n              strokeColor={{\r\n                from: '#376dff',\r\n                to: '#2ea0ff'\r\n              }} />\r\n              <span className=\"compare-grade\">89分</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"classPK-footer\">\r\n            <div className=\"cancel-btn\" onClick={()=>setClassPKVisible(false)}>关闭</div>\r\n            <div className=\"change-btn\">切换对手</div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\n// const mapStateToProps = (state) => {\r\n//   let {\r\n//     commonData: { roleMsg },\r\n//   } = state;\r\n//   return { roleMsg };\r\n// };\r\n// connect(mapStateToProps)\r\nexport default memo(forwardRef(AnalysisTop));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-16 19:10:04\r\n * @LastEditTime: 2020-12-17 19:12:37\r\n * @Description: 锚点组件,需要与scrollBar配合使用 react-custom-scrollbars\r\n * 需要传scrolbar 的ref下来\r\n * @FilePath: \\teacher-development\\src\\component\\anchor\\index.js\r\n */\r\n\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport $ from \"jquery\";\r\nimport \"./index.scss\";\r\n//   import { Search, Empty } from \"../common\";\r\n// 滚动的client会变，要实时拿最新的值\r\n// 根据每个块的高度进行锚点对应\r\n// 1.client区域显示的块都不完整时，选取最大的那块\r\n// 2.有一块完整的时候，选择完整的\r\n// 3.有一块以上（不包括1块）完整时，选取最大的\r\nfunction Anchor(props, ref) {\r\n  // scrollref不存在，不出现anchor\r\n  // bottomheightd多余的高度\r\n  let { className, list, scrollref, bottomheight, ...reset } = props;\r\n  //   设置anchor出现\r\n  const [show, setShow] = useState(false);\r\n  // 存新的list\r\n  const [anchorList, setAnchorList] = useState([]);\r\n  // 设置活动的块,这个由scroll改变来控制\r\n  const [activeLink, setActiveLink] = useState(0);\r\n  // 控制点击的事件不触发被动setActiveLink\r\n  const refuseRef = useRef(false);\r\n  //   处理list\r\n  useEffect(() => {\r\n    try {\r\n      if (\r\n        list instanceof Array &&\r\n        list.length > 0 &&\r\n        scrollref &&\r\n        scrollref.current\r\n      ) {\r\n        let {\r\n          scrollTop,\r\n          handleScroll,\r\n          getClientHeight,\r\n          getScrollHeight,\r\n        } = scrollref.current;\r\n        // scrollTop(200)\r\n        // s说明出现滚动了\r\n        if (getClientHeight() < getScrollHeight()) {\r\n          setShow(true);\r\n        }\r\n        let offsetTop = 0;\r\n        let height = 0; //上一个高度\r\n        let anchorList = [];\r\n        // 配置好改变的位置\r\n        list.forEach((child, index) => {\r\n          if (!child.ref) {\r\n            return;\r\n          }\r\n          let $ref = $(child.ref);\r\n          offsetTop += height;\r\n\r\n          height = $ref.outerHeight(true);\r\n\r\n          // 记录每块的高度和距离顶部的距离\r\n          anchorList.push({\r\n            ...child,\r\n            $ref,\r\n            offsetTop: offsetTop,\r\n            height: $ref.outerHeight(true),\r\n          });\r\n        });\r\n        setAnchorList(anchorList);\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n      setShow(false);\r\n    }\r\n  }, [list, scrollref]);\r\n  const onScroll = useCallback(() => {\r\n    if (!show) {\r\n      return;\r\n    }\r\n    let {\r\n      scrollTop,\r\n      handleScroll,\r\n      getClientHeight,\r\n      getScrollTop,\r\n      getScrollHeight,\r\n    } = scrollref.current;\r\n\r\n    let ScrollTop = getScrollTop();//内容框滚动距离\r\n    let ClientHeight = getClientHeight();//内容框可视高度\r\n    let ScrollHeight = getScrollHeight();\r\n\r\n    let activeBar = { isInit: true }; //记录\r\n    anchorList.forEach((child, index) => {\r\n      let { offsetTop, height } = child;\r\n      let offsetForBottom = offsetTop + height;//bar头部加高度为bar的底部到内容框顶部的距离\r\n      let fullBar = false;//是否是完整的bar\r\n      let visualHeight = 0;//bard的可视高度\r\n      let offsetVisualBottom = ClientHeight + ScrollTop;//内容框的高度加上滚动的头部距离为内容框底部距离内容框顶部距离\r\n\r\n      if (ScrollTop >= offsetForBottom || offsetVisualBottom < offsetTop) {\r\n        //这块直接不显示在可是区域\r\n        return;\r\n      }\r\n      // 后面的是有内有显示在可是区域\r\n      // 头部不完整\r\n      if (ScrollTop > offsetTop && offsetForBottom <= offsetVisualBottom) {\r\n        //不完整\r\n        visualHeight = offsetForBottom - ScrollTop;\r\n      }else if(ScrollTop <= offsetTop && offsetForBottom > offsetVisualBottom){\r\n        // 底部不完整\r\n        visualHeight = offsetVisualBottom - offsetTop;\r\n\r\n      } else {\r\n        //完整或者整个可视区域都是他\r\n        fullBar = true;\r\n        visualHeight = height;\r\n      }\r\n      let currentBar = { isInit: false, visualHeight, fullBar, index };\r\n      if (activeBar.isInit) {\r\n        activeBar = currentBar;\r\n      } else {\r\n        if (\r\n          (!activeBar.fullBar && currentBar.fullBar) || // (activeBar.fullBar && currentBar.fullBar) ||\r\n          (!activeBar.fullBar &&\r\n            !currentBar.fullBar &&\r\n            activeBar.visualHeight < currentBar.visualHeight)\r\n        ) {\r\n          //完整的替代不完整的, 不完整都的比大小,完整取第一个\r\n          activeBar = currentBar;\r\n        }\r\n      }\r\n    });\r\n    if(!refuseRef.current)\r\n    setActiveLink(activeBar.index);\r\n\r\n    refuseRef.current = false;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [anchorList, show]);\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      onScroll,\r\n    };\r\n  });\r\n  // 点击滚动\r\n  const onClickScroll = useCallback((data, index) => {\r\n    refuseRef.current = true;\r\n\r\n    scrollref.current.scrollTop(data.offsetTop);\r\n    setActiveLink(index);\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return show ? (\r\n    <div className={`lg-anchor ${className ? className : \"\"}`} {...reset}>\r\n      <span\r\n        style={{ top: activeLink * 54 + 8 + \"px\" }}\r\n        className=\"anchor-link-active\"\r\n      >\r\n        {/* {anchorList.map((child, index) => {\r\n          return (\r\n            <div\r\n              style={{ top: index * 54 - 4 + \"px\" }}\r\n              className=\"anchor-active\"\r\n              key={index}\r\n              title={child.name}\r\n              onClick={onClickScroll.bind(this,index)}\r\n            >\r\n              {child.name}\r\n            </div>\r\n          );\r\n        })} */}\r\n      </span>\r\n      {anchorList.map((child, index) => {\r\n        return (\r\n          <div\r\n            className={`anchor-link ${\r\n              activeLink === index ? \"anchor-link-2\" : \"\"\r\n            }`}\r\n            key={index}\r\n            title={child.name}\r\n            onClick={onClickScroll.bind(this, child, index)}\r\n          >\r\n            {child.name}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  ) : (\r\n    <></>\r\n  );\r\n}\r\n\r\nexport default memo(forwardRef(Anchor));\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useMemo,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport {\r\n  withRouter,\r\n  // , Route, Switch, NavLink\r\n} from \"react-router-dom\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\n\r\nimport \"./index.scss\";\r\nimport ImportPage from \"./importPage\";\r\nimport BaseMsg from \"./baseMsg\";\r\nimport StuConditionMsg from \"./StuConditionMsg\";\r\nimport AttendanceMsg from \"./attendanceMsg\";\r\nimport HealthMsg from \"./healthMsg\";\r\nimport AwardAndPunish from \"./awardAndPunish\";\r\nimport SchoolLive from \"./schoolLive\";\r\nimport InformationizeAbility from \"./informationizeAbility\";\r\nimport AnalysisTop from \"./analysisTop\";\r\nimport { handleRoute } from \"../../util/public\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport Anchor from \"../../component/anchor\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction Analysis(props, ref) {\r\n  let {\r\n    tabid,\r\n    tabname,\r\n    children,\r\n    param,\r\n    termInfo: { TermInfo, HasHistory },\r\n    roleMsg, //当前最高级用户信息，决定学校信息\r\n    location,\r\n    type,\r\n    roleData, //多学校的用户信息，决定学校\r\n    schoolMsg, //多学校的学校信息，由外部传\r\n    levelHash,\r\n    roleMsg: {identityCode},\r\n    basePlatFormMsg: { ProVersion },\r\n    contentHW: { height },\r\n    userInfo: { UserType, SchoolID, UserID }\r\n  } = props;\r\n  console.log(\"档案\", props)\r\n  // 设置头部的类型\r\n  const [topType, setTopType] = useState(\"default\");\r\n  // 设置路由路径，初始就设置\r\n  const [Path, setPath] = useState([]);\r\n  // 底部version高度\r\n  const [bottomHeight, setBottomHeight] = useState(66);\r\n  // 学期选择\r\n  const [TermSelect, setTermSelect] = useState(\"\");\r\n  // 统计类型\r\n  const [TypeSelect, setTypeSelect] = useState(\"\");\r\n  const [currentTerm, setCurrentTerm] = useState(\"\");\r\n  // 获取头部高度,默认54\r\n  const [topHeight, setTopHeight] = useState(54);\r\n  // 获取锚点结构\r\n  const [anchorList, setAnchorList] = useState([]);\r\n  // 当是schoolDetail，设置当前的module\r\n  const [ModuleID, setModuleID] = useState();\r\n  \r\n  //显示信息界面detail还是导入数据界面import,默认显示信息界面\r\n  const [showType, setShowType] = useState(\"detail\");\r\n\r\n  //所有年级信息\r\n  const [gradeList, setGradeList] = useState([]);\r\n  //所有班级信息\r\n  const [classList, setClassList] = useState([]);\r\n  //老师管理的班级列表\r\n  const [teacherClassList, setTeacherClassList] = useState([]);\r\n  //当前年级\r\n  const [currentGrade, setCurrentGrade] = useState(\"\");\r\n  //当前班级\r\n  const [currentClass, setCurrentClass] = useState(\"\");\r\n  //判断当前身份类型\r\n  // const [userIdentity, setUserIdentity] = useState(\"student\");\r\n  //manager：管理员; student：学生；teacher：教师\r\n  //能进来的都默认为管理员\r\n  let userIdentity = \"manager\";\r\n  if(identityCode == \"IC0010\"){\r\n    userIdentity = \"manager\";\r\n  }\r\n  if(identityCode == \"IC0013\" || identityCode == \"IC0011\" || identityCode == \"IC0012\"){\r\n    userIdentity = \"teacher\";\r\n  }\r\n  if(identityCode == \"IC0014\" || identityCode == \"IC0015\"){\r\n    userIdentity = \"student\";\r\n  }\r\n  //测试身份\r\n  // userIdentity = 'student';\r\n  // userIdentity = 'teacher';\r\n  // userIdentity = 'manager';\r\n  useLayoutEffect(()=>{\r\n    //获取全部年级信息\r\n    if(userIdentity != \"manager\"){\r\n      return;\r\n    }\r\n    let url = BasicProxy + \"/api/base/GetGradeInfoList_Univ?schoolId=\" + SchoolID;\r\n    fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if(json.status == 200){\r\n        setGradeList(json.data);\r\n        // json.data[0] && setCurrentGrade(json.data[0].gradeId)\r\n      }\r\n    })\r\n    //获取全部班级信息\r\n    url = BasicProxy + \"/api/base/getClassInfoList?schoolId=\" + SchoolID;\r\n    fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if(json.status == 200){\r\n        setClassList(json.data);\r\n        // json.data[0] && setCurrentClass(json.data[0].classId)\r\n      }\r\n    })\r\n  }, [userIdentity])\r\n\r\n  \r\n  useLayoutEffect(()=>{\r\n    //获取老师管理的所有班级信息\r\n    if(userIdentity != \"teacher\"){\r\n      return;\r\n    }\r\n    let url = BasicProxy + \"/api/base/getClassByMasterId?teacherId=\" + UserID;\r\n    fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if(json.status == 200){\r\n        setTeacherClassList(json.data);\r\n        sessionStorage.setItem(\"classList\", JSON.stringify(json.data));\r\n        // json.data[0] && setCurrentGrade(json.data[0].gradeId);\r\n        json.data[0] && setCurrentClass(json.data[0].classId);\r\n      }\r\n    })\r\n  }, [userIdentity])\r\n\r\n  const { schoolID, collegeID, selectLevel, productLevel } = useMemo(() => {\r\n    let role = roleMsg;\r\n    // module为使用roleData，不然就使用roleMsg\r\n    if (type === \"school\") {\r\n      role = roleData;\r\n      setTopType(\"school\");\r\n    }\r\n    return role;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [type]);\r\n  // console.log({ schoolID, collegeID, selectLevel, productLevel });\r\n  // 头部ref\r\n  const topRef = useRef({});\r\n  // contentref\r\n  const anchorRef = useRef(null);\r\n  const scrollRef = useRef(null);\r\n  useEffect(() => {\r\n    tabid && setModuleID(tabid);\r\n  }, [tabid]);\r\n  useEffect(() => {\r\n    // 挂载的时候观察路由\r\n    let Path = handleRoute(location.pathname);\r\n    setPath(Path);\r\n    if (Path[0] === \"schoolResource\" && Path[1]) {\r\n      //学校详情\r\n      // 需要获取学校详情请求\r\n      setTopType(\"school\");\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  let updateTermList = TermInfo.map((child) => ({\r\n    value: JSON.stringify({\r\n      termId: child.termInfo,\r\n      schoolId: child.schoolId,\r\n      startDate: child.startDate,\r\n      endDate: child.endDate\r\n    }),\r\n    title: child.termName,\r\n  }));\r\n  console.log(\"顶部信息\", topRef.current);\r\n  return (\r\n    <div className=\"Analysis\">\r\n      {\r\n        showType == 'detail'?\r\n        <div>\r\n          <AnalysisTop\r\n          // type={Path[0] === \"schoolDetail\" ? \"module\" : \"tab\"}\r\n          getHeight={(height) => {\r\n            // console.log(height);\r\n            setTopHeight(height);\r\n          }}\r\n          setShowType={setShowType}\r\n          className={\"AnalysisTop\"}\r\n          onTermChange={(e) => {\r\n            setTermSelect(e);\r\n          }}\r\n          onTypeChange={(e) => {\r\n            setTypeSelect(e);\r\n            setModuleID(e.value)\r\n          }}\r\n          onGradeChange={(e) => {\r\n            setCurrentGrade(e);\r\n          }}\r\n          onClassChange={(e) => {\r\n            setCurrentClass(e);\r\n          }}\r\n          termlist={TermInfo.map((child) => ({\r\n            value:JSON.stringify({\r\n              termId: child.termInfo,\r\n              schoolId: child.schoolId,\r\n              startDate: child.startDate,\r\n              endDate: child.endDate\r\n            }),\r\n            title: child.termName,\r\n          }))}\r\n          ref={topRef}\r\n          type={topType}\r\n          schoolMsg={schoolMsg}\r\n          gradeList={gradeList}\r\n          classList={classList}\r\n          ModuleID={ModuleID}\r\n          teacherClassList={teacherClassList}\r\n          userIdentity={userIdentity}\r\n        ></AnalysisTop>\r\n\r\n        <div\r\n          className=\"analysis-content\"\r\n          style={{ height: height - topHeight + \"px\" }}\r\n        >\r\n          <Scrollbars\r\n            className=\"analysis-scroll\"\r\n            ref={scrollRef}\r\n            onUpdate={(value) => {\r\n              anchorRef.current && anchorRef.current.onScroll();\r\n            }}\r\n          >\r\n            <div\r\n              className=\"content-box\"\r\n              style={{ minHeight: height - topHeight - bottomHeight + \"px\" }}\r\n            >\r\n              {ModuleID === \"stuStatusMsg\" ? (\r\n                <BaseMsg\r\n                  onAnchorComplete={(anchor) => {\r\n                    // console.log(anchor);\r\n                    setAnchorList(anchor);\r\n                  }}\r\n                  currentGrade={topRef.current? topRef.current.currentGrade: currentGrade}\r\n                  currentClass={topRef.current? topRef.current.currentClass: currentClass}\r\n                  schoolID={schoolID}\r\n                  collegeID={collegeID}\r\n                  productLevel={productLevel}\r\n                  selectLevel={selectLevel}\r\n                  productMsg={levelHash[productLevel]}\r\n                  term={topRef.current? topRef.current.TermSelect: updateTermList[0]}\r\n                  userIdentity={userIdentity}\r\n                ></BaseMsg>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {ModuleID === \"stuConditionMsg\" ? (\r\n                <StuConditionMsg\r\n                  onAnchorComplete={(anchor) => {\r\n                    // console.log(anchor);\r\n                    setAnchorList(anchor);\r\n                  }}\r\n                  schoolID={schoolID}\r\n                  collegeID={collegeID}\r\n                  productLevel={productLevel}\r\n                  selectLevel={selectLevel}\r\n                  productMsg={levelHash[productLevel]}\r\n                  term={topRef.current? topRef.current.TermSelect: updateTermList[0]}\r\n                  userIdentity={userIdentity}\r\n                  currentGrade={topRef.current? topRef.current.currentGrade: currentGrade}\r\n                  currentClass={topRef.current? topRef.current.currentClass: currentClass}\r\n                ></StuConditionMsg>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {ModuleID === \"attendanceMsg\" ? (\r\n                <AttendanceMsg\r\n                  onAnchorComplete={(anchor) => {\r\n                    // console.log(anchor);\r\n                    setAnchorList(anchor);\r\n                  }}\r\n                  schoolID={schoolID}\r\n                  collegeID={collegeID}\r\n                  productLevel={productLevel}\r\n                  selectLevel={selectLevel}\r\n                  productMsg={levelHash[productLevel]}\r\n                  term={topRef.current? topRef.current.TermSelect: updateTermList[0]}\r\n                  userIdentity={userIdentity}\r\n                  currentGrade={topRef.current? topRef.current.currentGrade: currentGrade}\r\n                  currentClass={topRef.current? topRef.current.currentClass: currentClass}\r\n                ></AttendanceMsg>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {ModuleID === \"healthMsg\" ? (\r\n                <HealthMsg\r\n                  onAnchorComplete={(anchor) => {\r\n                    // console.log(anchor);\r\n                    setAnchorList(anchor);\r\n                  }}\r\n                  schoolID={schoolID}\r\n                  collegeID={collegeID}\r\n                  productLevel={productLevel}\r\n                  selectLevel={selectLevel}\r\n                  productMsg={levelHash[productLevel]}\r\n                  term={topRef.current? topRef.current.TermSelect: updateTermList[0]}\r\n                  userIdentity={userIdentity}\r\n                  currentGrade={topRef.current? topRef.current.currentGrade: currentGrade}\r\n                  currentClass={topRef.current? topRef.current.currentClass: currentClass}\r\n                ></HealthMsg>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {ModuleID === \"awardAndPunish\" ? (\r\n                <AwardAndPunish\r\n                  onAnchorComplete={(anchor) => {\r\n                    // console.log(anchor);\r\n                    setAnchorList(anchor);\r\n                  }}\r\n                  currentGrade={topRef.current? topRef.current.currentGrade: currentGrade}\r\n                  currentClass={topRef.current? topRef.current.currentClass: currentClass}\r\n                  schoolID={schoolID}\r\n                  collegeID={collegeID}\r\n                  productLevel={productLevel}\r\n                  selectLevel={selectLevel}\r\n                  productMsg={levelHash[productLevel]}\r\n                  term={topRef.current? topRef.current.TermSelect: updateTermList[0]}\r\n                  userIdentity={userIdentity}\r\n                ></AwardAndPunish>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {ModuleID === \"schoolLiveMsg\" ? (\r\n                <SchoolLive\r\n                  onAnchorComplete={(anchor) => {\r\n                    // console.log(anchor);\r\n                    setAnchorList(anchor);\r\n                  }}\r\n                  schoolID={schoolID}\r\n                  collegeID={collegeID}\r\n                  productLevel={productLevel}\r\n                  selectLevel={selectLevel}\r\n                  productMsg={levelHash[productLevel]}\r\n                  term={topRef.current? topRef.current.TermSelect: updateTermList[0]}\r\n                  userIdentity={userIdentity}\r\n                  currentGrade={topRef.current? topRef.current.currentGrade: currentGrade}\r\n                  currentClass={topRef.current? topRef.current.currentClass: currentClass}\r\n                ></SchoolLive>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n            <p className=\"ProVersion\">{ProVersion}</p>\r\n          </Scrollbars>\r\n        </div>\r\n        <Anchor\r\n          ref={anchorRef}\r\n          bottomheight={bottomHeight}\r\n          list={anchorList}\r\n          scrollref={scrollRef}\r\n        ></Anchor>\r\n        </div>\r\n        :\r\n        <ImportPage \r\n        currentGrade={topRef.current? topRef.current.currentGrade: currentGrade}\r\n        currentClass={topRef.current? topRef.current.currentClass: currentClass}\r\n        setShowType={setShowType}\r\n        ModuleID={ModuleID}\r\n         />\r\n      }\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: { roleMsg, basePlatFormMsg, contentHW, termInfo, levelHash, userInfo },\r\n  } = state;\r\n  return { roleMsg, basePlatFormMsg, contentHW, termInfo, levelHash, userInfo };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Analysis))));\r\n","/*\r\n *                                                     __----~~~~~~~~~~~------___\r\n *                                    .  .   ~~//====......          __--~ ~~\r\n *                    -.            \\_|//     |||\\\\  ~~~~~~::::... /~\r\n *                 ___-==_       _-~o~  \\/    |||  \\\\            _/~~-\r\n *         __---~~~.==~||\\=_    -_--~/_-~|-   |\\\\   \\\\        _/~\r\n *     _-~~     .=~    |  \\\\-_    '-~7  /-   /  ||    \\      /\r\n *   .~       .~       |   \\\\ -_    /  /-   /   ||      \\   /\r\n *  /  ____  /         |     \\\\ ~-_/  /|- _/   .||       \\ /\r\n *  |~~    ~~|--~~~~--_ \\     ~==-/   | \\~--===~~        .\\\r\n *           '         ~-|      /|    |-~\\~~       __--~~\r\n *                       |-~~-_/ |    |   ~\\_   _-~            /\\\r\n *                            /  \\     \\__   \\/~                \\__\r\n *                        _--~ _/ | .-~~____--~-/                  ~~==.\r\n *                       ((->/~   '.|||' -_|    ~~-/ ,              . _||\r\n *                                  -_     ~\\      ~~---l__i__i__i--~~_/\r\n *                                  _-~-__   ~)  \\--______________--~~\r\n *                                //.-~~~-~_--~- |-------~~~~~~~~\r\n *                                       //.-~~~--\\\r\n *                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *                               神兽保佑            永无BUG\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-08 18:30:14\r\n * @LastEditTime: 2020-12-14 11:25:56\r\n * @Description: table请求的hooks\r\n * @FilePath: \\teacher-development\\src\\component\\table\\hooks.js\r\n */\r\n\r\nimport { useEffect, useState, useRef, useMemo } from \"react\";\r\nexport  function useTableRequest(query = {}, api, prepare = true) {\r\n  // *prepare:是否准备好了，默认是，可以直接请求\r\n  /* 是否是第一次请求 */\r\n  const fisrtRequest = useRef(false);\r\n  /* 保存分页信息 */\r\n  const [pageOptions, setPageOptions] = useState({\r\n    pageIndex: 1,\r\n    pageSize: 10,\r\n  });\r\n  /* 保存表格数据 */\r\n  const [tableData, setTableData] = useState({\r\n    List: [],\r\n    Total: 10,\r\n    PageSize: 10,\r\n    PageIndex: 1,\r\n    IsError: false,\r\n  });\r\n  // 保存是否在请求的状态\r\n  const [loading, setLoading] = useState(false);\r\n  const [isUnMount, setIsUnMount] = useState(false);\r\n\r\n  /* 请求数据 ,数据处理逻辑根后端协调着来 */\r\n  const getList = useMemo(() => {\r\n    return async (payload) => {\r\n      // console.log(payload);\r\n      // 组件卸载了之后不应该再修改它的状态\r\n      if (isUnMount) {\r\n        return;\r\n      }\r\n      // console.log(payload);\r\n\r\n      setLoading(true);\r\n      payload = payload || { ...query, ...pageOptions };\r\n\r\n      if (!api) {\r\n        //api无效，静态更改前端数据\r\n        setTableData({\r\n          ...tableData,\r\n          PageSize: payload.pageSize,\r\n          PageIndex: payload.pageIndex,\r\n        });\r\n        fisrtRequest.current = true;\r\n\r\n        return;\r\n      }\r\n      //  请求,需要提前处理好json转换和处理成tableData的数据结构\r\n      const data = await api(payload);\r\n      // const res = await data.json();\r\n      if (data.StatusCode === 200) {\r\n        setTableData(data.data);\r\n        fisrtRequest.current = true;\r\n      } else {\r\n        setTableData({ isError: true });\r\n      }\r\n      setLoading(false);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  /* 改变分页，重新请求数据 */\r\n  useEffect(() => {\r\n    // console.log(query)\r\n    fisrtRequest.current &&\r\n      getList({\r\n        ...query,\r\n        ...pageOptions,\r\n      });\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [pageOptions]);\r\n  /* 改变查询条件。重新请求数据 */\r\n  useEffect(() => {\r\n    // console.log(query)\r\n\r\n    prepare &&\r\n      getList({\r\n        ...pageOptions,\r\n\r\n        ...query,\r\n        pageIndex: 1,\r\n      });\r\n    return () => {\r\n      setIsUnMount(true);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [query,prepare]);\r\n  /* 处理分页逻辑 */\r\n  const handerChange = useMemo(\r\n    () => (options) => {\r\n      return setPageOptions({ ...query, ...pageOptions, ...options });\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [pageOptions, query]\r\n  );\r\n  // 刷新\r\n  const reloadList = useMemo(\r\n    () => (options,initIndex=true) => {\r\n      options = options || {};\r\n      return getList({\r\n        ...query,\r\n        ...pageOptions,\r\n        pageIndex: initIndex?1:pageOptions.pageIndex,\r\n        ...options,\r\n      });\r\n    },\r\n    [pageOptions, query, getList]\r\n  );\r\n  return [tableData, handerChange, getList, loading, reloadList];\r\n}\r\n","import React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  //   useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Table, Empty, Loading, PagiNation } from \"../common\";\r\nimport { useTableRequest } from \"./hooks\";\r\nfunction $Table(props, ref) {\r\n  let {\r\n    className,\r\n    loading: outLoading,\r\n    tip,\r\n    opacity,\r\n    query,\r\n    // : Query\r\n    pageProps,\r\n    api,\r\n    prepare,\r\n    onDataChange,\r\n    ...reset\r\n  } = props;\r\n  // let { dataSource } = reset;\r\n  /* 控制表格查询条件 */\r\n  // const [query, setQuery] = useState(typeof Query === \"object\" ? Query : {});\r\n  // tableData：列表数据，handerChange:更改查询的条件，getList：获取数据\r\n  const [\r\n    tableData,\r\n    handerChange,\r\n    getList,\r\n    loading,\r\n    reloadList,\r\n  ] = useTableRequest(query, api, prepare);\r\n  const { PageIndex, PageSize, Total, List, IsError } = tableData;\r\n  // useEffect(() => {\r\n  //   console.log(query)\r\n  // }, [query]);\r\n  const PageProps = useMemo(() => {\r\n    return pageProps instanceof Object ? pageProps : {};\r\n  }, [pageProps]);\r\n  useImperativeHandle(\r\n    ref,\r\n    () => ({\r\n      getList,\r\n      reloadList,\r\n      data: tableData,\r\n    }),\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [getList, tableData, reloadList, Total]\r\n  );\r\n  // 监听tableData的变化\r\n  useEffect(() => {\r\n    // console.log(tableData);\r\n    // 实时更新data给使用者\r\n    typeof onDataChange === \"function\" && onDataChange(tableData);\r\n  }, [tableData, onDataChange]);\r\n  return (\r\n    <Loading\r\n      spinning={\r\n        outLoading !== undefined\r\n          ? outLoading instanceof Boolean\r\n            ? outLoading\r\n            : false\r\n          : loading\r\n      }\r\n      tip={tip ? tip : \"加载中...\"}\r\n      opacity={opacity ? opacity : false}\r\n    >\r\n      <div className={`lg-table-box ${className ? className : \"\"}`}>\r\n        {!IsError && List instanceof Array && List.length > 0 ? (\r\n          <>\r\n            <Table\r\n              dataSource={List}\r\n              pagination={false}\r\n              showSorterTooltip={false}\r\n              onChange={(pagination, filters, sorter, extra) => {\r\n                if(extra.action==='sort')\r\n                handerChange({\r\n                  sortFiled: sorter.columnKey,\r\n                  sortType:\r\n                    sorter.order === \"ascend\"\r\n                      ? \"ASC\"\r\n                      : sorter.order === \"descend\"\r\n                      ? \"DESC\"\r\n                      : \"\",\r\n                });\r\n              }}\r\n              className={`lg-table`}\r\n              {...reset}\r\n            ></Table>\r\n            <PagiNation\r\n              showQuickJumper\r\n              showSizeChanger\r\n              // onShowSizeChange={(Current, PageSize) => {\r\n              //   console.log(PageSize);\r\n              //   handerChange({ PageSize });\r\n              // }}\r\n              pageSize={PageSize}\r\n              current={PageIndex}\r\n              hideOnSinglePage={Total === 0 ? true : false}\r\n              total={Total}\r\n              onChange={(pageIndex, pageSize) => {\r\n                handerChange({\r\n                  pageIndex,\r\n                  pageSize:\r\n                    PageProps.showSizeChanger === undefined ||\r\n                    PageProps.showSizeChanger\r\n                      ? pageSize\r\n                      : PageSize,\r\n                });\r\n              }}\r\n              {...PageProps}\r\n            ></PagiNation>\r\n          </>\r\n        ) : (\r\n          <Empty\r\n            className={\"lg-table-empty\"}\r\n            type={\"4\"}\r\n            title={\"暂无数据\"}\r\n          ></Empty>\r\n        )}\r\n      </div>\r\n    </Loading>\r\n  );\r\n}\r\nexport default memo(forwardRef($Table));\r\n","import React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Search, Empty } from \"../common\";\r\nimport { Tooltip } from \"antd\";\r\nimport Table from \"../table\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nfunction HomeTop(props, ref) {\r\n  let {\r\n    className,\r\n    publish,\r\n    children,\r\n    draft,\r\n    search,\r\n    tableProps,\r\n    ...reset\r\n  } = props;\r\n  const [SearchValue, setSearchValue] = useState(\"\");\r\n  // 设置显示的boolean\r\n  const [visible, setVisible] = useState(false);\r\n  // 草稿的ref\r\n  const tableRef = useRef({});\r\n  useEffect(() => {\r\n    search.value !== undefined && setSearchValue(search.value);\r\n  }, [search]);\r\n  useImperativeHandle(ref, () => ({\r\n    reloadDraft: () => {\r\n      tableRef.current.reloadList();\r\n    },\r\n  }));\r\n  return (\r\n    <div className={`home-top ${className ? className : \"\"}`} {...reset}>\r\n      {publish ? (\r\n        <span\r\n          className=\"lg-btn  btn-publish\"\r\n          onClick={(e) => {\r\n            typeof publish.onClick === \"function\" && publish.onClick();\r\n          }}\r\n        >\r\n          {publish.title ? publish.title : \"发布计划\"}\r\n        </span>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {draft ? (\r\n        <Tooltip\r\n          getPopupContainer={(e) => e.parentNode}\r\n          placement={\"bottomRight\"}\r\n          // visible={tableProps?}\r\n          // align={{\r\n          //   points: [\"tr\", \"br\"], // align top left point of sourceNode with top right point of targetNode\r\n          //   // offset: [10, 20], // the offset sourceNode by 10px in x and 20px in y,\r\n          //   // targetOffset: [\"30%\", \"40%\"], // the offset targetNode by 30% of targetNode width in x and 40% of targetNode height in y,\r\n          //   overflow: { adjustX: true, adjustY: true }, // auto adjust position when sourceNode is overflowed\r\n          // }}\r\n          color={\"#fff\"}\r\n          overlayClassName={`draft-box`}\r\n          trigger={\"click\"}\r\n          // destroyTooltipOnHide={true}\r\n          onVisibleChange={(visible) => {\r\n            setVisible(visible);\r\n          }}\r\n          title={\r\n            <div style={{width:'984px',minHeight:'400px'}}>\r\n              {/* <Scrollbars autoHeight autoHeightMax={590} autoHide> */}\r\n                <Table\r\n                style={{minWidth:'884px'}}\r\n                  className=\"Reacruit-table\"\r\n                  columns={draft.columns}\r\n                  // dataSource={data}\r\n                  prepare={!!draft.query.selectLevel}\r\n                  query={draft.query}\r\n                  onDataChange={(data) => {}}\r\n                  ref={tableRef}\r\n                  api={draft.api}\r\n                  pageProps={{ showSizeChanger: false }}\r\n                ></Table>\r\n              {/* </Scrollbars> */}\r\n            </div>\r\n          }\r\n        >\r\n          <span\r\n            className=\"lg-btn  btn-draft\"\r\n            onClick={(e) => {\r\n              // 如果是显示的时候点击，不请求\r\n              if (!visible) {\r\n                tableRef.current.reloadList && tableRef.current.reloadList();\r\n              }\r\n              typeof draft.onClick === \"function\" && publish.onClick();\r\n            }}\r\n          >\r\n            {draft.title ? draft.title : \"草稿箱\"}\r\n            {draft.count || draft.count === 0 ? <>[{draft.count}]</> : \"\"}\r\n          </span>\r\n        </Tooltip>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {search ? (\r\n        <Search\r\n          placeHolder={\"输入关键词搜索...\"}\r\n          className=\"home-search\"\r\n          Value={SearchValue}\r\n          onChange={(e) => {\r\n            setSearchValue(e.target.value);\r\n          }}\r\n          onClickSearch={(e) => {\r\n            typeof search.onSearch === \"function\" &&\r\n              search.onSearch(SearchValue);\r\n          }}\r\n          onCancelSearch={(e) => {\r\n            setSearchValue(\"\");\r\n            typeof search.onSearch === \"function\" && search.onSearch(\"\");\r\n          }}\r\n        ></Search>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default memo(forwardRef(HomeTop));\r\n","/*\r\n *\r\n * 　　┏┓　　　┏┓+ +\r\n * 　┏┛┻━━━┛┻┓ + +\r\n * 　┃　　　　　　　┃\r\n * 　┃　　　━　　　┃ ++ + + +\r\n *  ████━████ ┃+\r\n * 　┃　　　　　　　┃ +\r\n * 　┃　　　┻　　　┃\r\n * 　┃　　　　　　　┃ + +\r\n * 　┗━┓　　　┏━┛\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ + + + +\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ +  神兽保佑\r\n * 　　　┃　　　┃    代码无bug\r\n * 　　　┃　　　┃　　+\r\n * 　　　┃　 　　┗━━━┓ + +\r\n * 　　　┃ 　　　　　　　┣┓\r\n * 　　　┃ 　　　　　　　┏┛\r\n * 　　　┗┓┓┏━┳┓┏┛ + + + +\r\n * 　　　　┃┫┫　┃┫┫\r\n * 　　　　┗┻┛　┗┻┛+ + + +\r\n *\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 10:25:40\r\n * @LastEditTime: 2020-12-10 18:45:47\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\recruit\\reducer.js\r\n */\r\nimport React, {\r\n  // useCallback,\r\n  // memo,\r\n  // useEffect,\r\n  // useState,\r\n  useReducer,\r\n  createContext,\r\n  // useImperativeHandle,\r\n  // useRef,\r\n  // forwardRef,\r\n} from \"react\";\r\n// 创建frame的context\r\nexport const Context = createContext();\r\nexport const initState = {\r\n  keyword: \"\",\r\n  compoent:'1'\r\n};\r\nexport const Reducer = (state, actions) => {\r\n  switch (actions.type) {\r\n    case \"SET_KEY_WORD\":\r\n      return Object.assign({}, state, {\r\n        keyword:actions.data,\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","/*\r\n *\r\n *    ┏┓　　　┏┓\r\n *  ┏┛┻━━━┛┻┓\r\n *  ┃　　　　　　　┃\r\n *  ┃　　　━　　　┃\r\n *  ┃　＞　　　＜　┃\r\n *  ┃　　　　　　　┃\r\n *  ┃...　⌒　...　┃\r\n *  ┃　　　　　　　┃\r\n *  ┗━┓　　　┏━┛\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃  神兽保佑\r\n *      ┃　　　┃  代码无bug\r\n *      ┃　　　┃\r\n *      ┃　　　┗━━━┓\r\n *      ┃　　　　　　　┣┓\r\n *      ┃　　　　　　　┏┛\r\n *      ┗┓┓┏━┳┓┏┛\r\n *        ┃┫┫　┃┫┫\r\n *        ┗┻┛　┗┻┛\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 11:46:56\r\n * @LastEditTime: 2020-12-14 21:22:43\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\api\\recruit.js\r\n */\r\nimport fetch from \"../util/fetch\";\r\nimport ipConfig from \"../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2076\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getCruitList(payload = {}) {\r\n  // *RStatus:状态：0草稿；1正式发布\r\n  let {\r\n    pageIndex,\r\n    pageSize,\r\n    keyword,\r\n    schoolID,\r\n    collegeID,\r\n    selectLevel,\r\n    rStatus,\r\n  } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Recruitment/List?SchoolID=${schoolID ? schoolID : \"\"}&RStatus=${\r\n      parseInt(rStatus) === 0 ? 0 : 1\r\n    }&PageIndex=${pageIndex ? pageIndex : 1}&PageSize=${\r\n      pageSize ? pageSize : 10\r\n    }&Keyword=${keyword ? keyword : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }&SelectLevel=${selectLevel ? selectLevel : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: {\r\n            ...json.Data,\r\n            List:\r\n              json.Data.List instanceof Array\r\n                ? json.Data.List.map((child, index) => {\r\n                    // child:[{\"RID\":\"xxxxxxxxxxxxxxxxxxx\",        //ID，唯一标识\r\n                    // \"Title\":\"关于2020年白云区教师培招聘划\",    //标题\r\n                    // \"Issue\":\"白云中学\",                    //来源\r\n                    // \"RStatus\":0,                        //状态：0草稿；1正式发布\r\n                    // \"ReleaseTime\":\"2020-01-01 12:00\",    //发布时间\r\n                    // \"CreatorName\":\"张老师\",            //发布者\r\n                    // \"UpdateTime\":\"2020-01-01 12:00\" //最近一次编辑时间}]\r\n                    let Index = (json.Data.PageIndex - 1) * 10 + index + 1;\r\n                    Index = Index >= 10 ? Index : \"0\" + Index;\r\n                    return {\r\n                      ...child,\r\n                      key: index,\r\n                      index: Index,\r\n                      title: child.Title,\r\n                      source: child.Issue,\r\n                      publisher: child.CreatorName,\r\n                      time: child.ReleaseTime,\r\n                    };\r\n                  })\r\n                : [],\r\n            PageSize: pageSize,\r\n            // List:  [\r\n            //     {\r\n            //       key: 0,\r\n            //       index: \"011111111111111\",\r\n            //       title:\r\n            //         \"2020年广州市白云区中小学及幼儿园聘任制教师招聘320名计划2020年广州市白云区中小学及幼儿园聘任制教师招聘320名计划\",\r\n            //       source: \"辖区教育局辖区教育局辖区教育局\",\r\n            //       publisher: \"祝泽森祝泽森祝泽森\",\r\n            //       time: \"2020-08-29 13:59 020-08-29 13:59\",\r\n            //     },\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2077\r\n * @param {*}\r\n * @return {*}\r\n */\r\n// 获取招聘详情\r\nexport function getRecruitDetail(payload = {}) {\r\n  // *ID：招聘id\r\n  let { id } = payload;\r\n  let url = BasicProxy + `/Recruitment/Detail?RID=${id}`;\r\n\r\n  return fetch\r\n    .get({ url, securityLevel: 2, advance: false })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          ErrCode: json.ErrCode,\r\n          data: {\r\n            ...json.Data,\r\n            ID: json.Data.RID,\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          ErrCode: json.ErrCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n// 发布招聘\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2078\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function publishRecruit(payload = {}) {\r\n  //   {\r\n  //     \"SchoolID\":\"xxx\",    //发布者所属学校ID\r\n  //     \"CollegeID\":\"xxx\",    //发布者所属学院ID\r\n  //     \"Title\":\"关于2020年白云区教师培训计划\",    //标题\r\n  //     \"Issue\":\"白云中学\",                    //来源\r\n  //     \"RStatus\":0,                        //状态：0草稿；1正式发布\r\n  //     \"Content\":\"关于2020年白云区教师培训计划如下\",    //正文\r\n  //     \"FileList\":[{\r\n  //         \"FileName\":\"培训计划行程.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }，{\r\n  //         \"FileName\":\"培训计划宿舍安排.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }]\r\n  // }\r\n\r\n  let {\r\n    SchoolID,\r\n    CollegeID,\r\n    SelectLevel,\r\n    RStatus,\r\n    Title,\r\n    Issue,\r\n    ReleaseTime,\r\n    Content,\r\n    FileList,\r\n  } = payload;\r\n  let url = BasicProxy + `/Recruitment/Add`;\r\n\r\n  return fetch\r\n    .post({\r\n      url,\r\n      securityLevel: 2,\r\n      header: { \"Content-Type\": \"application/json\" },\r\n      body: {\r\n        SchoolID,\r\n        CollegeID,\r\n        SelectLevel,\r\n        RStatus,\r\n        Title,\r\n        Issue,\r\n        ReleaseTime,\r\n        Content,\r\n        FileList,\r\n      },\r\n    })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          result: true,\r\n        };\r\n      } else {\r\n        return { result: false };\r\n      }\r\n    });\r\n}\r\n// 编辑招聘\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2078\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function editRecruit(payload = {}) {\r\n  //   {\r\n  //     \"SchoolID\":\"xxx\",    //发布者所属学校ID\r\n  //     \"CollegeID\":\"xxx\",    //发布者所属学院ID\r\n  //     \"Title\":\"关于2020年白云区教师培训计划\",    //标题\r\n  //     \"Issue\":\"白云中学\",                    //来源\r\n  //     \"RStatus\":0,                        //状态：0草稿；1正式发布\r\n  //     \"Content\":\"关于2020年白云区教师培训计划如下\",    //正文\r\n  //     \"FileList\":[{\r\n  //         \"FileName\":\"培训计划行程.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }，{\r\n  //         \"FileName\":\"培训计划宿舍安排.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }]\r\n  // }\r\n\r\n  let {\r\n    // SchoolID,\r\n    // CollegeID,\r\n    // SelectLevel,\r\n    RStatus,\r\n    Title,\r\n    Issue,\r\n    RID,\r\n    // ReleaseTime,\r\n    Content,\r\n    FileList,\r\n  } = payload;\r\n  let url = BasicProxy + `/Recruitment/Edit`;\r\n\r\n  return fetch\r\n    .post({\r\n      url,\r\n      securityLevel: 2,\r\n      header: { \"Content-Type\": \"application/json\" },\r\n      body: {\r\n        // SchoolID,\r\n        // CollegeID,\r\n        // SelectLevel,\r\n        RStatus,\r\n        Title,\r\n        RID,\r\n        Issue,\r\n        // ReleaseTime,\r\n        Content,\r\n        FileList,\r\n      },\r\n    })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          result: true,\r\n        };\r\n      } else {\r\n        return { result: false };\r\n      }\r\n    });\r\n}\r\n// 删除\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2080\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function deleteRecruit(payload = {}) {\r\n  let { RIDs } = payload;\r\n  let url = BasicProxy + `/Recruitment/Delete`;\r\n\r\n  return fetch\r\n    .post({\r\n      url,\r\n      securityLevel: 2,\r\n      body: {\r\n        RIDs,\r\n      },\r\n    })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          result: true,\r\n        };\r\n      } else {\r\n        return { result: false };\r\n      }\r\n    });\r\n}\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-15 15:52:17\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\recruit\\home.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { withRouter, useHistory, useLocation } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport HomeTop from \"../../component/homeTop\";\r\nimport Table from \"../../component/table\";\r\nimport { Context } from \"./reducer\";\r\nimport { getCruitList, deleteRecruit } from \"../../api/recruit\";\r\nimport { autoAlert } from \"../../util/public\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Home(props, ref) {\r\n  let {\r\n    teacherRecruitMsg: { tabId },\r\n    roleMsg: { schoolID, collegeID, selectLevel },\r\n    // history,\r\n    activeTab,\r\n    dispatch,\r\n  } = props;\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n  let {\r\n    state: { keyword },\r\n    setDispatch,\r\n  } = useContext(Context);\r\n  const [query, setQuery] = useState({\r\n    keyword,\r\n    schoolID,\r\n    collegeID,\r\n    selectLevel,\r\n  });\r\n  // 获取table组件的ref\r\n  const tableRef = useRef({});\r\n  // 草稿数量\r\n  const [draft, setDraft] = useState(0);\r\n  // 初始请求\r\n  const initGet = useRef(false);\r\n  // table 的宽度最小为1040，各个列的width按这个来算1040/1200*设计图的width\r\n  let widthRate = 1040 / 1200;\r\n  let columns = [\r\n    {\r\n      title: \"序号\",\r\n      dataIndex: \"index\",\r\n      align: \"center\",\r\n      width: 102 * widthRate,\r\n      textWrap: \"word-break\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-index\" title={data}>\r\n            {data}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"标题\",\r\n      width: 494 * widthRate,\r\n      // dataIndex: \"title\",\r\n      render: (data) => {\r\n        let { title, RID } = data;\r\n        return (\r\n          <span\r\n            onClick={() => {\r\n              history.push(\"/recruitDetail/\" + RID);\r\n            }}\r\n            className=\"table-title\"\r\n            title={title}\r\n          >\r\n            {title ? title : \"--\"}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"来源\",\r\n      align: \"center\",\r\n      width: 128 * widthRate,\r\n      dataIndex: \"source\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-source\" title={data}>\r\n            {data ? data : \"--\"}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"发布人\",\r\n      align: \"center\",\r\n      width: 90 * widthRate,\r\n      dataIndex: \"publisher\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-publisher\" title={data}>\r\n            {data ? data : \"--\"}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"时间\",\r\n      align: \"center\",\r\n      width: 172 * widthRate,\r\n      dataIndex: \"time\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-time\" title={data}>\r\n            {data ? data : \"--\"}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      align: \"center\",\r\n      width: 200 * widthRate,\r\n\r\n      // dataIndex: \"time\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-handle\">\r\n            <span\r\n              className=\"table-btn btn-edit\"\r\n              onClick={() => {\r\n                history.push(\"/editRecruit/\" + data.RID);\r\n              }}\r\n            >\r\n              编辑\r\n            </span>\r\n            <span\r\n              className=\"table-btn btn-delete\"\r\n              onClick={() => {\r\n                autoAlert({\r\n                  title: \"确定删除该招聘计划?\",\r\n                  type: \"btn-warn\",\r\n                  cancelShow: true,\r\n                  onOk: () => {\r\n                    DeleteRecruit(\r\n                      { RIDs: data.RID },\r\n                      tableRef.current.reloadList.bind(this, {}, false)\r\n                    );\r\n                  },\r\n                });\r\n              }}\r\n            >\r\n              删除\r\n            </span>\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  let draftColumns = [\r\n    {\r\n      title: \"序号\",\r\n      dataIndex: \"index\",\r\n      align: \"center\",\r\n      width: 102 * widthRate,\r\n      textWrap: \"word-break\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-index\" title={data}>\r\n            {data}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"标题\",\r\n      width: 300 * widthRate,\r\n      // dataIndex: \"title\",\r\n      render: (data) => {\r\n        let { title, RID } = data;\r\n        return (\r\n          <span\r\n            onClick={() => {\r\n              // history.push(\"/recruitDetail/\" + RID);\r\n            }}\r\n            className=\"table-title\"\r\n            title={title}\r\n          >\r\n            {title ? title : \"--\"}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n\r\n    {\r\n      title: \"最后一次编辑时间\",\r\n      align: \"center\",\r\n      width: 172 * widthRate,\r\n      dataIndex: \"UpdateTime\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-time\" title={data}>\r\n            {data ? data : \"--\"}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      align: \"center\",\r\n      width: 200 * widthRate,\r\n\r\n      // dataIndex: \"time\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-handle\">\r\n            <span\r\n              className=\"table-btn btn-edit\"\r\n              onClick={() => {\r\n                history.push(\"/editRecruit/\" + data.RID);\r\n              }}\r\n            >\r\n              编辑\r\n            </span>\r\n            <span\r\n              className=\"table-btn btn-delete\"\r\n              onClick={() => {\r\n                // autoAlert({\r\n                //   title: \"确定删除该草稿?\",\r\n                //   type: \"btn-warn\",\r\n                //   cancelShow: true,\r\n                //   onOk: () => {\r\n                //     DeleteRecruit({ RIDs: data.RID }, () => {\r\n                //       tableRef.current.reloadList();\r\n\r\n                //       homeTopRef.current.reloadDraft();\r\n                //     });\r\n                //   },\r\n                // });\r\n                DeleteRecruit({ RIDs: data.RID }, () => {\r\n                  tableRef.current.reloadList({}, false);\r\n\r\n                  homeTopRef.current.reloadDraft();\r\n                });\r\n              }}\r\n            >\r\n              删除\r\n            </span>\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  // 删除\r\n  const DeleteRecruit = useCallback(\r\n    (param, success = () => {}, error = () => {}) => {\r\n      deleteRecruit(param).then((res) => {\r\n        if (res.result) {\r\n          success();\r\n        } else {\r\n          error();\r\n        }\r\n      });\r\n    },\r\n    []\r\n  );\r\n  // useEffect(() => {\r\n  //   console.log(keyword, selectLevel);\r\n  //   selectLevel && setQuery({ keyword, schoolID, collegeID, selectLevel });\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, []);\r\n\r\n  // 设置草稿数量\r\n  // useLayoutEffect(() => {\r\n  //   console.log(tableRef.current, tableRef);\r\n  //   setDraft(\r\n  //     tableRef.current.data && tableRef.current.data.Draft\r\n  //       ? tableRef.current.data.Draft\r\n  //       : 0\r\n  //   );\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, [tableRef.current]);\r\n  // 刷新\r\n\r\n  useLayoutEffect(() => {\r\n    let { pathname } = location;\r\n    //第一次进来不请求\r\n    if (!initGet.current) {\r\n      initGet.current = true;\r\n    } else {\r\n      if (pathname === \"/teacherRecruit\") {\r\n        // console.log('adss')\r\n        tableRef.current.reloadList();\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location]);\r\n  const topDraft = useMemo(() => {\r\n    return {\r\n      title: \"草稿箱\",\r\n      count: draft,\r\n      query: { selectLevel, schoolID, collegeID, rStatus: 0 },\r\n      api: getCruitList,\r\n      columns: draftColumns,\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectLevel, schoolID, collegeID, draft]);\r\n  // console.log(keyword)\r\n  useImperativeHandle(ref, () => ({\r\n    reloadList: tableRef.current.reloadList,\r\n  }));\r\n  //\r\n  const homeTopRef = useRef(null);\r\n  return (\r\n    <div className=\"Reacruit-context Recruit-home\">\r\n      <HomeTop\r\n        ref={homeTopRef}\r\n        publish={{\r\n          title: \"发布招聘计划\",\r\n          onClick: () => {\r\n            history.push(\"/publishRecruit\");\r\n          },\r\n        }}\r\n        draft={topDraft}\r\n        search={{\r\n          onSearch: (value) => {\r\n            // console.log(value)\r\n            setDispatch({ type: \"SET_KEY_WORD\", data: value });\r\n            setQuery({ schoolID, collegeID, keyword: value, selectLevel });\r\n          },\r\n        }}\r\n      ></HomeTop>\r\n      <Table\r\n        className=\"Reacruit-table\"\r\n        columns={columns}\r\n        // dataSource={data}\r\n        prepare={!!query.selectLevel}\r\n        query={query}\r\n        onDataChange={(data) => {\r\n          setDraft(data && data.Draft ? data.Draft : 0);\r\n        }}\r\n        ref={tableRef}\r\n        api={getCruitList}\r\n      ></Table>\r\n      {/* <div style={{height:'20px',width:'100px',background:'#a6a6a6'}} onClick={()=>{\r\n      history.push(`/${tabId}/publish`  );\r\n      dispatch(handleActions.setTeacherRecruitMsg({tabName:'发布招聘计划'}))\r\n  }}></div> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg, activeTab },\r\n    commonData: { roleMsg },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg, activeTab };\r\n};\r\nexport default connect(mapStateToProps, null, null, { forwardRef: true })(\r\n  memo(forwardRef(Home))\r\n);\r\n","/*\r\n *           佛曰:\r\n *                   写字楼里写字间，写字间里程序员；\r\n *                   程序人员写程序，又拿程序换酒钱。\r\n *                   酒醒只在网上坐，酒醉还来网下眠；\r\n *                   酒醉酒醒日复日，网上网下年复年。\r\n *                   但愿老死电脑间，不愿鞠躬老板前；\r\n *                   奔驰宝马贵者趣，公交自行程序员。\r\n *                   别人笑我忒疯癫，我笑自己命太贱；\r\n *                   不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-11 10:02:50\r\n * @LastEditTime: 2021-02-01 16:27:42\r\n * @Description: 招聘，培训详情请求hooks\r\n * @FilePath: \\teacher-development\\src\\hooks\\useDetailRequest.js\r\n */\r\n\r\n/**\r\n * @description: 不会运行的时候就请求数据，需要使用者自己主动使用请求\r\n * @param {*}\r\n * @return {*}\r\n */\r\nimport { useEffect, useState, useCallback, useRef, useMemo } from \"react\";\r\nexport default function useDetailRequest(query, api) {\r\n  // 请求的id\r\n  const [id, setID] = useState(\"\");\r\n  //   loading状态\r\n  const [loading, setLoading] = useState(true);\r\n  //储存返回的数据接口\r\n  const [detailData, setDetailData] = useState({\r\n    IsLoaded: false, //是否加载过\r\n    IsExist: true, //是否存在\r\n    IsError: false, //是否出错\r\n    // IsLoaded>IsExist>IsError,判断级别\r\n    ID: \"\", //ID，唯一标识\r\n    Title: \"\", //标题\r\n    Issue: \"\", //来源\r\n    Status: 0, //状态：0草稿；1正式发布\r\n    Content: \"\", //正文\r\n    CreatorID: \"\", //发布者工号\r\n    CreatorName: \"\", //发布者\r\n    ReleaseTime: \"\", //发布时间\r\n    UpdateTime: \"\", //最近一次编辑时间\r\n    FileList: [\r\n      //   {\r\n      //     FileID: 20,\r\n      //     FileName: \"招聘岗位.xls\", //文件名称\r\n      //     FileUrl: \"xxxxxxxxxxxxx\", //文件路径\r\n      //     FileSize: \"23.4M\", //文件大小\r\n      //     DeleteFlag: 0, //文件删除标识\r\n      //   },\r\n    ],\r\n  });\r\n  //   请求处理\r\n  const getDetailData = useCallback(\r\n    async (payload) => {\r\n      setLoading(true);\r\n      payload = payload || { id, ...query };\r\n      if (!api) {\r\n        return;\r\n      }\r\n      //  请求,需要提前处理好json转换和处理成tableData的数据结构\r\n      const data = await api(payload);\r\n      // const res = await data.json();\r\n      if (data.StatusCode === 200) {\r\n        setDetailData({ ...data.data, IsExist: true, IsLoaded: true });\r\n      } else {\r\n        if (data.ErrCode === -2) {\r\n          setDetailData({ IsExist: false, IsError: true, IsLoaded: true });\r\n        } else {\r\n          // 都当不存在处理\r\n          setDetailData({ IsExist: false, IsError: true, IsLoaded: true });\r\n        }\r\n      }\r\n      setLoading(false);\r\n    },\r\n    [api, id, query]\r\n  );\r\n  //   ID变化，请求\r\n  useEffect(() => {\r\n    //   必须有id\r\n    id && getDetailData({ id });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [id]);\r\n  //   修改id\r\n  const handleChange = useCallback((id) => {\r\n    setID(id);\r\n  }, []);\r\n  const reload = useCallback(()=>{\r\n    id && getDetailData({ id });\r\n  },[id])\r\n  return [detailData, handleChange, loading,reload];\r\n}\r\n","/*\r\n *\r\n *    ┏┓　　　┏┓\r\n *  ┏┛┻━━━┛┻┓\r\n *  ┃　　　　　　　┃\r\n *  ┃　　　━　　　┃\r\n *  ┃　＞　　　＜　┃\r\n *  ┃　　　　　　　┃\r\n *  ┃...　⌒　...　┃\r\n *  ┃　　　　　　　┃\r\n *  ┗━┓　　　┏━┛\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃  神兽保佑\r\n *      ┃　　　┃  代码无bug\r\n *      ┃　　　┃\r\n *      ┃　　　┗━━━┓\r\n *      ┃　　　　　　　┣┓\r\n *      ┃　　　　　　　┏┛\r\n *      ┗┓┓┏━┳┓┏┛\r\n *        ┃┫┫　┃┫┫\r\n *        ┗┻┛　┗┻┛\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 11:46:56\r\n * @LastEditTime: 2020-12-15 14:38:51\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\api\\train.js\r\n */\r\nimport fetch from \"../util/fetch\";\r\nimport ipConfig from \"../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2076 管理员\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getCruitList(payload = {}) {\r\n  // *TStatus:状态：0草稿；1正式发布\r\n  let {\r\n    pageIndex,\r\n    pageSize,\r\n    keyword,\r\n    schoolID,\r\n    collegeID,\r\n    selectLevel,\r\n    rStatus,\r\n  } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Train/List?SchoolID=${schoolID ? schoolID : \"\"}&TStatus=${\r\n      parseInt(rStatus) === 0 ? 0 : 1\r\n    }&PageIndex=${pageIndex ? pageIndex : 1}&PageSize=${\r\n      pageSize ? pageSize : 10\r\n    }&Keyword=${keyword ? keyword : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }&SelectLevel=${selectLevel ? selectLevel : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: {\r\n            ...json.Data,\r\n            List:\r\n              json.Data.List instanceof Array\r\n                ? json.Data.List.map((child, index) => {\r\n                    // child:[{\"TID\":\"xxxxxxxxxxxxxxxxxxx\",        //ID，唯一标识\r\n                    // \"Title\":\"关于2020年白云区教师培招聘划\",    //标题\r\n                    // \"Issue\":\"白云中学\",                    //来源\r\n                    // \"TStatus\":0,                        //状态：0草稿；1正式发布\r\n                    // \"ReleaseTime\":\"2020-01-01 12:00\",    //发布时间\r\n                    // \"CreatorName\":\"张老师\",            //发布者\r\n                    // \"UpdateTime\":\"2020-01-01 12:00\" //最近一次编辑时间}]\r\n                    let Index = (json.Data.PageIndex - 1) * 10 + index + 1;\r\n                    Index = Index >= 10 ? Index : \"0\" + Index;\r\n                    return {\r\n                      ...child,\r\n                      key: index,\r\n                      index: Index,\r\n                      title: child.Title,\r\n                      source: child.Issue,\r\n                      publisher: child.CreatorName,\r\n                      time: child.ReleaseTime,\r\n                    };\r\n                  })\r\n                : [],\r\n            PageSize: pageSize,\r\n            // List:  [\r\n            //     {\r\n            //       key: 0,\r\n            //       index: \"011111111111111\",\r\n            //       title:\r\n            //         \"2020年广州市白云区中小学及幼儿园聘任制教师招聘320名计划2020年广州市白云区中小学及幼儿园聘任制教师招聘320名计划\",\r\n            //       source: \"辖区教育局辖区教育局辖区教育局\",\r\n            //       publisher: \"祝泽森祝泽森祝泽森\",\r\n            //       time: \"2020-08-29 13:59 020-08-29 13:59\",\r\n            //     },\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n/**\r\n * @description: 教师获取 http://192.168.129.1:8033/showdoc/web/#/21?page_id=2201\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getCruitListByTeacher(payload = {}) {\r\n  // *TStatus:状态：0草稿；1正式发布\r\n  let {\r\n    pageIndex,\r\n    pageSize,\r\n    keyword,\r\n    schoolID,\r\n    collegeID,\r\n    selectLevel,\r\n    rStatus,\r\n  } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Train/Teacher/List?SchoolID=${schoolID ? schoolID : \"\"}&TStatus=${\r\n      parseInt(rStatus) === 0 ? 0 : 1\r\n    }&PageIndex=${pageIndex ? pageIndex : 1}&PageSize=${\r\n      pageSize ? pageSize : 10\r\n    }&Keyword=${keyword ? keyword : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }&SelectLevel=${selectLevel ? selectLevel : \"\"}`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: {\r\n            ...json.Data,\r\n            List:\r\n              json.Data.List instanceof Array\r\n                ? json.Data.List.map((child, index) => {\r\n                    // child:[{\"TID\":\"xxxxxxxxxxxxxxxxxxx\",        //ID，唯一标识\r\n                    // \"Title\":\"关于2020年白云区教师培招聘划\",    //标题\r\n                    // \"Issue\":\"白云中学\",                    //来源\r\n                    // \"TStatus\":0,                        //状态：0草稿；1正式发布\r\n                    // \"ReleaseTime\":\"2020-01-01 12:00\",    //发布时间\r\n                    // \"CreatorName\":\"张老师\",            //发布者\r\n                    // \"UpdateTime\":\"2020-01-01 12:00\" //最近一次编辑时间}]\r\n                    let Index = (json.Data.PageIndex - 1) * 10 + index + 1;\r\n                    Index = Index >= 10 ? Index : \"0\" + Index;\r\n                    return {\r\n                      ...child,\r\n                      key: index,\r\n                      index: Index,\r\n                      title: child.Title,\r\n                      source: child.Issue,\r\n                      publisher: child.CreatorName,\r\n                      time: child.ReleaseTime,\r\n                    };\r\n                  })\r\n                : [],\r\n            PageSize: pageSize,\r\n            // List:  [\r\n            //     {\r\n            //       key: 0,\r\n            //       index: \"011111111111111\",\r\n            //       title:\r\n            //         \"2020年广州市白云区中小学及幼儿园聘任制教师招聘320名计划2020年广州市白云区中小学及幼儿园聘任制教师招聘320名计划\",\r\n            //       source: \"辖区教育局辖区教育局辖区教育局\",\r\n            //       publisher: \"祝泽森祝泽森祝泽森\",\r\n            //       time: \"2020-08-29 13:59 020-08-29 13:59\",\r\n            //     },\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2077\r\n * @param {*}\r\n * @return {*}\r\n */\r\n// 获取招聘详情\r\nexport function getTrainDetail(payload = {}) {\r\n  // *ID：招聘id\r\n  let { id } = payload;\r\n  let url = BasicProxy + `/Train/Detail?TID=${id}`;\r\n\r\n  return fetch\r\n    .get({ url, securityLevel: 2, advance: false })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          ErrCode: json.ErrCode,\r\n          data: {\r\n            ...json.Data,\r\n            ID: json.Data.TID,\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          ErrCode: json.ErrCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n// 发布招聘\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2078\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function publishTrain(payload = {}) {\r\n  //   {\r\n  //     \"SchoolID\":\"xxx\",    //发布者所属学校ID\r\n  //     \"CollegeID\":\"xxx\",    //发布者所属学院ID\r\n  //     \"Title\":\"关于2020年白云区教师培训计划\",    //标题\r\n  //     \"Issue\":\"白云中学\",                    //来源\r\n  //     \"TStatus\":0,                        //状态：0草稿；1正式发布\r\n  //     \"Content\":\"关于2020年白云区教师培训计划如下\",    //正文\r\n  //     \"FileList\":[{\r\n  //         \"FileName\":\"培训计划行程.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }，{\r\n  //         \"FileName\":\"培训计划宿舍安排.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }]\r\n  // }\r\n\r\n  let {\r\n    SchoolID,\r\n    CollegeID,\r\n    SelectLevel,\r\n    TStatus,\r\n    Title,\r\n    Issue,\r\n    ReleaseTime,\r\n    Content,\r\n    FileList,\r\n    Limit,\r\n    ApplyBeginTime,\r\n    ApplyEndTime,\r\n    ActivityFlag,\r\n    ApplyFlag,\r\n  } = payload;\r\n  let url = BasicProxy + `/Train/Add`;\r\n\r\n  return fetch\r\n    .post({\r\n      url,\r\n      securityLevel: 2,\r\n      header: { \"Content-Type\": \"application/json\" },\r\n      body: {\r\n        SchoolID,\r\n        CollegeID,\r\n        SelectLevel,\r\n        TStatus,\r\n        Title,\r\n        Issue,\r\n        ReleaseTime,\r\n        Content,\r\n        FileList,\r\n        Limit,\r\n        ApplyBeginTime,\r\n        ApplyEndTime,\r\n        ActivityFlag,\r\n        ApplyFlag,\r\n      },\r\n    })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          result: true,\r\n        };\r\n      } else {\r\n        return { result: false };\r\n      }\r\n    });\r\n}\r\n// 编辑招聘\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2078\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function editTrain(payload = {}) {\r\n  //   {\r\n  //     \"SchoolID\":\"xxx\",    //发布者所属学校ID\r\n  //     \"CollegeID\":\"xxx\",    //发布者所属学院ID\r\n  //     \"Title\":\"关于2020年白云区教师培训计划\",    //标题\r\n  //     \"Issue\":\"白云中学\",                    //来源\r\n  //     \"TStatus\":0,                        //状态：0草稿；1正式发布\r\n  //     \"Content\":\"关于2020年白云区教师培训计划如下\",    //正文\r\n  //     \"FileList\":[{\r\n  //         \"FileName\":\"培训计划行程.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }，{\r\n  //         \"FileName\":\"培训计划宿舍安排.xls\",\r\n  //         \"FileUrl\":\"xxxxxxxxxxxxx\",\r\n  //         \"FileSize\":\"23.4M\"                //文件大小\r\n  //     }]\r\n  // }\r\n\r\n  let {\r\n    // SchoolID,\r\n    // CollegeID,\r\n    // SelectLevel,\r\n    TStatus,\r\n    Title,\r\n    Issue,\r\n    TID,\r\n    // ReleaseTime,\r\n    Content,\r\n    Limit,\r\n    ApplyBeginTime,\r\n    ApplyEndTime,\r\n    ActivityFlag,\r\n    ApplyFlag,\r\n    FileList,\r\n  } = payload;\r\n  let url = BasicProxy + `/Train/Edit`;\r\n\r\n  return fetch\r\n    .post({\r\n      url,\r\n      securityLevel: 2,\r\n      header: { \"Content-Type\": \"application/json\" },\r\n      body: {\r\n        // SchoolID,\r\n        // CollegeID,\r\n        // SelectLevel,\r\n        TStatus,\r\n        Title,\r\n        TID,\r\n        Issue,\r\n        // ReleaseTime,\r\n        Content,\r\n        Limit,\r\n        ApplyBeginTime,\r\n        ApplyEndTime,\r\n        ActivityFlag,\r\n        ApplyFlag,\r\n        FileList,\r\n      },\r\n    })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          result: true,\r\n        };\r\n      } else {\r\n        return { result: false };\r\n      }\r\n    });\r\n}\r\n// 删除\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2080\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function deleteTrain(payload = {}) {\r\n  let { TIDs } = payload;\r\n  let url = BasicProxy + `/Train/Delete`;\r\n\r\n  return fetch\r\n    .post({\r\n      url,\r\n      securityLevel: 2,\r\n      body: {\r\n        TIDs,\r\n      },\r\n    })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          result: true,\r\n        };\r\n      } else {\r\n        return { result: false };\r\n      }\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * @description: 教师报名\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function applyTrain(payload = {}) {\r\n  let { TID,Action } = payload;\r\n  let url = BasicProxy + `/Train/Teacher/Apply`;\r\n\r\n  return fetch\r\n    .post({\r\n      url,\r\n      securityLevel: 2,\r\n      body: {\r\n        TID:TID,Action\r\n      },\r\n    })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          result: true,\r\n        };\r\n      } else {\r\n        return { result: false };\r\n      }\r\n    });\r\n}","/*\r\n *                        .::::.\r\n *                      .::::::::.\r\n *                     :::::::::::\r\n *                  ..:::::::::::'\r\n *               '::::::::::::'\r\n *                 .::::::::::\r\n *            '::::::::::::::..\r\n *                 ..::::::::::::.\r\n *               ``::::::::::::::::\r\n *                ::::``:::::::::'        .:::.\r\n *               ::::'   ':::::'       .::::::::.\r\n *             .::::'      ::::     .:::::::'::::.\r\n *            .:::'       :::::  .:::::::::' ':::::.\r\n *           .::'        :::::.:::::::::'      ':::::.\r\n *          .::'         ::::::::::::::'         ``::::.\r\n *      ...:::           ::::::::::::'              ``::.\r\n *     ````':.          ':::::::::'                  ::::..\r\n *                        '.:::::'                    ':'````..\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2021-01-06 11:20:21\r\n * @LastEditTime: 2021-01-06 11:20:21\r\n * @Description: 百度编辑器的hooks\r\n * @FilePath: \\teacher-development\\src\\hooks\\useUEditorLaod.js\r\n */\r\n\r\nimport React, {\r\n  useEffect,\r\n  useState,\r\n  useRef,\r\n  useMemo,\r\n  useCallback,\r\n} from \"react\";\r\nimport config from \"@/util/ipConfig\";\r\nimport { getDataStorage } from \"@/util/public\";\r\nimport { getBasePlatformMsg } from \"@/util/init\";\r\n// import { addScript } from \"@/util/public\";\r\n// import name from '@/';\r\n/**\r\n * @description:赋值使用前修改下面的js文件地址\r\n * @param {*} id:ueditor的id\r\n * @return {*}\r\n */\r\nconst { EditorProxy } = config;\r\n\r\nexport default function useUEditorLaod(id, config) {\r\n  // 编辑器实例\r\n  const [UE, setUE] = useState(null);\r\n  //   编辑器是否加载完毕\r\n  const [Ready, setReady] = useState(null);\r\n  const addElement = (\r\n    params = {},\r\n    element = \"script\",\r\n    parent = \"body\",\r\n    callback = () => {}\r\n  ) => {\r\n    try {\r\n      let Element = document.createElement(element);\r\n      // Element = { ...Element, ...params };\r\n      for (let i in params) {\r\n        Element[i] = params[i];\r\n      }\r\n      // 如果params带有id属性，判断dom是否有该节点了\r\n      if (\r\n        params.id &&\r\n        // params.src &&\r\n        document.getElementById(params.id)\r\n        // &&\r\n        // params.src === document.getElementById(params.id).src\r\n      ) {\r\n        callback(\"isExist\");\r\n        return;\r\n      }\r\n      document[parent].appendChild(Element);\r\n      callback(true);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n  const addScript = useCallback(\r\n    async (params = {}, element = \"script\", parent = \"body\") => {\r\n      return new Promise((resolve, reject) => {\r\n        addElement(\r\n          {\r\n            type: \"text/javascript\",\r\n            charset: \"utf-8\",\r\n            ...params,\r\n            onload: () => {\r\n              resolve(true);\r\n              typeof params.onLoad === \"function\" && params.onLoad(true);\r\n            },\r\n            onerror: () => {\r\n              resolve(false);\r\n              typeof params.onLoad === \"function\" && params.onLoad(false);\r\n            },\r\n          },\r\n          element,\r\n          parent,\r\n          (data) => {\r\n            if (data === \"isExist\") {\r\n              resolve(true);\r\n            }\r\n          }\r\n        );\r\n      });\r\n    },\r\n    []\r\n  );\r\n  useEffect(() => {\r\n    async function loadScript() {\r\n      //\r\n      try {\r\n        let { ResHttpRootUrl } = await getBasePlatformMsg([\"ResHttpRootUrl\"]);\r\n        window.UEDITOR_HOME_URL = ResHttpRootUrl + \"/UEditor/\";\r\n\r\n        // 因为有消息中心的js动态加入，导致如果编辑器js在他们中间加载css文件的ip地址错误，导致样式有问题，所以现在直接加载算了\r\n        // addElement(\r\n        //   {\r\n        //     type: \"text/css\",\r\n        //     rel: \"stylesheet\",\r\n        //     href: ResHttpRootUrl + \"/UEditor/themes/default/css/ueditor.css\",\r\n        //     id: \"ueditor_link_ueditor\",\r\n        //   },\r\n        //   \"link\",\r\n        //   \"head\",\r\n        //   (data) => {\r\n        //     // resolve(data);\r\n        //   }\r\n        // );\r\n        // 检查是否已经加载过jq\r\n        let jqLaod = await addScript({\r\n          src: ResHttpRootUrl + \"/UEditor/third-party/jquery-1.10.2.min.js\",\r\n          id: \"ueditor_script_jq\",\r\n          onLoad: () => {},\r\n        });\r\n\r\n        // 一个加载不成功就不加载了\r\n        let configLaod =\r\n          jqLaod &&\r\n          (await addScript({\r\n            src: ResHttpRootUrl + \"/UEditor/ueditor.config.js\",\r\n            id: \"ueditor_script_config\",\r\n            onLoad: () => {},\r\n          }));\r\n\r\n        let all_minLaod =\r\n          configLaod &&\r\n          (await addScript({\r\n            src: ResHttpRootUrl + \"/UEditor/ueditor.all.js\",\r\n            id: \"ueditor_script_all_min\",\r\n            onLoad: () => {},\r\n          }));\r\n\r\n        let parseLaod =\r\n          all_minLaod &&\r\n          (await addScript({\r\n            src: ResHttpRootUrl + \"/UEditor/ueditor.parse.min.js\",\r\n            id: \"ueditor_script_.parse\",\r\n            onLoad: () => {},\r\n          }));\r\n\r\n        let langLaod =\r\n          parseLaod &&\r\n          (await addScript({\r\n            src: ResHttpRootUrl + \"/UEditor/lang/zh-cn/zh-cn.js\",\r\n            id: \"ueditor_script_lang_zh-cn\",\r\n            onLoad: () => {},\r\n          }));\r\n        console.log(jqLaod, configLaod, all_minLaod, parseLaod, langLaod);\r\n        // js加载不成功\r\n        if (!langLaod) {\r\n          setReady(false);\r\n\r\n          return;\r\n        }\r\n        // 必须等上面的脚本加载完\r\n        //   if (configLaod && all_minLaod && langLaod && jqLaod && parseLaod) {\r\n        //   let { toolbars, ...others } = config;\r\n        //实例化编辑器\r\n        //建议使用工厂方法getEditor创建和引用编辑器实例，如果在某个闭包下引用该编辑器，直接调用UE.getEditor('editor')就能拿到相关的实例\r\n\r\n        let ue = window.UE.getEditor(id, {\r\n          toolbars: [\r\n            [\r\n              \"fontfamily\",\r\n              \"fontsize\",\r\n              \"bold\",\r\n              \"italic\",\r\n              \"underline\",\r\n              \"fontborder\",\r\n              \"justifyleft\",\r\n              \"justifycenter\",\r\n              \"justifyright\",\r\n              \"lineheight\",\r\n              \"link\",\r\n              \"|\",\r\n              \"emotion\",\r\n              \"simpleupload\",\r\n              // \"|\",\r\n              // \"music\",\r\n              // \"insertvideo\",\r\n            ],\r\n          ],\r\n          // 字数统计\r\n\r\n          wordCount: false,\r\n\r\n          // 元素路径\r\n\r\n          elementPathEnabled: false,\r\n          // emotionLocalization: true,\r\n          ...config,\r\n        });\r\n\r\n        //   const ueditor_script_config = document.getElementById(\r\n        //     \"ueditor_script_config\"\r\n        //   );\r\n        ue.ready(() => {\r\n          setUE(ue);\r\n          setReady(true);\r\n        });\r\n      } catch (e) {\r\n        console.log(e);\r\n        // 当出错的时候返回false，表示出错，加载不成功\r\n\r\n        setReady(false);\r\n      }\r\n      //   }\r\n      // Promise.all([configLaod, all_minLaod, langLaod,jqLaod]).then(\r\n      //     ([configLaod, all_minLaod, langLaod,jqLaod]) => {\r\n\r\n      //     }\r\n      //   );\r\n    }\r\n    // setTimeout(() => {\r\n    loadScript();\r\n    // }, 3000);\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return [UE, Ready];\r\n}\r\n","/*\r\n *\r\n * 　　┏┓　　　┏┓+ +\r\n * 　┏┛┻━━━┛┻┓ + +\r\n * 　┃　　　　　　　┃\r\n * 　┃　　　━　　　┃ ++ + + +\r\n *  ████━████ ┃+\r\n * 　┃　　　　　　　┃ +\r\n * 　┃　　　┻　　　┃\r\n * 　┃　　　　　　　┃ + +\r\n * 　┗━┓　　　┏━┛\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ + + + +\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ +  神兽保佑\r\n * 　　　┃　　　┃    代码无bug\r\n * 　　　┃　　　┃　　+\r\n * 　　　┃　 　　┗━━━┓ + +\r\n * 　　　┃ 　　　　　　　┣┓\r\n * 　　　┃ 　　　　　　　┏┛\r\n * 　　　┗┓┓┏━┳┓┏┛ + + + +\r\n * 　　　　┃┫┫　┃┫┫\r\n * 　　　　┗┻┛　┗┻┛+ + + +\r\n *\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2021-01-06 11:21:31\r\n * @LastEditTime: 2021-01-06 11:21:31\r\n * @Description: 封装好的百度编辑器\r\n * @FilePath: \\teacher-development\\src\\component\\UEditor\\hooks\\index.js\r\n */\r\n\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useImperativeHandle,\r\n  useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  //   useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Input } from \"antd\";\r\nimport { Loading } from \"@/component/common\";\r\n// import $ from \"jquery\";\r\nimport useUEditorLaod from \"./hooks/useUEditorLaod\";\r\n/**\r\n * @description: 使用前需要配置部署在服务器上的js文件:config.js,具体配置自己看官网文档，\r\n * 1、修改js文件路径\r\n * 2、需要定制个人的功能列表，通过修改config\r\n * 3、设置初始值：defaultValue\r\n * 4、通过onBlur获取编辑后的值\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction UEditor(props, ref) {\r\n  // id:为编辑器的id\r\n  // config:为编辑器实例的时候的配置,具体配置看官网\r\n  let { id, config, style, className, defaultValue, onBlur } = props;\r\n  const [Id] = useState(() => {\r\n    return id ? id : `UEditor_${new Date().getTime()}`;\r\n  });\r\n  //   Id：为需要自己定的编辑器id\r\n  // config：实例编辑器的配置，参考官网文档\r\n  const [UE, Ready] = useUEditorLaod(Id, config);\r\n  useEffect(() => {\r\n    //   UE有实例后才进来\r\n    if (Ready && UE) {\r\n      // 设初始值\r\n      UE.setContent(defaultValue ? defaultValue : \"\");\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [UE, Ready]);\r\n  //   设置事件\r\n  useEffect(() => {\r\n    if (Ready) {\r\n      //   设置鼠标失去事件\r\n\r\n      UE.addListener(\"blur\", Blur);\r\n    }\r\n    return () => {};\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [Ready]);\r\n  useImperativeHandle(ref, () => ({\r\n    ...UE,\r\n  }));\r\n  const Blur = useCallback(() => {\r\n    //   获取内容\r\n    onBlur(UE.getContent());\r\n  }, [UE, onBlur]);\r\n  return (\r\n    <Loading spinning={Ready === null} opacity={false} tip={'加载中...'}>\r\n      {Ready !== false && (\r\n        <div\r\n          id={Id}\r\n          onBlur={() => {\r\n            console.log(\"dasdsa\");\r\n          }}\r\n          className={`LG_UEditor ${className ? className : \"\"}`}\r\n          //   type=\"text/plain\"\r\n          style={{ width: \"931px\", height: \"370px\", ...style }}\r\n        ></div>\r\n      )}\r\n      {/* 当加载失败后，使用默认input */}\r\n      {Ready === false && (\r\n        <Input.TextArea\r\n          defaultValue={defaultValue}\r\n          className=\"LG_Input_default\"\r\n          onBlur={(e) => {\r\n            console.log(e)\r\n            onBlur(e.target.value);\r\n          }}\r\n          rows={10}\r\n        ></Input.TextArea>\r\n      )}\r\n    </Loading>\r\n  );\r\n}\r\n\r\nexport default memo(forwardRef(UEditor));\r\n","import React, {\r\n  useState,\r\n  useImperativeHandle,\r\n  useCallback,\r\n  memo,\r\n  useMemo,\r\n  forwardRef,\r\n  useEffect,\r\n  useRef,\r\n} from \"react\";\r\nimport {\r\n  correctNumber,\r\n  autoAlert,\r\n  getToken,\r\n  getDataStorage,\r\n} from \"@/util/public\";\r\nimport SparkMD5 from \"spark-md5\";\r\nimport $ from \"jquery\";\r\n\r\nfunction UplaodInput(props, ref) {\r\n  let {\r\n    type,\r\n    onUplaodPercert,\r\n    onFileUplaod,\r\n    initFile,\r\n    onFileUpMD5,\r\n    fileMD5,\r\n    // : FileMD5\r\n    // 文件上传使用\r\n    schoolId,\r\n  } = props;\r\n  // 记录上传的完成度\r\n  const [CompletePercert, setCompletePercert] = useState(false);\r\n  const [UplaodParams, setUplaodParams] = useState([]);\r\n  const InputRef = useRef(null);\r\n  const [ForbinClick, setForbinClick] = useState(false);\r\n  //   const [file, setFile] = useState(initFile||[]);\r\n  // 文件的md5,检测文件的唯一性\r\n  //   const [fileMD5, setFileMD5] = useState([]);\r\n  const file = useMemo(() => {\r\n    return initFile || [];\r\n  }, [initFile]);\r\n  //   const fileMD5 = useMemo(() => {\r\n  //     return FileMD5 || [];\r\n  //   }, [FileMD5]);\r\n  // 计算文件md5，判断文件是否重复\r\n  const calculate = useCallback((file, callback = () => {}) => {\r\n    let fileReader = new FileReader();\r\n    // let  box=document.getElementById('box');\r\n    let blobSlice =\r\n      File.prototype.mozSlice ||\r\n      File.prototype.webkitSlice ||\r\n      File.prototype.slice;\r\n    // let   file = document.getElementById(\"file\").files[0];\r\n    let chunkSize = 2097152;\r\n    // read in chunks of 2MB\r\n    let chunks = Math.ceil(file.size / chunkSize);\r\n    let currentChunk = 0;\r\n    let spark = new SparkMD5();\r\n\r\n    fileReader.onload = function (e) {\r\n      // console.log(\"read chunk nr\", currentChunk + 1, \"of\", chunks);\r\n      spark.appendBinary(e.target.result); // append binary string\r\n      currentChunk++;\r\n\r\n      if (currentChunk < chunks) {\r\n        loadNext();\r\n      } else {\r\n        let file_md5 = spark.end();\r\n        callback(file_md5);\r\n        // console.log(\"finished loading\");\r\n        // // box.innerText='MD5 hash:'+spark.end();\r\n        // console.log(\"MD5 hash:\" + spark.end());\r\n        // console.info(\"computed hash\", spark.end()); // compute hash\r\n      }\r\n    };\r\n\r\n    function loadNext() {\r\n      let start = currentChunk * chunkSize,\r\n        end = start + chunkSize >= file.size ? file.size : start + chunkSize;\r\n\r\n      fileReader.readAsBinaryString(blobSlice.call(file, start, end));\r\n    }\r\n\r\n    loadNext();\r\n  }, []);\r\n\r\n  // 上传文件\r\n  // *file:input返回的数据，*skip：分块使用，*fileSavePath:第一次为空，之后的分块上传后会给之前上传返回的路径\r\n  const upload = useCallback(\r\n    (file, skip, fileSavePath, success = () => {}, error = () => {}) => {\r\n      let formData = new FormData();\r\n      let blockSize = 1024 * 1024 * 3; //2MB，设置块大小\r\n      let totalCount = Math.ceil(file.size / blockSize); //计算总块数\r\n      let nextSize = Math.min((skip + 1) * blockSize, file.size); //计算下一块大小（此处主要用于处理文件末端不足2MB的数据块）\r\n      let fileData = file.slice(skip * blockSize, nextSize); //切块\r\n      let token = getToken();\r\n      // 文件上传路径\r\n      let BasePlatformMsg = getDataStorage(\"BasePlatformMsg\");\r\n      let fileIP =\r\n        BasePlatformMsg instanceof Object && BasePlatformMsg.ResHttpRootUrl;\r\n      // 用户信息\r\n      let UserInfo = getDataStorage(\"UserInfo\");\r\n      let schoolID =\r\n        schoolId || (UserInfo instanceof Object && UserInfo.SchoolID);\r\n      formData.append(\"FileName\", file.name); //文件名称\r\n      formData.append(\"File\", fileData);\r\n      formData.append(\"PlanType\", type); //培训、招聘计划ID\r\n      // formData.append(\"PlanID\", \"265A7E70-D7C2-4B49-AF8B-065AC475BA05\"); //培训、招聘计划ID\r\n      formData.append(\"Token\", token);\r\n      formData.append(\"SchoolID\", schoolID);\r\n      formData.append(\"FileSavePath\", fileSavePath);\r\n\r\n      $.ajax({\r\n        url: fileIP + \"/Upload.ashx\",\r\n        async: false, //设为同步请求\r\n        type: \"POST\",\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        success: function (data, textStatus, jqXHR) {\r\n          if (data.StatusCode !== 200) {\r\n            setCompletePercert(false);\r\n            // 每次创建完i后把file的outerHTML重置\r\n            // eslint-disable-next-line no-self-assign\r\n            // InputRef.current.outerHTML = InputRef.current.outerHTML;\r\n            console.info(\"分开上传失败，当前第\" + (skip + 1) + \"块\");\r\n            error(data.Msg);\r\n            return;\r\n          }\r\n          fileSavePath = data.Data.FileUrl;\r\n          if (skip + 1 === totalCount) {\r\n            //   当完成的时候\r\n            setCompletePercert(100);\r\n            setCompletePercert(false);\r\n            setForbinClick(false);\r\n\r\n            //此文件所有切块均已上传完毕\r\n            success(data.Data);\r\n            // 每次创建完i后把file的outerHTML重置\r\n            // eslint-disable-next-line no-self-assign\r\n            // InputRef.current.outerHTML = InputRef.current.outerHTML;\r\n            // 1秒后关闭\r\n            // setTimeout(() => {\r\n            //   setCompletePercert(false);\r\n            // }, 1000);\r\n            return;\r\n          }\r\n\r\n          setCompletePercert(correctNumber(((skip + 1) / totalCount) * 100));\r\n          setUplaodParams([file, ++skip, data.Data.FileUrl, success, error]);\r\n\r\n          //当接收到请求返回结果后，递归调用自己，切下一块继续上传\r\n          // data.Data.FileUrl是分开上传的关键，上传第一块时不需要,从第二块开始需要从上一个请求结果中拿到此参数再传给服务器接口\r\n          //   upload(file, ++skip, data.Data.FileUrl, success, error);\r\n        },\r\n        error: function (jqXHR, txtStatus, errorThrown) {\r\n          console.info(\"分开上传失败，当前第\" + (skip + 1) + \"块\");\r\n          setCompletePercert(false);\r\n          // 每次创建完i后把file的outerHTML重置\r\n          // eslint-disable-next-line no-self-assign\r\n          //   InputRef.current.outerHTML = InputRef.current.outerHTML;\r\n          error(\"程序异常\");\r\n          return;\r\n        },\r\n      });\r\n      return fileSavePath;\r\n    },\r\n    [schoolId, type]\r\n  );\r\n\r\n  // 文件上传封装\r\n  const fileUpload = useCallback(\r\n    (File) => {\r\n      setUplaodParams([\r\n        File,\r\n        0,\r\n        \"\",\r\n        (data) => {\r\n          //   setFile([...file, data]);\r\n          onFileUplaod([...file, data]);\r\n          //   onFileUpMD5(fileMD5);\r\n        },\r\n        (msg) => {\r\n          autoAlert({ title: msg });\r\n        },\r\n      ]);\r\n      setCompletePercert(0);\r\n\r\n      //   upload(\r\n      //     File,\r\n      //     0,\r\n      //     \"\",\r\n      //     (data) => {\r\n      //       //   setFile([...file, data]);\r\n      //       onFileUplaod([...file, data]);\r\n      //     },\r\n      //     (msg) => {\r\n      //       autoAlert({ title: msg });\r\n      //     }\r\n      //   );\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [upload, file]\r\n  );\r\n  useImperativeHandle(ref, () => ({\r\n    file,\r\n    CompletePercert,\r\n  }));\r\n  //   useEffect(() => {\r\n  //     onUplaodPercert(CompletePercert);\r\n  //     // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  //   }, [CompletePercert]);\r\n\r\n  /**\r\n   * @description: 因为上传的时候如果一直分片for，会阻塞界面的渲染，所以要分离递归\r\n   * @param {*}\r\n   * @return {*}\r\n   */\r\n  useEffect(() => {\r\n    if (\r\n      UplaodParams.length > 0 &&\r\n      CompletePercert !== false &&\r\n      CompletePercert !== 100\r\n    )\r\n      upload(...UplaodParams);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [CompletePercert]);\r\n  return (\r\n    <span\r\n      className=\"file-upload\"\r\n      style={{\r\n        cursor: !ForbinClick ? \"pointer\" : \"no-drop\",\r\n      }}\r\n    >\r\n      添加附件\r\n      <input\r\n        ref={InputRef}\r\n        type=\"file\"\r\n        style={{\r\n          cursor: !ForbinClick ? \"pointer\" : \"no-drop\",\r\n          display: ForbinClick ? \"none\" : \"inline-block\",\r\n        }}\r\n        className=\"file-input\"\r\n        // disabled={!!ForbinClick}\r\n        onClick={() => {\r\n          setForbinClick(true);\r\n        }}\r\n        onChange={(e) => {\r\n        //   setForbinClick(true);\r\n          const input = e.target;\r\n          const files = e.target.files;\r\n          if (files) {\r\n            for (let index = 0; index < files.length; index++) {\r\n              // console.log(files[index]);\r\n              const File = files[index];\r\n              // console.log(File);\r\n              if (File.size > 1024 * 1024 * 100) {\r\n                // fileTip.innerHTML = '文件大小不能超过3M!';\r\n                autoAlert({ title: \"文件大小不能超过100M\" });\r\n          setForbinClick(false);\r\n\r\n                // input.value = \"\";\r\n                return false;\r\n              } else {\r\n                //支持chrome IE10\r\n                if (window.FileReader) {\r\n                  calculate(File, (file_md5) => {\r\n                    // console.log(file_md5)\r\n                    if (!fileMD5.some((child) => child === file_md5)) {\r\n                      onFileUpMD5([...fileMD5, file_md5]);\r\n                      fileUpload(File);\r\n                      //   input.value = \"\";\r\n                    } else {\r\n                      autoAlert({ title: \"文件已存在\" });\r\n          setForbinClick(false);\r\n\r\n                      //   input.value = \"\";\r\n                      return false;\r\n                    }\r\n                  });\r\n                } else {\r\n                  if (\r\n                    !file.some(\r\n                      (child) =>\r\n                        child.FileName === File.name &&\r\n                        child.FileSize === File.size\r\n                    )\r\n                  ) {\r\n                    fileUpload(File);\r\n                    // input.value = \"\";\r\n                  } else {\r\n                    autoAlert({ title: \"文件已存在\" });\r\n          setForbinClick(false);\r\n\r\n                    // input.value = \"\";\r\n                    return false;\r\n                  }\r\n                }\r\n                // fileTip.innerHTML = '';\r\n                // formData.append(\"file\", file);\r\n              }\r\n            }\r\n            input.value = \"\";\r\n          }\r\n        }}\r\n      ></input>\r\n      {CompletePercert !== false && (\r\n        <span className=\"dom-CompletePercert\">{CompletePercert}%</span>\r\n      )}\r\n    </span>\r\n  );\r\n}\r\n\r\nexport default memo(forwardRef(UplaodInput));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-08 13:54:00\r\n * @LastEditTime: 2020-12-15 14:35:04\r\n * @Description:招聘和培训共用的编辑区域组件，发布编辑\r\n * @FilePath: \\teacher-development\\src\\component\\editor\\index.js\r\n */\r\n\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\n\r\nimport \"./index.scss\";\r\nimport { Input, DatePicker } from \"antd\";\r\nimport locale from \"antd/es/date-picker/locale/zh_CN\";\r\nimport { Tip, Radio, RadioGroup } from \"../common\";\r\nimport useDetailRequest from \"../../hooks/useDetailRequest\";\r\nimport $ from \"jquery\";\r\nimport {\r\n  checkInput,\r\n  autoAlert,\r\n  constructFileType,\r\n  calculateFileSize,\r\n  getToken,\r\n  getDataStorage,\r\n  correctNumber,\r\n} from \"../../util/public\";\r\nimport { getRecruitDetail } from \"../../api/recruit\";\r\nimport { getTrainDetail } from \"../../api/train\";\r\nimport moment from \"moment\";\r\nimport SparkMD5 from \"spark-md5\";\r\nimport UEditor from \"../UEditor\";\r\nimport UplaodInput from \"./UplaodInput\";\r\nconst { TextArea } = Input;\r\nconst { RangePicker } = DatePicker;\r\nlet format = \"YYYY-MM-DD HH:mm\";\r\nfunction Editor(props, ref) {\r\n  // type:分招聘和培训，*recruit：招聘，*train:培训\r\n  // schema:模式，分发布publish和编辑edit两种，默认发布，\r\n  let {\r\n    className,\r\n    type,\r\n    schema,\r\n    preview,\r\n    draft,\r\n    cancel,\r\n    fileid,\r\n    publish,\r\n    // 文件上传使用\r\n    schoolId,\r\n    error,\r\n    ...reset\r\n  } = props;\r\n  type = type || \"recruitment\";\r\n  let sourceName = type === \"recruitment\" ? \"来源\" : \"发布单位\";\r\n  // 标题\r\n  const [title, setTitle] = useState(\"\");\r\n  // 标题错误显示\r\n  const [titleVisible, setTitleVisible] = useState(false);\r\n  const [titleTip, setTitleTip] = useState(\"请输入标题\");\r\n\r\n  // 来源\r\n  const [source, setSource] = useState(\"\");\r\n  // 来源错误显示\r\n  const [sourceVisible, setSourceVisible] = useState(false);\r\n  const [sourceTip, setSourceTip] = useState(\"请输入\" + sourceName);\r\n\r\n  // 附件\r\n  const [file, setFile] = useState([]);\r\n  // 附件错误显示\r\n  const [fileVisible, setFileVisible] = useState(false);\r\n  const [fileTip, setFileTip] = useState(\"附件错误\");\r\n  // 文件的md5,检测文件的唯一性\r\n  const [fileMD5, setFileMD5] = useState([]);\r\n  // 上传按钮是否可点击\r\n  const [forbinClick, setForbinClick] = useState(false);\r\n  // 正文\r\n  const [main, setMain] = useState(\"\");\r\n  // 正文错误显示\r\n  const [mainVisible, setMainVisible] = useState(false);\r\n  const [mainTip, setMainTip] = useState(\"请输入正文\");\r\n  // 报名需求\r\n  const [applyFlag, setApplyFlag] = useState(0);\r\n  // 报名需求错误显示\r\n  const [applyFlagVisible, setApplyFlagVisible] = useState(false);\r\n  const [applyFlagTip, setApplyFlagTip] = useState(\"请选择是否启用报名\");\r\n  // 上传人数限制\r\n  const [limit, setLimit] = useState(\"\");\r\n  // 上传人数限制错误显示\r\n  const [limitVisible, setLimitVisible] = useState(false);\r\n  const [limitTip, setLimitTip] = useState(\"请输入上传人数限制\");\r\n  // 培训方式\r\n  const [activityFlag, setActivityFlag] = useState(0);\r\n  // 培训方式错误显示\r\n  const [activityFlagVisible, setActivityFlagVisible] = useState(false);\r\n  const [activityFlagTip, setActivityFlagTip] = useState(\"请选择培训方式\");\r\n\r\n  // 报名起始时间\r\n  const [applyBeginTime, setApplyBeginTime] = useState(\"\");\r\n  const [applyEndTime, setApplyEndTime] = useState(\"\");\r\n  // 报名起始时间错误显示\r\n  const [applyTimeVisible, setApplyTimeVisible] = useState(false);\r\n  const [applyTimeTip, setApplyTimeTip] = useState(\"请选择报名起止时间\");\r\n  // 是否允许报名,控制报名人数限制和报名起止\r\n  const [allowApply, setAllowApply] = useState(false);\r\n\r\n  // 记录上传的完成度\r\n  const [CompletePercert, setCompletePercert] = useState(false);\r\n  // 上传文件状态\r\n  const UploadRef = useRef(false);\r\n\r\n  // 预览不用获取数据，数据由上面传下来\r\n  const [detailData, handleChange, loading] = useDetailRequest(\r\n    {},\r\n    type === \"train\" ? getTrainDetail : getRecruitDetail\r\n  );\r\n\r\n  // 启用报名选择\r\n  const applyFlagList = useMemo(() => {\r\n    return [\r\n      { value: 1, title: \"是\" },\r\n      { value: 0, title: \"否\" },\r\n    ];\r\n  }, []);\r\n  // 启用报名选择\r\n  const activityFlagList = useMemo(() => {\r\n    return [\r\n      { value: 1, title: \"线上\" },\r\n      { value: 0, title: \"线下\" },\r\n    ];\r\n  }, []);\r\n  // 编辑器实例\r\n  const UEditorRef = useRef(null);\r\n  //  请求\r\n  useEffect(() => {\r\n    schema !== \"preview\" && fileid && handleChange(fileid);\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [fileid]);\r\n\r\n  // 赋值\r\n  useEffect(() => {\r\n    if (detailData.IsLoaded && detailData.IsExist) {\r\n      //加载完毕\r\n      setTitle(detailData.Title);\r\n      setFile(detailData.FileList);\r\n      setMain(detailData.Content);\r\n      setSource(detailData.Issue);\r\n\r\n      if (type === \"recruitment\") {\r\n        //招聘\r\n      }\r\n      if (type === \"train\") {\r\n        setActivityFlag(detailData.ActivityFlag);\r\n        setApplyBeginTime(detailData.ApplyBeginTime);\r\n        setApplyEndTime(detailData.ApplyEndTime);\r\n        setApplyFlag(detailData.ApplyFlag);\r\n        setLimit(detailData.Limit);\r\n      }\r\n    } else if (!detailData.IsExist) {\r\n      //不存在\r\n      typeof error === \"function\" && error();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [detailData]);\r\n  //  普通输入检查\r\n  const checkGeneralInput = useCallback(\r\n    (value, success = () => {}, error = (isNull) => {}) => {\r\n      checkInput({ value, success, error });\r\n    },\r\n    []\r\n  );\r\n  // useEffect(() => {}, []);\r\n  // 检查标题,返回结果是否对错\r\n  const checkTitle = useCallback(\r\n    (value) => {\r\n      let result = true;\r\n      checkGeneralInput(\r\n        value || title,\r\n        () => {\r\n          setTitleVisible(false);\r\n          result = true;\r\n        },\r\n        (isNull) => {\r\n          if (isNull) {\r\n            setTitleTip(\"请输入标题\");\r\n          } else {\r\n            setTitleTip(\"标题格式不正确\");\r\n          }\r\n          setTitleVisible(true);\r\n          result = false;\r\n        }\r\n      );\r\n      return result;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [title]\r\n  );\r\n  // 检查来源,返回结果是否对错\r\n  const checkSource = useCallback(\r\n    (value) => {\r\n      let result = true;\r\n\r\n      checkGeneralInput(\r\n        value || source,\r\n        () => {\r\n          setSourceVisible(false);\r\n          result = true;\r\n        },\r\n        (isNull) => {\r\n          // 不是招聘的不能进来\r\n          // if (type !== \"recruitment\") {\r\n          //   return;\r\n          // }\r\n          if (isNull) {\r\n            setSourceTip(\"请输入\" + sourceName);\r\n          } else {\r\n            setSourceTip(sourceName + \"格式不正确\");\r\n          }\r\n          setSourceVisible(true);\r\n          result = false;\r\n        }\r\n      );\r\n      return result;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [source]\r\n  );\r\n  // 检查正文,返回结果是否对错\r\n  const checkContent = useCallback(\r\n    (value) => {\r\n      let result = true;\r\n\r\n      value = value || main;\r\n      if (!value) {\r\n        setMainTip(\"请输入正文\");\r\n        setMainVisible(true);\r\n        result = false;\r\n      } else {\r\n        setMainVisible(false);\r\n        result = true;\r\n      }\r\n      return result;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [main]\r\n  );\r\n  // 检查是否启用报名,返回结果是否对错\r\n  const checkApplyFlag = useCallback(\r\n    (value) => {\r\n      let result = true;\r\n      if (type !== \"train\") {\r\n        //不是培训的，检查都成功\r\n        return true;\r\n      }\r\n      value = value || applyFlag;\r\n      if (value === \"\") {\r\n        // setLimitTip(\"请输入上传人数限制\");\r\n        setApplyFlagVisible(true);\r\n        result = false;\r\n      } else {\r\n        setApplyFlagVisible(false);\r\n        result = true;\r\n      }\r\n      return result;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [applyFlag]\r\n  );\r\n  // 检查培训方式,返回结果是否对错\r\n  const checkActivityFlag = useCallback(\r\n    (value) => {\r\n      let result = true;\r\n      if (type !== \"train\") {\r\n        //不是培训的，检查都成功\r\n        return true;\r\n      }\r\n      value = value || activityFlag;\r\n      if (value === \"\") {\r\n        // setLimitTip(\"请输入上传人数限制\");\r\n        setActivityFlagVisible(true);\r\n        result = false;\r\n      } else {\r\n        setActivityFlagVisible(false);\r\n        result = true;\r\n      }\r\n      return result;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [activityFlag]\r\n  );\r\n  // 检查培训方式,返回结果是否对错\r\n  const checkApplyTime = useCallback(\r\n    (value) => {\r\n      //value传moment\r\n      let result = true;\r\n      if (type !== \"train\") {\r\n        //不是培训的，检查都成功\r\n        return true;\r\n      }\r\n      let [begin, end] = value || [applyBeginTime, applyEndTime];\r\n      begin = moment(begin);\r\n      end = moment(end);\r\n      if (!begin.isValid() && !end.isValid()) {\r\n        setApplyTimeTip(\"请选择报名起止时间\");\r\n        setApplyTimeVisible(true);\r\n        result = false;\r\n      } else if (!begin.isValid()) {\r\n        setApplyTimeTip(\"请选择报名起始时间\");\r\n        setApplyTimeVisible(true);\r\n        result = false;\r\n      } else if (!end.isValid()) {\r\n        setApplyTimeTip(\"请选择报名终止时间\");\r\n        setApplyTimeVisible(true);\r\n        result = false;\r\n      } else if (end.diff(begin, \"m\") < 60) {\r\n        setApplyTimeTip(\"起始时间与终止时间不能相差小于1小时\");\r\n        setApplyTimeVisible(true);\r\n        result = false;\r\n      } else {\r\n        setApplyTimeVisible(false);\r\n        result = true;\r\n      }\r\n      return result;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [applyBeginTime, applyEndTime]\r\n  );\r\n  // 检查上传人数限制,返回结果是否对错\r\n  const checkLimit = useCallback(\r\n    (value) => {\r\n      let result = true;\r\n      if (type !== \"train\") {\r\n        //不是培训的，检查都成功\r\n        return true;\r\n      }\r\n      value = value || limit;\r\n      // if (value) {\r\n      //   setLimitTip(\"请输入上传人数限制\");\r\n      //   setLimitVisible(true);\r\n      //   result = false;\r\n      // } else {\r\n      //   setLimitVisible(false);\r\n      //   result = true;\r\n      // }\r\n      return result;\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [limit]\r\n  );\r\n  // 检查所有\r\n  const checkAll = (fn) => {\r\n    let result = [\r\n      checkContent(),\r\n      checkSource(),\r\n      checkTitle(),\r\n      checkActivityFlag(),\r\n      checkApplyFlag(),\r\n      !allowApply || checkApplyTime(),\r\n      !allowApply || checkLimit(),\r\n    ];\r\n\r\n    if (result.every((child) => child)) {\r\n      typeof fn === \"function\" && fn();\r\n    }\r\n  };\r\n  // 计算文件md5，判断文件是否重复\r\n  const calculate = useCallback((file, callback = () => {}) => {\r\n    let fileReader = new FileReader();\r\n    // let  box=document.getElementById('box');\r\n    let blobSlice =\r\n      File.prototype.mozSlice ||\r\n      File.prototype.webkitSlice ||\r\n      File.prototype.slice;\r\n    // let   file = document.getElementById(\"file\").files[0];\r\n    let chunkSize = 2097152;\r\n    // read in chunks of 2MB\r\n    let chunks = Math.ceil(file.size / chunkSize);\r\n    let currentChunk = 0;\r\n    let spark = new SparkMD5();\r\n\r\n    fileReader.onload = function (e) {\r\n      // console.log(\"read chunk nr\", currentChunk + 1, \"of\", chunks);\r\n      spark.appendBinary(e.target.result); // append binary string\r\n      currentChunk++;\r\n\r\n      if (currentChunk < chunks) {\r\n        loadNext();\r\n      } else {\r\n        let file_md5 = spark.end();\r\n        callback(file_md5);\r\n        // console.log(\"finished loading\");\r\n        // // box.innerText='MD5 hash:'+spark.end();\r\n        // console.log(\"MD5 hash:\" + spark.end());\r\n        // console.info(\"computed hash\", spark.end()); // compute hash\r\n      }\r\n    };\r\n\r\n    function loadNext() {\r\n      let start = currentChunk * chunkSize,\r\n        end = start + chunkSize >= file.size ? file.size : start + chunkSize;\r\n\r\n      fileReader.readAsBinaryString(blobSlice.call(file, start, end));\r\n    }\r\n\r\n    loadNext();\r\n  }, []);\r\n\r\n  // 上传文件\r\n  // *file:input返回的数据，*skip：分块使用，*fileSavePath:第一次为空，之后的分块上传后会给之前上传返回的路径\r\n  const upload = useCallback(\r\n    (file, skip, fileSavePath, success = () => {}, error = () => {}) => {\r\n      let formData = new FormData();\r\n      let blockSize = 1024 * 1024 * 3; //2MB，设置块大小\r\n      let totalCount = Math.ceil(file.size / blockSize); //计算总块数\r\n      let nextSize = Math.min((skip + 1) * blockSize, file.size); //计算下一块大小（此处主要用于处理文件末端不足2MB的数据块）\r\n      let fileData = file.slice(skip * blockSize, nextSize); //切块\r\n      let token = getToken();\r\n      // 文件上传路径\r\n      let BasePlatformMsg = getDataStorage(\"BasePlatformMsg\");\r\n      let fileIP =\r\n        BasePlatformMsg instanceof Object && BasePlatformMsg.ResHttpRootUrl;\r\n      // 用户信息\r\n      let UserInfo = getDataStorage(\"UserInfo\");\r\n      let schoolID =\r\n        schoolId || (UserInfo instanceof Object && UserInfo.SchoolID);\r\n      formData.append(\"FileName\", file.name); //文件名称\r\n      formData.append(\"File\", fileData);\r\n      formData.append(\"PlanType\", type); //培训、招聘计划ID\r\n      // formData.append(\"PlanID\", \"265A7E70-D7C2-4B49-AF8B-065AC475BA05\"); //培训、招聘计划ID\r\n      formData.append(\"Token\", token);\r\n      formData.append(\"SchoolID\", schoolID);\r\n      formData.append(\"FileSavePath\", fileSavePath);\r\n\r\n      $.ajax({\r\n        url: fileIP + \"/Upload.ashx\",\r\n        async: false, //设为同步请求\r\n        type: \"POST\",\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        success: function (data, textStatus, jqXHR) {\r\n          if (data.StatusCode !== 200) {\r\n            setCompletePercert(false);\r\n\r\n            console.info(\"分开上传失败，当前第\" + (skip + 1) + \"块\");\r\n            error(data.Msg);\r\n            return;\r\n          }\r\n          fileSavePath = data.Data.FileUrl;\r\n          if (skip + 1 === totalCount) {\r\n            setCompletePercert(100);\r\n\r\n            //此文件所有切块均已上传完毕\r\n            success(data.Data);\r\n            // 1秒后关闭\r\n            setTimeout(() => {\r\n              setCompletePercert(false);\r\n            }, 1000);\r\n            return;\r\n          }\r\n          setCompletePercert(correctNumber(((skip + 1) / totalCount) * 100));\r\n\r\n          //当接收到请求返回结果后，递归调用自己，切下一块继续上传\r\n          // data.Data.FileUrl是分开上传的关键，上传第一块时不需要,从第二块开始需要从上一个请求结果中拿到此参数再传给服务器接口\r\n          upload(file, ++skip, data.Data.FileUrl, success, error);\r\n        },\r\n        error: function (jqXHR, txtStatus, errorThrown) {\r\n          console.info(\"分开上传失败，当前第\" + (skip + 1) + \"块\");\r\n          setCompletePercert(false);\r\n\r\n          error(\"程序异常\");\r\n          return;\r\n        },\r\n      });\r\n      return fileSavePath;\r\n    },\r\n    [schoolId, type]\r\n  );\r\n\r\n  // 文件上传封装\r\n  const fileUpload = useCallback(\r\n    (File) => {\r\n      setForbinClick(true);\r\n      setCompletePercert(0);\r\n\r\n      upload(\r\n        File,\r\n        0,\r\n        \"\",\r\n        (data) => {\r\n          setFile([...file, data]);\r\n        },\r\n        (msg) => {\r\n          autoAlert({ title: msg });\r\n        }\r\n      );\r\n    },\r\n    [upload, file]\r\n  );\r\n  // 监听是否启动报名\r\n  useEffect(() => {\r\n    if (applyFlag === 0) {\r\n      setAllowApply(false);\r\n      setLimit(\"\");\r\n      setApplyBeginTime(\"\");\r\n      setApplyEndTime(\"\");\r\n      setApplyTimeVisible(false);\r\n      //  checkLimit()\r\n    } else {\r\n      setAllowApply(true);\r\n    }\r\n  }, [applyFlag]);\r\n  // useEffect(() => {\r\n  //   console.log(CompletePercert);\r\n  // }, [CompletePercert]);\r\n  const dom = useMemo(() => {\r\n    return (\r\n      CompletePercert && (\r\n        <span className=\"dom-CompletePercert\">{CompletePercert}</span>\r\n      )\r\n    );\r\n  }, [CompletePercert]);\r\n  const onUplaodPercert = useCallback((percert) => {\r\n    setCompletePercert(percert);\r\n  }, []);\r\n  const onFileUplaod = useCallback((file) => {\r\n    setCompletePercert(false);\r\n    setFile(file);\r\n  }, []);\r\nconst onFileUpMD5 = useCallback((value)=>{\r\nsetFileMD5(value)\r\n},[])\r\n\r\n  return (\r\n    <div className={`lg-editor ${className ? className : \"\"}`} {...reset}>\r\n      <table className=\"editor-table\">\r\n        <tbody>\r\n          <tr>\r\n            <td className=\"must\">标题:</td>\r\n            <td>\r\n              <Tip visible={titleVisible} title={titleTip}>\r\n                <Input\r\n                  value={title}\r\n                  className=\"editor-input title-input\"\r\n                  maxLength={100}\r\n                  placeholder={\"请输入标题...\"}\r\n                  onChange={(e) => {\r\n                    setTitle(e.target.value);\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    checkTitle(e.target.value);\r\n                  }}\r\n                ></Input>\r\n              </Tip>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td className=\"must\">{sourceName}:</td>\r\n            <td>\r\n              <Tip visible={sourceVisible} title={sourceTip}>\r\n                <Input\r\n                  value={source}\r\n                  className=\"editor-input source-input\"\r\n                  maxLength={30}\r\n                  placeholder={`请输入${sourceName}...`}\r\n                  onChange={(e) => {\r\n                    setSource(e.target.value);\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    checkSource(e.target.value);\r\n                  }}\r\n                ></Input>\r\n              </Tip>\r\n            </td>\r\n          </tr>\r\n          {type === \"train\" ? (\r\n            <tr>\r\n              <td>是否启用报名:</td>\r\n              <td>\r\n                <Tip visible={applyFlagVisible} title={applyFlagTip}>\r\n                  <RadioGroup\r\n                    value={applyFlag}\r\n                    onChange={(e) => {\r\n                      setApplyFlag(e.target.value);\r\n                      setApplyFlagVisible(false);\r\n                      // setAllowApply(e.target.value === 0);\r\n                    }}\r\n                  >\r\n                    {applyFlagList.map((child, index) => {\r\n                      return (\r\n                        <Radio key={index} value={child.value}>\r\n                          {child.title}\r\n                        </Radio>\r\n                      );\r\n                    })}\r\n                  </RadioGroup>\r\n                </Tip>\r\n              </td>\r\n            </tr>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          {type === \"train\" ? (\r\n            <tr>\r\n              <td>报名人数限制:</td>\r\n              <td>\r\n                <Tip visible={limitVisible} title={limitTip}>\r\n                  <Input\r\n                    value={limit}\r\n                    // max={}\r\n                    disabled={!allowApply}\r\n                    type={\"number\"}\r\n                    className=\"editor-input limit-input\"\r\n                    maxLength={8}\r\n                    // placeholder={\"请输入报名人数限制...\"}\r\n                    onChange={(e) => {\r\n                      setLimit(e.target.value);\r\n                    }}\r\n                    onBlur={(e) => {\r\n                      checkLimit(e.target.value);\r\n                    }}\r\n                  ></Input>\r\n                </Tip>\r\n              </td>\r\n            </tr>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          {type === \"train\" ? (\r\n            <tr>\r\n              <td className=\"must\">报名起止时间:</td>\r\n              <td>\r\n                <Tip\r\n                  visible={allowApply && applyTimeVisible}\r\n                  title={applyTimeTip}\r\n                >\r\n                  <RangePicker\r\n                    onChange={(dates, dateString) => {\r\n                      // console.log(dates, dateString);\r\n                      setApplyBeginTime(dateString[0]);\r\n                      setApplyEndTime(dateString[1]);\r\n                      // checkApplyTime(dateString)\r\n                      if (dateString[0] && dateString[1]) {\r\n                        // 两个时间都选择了才进行检查\r\n                        checkApplyTime(dates);\r\n\r\n                        // setApplyTimeVisible(false);\r\n                        // if(dates[0].diff(dates[1],'m')<60){\r\n                        //   checkApplyTime(dates)\r\n                        // }\r\n                      }\r\n                    }}\r\n                    // 禁用，没选开始，不能选择结束\r\n                    disabled={[\r\n                      !allowApply || false,\r\n                      !allowApply || !applyBeginTime,\r\n                    ]}\r\n                    allowEmpty={[\r\n                      !allowApply || false,\r\n                      !allowApply || !applyBeginTime,\r\n                    ]}\r\n                    value={[\r\n                      applyBeginTime ? moment(applyBeginTime) : \"\",\r\n                      applyEndTime ? moment(applyEndTime) : \"\",\r\n                    ]}\r\n                    disabledDate={(date) => {\r\n                      let time = moment();\r\n                      // console.log(date);\r\n                      return time > date;\r\n                    }}\r\n                    // disabledTime={(date, partial) => {\r\n                    // let now = moment();\r\n                    // let begin = moment(applyBeginTime);\r\n                    // let end = moment(applyEndTime);\r\n                    // console.log(date, partial);\r\n                    // if (partial === \"start\") {\r\n                    //   // 开始时间必须小于结束一个小时，如果不小于，则修改结束时间\r\n                    //   if (\r\n                    //     end &&\r\n                    //     date < end &&\r\n                    //     date.diff(end, \"minutes\") < 60\r\n                    //   ) {\r\n                    //     setApplyEndTime(date.add(1, \"h\").format(format));\r\n                    //   }\r\n                    // }\r\n                    // if (partial === \"end\") {\r\n                    //   // 结束时间，如果开始时间选择了，结束时间不能小于开始时间+一个小时\r\n                    //   if (date > begin && date.diff(begin, \"minutes\") < 60) {\r\n                    //     setApplyEndTime(begin.add(1, \"h\").format(format));\r\n                    //   }\r\n                    // }\r\n                    // }}\r\n                    format={format}\r\n                    locale={locale}\r\n                    showTime\r\n                  ></RangePicker>\r\n                </Tip>\r\n              </td>\r\n            </tr>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          {type === \"train\" ? (\r\n            <tr>\r\n              <td>培训方式:</td>\r\n              <td>\r\n                <Tip visible={activityFlagVisible} title={activityFlagTip}>\r\n                  <RadioGroup\r\n                    value={activityFlag}\r\n                    onChange={(e) => {\r\n                      setActivityFlag(e.target.value);\r\n                      setActivityFlagVisible(false);\r\n                    }}\r\n                  >\r\n                    {activityFlagList.map((child, index) => {\r\n                      return (\r\n                        <Radio key={index} value={child.value}>\r\n                          {child.title}\r\n                        </Radio>\r\n                      );\r\n                    })}\r\n                  </RadioGroup>\r\n                </Tip>\r\n              </td>\r\n            </tr>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <tr>\r\n            <td>附件:</td>\r\n            <td style={{ padding: 0 }}>\r\n              <span>\r\n                {file instanceof Array &&\r\n                  file.map((child, index) => {\r\n                    let Index = child.FileName.lastIndexOf(\".\");\r\n                    let filename = [];\r\n                    if (Index === -1) {\r\n                      filename = [child.FileName, \"\"];\r\n                    }\r\n                    filename[0] = child.FileName.slice(0, Index);\r\n                    filename[1] = child.FileName.slice(Index);\r\n                    let fileSize = child.FileSize;\r\n                    return (\r\n                      <span\r\n                        key={index}\r\n                        className={`file-content file-type-${constructFileType(\r\n                          child.FileName\r\n                        )}`}\r\n                      >\r\n                        <span className=\"file-name\" title={child.FileName}>\r\n                          {filename[0]}\r\n                        </span>\r\n                        <span className=\"file-type\" title={child.FileName}>\r\n                          {filename[1]}\r\n                        </span>\r\n                        <span className=\"file-size\" title={fileSize}>\r\n                          [{fileSize}]\r\n                        </span>\r\n                        <b onClick={()=>{\r\n                          setFile(file.slice(0,index).concat(file.slice(index+1)))\r\n                          setFileMD5(fileMD5.slice(0,index).concat(fileMD5.slice(index+1)))\r\n                          \r\n                        }} className=\"file-delete\">×</b>\r\n                      </span>\r\n                    );\r\n                  })}\r\n                {file instanceof Array && file.length < 5 ? (\r\n                  <span className=\"handle-upload\">\r\n                    {/* <span className=\"file-upload\">\r\n                      添加附件\r\n                      <input\r\n                        type=\"file\"\r\n                        className=\"file-input\"\r\n                        onChange={(e) => {\r\n                          const input = e.target;\r\n                          const files = e.target.files;\r\n                          if (files) {\r\n                            for (let index = 0; index < files.length; index++) {\r\n                              // console.log(files[index]);\r\n                              const File = files[index];\r\n                              // console.log(File);\r\n                              if (File.size > 1024 * 1024 * 100) {\r\n                                // fileTip.innerHTML = '文件大小不能超过3M!';\r\n                                autoAlert({ title: \"文件大小不能超过100M\" });\r\n                                input.value = \"\";\r\n                                return false;\r\n                              } else {\r\n                                //支持chrome IE10\r\n                                if (window.FileReader) {\r\n                                  calculate(File, (file_md5) => {\r\n                                    // console.log(file_md5)\r\n                                    if (\r\n                                      !fileMD5.some(\r\n                                        (child) => child === file_md5\r\n                                      )\r\n                                    ) {\r\n                                      setFileMD5([...fileMD5, file_md5]);\r\n                                      setForbinClick(true);\r\n                                      fileUpload(File);\r\n                                    } else {\r\n                                      autoAlert({ title: \"文件已存在\" });\r\n                                      input.value = \"\";\r\n                                      return false;\r\n                                    }\r\n                                  });\r\n                                } else {\r\n                                  if (\r\n                                    !file.some(\r\n                                      (child) =>\r\n                                        child.FileName === File.name &&\r\n                                        child.FileSize === File.size\r\n                                    )\r\n                                  ) {\r\n                                    setForbinClick(true);\r\n\r\n                                    fileUpload(File);\r\n                                  } else {\r\n                                    autoAlert({ title: \"文件已存在\" });\r\n                                    input.value = \"\";\r\n                                    return false;\r\n                                  }\r\n                                }\r\n                                // fileTip.innerHTML = '';\r\n                                // formData.append(\"file\", file);\r\n                              }\r\n                            }\r\n                          }\r\n                        }}\r\n                      ></input>\r\n                      {dom}\r\n                    </span>\r\n                    */}\r\n                    <span className=\"input-box\">\r\n                      {/* {CompletePercert && (\r\n                        <span className=\"dom-CompletePercert\">\r\n                          {CompletePercert}\r\n                        </span>\r\n                      )} */}\r\n                      <UplaodInput\r\n                        // onUplaodPercert={onUplaodPercert}\r\n                        initFile={file}\r\n                        onFileUplaod={onFileUplaod}\r\n                        onFileUpMD5={onFileUpMD5}\r\n                        fileMD5={fileMD5}\r\n                        ref={UploadRef}\r\n                        schoolId={schoolId}\r\n                        type={type}\r\n                      ></UplaodInput>\r\n                    </span>\r\n                    <span className=\"file-tip\">\r\n                      提示: 附件会在正文文末以下载链接形式出现\r\n                    </span>\r\n                  </span>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </span>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td className=\"must  \">正文:</td>\r\n            <td>\r\n              <Tip visible={mainVisible} title={mainTip}>\r\n                {/* <TextArea\r\n                  value={main}\r\n                  className=\"editor-input main-input\"\r\n                  // maxLength={100}\r\n                  placeholder={\"请输入正文...\"}\r\n                  row={5}\r\n                  onChange={(e) => {\r\n                    setMain(e.target.value);\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    checkContent(e.target.value);\r\n                  }}\r\n                ></TextArea> */}\r\n                <div className={\"editor-input main-input\"}>\r\n                  {\" \"}\r\n                  <UEditor\r\n                    onBlur={(e) => {\r\n                      checkContent(e);\r\n                      setMain(e);\r\n                    }}\r\n                    defaultValue={main}\r\n                    ref={UEditorRef}\r\n                  ></UEditor>\r\n                </div>\r\n              </Tip>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <ul className=\"editor-handle\">\r\n        {preview ? (\r\n          <li\r\n            className=\"handle-preview\"\r\n            onClick={() => {\r\n              checkAll(\r\n                preview.onClick.bind(this, {\r\n                  Title: title,\r\n                  Issue: source,\r\n                  Content: main,\r\n                  Limit: limit,\r\n                  ApplyBeginTime: applyBeginTime,\r\n                  ApplyEndTime: applyEndTime,\r\n                  ActivityFlag: activityFlag,\r\n                  ApplyFlag: applyFlag,\r\n                  ReleaseTime: moment().format(\"YYYY-MM-DD HH:mm\"),\r\n                  FileList: file,\r\n                })\r\n              );\r\n            }}\r\n          >\r\n            预览\r\n          </li>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {draft && schema !== \"edit\" ? (\r\n          <li\r\n            className=\"handle-btn handle-draft\"\r\n            onClick={() => {\r\n              checkAll(\r\n                draft.onClick.bind(this, {\r\n                  Title: title,\r\n                  Issue: source,\r\n                  Content: main,\r\n                  Limit: limit,\r\n                  ApplyBeginTime: applyBeginTime,\r\n                  ApplyEndTime: applyEndTime,\r\n                  ActivityFlag: activityFlag,\r\n                  ApplyFlag: applyFlag,\r\n                  // ReleaseTime: moment().format(\"YYYY-MM-DD HH:mm\"),\r\n                  FileList: file,\r\n                })\r\n              );\r\n            }}\r\n          >\r\n            暂存为草稿\r\n          </li>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {publish ? (\r\n          <li\r\n            className=\"handle-btn handle-publish\"\r\n            onClick={() => {\r\n              checkAll(\r\n                publish.onClick.bind(this, {\r\n                  Title: title,\r\n                  Issue: source,\r\n                  Content: main,\r\n                  Limit: limit,\r\n                  ApplyBeginTime: applyBeginTime,\r\n                  ApplyEndTime: applyEndTime,\r\n                  ActivityFlag: activityFlag,\r\n                  ApplyFlag: applyFlag,\r\n                  // ReleaseTime: moment().format(\"YYYY-MM-DD HH:mm\"),\r\n                  FileList: file,\r\n                })\r\n              );\r\n            }}\r\n          >\r\n            确认发布\r\n          </li>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {cancel ? (\r\n          <li\r\n            className=\"handle-btn handle-cancel\"\r\n            onClick={() => {\r\n              // checkAll(publish.onClick);\r\n\r\n              cancel.onClick && cancel.onClick();\r\n            }}\r\n          >\r\n            取消\r\n          </li>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\nexport default memo(forwardRef(Editor));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-08 13:54:00\r\n * @LastEditTime: 2020-12-15 09:28:43\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\component\\fileDetail\\index.js\r\n */\r\n\r\nimport React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n  useLayoutEffect,\r\n  useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n//   import { Search, Empty } from \"../common\";\r\nimport $ from \"jquery\";\r\nimport useDetailRequest from \"../../hooks/useDetailRequest\";\r\nimport { getRecruitDetail } from \"../../api/recruit\";\r\nimport { getTrainDetail } from \"../../api/train\";\r\nimport { Loading, Empty, EmptyReact } from \"../common\";\r\nimport { constructFileType, getDataStorage } from \"../../util/public\";\r\nfunction FileDetail(props, ref) {\r\n  // *type:分为recruit招聘、train培训,默认招聘\r\n  // *schema:模式：preview预览,detail详情\r\n  let {\r\n    className,\r\n    fileid,\r\n    type,\r\n    style,\r\n    schema,\r\n    height,\r\n    onReturn,\r\n    onComfirm,\r\n    previewData,\r\n    useScrollbars,\r\n    ...reset\r\n  } = props;\r\n  // 获取数据\r\n  // 预览不用获取数据，数据由上面传下来\r\n  const [detailData, handleChange, loading, reload] = useDetailRequest(\r\n    {},\r\n    type === \"train\" ? getTrainDetail : getRecruitDetail\r\n  );\r\n  // 是否使用滚动条\r\n  const UseScrollbars = useMemo(() => {\r\n    return useScrollbars === undefined || useScrollbars ? true : false;\r\n  }, [useScrollbars]);\r\n  // 主文\r\n  const preRef = useRef(null);\r\n  useEffect(() => {\r\n    schema !== \"preview\" && fileid && handleChange(fileid);\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [fileid]);\r\n\r\n  let { IsLoaded, IsExist, Title, Issue, ReleaseTime, Content, FileList } =\r\n    schema !== \"preview\"\r\n      ? detailData\r\n      : {\r\n          IsLoaded: true,\r\n          IsExist: true,\r\n          Title: \"\",\r\n          Issue: \"\",\r\n          ReleaseTime: \"\",\r\n          Content: \"\",\r\n          FileList: [],\r\n          ...previewData,\r\n        };\r\n\r\n  useLayoutEffect(() => {\r\n    if (Content) $(preRef.current).html(Content);\r\n    // $(\"detail-content\").html(Content);\r\n  }, [Content]);\r\n  // 文件上传路径\r\n\r\n  const fileIP = useMemo(() => {\r\n    let BasePlatformMsg = getDataStorage(\"BasePlatformMsg\");\r\n    return BasePlatformMsg instanceof Object && BasePlatformMsg.ResHttpRootUrl;\r\n  }, []);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    reload,detailData\r\n  }));\r\n  return (\r\n    <EmptyReact component={UseScrollbars ? Scrollbars : false}>\r\n      <Loading\r\n        opacity={false}\r\n        spinning={schema !== \"preview\" && loading}\r\n        tip={\"加载中...\"}\r\n      >\r\n        <div\r\n          className={`lg-fileDetail ${className ? className : \"\"}`}\r\n          {...reset}\r\n        >\r\n          {IsLoaded ? (\r\n            IsExist ? (\r\n              <div className=\"fileDetail-content\">\r\n                <div className=\"fd-content-top\">\r\n                  <span className=\"content-top-msg content-title\" title={Title}>\r\n                    {Title}\r\n                  </span>\r\n                  <span className=\"content-top-msg content-msg\">\r\n                    <span className={\"cm-text\"} title={ReleaseTime}>\r\n                      {ReleaseTime}\r\n                    </span>\r\n                    <span className={\"cm-text\"} title={Issue}>\r\n                      {Issue}\r\n                    </span>\r\n                  </span>\r\n                  {schema === \"preview\" ? (\r\n                    <span\r\n                      className=\"preview-return\"\r\n                      onClick={() => {\r\n                        typeof onReturn === \"function\" && onReturn();\r\n                      }}\r\n                    >\r\n                      返回\r\n                    </span>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                  {schema === \"preview\" ? (\r\n                    <span\r\n                      className=\"preview-comfirm\"\r\n                      onClick={() => {\r\n                        typeof onComfirm === \"function\" && onComfirm();\r\n                      }}\r\n                    >\r\n                      确认发布\r\n                    </span>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </div>\r\n                <pre\r\n                  ref={preRef}\r\n                  className=\"detail-content\"\r\n                  id=\"detail-content\"\r\n                  style={{ whiteSpace: \"pre-wrap\", fontFamily: \"微软雅黑\" }}\r\n                >\r\n                  {/* {(()=>{\r\n                    let parser = new DOMParser();\r\n                    let doc=parser.parseFromString(Content, \"text/xml\");\r\n                    return doc\r\n                  })()} */}\r\n                </pre>\r\n                {FileList instanceof Array && FileList.length > 0 ? (\r\n                  <div className=\"file-box\">\r\n                    <p className=\"fb-top\">附件</p>\r\n                    <div className=\"fb-content\">\r\n                      {FileList.map((child, index) => {\r\n                        let { FileName, FileUrl, FileSize } = child;\r\n                        // let filename = FileName.split(\".\");\r\n                        let Index = FileName.lastIndexOf(\".\");\r\n                        let filename = [];\r\n\r\n                        if (Index === -1) {\r\n                          filename = [FileName, \"\"];\r\n                        }\r\n                        filename[0] = FileName.slice(0, Index);\r\n                        filename[1] = FileName.slice(Index);\r\n\r\n                        return (\r\n                          <div\r\n                            key={index}\r\n                            className={`file-bar file-type-${constructFileType(\r\n                              FileName\r\n                            )}`}\r\n                          >\r\n                            <span className=\"file-name\" title={FileName}>\r\n                              {filename[0]}\r\n                            </span>\r\n                            <span className=\"file-type\" title={FileName}>\r\n                              {filename[1]}\r\n                            </span>\r\n                            <span className=\"file-size\" title={FileSize}>\r\n                              [{FileSize}]\r\n                            </span>\r\n                            <a\r\n                              href={fileIP + FileUrl}\r\n                              // ref={'noreferrer'}\r\n                              download={filename[0]}\r\n                              // eslint-disable-next-line react/jsx-no-target-blank\r\n                              target=\"_blank\"\r\n                              className=\"file-download\"\r\n                              // onClick={() => {\r\n                              //   window.open(fileIP+FileUrl);\r\n                              // }}\r\n                            >\r\n                              下载\r\n                            </a>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <Empty\r\n                className={\"lg-fileDetail-empty\"}\r\n                type={\"4\"}\r\n                title={\"所查询信息不存在\"}\r\n              ></Empty>\r\n            )\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </Loading>\r\n    </EmptyReact>\r\n  );\r\n}\r\nexport default memo(forwardRef(FileDetail));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-15 14:44:08\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\recruit\\publish.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  //   useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Carousel, Tabs } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport Editor from \"../../component/editor\";\r\nimport { Context } from \"./reducer\";\r\nimport { Loading } from \"../../component/common\";\r\nimport FileDetail from \"../../component/fileDetail\";\r\nimport { publishRecruit } from \"../../api/recruit\";\r\nlet { TabPane } = Tabs;\r\n// import { getCruitList } from \"../../api/recruit\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Publish(props, ref) {\r\n  let {\r\n    teacherRecruitMsg: { tabId },\r\n    removeTab,\r\n    activeTab,\r\n    contentHW,\r\n    history,\r\n    roleMsg: { schoolID, collegeID, selectLevel },\r\n\r\n    dispatch,\r\n  } = props;\r\n  let { state, setDispatch } = useContext(Context);\r\n  // 转到预览\r\n  const [preview, setPreview] = useState(false);\r\n  // 转到预览\r\n  const [ActiveTab, setActiveTab] = useState(\"publish\");\r\n  // 加载\r\n  const [loading, setLoading] = useState(false);\r\n  // previewData\r\n  const [previewData, setPreviewData] = useState({\r\n    Title: \"测试\",\r\n    Issue: \"测试\",\r\n    ReleaseTime: \"测试\",\r\n    Content: \"测试\",\r\n    FileList: [],\r\n  });\r\n  // 轮播方法\r\n  // const CarouselRef = useRef(null);\r\n  // 发布\r\n  const publish = useCallback(\r\n    (data) => {\r\n      // *RStatus:状态：0草稿；1正式发布\r\n      setLoading(true);\r\n      let {FileList,...other} = data\r\n      // FileName:FileList[0].FileName,\r\n      // FileUrl:FileList[0].FileUrl,\r\n      // FileSize:FileList[0].FileSize,\r\n      // setTimeout(() => {\r\n      publishRecruit({\r\n        SchoolID: schoolID,\r\n        CollegeID: collegeID,\r\n        SelectLevel: selectLevel,\r\n        RStatus: 1,FileList,\r\n        // ...previewData,\r\n        ...other,\r\n      }).then(({ result }) => {\r\n        if (result) removeTab(\"\", \"\", \"teacherRecruit\",'',()=>{});\r\n        else {\r\n          setLoading(false);\r\n        }\r\n      });\r\n      // }, 3000);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [previewData, removeTab]\r\n  );\r\n  return (\r\n    // <Carousel ref={CarouselRef} dots={false}>\r\n    <Loading opacity={0.5} spinning={loading}>\r\n      <Tabs\r\n        activeKey={ActiveTab}\r\n        renderTabBar={() => {\r\n          return \"\";\r\n        }}\r\n      >\r\n        <TabPane tab=\"publish\" key=\"publish\">\r\n          <div\r\n            // style={{ display: `${preview ? \"none\" : \"block\"}` }}\r\n            className=\" Reacruit-context Publish-context Recruit-publish\"\r\n          >\r\n            <div className=\"context-top  \">\r\n              <span className=\" title-1\">发布招聘计划</span>\r\n              <span className=\" title-2\">(提示: 发布后将在各校官网显示)</span>\r\n            </div>\r\n            <Editor\r\n              preview={{\r\n                onClick: (data) => {\r\n                  // data:{title, source, main}\r\n                  // setPreviewData({Title:data.title, Issue:'测试', ReleaseTime:'测试', Content:'测试', FileList:[]})\r\n                  setPreviewData(data);\r\n                  setPreview(true);\r\n                  setActiveTab(\"preview\");\r\n\r\n                  // CarouselRef.current.next();\r\n                },\r\n              }}\r\n              draft={{\r\n                onClick: (data) => {\r\n                  // setLoading(true);\r\n\r\n                  // setTimeout(() => {\r\n                  //   removeTab(\"\", \"\", \"teacherRecruit\");\r\n                  // }, 3000);\r\n                  // setPreviewData(data);\r\n\r\n                  publish({...data,RStatus:0});\r\n                },\r\n              }}\r\n              publish={{\r\n                onClick: (data) => {\r\n                  publish({...data,RStatus:1});\r\n                },\r\n              }}\r\n              cancel={{\r\n                onClick: () => {\r\n                  removeTab(\"\", \"\", \"teacherRecruit\", \"\", (active, param) => {\r\n                    console.log(active, param);\r\n                    // history.push('/teacherRecruit')\r\n                  });\r\n                },\r\n              }}\r\n            ></Editor>\r\n          </div>\r\n        </TabPane>\r\n        <TabPane tab=\"preview\" key=\"preview\">\r\n          {preview ? (\r\n            <div className=\"Recruit-preview-box\">\r\n              <div\r\n                style={{ height: contentHW.height + \"px\" }}\r\n                // onClick={() => {\r\n                //   // CarouselRef.current.prev();\r\n                //   setPreview(false);\r\n                //   setActiveTab('publish');\r\n\r\n                // }}\r\n              >\r\n                <FileDetail\r\n                  schema={\"preview\"}\r\n                  type={\"recruit\"}\r\n                  previewData={previewData}\r\n                  onReturn={() => {\r\n                    setPreview(false);\r\n                    setActiveTab(\"publish\");\r\n                  }}\r\n                  onComfirm={() => {\r\n                    publish({...previewData,RStatus:1});\r\n                  }}\r\n                ></FileDetail>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </TabPane>\r\n      </Tabs>\r\n    </Loading>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg, contentHW },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Publish))));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-14 11:07:06\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\recruit\\detail.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Carousel } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport Editor from \"../../component/editor\";\r\nimport { Context } from \"./reducer\";\r\nimport { Loading } from \"../../component/common\";\r\nimport FileDetail from \"../../component/fileDetail\";\r\nimport { handleRoute } from \"../../util/public\";\r\nimport useDetailRequest from \"../../hooks/useDetailRequest\";\r\n// import { getCruitList } from \"../../api/recruit\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Datail(props, ref) {\r\n  let {\r\n    teacherRecruitMsg: { tabId },\r\n    removeTab,\r\n    activeTab,\r\n    contentHW,\r\n    location,\r\n    id,\r\n    history,\r\n    dispatch,\r\n  } = props;\r\n  let { state, setDispatch } = useContext(Context);\r\n  // 转到预览\r\n  const [loading, setLoading] = useState(false);\r\n  // 招聘id\r\n  const [ID, setID] = useState(() => {\r\n    return id ? id : \"\";\r\n  });\r\n  const detailRef = useRef(null);\r\n  //获取招聘id\r\n  useEffect(() => {\r\n    if (location.pathname) {\r\n      let Path = handleRoute(location.pathname);\r\n      // if(Path[0] === \"recruitDetail\" &&\r\n      // Path[1] ){\r\n      //   setID(Path[1])\r\n      // }else if(!Path[1]){\r\n      //   // console.log('teacherRecruit')\r\n      //   removeTab&&  removeTab(\"\", \"\", \"teacherRecruit\", \"\")\r\n      // }\r\n      Path[0] === \"recruitDetail\" &&\r\n        Path[1] &&\r\n        Path[1] !== ID &&\r\n        setID(Path[1]);\r\n      if (Path[0] === \"recruitDetail\" && ID && detailRef.current) {\r\n        //刷新\r\n        detailRef.current.reload();\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location.pathname]);\r\n  return (\r\n    <Loading opacity={0.5} spinning={loading}>\r\n      <div\r\n        className=\" Reacruit-context   Recruit-Datail\"\r\n        style={{ height: contentHW.height + \"px\" }}\r\n      >\r\n        <FileDetail ref={detailRef} fileid={ID} type={\"recruit\"}></FileDetail>\r\n      </div>\r\n    </Loading>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg, contentHW },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Datail))));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-14 20:13:28\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\recruit\\edit.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Carousel, Tabs } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport Editor from \"../../component/editor\";\r\nimport { Context } from \"./reducer\";\r\nimport { Loading } from \"../../component/common\";\r\nimport FileDetail from \"../../component/fileDetail\";\r\nimport { editRecruit } from \"../../api/recruit\";\r\nimport { handleRoute } from \"../../util/public\";\r\n\r\nlet { TabPane } = Tabs;\r\n// import { getCruitList } from \"../../api/recruit\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Publish(props, ref) {\r\n  let {\r\n    teacherRecruitMsg: { tabId },\r\n    removeTab,\r\n    activeTab,\r\n    contentHW,\r\n    location,\r\n    history,\r\n    roleMsg: { schoolID, collegeID, selectLevel },\r\n\r\n    dispatch,\r\n  } = props;\r\n  let { state, setDispatch } = useContext(Context);\r\n  // 转到预览\r\n  const [preview, setPreview] = useState(false);\r\n  // 转到预览\r\n  const [ActiveTab, setActiveTab] = useState(\"publish\");\r\n  // 加载\r\n  const [loading, setLoading] = useState(false);\r\n  // 招聘id\r\n  const [ID, setID] = useState(\"\");\r\n  // previewData\r\n  const [previewData, setPreviewData] = useState({\r\n    Title: \"测试\",\r\n    Issue: \"测试\",\r\n    ReleaseTime: \"测试\",\r\n    Content: \"测试\",\r\n    FileList: [],\r\n  });\r\n  // 轮播方法\r\n  // const CarouselRef = useRef(null);\r\n  // 发布\r\n  const publish = useCallback(\r\n    (data) => {\r\n      // *RStatus:状态：0草稿；1正式发布\r\n      setLoading(true);\r\n      let { FileList, ReleaseTime, ...other } = data;\r\n      // FileName:FileList[0].FileName,\r\n      // FileUrl:FileList[0].FileUrl,\r\n      // FileSize:FileList[0].FileSize,\r\n      // setTimeout(() => {\r\n      editRecruit({\r\n        // SchoolID: schoolID,\r\n        // CollegeID: collegeID,\r\n        // SelectLevel: selectLevel,\r\n        RID: ID,\r\n        RStatus: 1,\r\n        FileList,\r\n        // ...previewData,\r\n        ...other,\r\n      }).then(({ result }) => {\r\n        if (result) removeTab(\"\", \"\", \"teacherRecruit\", \"\");\r\n        else {\r\n        }\r\n        setLoading(false);\r\n\r\n      });\r\n      // }, 3000);\r\n    },\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [previewData, removeTab, ID]\r\n  );\r\n\r\n  //获取招聘id\r\n  useEffect(() => {\r\n    if (location.pathname) {\r\n      let Path = handleRoute(location.pathname);\r\n      Path[0] === \"editRecruit\" && Path[1] && Path[1] !== ID && setID(Path[1]);\r\n\r\n      // 请求\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    // <Carousel ref={CarouselRef} dots={false}>\r\n    <Loading opacity={0.5} spinning={loading}>\r\n      <Tabs\r\n        activeKey={ActiveTab}\r\n        renderTabBar={() => {\r\n          return \"\";\r\n        }}\r\n      >\r\n        <TabPane tab=\"publish\" key=\"publish\">\r\n          <div\r\n            // style={{ display: `${preview ? \"none\" : \"block\"}` }}\r\n            className=\" Reacruit-context Publish-context Recruit-publish\"\r\n          >\r\n            <div className=\"context-top  \">\r\n              <span className=\" title-1\">编辑招聘计划</span>\r\n              <span className=\" title-2\">(提示: 发布后将在各校官网显示)</span>\r\n            </div>\r\n            <Editor\r\n              fileid={ID}\r\n              schema={\"edit\"}\r\n              error={() => {\r\n                removeTab(\"\", \"\", \"teacherRecruit\", \"\", (active, param) => {});\r\n              }}\r\n              preview={{\r\n                onClick: (data) => {\r\n                  // data:{title, source, main}\r\n                  // setPreviewData({Title:data.title, Issue:'测试', ReleaseTime:'测试', Content:'测试', FileList:[]})\r\n                  setPreviewData(data);\r\n                  setPreview(true);\r\n                  setActiveTab(\"preview\");\r\n\r\n                  // CarouselRef.current.next();\r\n                },\r\n              }}\r\n              draft={{\r\n                onClick: (data) => {\r\n                  // setLoading(true);\r\n\r\n                  // setTimeout(() => {\r\n                  //   removeTab(\"\", \"\", \"teacherRecruit\");\r\n                  // }, 3000);\r\n                  // setPreviewData(data);\r\n\r\n                  publish({ ...data, RStatus: 0 });\r\n                },\r\n              }}\r\n              publish={{\r\n                onClick: (data) => {\r\n                  publish({ ...data, RStatus: 1 });\r\n                },\r\n              }}\r\n              cancel={{\r\n                onClick: () => {\r\n                  removeTab(\"\", \"\", \"teacherRecruit\", \"\", (active, param) => {\r\n                    console.log(active, param);\r\n                    // history.push('/teacherRecruit')\r\n                  });\r\n                },\r\n              }}\r\n            ></Editor>\r\n          </div>\r\n        </TabPane>\r\n        <TabPane tab=\"preview\" key=\"preview\">\r\n          {preview ? (\r\n            <div className=\"Recruit-preview-box\">\r\n              <div\r\n                style={{ height: contentHW.height + \"px\" }}\r\n                // onClick={() => {\r\n                //   // CarouselRef.current.prev();\r\n                //   setPreview(false);\r\n                //   setActiveTab('publish');\r\n\r\n                // }}\r\n              >\r\n                <FileDetail\r\n                  schema={\"preview\"}\r\n                  type={\"recruit\"}\r\n                  previewData={previewData}\r\n                  onReturn={() => {\r\n                    setPreview(false);\r\n                    setActiveTab(\"publish\");\r\n                  }}\r\n                  onComfirm={() => {\r\n                    publish({ ...previewData, RStatus: 1 });\r\n                  }}\r\n                ></FileDetail>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </TabPane>\r\n      </Tabs>\r\n    </Loading>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg, contentHW },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Publish))));\r\n","import React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport FileDetail from \"../../component/fileDetail\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nfunction Recruit(props, ref) {\r\n  let { id, basePlatFormMsg } = props;\r\n  const detailRef = useRef({});\r\n  useEffect(() => {\r\n    console.log(detailRef.current);\r\n  }, [detailRef.current.detailData]);\r\n  console.log(detailRef.current);\r\n\r\n  return (\r\n    <div className=\"page-recruit\">\r\n      <div className=\"pr-top\">\r\n          \r\n      </div>\r\n      <div className='pr-center'>\r\n        <Scrollbars>\r\n          <div className=\"pr-content\">\r\n            <FileDetail\r\n              useScrollbars={false}\r\n              ref={detailRef}\r\n              fileid={id}\r\n              type={\"recruit\"}\r\n            ></FileDetail>\r\n          </div>\r\n          <div className=\"pr-provesion\">\r\n            {basePlatFormMsg && basePlatFormMsg.ProVersion}\r\n          </div>\r\n        </Scrollbars>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let { commonData } = state;\r\n  return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(Recruit)));\r\n","/*\r\n *                   ___====-_  _-====___\r\n *             _--^^^#####//      \\\\#####^^^--_\r\n *          _-^##########// (    ) \\\\##########^-_\r\n *         -############//  |\\^^/|  \\\\############-\r\n *       _/############//   (@::@)   \\############\\_\r\n *      /#############((     \\\\//     ))#############\\\r\n *     -###############\\\\    (oo)    //###############-\r\n *    -#################\\\\  / VV \\  //#################-\r\n *   -###################\\\\/      \\//###################-\r\n *  _#/|##########/\\######(   /\\   )######/\\##########|\\#_\r\n *  |/ |#/\\#/\\#/\\/  \\#/\\##\\  |  |  /##/\\#/  \\/\\#/\\#/\\#| \\|\r\n *  `  |/  V  V  `   V  \\#\\| |  | |/#/  V   '  V  V  \\|  '\r\n *     `   `  `      `   / | |  | | \\   '      '  '   '\r\n *                      (  | |  | |  )\r\n *                     __\\ | |  | | /__\r\n *                    (vvv(VVV)(VVV)vvv)\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *                神兽保佑            永无BUG\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 15:17:40\r\n * @LastEditTime: 2020-12-15 17:09:57\r\n * @Description: 招聘计划管理,可复用，所以尽量不要用reduce全局状态处理\r\n * @FilePath: \\teacher-development\\src\\pages\\recruit\\index.js\r\n */\r\n\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport Home from \"./home\";\r\nimport Publish from \"./publish\";\r\nimport Detail from \"./detail\";\r\nimport \"./index.scss\";\r\n// import { handleRoute } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Reducer, Context, initState } from \"./reducer\";\r\nimport Edit from \"./edit\";\r\nimport PageRecruit from './recruit';\r\nfunction Recruit(props, ref) {\r\n  let {\r\n    // teacherRecruitMsg,\r\n    location,\r\n    activeTab,\r\n    removeTab,\r\n    tabid,recruitid,\r\n    param, //param控制显示的模块\r\n  } = props;\r\n  const [Component, setComponent] = useState(\"\");\r\n  const [state, setDispatch] = useReducer(Reducer, initState);\r\n  const homeRef = useRef({});\r\n  let { component } = state;\r\n\r\n  useEffect(() => {\r\n    setComponent(param);\r\n  }, [param]);\r\n  // console.log(param,Component)\r\n  // useEffect(() => {\r\n  //   // console.log(location)\r\n  //    //   if (location.pathname) {\r\n  //   //     let Path = handleRoute(location.pathname);\r\n  //   //     Path[0] === \"recruitDetail\" &&\r\n  //   //       Path[1] &&\r\n  //   //       Path[1] !== ID &&\r\n  //   //       setID(Path[1]);\r\n  //   //   }\r\n  // }, [])\r\n  return (\r\n    <Context.Provider value={{ state, setDispatch }}>\r\n      <div className=\"Recruit\">\r\n        {Component === \"home\" ? (\r\n          // component === \"publish\" ? (\r\n          //   <Publish></Publish>\r\n          // ) : (\r\n          <Home ref={homeRef}></Home>\r\n        ) : (\r\n          // )\r\n          \"\"\r\n        )}\r\n        {Component === \"publish\" ? (\r\n          <Publish removeTab={removeTab}></Publish>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {Component === \"edit\" ? <Edit removeTab={removeTab}></Edit> : \"\"}\r\n        {tabid === \"recruitDetail\" ? <Detail removeTab={removeTab}></Detail> : \"\"}\r\n        {/* {Component === \"edit\" ? <Home></Home> : \"\"} */}\r\n        {Component === \"details\" ? <Home></Home> : \"\"}\r\n        {Component==='recruit'&&<PageRecruit id={recruitid}></PageRecruit>}\r\n      </div>\r\n    </Context.Provider>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    // handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg },\r\n  } = state;\r\n  return {  roleMsg };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Recruit))));\r\n","/*\r\n *\r\n * 　　┏┓　　　┏┓+ +\r\n * 　┏┛┻━━━┛┻┓ + +\r\n * 　┃　　　　　　　┃\r\n * 　┃　　　━　　　┃ ++ + + +\r\n *  ████━████ ┃+\r\n * 　┃　　　　　　　┃ +\r\n * 　┃　　　┻　　　┃\r\n * 　┃　　　　　　　┃ + +\r\n * 　┗━┓　　　┏━┛\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ + + + +\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ +  神兽保佑\r\n * 　　　┃　　　┃    代码无bug\r\n * 　　　┃　　　┃　　+\r\n * 　　　┃　 　　┗━━━┓ + +\r\n * 　　　┃ 　　　　　　　┣┓\r\n * 　　　┃ 　　　　　　　┏┛\r\n * 　　　┗┓┓┏━┳┓┏┛ + + + +\r\n * 　　　　┃┫┫　┃┫┫\r\n * 　　　　┗┻┛　┗┻┛+ + + +\r\n *\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 10:25:40\r\n * @LastEditTime: 2020-12-10 18:45:47\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\recruit\\reducer.js\r\n */\r\nimport React, {\r\n  // useCallback,\r\n  // memo,\r\n  // useEffect,\r\n  // useState,\r\n  useReducer,\r\n  createContext,\r\n  // useImperativeHandle,\r\n  // useRef,\r\n  // forwardRef,\r\n} from \"react\";\r\n// 创建frame的context\r\nexport const Context = createContext();\r\nexport const initState = {\r\n  keyword: \"\",\r\n  compoent:'1'\r\n};\r\nexport const Reducer = (state, actions) => {\r\n  switch (actions.type) {\r\n    case \"SET_KEY_WORD\":\r\n      return Object.assign({}, state, {\r\n        keyword:actions.data,\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-15 15:44:32\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\train\\home.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { withRouter, useHistory, useLocation } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport HomeTop from \"../../component/homeTop\";\r\nimport Table from \"../../component/table\";\r\nimport { Context } from \"./reducer\";\r\nimport { getCruitList, deleteTrain } from \"../../api/train\";\r\nimport { autoAlert } from \"../../util/public\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Home(props, ref) {\r\n  let {\r\n    // teacherTrainMsg: { tabId },\r\n    roleMsg: { schoolID, collegeID, selectLevel },\r\n    // history,\r\n    activeTab,\r\n    dispatch,\r\n  } = props;\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n  let {\r\n    state: { keyword },\r\n    setDispatch,\r\n  } = useContext(Context);\r\n  const [query, setQuery] = useState({\r\n    keyword,\r\n    schoolID,\r\n    collegeID,\r\n    selectLevel,\r\n  });\r\n  // 获取table组件的ref\r\n  const tableRef = useRef({});\r\n  // 草稿数量\r\n  const [draft, setDraft] = useState(0);\r\n  // 初始请求\r\n  const initGet = useRef(false);\r\n  // table 的宽度最小为1040，各个列的width按这个来算1040/1200*设计图的width\r\n  let widthRate = 1040 / 1200;\r\n  let columns = [\r\n    {\r\n      title: \"序号\",\r\n      dataIndex: \"index\",\r\n      align: \"center\",\r\n      width: 102 * widthRate,\r\n      textWrap: \"word-break\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-index\" title={data}>\r\n            {data}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"标题\",\r\n      width: 404 * widthRate,\r\n      // dataIndex: \"title\",\r\n      render: (data) => {\r\n        let { title, TID } = data;\r\n        return (\r\n          <span\r\n            onClick={() => {\r\n              history.push(\"/trainDetail/\" + TID);\r\n            }}\r\n            className=\"table-title\"\r\n            title={title}\r\n          >\r\n            {title?title:'--'}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"来源\",\r\n      align: \"center\",\r\n      width: 128 * widthRate,\r\n      dataIndex: \"source\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-source\" title={data}>\r\n            {data}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n\r\n    {\r\n      title: \"报名截止时间\",\r\n      align: \"center\",\r\n      width: 172 * widthRate,\r\n      // dataIndex: \"ApplyEndTime\",\r\n      render: (data) => {\r\n        let {ApplyFlag,ApplyEndTime} =data\r\n        return (\r\n          <span className=\"table-time\" title={ApplyEndTime}>\r\n            {ApplyFlag&&ApplyEndTime?ApplyEndTime:'--'}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"报名人数/限额\",\r\n      align: \"center\",\r\n      width: 90 * widthRate,\r\n      // dataIndex: \"publisher\",\r\n      render: (data) => {\r\n        let { Limit,ApplyCount,ApplyFlag } = data;\r\n        let title = (ApplyCount?ApplyCount:0)+'/'+(Limit?Limit:'--')\r\n        return (\r\n          <span className=\"table-limit\" title={title}>\r\n            {ApplyFlag?title:'--'}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"培训方式\",\r\n      align: \"center\",\r\n      width: 90 * widthRate,\r\n      dataIndex: \"ActivityFlag\",\r\n      render: (data) => {\r\n        let ActivityList = [\r\n          { value: 1, title: \"线上\" },\r\n          { value: 0, title: \"线下\" },\r\n        ];\r\n        let title = ActivityList[parseInt(data)]?ActivityList[parseInt(data)].title:'--';\r\n        return (\r\n          <span className={`table-activity table-activity-${data}`} title={title}>\r\n            {title}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      align: \"center\",\r\n      width: 200 * widthRate,\r\n\r\n      // dataIndex: \"time\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-handle\">\r\n            <span\r\n              className=\"table-btn btn-edit\"\r\n              onClick={() => {\r\n                history.push(\"/editTrain/\" + data.TID);\r\n              }}\r\n            >\r\n              编辑\r\n            </span>\r\n            <span\r\n              className=\"table-btn btn-delete\"\r\n              onClick={() => {\r\n                autoAlert({\r\n                  title: \"确定删除该培训计划?\",\r\n                  type: \"btn-warn\",\r\n                  cancelShow: true,\r\n                  onOk: () => {\r\n                    DeleteTrain(\r\n                      { TIDs: data.TID },\r\n                      tableRef.current.reloadList.bind(this,{},false)\r\n                    );\r\n                  },\r\n                });\r\n              }}\r\n            >\r\n              删除\r\n            </span>\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  let draftColumns = [\r\n    {\r\n      title: \"序号\",\r\n      dataIndex: \"index\",\r\n      align: \"center\",\r\n      width: 102 * widthRate,\r\n      textWrap: \"word-break\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-index\" title={data}>\r\n            {data}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"标题\",\r\n      width: 300 * widthRate,\r\n      // dataIndex: \"title\",\r\n      render: (data) => {\r\n        let { title, TID } = data;\r\n        return (\r\n          <span\r\n            onClick={() => {\r\n              // history.push(\"/trainDetail/\" + TID);\r\n            }}\r\n            className=\"table-title\"\r\n            title={title}\r\n          >\r\n            {title?title:'--'}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n\r\n    {\r\n      title: \"最后一次编辑时间\",\r\n      align: \"center\",\r\n      width: 172 * widthRate,\r\n      dataIndex: \"UpdateTime\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-time\" title={data}>\r\n            {data?data:'--'}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      align: \"center\",\r\n      width: 200 * widthRate,\r\n\r\n      // dataIndex: \"time\",\r\n      render: (data) => {\r\n        return (\r\n          <span className=\"table-handle\">\r\n            <span\r\n              className=\"table-btn btn-edit\"\r\n              onClick={() => {\r\n                history.push(\"/editTrain/\" + data.TID);\r\n              }}\r\n            >\r\n              编辑\r\n            </span>\r\n            <span\r\n              className=\"table-btn btn-delete\"\r\n              onClick={() => {\r\n                // autoAlert({\r\n                //   title: \"确定删除该草稿?\",\r\n                //   type: \"btn-warn\",\r\n                //   cancelShow: true,\r\n                //   onOk: () => {\r\n                //     DeleteTrain({ TIDs: data.TID }, () => {\r\n                //       tableRef.current.reloadList();\r\n\r\n                //       homeTopRef.current.reloadDraft();\r\n                //     });\r\n                //   },\r\n                // });\r\n                DeleteTrain({ TIDs: data.TID }, () => {\r\n                  tableRef.current.reloadList({},false);\r\n\r\n                  homeTopRef.current.reloadDraft();\r\n                });\r\n              }}\r\n            >\r\n              删除\r\n            </span>\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  // 删除\r\n  const DeleteTrain = useCallback(\r\n    (param, success = () => {}, error = () => {}) => {\r\n      deleteTrain(param).then((res) => {\r\n        if (res.result) {\r\n          success();\r\n        } else {\r\n          error();\r\n        }\r\n      });\r\n    },\r\n    []\r\n  );\r\n  // useEffect(() => {\r\n  //   console.log(keyword, selectLevel);\r\n  //   selectLevel && setQuery({ keyword, schoolID, collegeID, selectLevel });\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, []);\r\n\r\n  // 设置草稿数量\r\n  // useLayoutEffect(() => {\r\n  //   console.log(tableRef.current, tableRef);\r\n  //   setDraft(\r\n  //     tableRef.current.data && tableRef.current.data.Draft\r\n  //       ? tableRef.current.data.Draft\r\n  //       : 0\r\n  //   );\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, [tableRef.current]);\r\n  // 刷新\r\n\r\n  useLayoutEffect(() => {\r\n    let { pathname } = location;\r\n    //第一次进来不请求\r\n    if (!initGet.current) {\r\n      initGet.current = true;\r\n    } else {\r\n      if (pathname === \"/teacherTrain\") {\r\n        tableRef.current.reloadList();\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location]);\r\n  const topDraft = useMemo(() => {\r\n    return {\r\n      title: \"草稿箱\",\r\n      count: draft,\r\n      query: { selectLevel, schoolID, collegeID, rStatus: 0 },\r\n      api: getCruitList,\r\n      columns: draftColumns,\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectLevel, schoolID, collegeID, draft]);\r\n  // console.log(keyword)\r\n  useImperativeHandle(ref, () => ({\r\n    reloadList: tableRef.current.reloadList,\r\n  }));\r\n  //\r\n  const homeTopRef = useRef(null);\r\n  return (\r\n    <div className=\"Reacruit-context Train-home\">\r\n      <HomeTop\r\n        ref={homeTopRef}\r\n        publish={{\r\n          title: \"发布培训计划\",\r\n          onClick: () => {\r\n            history.push(\"/publishTrain\");\r\n          },\r\n        }}\r\n        draft={topDraft}\r\n        search={{\r\n          onSearch: (value) => {\r\n            // console.log(value)\r\n            setDispatch({ type: \"SET_KEY_WORD\", data: value });\r\n            setQuery({ schoolID, collegeID, keyword: value, selectLevel });\r\n          },\r\n        }}\r\n      ></HomeTop>\r\n      <Table\r\n        className=\"Reacruit-table\"\r\n        columns={columns}\r\n        // dataSource={data}\r\n        prepare={!!query.selectLevel}\r\n        query={query}\r\n        onDataChange={(data) => {\r\n          setDraft(data && data.Draft ? data.Draft : 0);\r\n        }}\r\n        ref={tableRef}\r\n        api={getCruitList}\r\n      ></Table>\r\n      {/* <div style={{height:'20px',width:'100px',background:'#a6a6a6'}} onClick={()=>{\r\n      history.push(`/${tabId}/publish`  );\r\n      dispatch(handleActions.setTeacherTrainMsg({tabName:'发布培训计划'}))\r\n  }}></div> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherTrainMsg, activeTab },\r\n    commonData: { roleMsg },\r\n  } = state;\r\n  return { teacherTrainMsg, roleMsg, activeTab };\r\n};\r\nexport default connect(mapStateToProps, null, null, { forwardRef: true })(\r\n  memo(forwardRef(Home))\r\n);\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-15 14:42:59\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\train\\publish.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  //   useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Carousel, Tabs } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport Editor from \"../../component/editor\";\r\nimport { Context } from \"./reducer\";\r\nimport { Loading } from \"../../component/common\";\r\nimport FileDetail from \"../../component/fileDetail\";\r\nimport { publishTrain } from \"../../api/train\";\r\nlet { TabPane } = Tabs;\r\n// import { getCruitList } from \"../../api/train\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Publish(props, ref) {\r\n  let {\r\n    removeTab,\r\n    activeTab,\r\n    contentHW,\r\n    history,\r\n    roleMsg: { schoolID, collegeID, selectLevel },\r\n\r\n    dispatch,\r\n  } = props;\r\n  let { state, setDispatch } = useContext(Context);\r\n  // 转到预览\r\n  const [preview, setPreview] = useState(false);\r\n  // 转到预览\r\n  const [ActiveTab, setActiveTab] = useState(\"publish\");\r\n  // 加载\r\n  const [loading, setLoading] = useState(false);\r\n  // previewData\r\n  const [previewData, setPreviewData] = useState({\r\n    Title: \"测试\",\r\n    Issue: \"测试\",\r\n    ReleaseTime: \"测试\",\r\n    Content: \"测试\",\r\n    FileList: [],\r\n  });\r\n  // 轮播方法\r\n  // const CarouselRef = useRef(null);\r\n  // 发布\r\n  const publish = useCallback(\r\n    (data) => {\r\n      // *TStatus:状态：0草稿；1正式发布\r\n      setLoading(true);\r\n      let { FileList, ...other } = data;\r\n      // FileName:FileList[0].FileName,\r\n      // FileUrl:FileList[0].FileUrl,\r\n      // FileSize:FileList[0].FileSize,\r\n      // setTimeout(() => {\r\n      publishTrain({\r\n        SchoolID: schoolID,\r\n        CollegeID: collegeID,\r\n        SelectLevel: selectLevel,\r\n        TStatus: 1,\r\n        FileList,\r\n        // ...previewData,\r\n        ...other,\r\n      }).then(({ result }) => {\r\n        if (result) removeTab(\"\", \"\", \"teacherTrain\", \"\",()=>{});\r\n        else {\r\n          setLoading(false);\r\n        }\r\n      });\r\n      // }, 3000);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [previewData, removeTab]\r\n  );\r\n  return (\r\n    // <Carousel ref={CarouselRef} dots={false}>\r\n    <Loading opacity={0.5} spinning={loading}>\r\n      <Tabs\r\n        activeKey={ActiveTab}\r\n        renderTabBar={() => {\r\n          return \"\";\r\n        }}\r\n      >\r\n        <TabPane tab=\"publish\" key=\"publish\">\r\n          <div\r\n            // style={{ display: `${preview ? \"none\" : \"block\"}` }}\r\n            className=\" Reacruit-context Publish-context Train-publish\"\r\n          >\r\n            <div className=\"context-top  \">\r\n              <span className=\" title-1\">发布培训计划</span>\r\n              {/* <span className=\" title-2\">(提示: 发布后将在各校官网显示)</span> */}\r\n            </div>\r\n            <Editor\r\n              type={\"train\"}\r\n              preview={{\r\n                onClick: (data) => {\r\n                  // data:{title, source, main}\r\n                  // setPreviewData({Title:data.title, Issue:'测试', ReleaseTime:'测试', Content:'测试', FileList:[]})\r\n                  setPreviewData(data);\r\n                  setPreview(true);\r\n                  setActiveTab(\"preview\");\r\n\r\n                  // CarouselRef.current.next();\r\n                },\r\n              }}\r\n              draft={{\r\n                onClick: (data) => {\r\n                  // setLoading(true);\r\n\r\n                  // setTimeout(() => {\r\n                  //   removeTab(\"\", \"\", \"teacherTrain\");\r\n                  // }, 3000);\r\n                  // setPreviewData(data);\r\n\r\n                  publish({ ...data, TStatus: 0 });\r\n                },\r\n              }}\r\n              publish={{\r\n                onClick: (data) => {\r\n                  publish({ ...data, TStatus: 1 });\r\n                },\r\n              }}\r\n              cancel={{\r\n                onClick: () => {\r\n                  removeTab(\"\", \"\", \"teacherTrain\", \"\", (active, param) => {\r\n                    console.log(active, param);\r\n                    // history.push('/teacherTrain')\r\n                  });\r\n                },\r\n              }}\r\n            ></Editor>\r\n          </div>\r\n        </TabPane>\r\n        <TabPane tab=\"preview\" key=\"preview\">\r\n          {preview ? (\r\n            <div className=\"Train-preview-box\">\r\n              <div\r\n                style={{ height: contentHW.height + \"px\" }}\r\n                // onClick={() => {\r\n                //   // CarouselRef.current.prev();\r\n                //   setPreview(false);\r\n                //   setActiveTab('publish');\r\n\r\n                // }}\r\n              >\r\n                <FileDetail\r\n                  schema={\"preview\"}\r\n                  type={\"train\"}\r\n                  previewData={previewData}\r\n                  onReturn={() => {\r\n                    setPreview(false);\r\n                    setActiveTab(\"publish\");\r\n                  }}\r\n                  onComfirm={() => {\r\n                    publish({ ...previewData, TStatus: 1 });\r\n                  }}\r\n                ></FileDetail>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </TabPane>\r\n      </Tabs>\r\n    </Loading>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherTrainMsg },\r\n    commonData: { roleMsg, contentHW },\r\n  } = state;\r\n  return { teacherTrainMsg, roleMsg, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Publish))));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-15 09:17:09\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\train\\detail.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Carousel } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport Editor from \"../../component/editor\";\r\nimport { Context } from \"./reducer\";\r\nimport { Loading } from \"../../component/common\";\r\nimport FileDetail from \"../../component/fileDetail\";\r\nimport { handleRoute } from \"../../util/public\";\r\nimport useDetailRequest from \"../../hooks/useDetailRequest\";\r\n// import { getCruitList } from \"../../api/train\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Datail(props, ref) {\r\n  let {\r\n    removeTab,\r\n    activeTab,\r\n    contentHW,\r\n    location,id,\r\n    history,controlSize,\r\n    dispatch,useScrollbars\r\n  } = props;\r\n  // let { state, setDispatch } = useContext(Context);\r\n  // 转到预览\r\n  const [loading, setLoading] = useState(false);\r\n  // 培训id\r\n  const [ID, setID] = useState(\"\");\r\n  const detailRef = useRef(null);\r\n \r\n  //获取培训id\r\n  useEffect(() => {\r\n    if (location.pathname) {\r\n      let Path = handleRoute(location.pathname);\r\n      Path[0] === \"trainDetail\" &&\r\n        Path[1] &&\r\n        Path[1] !== ID &&\r\n        setID(Path[1]);\r\n\r\n        if (Path[0] === \"trainDetail\" && ID && detailRef.current) {\r\n          //刷新\r\n          detailRef.current.reload();\r\n        }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location.pathname]);\r\n  return (\r\n    <Loading opacity={0.5} spinning={loading}>\r\n      <div\r\n        className=\" Reacruit-context   Train-Datail\"\r\n        style={controlSize===undefined||controlSize?{ height: contentHW.height + \"px\" }:{}}\r\n      >\r\n        <FileDetail  ref={detailRef} useScrollbars={useScrollbars} fileid={ID} type={'train'}></FileDetail>\r\n      </div>\r\n    </Loading>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherTrainMsg },\r\n    commonData: { roleMsg, contentHW },\r\n  } = state;\r\n  return { teacherTrainMsg, roleMsg, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Datail))));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 16:08:21\r\n * @LastEditTime: 2020-12-15 09:52:24\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\train\\edit.js\r\n */\r\n\r\nimport { connect } from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  useContext,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Carousel, Tabs } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import { handleActions } from \"../../redux/actions\";\r\nimport Editor from \"../../component/editor\";\r\nimport { Context } from \"./reducer\";\r\nimport { Loading } from \"../../component/common\";\r\nimport FileDetail from \"../../component/fileDetail\";\r\nimport { editTrain } from \"../../api/train\";\r\nimport { handleRoute } from \"../../util/public\";\r\n\r\nlet { TabPane } = Tabs;\r\n// import { getCruitList } from \"../../api/train\";\r\n//   import { NavLink } from \"react-router-dom\";\r\nfunction Publish(props, ref) {\r\n  let {\r\n    removeTab,\r\n    activeTab,\r\n    contentHW,\r\n    location,\r\n    history,\r\n    roleMsg: { schoolID, collegeID, selectLevel },\r\n\r\n    dispatch,\r\n  } = props;\r\n  let { state, setDispatch } = useContext(Context);\r\n  // 转到预览\r\n  const [preview, setPreview] = useState(false);\r\n  // 转到预览\r\n  const [ActiveTab, setActiveTab] = useState(\"publish\");\r\n  // 加载\r\n  const [loading, setLoading] = useState(false);\r\n  // 培训id\r\n  const [ID, setID] = useState(\"\");\r\n  // previewData\r\n  const [previewData, setPreviewData] = useState({\r\n    Title: \"测试\",\r\n    Issue: \"测试\",\r\n    ReleaseTime: \"测试\",\r\n    Content: \"测试\",\r\n    FileList: [],\r\n  });\r\n  // 轮播方法\r\n  // const CarouselRef = useRef(null);\r\n  // 发布\r\n  const publish = useCallback(\r\n    (data) => {\r\n      // *TStatus:状态：0草稿；1正式发布\r\n      setLoading(true);\r\n      let { FileList, ReleaseTime, ...other } = data;\r\n      // FileName:FileList[0].FileName,\r\n      // FileUrl:FileList[0].FileUrl,\r\n      // FileSize:FileList[0].FileSize,\r\n      // setTimeout(() => {\r\n      editTrain({\r\n        // SchoolID: schoolID,\r\n        // CollegeID: collegeID,\r\n        // SelectLevel: selectLevel,\r\n        TID: ID,\r\n        TStatus: 1,\r\n        FileList,\r\n        // ...previewData,\r\n        ...other,\r\n      }).then(({ result }) => {\r\n        if (result) removeTab(\"\", \"\", \"teacherTrain\", \"\");\r\n        else {\r\n        }\r\n        setLoading(false);\r\n\r\n      });\r\n      // }, 3000);\r\n    },\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [previewData, removeTab, ID]\r\n  );\r\n\r\n  //获取培训id\r\n  useEffect(() => {\r\n    if (location.pathname) {\r\n      let Path = handleRoute(location.pathname);\r\n      Path[0] === \"editTrain\" && Path[1] && Path[1] !== ID && setID(Path[1]);\r\n\r\n      // 请求\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    // <Carousel ref={CarouselRef} dots={false}>\r\n    <Loading opacity={0.5} spinning={loading}>\r\n      <Tabs\r\n        activeKey={ActiveTab}\r\n        renderTabBar={() => {\r\n          return \"\";\r\n        }}\r\n      >\r\n        <TabPane tab=\"publish\" key=\"publish\">\r\n          <div\r\n            // style={{ display: `${preview ? \"none\" : \"block\"}` }}\r\n            className=\" Reacruit-context Publish-context Train-publish\"\r\n          >\r\n            <div className=\"context-top  \">\r\n              <span className=\" title-1\">编辑培训计划</span>\r\n              <span className=\" title-2\">(提示: 发布后将在各校官网显示)</span>\r\n            </div>\r\n            <Editor\r\n            type={'train'}\r\n              fileid={ID}\r\n              schema={\"edit\"}\r\n              error={() => {\r\n                removeTab(\"\", \"\", \"teacherTrain\", \"\", (active, param) => {});\r\n              }}\r\n              preview={{\r\n                onClick: (data) => {\r\n                  // data:{title, source, main}\r\n                  // setPreviewData({Title:data.title, Issue:'测试', ReleaseTime:'测试', Content:'测试', FileList:[]})\r\n                  setPreviewData(data);\r\n                  setPreview(true);\r\n                  setActiveTab(\"preview\");\r\n\r\n                  // CarouselRef.current.next();\r\n                },\r\n              }}\r\n              draft={{\r\n                onClick: (data) => {\r\n                  // setLoading(true);\r\n\r\n                  // setTimeout(() => {\r\n                  //   removeTab(\"\", \"\", \"teacherTrain\");\r\n                  // }, 3000);\r\n                  // setPreviewData(data);\r\n\r\n                  publish({ ...data, TStatus: 0 });\r\n                },\r\n              }}\r\n              publish={{\r\n                onClick: (data) => {\r\n                  publish({ ...data, TStatus: 1 });\r\n                },\r\n              }}\r\n              cancel={{\r\n                onClick: () => {\r\n                  removeTab(\"\", \"\", \"teacherTrain\", \"\", (active, param) => {\r\n                    console.log(active, param);\r\n                    // history.push('/teacherTrain')\r\n                  });\r\n                },\r\n              }}\r\n            ></Editor>\r\n          </div>\r\n        </TabPane>\r\n        <TabPane tab=\"preview\" key=\"preview\">\r\n          {preview ? (\r\n            <div className=\"Train-preview-box\">\r\n              <div\r\n                style={{ height: contentHW.height + \"px\" }}\r\n                // onClick={() => {\r\n                //   // CarouselRef.current.prev();\r\n                //   setPreview(false);\r\n                //   setActiveTab('publish');\r\n\r\n                // }}\r\n              >\r\n                <FileDetail\r\n                  schema={\"preview\"}\r\n                  type={\"train\"}\r\n                  previewData={previewData}\r\n                  onReturn={() => {\r\n                    setPreview(false);\r\n                    setActiveTab(\"publish\");\r\n                  }}\r\n                  onComfirm={() => {\r\n                    publish({ ...previewData, TStatus: 1 });\r\n                  }}\r\n                ></FileDetail>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </TabPane>\r\n      </Tabs>\r\n    </Loading>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherTrainMsg },\r\n    commonData: { roleMsg, contentHW },\r\n  } = state;\r\n  return { teacherTrainMsg, roleMsg, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Publish))));\r\n","/*\r\n *                   ___====-_  _-====___\r\n *             _--^^^#####//      \\\\#####^^^--_\r\n *          _-^##########// (    ) \\\\##########^-_\r\n *         -############//  |\\^^/|  \\\\############-\r\n *       _/############//   (@::@)   \\############\\_\r\n *      /#############((     \\\\//     ))#############\\\r\n *     -###############\\\\    (oo)    //###############-\r\n *    -#################\\\\  / VV \\  //#################-\r\n *   -###################\\\\/      \\//###################-\r\n *  _#/|##########/\\######(   /\\   )######/\\##########|\\#_\r\n *  |/ |#/\\#/\\#/\\/  \\#/\\##\\  |  |  /##/\\#/  \\/\\#/\\#/\\#| \\|\r\n *  `  |/  V  V  `   V  \\#\\| |  | |/#/  V   '  V  V  \\|  '\r\n *     `   `  `      `   / | |  | | \\   '      '  '   '\r\n *                      (  | |  | |  )\r\n *                     __\\ | |  | | /__\r\n *                    (vvv(VVV)(VVV)vvv)\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *                神兽保佑            永无BUG\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-07 15:17:40\r\n * @LastEditTime: 2020-12-15 09:16:53\r\n * @Description: 培训计划管理,可复用，所以尽量不要用reduce全局状态处理\r\n * @FilePath: \\teacher-development\\src\\pages\\train\\index.js\r\n */\r\n\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport Home from \"./home\";\r\nimport Publish from \"./publish\";\r\nimport Detail from \"./detail\";\r\nimport \"./index.scss\";\r\n// import { handleRoute } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Reducer, Context, initState } from \"./reducer\";\r\nimport Edit from \"./edit\";\r\nfunction Train(props, ref) {\r\n  let {\r\n    teacherRecruitMsg,\r\n    location,\r\n    activeTab,\r\n    removeTab,\r\n    tabid,\r\n    param, //param控制显示的模块\r\n  } = props;\r\n  const [Component, setComponent] = useState(\"\");\r\n  const [state, setDispatch] = useReducer(Reducer, initState);\r\n  const homeRef = useRef({});\r\n  let { component } = state;\r\n\r\n  useEffect(() => {\r\n    setComponent(param);\r\n  }, [param]);\r\n  // console.log(param,Component)\r\n  // useEffect(() => {\r\n  //   // console.log(location)\r\n  //    //   if (location.pathname) {\r\n  //   //     let Path = handleRoute(location.pathname);\r\n  //   //     Path[0] === \"trainDetail\" &&\r\n  //   //       Path[1] &&\r\n  //   //       Path[1] !== ID &&\r\n  //   //       setID(Path[1]);\r\n  //   //   }\r\n  // }, [])\r\n  return (\r\n    <Context.Provider value={{ state, setDispatch }}>\r\n      <div className=\"Train\">\r\n        {Component === \"home\" ? (\r\n          // component === \"publish\" ? (\r\n          //   <Publish></Publish>\r\n          // ) : (\r\n          <Home ref={homeRef}></Home>\r\n        ) : (\r\n          // )\r\n          \"\"\r\n        )}\r\n        {Component === \"publish\" ? (\r\n          <Publish removeTab={removeTab}></Publish>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {Component === \"edit\" ? <Edit removeTab={removeTab}></Edit> : \"\"}\r\n        {tabid === \"trainDetail\" ? <Detail></Detail> : \"\"}\r\n        {/* {Component === \"edit\" ? <Home></Home> : \"\"} */}\r\n        {Component === \"details\" ? <Home></Home> : \"\"}\r\n      </div>\r\n    </Context.Provider>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Train))));\r\n","/*\r\n *                                |~~~~~~~|\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *                                |       |\r\n *     |~.\\\\\\_\\~~~~~~~~~~~~~~xx~~~         ~~~~~~~~~~~~~~~~~~~~~/_//;~|\r\n *     |  \\  o \\_         ,XXXXX),                         _..-~ o /  |\r\n *     |    ~~\\  ~-.     XXXXX`)))),                 _.--~~   .-~~~   |\r\n *      ~~~~~~~`\\   ~\\~~~XXX' _/ ';))     |~~~~~~..-~     _.-~ ~~~~~~~\r\n *               `\\   ~~--`_\\~\\, ;;;\\)__.---.~~~      _.-~\r\n *                 ~-.       `:;;/;; \\          _..-~~\r\n *                    ~-._      `''        /-~-~\r\n *                        `\\              /  /\r\n *                          |         ,   | |\r\n *                           |  '        /  |\r\n *                            \\/;          |\r\n *                             ;;          |\r\n *                             `;   .       |\r\n *                             |~~~-----.....|\r\n *                            | \\             \\\r\n *                           | /\\~~--...__    |\r\n *                           (|  `\\       __-\\|\r\n *                           ||    \\_   /~    |\r\n *                           |)     \\~-'      |\r\n *                            |      | \\      '\r\n *                            |      |  \\    :\r\n *                             \\     |  |    |\r\n *                              |    )  (    )\r\n *                               \\  /;  /\\  |\r\n *                               |    |/   |\r\n *                               |    |   |\r\n *                                \\  .'  ||\r\n *                                |  |  | |\r\n *                                (  | |  |\r\n *                                |   \\ \\ |\r\n *                                || o `.)|\r\n *                                |`\\\\) |\r\n *                                |       |\r\n *                                |       |\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2021-01-05 09:10:48\r\n * @LastEditTime: 2021-01-05 09:10:48\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\notice\\index.js\r\n */\r\n\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useMemo,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport \"./index.scss\";\r\nimport { getDataStorage } from \"../../util/public\";\r\nfunction Notice(props, ref) {\r\n  let {\r\n    commonData: {\r\n      roleMsg: { identityCode },\r\n      systemServer,\r\n    },\r\n  } = props;\r\n  let token = getDataStorage(\"token\");\r\n  return (\r\n    <div className=\"Notice\">\r\n      <iframe\r\n        className=\"notice-iframe\"\r\n        title=\"通知公告\"\r\n        // src={'http://192.168.129.64:20105/publicinfo//WebPage/html/notice/?lg_tk=4FF1FDEC-D573-4EAD-9DEB-78B278973073&lg_ic=IC0002&sysID=E34&iFrame=true#/'}\r\n        src={\r\n          systemServer[400].WebSvrAddr +\r\n          \"/WebPage/html/notice/?lg_tk=\" +\r\n          token +\r\n          \"&lg_ic=\" +\r\n          identityCode +\r\n          \"&sysID=L10&iFrame=true#/\"\r\n        }\r\n      ></iframe>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  // let { UIState, DataState, PublicState } = state;\r\n  // console.log(state)\r\n  return state;\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(Notice)));\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useMemo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Table from \"@/component/table\";\r\nimport { getCruitListByTeacher, applyTrain } from \"@/api/train\";\r\nimport moment from \"moment\";\r\nimport {autoAlert} from '@/util/public'\r\nimport { Search,  } from \"@/component/common\";\r\nfunction Train(props, ref) {\r\n  let {\r\n    history,\r\n    roleMsg: { schoolID, collegeID, selectLevel },\r\n  } = props;\r\n  const [keyword, setKeyword] = useState(\"\");\r\n  const [query, setQuery] = useState({\r\n    keyword,\r\n    schoolID,\r\n    collegeID,\r\n    selectLevel,\r\n  });\r\n  const [SearchValue, setSearchValue] = useState(\"\");\r\n  // 获取table组件的ref\r\n  const tableRef = useRef({});\r\n  const typeList = {\r\n    0: {\r\n      className: \"table-time-bottom\",\r\n      title: \"--\",\r\n      handleType: 0,\r\n      handleTitle: \"报名\",\r\n      handleClassName: \"table-apply-btn-no\",\r\n    },\r\n    1: {\r\n      className: \"table-time-bottom-can\",\r\n      title: \"可报名\",\r\n      handleType: 1,\r\n      handleTitle: \"报名\",\r\n      handleClassName: \"table-apply-btn-no\",\r\n      action: 1,\r\n    },\r\n    2: {\r\n      className: \"table-time-bottom-no\",\r\n      title: \"\",\r\n      handleType: 0,\r\n      handleTitle: \"报名\",\r\n      handleClassName: \"table-apply-btn-no\",\r\n    },\r\n    3: {\r\n      className: \"table-time-bottom-will\",\r\n      title: \"未开始\",\r\n      handleType: 0,\r\n      handleTitle: \"报名\",\r\n      handleClassName: \"table-apply-btn-no\",\r\n    },\r\n    4: {\r\n      className: \"table-time-bottom-end\",\r\n      title: \"已截止\",\r\n      handleType: 0,\r\n      handleTitle: \"报名\",\r\n      handleClassName: \"table-apply-btn-no\",\r\n    },\r\n    5: {\r\n      className: \"table-time-bottom-done\",\r\n      title: \"已报名\",\r\n      handleType: 2,\r\n      handleTitle: \"取消报名\",\r\n      handleClassName: \"table-apply-btn\",\r\n      action: 0,\r\n    },\r\n  };\r\n\r\n  const columns = useMemo(() => {\r\n    // table 的宽度最小为1040，各个列的width按这个来算1040/1200*设计图的width\r\n    // let widthRate = 1040 / 1200;\r\n    return [\r\n      {\r\n        // title: \"序号\",\r\n        dataIndex: \"index\",\r\n        align: \"center\",\r\n        width: 70,\r\n        textWrap: \"word-break\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-index\" title={data}>\r\n              {data}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"标题\",\r\n        width: 345,\r\n        // dataIndex: \"title\",\r\n        render: (data) => {\r\n          let { title, TID } = data;\r\n          return (\r\n            <span\r\n              onClick={() => {\r\n                history.push(\"/trainDetail/\" + TID);\r\n              }}\r\n              className=\"table-title\"\r\n              title={title}\r\n            >\r\n              {title ? title : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"发布单位\",\r\n        align: \"center\",\r\n        width: 120,\r\n        dataIndex: \"source\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-source\" title={data}>\r\n              {data}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n\r\n      {\r\n        title: \"报名时间\",\r\n        align: \"center\",\r\n        width: 230,\r\n        // dataIndex: \"ApplyEndTime\",\r\n        render: (data) => {\r\n          let {\r\n            ApplyEndTime,\r\n            ApplyBeginTime,\r\n            HasApplied,\r\n            ApplyFlag,\r\n            ApplyStatus,\r\n          } = data;\r\n          //   ApplyStatus=5\r\n          // \"ApplyStatus\":5,        //当前报名状态：1可报名，2人数达到上限，3未开始，4已结束，5已报名\r\n          let type = typeList[ApplyStatus];\r\n          // 是否有效\r\n          let canApply = moment() < moment(ApplyEndTime);\r\n          return (\r\n            <span className=\"table-time\" title={ApplyEndTime}>\r\n              {ApplyStatus ? (\r\n                <>\r\n                  <span className=\"table-time-top\">\r\n                    {ApplyEndTime && ApplyBeginTime\r\n                      ? ApplyEndTime + \"~\" + ApplyEndTime\r\n                      : \"--\"}\r\n                  </span>\r\n                  {typeList[ApplyStatus].title ? (\r\n                    <span\r\n                      className={`table-time-bottom ${typeList[ApplyStatus].className}`}\r\n                    >\r\n                      {typeList[ApplyStatus].title}\r\n                    </span>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </>\r\n              ) : (\r\n                \"--\"\r\n              )}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"报名人数/限额\",\r\n        align: \"center\",\r\n        width: 137,\r\n        // dataIndex: \"publisher\",\r\n        render: (data) => {\r\n          let { Limit, ApplyCount, ApplyFlag } = data;\r\n          let title =\r\n            (ApplyCount ? ApplyCount : 0) + \"/\" + (Limit ? Limit : \"--\");\r\n          return (\r\n            <span className=\"table-limit\" title={title}>\r\n              <span className=\"table-limit-count\">\r\n                {ApplyFlag ? title : \"--\"}\r\n              </span>\r\n              {ApplyFlag && ApplyCount && ApplyCount === Limit ? (\r\n                <span className=\"table-limit-no\">满员</span>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"培训方式\",\r\n        align: \"center\",\r\n        width: 120,\r\n        dataIndex: \"ActivityFlag\",\r\n        render: (data) => {\r\n          let ActivityList = [\r\n            { value: 1, title: \"线上\" },\r\n            { value: 0, title: \"线下\" },\r\n          ];\r\n          let title = ActivityList[parseInt(data)]\r\n            ? ActivityList[parseInt(data)].title\r\n            : \"--\";\r\n          return (\r\n            <span\r\n              className={`table-activity table-activity-${data}`}\r\n              title={title}\r\n            >\r\n              {title}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"操作\",\r\n        align: \"center\",\r\n        width: 130,\r\n\r\n        // dataIndex: \"time\",\r\n        render: (data) => {\r\n          let { ApplyStatus, ApplyFlag } = data;\r\n          let type = typeList[ApplyStatus];\r\n        //   console.log(type, typeList, ApplyStatus, data);\r\n          return (\r\n            <span className=\"table-handle\">\r\n              {type.handleType ? (\r\n                <span\r\n                  className={`table-apply-btn ${type.handleClassName}`}\r\n                  onClick={() => {\r\n                    //   history.push(\"/editTrain/\" + data.TID);\r\n                    ApplyTrain({ TID: data.TID, Action: type.action }, () => {\r\n                      autoAlert({\r\n                        title: type.handleTitle + \"成功\",\r\n                        type: \"warn\",\r\n                        autoHide:true\r\n                        // cancelShow: true,\r\n                      });\r\n                      tableRef.current.reloadList()\r\n                    });\r\n\r\n                  }}\r\n                >\r\n                  {type.handleTitle}\r\n                </span>\r\n              ) : (\r\n                \"--\"\r\n              )}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n    ];\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  // 报名\r\n  const ApplyTrain = useCallback(\r\n    (param, success = () => {}, error = () => {}) => {\r\n      applyTrain(param).then((res) => {\r\n        if (res.result) {\r\n          success();\r\n        } else {\r\n          error();\r\n        }\r\n      });\r\n    },\r\n    []\r\n  );\r\n  \r\n  return (\r\n    <div className=\"frame-type-route teacher-train\">\r\n      <div className=\"tt-handle-top\">\r\n        <Search\r\n          width={264}\r\n          placeHolder={\"请输入关键词进行搜索...\"}\r\n          className=\"tht-search\"\r\n          Value={SearchValue}\r\n          onChange={(e) => {\r\n            setSearchValue(e.target.value);\r\n          }}\r\n          onClickSearch={(e) => {\r\n            setKeyword(e.value);\r\n            setQuery({ schoolID, collegeID, keyword: e.value, selectLevel });\r\n          }}\r\n          onCancelSearch={(e) => {\r\n            setSearchValue(\"\");\r\n            setKeyword(\"\");\r\n          }}\r\n        ></Search>\r\n      </div>\r\n      {/* <input placeholder></input> */}\r\n      <Table\r\n        className=\"tt-table\"\r\n        columns={columns}\r\n        // dataSource={data}\r\n        prepare={!!query.selectLevel}\r\n        query={query}\r\n        onDataChange={(data) => {}}\r\n        ref={tableRef}\r\n        api={getCruitListByTeacher}\r\n      ></Table>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(Train))));\r\n","/*\r\n *\r\n *    ┏┓　　　┏┓\r\n *  ┏┛┻━━━┛┻┓\r\n *  ┃　　　　　　　┃\r\n *  ┃　　　━　　　┃\r\n *  ┃　＞　　　＜　┃\r\n *  ┃　　　　　　　┃\r\n *  ┃...　⌒　...　┃\r\n *  ┃　　　　　　　┃\r\n *  ┗━┓　　　┏━┛\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃  神兽保佑\r\n *      ┃　　　┃  代码无bug\r\n *      ┃　　　┃\r\n *      ┃　　　┗━━━┓\r\n *      ┃　　　　　　　┣┓\r\n *      ┃　　　　　　　┏┛\r\n *      ┗┓┓┏━┳┓┏┛\r\n *        ┃┫┫　┃┫┫\r\n *        ┗┻┛　┗┻┛\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 11:46:56\r\n * @LastEditTime: 2020-12-22 21:37:44\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\api\\personal.js\r\n */\r\nimport fetch from \"../util/fetch\";\r\nimport ipConfig from \"../util/ipConfig\";\r\nimport moment from \"moment\";\r\nimport { deepMap, SetNaNToNumber,transTime } from \"../util/public\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description:获取画像列表 http://192.168.129.1:8033/showdoc/web/#/21?page_id=2081\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getTeacherList(payload = {}) {\r\n  let {\r\n    pageIndex,\r\n    pageSize,\r\n    keyword,\r\n    schoolID,\r\n    collegeID,\r\n    nodeType,\r\n    nodeID,\r\n    sortFiled,\r\n    sortType,\r\n  } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Teacher/List?SchoolID=${schoolID ? schoolID : \"\"}&NodeID=${\r\n      nodeID ? nodeID : \"\"\r\n    }&PageIndex=${pageIndex ? pageIndex : 1}&PageSize=${\r\n      pageSize ? pageSize : 10\r\n    }&Keyword=${keyword ? keyword : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }&NodeType=${nodeType ? nodeType : \"\"}${\r\n      sortFiled ? \"&SortFiled=\" + sortFiled : \"\"\r\n    }${sortType ? \"&SortType=\" + sortType : \"\"}`;\r\n\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: {\r\n            //     \"Total\":50,\r\n            // \"PageIndex\":1,\r\n            // \"List\":[{\r\n            //     \"UserID\":\"T001\",        //ID，唯一标识\r\n            //     \"UserName\":\"白老师\",    //标题\r\n            //     \"SchoolID\":\"S-11\",\r\n            //     \"SchoolName\":\"白云中学\",\r\n            //     \"Gender\":\"女\",\r\n            //     \"TitleName\":\"一级教师\",            //职称\r\n            //     \"Politics\":\"中共党员\",    //政治面貌\r\n            //     \"TeachAge\":2年,                  //教龄\r\n            //     \"HonorNames\":\"学科带头人,特级教师\"\r\n            // }]\r\n            ...json.Data,\r\n            List:\r\n              json.Data.List instanceof Array\r\n                ? json.Data.List.map((child, index) => {\r\n                    let Index = (json.Data.PageIndex - 1) * 10 + index + 1;\r\n                    Index = Index >= 10 ? Index : \"0\" + Index;\r\n                    return {\r\n                      ...child,\r\n                      key: index,\r\n                      index: Index,\r\n                    };\r\n                  })\r\n                : [],\r\n            PageSize: pageSize,\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2081\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getNode(payload = {}) {\r\n  let { schoolID, collegeID } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Teacher/GetNode?SchoolID=${schoolID ? schoolID : \"\"}&CollegeID=${\r\n      collegeID ? collegeID : \"\"\r\n    }`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        let data = [[], {}];\r\n        json.Data instanceof Array &&\r\n          deepMap(\r\n            json.Data,\r\n            ({ child: { NodeID, NodeName, NodeType }, level,indexArray }) => {\r\n              if (level === 1) {\r\n                data[0].push({\r\n                  value: NodeID,\r\n                  title: NodeName,\r\n                  nodeType: NodeType,\r\n                });\r\n              } else if (level === 2) {\r\n                let parentID = json.Data[indexArray[0]].NodeID\r\n                if (data[1][parentID] instanceof Array) {\r\n                  data[1][parentID].push({\r\n                    value: NodeID,\r\n                    title: NodeName,\r\n                    nodeType: NodeType,\r\n                  });\r\n                } else {\r\n                  data[1][parentID] = [\r\n                    { value: NodeID, title: NodeName, nodeType: NodeType },\r\n                  ];\r\n                }\r\n              }\r\n            },\r\n            \"SubSet\"\r\n          );\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: data,\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n/**\r\n * @description:  获取各个系统url\r\n * @param {*sysIDs}\r\n * @return {*}\r\n */\r\nexport function GetSubSystemsMainServerBySubjectID(payload = {}) {\r\n  let { sysIDs, baseIP } = payload;\r\n  sysIDs = sysIDs instanceof Array ? sysIDs : [];\r\n  let url =\r\n    baseIP +\r\n    `/BaseApi/Global/GetSubSystemsMainServerBySubjectID?appid=000&access_token=4d39af1bff534514e24948568b750f6c&subjectID=&sysIDs=${sysIDs.join(\r\n      \",\"\r\n    )}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        let data = {};\r\n        if (json.Data instanceof Array) {\r\n          json.Data.forEach((child) => {\r\n            data[child.SysID] = child;\r\n          });\r\n        }\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: data,\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n\r\nexport function GetUserDetailForHX(payload = {}) {\r\n  let { userID, baseIP } = payload;\r\n  let url =\r\n    baseIP +\r\n    `/UserMgr/UserInfoMgr/GetUserDetailForHX?UserID=${userID}&UserType=1`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        let data = json.Data ? json.Data : {};\r\n\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          Data: { ...data, UserID: userID },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n\r\nexport function getTeacherDetailIntroduction(payload = {}) {\r\n  let { userID, baseIP } = payload;\r\n  let url = baseIP + `admin/getTeacherDetailIntroduction?teacherId=${userID}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2, advance: false })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.code === 0) {\r\n        let data = {};\r\n        if (json.data) {\r\n          // json.data.educationBackgroundDetailData = [\r\n          //   {\r\n          //     id: 7,\r\n          //     teacherIntroductionId: 3,\r\n          //     eduStage: 2,\r\n          //     currentSchool: \"南昌大学\",\r\n          //     extend1: null,\r\n          //     extend2: null,\r\n          //     startTime: \"1990-01-02 00:00:00\",\r\n          //     endTime: \"1992-02-20 00:00:00\",\r\n          //   },\r\n          //   {\r\n          //     id: 7,\r\n          //     teacherIntroductionId: 3,\r\n          //     eduStage: 2,\r\n          //     currentSchool: \"南昌大学\",\r\n          //     extend1: null,\r\n          //     extend2: null,\r\n          //     startTime: \"1990-01-02 00:00:00\",\r\n          //     endTime: \"1992-02-20 00:00:00\",\r\n          //   },\r\n          //   {\r\n          //     id: 7,\r\n          //     teacherIntroductionId: 3,\r\n          //     eduStage: 2,\r\n          //     currentSchool: \"南昌大学\",\r\n          //     extend1: null,\r\n          //     extend2: null,\r\n          //     startTime: \"1990-01-02 00:00:00\",\r\n          //     endTime: \"1992-02-20 00:00:00\",\r\n          //   },\r\n          //   {\r\n          //     id: 7,\r\n          //     teacherIntroductionId: 3,\r\n          //     eduStage: 2,\r\n          //     currentSchool: \"南昌大学\",\r\n          //     extend1: null,\r\n          //     extend2: null,\r\n          //     startTime: \"1990-01-02 00:00:00\",\r\n          //     endTime: \"1992-02-20 00:00:00\",\r\n          //   },\r\n          //   {\r\n          //     id: 7,\r\n          //     teacherIntroductionId: 3,\r\n          //     eduStage: 2,\r\n          //     currentSchool: \"南昌大学\",\r\n          //     extend1: null,\r\n          //     extend2: null,\r\n          //     startTime: \"1990-01-02 00:00:00\",\r\n          //     endTime: \"1992-02-20 00:00:00\",\r\n          //   },\r\n          // ]\r\n          let EducationBackgroundDetailData = [];\r\n          if (json.data.educationBackgroundDetailData instanceof Array) {\r\n            let eduCard = []; //两个一个轮播\r\n            json.data.educationBackgroundDetailData.forEach((child, index) => {\r\n              if (\r\n                eduCard.length === 2 ||\r\n                index === json.data.educationBackgroundDetailData.length - 1\r\n              ) {\r\n                EducationBackgroundDetailData.push(eduCard);\r\n                eduCard = [];\r\n              } else {\r\n                eduCard.push(child);\r\n              }\r\n            });\r\n          }\r\n          data = {\r\n            ...json.data,\r\n            EducationBackgroundDetailData,\r\n          };\r\n        }\r\n        // accessToken: null\r\n        // appId: null\r\n        // birthday: null\r\n        // degree: null\r\n        // educationBackground: null\r\n        // educationBackgroundDetail: null\r\n        // email: null\r\n        // id: null\r\n        // nation: null\r\n        // nativeSpace: null\r\n        // photoPath: \"http://192.168.129.64:20103/http_basic/UserInfo/Photo/Default/Nopic.jpg\"\r\n        // politicStatus: null\r\n        // professionalTitle: \"一级教师\"\r\n        // qq: \"\"\r\n        // telePhone: \"\"\r\n        // userId: \"gy2\"\r\n        // userName: \"甘月\"\r\n        // weibo: \"\"\r\n        // weixin: \"\"\r\n        // workExperience: null\r\n        return {\r\n          StatusCode: 200,\r\n          Data: data,\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: 400,\r\n        };\r\n      }\r\n    });\r\n}\r\n\r\n// 获取周次\r\nexport function GetTermAndPeriodAndWeekNOInfo(payload = {}) {\r\n  let { userID, baseIP, schoolID } = payload;\r\n  let url =\r\n    baseIP +\r\n    `/Schedule/api//GetTermAndPeriodAndWeekNOInfo?UserID=${userID}&UserType=1&schoolId=${schoolID}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        let data = {};\r\n        let StatusCode = json.StatusCode;\r\n        if (json.Data && json.Data.ItemWeek instanceof Array) {\r\n          let WeekList = [];\r\n          let NowWeekSelect;\r\n          let NowWeek = json.Data.WeekNO;\r\n          if (NowWeek > json.Data.ItemWeek.length || NowWeek <= 0) {\r\n            NowWeek = 1;\r\n          }\r\n          json.Data.ItemWeek.forEach((child) => {\r\n            let data = {\r\n              startTime: moment(child.StartDate).format(\"YYYY-MM-DD HH:mm:ss\"),\r\n              endTime: moment(child.EndDate).format(\"YYYY-MM-DD HH:mm:ss\"),\r\n              value: child.WeekNO,\r\n              title: \"第\" + child.WeekNO + \"周\",\r\n            };\r\n            WeekList.push(data);\r\n            if (NowWeek === child.WeekNO) {\r\n              NowWeekSelect = data;\r\n            }\r\n          });\r\n          data = { ...json.Data };\r\n          data.WeekList = WeekList;\r\n          data.NowWeekSelect = NowWeekSelect;\r\n        } else {\r\n          StatusCode = 401;\r\n        }\r\n        return {\r\n          StatusCode: StatusCode,\r\n          Data: { ...data },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n// 电子资源\r\nexport function GetTeacherResView(payload = {}) {\r\n  let {\r\n    userID,\r\n    baseIP,\r\n    proxy,\r\n    schoolID,\r\n    token,\r\n    subjectNames,\r\n    startTime,\r\n    subjectIDs,\r\n    endTime,\r\n  } = payload;\r\n  let url =\r\n    proxy +\r\n    `/api/Public/GetTeacherResView?SchoolID=${schoolID}&TeacherID=${userID}&Token=${token}&SubjectIDs=${subjectIDs}&SubjectNames=${subjectNames}&startTime=${startTime}&endTime=${endTime}`;\r\n  return (\r\n    fetch\r\n      .tranfer({ reqUrl: url, basicProxy: baseIP, token })\r\n      // .then((res) => res.json())\r\n      .then((json) => {\r\n        if (json.error === 0 && json.data) {\r\n          let data = {};\r\n          let StatusCode = 200;\r\n          //         \"TeacherID\":\"t0001\",\r\n          // \"Url\":\"/xxxxxxxxx\",\r\n          // \"UploadCount\":\"500\",\r\n          // \"BrowseCount\":\"1290\",\r\n          // \"UploadAllScale\":\"0.236\",\r\n          // \"UploadSubjectScale\":[{\r\n          // \t\"SubjectScale\":\"0.562\",\r\n          // \t\"SubjectID\":\"\",\r\n          // \t\"SubjectName\":\"\"\r\n          // }]\r\n\r\n          let {\r\n            UploadCount,\r\n            UploadAllScale,\r\n            BrowseCount,\r\n            Url,\r\n            UploadSubjectScale,\r\n          } = json.data;\r\n          data.AllCount = SetNaNToNumber(UploadCount);\r\n          data.AllScale = SetNaNToNumber(UploadAllScale) * 100;\r\n          data.UseCount = SetNaNToNumber(BrowseCount);\r\n          data.Url = Url ? proxy + Url + \"?lg_tk=\" + token : \"\";\r\n          data.AllSubject = [];\r\n          UploadSubjectScale instanceof Array &&\r\n            UploadSubjectScale.forEach((child) => {\r\n              data.AllSubject.push({\r\n                SubjectName: child.SubjectName,\r\n                SUbjectID: child.SubjectID,\r\n                Scale: SetNaNToNumber(child.SubjectScale) * 100,\r\n              });\r\n            });\r\n          return {\r\n            StatusCode: StatusCode,\r\n            Data: { ...data },\r\n          };\r\n        } else {\r\n          return {\r\n            StatusCode: 400,\r\n          };\r\n        }\r\n      })\r\n  );\r\n}\r\n\r\n// 教学方案\r\nexport function GetTeachPlanStatistics(payload = {}) {\r\n  let {\r\n    userID,\r\n    baseIP,\r\n    proxy,\r\n    // schoolID,\r\n    token,\r\n    // subjectNames,\r\n    startTime,\r\n    // subjectIDs,\r\n    endTime,\r\n  } = payload;\r\n  let url =\r\n    proxy +\r\n    `TeachingPlan/ApiForOutside/GetTeachPlanStatistics?UserID=${userID}&StartTime=${startTime}&EndTime=${endTime}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200 && json.Data) {\r\n        let data = {};\r\n        let StatusCode = 200;\r\n        //         \"TeacherID\":\"t0001\",\r\n        // \"Url\":\"/xxxxxxxxx\",\r\n        // \"UploadCount\":\"500\",\r\n        // \"BrowseCount\":\"1290\",\r\n        // \"UploadAllScale\":\"0.236\",\r\n        // \"UploadSubjectScale\":[{\r\n        // \t\"SubjectScale\":\"0.562\",\r\n        // \t\"SubjectID\":\"\",\r\n        // \t\"SubjectName\":\"\"\r\n        // }]\r\n\r\n        let {\r\n          UploadCount,\r\n          UploadAllScale,\r\n          UseCount,\r\n          PCLink,\r\n          UploadSubjectScale,\r\n        } = json.Data;\r\n        data.AllCount = SetNaNToNumber(UploadCount);\r\n        data.AllScale = SetNaNToNumber(UploadAllScale) * 100;\r\n        data.UseCount = SetNaNToNumber(UseCount);\r\n        data.Url = PCLink ? proxy + PCLink + \"?lg_tk=\" + token : \"\";\r\n        data.AllSubject = [];\r\n        UploadSubjectScale instanceof Array &&\r\n          UploadSubjectScale.forEach((child) => {\r\n            data.AllSubject.push({\r\n              SubjectName: child.SubjectName,\r\n              SUbjectID: child.SubjectID,\r\n              Scale: SetNaNToNumber(child.SubjectScale) * 100,\r\n            });\r\n          });\r\n        // window.open(\r\n        //   Urls[\"300\"].WebUrl +\r\n        //     \"html/TeachingPlan/?subjectid=\" +\r\n        //     SubjectID +\r\n        //     \"&lg_tk=\" +\r\n        //     token +\r\n        //     \"&lg_ic=\" +\r\n        //     IdentityCode\r\n        // );\r\n        return {\r\n          StatusCode: StatusCode,\r\n          Data: { ...data },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: 400,\r\n        };\r\n      }\r\n    });\r\n}\r\n\r\n// 精品课程\r\nexport function GetTeacherpercentage(payload = {}) {\r\n  let {\r\n    userID,\r\n    baseIP,\r\n    proxy,\r\n    schoolID,\r\n    token,\r\n    subjectNames,\r\n    startTime,\r\n    subjectIDs,\r\n    endTime,\r\n  } = payload;\r\n  let url =\r\n    proxy +\r\n    `api/common/teacherpercentage?schoolId=${schoolID}&TeacherID=${userID}&StartTime=${startTime}&EndTime=${endTime}`;\r\n  return (\r\n    fetch\r\n      .tranfer({ reqUrl: url, basicProxy: baseIP, token })\r\n      // .then((res) => res.json())\r\n      .then((json) => {\r\n        // console.log(json);\r\n        if (json.code === 0 && json.data) {\r\n          let data = {};\r\n          let StatusCode = 200;\r\n          //         \"TeacherID\":\"t0001\",\r\n          // \"Url\":\"/xxxxxxxxx\",\r\n          // \"UploadCount\":\"500\",\r\n          // \"BrowseCount\":\"1290\",\r\n          // \"UploadAllScale\":\"0.236\",\r\n          // \"UploadSubjectScale\":[{\r\n          // \t\"SubjectScale\":\"0.562\",\r\n          // \t\"SubjectID\":\"\",\r\n          // \t\"SubjectName\":\"\"\r\n          // }]\r\n\r\n          let {\r\n            uploadCount,\r\n            uploadAllScale,\r\n            browseCount,\r\n            url,\r\n            uploadSubjectScale,\r\n          } = json.data;\r\n          data.AllCount = SetNaNToNumber(uploadCount);\r\n          data.AllScale = SetNaNToNumber(uploadAllScale) * 100;\r\n          data.UseCount = SetNaNToNumber(browseCount);\r\n          data.Url = url ? decodeURIComponent(url) + \"?lg_tk=\" + token : \"\"; //教师才能看\r\n          data.AllSubject = [];\r\n          uploadSubjectScale instanceof Array &&\r\n            uploadSubjectScale.forEach((child) => {\r\n              data.AllSubject.push({\r\n                SubjectName: child.subjectName,\r\n                SUbjectID: child.subjectID,\r\n                Scale: SetNaNToNumber(child.subjectScale) * 100,\r\n              });\r\n            });\r\n          console.log(data.Url);\r\n          return {\r\n            StatusCode: StatusCode,\r\n            Data: { ...data },\r\n          };\r\n        } else {\r\n          return {\r\n            StatusCode: 400,\r\n          };\r\n        }\r\n      })\r\n  );\r\n}\r\n\r\n// 获取学期\r\nexport function GetAllTerm(payload = {}) {\r\n  let { proxy } = payload;\r\n  let url = proxy + `/getAllTerm`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2, advance: false })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.code === 0) {\r\n        let data = [];\r\n        let StatusCode = 200;\r\n        if (json.data instanceof Array && json.data.length > 0) {\r\n          json.data.forEach((child) => {\r\n            data.push({\r\n              value: child.term,\r\n              title: constructTerm(child.term),\r\n            });\r\n          });\r\n        } else {\r\n          StatusCode = 401;\r\n        }\r\n        return {\r\n          StatusCode: StatusCode,\r\n          Data: data,\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n\r\nlet constructTerm = (Term) => {\r\n  if (Term.includes(\"-\")) {\r\n    let Term1 = Term.slice(0, Term.length - 2);\r\n    let Term2 = Term.slice(Term.length - 2, Term.length);\r\n    let TermC = \"\";\r\n    if (Term2 === \"01\") {\r\n      TermC = \"第一学期\";\r\n    } else if (Term2 === \"02\") {\r\n      TermC = \"第二学期\";\r\n    }\r\n    return Term1 + \"学年\" + TermC;\r\n  }\r\n  return \"\";\r\n};\r\n\r\nexport function GetTeacherWork(payload = {}) {\r\n  let { userName, proxy, semester, pageSize, pageNum, token } = payload;\r\n  let url =\r\n    proxy +\r\n    `/admin/getTeacherWork?userName=${userName}&pageNum=${1}&pageSize=${10000}&token=${token}&semester=${semester}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2, advance: false })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.code === 0) {\r\n        let data = {};\r\n        let StatusCode = 200;\r\n        if (\r\n          json.data &&\r\n          json.data.data instanceof Array &&\r\n          json.data.data.length > 0\r\n        ) {\r\n          //           pageCount: 1\r\n          // pageNum: 1\r\n          // pageSize: 10000\r\n          // totalCount: 1\r\n          //data:[{}]\r\n          // json.data.data为数组，拿第一个\r\n          let {\r\n            administrativeClassNum, //行政班数\r\n            classNum, //教学班数\r\n            invigilationNum, //监考数\r\n            scheduleCount, //课程\r\n          } = json.data.data[0];\r\n          data = [\r\n            SetNaNToNumber(scheduleCount),\r\n            SetNaNToNumber(administrativeClassNum),\r\n            SetNaNToNumber(classNum),\r\n            SetNaNToNumber(invigilationNum),\r\n          ];\r\n        } else {\r\n          StatusCode = 40001;\r\n        }\r\n\r\n        return {\r\n          StatusCode: StatusCode,\r\n          Data: data,\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: 400,\r\n        };\r\n      }\r\n    });\r\n}\r\n/**\r\n * @description: 教研统计\r\n * @param {*} payload\r\n * @return {*}\r\n */\r\nexport function GetResearchByUserID(payload = {}) {\r\n  let { userID, baseIP } = payload;\r\n  let url =\r\n    BasicProxy + `/Statistics/Basic/GetResearchByUserID?UserID=${userID}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200 && json.Data) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          Data: [\r\n            json.Data.ProjectCount,\r\n            json.Data.CompletedCount,\r\n            json.Data.ActivityCount,\r\n          ],\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: 400,\r\n        };\r\n      }\r\n    });\r\n}\r\n/**\r\n * @description: 个人发展\r\n * @param {*} payload\r\n * @return {*}\r\n */\r\nexport function GetDevelopmentHistory(payload = {}) {\r\n  let { userID, baseIP } = payload;\r\n  let url =\r\n    BasicProxy + `/Statistics/Basic/GetDevelopmentHistory?UserID=${userID}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200 && json.Data instanceof Array) {\r\n        let data = json.Data.map((child, index) => {\r\n          return {\r\n            title: child.ChangeDetail,\r\n            time: child.ChangeTime,\r\n            ...child,\r\n          };\r\n        });\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          Data: data,\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: 400,\r\n        };\r\n      }\r\n    });\r\n}\r\n\r\nexport function GetLogInfoByUserID(payload = {}) {\r\n  let { userID, baseIP } = payload;\r\n  let url =\r\n    BasicProxy + `/Statistics/Basic/GetLogInfoByUserID?UserID=${userID}`;\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200 && json.Data) {\r\n        // 雷达\r\n        let DayTimeList = [\r\n          {\r\n            Time: \"06:00~09:00\",\r\n            Count: 0,\r\n          },\r\n          {\r\n            Time: \"09:00~12:00\",\r\n            Count: 0,\r\n          },\r\n          {\r\n            Time: \"12:00~15:00\",\r\n            Count: 0,\r\n          },\r\n          {\r\n            Time: \"15:00~18:00\",\r\n            Count: 0,\r\n          },\r\n          {\r\n            Time: \"18:00~21:00\",\r\n            Count: 0,\r\n          },\r\n          {\r\n            Time: \"21:00~23:59\",\r\n            Count: 0,\r\n          },\r\n        ];\r\n        DayTimeList[0].Count = json.Data[\"T0609\"] || 0;\r\n        DayTimeList[1].Count = json.Data[\"T0912\"] || 0;\r\n        DayTimeList[2].Count = json.Data[\"T1215\"] || 0;\r\n        DayTimeList[3].Count = json.Data[\"T1518\"] || 0;\r\n        DayTimeList[4].Count = json.Data[\"T1821\"] || 0;\r\n        DayTimeList[5].Count = json.Data[\"T2124\"] || 0;\r\n        let {\r\n          TimeSpan, //累计上机时长\r\n          DayAvgTimeSpan, //累计上机时长\r\n          // LoginCount, //上机总次数\r\n          AvgLoginTimeSpan, //平均每次上机时长\r\n        } = json.Data;\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          Data: {\r\n            ...json.Data,\r\n            TimeSpan: transTime(parseFloat(TimeSpan).toFixed(2),'m',).Time_En_Low, //累计上机时长\r\n            DayAvgTimeSpan:transTime(parseFloat(DayAvgTimeSpan).toFixed(2),'m',).Time_En_Low, //累计上机时长\r\n            // LoginCount:transTime(LoginCount,'m','h').time, //上机总次数\r\n            AvgLoginTimeSpan:transTime(parseFloat(AvgLoginTimeSpan).toFixed(2),'m',).Time_En_Low, //平均每次上机时长\r\n            DayTimeList,\r\n            DayOnlineList: [],\r\n          }, //现在DayOnlineList暂时没有\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: 400,\r\n        };\r\n      }\r\n    });\r\n}\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  useMemo,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport { Dropdown, Search } from \"../../component/common\";\r\nimport Table from \"../../component/table\";\r\nimport { getTeacherList, getNode } from \"../../api/personal\";\r\n// import { handleRoute } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n//   import { Reducer, Context, initState } from \"./reducer\";\r\nfunction PersonalList(props, ref) {\r\n  let {\r\n    location,\r\n    history,\r\n    roleMsg: { productLevel, schoolID, collegeID },\r\n    levelHash,\r\n    contentHW: { height },\r\n  } = props;\r\n  const [SearchValue, setSearchValue] = useState(\"\");\r\n  // 获取当前级别的信息\r\n  const levelMsg = useMemo(() => {\r\n    return levelHash[productLevel]\r\n      ? levelHash[productLevel]\r\n      : {\r\n          productLevel: 1,\r\n          selectLevel: 1,\r\n          title: \"\",\r\n          sub: \"\",\r\n          belong: \"\",\r\n          belondName: \"\",\r\n        };\r\n  }, [levelHash, productLevel]);\r\n  // 学校node\r\n  const [SchoolList, setSchoolList] = useState([\r\n    { value: \"\", title: \"全部学校\" },\r\n  ]);\r\n  // 第一node\r\n  const [FirstNodeList, setFirstNodeList] = useState([\r\n    { value: \"\", title: \"全部\" + levelMsg.sub },\r\n  ]);\r\n  // 第二node,只有大学学校级别才有才有\r\n  const [SecondNodeList, setSecondNodeList] = useState([\r\n    { value: \"\", title: \"全部教研室\" },\r\n  ]);\r\n  // 保存第二级所有节点\r\n  const [SecondNodeObj, setSecondNodeObj] = useState({});\r\n  // 下拉选择\r\n  const [firstSelect, setFirstSelect] = useState(\"\");\r\n  const [secondSelect, setSecondSelect] = useState(\"\");\r\n  const [query, setQuery] = useState({\r\n    keyword: \"\",\r\n    schoolID: productLevel === 1 ? \"\" : schoolID,\r\n    nodeID: \"\",\r\n    nodeType: \"\",\r\n  });\r\n\r\n  // 初始化列表\r\n  useEffect(() => {\r\n    // 非教育局，使用node\r\n    if (productLevel !== 1) {\r\n      getNode({ collegeID, schoolID }).then((res) => {\r\n        if (res.StatusCode === 200) {\r\n          console.log(res)\r\n          setFirstNodeList([\r\n            { value: \"\", title: \"全部\" + levelMsg.sub },\r\n            ...res.data[0],\r\n          ]);\r\n          setSecondNodeObj(res.data[1]);\r\n        }\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [productLevel]);\r\n  // 获取table组件的ref\r\n  const tableRef = useRef({});\r\n\r\n  const columns = useMemo(() => {\r\n    let widthRate = 1040 / 1200;\r\n    return [\r\n      {\r\n        title: \"教师姓名\",\r\n        // dataIndex: \"index\",\r\n        key: \"UserName\",\r\n        align: \"left\",\r\n        width: 190 * widthRate,\r\n        sorter: true,\r\n        render: (data) => {\r\n          let { UserName, PhotoPath } = data;\r\n          return (\r\n            <span className=\"table-name\" title={UserName}>\r\n              <i\r\n                style={{\r\n                  background: `url(${PhotoPath})no-repeat center 0/24px`,\r\n                }}\r\n              ></i>\r\n              {UserName ? UserName : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"工号\",\r\n        width: 150 * widthRate,\r\n        sorter: true,\r\n        key: \"UserID\",\r\n        align: \"center\",\r\n        dataIndex: \"UserID\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-userid\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: levelMsg.belongBefore + levelMsg.belong,\r\n        sorter: true,\r\n        align: \"center\",\r\n        key: levelMsg.belondName,\r\n\r\n        width: 150 * widthRate,\r\n        // dataIndex: \"source\",\r\n        render: (data) => {\r\n          let name = data[levelMsg.belondName];\r\n          return (\r\n            <span className=\"table-belondName\" title={name}>\r\n              {name ? name : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n\r\n      {\r\n        title: \"性别\",\r\n        sorter: true,\r\n        align: \"center\",\r\n        key: \"Gender\",\r\n\r\n        width: 95 * widthRate,\r\n        dataIndex: \"Gender\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-Gender\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"教龄\",\r\n        sorter: true,\r\n        key: \"TeachAge\",\r\n        align: \"center\",\r\n        width: 95 * widthRate,\r\n        dataIndex: \"TeachAge\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-TeachAge\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n\r\n      {\r\n        title: \"政治面貌\",\r\n        sorter: true,\r\n        key: \"PoliticsCode\",\r\n        align: \"center\",\r\n        width: 120 * widthRate,\r\n        dataIndex: \"Politics\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-Politics\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"教师职称\",\r\n        sorter: true,\r\n        key: \"TitleCode\",\r\n        align: \"center\",\r\n        width: 120 * widthRate,\r\n        dataIndex: \"TitleName\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-TitleName\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"荣誉称号\",\r\n        align: \"center\",\r\n        width: 140 * widthRate,\r\n        dataIndex: \"HonorNames\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-HonorNames\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"查看画像\",\r\n        align: \"center\",\r\n        width: 140 * widthRate,\r\n\r\n        // dataIndex: \"time\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-handle\">\r\n              <span\r\n                className=\" btn-check\"\r\n                onClick={() => {\r\n                  // history.push(\"/personalDetail/\" + data.UserID);\r\n                  window.open(\r\n                    window.location.search +\r\n                      \"#/page/personalDetail/\" +\r\n                      data.UserID\r\n                  );\r\n                }}\r\n              ></span>\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n    ];\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [levelMsg]);\r\n  return (\r\n    <div className=\"PersonalList\" style={{ height: height }}>\r\n      <div className=\"pl-top\">\r\n        <div className=\"plt-select\">\r\n          {productLevel === 1 ? (\r\n            <Dropdown\r\n              width={150}\r\n              height={240}\r\n              dropList={SchoolList}\r\n              title={\"学校\"}\r\n              value={query.schoolID}\r\n              className=\"school-dropdown\"\r\n              onChange={(e) => {}}\r\n              onSelect={(e, option) => {\r\n                setQuery({ ...query, schoolID: e });\r\n              }}\r\n            ></Dropdown>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {productLevel !== 1 ? (\r\n            <>\r\n              <Dropdown\r\n                width={150}\r\n                height={240}\r\n                dropList={FirstNodeList}\r\n                title={productLevel === 3 ? \"学科\" : \"教研室\"}\r\n                value={firstSelect}\r\n                className=\"first-dropdown\"\r\n                onChange={(e) => {}}\r\n                onSelect={(e, option) => {\r\n                  setQuery({ ...query, nodeID: e, nodeType: option.nodeType });\r\n                  setFirstSelect(e);\r\n                  console.log(SecondNodeObj[e],e,SecondNodeObj)\r\n                  setSecondNodeList(\r\n                    SecondNodeObj[e]\r\n                      ? SecondNodeObj[e]\r\n                      : [{ value: \"\", title: \"全部教研室\" }]\r\n                  );\r\n                }}\r\n              ></Dropdown>\r\n              {productLevel === 2 ? (\r\n                <Dropdown\r\n                  width={150}\r\n                  height={240}\r\n                  disabled={firstSelect === \"\"}\r\n                  dropList={SecondNodeList}\r\n                  value={secondSelect}\r\n                  className=\"second-dropdown\"\r\n                  onChange={(e) => {}}\r\n                  onSelect={(e, option) => {\r\n                    setQuery({\r\n                      ...query,\r\n                      nodeID: e,\r\n                      nodeType: option.nodeType,\r\n                    });\r\n                    setSecondSelect(e);\r\n                  }}\r\n                ></Dropdown>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n        <div className=\"plt-search\">\r\n          <Search\r\n            className=\"home-search\"\r\n            Value={SearchValue}\r\n            placeHolder={\"输入教师姓名/工号搜索\"}\r\n            onChange={(e) => {\r\n              setSearchValue(e.target.value);\r\n            }}\r\n            onClickSearch={(e) => {\r\n              setQuery({ ...query, keyword: SearchValue });\r\n            }}\r\n            onCancelSearch={(e) => {\r\n              setSearchValue(\"\");\r\n              setQuery({ ...query, keyword: \"\" });\r\n            }}\r\n          ></Search>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"pl-table\">\r\n        <Scrollbars>\r\n          <Table\r\n            className=\"Reacruit-table\"\r\n            columns={columns}\r\n            // dataSource={data}\r\n            // prepare={!!query.selectLevel}\r\n            query={query}\r\n            onDataChange={(data) => {}}\r\n            ref={tableRef}\r\n            api={getTeacherList}\r\n          ></Table>\r\n        </Scrollbars>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: { roleMsg, levelHash, contentHW },\r\n  } = state;\r\n  return { roleMsg, levelHash, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(\r\n  withRouter(memo(forwardRef(PersonalList)))\r\n);\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { getDataStorage } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\n//   import { Reducer, Context, initState } from \"./reducer\";\r\nfunction PersonalDetail(props, ref) {\r\n  let { id, BasicWebRootUrl,roleMsg:{\r\n    identityCode,\r\n  } ,contentHW:{\r\n    width\r\n  }} = props;\r\n\r\n  return (\r\n    <div className=\"PersonalDetail\">\r\n      <iframe\r\n      title={'教师画像详情'}\r\n      style={{width:width}}\r\n      className='PersonalDetail-frame'\r\n        src={\r\n          BasicWebRootUrl +\r\n          \"/html/userPersona/index.html?headerType=develop&userType=1&userID=\" +\r\n          id+'&lg_tk='+getDataStorage('token')+'&lg_ic='+identityCode\r\n        }\r\n      ></iframe>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: {\r\n      roleMsg,\r\n      basePlatFormMsg: { BasicWebRootUrl },contentHW\r\n    },\r\n  } = state;\r\n  return { roleMsg, BasicWebRootUrl,contentHW };\r\n};\r\nexport default connect(mapStateToProps)(\r\n  withRouter(memo(forwardRef(PersonalDetail)))\r\n);\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { handleRoute } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport PersonalList from \"./personalList\";\r\nimport PersonalDetail from \"./personalDetail\";\r\n//   import { Reducer, Context, initState } from \"./reducer\";\r\nfunction TeacherPersonal(props, ref) {\r\n  let {\r\n    location,\r\n    activeTab,\r\n    removeTab,\r\n    tabid,contentHW:{\r\n      height\r\n    },\r\n    param, //param控制显示的模块\r\n  } = props;\r\n  const [Component, setComponent] = useState(\"\");\r\n  const [ID, setID] = useState(\"\");\r\n  // const [state, setDispatch] = useReducer(Reducer, initState);\r\n  // let { component } = state;\r\n\r\n  useEffect(() => {\r\n    setComponent(param);\r\n  }, [param]);\r\n  // console.log(param,Component)\r\n  useEffect(() => {\r\n    if (location.pathname) {\r\n      let Path = handleRoute(location.pathname);\r\n      Path[0] === \"personalDetail\" && Path[1] && setID(Path[1]);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div className=\"TeacherPersonal\" style={{ height: height }}>\r\n      {Component === \"list\" ? <PersonalList></PersonalList> : <></>}\r\n      {Component === \"detail\" ? <PersonalDetail id={ID}></PersonalDetail> : <></>}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg,contentHW },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg ,contentHW};\r\n};\r\nexport default connect(mapStateToProps)(\r\n  withRouter(memo(forwardRef(TeacherPersonal)))\r\n);\r\n","/*\r\n * _______________#########_______________________\r\n * ______________############_____________________\r\n * ______________#############____________________\r\n * _____________##__###########___________________\r\n * ____________###__######_#####__________________\r\n * ____________###_#######___####_________________\r\n * ___________###__##########_####________________\r\n * __________####__###########_####_______________\r\n * ________#####___###########__#####_____________\r\n * _______######___###_########___#####___________\r\n * _______#####___###___########___######_________\r\n * ______######___###__###########___######_______\r\n * _____######___####_##############__######______\r\n * ____#######__#####################_#######_____\r\n * ____#######__##############################____\r\n * ___#######__######_#################_#######___\r\n * ___#######__######_######_#########___######___\r\n * ___#######____##__######___######_____######___\r\n * ___#######________######____#####_____#####____\r\n * ____######________#####_____#####_____####_____\r\n * _____#####________####______#####_____###______\r\n * ______#####______;###________###______#________\r\n * ________##_______####________####______________\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2021-01-08 09:02:54\r\n * @LastEditTime: 2021-01-08 09:02:55\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\component\\search\\hooks.js\r\n */\r\n\r\nimport {\r\n  useLayoutEffect,\r\n  useEffect,\r\n  useState,\r\n  useCallback,\r\n  useRef,\r\n  useMemo,\r\n} from \"react\";\r\nimport { changeToArray } from \"@/util/public\";\r\nexport function useSearchRequest(api, payload) {\r\n  const [result, setResult] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  useEffect(() => {\r\n    //   没住嗯备好\r\n    if (!payload) {\r\n      return;\r\n    }\r\n    let proList = [];\r\n    let Res = {};\r\n    // 转换为数组\r\n   let Api = changeToArray(api);\r\n\r\n    proList = Api.map(async (child) => {\r\n        setLoading(true)\r\n      if (typeof child === \"function\") {\r\n        let res = await child(payload);\r\n        if (res.StatusCode === 200) {\r\n          // proList.push(res.data);\r\n          return res.data;\r\n        }\r\n      }\r\n    });\r\n\r\n    Promise.all(proList).then((res) => {\r\n      res.forEach((child) => {\r\n        if (child) Res = { ...Res, ...child };\r\n      });\r\n      setResult(Res);\r\n      setLoading(false)\r\n    });\r\n  }, [api, payload]);\r\n\r\n  return [result,loading];\r\n}\r\n","/*\r\n *\r\n * 　　┏┓　　　┏┓+ +\r\n * 　┏┛┻━━━┛┻┓ + +\r\n * 　┃　　　　　　　┃\r\n * 　┃　　　━　　　┃ ++ + + +\r\n *  ████━████ ┃+\r\n * 　┃　　　　　　　┃ +\r\n * 　┃　　　┻　　　┃\r\n * 　┃　　　　　　　┃ + +\r\n * 　┗━┓　　　┏━┛\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ + + + +\r\n * 　　　┃　　　┃\r\n * 　　　┃　　　┃ +  神兽保佑\r\n * 　　　┃　　　┃    代码无bug\r\n * 　　　┃　　　┃　　+\r\n * 　　　┃　 　　┗━━━┓ + +\r\n * 　　　┃ 　　　　　　　┣┓\r\n * 　　　┃ 　　　　　　　┏┛\r\n * 　　　┗┓┓┏━┳┓┏┛ + + + +\r\n * 　　　　┃┫┫　┃┫┫\r\n * 　　　　┗┻┛　┗┻┛+ + + +\r\n *\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2021-01-07 20:05:14\r\n * @LastEditTime: 2021-01-07 20:05:15\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\component\\search\\index.js\r\n */\r\n\r\nimport React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  useLayoutEffect,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Tooltip } from \"antd\";\r\nimport { Search, Loading } from \"../common\";\r\nimport { useSearchRequest } from \"./hooks\";\r\n//   import { Search, Empty } from \"../common\";\r\nimport { changeToArray } from \"@/util/public\";\r\n\r\nfunction LGSearch(props, ref) {\r\n  // api可能为数组多个请求\r\n  let {\r\n    className,\r\n    width,\r\n    searchResult,\r\n    api,\r\n    overlayStyle,\r\n    overlayClassName,\r\n  } = props;\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const [result, loading] = useSearchRequest(api, query);\r\n  const [SearchValue, setSearchValue] = useState(\"\");\r\n  const [myResult, setMyResult] = useState(null);\r\n  const searchRef = useRef(null);\r\n  // 设置显示的boolean\r\n  const [visible, setVisible] = useState(false);\r\n  // useEffect(()=>{console.log('关在',query,api)},[api])\r\n  useEffect(() => {\r\n    setMyResult(result);\r\n  }, [result]);\r\n  useLayoutEffect(() => {\r\n    let dom = searchRef.current;\r\n    // 点击iframe\r\n    // 对点击不同节点来控制显示隐藏\r\n    const fn = (node) => {\r\n      let isOut = false;\r\n      if (!dom.contains(node.target)) {\r\n        //判断是否包含点击的节点\r\n        isOut = true;\r\n      } else {\r\n        isOut = false;\r\n      }\r\n\r\n      //点击的位置不在搜索框和搜索内容显示区\r\n      setVisible(!isOut);\r\n    };\r\n    document.addEventListener(\"click\", fn);\r\n    return () => {\r\n      document.removeEventListener(\"click\", fn);\r\n    };\r\n  }, []);\r\n  return (\r\n    <Tooltip\r\n      overlayClassName={`lg-search-box ${\r\n        overlayClassName ? overlayClassName : \"\"\r\n      }`}\r\n      getPopupContainer={(e) => e}\r\n      overlayStyle={overlayStyle ? overlayStyle : {}}\r\n      // placement={\"bottomRight\"}\r\n      color={\"#fff\"}\r\n      align={{\r\n        points: [\"tr\", \"br\"], // align top left point of sourceNode with top right point of targetNode\r\n        offset: [0, -5], // the offset sourceNode by 10px in x and 20px in y,\r\n        // targetOffset: [\"30%\", \"40%\"], // the offset targetNode by 30% of targetNode width in x and 40% of targetNode height in y,\r\n        overflow: { adjustX: true, adjustY: true }, // auto adjust position when sourceNode is overflowed\r\n      }}\r\n      // trigger={[\"click\"]}\r\n      visible={visible}\r\n      title={\r\n        // <div style={{ minHeight: \"300px\", width: \"402px\" }}></div>\r\n        <Loading opacity={false} spinning={loading} tip={\"请稍候...\"}>\r\n          {typeof searchResult === \"function\"\r\n            ? searchResult(myResult, query.keyword)\r\n            : searchResult}\r\n        </Loading>\r\n      }\r\n    >\r\n      <div\r\n        id=\"test\"\r\n        ref={searchRef}\r\n        className={`lg-search ${className ? className : \"\"}`}\r\n      >\r\n        {/* <div style={{ width: \"100px\", height: \"10px\" }}></div> */}\r\n        <Search\r\n          placeHolder={\"输入关键词搜索...\"}\r\n          className=\"lg-search-in\"\r\n          width={width ? width : 180}\r\n          Value={SearchValue}\r\n          onChange={(e) => {\r\n            setSearchValue(e.target.value);\r\n          }}\r\n          onClickSearch={(e) => {\r\n            setQuery({ keyword: e.value });\r\n          }}\r\n          onCancelSearch={(e) => {\r\n            setSearchValue(\"\");\r\n            setMyResult({});\r\n          }}\r\n        ></Search>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n}\r\nexport default memo(forwardRef(LGSearch));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2021-01-08 09:27:21\r\n * @LastEditTime: 2021-01-08 09:27:22\r\n * @Description: 全局搜索\r\n * @FilePath: \\teacher-development\\src\\api\\search.js\r\n */\r\n\r\nimport fetch from \"../util/fetch\";\r\nimport ipConfig from \"../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: http://192.168.129.1:8033/showdoc/web/#/21?page_id=2170 搜索\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getSearch(payload = {}) {\r\n  // *TStatus:状态：0草稿；1正式发布\r\n  let { keyword, schoolID, collegeID, selectLevel } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Global/Search?SchoolID=${schoolID ? schoolID : \"\"}&Keyword=${\r\n      keyword ? keyword : \"\"\r\n    }&CollegeID=${collegeID ? collegeID : \"\"}&SelectLevel=${\r\n      selectLevel ? selectLevel : \"\"\r\n    }`;\r\n  // \"?\" +\r\n  // (pageIndex ? \"pageIndex=\" + pageIndex : \"\") +\r\n  // (keyword ? \"&keyword=\" + keyword : \"\") +\r\n  // (pageSize ? \"&pageSize=\" + pageSize : \"\");\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: json.Data ? json.Data : {},\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n","/*\r\n *                   江城子 . 程序员之歌\r\n *\r\n *               十年生死两茫茫，写程序，到天亮。\r\n *                   千行代码，Bug何处藏。\r\n *               纵使上线又怎样，朝令改，夕断肠。\r\n *\r\n *               领导每天新想法，天天改，日日忙。\r\n *                   相顾无言，惟有泪千行。\r\n *               每晚灯火阑珊处，夜难寐，加班狂。\r\n *\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2021-01-08 14:48:19\r\n * @LastEditTime: 2021-01-08 14:48:20\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\pages\\searchAll\\bar.js\r\n */\r\n\r\nimport React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport {\r\n  useHistory,\r\n  // , Route, Switch, NavLink\r\n} from \"react-router-dom\";\r\nimport $ from \"jquery\";\r\nfunction Bar(props, ref) {\r\n  const { data } = props;\r\n  const [select, setSelect] = useState(true);\r\n  const [height, setHeight] = useState(0);\r\n  const contentRef = useRef(null);\r\n  const history = useHistory();\r\n  useLayoutEffect(() => {\r\n    let content = $(contentRef.current);\r\n    setHeight(content.outerHeight());\r\n  }, [data]);\r\n  return (\r\n    <div\r\n      style={{ height: select ? height + 28 : 28 }}\r\n      className={`search-bar ${select ? \"search-bar-active\" : \"\"}`}\r\n    >\r\n      <p className=\"bar-main\">\r\n        <span title={data.title}>{data.title}</span>\r\n        <i\r\n          onClick={() => {\r\n            setSelect(!select);\r\n          }}\r\n          className={`bar-handle ${select ? \"bar-handle-open\" : \"\"}`}\r\n        ></i>\r\n      </p>\r\n\r\n      <div ref={contentRef} className={`bar-content`}>\r\n        {data.List instanceof Array && data.List.length > 0\r\n          ? data.List.map((child, index) => {\r\n              return (\r\n                <div\r\n                  className=\"bar-content-title\"\r\n                  key={index}\r\n                  onClick={() => {\r\n                    if (child.key === \"TeacherList\") {\r\n                      //教师的打开个人画像\r\n                      window.open(\r\n                        window.location.search +\r\n                          \"#/page/personalDetail/\" +\r\n                          child.id\r\n                      );\r\n                    } else {\r\n                      history.push(\"/\" + child.tabid + \"/\" + child.id);\r\n                    }\r\n                  }}\r\n                  title={child.defaultName}\r\n                >\r\n                  {child.name}\r\n                </div>\r\n              );\r\n            })\r\n          : \"\"}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(forwardRef(Bar));\r\n","/*\r\n *                        _oo0oo_\r\n *                       o8888888o\r\n *                       88\" . \"88\r\n *                       (| -_- |)\r\n *                       0\\  =  /0\r\n *                     ___/`---'\\___\r\n *                   .' \\\\|     |// '.\r\n *                  / \\\\|||  :  |||// \\\r\n *                 / _||||| -:- |||||- \\\r\n *                |   | \\\\\\  - /// |   |\r\n *                | \\_|  ''\\---/''  |_/ |\r\n *                \\  .-\\__  '-'  ___/-. /\r\n *              ___'. .'  /--.--\\  `. .'___\r\n *           .\"\" '<  `.___\\_<|>_/___.' >' \"\".\r\n *          | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |\r\n *          \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /\r\n *      =====`-.____`.___ \\_____/___.-`___.-'=====\r\n *                        `=---='\r\n *\r\n *\r\n *      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n *\r\n *            佛祖保佑       永不宕机     永无BUG\r\n *\r\n *        佛曰:\r\n *                写字楼里写字间，写字间里程序员；\r\n *                程序人员写程序，又拿程序换酒钱。\r\n *                酒醒只在网上坐，酒醉还来网下眠；\r\n *                酒醉酒醒日复日，网上网下年复年。\r\n *                但愿老死电脑间，不愿鞠躬老板前；\r\n *                奔驰宝马贵者趣，公交自行程序员。\r\n *                别人笑我忒疯癫，我笑自己命太贱；\r\n *                不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-08 13:54:00\r\n * @LastEditTime: 2020-12-09 14:34:41\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\component\\temple\\index.js\r\n */\r\n\r\nimport React, {\r\n  //   useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  //   useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { Empty } from \"@/component/common\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n//   import { Search, Empty } from \"../common\";\r\nimport Bar from \"./bar\";\r\nfunction SearchAll(props, ref) {\r\n  let { className, data, keyword, ...reset } = props;\r\n  const [List, setList] = useState([]);\r\n  // 是否为空\r\n  const [empty, setEmpty] = useState(true);\r\n  // RecruitmentList: [{RID: \"1\", Title: \"靓仔1号\"}, {RID: \"e5479537-3e07-4ff3-bc11-82bf2cea19be\", Title: \"123\"}]\r\n  // SchoolList: []\r\n  // TeacherList: [{UserID: \"12123\", UserName: \"12129\", SchoolID: \"S27-511-AF57\", SchoolName: \"一体化教育云\"},…]\r\n  // TrainList: [{TID: \"234\", Title: \"10培训计划\"}]\r\n  const keyMap = {\r\n    RecruitmentList: {\r\n      key: \"RecruitmentList\",\r\n      title: \"招聘\",\r\n      tabid: \"recruitDetail\",\r\n      idKey: \"RID\",\r\n      nameKey: \"Title\",\r\n    },\r\n    SchoolList: {\r\n      key: \"SchoolList\",\r\n      title: \"学校\",\r\n      tabid: \"schoolDetail\",\r\n      idKey: \"SchoolID\",\r\n      nameKey: \"SchoolName\",\r\n    },\r\n    CollegeList: {\r\n      key: \"CollegeList\",\r\n      title: \"学院\",\r\n      tabid: \"schoolDetail\",\r\n      idKey: \"CollegeID\",\r\n      nameKey: \"CollegeName\",\r\n    },\r\n    TeacherList: {\r\n      key: \"TeacherList\",\r\n      title: \"教师\",\r\n      tabid: \"personalDetail\",\r\n      idKey: \"UserID\",\r\n      nameKey: \"UserName\",\r\n    },\r\n    TrainList: {\r\n      key: \"TrainList\",\r\n      title: \"培训\",\r\n      tabid: \"trainDetail\",\r\n      idKey: \"TID\",\r\n      nameKey: \"Title\",\r\n    },\r\n  };\r\n  useEffect(() => {\r\n    let List = [];\r\n    let isEmpty = true;\r\n    if (data && data instanceof Object) {\r\n      for (let key in data) {\r\n        if (keyMap[key]) {\r\n          let dataList = [];\r\n          data[key] instanceof Array &&\r\n            data[key].forEach((child, index) => {\r\n              let name = [];\r\n              let nameArray =\r\n                typeof child[keyMap[key].nameKey] === \"string\"\r\n                  ? child[keyMap[key].nameKey].split(keyword ? keyword : \"\")\r\n                  : [];\r\n              // 对name进行keyword处理\r\n              nameArray.forEach((c, index) => {\r\n                name.push(c);\r\n                    if (\r\n                      nameArray.length - 1 !== index &&\r\n                      nameArray.length - 1 !== 0\r\n                    ) {\r\n                      name.push(\r\n                        <>\r\n                          <span className=\"search-keyword\">{keyword}</span>\r\n                          {/* {c} */}\r\n                        </>\r\n                      );\r\n                    }\r\n                   \r\n                    // 教师的需要在后面家学校，教育局\r\n                    // if (\r\n                    //   nameArray.length - 1 === index &&\r\n                    //   key === \"TeacherList\"\r\n                    // ) {\r\n                    // }\r\n                  });\r\n              dataList.push({\r\n                ...child,\r\n                key,\r\n                id: child[keyMap[key].idKey],\r\n                name: name,\r\n                tabid: keyMap[key].tabid,\r\n                defaultName: child[keyMap[key].nameKey],\r\n              });\r\n            });\r\n          List.push({ ...keyMap[key], List: dataList });\r\n        }\r\n        if (\r\n          !data[key] ||\r\n          (data[key] instanceof Array && data[key].length !== 0)\r\n        ) {\r\n          isEmpty = false;\r\n        }\r\n      }\r\n      setEmpty(isEmpty);\r\n      setList(List);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [data, keyword]);\r\n  return (\r\n    <div\r\n      className=\"frame-search-all-content\"\r\n      style={{ height: \"300px\", width: \"402px\" }}\r\n    >\r\n      <Scrollbars>\r\n        {!empty ? (\r\n          List.map((child, index) => {\r\n            return child.List.length > 0 ? (\r\n              <Bar key={index} data={child}></Bar>\r\n            ) : (\r\n              <React.Fragment key={index}></React.Fragment>\r\n            );\r\n          })\r\n        ) : (\r\n          <Empty\r\n            key={\"index\"}\r\n            className={\"frame-search-empty\"}\r\n            type={\"4\"}\r\n            title={\"暂无搜索数据\"}\r\n          ></Empty>\r\n        )}\r\n      </Scrollbars>\r\n    </div>\r\n  );\r\n}\r\nexport default memo(forwardRef(SearchAll));\r\n","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport $ from \"jquery\";\r\nimport { Loading, Empty } from \"@/component/common\";\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction Card(props, ref) {\r\n  let {\r\n    className,\r\n    width,\r\n    height,\r\n    title,\r\n    cardid,\r\n    btn,\r\n    select,\r\n    loading, //控制loading\r\n    lock, //控制锁显示\r\n    data, //主要控制空数据显示问题\r\n    component: Component,\r\n    userIdentity,\r\n    currentTerm,\r\n    currentClass,\r\n    componentProps, //组件的props\r\n  } = props;\r\n  //各个模块跳转地址\r\n  const addrList = [\r\n    {\r\n      key: 'archives',\r\n      addr: '/student-growth/#stuStatusMsg'\r\n    },\r\n    {\r\n      key: 'classStatus',\r\n      addr: '/student-growth/#stuStatusMsg'\r\n    },\r\n    {\r\n      key: 'schoolStatus',\r\n      addr: '/student-growth/#stuStatusMsg'\r\n    },\r\n    {\r\n      key: 'accout',\r\n      addr: '/student-growth/#stuConditionMsg'\r\n    },\r\n    {\r\n      key: 'gradeRank',\r\n      addr: '/student-growth/#stuConditionMsg'\r\n    },\r\n    {\r\n      key: 'teach',\r\n      addr: '/student-growth/#healthMsg'\r\n    },\r\n    {\r\n      key: 'stuHealth',\r\n      addr: '/student-growth/#healthMsg'\r\n    },\r\n    {\r\n      key: 'information',\r\n      addr: '/student-growth/#awardAndPunish'\r\n    },\r\n    {\r\n      key: 'work',\r\n      addr: '/student-growth/#attendanceMsg'\r\n    },\r\n    {\r\n      key: 'history',\r\n      addr: '/student-growth/#schoolLiveMsg'\r\n    },\r\n  ]\r\n  let url = \"\";\r\n  addrList.forEach((item)=>{\r\n    if(item.key == cardid){\r\n      url = item.addr;\r\n    }\r\n  })\r\n  // console.log(url, cardid);\r\n  // return;\r\n  const goDetail = (e) => {\r\n    if(e.target.nodeName == 'BUTTON'){\r\n      return;\r\n    }\r\n    if(!url){\r\n      return;\r\n    }\r\n    window.open(url, \"detail\");\r\n  }\r\n  return (\r\n    <div\r\n      className={`personal-card ${className ? className : \"\"} ${\r\n        select === cardid ? \"card-select\" : \"\"\r\n      }`}\r\n      style={{\r\n        width: width ? width : \"100%\",\r\n        cursor: (url? \"pointer\": \"default\")\r\n      }}\r\n      onClick={goDetail}\r\n    >\r\n      <span className={`pc-title pc-title-bg ${\"pc-title-\" + cardid}`}>\r\n        {/* {title} */}\r\n        <i></i>\r\n      </span>\r\n      <Loading\r\n        spinning={loading ? true : false}\r\n        opacity={true}\r\n        //   tip={\"加载中...\"}\r\n      >\r\n        <div\r\n          className=\"pc-content\"\r\n          style={{\r\n            height: height ? height : \"100%\",\r\n          }}\r\n        >\r\n          {!loading ? (\r\n            data ? (\r\n              lock ? (\r\n                <Empty\r\n                  className=\"pc-lock\"\r\n                  title={\"暂不开放该模块\"}\r\n                  type={\"3\"}\r\n                ></Empty>\r\n              ) : Component ? (<>\r\n                {btn}\r\n                <Component \r\n                data={data} \r\n                userIdentity={userIdentity} \r\n                currentTerm={currentTerm}\r\n                currentClass={currentClass}\r\n                {...componentProps}></Component>\r\n                </>) : (\r\n                \"\"\r\n              )\r\n            ) : (\r\n                <Empty\r\n                  title={\"暂无数据\"}\r\n                  className=\"pc-empty\"\r\n                  type={\"3\"}\r\n                ></Empty>\r\n              \r\n            )\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </Loading>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(forwardRef(Card));\r\n","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport \"./index.scss\";\r\nimport { Carousel } from \"antd\";\r\nimport { Loading, Empty } from \"@/component/common\";\r\nimport moment from \"moment\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nimport { setRole } from \"../../util/public\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction Archives(props, ref) {\r\n  let {\r\n    className,\r\n    userIdentity,\r\n    data,\r\n    currentTerm,\r\n    currentClass,\r\n    userInfo: {UserID, SchoolID}\r\n  } = props;\r\n  const [myInfo, setMyInfo] = useState({});\r\n  useLayoutEffect(()=>{\r\n    //获取学籍信息\r\n    ///api/status/student\r\n    if(!UserID){\r\n      return;\r\n    }\r\n    let url = BasicProxy + \"/api/status/student?studentId=\" + UserID;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>{\r\n        return res.json();\r\n    })\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          setMyInfo(result.data);\r\n        }\r\n    })\r\n  }, [UserID]);\r\n  // let {\r\n  //   UserName,\r\n  //   UserID,\r\n  //   birthday,\r\n  //   nation,\r\n  //   Gender,\r\n  //   nativeSpace,\r\n  //   politicStatus,\r\n  //   IDCardNo,\r\n  //   TitleName,\r\n  //   SubjectNames,\r\n  //   degree,\r\n  //   educationBackground,\r\n  //   Telephone,\r\n  //   Email,\r\n  //   HomeAddress,\r\n  //   PhotoPath,\r\n  //   EducationBackgroundDetailData,\r\n  // } = data;\r\n  // const eduStageList = { 1: \"博士研究生\", 2: \"硕士研究生\", 3: \"学士\", 4: \"无\" };\r\n  return (\r\n    <div \r\n    className={`card-content card-archives ${className ? className : \"\"}`}\r\n    >\r\n      <div className=\"cc-div-box-1\">\r\n        <div className=\"cc-div-box-2 \">\r\n          <p className=\"cc-p-1\" title={myInfo.studentName? myInfo.studentName: \"--\"}>\r\n            {myInfo.studentName? myInfo.studentName: \"--\"}\r\n            <span className=\"cc-span-1\" title={myInfo.studentId ? myInfo.studentId : \"--\"}>\r\n              ({myInfo.studentId ? myInfo.studentId : \"--\"})\r\n            </span>\r\n          </p>\r\n          <div className=\"cc-div-box-1\">\r\n            <p className=\"cc-p-2\">\r\n              出生年月:\r\n              <span className=\"cc-span-2\" title={myInfo.dateOfBirth ? myInfo.dateOfBirth : \"--\"}>\r\n                {myInfo.dateOfBirth ? myInfo.dateOfBirth : \"--\"}\r\n              </span>\r\n            </p>\r\n            <p className=\"cc-p-2\">\r\n              民族:\r\n              <span className=\"cc-span-2\" title={myInfo.nation ? myInfo.nation : \"--\"}>\r\n                {myInfo.nation ? myInfo.nation : \"--\"}\r\n              </span>\r\n            </p>\r\n            <p className=\"cc-p-2\">\r\n              性别:\r\n              <span className=\"cc-span-2\" title={myInfo.gender ? myInfo.gender : \"--\"}>\r\n                {myInfo.gender ? myInfo.gender : \"--\"}\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div className=\"cc-div-box-1\">\r\n            <p className=\"cc-p-2\">\r\n              籍贯:\r\n              <span className=\"cc-span-2\" title={myInfo.nativePlace ? myInfo.nativePlace : \"--\"}>\r\n                {myInfo.nativePlace ? myInfo.nativePlace : \"--\"}\r\n              </span>\r\n            </p>\r\n            <p className=\"cc-p-2\">\r\n              当前班级:\r\n              <span className=\"cc-span-2\" title={myInfo.className ? myInfo.className : \"--\"}>\r\n                {myInfo.className ? myInfo.className : \"--\"}\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div className=\"cc-div-box-1\">\r\n            <p className=\"cc-p-2\">\r\n              身份证号:\r\n              <span className=\"cc-span-2 IDCardNo\" title={myInfo.identityNum ? myInfo.identityNum : \"--\"}>\r\n                {myInfo.identityNum ? myInfo.identityNum : \"--\"}\r\n              </span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"ca-photo\"\r\n          style={{\r\n            background: `url(${myInfo.photoPath}) no-repeat center top/100%  `,\r\n          }}\r\n        ></div>\r\n      </div>\r\n      <div className=\"cc-div-box-1\">\r\n        <p className=\"cc-p-2\">\r\n          家庭住址:\r\n          <span className=\"cc-span-2 \" title={myInfo.homeAddress ? myInfo.homeAddress : \"--\"}>\r\n            {myInfo.homeAddress ? myInfo.homeAddress : \"--\"}\r\n          </span>\r\n        </p>\r\n      </div>\r\n      {/* <div className=\"cc-div-box-1\">\r\n        <p className=\"cc-p-2 Telephone\">\r\n          走读/住宿:\r\n          <span className=\"cc-span-2\" title={Telephone}>\r\n            {Telephone ? Telephone : \"--\"}\r\n          </span>\r\n        </p>\r\n      </div> */}\r\n      <div className=\"cc-div-box-1\">\r\n        <p className=\"cc-p-2 Telephone\">\r\n          是否独生子女:\r\n          <span className=\"cc-span-2\" title={myInfo.isOnlychild ? myInfo.isOnlychild : \"--\"}>\r\n            {myInfo.isOnlychild ? myInfo.isOnlychild : \"--\"}\r\n          </span>\r\n        </p>\r\n        <p className=\"cc-p-2 Telephone\">\r\n          是否受过学前教育:\r\n          <span className=\"cc-span-2\" title={myInfo.isAcceptpreschool ? myInfo.isAcceptpreschool : \"--\"}>\r\n            {myInfo.isAcceptpreschool ? myInfo.isAcceptpreschool : \"--\"}\r\n          </span>\r\n        </p>\r\n      </div>\r\n      <p className=\"cc-p-2\">\r\n        是否留守儿童:\r\n        <span className=\"cc-span-2\" title={myInfo.isLeftbehindchild ? myInfo.isLeftbehindchild : \"--\"}>\r\n          {myInfo.isLeftbehindchild ? myInfo.isLeftbehindchild : \"--\"}\r\n        </span>\r\n      </p>\r\n      {/* <div className=\"cc-hr\"></div>\r\n      <div className=\"ca-title\"></div>\r\n      <div className=\"ca-education-bg\">\r\n        {EducationBackgroundDetailData instanceof Array &&\r\n        EducationBackgroundDetailData.length > 0 ? (\r\n          <Carousel dotPosition={\"bottom\"} dots={{ className: \"edu-card-dot\" }}>\r\n            {EducationBackgroundDetailData.map((child, index) => {\r\n              return (\r\n                <div key={index} className=\"edu-card\">\r\n                  {child.map((detail, index2) => {\r\n                    let {\r\n                      startTime,\r\n                      endTime,\r\n                      currentSchool,\r\n                      extend1,\r\n                      extend2,\r\n                      eduStage,\r\n                    } = detail;\r\n                    return (\r\n                      <p key={index2} className=\"cc-p-2 edu-details\">\r\n                        {moment(startTime).format(\"YYYY.MM\") +\r\n                          \"~\" +\r\n                          moment(endTime).format(\"YYYY.MM\")}\r\n                        <span className=\"cc-span-2\">\r\n                          {currentSchool ? currentSchool : \"\"}\r\n                          {eduStage && eduStageList[eduStage]\r\n                            ? \"，\" + eduStageList[eduStage]\r\n                            : \"\"}\r\n                        </span>\r\n                      </p>\r\n                    );\r\n                  })}\r\n                </div>\r\n              );\r\n            })}\r\n          </Carousel>\r\n        ) : (\r\n          <p className=\"cc-empty\">暂无教育背景</p>\r\n        )} */}\r\n      {/* </div> */}\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let { commonData } = state;\r\n  return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(Archives)));\r\n","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport \"./index.scss\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction GradeRank(props, ref) {\r\n  let {\r\n    className,\r\n    userIdentity,\r\n    data,\r\n    currentTerm,\r\n    currentClass,\r\n    userInfo: {UserID, SchoolID}\r\n  } = props;\r\n  const [rankInfo, setRankInfo] = useState({});\r\n  const [subjectList, setSubjectList] = useState([]);\r\n  useLayoutEffect(()=>{\r\n    //获取排名信息\r\n    ///api/status/student\r\n    if(!UserID || !currentTerm.term){\r\n      return;\r\n    }\r\n\r\n    let url = BasicProxy + \"/api/learning2/exam/scoreRank?type=2\" +\r\n    \"&studentId=&classId=\" + currentClass.classId +\r\n    \"&gradeId=\" + currentClass.gradeId +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&termId=\" + currentTerm.term +\r\n    \"&examType=2\" +\r\n    \"&start=\" + (currentTerm.termStartDate? \r\n    new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n    \"&end=\" + (currentTerm.termEndDate?\r\n    new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>{\r\n        return res.json();\r\n    })\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          setRankInfo(result.data);\r\n        }\r\n    })\r\n    //\r\n    url = BasicProxy + \"/api/learning2/homework/avgScore?type=2\" +\r\n    \"&studentId=&classId=\" + currentClass.classId +\r\n    \"&gradeId=\" + currentClass.gradeId +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&termId=\" + currentTerm.term +\r\n    \"&examType=2\" +\r\n    \"&start=\" + (currentTerm.termStartDate? \r\n    new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n    \"&end=\" + (currentTerm.termEndDate?\r\n    new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>{\r\n        return res.json();\r\n    })\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          setSubjectList(result.data);\r\n        }\r\n    })\r\n  }, [currentClass, UserID, currentTerm]);\r\n  return (\r\n    <div className={`card-content card-grade ${className ? className : \"\"}`}>\r\n        <div className=\"card-grade-left\">\r\n          <p className=\"card-grade-title\">最近一次考试情况:</p>\r\n          <div className=\"circle-container\">\r\n            <div className=\"circle green\">\r\n              {rankInfo.classRank? rankInfo.classRank: \"--\"}\r\n            </div>\r\n            <p>班级排名</p>\r\n          </div>\r\n          <div className=\"circle-container\">\r\n            <div className=\"circle blue\"> \r\n              {rankInfo.gradeRank? rankInfo.gradeRank: \"--\"}\r\n            </div>\r\n            <p>年级排名</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"slice-line\"></div>\r\n        <div className=\"card-grade-right\">\r\n          <p className=\"card-grade-title\">成绩总评:</p>\r\n          <ul className=\"subject-grade-list\">\r\n            {\r\n              subjectList.map((item, index)=>{\r\n                return (\r\n                  <li key={index}>{item.subjectName}: <span>{item.score}</span></li>\r\n                )\r\n              })\r\n            }\r\n          </ul>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let { commonData } = state;\r\n  return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(GradeRank)));\r\n","import React, {\r\n    useState,\r\n    useEffect,\r\n    memo,\r\n    forwardRef\r\n} from 'react';\r\nimport \"./index.scss\";\r\nfunction Progress(props){\r\n    let {\r\n        step,\r\n        max,\r\n        percent,\r\n        className,\r\n        width,\r\n        bgColor,\r\n        barWidth\r\n    } = props;\r\n    let progressBarList = [];\r\n    step = step? step: 25; //小方块总个数\r\n    max = max? max: 100;  //最大值\r\n    percent = percent? percent: 0;  //当前值\r\n    let activeBarCount = parseInt(step * (percent / max)); //高亮的方块个数\r\n    for(let i = 0; i < step; i++){\r\n      let active = false;\r\n      if(i < activeBarCount){\r\n        active = true;\r\n      }\r\n      progressBarList.push(\r\n        <div\r\n        className={\"progress-bar \" + (active? \"active\": \"\")}\r\n        style={{\r\n          width: (barWidth? barWidth: `${(100 / step)}%`),\r\n        }}\r\n        ></div>\r\n      )\r\n    }\r\n    return (\r\n      <div \r\n      className={\"my-progress \" +(className? className: \"\")}\r\n      id=\"my-progress\" style={{\r\n      width: (width? width: \"\"),\r\n      backgroundColor: (bgColor? bgColor: \"\"),\r\n      }}>\r\n        <div \r\n        className=\"my-progress-bg\" \r\n        style={{\r\n        width: (\r\n            barWidth? \r\n            activeBarCount*barWidth: \r\n            activeBarCount*(100 / step) + \"%\"\r\n        )}}></div>\r\n        {progressBarList}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Progress;","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Progress from \"@/component/progress\";\r\nimport \"./index.scss\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction StuHealth(props, ref) {\r\n  let {\r\n    className,\r\n    userIdentity,\r\n    data,\r\n    currentTerm,\r\n    currentClass,\r\n    userInfo: {UserID, SchoolID}\r\n  } = props;\r\n  const [gradeList, setGradeList] = useState([]);\r\n  const [baseMsg, setBaseMsg] = useState({});\r\n  useLayoutEffect(()=>{\r\n    //获取排名信息\r\n    ///api/status/student\r\n    if(!UserID){\r\n      return;\r\n    }\r\n    let url = BasicProxy + \"/api/healthy/physicalTest/score/list?studentId=\" + (\r\n      userIdentity == \"student\"?\r\n      UserID:\r\n      \"\"\r\n    ) +\r\n    \"&classId=\" + currentClass.classId +\r\n    \"&gradeId=\" + currentClass.gradeId +\r\n    \"&startDate=\" + (currentTerm.termStartDate? \r\n    new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n    \"&endDate=\" + (currentTerm.termEndDate?\r\n    new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>{\r\n        return res.json();\r\n    })\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          setGradeList(result.data);\r\n        }\r\n    })\r\n\r\n    if(userIdentity != \"student\"){\r\n      //获取目前平均身高体重信息\r\n      let url = BasicProxy + \"/api/healthy/overview?classId=\" + currentClass.classId +\r\n      \"&gradeId=\" + currentClass.gradeId +\r\n      \"&studentId=\" + (\r\n      userIdentity == \"student\"?\r\n      UserID:\r\n      \"\") +\r\n      \"&startDate=\" + (currentTerm.termStartDate? \r\n      new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n      \"&endDate=\" + (currentTerm.termEndDate?\r\n      new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && result.data){\r\n            setBaseMsg(result.data);\r\n          }\r\n      })\r\n   }\r\n    \r\n    if(userIdentity == \"student\"){\r\n      //获取本人或班级身高体重信息\r\n      let url = BasicProxy + \"/api/healthy/studentHealthInfo?studentId=\" + UserID;\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n          if(result.status == 200 && result.data){\r\n            setBaseMsg(result.data);\r\n          }\r\n      })\r\n    }\r\n  }, [currentClass, UserID]);\r\n  return (\r\n    <div className={`card-content card-health ${className ? className : \"\"}`}>\r\n      {\r\n        userIdentity == \"student\"?\r\n        <div style={{paddingTop: 10}}>\r\n          <p className=\"info-one\">\r\n            身高:<span>{\r\n            userIdentity == \"student\"?\r\n            baseMsg.height? baseMsg.height: \"--\":\r\n            userIdentity == \"teacher\"?\r\n            baseMsg.classAverageHeight:\r\n            userIdentity == \"manager\"?\r\n            baseMsg.gradeAverageHeight:\r\n            \"--\"\r\n            }</span>\r\n          </p>\r\n          <p className=\"info-one\">\r\n            体重:<span>{\r\n            userIdentity == \"student\"?\r\n            baseMsg.weight? baseMsg.weight: \"--\":\r\n            userIdentity == \"teacher\"?\r\n            baseMsg.classAverageWeight:\r\n            userIdentity == \"manager\"?\r\n            baseMsg.gradeAverageWeight:\r\n            \"--\"\r\n            }</span>\r\n          </p>\r\n          <p className=\"info-one\">\r\n            BMI:<span>{\r\n            baseMsg.bmiIndex? baseMsg.bmiIndex: \"--\"\r\n            }</span>\r\n          </p>\r\n        </div>:\r\n        \"\"\r\n      }\r\n      \r\n      {/* <div>\r\n        <p className=\"info-one\">\r\n          日常运动频率:<span>15岁</span>\r\n        </p>\r\n        <p className=\"info-one\">\r\n          病假率:<span>15岁</span>\r\n        </p>\r\n      </div> */}\r\n      {\r\n        userIdentity == \"student\"?\r\n        <div className=\"slice-line\"></div>:\r\n        \"\"\r\n      }\r\n      \r\n      <div style={{marginBottom: 40}}>\r\n        {/* <p className=\"grade-one\">\r\n          体质分数:<span>78分</span>\r\n        </p>\r\n        <p className=\"grade-one\">\r\n          体质排名:<span>2311/2333</span>\r\n        </p> */}\r\n        {\r\n          gradeList.map((item, index)=>{\r\n            return (\r\n              <div className=\"progress-container\" key={index}>\r\n                <span className=\"grade-name\">{item.testProject.subjectName}</span>\r\n                <Progress\r\n                  className=\"grade-progress\"\r\n                  percent={\r\n                    userIdentity == \"student\"?\r\n                    item.studentAverageScore:\r\n                    userIdentity == \"teacher\"?\r\n                    item.classAverageScore:\r\n                    userIdentity == \"manager\"?\r\n                    item.gradeAverageScore:\r\n                    0\r\n                  } \r\n                  step={25}\r\n                  width={114}\r\n                  max={item.maxScore} />\r\n                <span className=\"grade-num\"><span>{\r\n                userIdentity == \"student\"?\r\n                item.studentAverageScore:\r\n                userIdentity == \"teacher\"?\r\n                item.classAverageScore:\r\n                userIdentity == \"manager\"?\r\n                item.gradeAverageScore:\r\n                0}</span>分</span>\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n        {/* <div className=\"progress-container\">\r\n          \r\n          <span className=\"grade-name\">体重指数</span>\r\n          <Progress\r\n            className=\"grade-progress\"\r\n            percent={45} \r\n            step={25}\r\n            width={114}\r\n            max={100} />\r\n          <span className=\"grade-num\"><span>10</span>分</span>\r\n        </div> */}\r\n      </div>\r\n      {/* <div>\r\n        <p className=\"grade-one\">\r\n          中考体育成绩:<span>78分</span>\r\n        </p>\r\n        <p className=\"grade-one\">\r\n          成绩排名:<span>2311/2333</span>\r\n        </p>\r\n        <div className=\"progress-container\">\r\n          <span className=\"grade-name\">体重指数</span>\r\n          <Progress\r\n            className=\"grade-progress\"\r\n            percent={45} \r\n            step={25}\r\n            width={114}\r\n            max={100} />\r\n          <span className=\"grade-num\"><span>10</span>分</span>\r\n        </div>\r\n        <div className=\"progress-container\">\r\n          <span className=\"grade-name\">体重指数</span>\r\n          <Progress\r\n            className=\"grade-progress\"\r\n            percent={45} \r\n            step={25}\r\n            width={114}\r\n            max={100} />\r\n          <span className=\"grade-num\"><span>10</span>分</span>\r\n        </div>\r\n      </div> */}\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let { commonData } = state;\r\n  return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(StuHealth)));\r\n","import {\r\n  connect\r\n} from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport {Progress} from \"antd\";\r\nimport { Dropdown } from \"@/component/common\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nimport { setRole } from \"../../util/public\";\r\nimport {Empty} from \"../../component/common\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction Work(props, ref) {\r\n  let {\r\n    className,\r\n    userIdentity,\r\n    data,\r\n    currentTerm,\r\n    currentClass,\r\n    userInfo: {UserID, SchoolID}\r\n  } = props;\r\n  const [countInfo, setCountInfo] = useState({});\r\n  const [rateInfo, setRateInfo] = useState({});\r\n  useLayoutEffect(()=>{\r\n    //获取次数数据\r\n    let url = BasicProxy + \"/api/attendance/attendance/statistics?studentId=\" +\r\n    UserID +\r\n    \"&classId=\" + currentClass.classId +\r\n    \"&GradeId=\" + currentClass.gradeId +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&start=\" + (currentTerm.termStartDate? \r\n    new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n    \"&end=\" + (currentTerm.termEndDate?\r\n    new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && result.data){\r\n        setCountInfo(result.data);\r\n      }\r\n    })\r\n    //获取缺勤率\r\n    url = BasicProxy + \"/api/attendance/attendance/times?type=\" + (\r\n      userIdentity == \"manager\"?\r\n      4:\r\n      userIdentity == \"teacher\"?\r\n      2:\r\n      1\r\n    ) +\r\n    \"&studentId=\" + UserID +\r\n    \"&classId=\" + currentClass.classId +\r\n    \"&gradeId=\" + currentClass.gradeId +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&statisticalType=1\" +\r\n    // \"&termId=\" + currentTermInfo.termId +\r\n    \"&start=\" + (currentTerm.termStartDate? \r\n    new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n    \"&end=\" + (currentTerm.termEndDate?\r\n    new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n            setRateInfo(result.data);\r\n        }\r\n    })\r\n  }, [currentClass, currentTerm, UserID]);\r\n  return (\r\n    <div className={`card-content card-attendance ${className ? className : \"\"}`}>\r\n      {\r\n        !rateInfo.avgAbsentRate && typeof countInfo.vacateTimes != \"number\"? \r\n        <Empty\r\n          title={\"暂无数据\"}\r\n          className=\"pc-empty\"\r\n          type={\"3\"}\r\n        ></Empty>:\r\n        <div>\r\n          <div className=\"card-attendance-left\">\r\n        <div className=\"out-circle\">\r\n          <Progress\r\n            type=\"circle\"\r\n            strokeWidth=\"8\"\r\n            strokeColor={{\r\n              '0%': '#0A8EF6',\r\n              '50%': '#00FFF6',\r\n              '100%': '#0A8EF6',\r\n            }}\r\n            trailColor=\"#08474F\"\r\n            percent={(1 - (Number(rateInfo.avgAbsentRate).toFixed(2)))*100}\r\n            width={97}\r\n            format={(percent)=>{return percent}}\r\n            className=\"progress\"\r\n          />\r\n          <p>出勤率</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"slice-line\"></div>\r\n      <div className=\"card-attendance-right\">\r\n        <div className=\"askleave-info\">\r\n          <p className=\"count\"><span>{countInfo.vacateTimes? countInfo.vacateTimes: \"--\"}</span>次</p>\r\n          <p>请假次数</p>\r\n        </div>\r\n        <div className=\"late-info\">\r\n          <p className=\"count\"><span>{countInfo.lateTimes? countInfo.lateTimes: \"--\"}</span>次</p>\r\n          <p>迟到次数</p>\r\n        </div>\r\n        <div className=\"badback-info\">\r\n          <p className=\"count\"><span>{countInfo.leaveEarlyTimes? countInfo.leaveEarlyTimes: \"--\"}</span>次</p>\r\n          <p>早退次数</p>\r\n        </div>\r\n      </div>\r\n      {/* <p className=\"card-attendance-tip\">\r\n          <i className=\"tiplogo\"></i>\r\n          统计数据为最近50天\r\n      </p> */}\r\n        </div>\r\n      }\r\n      \r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let { commonData } = state;\r\n  return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(Work)));\r\n","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport moment from \"moment\";\r\nimport {Empty} from \"../../component/common\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction History(props, ref) {\r\n  let {\r\n    className,\r\n\r\n    data,\r\n  } = props;\r\n  // 小于5个补\r\n  console.log(\"轨迹\", data);\r\n  let sign = false;\r\n  if(data.length == 0){\r\n    sign = true;\r\n  }\r\n  if (data.length < 5) {\r\n    let more = [\"\", \"\", \"\", \"\", \"\"];\r\n    data = data.concat(more.slice(0, 5 - data.length));\r\n  }\r\n  data.forEach((item)=>{\r\n    let arr = [];\r\n    let str = \"\";\r\n    if(item.late){\r\n        str += \"迟到人数\" + item.late + \"人\";\r\n    }\r\n    if(item.absent){\r\n        str += \"缺勤人数\" + item.absent + \"人\";\r\n    }\r\n    if(item.leaveEarly){\r\n        str += \"早退人数\" + item.leaveEarly + \"人\";\r\n    }\r\n    if(item.vacate){\r\n        str += \"请假人数\" + item.vacate + \"人\";\r\n    }\r\n    let obj = {\r\n        time: item.date,\r\n        content: str\r\n    }\r\n    arr.push(obj);\r\n  })\r\n  return (\r\n    <div className={`card-content card-history ${className ? className : \"\"}`}>\r\n      {\r\n        !sign?\r\n        <Scrollbars className='ch-scrollbars'>\r\n          <div className=\"ch-dot-box\">\r\n            {data.map((child, index) => {\r\n              // 第一个前面要有一个球，最后加4个，旗最长7个球的长度\r\n              let dom = [];\r\n              if (index === 0) {\r\n                dom.push(\"dot\");\r\n              }\r\n              // 看child有没有值\r\n              dom = dom.concat([child ? \"active\" : \"dot\", \"dot\", \"dot\", \"dot\"]);\r\n              if (index === data.length - 1) {\r\n                dom = dom.concat([\"dot\", \"dot\", \"dot\", \"dot\"]);\r\n              }\r\n              let str = \"\";\r\n              if(child.late){\r\n                  str += \"迟到人数\" + child.late + \"人\";\r\n              }\r\n              if(child.absent){\r\n                  str += \"缺勤人数\" + child.absent + \"人\";\r\n              }\r\n              if(child.leaveEarly){\r\n                  str += \"早退人数\" + child.leaveEarly + \"人\";\r\n              }\r\n              if(child.vacate){\r\n                  str += \"请假人数\" + child.vacate + \"人\";\r\n              }\r\n              return (\r\n                <React.Fragment key={index}>\r\n                  {dom.map((dot, index2) => {\r\n                    \r\n                    return dot === \"active\" ? (\r\n                      <div key={index2} className=\" ch-dot ch-dot-active\">\r\n                        <span className=\"ch-dot-polo\">\r\n                          <div className=\"ch-content\">\r\n                            <p className=\"ch-content-time\" title={child.date}>\r\n                              {child.date}\r\n                            </p>\r\n                            <p className=\"ch-content-title\" title={str}>\r\n                              {str}\r\n                            </p>\r\n                          </div>\r\n                        </span>\r\n                      </div>\r\n                    ) : (\r\n                      <span key={index2} className=\"ch-dot\"></span>\r\n                    );\r\n                  })}\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n          </div>\r\n        </Scrollbars>:\r\n        <Empty\r\n          title={\"暂无数据\"}\r\n          className=\"pc-empty\"\r\n          type={\"3\"}\r\n        ></Empty>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(forwardRef(History));\r\n","import {\r\n  connect\r\n} from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  // useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport {Carousel} from \"antd\";\r\nimport {Empty} from \"../../component/common\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nimport { setRole } from \"../../util/public\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction Information(props, ref) {\r\n  let {\r\n    className,\r\n    userIdentity,\r\n    data,\r\n    currentTerm,\r\n    currentClass,\r\n    userInfo: {UserID}\r\n  } = props;\r\n  const [awardList, setAwardList] = useState([]);\r\n  const [punishList, setPunishList] = useState([]);\r\n  const awardLevelList = {\r\n    \"1\": '一等奖',\r\n    \"2\": '二等奖',\r\n    \"3\": '三等奖',\r\n    \"-1\": '其他'\r\n  };\r\n  const awardKind = {\r\n    \"1\": '校级',\r\n    \"2\": '区级',\r\n    \"3\": '市级',\r\n    \"4\": '省级',\r\n    \"5\": '国家级',\r\n    \"-1\": '其他'\r\n  };\r\n  console.log(\"当前学期\", currentTerm, userIdentity);\r\n  useLayoutEffect(()=>{\r\n    if(!currentTerm || !UserID){\r\n      return;\r\n    }\r\n    if(userIdentity == \"teacher\"){\r\n      //先获取当前班级信息\r\n        // let url = BasicProxy + \"/api/punishAndReward/rewards/list?studentId=\" + \r\n        // \"&classId=\" + currentClass +\r\n        // \"&gradeId=\" + currentGrade +\r\n        // \"&startDate=\" + currentTermInfo.startDate.substr(0, 10) + \r\n        // \"&endDate=\" + currentTermInfo.endDate.substr(0, 10);\r\n    }\r\n    \r\n      //获取奖励信息\r\n      let url = \"\";\r\n      if(userIdentity == \"student\"){\r\n        url = BasicProxy + \"/api/punishAndReward/rewards/list?studentId=\" + UserID +\r\n        \"&startDate=\" + (currentTerm.termStartDate? \r\n        new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n        \"&endDate=\" + (currentTerm.termEndDate?\r\n        new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n      } else {\r\n        url = BasicProxy + \"/api/punishAndReward/rewards/list?studentId=\" + \r\n        \"&classId=\" + currentClass.classId +\r\n        \"&gradeId=\" + currentClass.gradeId +\r\n        \"&startDate=\" + (currentTerm.termStartDate? \r\n        new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n        \"&endDate=\" + (currentTerm.termEndDate?\r\n        new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n      }    \r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>{\r\n          return res.json();\r\n      })\r\n      .then((result)=>{\r\n          if(result.status == 200 && Array.isArray(result.data)){\r\n              setAwardList(result.data);\r\n          } else {\r\n              setAwardList(false);\r\n          }\r\n      })\r\n      //获取处罚信息\r\n      url = BasicProxy + \"/api/punishAndReward/punishment/list?studentId=\" + (\r\n        userIdentity == \"student\"?\r\n        UserID:\r\n        \"\"\r\n      ) +\r\n      \"&classId=\" + currentClass.classId +\r\n      \"&gradeId=\" + currentClass.gradeId +\r\n      \"&startDate=\" + (currentTerm.termStartDate? \r\n      new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n      \"&endDate=\" + (currentTerm.termEndDate?\r\n      new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n      // }\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>{\r\n          return res.json();\r\n      })\r\n      .then((result)=>{\r\n          if(result.status == 200 && Array.isArray(result.data)){\r\n              setPunishList(result.data);\r\n          }\r\n      })\r\n  }, [userIdentity, currentTerm]);\r\n  //奖项每5个化为一页，进行轮播\r\n  let updateAwardList = [];\r\n  let arr = [];\r\n  Array.isArray(awardList) && awardList.forEach((item, index)=>{\r\n    arr.push(item);\r\n    if(((index + 1) % 5 == 0) || index == awardList.length - 1){\r\n        updateAwardList.push(arr);\r\n        arr = [];\r\n    }\r\n  })\r\n\r\n  //计算获奖各个类型数量\r\n  let awardKindList = [];\r\n  Array.isArray(awardList) && awardList.forEach((item)=>{\r\n    awardKindList.push(awardKind[(item.awardLevel? item.awardLevel: -1)]);\r\n  })\r\n  awardKindList = [...new Set(awardKindList)];\r\n  let updateAwardKindList = [];\r\n  awardKindList.forEach((item)=>{\r\n    let sum = 0;\r\n    awardList.forEach((child)=>{\r\n      if(awardKind[(item.awardLevel? item.awardLevel: -1)] == item){\r\n        sum++;\r\n      }\r\n    })\r\n    let obj = {\r\n      key: item,\r\n      num: sum\r\n    }\r\n    updateAwardKindList.push(obj);\r\n  })\r\n  //计算处罚各个类型数量\r\n  let punishKindList = [];\r\n  Array.isArray(punishList) && punishList.forEach((item)=>{\r\n    punishKindList.push(awardKind[(item.punishmentLevel? item.punishmentLevel: -1)]);\r\n  })\r\n  punishKindList = [...new Set(punishKindList)];\r\n  let updatePunishKindList = [];\r\n  punishKindList.forEach((item)=>{\r\n    let sum = 0;\r\n    punishList.forEach((child)=>{\r\n      if(awardKind[(child.punishmentLevel? child.punishmentLevel: -1)] == item){\r\n        sum++;\r\n      }\r\n    })\r\n    let obj = {\r\n      key: item,\r\n      num: sum\r\n    }\r\n    updatePunishKindList.push(obj);\r\n  })\r\n  return (\r\n    <div\r\n      className={`card-content card-award-punish ${className ? className : \"\"}`}\r\n    >\r\n      {\r\n        awardList.length == 0 && punishList == 0?\r\n        <Empty\r\n          title={\"暂无数据\"}\r\n          className=\"pc-empty\"\r\n          type={\"3\"}\r\n        ></Empty>:\r\n        <div>\r\n           <Carousel\r\n      dots={{\r\n          className: 'personal-award-dot'\r\n      }}>\r\n        {\r\n          updateAwardList.map((item, index)=>{\r\n              return (\r\n                  <div className=\"award-list\" key={index}>\r\n                  {\r\n                      item.map((child, index1)=>{\r\n                          return (\r\n                          <div className=\"award-one\" key={index1}>\r\n                              <i className={\"awardlogo \" + \r\n                              (\r\n                                  child.awardLevel == 5 || child.awardClass == 1?\r\n                                  \"award-1\":\r\n                                  child.awardLevel == 4 || child.awardClass == 2?\r\n                                  \"award-2\":\r\n                                  child.awardLevel == 3 || child.awardClass == 3?\r\n                                  \"award-3\":\r\n                                  \"\"\r\n                              )\r\n                              }></i>\r\n                              <p title={child.awardLevelName + child.awardName}>\r\n                                  {child.awardLevelName + child.awardName}\r\n                              </p>\r\n                              <p title={awardLevelList[child.awardClass]}>\r\n                                  {awardLevelList[child.awardClass]}\r\n                              </p>\r\n                              {\r\n                                  userIdentity == 'manager'?\r\n                                  <p \r\n                                  title={child.studentName}\r\n                                  style={{color: '#ff6600'}}\r\n                                  >[{child.studentName}]</p>:\r\n                                  \"\"\r\n                              }\r\n                          </div>\r\n                          )\r\n                      })\r\n                  }  \r\n                  </div>\r\n              )\r\n          })\r\n      }\r\n      </Carousel>\r\n      <div className=\"award-info\">\r\n      <p className=\"award-sum\">目前已有奖项:<span>{awardList.length}</span></p>\r\n        <Carousel\r\n        dots={{\r\n            className: 'award-info-dot'\r\n        }}>\r\n        <ul className=\"award-info-list\">\r\n          {\r\n            updateAwardKindList.map((item, index)=>{\r\n              return (\r\n                <li key={index}>\r\n                  {item.key}次数: \r\n                  <span>{item.num}次</span>\r\n                </li>\r\n              )\r\n            })\r\n          }\r\n        </ul>\r\n        </Carousel>\r\n        \r\n      </div>\r\n      <div className=\"punish-info\">\r\n      <p className=\"punish-sum\">目前处罚次数:<span>{punishList.length}</span></p>\r\n      <Carousel\r\n        dots={{\r\n            className: 'punish-info-dot'\r\n        }}>\r\n        <ul className=\"punish-info-list\">\r\n          {\r\n            updatePunishKindList.map((item, index)=>{\r\n              return (\r\n                <li key={index}>\r\n                  {item.key}次数: \r\n                  <span>{item.num}次</span>\r\n                </li>\r\n              )\r\n            })\r\n          }\r\n        </ul>\r\n        </Carousel>\r\n      </div>\r\n        </div>\r\n      }\r\n     \r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let { commonData } = state;\r\n  return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(Information)));\r\n","import React, { useState, memo } from \"react\";\r\n\r\nfunction Linkbtn(props) {\r\n  let { className, type, title, onClick,children } = props;\r\n  return (\r\n    <span\r\n      className={`card-linkbtn ${className?className:''} ${type && \"card-linkbtn-\" + type}`}\r\n      onClick={onClick}\r\n    >\r\n      {children||title}\r\n    </span>\r\n  );\r\n}\r\nexport default Linkbtn;\r\n","import React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport echarts from \"echarts/lib/echarts\";\r\n// import \"echarts/lib/chart/radar\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport \"echarts/lib/component/polar\";\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/component/markPoint\";\r\nimport \"echarts/lib/chart/radar\";\r\nimport { resizeForEcharts } from \"@/util/public\";\r\nimport { Dropdown } from \"@/component/common\";\r\n\r\n/**\r\n * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n * @param {*} props\r\n * @param {*} ref\r\n * @return {*}\r\n */\r\nfunction Data(props, ref) {\r\n  let {\r\n    className,\r\n    onWeekSelect,\r\n    weekSelect,\r\n    weekList,\r\n    ResView, //电子资源\r\n    Percentage, //精品课程\r\n    TeachPlan, //教学方案\r\n    SubjectList,\r\n  } = props;\r\n  useEffect(() => {\r\n    let myEchart = echarts.init(document.getElementById('evaluate-echart'));\r\n    myEchart.resize();\r\n    let option = {\r\n      legend: {\r\n          data: ['图一','图二', '张三', '李四']\r\n      },\r\n      grid: {\r\n        top: 0,\r\n        bottom: 0,\r\n        left: 30,\r\n        right: 30,\r\n        containLabel: true\r\n      },\r\n      radar: [\r\n          {\r\n              indicator: [\r\n                  { text: '指标一' },\r\n                  { text: '指标二' },\r\n                  { text: '指标三' },\r\n                  { text: '指标四' },\r\n                  { text: '指标五' }\r\n              ],\r\n              center: ['50%', '55%'],\r\n              radius: 80,\r\n              startAngle: 90,\r\n              splitNumber: 5,\r\n              shape: 'circle',\r\n              name: {\r\n                  formatter: '{value}',\r\n                  textStyle: {\r\n                      color: '#999999'\r\n                  }\r\n              },\r\n              splitArea: {\r\n                  areaStyle: {\r\n                      color: ['rgba(15,136,139,0.5)',\r\n                          'rgba(15,136,139,0.4)', 'rgba(15,136,139,0.3)',\r\n                          'rgba(15,136,139,0.2)', 'rgba(15,136,139,0.1)'],\r\n                      shadowColor: 'rgba(0, 0, 0, 0.3)',\r\n                      shadowBlur: 10\r\n                  }\r\n              },\r\n              axisLine: {\r\n                  lineStyle: {\r\n                      color: 'rgba(15,136,139,0.2)'\r\n                  }\r\n              },\r\n              splitLine: {\r\n                  show: false,\r\n              }\r\n          },\r\n      ],\r\n      series: [\r\n          {\r\n              name: '雷达图',\r\n              type: 'radar',\r\n              emphasis: {\r\n                  lineStyle: {\r\n                      width: 2\r\n                  }\r\n              },\r\n              data: [\r\n                  {\r\n                      value: [100, 8, 0.40, -80, 2000],\r\n                      name: '综合评价',\r\n                      symbol: 'circle',\r\n                      symbolSize: 5,\r\n                      itemStyle: {\r\n                          color: '#52d8d7'\r\n                      },\r\n                      lineStyle: {\r\n                          color: '#39ADAE'\r\n                      }\r\n                  },\r\n              ]\r\n          }\r\n      ]\r\n    }\r\n    myEchart.setOption(option);\r\n    window.addEventListener('resize', function(){\r\n      myEchart.resize();\r\n    })\r\n    return () => {\r\n    }\r\n  }, [])\r\n  return (\r\n    <div className={`card-content card-evaluate ${className ? className : \"\"}`}>\r\n      <div className=\"evaluate-echart\" id=\"evaluate-echart\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(forwardRef(Data));\r\n","import React, {\r\n    useState,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    memo,\r\n    forwardRef\r\n} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport DefaultImage from \"./images/class-default.png\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction ClassStatus(props){\r\n    let {\r\n        className,\r\n        userIdentity,\r\n        data,\r\n        currentTerm,\r\n        currentClass,\r\n        userInfo: {UserID, SchoolID, UserName}\r\n    } = props;\r\n    const [classInfo, setClassInfo] = useState({});\r\n    useLayoutEffect(()=>{\r\n        //获取学籍信息\r\n        ///api/status/student\r\n        if(!UserID){\r\n        return;\r\n        }\r\n        let url = BasicProxy + \"/api/status/class?classId=\" + currentClass.classId;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setClassInfo(result.data);\r\n            }\r\n        })\r\n    }, [currentClass]);\r\n    return (\r\n        <div\r\n        className={`card-content card-class-status ${className ? className : \"\"}`}\r\n        >\r\n            <div className=\"img-container\">\r\n                <img src=\"\" />\r\n            </div>\r\n            <p style={{marginTop: 5}}>总人数:<span>\r\n                {typeof classInfo.classSize == \"number\"? classInfo.classSize: \"--\"}人</span></p>\r\n            <p>班主任:<span>{UserName}</span></p>\r\n            <p style={{marginTop: 13}}>男生人数:<span>{typeof classInfo.maleNum == \"number\"? classInfo.maleNum: \"--\"}人</span></p>\r\n            <p>女生人数:<span>{typeof classInfo.femaleNum == \"number\"? classInfo.femaleNum: \"--\"}人</span></p>\r\n            {/* <p className=\"class-remark\">\r\n                <span className=\"remark-name\">班级寄语:</span>\r\n                <span className=\"remark-content\">愿望是进取的起点，习惯是成才的基础，努力是成功的阶梯，选\r\n                 择行动塑造最优秀的自己</span>\r\n            </p> */}\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { commonData } = state;\r\n    return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(ClassStatus)));","export default \"../../static/media/school-default.19da2cb9.png\";","import React, {\r\n    useState,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    memo,\r\n    forwardRef\r\n} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport DefaultImage from \"./images/school-default.png\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction SchoolStatus(props){\r\n    let {\r\n        className,\r\n        userIdentity,\r\n        data,\r\n        currentTerm,\r\n        currentClass,\r\n        userInfo: {UserID, SchoolID, UserName}\r\n    } = props;\r\n    const [schoolInfo, setSchoolInfo] = useState({});\r\n    useLayoutEffect(()=>{\r\n        //获取学籍信息\r\n        ///api/status/student\r\n        if(!SchoolID){\r\n        return;\r\n        }\r\n        let url = BasicProxy + \"/api/status/school?schoolId=\" + SchoolID;\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                setSchoolInfo(result.data);\r\n            }\r\n        })\r\n    }, [SchoolID]);\r\n    return (\r\n        <div\r\n        className={`card-content card-class-status ${className ? className : \"\"}`}\r\n        >\r\n            <div className=\"img-container\">\r\n                <img src={DefaultImage} />\r\n            </div>\r\n            <p style={{marginTop: 5}}>总人数:<span>\r\n                {typeof schoolInfo.schoolSize == \"number\"? schoolInfo.schoolSize: \"--\"}人</span></p>\r\n            <p>校长:<span>--</span></p>\r\n            <p style={{marginTop: 13}}>\r\n                男生人数:\r\n                <span>\r\n                {typeof schoolInfo.maleNum == \"number\"? schoolInfo.maleNum: \"--\"}人.\r\n                </span>\r\n                {schoolInfo.schoolSize? \r\n                ((schoolInfo.maleNum/schoolInfo.schoolSize)*100).toFixed(1) + \"%\": \"--\"}</p>\r\n            <p>女生人数:<span>\r\n                {typeof schoolInfo.femaleNum == \"number\"? schoolInfo.femaleNum: \"--\"}人.</span>\r\n                {schoolInfo.schoolSize? \r\n                ((schoolInfo.femaleNum/schoolInfo.schoolSize)*100).toFixed(1) + \"%\": \"--\"}</p>\r\n            <p className=\"class-remark\">\r\n                <span className=\"remark-name\">学校标语:</span>\r\n                <span className=\"remark-content\">--</span>\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    let { commonData } = state;\r\n    return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(SchoolStatus)));","import React, {\r\n    useState,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    memo,\r\n    forwardRef\r\n} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport fetch from \"../../util/fetch\";\r\nimport {Empty} from \"../../component/common\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction ClassAttainment(props){\r\n    let {\r\n        className,\r\n        userIdentity,\r\n        data,\r\n        currentTerm,\r\n        currentClass,\r\n        userInfo: {UserID, SchoolID}\r\n    } = props;\r\n    const [commentList, setCommentList] = useState({});\r\n    useLayoutEffect(()=>{\r\n    //获取排名信息\r\n    ///api/status/student\r\n    if(!UserID || !currentTerm.term){\r\n      return;\r\n    }\r\n\r\n    let url = BasicProxy + \"/api/learning2/comprehensive?type=\" + (\r\n        userIdentity == \"teacher\"?\r\n        2:\r\n        4\r\n    ) +\r\n    \"&studentId=\" + UserID + \r\n    \"&classId=\" + currentClass.classId +\r\n    \"&gradeId=\" + currentClass.gradeId +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&termId=\" + currentTerm.term;\r\n    // \"&start=\" + (currentTerm.termStartDate? \r\n    // new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n    // \"&end=\" + (currentTerm.termEndDate?\r\n    // new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>{\r\n        return res.json();\r\n    })\r\n    .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          setCommentList(result.data);\r\n        }\r\n    })\r\n  }, [currentClass, UserID, currentTerm]);\r\n    return (\r\n        <div\r\n        className={`card-content card-class-attainment ${className ? className : \"\"}`} >\r\n           <p className=\"card-title\">{ Array.isArray(commentList.qualityItemList) &&\r\n               commentList.qualityItemList.length > 0? currentTerm.term: \"\"}</p>\r\n           {\r\n               Array.isArray(commentList.qualityItemList) &&\r\n               commentList.qualityItemList.length > 0?\r\n               commentList.qualityItemList.map((item, index)=>{\r\n                   return (\r\n                    <div className=\"circle-container\" key={index}>\r\n                        <div className={\"circle \" + (item.rank == \"A\"? \"green\": item.rank == \"B\"? \"blue\": item.rank == \"C\"? \"violet\": \"brown\")}>{item.rank}</div>\r\n                        <p title={item.itemName}>{item.itemName}</p>\r\n                    </div>\r\n                   )\r\n               }):\r\n               <Empty\r\n                title={\"暂无数据\"}\r\n                className=\"pc-empty\"\r\n                type={\"3\"}\r\n                ></Empty>\r\n           }\r\n           {/* <div className=\"circle-container\">\r\n               <div className=\"circle green\">A</div>\r\n               <p>品德表现</p>\r\n           </div>\r\n           <div className=\"circle-container\">\r\n               <div className=\"circle blue\">A</div>\r\n               <p>运动健康</p>\r\n           </div>\r\n           <div className=\"circle-container\">\r\n               <div className=\"circle violet\">A</div>\r\n               <p>艺术修养</p>\r\n           </div>\r\n           <div className=\"circle-container\">\r\n               <div className=\"circle brown\">A</div>\r\n               <p>创新实践</p>\r\n           </div> */}\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { commonData } = state;\r\n    return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(ClassAttainment)));","import React, {\r\n    useState,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    memo,\r\n    forwardRef\r\n} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Scrollbars} from \"react-custom-scrollbars\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction ClassRank(props){\r\n    let {\r\n        className,\r\n        userIdentity,\r\n        data,\r\n        currentTerm,\r\n        currentClass,\r\n        userInfo: {UserID, SchoolID}\r\n    } = props;\r\n    const [rankInfo, setRankInfo] = useState({});\r\n    const [subjectList, setSubjectList] = useState([]);\r\n    const [rankList, setRankList] = useState([]);\r\n      useLayoutEffect(()=>{\r\n        //获取班级排名信息\r\n        ///api/status/student\r\n        if(!UserID || !currentTerm.term){\r\n          return;\r\n        }\r\n    \r\n        let url = BasicProxy + \"/api/learning2/exam/scoreRank?type=2\" +\r\n        \"&studentId=&classId=\" + currentClass.classId +\r\n        \"&gradeId=\" + currentClass.gradeId +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTerm.term +\r\n        \"&examType=2\" +\r\n        \"&start=\" + (currentTerm.termStartDate? \r\n        new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n        \"&end=\" + (currentTerm.termEndDate?\r\n        new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setRankInfo(result.data);\r\n            }\r\n        })\r\n        //获取平均分列表\r\n        url = BasicProxy + \"/api/learning2/homework/avgScore?type=2\" +\r\n        \"&studentId=&classId=\" + currentClass.classId +\r\n        \"&gradeId=\" + currentClass.gradeId +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTerm.term +\r\n        \"&examType=2\" +\r\n        \"&start=\" + (currentTerm.termStartDate? \r\n        new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n        \"&end=\" + (currentTerm.termEndDate?\r\n        new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setSubjectList(result.data);\r\n            }\r\n        })\r\n        //获取班级学生分数信息  \r\n        url = BasicProxy + \"/api/learning2/rank?type=2\" +\r\n        \"&classId=\" + currentClass.classId +\r\n        \"&gradeId=\" + currentClass.gradeId +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTerm.term +\r\n        \"&start=\" + (currentTerm.termStartDate? \r\n        new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n        \"&end=\" + (currentTerm.termEndDate?\r\n        new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>res.json())\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n                result.data.forEach((item)=>{\r\n                    if(item.rankType.indexOf(\"考试\") != -1){\r\n                        setRankList(item.learningRankListList);\r\n                    }\r\n                })\r\n                \r\n            }\r\n        })\r\n      }, [currentClass, UserID, currentTerm]);\r\n    return (\r\n        <div\r\n        className={`card-content card-class-rank ${className ? className : \"\"}`} >\r\n            <div className=\"class-rank-top\">\r\n                <div className=\"sum-rank\">\r\n                    <div className=\"rank-num\">{rankInfo.gradeRank? rankInfo.gradeRank: \"--\"}</div>\r\n                    <p>班级总分排名</p>\r\n                </div>\r\n                <div className=\"slice-line\"></div>\r\n                <ul className=\"subject-rank-list\">\r\n                    <Scrollbars\r\n                    autoHeight\r\n                    autoHeightMax={80}\r\n                    renderThumbVertical={props => <div {...props} className=\"thumb-vertical\"/>}>\r\n                    {\r\n                        subjectList.map((item, index)=>{\r\n                            return (\r\n                            <li key={index}>\r\n                            {item.subjectName}分数: \r\n                            <span className=\"grade-rank\">{item.score}</span>\r\n                            </li>\r\n                            )\r\n                        })\r\n                    }\r\n                    {/* <li>\r\n                        语文排名:\r\n                        <span className=\"grade-rank\">3</span>\r\n                    </li>\r\n                    <li>\r\n                        语文排名:\r\n                        <span className=\"grade-rank\">3</span>\r\n                    </li> */}\r\n                    </Scrollbars>\r\n                </ul>\r\n            </div>\r\n            <div className=\"class-rank-bottom\">\r\n                <div className=\"table-head\">\r\n                    <div className=\"table-th th-name\" style={{width: '50%'}}>姓名</div>\r\n                    <div className=\"table-th\" style={{width: '20%'}}>总分</div>\r\n                    <div className=\"table-th\" style={{width: '30%'}}>排名</div>\r\n                    {/* <div className=\"table-th th-name\" style={{width: '40%'}}>姓名</div>\r\n                    <div className=\"table-th\" style={{width: '18%'}}>总分</div>\r\n                    <div className=\"table-th\" style={{width: '21%'}}>班级排名</div>\r\n                    <div className=\"table-th\" style={{width: '21%'}}>年级排名</div> */}\r\n                </div>\r\n                <Scrollbars\r\n                autoHeight\r\n                autoHeightMax={125}\r\n                // renderTrackVertical={props => <div {...props} className=\"track-vertical\"/>}\r\n                renderThumbVertical={props => <div {...props} className=\"thumb-vertical\"/>}>\r\n                    {\r\n                        rankList.map((item, index)=>{\r\n                            return (\r\n                                <div className=\"stu-rank-list\" key={index}>\r\n                                    <div className=\"stu-name\" style={{width: '50%'}}>\r\n                                        <img src={item.photo} />\r\n                                        {item.name}\r\n                                    </div>\r\n                                    <div className=\"stu-sum\" style={{width: '20%'}}>\r\n                                        {item.score}\r\n                                    </div>\r\n                                    <div className=\"stu-class-rank\" style={{width: '30%'}}>\r\n                                        {item.rank}\r\n                                        {/* <i className=\"uplogo\"></i> */}\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                    {/* <div className=\"stu-rank-list\">\r\n                        <div className=\"stu-name\" style={{width: '40%'}}>\r\n                            <img src=\"\" />\r\n                            马保国\r\n                        </div>\r\n                        <div className=\"stu-sum\" style={{width: '18%'}}>\r\n                            566\r\n                        </div>\r\n                        <div className=\"stu-class-rank\" style={{width: '21%'}}>\r\n                            1\r\n                            <i className=\"uplogo\"></i>\r\n                        </div>\r\n                        <div className=\"stu-grade-rank\" style={{width: '21%'}}>\r\n                            3\r\n                            <i className=\"uplogo\"></i>\r\n                        </div>\r\n                    </div> */}\r\n                </Scrollbars>\r\n                {/* <div className=\"rank-info\">\r\n                    <p>\r\n                        进步最大:\r\n                        <span>马保国(年级进步23名)</span>\r\n                    </p>\r\n                    <p>\r\n                        退步最大:\r\n                        <span>马保国(年级退步23名)</span>\r\n                    </p>\r\n                </div> */}\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { commonData } = state;\r\n    return { ...commonData };\r\n  };\r\nexport default connect(mapStateToProps)(memo(forwardRef(ClassRank)));","\r\nimport React, {\r\n    useState,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    memo,\r\n    forwardRef\r\n} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Scrollbars} from \"react-custom-scrollbars\";\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\nfunction GradeRank(props){\r\n    let {\r\n        className,\r\n        userIdentity,\r\n        data,\r\n        currentTerm,\r\n        currentClass,\r\n        userInfo: {UserID, SchoolID}\r\n    } = props;\r\n    const [gradeInfoList, setGradeInfoList] = useState([]);\r\n      useLayoutEffect(()=>{\r\n        //获取班级排名信息\r\n        ///api/status/student\r\n        if(!UserID || !currentTerm.term){\r\n          return;\r\n        }\r\n    \r\n        let url = BasicProxy + \"/api/learning2/exam/scoreRank/batch?type=3\" +\r\n        \"&schoolId=\" + SchoolID +\r\n        \"&termId=\" + currentTerm.term +\r\n        \"&examType=2\" +\r\n        \"&start=\" + (currentTerm.termStartDate? \r\n        new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n        \"&end=\" + (currentTerm.termEndDate?\r\n        new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n        fetch\r\n        .get({url, securityLevel: 2})\r\n        .then((res)=>{\r\n            return res.json();\r\n        })\r\n        .then((result)=>{\r\n            if(result.status == 200 && result.data){\r\n              setGradeInfoList(result.data);\r\n            }\r\n        })\r\n\r\n      }, [currentClass, UserID, currentTerm]);\r\n\r\n    return (\r\n        <div\r\n        className={`card-content card-grade-rank ${className ? className : \"\"}`} style={{paddingTop: 30}} >\r\n            <Scrollbars\r\n            autoHeight\r\n            autoHeightMax={360}\r\n            renderThumbVertical={props => <div {...props} className=\"thumb-vertical\"/>}>\r\n                {\r\n                    gradeInfoList.map((item, index)=>{\r\n                        let sumAvg = 0;\r\n                        item.examScoreAndRankList.forEach((child)=>{\r\n                            if(child.subject == \"总分\" && child.examName == \"期末\"){\r\n                                sumAvg = child.score;\r\n                            }\r\n                            if(!sumAvg && child.subject == \"总分\" && child.examName == \"期中\"){\r\n                                sumAvg = child.score;\r\n                            }\r\n                        })\r\n                        return (\r\n                        <div className=\"grade-info-one\" key={index}>\r\n                            <p className=\"grade-title\">{item.gradeName}:</p>\r\n                            <div className=\"grade-detail\">\r\n                                <div className=\"detail-left\">\r\n                                    {/* <ul className=\"rate-list\">\r\n                                        <li>优秀率:<span>23%</span></li>\r\n                                        <li>及格率:<span>23%</span></li>\r\n                                        <li>最高分:<span>23</span></li>\r\n                                        <li>最低分:<span>23</span></li>\r\n                                    </ul> */}\r\n                                    <p className=\"sum-avg\">{sumAvg}</p>\r\n                                    <p>总分平均分</p>\r\n                                </div>\r\n                                <div className=\"slice-line\"></div>\r\n                                <div className=\"detail-right\">\r\n                                    <ul className=\"grade-class-list\">\r\n                                    <Scrollbars\r\n                                    autoHeight\r\n                                    autoHeightMax={128}\r\n                                    renderThumbVertical={props => <div {...props} className=\"thumb-vertical\"/>}>\r\n                                        {\r\n                                            item.examScoreAndRankList.map((child, index1)=>{\r\n                                                if(child.subject == \"总分\"){\r\n                                                    return;\r\n                                                }\r\n                                                return (\r\n                                                    <li key={index1}>\r\n                                                        <i className=\"ranklogo\"></i>\r\n                                                        <span className=\"class-name\">{child.subject}</span>\r\n                                                        <span className=\"rank-score\">平均分:{child.score}</span>\r\n                                                    </li> \r\n                                                )\r\n                                            })\r\n                                        }\r\n                                        {/* <li>\r\n                                            <i className=\"ranklogo\"></i>\r\n                                            <span className=\"class-name\">一年级(13)班</span>\r\n                                            <span className=\"rank-score\">平均分:451</span>\r\n                                        </li>\r\n                                        <li>\r\n                                            <i className=\"ranklogo\"></i>\r\n                                            <span className=\"class-name\">一年级(13)班</span>\r\n                                            <span className=\"rank-score\">平均分:451</span>\r\n                                        </li>\r\n                                        <li>\r\n                                            <i className=\"ranklogo\"></i>\r\n                                            <span className=\"class-name\">一年级(13)班</span>\r\n                                            <span className=\"rank-score\">平均分:451</span>\r\n                                        </li> */}\r\n                                        </Scrollbars>\r\n                                    </ul>\r\n                                    \r\n                                </div>\r\n                            </div>\r\n                        </div> \r\n                        )\r\n                    })\r\n                }\r\n            {/* <div className=\"grade-info-one\">\r\n                <p className=\"grade-title\">一年级:</p>\r\n                <div className=\"grade-detail\">\r\n                    <div className=\"detail-left\">\r\n                        <ul className=\"rate-list\">\r\n                            <li>优秀率:<span>23%</span></li>\r\n                            <li>及格率:<span>23%</span></li>\r\n                            <li>最高分:<span>23</span></li>\r\n                            <li>最低分:<span>23</span></li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"slice-line\"></div>\r\n                    <div className=\"detail-right\">\r\n                        <ul className=\"grade-class-list\">\r\n                            <li>\r\n                                <i className=\"ranklogo\"></i>\r\n                                <span className=\"class-name\">一年级(13)班</span>\r\n                                <span className=\"rank-score\">平均分:451</span>\r\n                            </li>\r\n                            <li>\r\n                                <i className=\"ranklogo\"></i>\r\n                                <span className=\"class-name\">一年级(13)班</span>\r\n                                <span className=\"rank-score\">平均分:451</span>\r\n                            </li>\r\n                            <li>\r\n                                <i className=\"ranklogo\"></i>\r\n                                <span className=\"class-name\">一年级(13)班</span>\r\n                                <span className=\"rank-score\">平均分:451</span>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div> */}\r\n            </Scrollbars>\r\n            \r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    let { commonData } = state;\r\n    return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(memo(forwardRef(GradeRank)));","import React, {\r\n    useCallback,\r\n    memo,\r\n    useEffect,\r\n    useState,\r\n    // useImperativeHandle,\r\n    // useMemo,\r\n    // useReducer,\r\n    // createContext,\r\n    // useContext,\r\n    useRef,\r\n    forwardRef,\r\n    useLayoutEffect,\r\n  } from \"react\";\r\n  import Progress from \"@/component/progress\";\r\n  import \"./index.scss\";\r\n  \r\n  /**\r\n   * @description: 暂无数据表明是没有这个系统id或返回错误，加锁是没有权限看,前者权重大于后者\r\n   * @param {*} props\r\n   * @param {*} ref\r\n   * @return {*}\r\n   */\r\n  function StuHealth(props, ref) {\r\n    let {\r\n      className,\r\n      data,\r\n      userIdentity\r\n    } = props;\r\n    return (\r\n      <div className={`card-content card-health ${className ? className : \"\"}`}>\r\n        {\r\n          userIdentity == \"student\"?\r\n          <div>\r\n            <p className=\"info-one\">\r\n              日常运动频率:<span>1次/天</span>\r\n            </p>\r\n            <p className=\"info-one\">\r\n              病假率:<span>9%</span>\r\n            </p>\r\n          </div>:\r\n          \"\"\r\n        }\r\n        {/* <p className=\"info-one\" style={{\r\n            position: 'relative',\r\n            top: '5px'\r\n        }}>\r\n            日常运动频率:<span>78分</span>\r\n        </p>\r\n        <p className=\"info-one\" style={{\r\n            position: 'relative',\r\n            top: '5px'\r\n        }}>\r\n            病假率:<span>78分</span>\r\n        </p> */}\r\n        <div className=\"slice-line\" style={{margin: '14px 0'}}></div>\r\n        <div style={{marginBottom: 15}}>\r\n            {/* <p className=\"grade-one\" style={{display: 'block'}}>\r\n                体质平均分数:<span>78分</span>\r\n            </p> */}\r\n            <div className=\"progress-container\">\r\n                <span className=\"grade-name\">体重指数</span>\r\n                <Progress\r\n                className=\"grade-progress\"\r\n                percent={45} \r\n                step={25}\r\n                width={114}\r\n                max={100} />\r\n                <span className=\"grade-num\"><span>10</span>分</span>\r\n            </div>\r\n            <div className=\"progress-container\">\r\n                <span className=\"grade-name\">视力</span>\r\n                <Progress\r\n                className=\"grade-progress\"\r\n                percent={20} \r\n                step={25}\r\n                width={114}\r\n                max={100} />\r\n                <span className=\"grade-num\"><span>10</span>分</span>\r\n            </div>\r\n            <div className=\"progress-container\">\r\n                <span className=\"grade-name\">肺活量</span>\r\n                <Progress\r\n                className=\"grade-progress\"\r\n                percent={20} \r\n                step={25}\r\n                width={114}\r\n                max={100} />\r\n                <span className=\"grade-num\"><span>10</span>分</span>\r\n            </div>\r\n            <div className=\"progress-container\">\r\n                <span className=\"grade-name\">50米跑</span>\r\n                <Progress\r\n                className=\"grade-progress\"\r\n                percent={20} \r\n                step={25}\r\n                width={114}\r\n                max={100} />\r\n                <span className=\"grade-num\"><span>10</span>分</span>\r\n            </div>\r\n        </div>\r\n        <div>\r\n          <p className=\"grade-one\" style={{display: 'block'}}>\r\n            中考体育平均成绩:<span>78分</span>\r\n          </p>\r\n          <div className=\"progress-container\">\r\n            <span className=\"grade-name\">长跑</span>\r\n            <Progress\r\n            className=\"grade-progress\"\r\n            percent={20} \r\n            step={25}\r\n            width={114}\r\n            max={100} />\r\n            <span className=\"grade-num\"><span>10</span>分</span>\r\n          </div>\r\n          <div className=\"progress-container\">\r\n            <span className=\"grade-name\">游泳</span>\r\n            <Progress\r\n            className=\"grade-progress\"\r\n            percent={20} \r\n            step={25}\r\n            width={114}\r\n            max={100} />\r\n            <span className=\"grade-num\"><span>10</span>分</span>\r\n          </div>\r\n          <div className=\"progress-container\">\r\n            <span className=\"grade-name\">抛实心球</span>\r\n            <Progress\r\n            className=\"grade-progress\"\r\n            percent={20} \r\n            step={25}\r\n            width={114}\r\n            max={100} />\r\n            <span className=\"grade-num\"><span>10</span>分</span>\r\n          </div>\r\n          <div className=\"progress-container\">\r\n            <span className=\"grade-name\">立定跳远</span>\r\n            <Progress\r\n            className=\"grade-progress\"\r\n            percent={20} \r\n            step={25}\r\n            width={114}\r\n            max={100} />\r\n            <span className=\"grade-num\"><span>10</span>分</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default memo(forwardRef(StuHealth));\r\n  ","import {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  // useImperativeHandle,\r\n  useMemo,\r\n  // useReducer,\r\n  // createContext,\r\n  // useContext,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\n//   import { Search, Empty } from \"../common\";\r\nimport { handleRoute } from \"@/util/public\";\r\nimport {Popover} from \"antd\";\r\nimport $ from \"jquery\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Scrollbars from \"react-custom-scrollbars\";\r\nimport { debounce, BrowserMsg, Browser, removeSlashUrl } from \"@/util/public\";\r\nimport {\r\n  GetSubSystemsMainServerBySubjectID,\r\n  getTeacherDetailIntroduction,\r\n  GetTermAndPeriodAndWeekNOInfo,\r\n  GetTeacherResView,\r\n  GetTeachPlanStatistics,\r\n  GetTeacherpercentage,\r\n  GetAllTerm,\r\n  GetTeacherWork,\r\n  GetResearchByUserID,\r\n  GetDevelopmentHistory,\r\n  GetLogInfoByUserID,\r\n} from \"@/api/personal\";\r\nimport Card from \"./card\";\r\nimport Archives from \"./archives\";  //左上\r\nimport Accout from \"./accout\"; //左中\r\nimport Teach from \"./teach\";  //左下\r\nimport Work from \"./work\"; //右中\r\nimport HistoryDom from \"./history\";  //中下\r\nimport Information from \"./information\"; //右上\r\nimport Linkbtn from \"./linkbtn\";\r\nimport Data from \"./data\"; //右下\r\n\r\nimport ClassStatus from \"./classStatus\";\r\nimport SchoolStatus from \"./schoolStatus\";\r\nimport ClassAttainment from \"./classAttainment\";\r\nimport ClassRank from \"./classRank\";\r\nimport GradeRank from \"./gradeRank\";\r\nimport StuHealth from \"./stuHealth\";\r\n\r\nimport fetch from \"../../util/fetch\";\r\nimport ipConfig from \"../../util/ipConfig\";\r\nlet { BasicProxy } = ipConfig;\r\n\r\nfunction PersonalDetail(props, ref) {\r\n  let {\r\n    className,\r\n    history,\r\n    location,\r\n    basePlatFormMsg,\r\n    teachermsg,\r\n    teacherid,\r\n    token,\r\n    roleMsg: { identityCode, userType },\r\n    userInfo: { UserID, UserType, SchoolID, Gender, UserName, Sign },\r\n    ...reset\r\n  } = props;\r\n  console.log(\"首页\", props)\r\n  let storageUserInfo = sessionStorage.getItem(\"UserInfo\")? JSON.parse(sessionStorage.getItem(\"UserInfo\")): {};\r\n  if(!UserID){\r\n    UserID = storageUserInfo.UserID;\r\n  }\r\n  if(!SchoolID){\r\n    SchoolID = storageUserInfo.SchoolID;\r\n  }\r\n  //根据identityCode判断当前身份\r\n  let userIdentity = \"student\";\r\n  if(identityCode == \"IC0010\"){\r\n    userIdentity = \"manager\";\r\n  }\r\n  if(identityCode == \"IC0013\" || identityCode == \"IC0011\" || identityCode == \"IC0012\"){\r\n    userIdentity = \"teacher\";\r\n  }\r\n  const [rate, setRate] = useState(null);\r\n  // 缩放模式，*ratio:等比，以宽的比例为准，*full:全屏，宽高各自比例\r\n  const [zoomType, setZoomType] = useState(\"full\");\r\n  // 宽高\r\n  const [content, setContent] = useState(null);\r\n  const personalRef = useRef(null);\r\n  // 动画状态修改\r\n  const [animationType, setAnimationType] = useState(true);\r\n  // 设置暂停\r\n  const [paused, setPaused] = useState(false);\r\n  // 设置选中\r\n  const [SelectCard, setSelectCard] = useState(false);\r\n\r\n  // 存系统url\r\n  const [SysUrl, setSysUrl] = useState(null);\r\n  // 档案\r\n  const [archives, setArchives] = useState(null);\r\n  // 账号\r\n  const [accout, setAccout] = useState(null);\r\n  // 信息化\r\n  const [information, setInformation] = useState(null);\r\n  // 教研\r\n  const [teach, setTeach] = useState(null);\r\n  // 教学资料\r\n  const [data, setData] = useState(null);\r\n  const [TeachPlan, setTeachPlan] = useState(null); //教学方案\r\n  const [Percentage, setPercentage] = useState(null); //精品课程\r\n  const [ResView, setResView] = useState(null); //电子资源\r\n  const [SubjectList, setSubjectList] = useState(null); //学科列表\r\n  // 工作量\r\n  const [work, setWork] = useState(null);\r\n  const [WorkTerm, setWorkTerm] = useState(null);\r\n  const [WorkTermList, setWorkTermList] = useState(null);\r\n  // 档案\r\n  const [History, setHistory] = useState(null);\r\n\r\n  // 存周次列表\r\n  const [WeekList, setWeekList] = useState(null);\r\n  const [WeekData, setWeekData] = useState(null);\r\n  // 存教学资料的参数\r\n  const [DataParams, setDataParams] = useState({});\r\n\r\n  //存储当前学期\r\n  const [currentTerm, setCurrentTerm] = useState({});\r\n  //存储班级列表和当前班级\r\n  const [classList, setClassList] = useState([]);\r\n  const [currentClass, setCurrentClass] = useState({});\r\n\r\n  //存储轨迹数据\r\n  const [awardPunishTrack, setAwardPunishTrack] = useState([]);\r\n  const [attendanceTrack, setAttendanceTrack] = useState([]);\r\n  // 存卡\r\n  let cardList = [\r\n    \"accout\",\r\n    \"information\",\r\n    \"teach\",\r\n    \"data\",\r\n    \"work\",\r\n    \"archives\",\r\n    \"history\",\r\n  ];\r\n  if(userIdentity == \"teacher\"){\r\n    cardList = [\r\n      \"classStatus\",\r\n      \"stuHealth\",\r\n      \"gradeRank\",\r\n      \"data\",\r\n      \"work\",\r\n      \"archives\",\r\n      \"history\",\r\n    ];\r\n  }\r\n  if(userIdentity == \"manager\"){\r\n    cardList = [\r\n      \"schoolStatus\",\r\n      \"stuHealth\",\r\n      \"gradeRank\",\r\n      \"data\",\r\n      \"work\",\r\n      \"archives\",\r\n      \"history\",\r\n    ];\r\n  }\r\n  \r\n \r\n  // 保存浏览器版本，如果是ie不要动画\r\n  const isIE = useMemo(() => {\r\n    let {\r\n      client: { isIE, isWebkit, ieVersion },\r\n    } = Browser;\r\n    let {\r\n      versions: { trident },\r\n    } = BrowserMsg;\r\n    // console.log(isIE, ieVersion(), isWebkit);\r\n    return isIE || trident;\r\n  }, []);\r\n  // 获取各平台地址\r\n  useEffect(() => {\r\n    let sysIDs = [\r\n      310, //教学方案\r\n      // 300, //教学方案\r\n      \"D21\", //精品课程\r\n      \"E34\", //档案\r\n      \"C10\", //电子资源\r\n      // 'D21', //课程精品\r\n    ];\r\n    // console.log(basePlatFormMsg)\r\n    if (!SysUrl && basePlatFormMsg.BasicWebRootUrl) {\r\n      GetSubSystemsMainServerBySubjectID({\r\n        sysIDs,\r\n        baseIP: basePlatFormMsg.BasicWebRootUrl,\r\n      }).then((res) => {\r\n        // console.log(res);\r\n        if (res.StatusCode === 200) {\r\n          setSysUrl(res.data);\r\n        }\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [basePlatFormMsg]);\r\n\r\n  // 获取当前学期接口\r\n  useEffect(() => {\r\n    let url = BasicProxy + \"/api/base/getCurrentTermInfo?schoolId=\" + SchoolID;\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && result.data){\r\n        console.log(\"接口\", result.data);\r\n        setCurrentTerm(result.data);\r\n      }\r\n    })\r\n  }, []) \r\n  //如果当前身份是老师，则显示切换班级按钮，获取班级列表\r\n  useLayoutEffect(()=>{\r\n    if(userIdentity == \"teacher\"){\r\n      let url = BasicProxy + \"/api/base/getClassByMasterId?teacherId=\" + UserID;\r\n      fetch\r\n      .get({url, securityLevel: 2})\r\n      .then((res)=>res.json())\r\n      .then((result)=>{\r\n        if(result.status == 200 && result.data){\r\n          setClassList(result.data);\r\n          setCurrentClass(result.data[0]);\r\n        }\r\n      })\r\n    } else {\r\n      let classInfo = {\r\n        classId: JSON.parse(sessionStorage.getItem(\"UserInfo\")).GroupID,\r\n        gradeId: JSON.parse(sessionStorage.getItem(\"UserInfo\")).GradeID\r\n      };\r\n      setCurrentClass(classInfo);\r\n    }\r\n  }, [UserID, userIdentity]);\r\n  // 不需要系统url的接口\r\n  useEffect(() => {\r\n    let userID = teacherid;\r\n    if (basePlatFormMsg) {\r\n      if (teachermsg) {\r\n        setDataParams({\r\n          ...DataParams,\r\n          schoolID: teachermsg.SchoolID || \"S-666\",\r\n          subjectIDs: teachermsg.SubjectIDs,\r\n          subjectNames: teachermsg.SubjectNames,\r\n          baseIP: basePlatFormMsg.BasicWebRootUrl,\r\n        });\r\n        if (typeof teachermsg.SubjectNames === \"string\") {\r\n          let SubjectList = [];\r\n          let SubjectIDList =\r\n            typeof teachermsg.SubjectIDs === \"string\"\r\n              ? teachermsg.SubjectIDs.split(\",\")\r\n              : [];\r\n          teachermsg.SubjectNames.split(\",\").forEach((child, index) => {\r\n            SubjectList.push({\r\n              key: SubjectIDList[index] || index,\r\n              value: child,\r\n            });\r\n          });\r\n          setSubjectList(SubjectList);\r\n        }\r\n\r\n        // setSubjectList([\r\n        //   // { key: \"same\", value: \"同学科\" },\r\n        //   { key: \"1\", value: \"英语\" },\r\n        //   { key: \"2\", value: \"语文\" },\r\n        //   { key: \"3\", value: \"数学\" },\r\n        // ]);\r\n        //获取学期周次\r\n        GetTermAndPeriodAndWeekNOInfo({\r\n          userID,\r\n          baseIP: basePlatFormMsg.BasicWebRootUrl,\r\n          schoolID: teachermsg.SchoolID || \"S-666\",\r\n        }).then((res) => {\r\n          if (res.StatusCode === 200) {\r\n            setWeekList(res.Data.WeekList);\r\n            setWeekData(res.Data.NowWeekSelect);\r\n          } else {\r\n            setWeekData(false);\r\n          }\r\n        });\r\n\r\n        setArchives(teachermsg);\r\n        setAccout(teachermsg);\r\n        // 教研统计\r\n        GetResearchByUserID({ userID }).then((res) => {\r\n          if (res.StatusCode === 200) {\r\n            setTeach(res.Data);\r\n          } else {\r\n            setTeach(false);\r\n          }\r\n        });\r\n        // 历史发展\r\n        GetDevelopmentHistory({ userID }).then((res) => {\r\n          if (res.StatusCode === 200) {\r\n            setHistory(res.Data);\r\n          } else {\r\n            setHistory(false);\r\n          }\r\n        });\r\n        // 上机信息\r\n        GetLogInfoByUserID({ userID }).then((res) => {\r\n          if (res.StatusCode === 200) {\r\n            setInformation(res.Data);\r\n          } else {\r\n            setInformation(false);\r\n          }\r\n        });\r\n        // setInformation({\r\n        //   TimeSpan: 48, //累计上机时长\r\n        //   DayAvgTimeSpan: 1.2, //累计上机时长\r\n        //   LoginCount: 485, //上机总次数\r\n        //   AvgLoginTimeSpan: 48, //平均每次上机时长\r\n        //   DayTimeList: [\r\n        //     {\r\n        //       Time: \"06:00~09:00\",\r\n        //       Count: 10,\r\n        //     },\r\n        //     {\r\n        //       Time: \"09:00~12:00\",\r\n        //       Count: 70,\r\n        //     },\r\n        //     {\r\n        //       Time: \"12:00~15:00\",\r\n        //       Count: 20,\r\n        //     },\r\n        //     {\r\n        //       Time: \"15:00~18:00\",\r\n        //       Count: 80,\r\n        //     },\r\n        //     {\r\n        //       Time: \"18:00~21:00\",\r\n        //       Count: 10,\r\n        //     },\r\n        //     {\r\n        //       Time: \"21:00~23:59\",\r\n        //       Count: 50,\r\n        //     },\r\n        //   ], //平均每日上机时间段分布\r\n        //   DayOnlineList: [\r\n        //     //平均每日在线办公/\r\n        //     //教学时长占比\r\n        //     {\r\n        //       NodeName: \"在线办公\",\r\n        //       Time: 20,\r\n        //     },\r\n        //     {\r\n        //       NodeName: \"在线教学\",\r\n        //       Time: 20,\r\n        //     },\r\n        //   ],\r\n        // });\r\n      }\r\n\r\n      // GetUserDetailForHX({userID:}).then((res) => {\r\n      //   if (res.StatusCode === 200) {\r\n      //     setSysUrl(res.data);\r\n      //   }\r\n      // });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [teacherid]);\r\n  // 工作量，依赖学期和sysurl\r\n  useEffect(() => {\r\n    if (!SysUrl || !WorkTerm) {\r\n      return;\r\n    }\r\n    let userID = teacherid;\r\n    let userName = teachermsg.UserName;\r\n\r\n    if (SysUrl[\"E34\"] && SysUrl[\"E34\"].WebSvrAddr && WeekData) {\r\n      GetTeacherWork({\r\n        userName: userID,\r\n        baseIP: DataParams.baseIP,\r\n        proxy: SysUrl[\"E34\"].WebSvrAddr,\r\n        token,\r\n        semester: WorkTerm.value,\r\n      }).then((res) => {\r\n        if (res.StatusCode === 200) {\r\n          setWork(res.Data);\r\n          // changeData({ ResView: res.Data });\r\n        } else {\r\n          setWork(false);\r\n        }\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [SysUrl, WorkTerm]);\r\n  // 教学资料需要依赖周次和sysURl\r\n  useEffect(() => {\r\n    let userID = teacherid;\r\n    if (!SysUrl) {\r\n      return;\r\n    }\r\n    // 电子资源\r\n    if (SysUrl[\"C10\"] && SysUrl[\"C10\"].WebSvrAddr && WeekData) {\r\n      GetTeacherResView({\r\n        userID,\r\n        baseIP: DataParams.baseIP,\r\n        proxy: SysUrl[\"C10\"].WebSvrAddr,\r\n        token,\r\n        schoolID: DataParams.schoolID,\r\n        subjectIDs: DataParams.subjectIDs,\r\n        subjectNames: DataParams.subjectNames,\r\n        startTime: WeekData.startTime,\r\n        endTime: WeekData.endTime,\r\n      }).then((res) => {\r\n        if (res.StatusCode === 200) {\r\n          setResView(res.Data);\r\n          // changeData({ ResView: res.Data });\r\n        }\r\n      });\r\n    }\r\n    // 教学方案\r\n    if (SysUrl[\"310\"] && SysUrl[\"310\"].WebSvrAddr && WeekData) {\r\n      GetTeachPlanStatistics({\r\n        userID,\r\n        baseIP: DataParams.baseIP,\r\n        proxy: SysUrl[\"310\"].WebSvrAddr,\r\n        token,\r\n        // schoolID: DataParams.schoolID,\r\n        // subjectIDs: DataParams.subjectIDs,\r\n        // subjectNames: DataParams.subjectNames,\r\n        startTime: WeekData.startTime,\r\n        endTime: WeekData.endTime,\r\n      }).then((res) => {\r\n        if (res.StatusCode === 200) {\r\n          // console.log(res.Data);\r\n          setTeachPlan(res.Data);\r\n          // changeData({ TeachPlan: res.Data });\r\n        }\r\n      });\r\n    }\r\n    // 精品课程\r\n    if (SysUrl[\"D21\"] && SysUrl[\"D21\"].WsSvrAddr && WeekData) {\r\n      GetTeacherpercentage({\r\n        userID,\r\n        baseIP: DataParams.baseIP,\r\n        proxy: SysUrl[\"D21\"].WsSvrAddr,\r\n        token,\r\n        schoolID: DataParams.schoolID,\r\n        subjectIDs: DataParams.subjectIDs,\r\n        subjectNames: DataParams.subjectNames,\r\n        startTime: WeekData.startTime,\r\n        endTime: WeekData.endTime,\r\n      }).then((res) => {\r\n        if (res.StatusCode === 200) {\r\n          console.log(res.Data);\r\n          setPercentage(res.Data);\r\n          // changeData({ ResView: res.Data });\r\n        }\r\n      });\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [SysUrl, WeekData]);\r\n  // 控制初始进来的时候是什么模式\r\n  useLayoutEffect(() => {\r\n    let page = $(personalRef.current);\r\n    let height = page.height();\r\n    let width = page.width();\r\n    if (height > width) {\r\n      setZoomType(\"ratio\");\r\n    }\r\n    // body去掉overflow\r\n    // $('body').css('overflow-x','hidden')\r\n  }, []);\r\n  useLayoutEffect(() => {\r\n    //获取成长历程\r\n    let url = BasicProxy + \"/api/punishAndReward/route?id=\" + (\r\n      userIdentity == \"student\"?\r\n      UserID:\r\n      userIdentity == \"teacher\"?\r\n      currentClass.classId:\r\n      userIdentity == \"manager\"?\r\n      SchoolID:\r\n      UserID\r\n    ) +\r\n    \"&queryType=\" + (\r\n      userIdentity == \"student\"?\r\n      1:\r\n      userIdentity == \"teacher\"?\r\n      2:\r\n      userIdentity == \"manager\"?\r\n      4:\r\n      1\r\n    ) +\r\n    \"&startTime=\" + (currentTerm.termStartDate? \r\n    new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n    \"&endTime=\" + (currentTerm.termEndDate?\r\n    new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\") +\r\n    \"&eventType=0\";\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && Array.isArray(result.data)){\r\n        setAwardPunishTrack(result.data);\r\n      }\r\n    })\r\n    //获取考勤轨迹数据\r\n    url = BasicProxy + \"/api/attendance/attendance/path?type=\" + (\r\n      userIdentity == \"student\"?\r\n      1:\r\n      userIdentity == \"teacher\"?\r\n      2:\r\n      userIdentity == \"manager\"?\r\n      4:\r\n      1\r\n    ) +\r\n    \"&studentId=\" + (\r\n      userIdentity == \"student\"?\r\n      UserID:\r\n      \"\") +\r\n    \"&classId=\" + currentClass.classId +\r\n    \"&gradeId=\" + currentClass.gradeId +\r\n    \"&schoolId=\" + SchoolID +\r\n    \"&start=\" + (currentTerm.termStartDate? \r\n    new Date(currentTerm.termStartDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-01-01\") + \r\n    \"&end=\" + (currentTerm.termEndDate?\r\n    new Date(currentTerm.termEndDate).toLocaleDateString().replaceAll(\"/\", \"-\"): \"2021-03-01\");\r\n    fetch\r\n    .get({url, securityLevel: 2})\r\n    .then((res)=>res.json())\r\n    .then((result)=>{\r\n      if(result.status == 200 && Array.isArray(result.data)){\r\n        setAttendanceTrack(result.data);\r\n      }\r\n    })\r\n  }, [currentTerm, userIdentity, currentClass, SchoolID, UserID])\r\n  useLayoutEffect(() => {\r\n    let page = $(personalRef.current);\r\n    let InitWidth = 1920;\r\n    let InitHeight = 1080;\r\n\r\n    const resize = () => {\r\n      let height = page.height();\r\n      let width = page.width();\r\n\r\n      setContent([width, height]);\r\n      // console.log(width, height)\r\n      setRate([\r\n        width / InitWidth,\r\n        zoomType === \"ratio\" ? width / InitWidth : height / InitHeight,\r\n      ]);\r\n    };\r\n    resize();\r\n    window.addEventListener(\"resize\", debounce(resize, 500), false);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", debounce(resize, 500));\r\n    };\r\n  }, [zoomType]);\r\n  // 获取长度\r\n  const getPX = useCallback(\r\n    (old = [1920, 1080]) => {\r\n      // rate[0] = rate[0] || 1;\r\n      // rate[1] = rate[1] || 1;\r\n      return {\r\n        width: old[0]\r\n          ? old[0] * 1\r\n          : // rate[0]\r\n            \"100%\",\r\n        height: old[1]\r\n          ? old[1] * 1\r\n          : // rate[1]\r\n            \"100%\",\r\n      };\r\n    },\r\n    [rate]\r\n  );\r\n  // useEffect(() => {\r\n  //   console.log(props);\r\n  // }, [location]);\r\n  // 点击card 高亮模块\r\n  const onCardClick = useCallback((id) => {}, []);\r\n  const archivesBtn = useMemo(() => {\r\n    // 先只有超级管理员进\r\n    if (\r\n      userType === 0 &&\r\n       SysUrl && SysUrl[\"E34\"] && SysUrl[\"E34\"].WsSvrAddr) {\r\n      let { UserID, UserName } = archives;\r\n      const onBtnClick = () => {\r\n        let toUrl =\r\n          removeSlashUrl(SysUrl[\"E34\"].WsSvrAddr) +\r\n          `/index_user.html?lg_tk=${token}&tName=${UserName}&tId=${UserID}&lg_ic=${identityCode}#1|4|0`;\r\n        window.open(toUrl);\r\n      };\r\n\r\n      return (\r\n        <Linkbtn type={\"archives\"} onClick={onBtnClick}>\r\n          档案信息管理\r\n        </Linkbtn>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }, [SysUrl, token, identityCode, archives]);\r\n  return (\r\n    <div\r\n      ref={personalRef}\r\n      className={`lg-PersonalDetail ${className ? className : \"\"}`}\r\n    >\r\n      {/* 切换全屏模式功能暂时隐藏 */}\r\n      {/* <div className={`control-rate control-rate-${zoomType}`}>\r\n        <i\r\n          className={`ct-box ct-full ${zoomType === \"full\" ? \"ct-select\" : \"\"}`}\r\n          onClick={() => {\r\n            setZoomType(\"full\");\r\n          }}\r\n        ></i>\r\n        <i\r\n          className={`ct-box ct-ratio ${\r\n            zoomType === \"ratio\" ? \"ct-select\" : \"\"\r\n          }`}\r\n          onClick={() => {\r\n            setZoomType(\"ratio\");\r\n          }}\r\n        ></i>\r\n      </div> */}\r\n      {rate ? (\r\n        <div\r\n          className=\"pd-content\"\r\n          style={\r\n            rate\r\n              ? {\r\n                  ...getPX([1920, 1080]),\r\n                  transform: `scale(${rate[0]},${rate[1]})`,\r\n                  left: (-(1 - rate[0]) / 2) * 1920 + \"px\",\r\n                  top: (-(1 - rate[1]) / 2) * 1080 + \"px\",\r\n                  position: \"absolute\",\r\n                }\r\n              : {}\r\n          }\r\n        >\r\n          <div className=\"pd-top\" style={{ ...getPX([1920, 85]) }}>\r\n            <div className=\"pd-top-bg\" style={{ ...getPX([1920, 343]) }}></div>\r\n          </div>\r\n          <div className=\"pd-center\" style={{ ...getPX([1920, 995]) }}>\r\n            <div\r\n              className=\"pd-center-bg\"\r\n              style={{ ...getPX([1874, 930]) }}\r\n            ></div>\r\n            <div\r\n              className=\"pd-center-content\"\r\n              style={{\r\n                ...getPX([1920, 937]),\r\n                padding: `0 ${getPX([18]).width}px`,\r\n              }}\r\n            >\r\n              <div\r\n                className=\"pd-center-content-left\"\r\n                style={{ ...getPX([480]), margin: `0 ${getPX([18]).width}px` }}\r\n              >\r\n                <Card\r\n                  cardid={userIdentity == 'teacher'? \"classStatus\": userIdentity == 'manager'? \"schoolStatus\": \"archives\"}\r\n                  select={SelectCard}\r\n                  height={userIdentity == 'teacher'? 214: userIdentity == 'student'? 280: 214}\r\n                  btn={archivesBtn}\r\n                  loading={false}\r\n                  data={true}\r\n                  currentTerm={currentTerm}\r\n                  currentClass={currentClass}\r\n                  component={\r\n                    userIdentity == 'teacher'? ClassStatus: \r\n                    userIdentity == 'student'? Archives: \r\n                    SchoolStatus}\r\n                  userIdentity={userIdentity}\r\n                ></Card>\r\n                <Card\r\n                  select={SelectCard}\r\n                  cardid={userIdentity == 'teacher' || userIdentity == 'manager'? \"stuHealth\": \"accout\"}\r\n                  currentTerm={currentTerm}\r\n                  currentClass={currentClass}\r\n                  height={userIdentity == 'teacher' || userIdentity == 'manager'? 247: 217}\r\n                  loading={false}\r\n                  userIdentity={userIdentity}\r\n                  component={\r\n                    userIdentity == 'teacher' || userIdentity == 'manager'? Teach: \r\n                    Accout}\r\n                  data={true}\r\n                ></Card>\r\n                <Card\r\n                  select={SelectCard}\r\n                  cardid={userIdentity == 'teacher' || userIdentity == 'manager'? \"gradeRank\": \"teach\"}\r\n                  currentTerm={currentTerm}\r\n                  currentClass={currentClass}\r\n                  component={\r\n                    userIdentity == 'teacher'? ClassRank:\r\n                    userIdentity == 'manager'? GradeRank:\r\n                    Teach\r\n                  }\r\n                  height={userIdentity == 'teacher' || userIdentity == 'manager'? 369: 335}\r\n                  loading={false}\r\n                  data={true}\r\n                  userIdentity={userIdentity}\r\n                ></Card>\r\n              </div>\r\n              <div\r\n                className=\"pd-center-content-center\"\r\n                style={{ ...getPX([816]), margin: `0 ${getPX([18]).width}px` }}\r\n              >\r\n                <div\r\n                  className=\"pd-center-content-center-top\"\r\n                  style={{\r\n                    ...getPX([\"\", 94]),\r\n                  }}\r\n                >\r\n                  {userIdentity == \"student\" ? (\r\n                    <>\r\n                      <p\r\n                        className=\"pd-teacher-name\"\r\n                        title={UserName}\r\n                      >\r\n                        {UserName ? UserName: \"--\"}\r\n                      </p>\r\n                      {Sign ? (\r\n                        <p className=\"pd-teacher-sign\" title={Sign}>\r\n                          {Sign ? Sign : \"--\"}\r\n                        </p>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </>\r\n                  ) : (\r\n                    userIdentity == \"teacher\"?\r\n                    <span className=\"class-name\">\r\n                      {currentClass.className}\r\n                      {\r\n                        classList.length > 1?\r\n                        <Popover\r\n                      content={\r\n                        <ul className=\"class-list\">\r\n                          <Scrollbars\r\n                          autoHeight\r\n                          autoHeightMax={118}>\r\n                          {\r\n                            classList.map((item, index)=>{\r\n                              return (\r\n                                <li \r\n                                key={index} \r\n                                onClick={()=>setCurrentClass(item)}>\r\n                                {item.className}</li>\r\n                              )\r\n                            })\r\n                          }\r\n                          </Scrollbars>\r\n                         \r\n                        </ul>\r\n                      }\r\n                      trigger=\"click\"\r\n                      placement=\"bottom\">\r\n                      <span className=\"change-class\">切换</span>\r\n                      </Popover>:\r\n                      \"\"\r\n                      }\r\n                      \r\n                      \r\n                    </span>:\r\n                    \"\"\r\n                  )}\r\n                  {/* {teachermsg ? (\r\n                    <>\r\n                      <p\r\n                        className=\"pd-teacher-name\"\r\n                        title={teachermsg.UserName}\r\n                      >\r\n                        {teachermsg.UserName ? teachermsg.UserName : \"--\"}\r\n                      </p>\r\n                      {teachermsg.Sign ? (\r\n                        <p className=\"pd-teacher-sign\" title={teachermsg.Sign}>\r\n                          {teachermsg.Sign ? teachermsg.Sign : \"--\"}\r\n                        </p>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </>\r\n                  ) : (\r\n                    \"\"\r\n                  )} */}\r\n                </div>\r\n                <div\r\n                  className=\"pd-drag-container\"\r\n                  style={{\r\n                    ...getPX([\"\", 483]),\r\n                    // margin: `0 ${getPX([18]).width}px`,\r\n                    backgroundSize: `${getPX([558]).width}px ${\r\n                      getPX([\"\", 468]).height\r\n                    }px`,\r\n                  }}\r\n                  // onMouseDown={(e) => {\r\n                  //   captureMouse((mouse) => {\r\n                  //     console.log(e, mouse);\r\n                  //   });\r\n                  // }}\r\n                  // onMouseUp={(e) => {\r\n                  //   console.log(e);\r\n                  // }}\r\n                >\r\n                  {!isIE && (\r\n                    <div\r\n                      className={`drag-control  `}\r\n                      style={{\r\n                        transform: `rotateX(${-10}deg) rotateY(${100}deg) `,\r\n                        WebkitTransform: `rotateX(${-10}deg) rotateY(${100}deg) `,\r\n                        MozTransform: `rotateX(${-10}deg) rotateY(${100}deg) `,\r\n                        OTransform: `rotateX(${-10}deg) rotateY(${100}deg) `,\r\n                        MsTransform: `rotateX(${-10}deg) rotateY(${100}deg) `,\r\n                      }}\r\n                    >\r\n                      <div\r\n                        className={`card-container \r\n                    `}\r\n                      >\r\n                        {cardList.map((child, index) => {\r\n                          let len = cardList.length;\r\n                          let width = 550;\r\n                          let reg = 360 / len;\r\n                          let rotateY = reg * index;\r\n                          let translateZ =\r\n                            (Math.cos(reg / 2) * width) /\r\n                            (1 + Math.cos(reg / 2));\r\n                          if (animationType && index === len - 1) {\r\n                            setTimeout(() => {\r\n                              setAnimationType(false);\r\n                            }, 100);\r\n                          }\r\n                          // if (animationType) {\r\n                          //   setTimeout(() => {\r\n                          //     isChange = true;\r\n                          //   },0);\r\n                          // }\r\n                          let transform = !animationType\r\n                            ? `rotateY(${rotateY}deg) translateZ(${translateZ}px)`\r\n                            : `rotateY(${0}deg) translateZ(${0}px)`;\r\n                          return (\r\n                            <i\r\n                              key={index}\r\n                              style={{\r\n                                // background: `url(./images/image-${child}.png) no-repeat center center / 100% 100%`,\r\n                                transform: transform,\r\n                                // transition: 'transform 1s ease 0s',\r\n                                WebkitTransform: transform,\r\n                                MozTransform: transform,\r\n                                OTransform: transform,\r\n                                MsTransform: transform,\r\n                              }}\r\n                              className={\"img-\" + child}\r\n                              onClick={onCardClick.bind(this, child)}\r\n                              onMouseEnter={(e) => {\r\n                                setSelectCard(child);\r\n                              }}\r\n                              onMouseLeave={(e) => {\r\n                                setSelectCard(false);\r\n                              }}\r\n                            ></i>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    </div>\r\n                  )}{\" \"}\r\n                  <div className={\r\n                    userIdentity == \"student\"?\r\n                    Gender == 0?\r\n                    \"stu-girl\":\r\n                    \"drag-bg\":\r\n                    \"group-bg\"\r\n                    }></div>\r\n                </div>\r\n                <div\r\n                  className=\"pd-center-content-center-bottom\"\r\n                  style={{\r\n                    ...getPX([816, 346]),\r\n                    margin: `${getPX([\"\", 10]).height}px 0 0`,\r\n                  }}\r\n                >\r\n                  <Card\r\n                    select={SelectCard}\r\n                    cardid={\"history\"}\r\n                    height={315}\r\n                    userIdentity={userIdentity}\r\n                    currentTerm={currentTerm}\r\n                    currentClass={currentClass}\r\n                    component={HistoryDom}\r\n                    loading={false}\r\n                    data={\r\n                      awardPunishTrack.concat(attendanceTrack)\r\n                    }\r\n                  ></Card>\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"pd-center-content-right\"\r\n                style={{ ...getPX([480]), margin: `0 ${getPX([18]).width}px` }}\r\n              >\r\n                <Card\r\n                  select={SelectCard}\r\n                  cardid={\"information\"}\r\n                  height={userIdentity == 'teacher'? 353: userIdentity == 'manager'? 353: 340}\r\n                  component={Information}\r\n                  currentTerm={currentTerm}\r\n                  currentClass={currentClass}\r\n                  loading={false}\r\n                  data={true}\r\n                  userIdentity={userIdentity}\r\n                ></Card>\r\n                <Card\r\n                  select={SelectCard}\r\n                  cardid={\"work\"}\r\n                  height={userIdentity == 'teacher' || userIdentity == 'manager'? 227: 217}\r\n                  component={Work}\r\n                  loading={false}\r\n                  currentTerm={currentTerm}\r\n                  currentClass={currentClass}\r\n                  data={true}\r\n                  userIdentity={userIdentity}\r\n                  componentProps={{\r\n                    onTermSelect: (e) => {\r\n                      setWorkTerm(e);\r\n                    },\r\n                    termSelect: WorkTerm,\r\n                    termList: WorkTermList,\r\n                  }}\r\n                ></Card>\r\n                <Card\r\n                  select={SelectCard}\r\n                  cardid={\"data\"}\r\n                  currentTerm={currentTerm}\r\n                  currentClass={currentClass}\r\n                  height={userIdentity == 'teacher' || userIdentity == 'manager'? 250: 275}\r\n                  component={ClassAttainment}\r\n                  userIdentity={userIdentity}\r\n                  componentProps={{\r\n                    onWeekSelect: (e) => {\r\n                      setWeekData(e);\r\n                    },\r\n                    weekSelect: WeekData,\r\n                    weekList: WeekList,\r\n                    SubjectList: SubjectList,\r\n                    Percentage: Percentage,\r\n                    TeachPlan: TeachPlan,\r\n                    ResView: ResView,\r\n                  }}\r\n                  loading={false}\r\n                  // lock={\r\n                  //   !(SubjectList instanceof Array && SubjectList.length > 0)\r\n                  // }\r\n                  data={true}\r\n                ></Card>\r\n              </div>\r\n            </div>\r\n            <div className=\"pd-provesion\" style={{ ...getPX([1920, 58]) }}>\r\n              {basePlatFormMsg && basePlatFormMsg.ProVersion}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let { commonData } = state;\r\n  return { ...commonData };\r\n};\r\nexport default connect(mapStateToProps)(\r\n  withRouter(memo(forwardRef(PersonalDetail)))\r\n);\r\n","/*\r\n *\r\n *    ┏┓　　　┏┓\r\n *  ┏┛┻━━━┛┻┓\r\n *  ┃　　　　　　　┃\r\n *  ┃　　　━　　　┃\r\n *  ┃　＞　　　＜　┃\r\n *  ┃　　　　　　　┃\r\n *  ┃...　⌒　...　┃\r\n *  ┃　　　　　　　┃\r\n *  ┗━┓　　　┏━┛\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃\r\n *      ┃　　　┃  神兽保佑\r\n *      ┃　　　┃  代码无bug\r\n *      ┃　　　┃\r\n *      ┃　　　┗━━━┓\r\n *      ┃　　　　　　　┣┓\r\n *      ┃　　　　　　　┏┛\r\n *      ┗┓┓┏━┳┓┏┛\r\n *        ┃┫┫　┃┫┫\r\n *        ┗┻┛　┗┻┛\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-09 11:46:56\r\n * @LastEditTime: 2020-12-22 21:37:44\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\api\\personal.js\r\n */\r\nimport fetch from \"../util/fetch\";\r\nimport ipConfig from \"../util/ipConfig\";\r\nimport moment from \"moment\";\r\nimport { deepMap, SetNaNToNumber } from \"../util/public\";\r\nlet { BasicProxy } = ipConfig;\r\n/**\r\n * @description:.各校、学院师资 http://192.168.129.1:8033/showdoc/web/#/21?page_id=2246\r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getSchoolList(payload = {}) {\r\n  let {\r\n    pageIndex,\r\n    pageSize,\r\n    keyword,\r\n    schoolID,\r\n    term,\r\n    // nodeID,\r\n    sortFiled,\r\n    sortType,\r\n  } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/Basic/GetSubsetList?SchoolID=${\r\n      schoolID ? schoolID : \"\"\r\n    }&Term=${term ? term : \"\"}&PageIndex=${\r\n      pageIndex ? pageIndex : 1\r\n    }&PageSize=${pageSize ? pageSize : 10}${keyword ?'&Keyword='+ keyword : \"\"}${\r\n      sortFiled ? \"&SortFiled=\" + sortFiled : \"\"\r\n    }${sortType ? \"&SortType=\" + sortType : \"\"}`;\r\n\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200) {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          data: {\r\n            //     \"Total\":50,\r\n            // \"PageIndex\":1,\r\n            // \"List\":[{\r\n            //     \"UserID\":\"T001\",        //ID，唯一标识\r\n            //     \"UserName\":\"白老师\",    //标题\r\n            //     \"SchoolID\":\"S-11\",\r\n            //     \"SchoolName\":\"白云中学\",\r\n            //     \"Gender\":\"女\",\r\n            //     \"TitleName\":\"一级教师\",            //职称\r\n            //     \"Politics\":\"中共党员\",    //政治面貌\r\n            //     \"TeachAge\":2年,                  //教龄\r\n            //     \"HonorNames\":\"学科带头人,特级教师\"\r\n            // }]\r\n            ...json.Data,\r\n            List:\r\n              json.Data.List  instanceof Array\r\n                ? json.Data.List.map((child, index) => {\r\n                    let Index = (json.Data.PageIndex - 1) * 10 + index + 1;\r\n                    Index = Index >= 10 ? Index : \"0\" + Index;\r\n                    return {\r\n                      ...child,\r\n                      key: index,\r\n                      index: Index,\r\n                    };\r\n                  })\r\n                : [],\r\n            PageSize: pageSize,\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: json.StatusCode,\r\n        };\r\n      }\r\n    });\r\n}\r\n\r\n/**\r\n * @description: \r\n * @param {*}\r\n * @return {*}\r\n */\r\nexport function getSchoolMsg(payload = {}) {\r\n  let {\r\n   \r\n    nodeID,\r\n \r\n  } = payload;\r\n  let url =\r\n    BasicProxy +\r\n    `/Statistics/Basic/GetSubsetDetail?nodeID=${\r\n      nodeID ? nodeID : \"\"\r\n    }`;\r\n\r\n  return fetch\r\n    .get({ url, securityLevel: 2 })\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.StatusCode === 200&&json.Data) {\r\n         \r\n        return {\r\n          StatusCode: json.StatusCode,\r\n          Data:  json.Data\r\n        };\r\n      } else {\r\n        return {\r\n          StatusCode: 400,\r\n        };\r\n      }\r\n    });\r\n}","/*\r\n * ......................................&&.........................\r\n * ....................................&&&..........................\r\n * .................................&&&&............................\r\n * ...............................&&&&..............................\r\n * .............................&&&&&&..............................\r\n * ...........................&&&&&&....&&&..&&&&&&&&&&&&&&&........\r\n * ..................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&..............\r\n * ................&...&&&&&&&&&&&&&&&&&&&&&&&&&&&&.................\r\n * .......................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&.........\r\n * ...................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&...............\r\n * ..................&&&   &&&&&&&&&&&&&&&&&&&&&&&&&&&&&............\r\n * ...............&&&&&@  &&&&&&&&&&..&&&&&&&&&&&&&&&&&&&...........\r\n * ..............&&&&&&&&&&&&&&&.&&....&&&&&&&&&&&&&..&&&&&.........\r\n * ..........&&&&&&&&&&&&&&&&&&...&.....&&&&&&&&&&&&&...&&&&........\r\n * ........&&&&&&&&&&&&&&&&&&&.........&&&&&&&&&&&&&&&....&&&.......\r\n * .......&&&&&&&&.....................&&&&&&&&&&&&&&&&.....&&......\r\n * ........&&&&&.....................&&&&&&&&&&&&&&&&&&.............\r\n * ..........&...................&&&&&&&&&&&&&&&&&&&&&&&............\r\n * ................&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&............\r\n * ..................&&&&&&&&&&&&&&&&&&&&&&&&&&&&..&&&&&............\r\n * ..............&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&....&&&&&............\r\n * ...........&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&......&&&&............\r\n * .........&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&.........&&&&............\r\n * .......&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&...........&&&&............\r\n * ......&&&&&&&&&&&&&&&&&&&...&&&&&&...............&&&.............\r\n * .....&&&&&&&&&&&&&&&&............................&&..............\r\n * ....&&&&&&&&&&&&&&&.................&&...........................\r\n * ...&&&&&&&&&&&&&&&.....................&&&&......................\r\n * ...&&&&&&&&&&.&&&........................&&&&&...................\r\n * ..&&&&&&&&&&&..&&..........................&&&&&&&...............\r\n * ..&&&&&&&&&&&&...&............&&&.....&&&&...&&&&&&&.............\r\n * ..&&&&&&&&&&&&&.................&&&.....&&&&&&&&&&&&&&...........\r\n * ..&&&&&&&&&&&&&&&&..............&&&&&&&&&&&&&&&&&&&&&&&&.........\r\n * ..&&.&&&&&&&&&&&&&&&&&.........&&&&&&&&&&&&&&&&&&&&&&&&&&&.......\r\n * ...&&..&&&&&&&&&&&&.........&&&&&&&&&&&&&&&&...&&&&&&&&&&&&......\r\n * ....&..&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&...........&&&&&&&&.....\r\n * .......&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&..............&&&&&&&....\r\n * .......&&&&&.&&&&&&&&&&&&&&&&&&..&&&&&&&&...&..........&&&&&&....\r\n * ........&&&.....&&&&&&&&&&&&&.....&&&&&&&&&&...........&..&&&&...\r\n * .......&&&........&&&.&&&&&&&&&.....&&&&&.................&&&&...\r\n * .......&&&...............&&&&&&&.......&&&&&&&&............&&&...\r\n * ........&&...................&&&&&&.........................&&&..\r\n * .........&.....................&&&&........................&&....\r\n * ...............................&&&.......................&&......\r\n * ................................&&......................&&.......\r\n * .................................&&..............................\r\n * ..................................&..............................\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-12-22 15:22:09\r\n * @LastEditTime: 2020-12-22 21:57:20\r\n * @Description: 教师画像列表\r\n * @FilePath: \\teacher-development\\src\\pages\\teacherPersonal\\personalList.js\r\n */\r\n\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport {\r\n  Dropdown,\r\n  Search,\r\n  CheckBox,\r\n  CheckBoxGroup,\r\n} from \"../../component/common\";\r\nimport Table from \"../../component/table\";\r\nimport { getSchoolList } from \"../../api/school\";\r\n// import { handleRoute } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { Tooltip } from \"antd\";\r\nimport { handleRoute, correctNumber, transTime } from \"../../util/public\";\r\n\r\n//   import { Reducer, Context, initState } from \"./reducer\";\r\nfunction SchoolList(props, ref) {\r\n  let {\r\n    location,\r\n    history,\r\n    roleMsg: { productLevel, schoolID, collegeID },\r\n    levelHash,\r\n    levelMsg,\r\n    termInfo: { TermInfo, HasHistory },\r\n    contentHW: { height },\r\n  } = props;\r\n  const [SearchValue, setSearchValue] = useState(\"\");\r\n  // 获取当前级别的信息\r\n  // const levelMsg = useMemo(() => {\r\n  //   return levelHash[productLevel]\r\n  //     ? levelHash[productLevel]\r\n  //     : {\r\n  //         productLevel: 1,\r\n  //         selectLevel: 1,\r\n  //         title: \"\",\r\n  //         sub: \"\",\r\n  //         belong: \"\",\r\n  //         belondName: \"\",\r\n  //       };\r\n  // }, [levelHash, productLevel]);\r\n  // 列筛选裂变\r\n  const [Culomns] = useState([\r\n    { value: 0, title: levelMsg.belong + \"基础信息\", canControl: false },\r\n    { value: 1, title: \"教师人数/师生比\", canControl: true },\r\n    { value: 2, title: \"年龄/教龄统计\", canControl: true },\r\n    { value: 3, title: \"学历统计\", canControl: true },\r\n    { value: 4, title: \"职称统计\", canControl: true },\r\n    { value: 5, title: \"课时统计\", canControl: true },\r\n    { value: 6, title: \"行政班数量\", canControl: true },\r\n    { value: 7, title: \"班主任数量\", canControl: true },\r\n    { value: 8, title: \"电子资源上传统计\", canControl: true },\r\n    { value: 9, title: \"电子教案制作统计\", canControl: true },\r\n    { value: 10, title: \"精品课程制作统计\", canControl: true },\r\n    { value: 11, title: \"电子督课平均估值分\", canControl: true },\r\n    { value: 12, title: \"教研课题统计\", canControl: true },\r\n    { value: 13, title: \"教研活动统计\", canControl: true },\r\n    { value: 14, title: \"上机信息统计\", canControl: true },\r\n  ]);\r\n  const [ListFirst, setListFirst] = useState(true);\r\n  const [LoadTool, setLoad] = useState(false);\r\n  // const [ToolClassName] = useState(\"more-content\" + new Date().getTime());\r\n\r\n  // 列选择\r\n  const [CulomnsSelect, setCulomnsSelect] = useState([0, 1, 2, 3]);\r\n\r\n  const [query, setQuery] = useState({\r\n    // keyword: \"\",\r\n    term: \"\",\r\n    // type: \"\",\r\n    keyword: \"\",\r\n    schoolID: productLevel === 1 ? \"\" : schoolID,\r\n    // nodeID: \"\",\r\n    // nodeType: \"\",\r\n  });\r\n  // 设置显示的boolean\r\n  const [visible, setVisible] = useState(false);\r\n  const searchRef = useRef(null);\r\n  const toolTipRef = useRef(null);\r\n  // 学期\r\n  const TermList = useMemo(() => {\r\n    let data = [];\r\n    if (TermInfo instanceof Array) {\r\n      data = TermInfo.map((child) => ({\r\n        value: child.Term,\r\n        title: child.TermName,\r\n      }));\r\n      setQuery({ ...query, term: data[0].value });\r\n      // setFirstSelect(data[0].value);\r\n    }\r\n    return data;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [TermInfo]);\r\n  // // 初始化列表\r\n  // useEffect(() => {\r\n  //   // 非教育局，使用node\r\n  //   if (productLevel !== 1) {\r\n  //     getNode({ collegeID, schoolID }).then((res) => {\r\n  //       setFirstNodeList([\r\n  //         { value: \"\", title: \"全部\" + levelMsg.sub },\r\n  //         ...res.data[0],\r\n  //       ]);\r\n  //       setSecondNodeObj(res.data[1]);\r\n  //     });\r\n  //   }\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, [productLevel]);\r\n  // 获取table组件的ref\r\n  const tableRef = useRef({});\r\n\r\n  const columns = useMemo(() => {\r\n    let haveCollege = productLevel === 2; //大学\r\n    let widthRate = 1; //1040 / 1200\r\n    let EndCulomns = [];\r\n    let culomnsData = [\r\n      {\r\n        title: \"序号\",\r\n        width: 68 * widthRate,\r\n        key: \"index\",\r\n        // colSpan: 2,\r\n        align: \"center\",\r\n        dataIndex: \"index\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-index\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: levelMsg.belong + \"名称\",\r\n        width: 124 * widthRate,\r\n        // sorter: true,\r\n        key: \"SchoolName\",\r\n        align: \"center\",\r\n        // dataIndex: \"SchoolName\",\r\n        render: (data) => {\r\n          let { NodeName, NodeID } = data;\r\n          return (\r\n            <span\r\n              onClick={() => {\r\n                history.push(\"/schoolDetail/\" + NodeID);\r\n              }}\r\n              className=\"table-SchoolName\"\r\n              title={NodeName}\r\n            >\r\n              {NodeName ? NodeName : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: levelMsg.belong + \"学段\",\r\n        width: 124 * widthRate,\r\n        // sorter: true,\r\n        // colSpan:productLevel===1?1:0,//为大学时不渲染\r\n        key: \"Level\",\r\n        align: \"center\",\r\n        dataIndex: \"Level\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-limit\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"教师人数及师生比统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"教师人数\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"TeacherCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            // dataIndex: \"BenkePercent\",\r\n            render: (data) => {\r\n              let { TeacherCount } = data;\r\n              return (\r\n                <span className=\"table-count\" title={TeacherCount}>\r\n                  {TeacherCount ? TeacherCount + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"男性人数\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"MaleCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 82 * widthRate,\r\n            dataIndex: \"MaleCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"女性人数\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"FemaleCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 82 * widthRate,\r\n            dataIndex: \"FemaleCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ].concat(\r\n          !haveCollege //大学是没有的\r\n            ? [\r\n                {\r\n                  title: \"师生比例\",\r\n                  // sorter: true,\r\n                  align: \"center\",\r\n                  key: \"TeaStuRatio\",\r\n                  className: \"two-col-bottom\",\r\n\r\n                  width: 98 * widthRate,\r\n                  dataIndex: \"TeaStuRatio\",\r\n                  render: (data) => {\r\n                    return (\r\n                      <span className=\"table-count\" title={data}>\r\n                        {data ? data : \"--\"}\r\n                      </span>\r\n                    );\r\n                  },\r\n                },\r\n              ]\r\n            : []\r\n        ),\r\n      },\r\n      {\r\n        title: \"年龄/教龄统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"平均年龄\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"AgeAvg\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            dataIndex: \"AgeAvg\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data + \"岁\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"平均教龄\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"TeachAgeAvg\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            dataIndex: \"TeachAgeAvg\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data + \"年\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"学历统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"本科率\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"BenkePercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            dataIndex: \"BenkePercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"博士研究生及以上\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"edu0\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 146 * widthRate,\r\n            dataIndex: \"EduUserCount\",\r\n            render: (data) => {\r\n              let Data = data[0] || {\r\n                NodeID: \"edu0\",\r\n                NodeName: \"博士研究生及以上\",\r\n                Total: 0,\r\n              };\r\n              return (\r\n                <span className=\"table-count\" title={Data.Total}>\r\n                  {Data.Total === 0 || Data.Total ? Data.Total + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"硕士研究生\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"edu1\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            dataIndex: \"EduUserCount\",\r\n            render: (data) => {\r\n              let Data = data[1] || {\r\n                NodeID: \"edu1\",\r\n                NodeName: \"硕士研究生\",\r\n                Total: 0,\r\n              };\r\n              return (\r\n                <span className=\"table-count\" title={Data.Total}>\r\n                  {Data.Total === 0 || Data.Total ? Data.Total + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"本科\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"edu2\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            dataIndex: \"EduUserCount\",\r\n            render: (data) => {\r\n              let Data = data[1] || {\r\n                NodeID: \"edu2\",\r\n                NodeName: \"本科\",\r\n                Total: 0,\r\n              };\r\n              return (\r\n                <span className=\"table-count\" title={Data.Total}>\r\n                  {Data.Total === 0 || Data.Total ? Data.Total + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"职称统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"中级职称人数比例\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"MiddleTitlePercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 160 * widthRate,\r\n            dataIndex: \"MiddleTitlePercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: haveCollege ? \"教授\" : \"正高级教师\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"title0\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: (haveCollege ? 82 : 98) * widthRate,\r\n            dataIndex: \"TitleUserCount\",\r\n            render: (data) => {\r\n              let Data = data[0] || {\r\n                NodeID: \"title0\",\r\n                NodeName: \"教授\",\r\n                Total: 0,\r\n              };\r\n              return (\r\n                <span className=\"table-count\" title={Data.Total}>\r\n                  {Data.Total === 0 || Data.Total ? Data.Total + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: haveCollege ? \"副教授\" : \"高级教师\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"title1\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 82 * widthRate,\r\n            dataIndex: \"TitleUserCount\",\r\n            render: (data) => {\r\n              let Data = data[0] || {\r\n                NodeID: \"title1\",\r\n                NodeName: \"副教授\",\r\n                Total: 0,\r\n              };\r\n              return (\r\n                <span className=\"table-count\" title={Data.Total}>\r\n                  {Data.Total === 0 || Data.Total ? Data.Total + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: haveCollege ? \"讲师\" : \"一级教师\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"title2\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            dataIndex: \"TitleUserCount\",\r\n            render: (data) => {\r\n              let Data = data[0] || {\r\n                NodeID: \"title2\",\r\n                NodeName: \"讲师\",\r\n                Total: 0,\r\n              };\r\n              return (\r\n                <span className=\"table-count\" title={Data.Total}>\r\n                  {Data.Total === 0 || Data.Total ? Data.Total + \"人\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"课时统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"人均周课时\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"WeekAvgCH\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"WeekAvgCH\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"人均学期总课时\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"TermAvgCH\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 146 * widthRate,\r\n            dataIndex: \"TermAvgCH\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"行政班数量\",\r\n        // className: \"two-col\",\r\n        // sorter: true,\r\n        align: \"center\",\r\n        key: \"ClassCount\",\r\n        className: \"two-col-center-border\",\r\n\r\n        width: 130 * widthRate,\r\n        dataIndex: \"ClassCount\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-count\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"班主任数量\",\r\n        // className: \"two-col\",\r\n        // sorter: true,\r\n        align: \"center\",\r\n        key: \"GangerCount\",\r\n        className: \"two-col-center-border\",\r\n\r\n        width: 130 * widthRate,\r\n        dataIndex: \"GangerCount\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-count\" title={data}>\r\n              {data ? data : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"电子资源上传统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"总上传数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"ER_ResourceCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"ER_ResourceCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"人均上传数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"ER_AvgUploadResourceCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"ER_AvgUploadResourceCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? correctNumber(data) : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"电子资源上传参与率\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"ER_UploadedPercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 160 * widthRate,\r\n            dataIndex: \"ER_UploadedPercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? correctNumber(data) * 100 + \"%\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"电子教案制作统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"总制作量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"TP_TPCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 98 * widthRate,\r\n            dataIndex: \"TP_TPCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"人均制作数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"TP_AvgUploadTPCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"TP_AvgUploadTPCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"电子教案制作参与率\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"TP_UploadedPercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 160 * widthRate,\r\n            dataIndex: \"TP_UploadedPercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? correctNumber(data) * 100 + \"%\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"精品课程制作统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"精品课程数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"EXC_ECCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"EXC_ECCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"人均拥有数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"EXC_AvgCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"EXC_AvgCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? correctNumber(data) : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"拥有精品课程人数比例\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"EXC_HasECPercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 178 * widthRate,\r\n            dataIndex: \"EXC_HasECPercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? correctNumber(data) * 100 + \"%\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"电子督课平均估值分\",\r\n        // className: \"two-col\",\r\n        // sorter: true,\r\n        align: \"center\",\r\n        key: \"EVC_AvgScore\",\r\n        className: \"two-col-center-border\",\r\n\r\n        width: 178 * widthRate,\r\n        dataIndex: \"EVC_AvgScore\",\r\n        render: (data) => {\r\n          return (\r\n            <span className=\"table-count\" title={data}>\r\n              {data ? correctNumber(data) : \"--\"}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: \"教研课题统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"教研课题数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"RP_ProjectCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 130 * widthRate,\r\n            dataIndex: \"RP_ProjectCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"人均参与次数\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"RP_AvgJoinCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"RP_AvgJoinCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? correctNumber(data) : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"成果数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"RP_CompletedCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 82 * widthRate,\r\n            dataIndex: \"RP_CompletedCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"教研课题参与率\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"RP_HasJoinPercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 146 * widthRate,\r\n            dataIndex: \"RP_HasJoinPercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data === 0 || data ? correctNumber(data) * 100 + \"%\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"教研活动统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"教研活动数量\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"RA_ActivityCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 130 * widthRate,\r\n            dataIndex: \"RA_ActivityCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"人均参与次数\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"RA_AvgJoinCount\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 112 * widthRate,\r\n            dataIndex: \"RA_AvgJoinCount\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? data : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            title: \"教研活动参与率\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"RA_HasJoinPercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 146 * widthRate,\r\n            dataIndex: \"RA_HasJoinPercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data === 0 || data ? correctNumber(data) * 100 + \"%\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: \"上机信息统计\",\r\n        className: \"two-col\",\r\n        children: [\r\n          {\r\n            title: \"每人每日平均上机时长\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"LI_DayAvgTimeSpan\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 178 * widthRate,\r\n            dataIndex: \"LI_DayAvgTimeSpan\",\r\n            render: (data) => {\r\n              // data = 120\r\n              let time = Number(data)\r\n              let title = \"\";\r\n              if ( time < 1) {\r\n                title = \"小于一分钟\";\r\n              } else if ( time < 60) {\r\n                title =  time + \"分钟\";\r\n              } else if ( time >= 60) {\r\n                let minute = ( time % 60) ;\r\n                title =\r\n                  ( time / 60).toFixed() +\r\n                  \"小时\" +\r\n                  (minute > 0 ? minute.toFixed() + \"分钟\" : \"\");\r\n              }\r\n              return (\r\n                <span className=\"table-count\" title={title}>\r\n                  {title ? title : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n\r\n          {\r\n            title: \"均每日上机百分比\",\r\n            // sorter: true,\r\n            align: \"center\",\r\n            key: \"LI_DayAvgOnlinePercent\",\r\n            className: \"two-col-bottom\",\r\n\r\n            width: 146 * widthRate,\r\n            dataIndex: \"LI_DayAvgOnlinePercent\",\r\n            render: (data) => {\r\n              return (\r\n                <span className=\"table-count\" title={data}>\r\n                  {data ? correctNumber(data) * 100 + \"%\" : \"--\"}\r\n                </span>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: (\r\n          <TableTip\r\n            CulomnsSelect={CulomnsSelect}\r\n            onCheckChange={(e) => {\r\n              setCulomnsSelect(\r\n                e.sort((a, b) => {\r\n                  return a > b;\r\n                })\r\n              );\r\n            }}\r\n            // ToolClassName={ToolClassName}\r\n            Culomns={Culomns}\r\n          ></TableTip>\r\n        ),\r\n        align: \"center\",\r\n        width: 60 * widthRate,\r\n        fixed: \"right\",\r\n        className: \"two-col-center-border\",\r\n\r\n        // dataIndex: \"time\",\r\n        render: (data) => {\r\n          return <span className=\"table-columns\"></span>;\r\n        },\r\n      },\r\n    ];\r\n    EndCulomns = EndCulomns.concat(\r\n      culomnsData.slice(0, productLevel === 1 ? 3 : 2)\r\n    ); //大学不要学段\r\n    // CulomnsSelect.forEach((child, index) => {\r\n    //   // 因为前面三个必选，同时不能用children，所以每个加2\r\n    //   if (child !== 0 && culomnsData[child + 2]) {\r\n    //     EndCulomns.push(culomnsData[child + 2]);\r\n    //   }\r\n    // });\r\n    culomnsData.forEach((child, index) => {\r\n      // 前三和最后的都不可控\r\n      if (index >= 3 && index !== culomnsData.length - 1) {\r\n        // value 是从0开始的，0是学校基础信息，不能取消，所以要为1以后，\r\n        // index要3（包括3，index是0开始的）以后才是可选的\r\n        if (\r\n          CulomnsSelect.some((a) => {\r\n            return a + 2 === index;\r\n          })\r\n        ) {\r\n          EndCulomns.push(child);\r\n        } else {\r\n          //隐藏，改宽度\r\n          child.title = \"\";\r\n          child.width = 0;\r\n          child.sorter = false;\r\n          if (child.children) {\r\n            child.children = child.children.map((c, i) => {\r\n              c.title = \"\";\r\n              c.width = 0;\r\n              c.sorter = false;\r\n              c.render = () => {\r\n                return \"\";\r\n              };\r\n              return c;\r\n            });\r\n          } else {\r\n            child.render = () => {\r\n              return \"\";\r\n            };\r\n          }\r\n          EndCulomns.push(child);\r\n        }\r\n      }\r\n    });\r\n    EndCulomns.push(culomnsData[culomnsData.length - 1]); //控制列\r\n    return EndCulomns;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [levelMsg, CulomnsSelect, visible]);\r\n\r\n  // 监听列表，进来就更新，除了第一次\r\n  useEffect(() => {\r\n    if (!ListFirst) {\r\n      let Path = handleRoute(location.pathname);\r\n\r\n      if (Path[0] === \"schoolResource\") {\r\n        tableRef.current.reloadList();\r\n      }\r\n    }\r\n\r\n    ListFirst && setListFirst(false);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location.pathname]);\r\n  //   useLayoutEffect(() => {\r\n  //     // let dom = searchRef.current;\r\n  //     // 点击iframe\r\n  //     // 对点击不同节点来控制显示隐藏\r\n  //     const fn = (node) => {\r\n  //       let isOut = false;\r\n  //       let dom = searchRef.current;\r\n  //       let tool = toolTipRef.current;\r\n  //       if (!dom.contains(node.target)&&(!tool||!tool.popupRef.current||tool.popupRef.current.getElement().contains(node.target))) {\r\n  //         //判断是否包含点击的节点\r\n  //         isOut = true;\r\n  //       } else {\r\n  //         isOut = false;\r\n  //       }\r\n  // console.log(!tool||!tool.popupRef.current||tool.popupRef.current.getElement() ,node.target)\r\n  //       //点击的位置不在搜索框和搜索内容显示区\r\n  //       setVisible(!isOut);\r\n  //     };\r\n  //     document.addEventListener(\"click\", fn);\r\n  //     return () => {\r\n  //       document.removeEventListener(\"click\", fn);\r\n  //     };\r\n  //   }, [searchRef, LoadTool]);\r\n  return (\r\n    <div className=\"SchoolList\" style={{ height: height }}>\r\n      <div className=\"pl-top\">\r\n        <div className=\"plt-select\">\r\n          {TermList.length > 0 && (\r\n            <Dropdown\r\n              width={150}\r\n              height={240}\r\n              dropList={TermList}\r\n              title={\"所统计学期\"}\r\n              value={query.term}\r\n              className=\"school-dropdown\"\r\n              onChange={(e) => {}}\r\n              onSelect={(e, option) => {\r\n                setQuery({ ...query, term: e });\r\n              }}\r\n            ></Dropdown>\r\n          )}\r\n          {productLevel === 1 && (\r\n            <Dropdown\r\n              width={150}\r\n              height={240}\r\n              dropList={TermList}\r\n              title={\"学段类型\"}\r\n              value={query.term}\r\n              className=\"school-dropdown\"\r\n              onChange={(e) => {}}\r\n              onSelect={(e, option) => {\r\n                setQuery({ ...query, term: e });\r\n              }}\r\n            ></Dropdown>\r\n          )}\r\n        </div>\r\n        <div className=\"plt-search\">\r\n          <Search\r\n            className=\"home-search\"\r\n            Value={SearchValue}\r\n            placeHolder={\"输入\" + levelMsg.belong + \"名称搜索\"}\r\n            onChange={(e) => {\r\n              setSearchValue(e.target.value);\r\n            }}\r\n            onClickSearch={(e) => {\r\n              setQuery({ ...query, keyword: SearchValue });\r\n            }}\r\n            onCancelSearch={(e) => {\r\n              setSearchValue(\"\");\r\n              setQuery({ ...query, keyword: \"\" });\r\n            }}\r\n          ></Search>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"pl-table\">\r\n        <Scrollbars>\r\n          <Table\r\n            // onHeaderRow={(c, i) => {\r\n            //   console.log(c, i);\r\n            // }}\r\n            scroll={{ x: \"max-content\" }}\r\n            className=\"Reacruit-table\"\r\n            columns={columns}\r\n            // dataSource={data}\r\n            // prepare={!!query.selectLevel}\r\n            query={query}\r\n            onDataChange={(data) => {}}\r\n            ref={tableRef}\r\n            api={getSchoolList}\r\n          ></Table>\r\n        </Scrollbars>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nfunction TableTip(props, ref) {\r\n  let { CulomnsSelect, onCheckChange, Culomns } = props;\r\n  // 设置显示的boolean\r\n  const [visible, setVisible] = useState(false);\r\n  // const [ToolClassName] = useState('more-content'+new Date().getTime())\r\n  const searchRef = useRef(null);\r\n  const toolTipRef = useRef(null);\r\n  useLayoutEffect(() => {\r\n    // let dom = searchRef.current;\r\n    // 点击iframe\r\n    // 对点击不同节点来控制显示隐藏\r\n    const fn = (node) => {\r\n      let isOut = false;\r\n      let dom = searchRef.current;\r\n      let tool = toolTipRef.current;\r\n      // console.log(document.getElementById(ToolClassName));\r\n      if (\r\n        !dom.contains(node.target) &&\r\n        (!tool || !tool.contains(node.target))\r\n      ) {\r\n        //判断是否包含点击的节点\r\n        isOut = true;\r\n      } else {\r\n        isOut = false;\r\n      }\r\n      // console.log(searchRef, toolTipRef);\r\n      //点击的位置不在搜索框和搜索内容显示区\r\n      setVisible(!isOut);\r\n    };\r\n    document.addEventListener(\"click\", fn);\r\n    return () => {\r\n      document.removeEventListener(\"click\", fn);\r\n    };\r\n  }, []);\r\n  // console.log(ToolClassName);\r\n  return (\r\n    <div className=\"open-columns\">\r\n      <Tooltip\r\n        overlayClassName={`lg-table-more-tooltip`}\r\n        // getPopupContainer={(e) => e}\r\n        // placement={\"bottomRight\"}\r\n        destroyTooltipOnHide={false}\r\n        color={\"#fff\"}\r\n        align={{\r\n          points: [\"tr\", \"br\"], // align top left point of sourceNode with top right point of targetNode\r\n          offset: [20, 10], // the offset sourceNode by 10px in x and 20px in y,\r\n          // targetOffset: [\"30%\", \"40%\"], // the offset targetNode by 30% of targetNode width in x and 40% of targetNode height in y,\r\n          overflow: { adjustX: true, adjustY: true }, // auto adjust position when sourceNode is overflowed\r\n        }}\r\n        // trigger={[\"click\"]}\r\n        visible={visible}\r\n        title={\r\n          <div ref={toolTipRef} className={`more-content `}>\r\n            <p className=\"more-title\">列筛选</p>\r\n            <CheckBoxGroup\r\n              value={CulomnsSelect}\r\n              onChange={(e) => {\r\n                onCheckChange(e);\r\n                // setCulomnsSelect(\r\n                //   e.sort((a, b) => {\r\n                //     return a > b;\r\n                //   })\r\n                // );\r\n              }}\r\n            >\r\n              <div className=\"more-map\">\r\n                <Scrollbars>\r\n                  {Culomns.map((child, index) => {\r\n                    return (\r\n                      <div key={index} className=\"c-select-bar\">\r\n                        <CheckBox\r\n                          value={child.value}\r\n                          disabled={\r\n                            child.canControl === undefined || !child.canControl\r\n                          }\r\n                        >\r\n                          {child.title}\r\n                        </CheckBox>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </Scrollbars>\r\n              </div>{\" \"}\r\n            </CheckBoxGroup>\r\n          </div>\r\n        }\r\n      >\r\n        <i\r\n          onClick={() => {\r\n            setVisible(true);\r\n          }}\r\n          ref={searchRef}\r\n        ></i>\r\n      </Tooltip>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: { roleMsg, levelHash, contentHW, termInfo },\r\n  } = state;\r\n  return { roleMsg, levelHash, contentHW, termInfo };\r\n};\r\nexport default connect(mapStateToProps)(\r\n  withRouter(memo(forwardRef(SchoolList)))\r\n);\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  memo,\r\n  useMemo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { getDataStorage } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Analysis from \"../teachersStatisticAnalysis\";\r\n//   import { Reducer, Context, initState } from \"./reducer\";\r\nfunction SchoolDetail(props, ref) {\r\n  let {\r\n    id,\r\n    BasicWebRootUrl,\r\n    roleMsg: { identityCode, schoolID },\r\n    levelMsg,\r\n    contentHW: { width },\r\n    schoolMsg,\r\n  } = props;\r\n  const [SelectTab, setSelectTab] = useState({\r\n    tabid: \"teacherBaseMsg\",\r\n    tabname: \"教师基本信息\",\r\n  });\r\n  const roleData = useMemo(() => {\r\n    if(!id||!levelMsg){\r\n      return {}\r\n    }\r\n    let { nextProductLevel, nextSelectLevel, nextTitle } = levelMsg;\r\n    let data = { selectLevel: nextSelectLevel, productLevel: nextProductLevel };\r\n    if (nextProductLevel === 3) {\r\n      //中小学\r\n      data.schoolID = id;\r\n      data.collegeID = \"\";\r\n    } else if (nextProductLevel === 4) {\r\n      data.schoolID = schoolID;\r\n      data.collegeID = id;\r\n    } else {\r\n      //错误\r\n      data.productLevel = false;\r\n    }\r\n    return data;\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [levelMsg,id]);\r\n  return (\r\n    <div className=\"SchoolDetail\">\r\n      {roleData&&roleData.productLevel ? (\r\n        <Analysis\r\n          type={\"school\"}\r\n          roleData={roleData}\r\n          schoolMsg={schoolMsg}\r\n          tabid={SelectTab.tabid}\r\n        ></Analysis>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {/* <iframe\r\n      title={'教师画像详情'}\r\n      style={{width:width}}\r\n      className='SchoolDetail-frame'\r\n        src={\r\n          BasicWebRootUrl +\r\n          \"/html/userPersona/index.html?headerType=develop&userType=1&userID=\" +\r\n          id+'&lg_tk='+getDataStorage('token')+'&lg_ic='+identityCode\r\n        }\r\n      ></iframe> */}\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    commonData: {\r\n      roleMsg,\r\n      basePlatFormMsg: { BasicWebRootUrl },\r\n      contentHW,\r\n    },\r\n  } = state;\r\n  return { roleMsg, BasicWebRootUrl, contentHW };\r\n};\r\nexport default connect(mapStateToProps)(\r\n  withRouter(memo(forwardRef(SchoolDetail)))\r\n);\r\n","import {\r\n  connect,\r\n  // useSelector,\r\n  //   useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  // useCallback,\r\n  useMemo,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useReducer,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n} from \"react\";\r\nimport \"./index.scss\";\r\nimport { handleRoute } from \"../../util/public\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport SchoolList from \"./schoolList\";\r\nimport SchoolDetail from \"./schoolDetail\";\r\nimport { Loading } from \"@/component/common\";\r\nimport { getSchoolMsg } from \"@/api/school\";\r\n\r\n//   import { Reducer, Context, initState } from \"./reducer\";\r\nfunction School(props, ref) {\r\n  let {\r\n    location,\r\n    activeTab,\r\n    levelHash,\r\n    removeTab,\r\n    roleMsg: { productLevel, schoolID, collegeID },\r\n    tabid,\r\n    contentHW: { height },\r\n    schoolMsg,\r\n    param, //param控制显示的模块\r\n  } = props;\r\n  const [Component, setComponent] = useState(\"\");\r\n  const [ID, setID] = useState(\"\");\r\n  const [SchoolMsg, setSchoolMsg] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  // const [state, setDispatch] = useReducer(Reducer, initState);\r\n  // let { component } = state;\r\n  // 获取当前级别的信息\r\n  const levelMsg = useMemo(() => {\r\n    return levelHash[productLevel]\r\n      ? levelHash[productLevel]\r\n      : {\r\n          productLevel: 1,\r\n          selectLevel: 1,\r\n          title: \"\",\r\n          sub: \"\",\r\n          belong: \"\",\r\n          belondName: \"\",\r\n        };\r\n  }, [levelHash, productLevel]);\r\n  useEffect(() => {\r\n    setComponent(param);\r\n  }, [param]);\r\n  // console.log(param,Component)\r\n  useEffect(() => {\r\n    if (location.pathname) {\r\n      let Path = handleRoute(location.pathname);\r\n      if (Path[0] === \"schoolDetail\" && Path[1]) {\r\n        console.log(levelMsg)\r\n        getSchoolMsg({ nodeID: Path[1] }).then((res) => {\r\n          if (res.StatusCode === 200) {\r\n            setID(Path[1]);\r\n            setSchoolMsg(res.Data);\r\n          } else {\r\n            //不存在\r\n            setSchoolMsg(false);\r\n\r\n            if (levelMsg.nextProductLevel) {\r\n              //是上级\r\n              removeTab(\"\", \"\", \"schoolResource\", \"\", () => {});\r\n            } else {\r\n              removeTab(\"\", \"\", \"teacherBaseMsg\", \"\", () => {});\r\n            }\r\n          }\r\n          setLoading(false);\r\n        });\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <Loading\r\n      spinning={Component === \"detail\" && loading}\r\n      tip={\"加载中...\"}\r\n      opacity={false}\r\n    >\r\n      <div className=\"School\" style={{ height: height }}>\r\n        {Component === \"list\" ? (\r\n          <SchoolList levelMsg={levelMsg}></SchoolList>\r\n        ) : (\r\n          <></>\r\n        )}\r\n        {Component === \"detail\" ? (\r\n          <SchoolDetail\r\n            levelMsg={levelMsg}\r\n            schoolMsg={SchoolMsg}\r\n            id={ID}\r\n          ></SchoolDetail>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n    </Loading>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let {\r\n    handleData: { teacherRecruitMsg },\r\n    commonData: { roleMsg, contentHW, levelHash },\r\n  } = state;\r\n  return { teacherRecruitMsg, roleMsg, contentHW, levelHash };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(School))));\r\n","import \"./index.scss\";\r\nimport {\r\n  connect,\r\n  // useSelector,\r\n  useDispatch,\r\n} from \"react-redux\";\r\nimport React, {\r\n  useCallback,\r\n  memo,\r\n  useEffect,\r\n  useState,\r\n  useMemo,\r\n  // useImperativeHandle,\r\n  useRef,\r\n  forwardRef,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport { commonActions, handleActions } from \"../../redux/actions\";\r\n// import fetch from \"../../util/fetch\";\r\n// import config from \"../../util/ipConfig\";\r\nimport Frame from \"../../component/frame\";\r\n// import Bar from \"@/component/Bar\";\r\nimport {\r\n  withRouter,\r\n  // , Route, Switch, NavLink\r\n} from \"react-router-dom\";\r\nimport { LogOut } from \"@/util/connect\";\r\nimport Analysis from \"../teachersStatisticAnalysis\";\r\nimport Recruit from \"../recruit\";\r\nimport Train from \"../train\";\r\nimport Notice from \"../notice\";\r\nimport TeacherTrain from \"@/pages/teacher/train\";\r\nimport Details from \"@/pages/train/detail\";\r\nimport TeacherPersonal from \"../teacherPersonal\";\r\nimport { handleRoute, deepMap, getQueryVariable } from \"../../util/public\";\r\nimport Search from \"@/component/search\";\r\nimport { getSearch } from \"@/api/search\";\r\nimport { Empty } from \"@/component/common\";\r\nimport SearchchAll from \"../searchAll\";\r\nimport PersonalDetail from \"../personalDetail\";\r\nimport { GetUserDetailForHX } from \"@/api/personal\";\r\nimport School from \"../school\";\r\nimport { getBasePlatformMsg } from \"@/util/init\";\r\n// let { get } = fetch;\r\nfunction App(props, ref) {\r\n  // let commonData = useSelector((state) => state.commonData);\r\n  const {\r\n    history,\r\n    location,\r\n    commonData: {\r\n      token,\r\n      leftMenu,\r\n      params,\r\n      basePlatFormMsg: { ProVersion },\r\n      roleMsg: { schoolID, collegeID, selectLevel, productLevel, identityCode },\r\n      userInfo: { UserID }\r\n    },\r\n    handleData: {\r\n      teacherRecruitMsg: {\r\n        tabName: recruitName,\r\n        tabId: recruitId,\r\n        params: recruitParams,\r\n      },\r\n    },\r\n    first\r\n  } = props;\r\n  let {\r\n    commonData\r\n  } = props;\r\n\r\n  console.log(\"查查左侧菜单\", leftMenu, props);\r\n \r\n  // if(first){\r\n    // window.open(\r\n    //     window.location.search +\r\n    //       \"#/page/personalDetail/\" +\r\n    //       UserID\r\n    //   )\r\n    //   setFirst(false);\r\n  // }\r\n  // useEffect(() => {\r\n  //   window.open(\r\n  //     window.location.search +\r\n  //       \"#/page/personalDetail/\" +\r\n  //       UserID\r\n  //   )\r\n  //   return () => {\r\n      \r\n  //   }\r\n  // }, [first])\r\n  let dispatch = useDispatch();\r\n  const [SchoolName, setSchoolName] = useState(\"各校师资\");\r\n  const [TeacherName, setTeacherName] = useState(\"教师画像查询\");\r\n  const [RecruitDetail, setRecruitDetail] = useState(\"detailID\");\r\n  // 设置frame Type\r\n  const [frameType, setFrameType] = useState(undefined);\r\n  // const [RecruitName, setRecruitName] = useState(recruitName);\r\n  const [Path, setPath] = useState([]);\r\n  // 存page的个人画像的教师信息\r\n  const [TeacherMsg, setTeacherMsg] = useState(null);\r\n  // 教师id\r\n  const [TeacherID, setTeacherID] = useState(null);\r\n  // 存模块id\r\n  const [ModuleID, setModuleID] = useState(null);\r\n  // 需不需要初始化\r\n  const [OnlyBase, setOnlyBase] = useState(false);\r\n  // 招聘详情id\r\n  const [RecruitID, setRecruitID] = useState(null);\r\n\r\n  // 模块类型\r\n  const [ModuleType, setModuleType] = useState(\"\");\r\n  // 存frame返回的数据\r\n  // const [tabRef,setTabRef]\r\n  // frame的ref\r\n  const frameRef = useRef({});\r\n  // 在这做路由做配置，监听路由变化不合法的时候给它做合法方案\r\n  // 看是大学还是教育局，各校，各院，\r\n  \r\n  const NameData = useMemo(() => {\r\n    let data = { schoolList: \"各校师资\", schoolDetail: \"学校详情\" };\r\n    switch (productLevel) {\r\n      case 2:\r\n        data = { schoolList: \"各院师资\", schoolDetail: \"学院详情\" };\r\n\r\n        break;\r\n      default:\r\n    }\r\n    return data;\r\n  }, [productLevel]);\r\n\r\n  //  提前检查路由\r\n  useEffect(() => {\r\n    let Path = handleRoute(location.pathname);\r\n    console.log(\"提前检查路由\", Path)\r\n    let moduleType = getQueryVariable(\"ModuleType\"); //模块类型：*admin或缺省：管理员，*teacher:教师\r\n    // 单页面\r\n    \r\n    if (Path[0] === \"page\" && Path[1]) {\r\n      // 招聘详情界面\r\n      if (Path[1] === \"recruit\") {\r\n        // 不需要初始化\r\n        setOnlyBase(true);\r\n      }\r\n      setFrameType(\"page\");\r\n      // 现在Path[1]只有教师个人画像，不需要身份验证，也没有模块id，后面加page看情况配置mioduleid\r\n      setModuleID(\"\");\r\n    } else {\r\n      //       L10001 师资发展管理       管理员、教师（学校领导）\r\n      // 默认权限身份IC0002、IC0010\r\n\r\n      // L10002   师资发展培训  教师\r\n      // 默认权限身份IC0011、IC0012、IC0013\r\n      if (moduleType === \"teacher\") {\r\n        setModuleID(\"L10002\");\r\n        // setModuleID(\"\");\r\n        setFrameType(\"teacher\");\r\n      } else {\r\n        //默认管理员模块\r\n        setModuleID(\"L10001\");\r\n        setFrameType(\"default\");\r\n        // setModuleID(\"\");\r\n        if (!Path[0]) {\r\n          // history.push(\"/\" + leftMenu[0].key);\r\n          // controlRoute(leftMenu[0].key);\r\n          setFrameType(\"page\");\r\n          // 现在Path[1]只有教师个人画像，不需要身份验证，也没有模块id，后面加page看情况配置mioduleid\r\n          setModuleID(\"\");\r\n        }\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  useLayoutEffect(() => {\r\n    // 平台模式类型不确定，不允许进来\r\n    if (!frameType) {\r\n      return;\r\n    }\r\n    let Path = handleRoute(location.pathname);\r\n    console.log(\"useLayoutEffect\", Path, window.first)\r\n    // if(Path[0] == 'index' && !window.first){\r\n    //   console.log(window.location.search)\r\n    //   location.href = \r\n    //     window.location.search +\r\n    //       \"#/page/personalDetail/\" +\r\n    //       \"000444\";\r\n    //   window.first = true;\r\n    //   return;\r\n    // }\r\n    setPath(Path);\r\n    \r\n    // 管理员的\r\n    if (frameType === \"default\") {\r\n      // 没有就默认给个\r\n      if (!Path[0] && leftMenu instanceof Array && leftMenu.length > 0) {\r\n        \r\n        // history.push(\"/\" + leftMenu[0].key);\r\n        // controlRoute(leftMenu[0].key);\r\n        setFrameType(\"page\");\r\n        // 现在Path[1]只有教师个人画像，不需要身份验证，也没有模块id，后面加page看情况配置mioduleid\r\n        setModuleID(\"\");\r\n        return;\r\n      } else if (Path[0] === \"recruitDetail\") {\r\n        //教师招聘计划管理,默认\r\n        if (Path[1]) {\r\n          // setRecruitDetail(Path[1]);\r\n        } else {\r\n          \r\n          // controlRoute(recruitId);\r\n          controlRoute(\"stuStatusMsg\")\r\n          \r\n        }\r\n        // setRecruitName()\r\n        return;\r\n      }\r\n      // else if (\r\n      //   Path[0] === recruitId &&\r\n      //   Path[1] &&\r\n      //   !recruitParams.find((child) => {\r\n      //     return child.key === Path[1];\r\n      //   })\r\n      // ) {\r\n      //   //教师招聘计划管理,默认\r\n      //   // console.log(Path)\r\n      //   controlRoute(Path[0]);\r\n      //   // setRecruitName()\r\n      //   return;\r\n      // }\r\n\r\n      //遍历下path[0]是否存在leftmenushang\r\n      // 这个是为了控制不在左侧上出现的id，但要挂载某个菜单上的操作\r\n\r\n      let isExist = false;\r\n      deepMap(leftMenu, (child) => {\r\n        if (\r\n          child.child.key === Path[0] ||\r\n          (child.child.params instanceof Array &&\r\n            child.child.params.some((param) => Path[0] === param.key))\r\n        ) {\r\n          isExist = true;\r\n        }\r\n      });\r\n      // isExist = !isExist\r\n      //   ? params.some((child) => {\r\n      //       return child.key === Path[0];\r\n      //     })\r\n      //   : isExist;\r\n      // 不存在\r\n\r\n      if (!isExist && leftMenu.length > 0) {\r\n        // 第一次进来的时候frame还没挂载，所以为undefined，需要自己控制，后面不是undefined了可以使用frame返回的方法\r\n        // frameRef.current.removeTab\r\n        //   ? RemoveTab(\"\", \"\")\r\n        //   : \r\n        //   controlRoute(leftMenu[0].key);\r\n          // controlRoute(\"page/peronalDetail/\" + UserID);\r\n          \r\n          setFrameType(\"page\");\r\n            // 现在Path[1]只有教师个人画像，不需要身份验证，也没有模块id，后面加page看情况配置mioduleid\r\n          setModuleID(\"\");\r\n          return;\r\n      }\r\n    }\r\n\r\n    if (frameType === \"teacher\") {\r\n      setFrameType(\"page\");\r\n        // 现在Path[1]只有教师个人画像，不需要身份验证，也没有模块id，后面加page看情况配置mioduleid\r\n      setModuleID(\"\");\r\n      return;\r\n    }\r\n    \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location, leftMenu, frameType]);\r\n\r\n  // 手动路由控制\r\n  function controlRoute() {\r\n    let path = \"\";\r\n    for (let key in arguments) {\r\n      path += arguments[key] ? \"/\" + arguments[key] : \"\";\r\n    }\r\n    history.push(path);\r\n  }\r\n  // 初始化方法\r\n  const pageInit = useCallback(\r\n   \r\n    async (data) => {\r\n      let isInit = true;\r\n      \r\n      let Path = handleRoute(location.pathname);\r\n      // data为false表示没有初始化\r\n      // window.open(\r\n      //   window.location.search +\r\n      //     \"#/page/personalDetail/\" +\r\n      //     UserID\r\n      // );\r\n      // console.log(\"我在这里\", data, Path, frameType);\r\n      // return;\r\n      if (data) {\r\n        // OnlyBase\r\n        // 保证返回的data包含identityDetail，userInfo，basePlatformMsg，role\r\n        data.identityDetail &&\r\n          dispatch({\r\n            type: commonActions.COMMON_SET_IDENTITY,\r\n            data: data.identityDetail,\r\n          });\r\n        data.userInfo &&\r\n          dispatch({\r\n            type: commonActions.COMMON_SET_USER_INFO,\r\n            data: data.userInfo,\r\n          });\r\n        data.basePlatformMsg &&\r\n          dispatch({\r\n            type: commonActions.COMMON_SET_BASE_PLAT_FORM_MSG,\r\n            data: data.basePlatformMsg,\r\n          });\r\n        data.role &&\r\n          dispatch({\r\n            type: commonActions.COMMON_SET_ROLE_MSG,\r\n            data: data.role,\r\n          });\r\n        data.termInfo &&\r\n          dispatch({\r\n            type: commonActions.COMMON_SET_TERM_INFO,\r\n            data: data.termInfo,\r\n          });\r\n        data.systemServer &&\r\n          dispatch({\r\n            type: commonActions.COMMON_SET_SYSTEM_SERVER,\r\n            data: data.systemServer,\r\n          });\r\n        data.token &&\r\n          data.token &&\r\n          dispatch(commonActions.SetCommonData({ token: data.token }));\r\n\r\n        // systemServer\r\n        // 根据版本级别，显示不同的左侧,400为通知公告的系统id，没有就不显示通知告\r\n        // data.role &&\r\n        //   dispatch(\r\n        //     commonActions.SetLeftMenu(\r\n        //       data.role.productLevel,\r\n        //       !!data.systemServer[400]\r\n        //     )\r\n        //   );\r\n\r\n        // 为空表示是学生，家长，不允许进来\r\n        // if(!data.role.frameType){\r\n\r\n        // }\r\n        // 如果还没定义可以再定义框架类型，因为上面的是先检查是否是page了\r\n\r\n        if (!frameType) {\r\n          // 根据用户角色显示不同的界面\r\n\r\n          // setFrameType(data.role.frameType);\r\n        } else {\r\n          //在单页面page的时候做用户信息处理，看是否合法，不合法跳转，只做page的检测，再具体的就由内部做\r\n          // 刚开始的page只有新版教师个人画像，所以会有多种角色查看该界面，暂不做当前登陆用户角色\r\n          // if (Path[0] === \"page\" && Path[1]) {\r\n          //   //先获取所看的用户id，检查是否有效\r\n          //   if (Path[1] === \"personalDetail\" && Path[2]) {\r\n          //     let res = await GetUserDetailForHX({\r\n          //       baseIP: data.basePlatformMsg.BasicWebRootUrl,\r\n          //       userID: Path[2],\r\n          //     });\r\n          //     if (res.StatusCode === 200) {\r\n          //       setTeacherMsg(res.Data);\r\n          //       setTeacherID(Path[2]); //这个要在最后改变，因为他控制个人画像里面的副作用的运行\r\n          //     } else {\r\n          //       // if (res.ErrCode === -2) {//id有误\r\n          //       window.location.href =\r\n          //         data.basePlatformMsg.BasicWebRootUrl +\r\n          //         \"/Error.aspx?errcode=E012\";\r\n          //       isInit = false;\r\n          //       // }\r\n          //     }\r\n          //   } else if (Path[1] === \"recruit\" && Path[2]) {\r\n          //     setRecruitID(Path[2]);\r\n          //   } else {\r\n          //     isInit = false;\r\n          //     // return ;\r\n          //     window.location.href =\r\n          //       data.basePlatformMsg.BasicWebRootUrl +\r\n          //       \"/Error.aspx?errcode=E012\"; //缺参数\r\n          //   }\r\n          // }\r\n        }\r\n      }\r\n      // else {\r\n      //   let res = await getBasePlatformMsg();\r\n      //   console.log(res);\r\n      //   // 招聘详情界面\r\n      //   if (Path[0] === \"page\" && Path[1] === \"recruit\"&&Path[2]) {\r\n\r\n      //     setRecruitID(Path[2])\r\n      //   } else {\r\n      //     isInit = false;\r\n      //     // return ;\r\n      //     window.location.href =\r\n      //     res.BasicWebRootUrl + \"/Error.aspx?errcode=E012\"; //缺参数\r\n      //   }\r\n      // }\r\n\r\n      // }\r\n      return isInit;\r\n    },\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [frameType]\r\n  );\r\n  // 搜索api\r\n  const searchApi = useCallback(\r\n    (payload) => {\r\n      // console.log(payload);\r\n      // return getSearch.call(this, {\r\n      //   schoolID,\r\n      //   collegeID,\r\n      //   selectLevel,\r\n      //   ...payload,\r\n      // });\r\n    },\r\n    [schoolID, collegeID, selectLevel]\r\n  );\r\n  // // 移除tab\r\n  const RemoveTab =\r\n    // useCallback(\r\n    (...arg) => {\r\n      // console.log(frameRef)\r\n      // if(frameRef.current.tabList.length===1){\r\n      //   controlRoute(leftMenu[0].key);\r\n      // }\r\n      typeof frameRef.current.removeTab === \"function\" &&\r\n        frameRef.current.removeTab(...arg);\r\n    };\r\n  // ,\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  //   [frameRef.current.removeTab, frameRef.current.tabList]\r\n  // );\r\n  // 保存活动的tab,实时获取\r\n  const getActiveTab = (activeTab) => {\r\n    dispatch(handleActions.setActiveTab(activeTab));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  };\r\n  \r\n  return (\r\n    <Frame\r\n      pageInit={pageInit}\r\n      type={frameType}\r\n      leftMenu={leftMenu}\r\n      moduleID={ModuleID}\r\n      onlyBase={OnlyBase}\r\n      commonData={commonData}\r\n      search={\r\n        <Search\r\n          api={searchApi}\r\n          // overlayStyle={{width:'402px'}}\r\n          searchResult={(res, keyword) => {\r\n            return <SearchchAll keyword={keyword} data={res}></SearchchAll>;\r\n          }}\r\n          className=\"frame-search-all\"\r\n        ></Search>\r\n      }\r\n      ref={frameRef}\r\n      getActiveTab={getActiveTab}\r\n      onContentresize={(height, width) => {\r\n        // 获取主区域的宽高\r\n        dispatch({\r\n          type: commonActions.COMMON_SET_CONTENT_HW,\r\n          data: { height, width },\r\n        });\r\n      }}\r\n      tabPorps={{\r\n        onChange: (e) => {\r\n          console.log(e);\r\n        },\r\n        onEdit: (e, action) => {\r\n          console.log(e, action);\r\n        },\r\n      }}\r\n    >\r\n      {/* <Analysis\r\n        tabid={\"schoolResource\"}\r\n        tabname={SchoolName}\r\n        param={\"SchoolID\"}\r\n      >\r\n        {SchoolName}\r\n      </Analysis> */}\r\n      <Analysis tabid={\"schoolLiveMsg\"} tabname={\"校园生活档案\"}>\r\n      校园生活档案\r\n      </Analysis>\r\n      <Analysis tabid={\"awardAndPunish\"} tabname={\"奖惩档案\"}>\r\n      奖惩档案\r\n      </Analysis>\r\n      <Analysis tabid={\"healthMsg\"} tabname={\"健康档案\"}>\r\n        健康档案\r\n      </Analysis>\r\n      <Analysis tabid={\"attendanceMsg\"} tabname={\"考勤档案\"}>\r\n        考勤档案\r\n      </Analysis>\r\n      <Analysis tabid={\"stuConditionMsg\"} tabname={\"学情档案\"}>\r\n        学情档案\r\n      </Analysis>\r\n      <Analysis tabid={\"stuStatusMsg\"} tabname={\"学籍档案\"}>\r\n        学籍档案\r\n      </Analysis>\r\n      <Analysis\r\n        tabid={\"teacherPersonal\"}\r\n        tabname={TeacherName}\r\n        param={\"TeacherID\"}\r\n      >\r\n        {TeacherName}\r\n      </Analysis>\r\n      <Recruit\r\n        tabid={recruitId}\r\n        tabname={\"教师招聘计划管理\"}\r\n        param={\"home\"}\r\n        // paramList={recruitParams}\r\n      >\r\n        教师招聘计划管理\r\n      </Recruit>\r\n\r\n      <Recruit\r\n        tabid={\"publishRecruit\"}\r\n        tabname={\"发布招聘计划\"}\r\n        param={\"publish\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        发布招聘计划\r\n      </Recruit>\r\n      <Recruit\r\n        tabid={\"recruitDetail\"}\r\n        tabname={\"招聘计划详情\"}\r\n        param={\"detail\"}\r\n        mustparam={\"true\"}\r\n        redirect={\"teacherRecruit\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        招聘计划详情\r\n      </Recruit>\r\n      <Recruit\r\n        tabid={\"editRecruit\"}\r\n        tabname={\"编辑招聘计划\"}\r\n        param={\"edit\"}\r\n        mustparam={\"true\"}\r\n        redirect={\"teacherRecruit\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        编辑招聘计划\r\n      </Recruit>\r\n      <Train tabid={\"teacherTrain\"} tabname={\"教师培训计划管理\"} param={\"home\"}>\r\n        教师培训计划管理\r\n      </Train>\r\n      <Train\r\n        tabid={\"publishTrain\"}\r\n        tabname={\"发布培训计划\"}\r\n        param={\"publish\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        发布培训计划\r\n      </Train>\r\n      <Train\r\n        tabid={\"trainDetail\"}\r\n        tabname={\"培训计划详情\"}\r\n        mustparam={\"true\"}\r\n        redirect={\"teacherTrain\"}\r\n        param={\"detail\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        培训计划详情\r\n      </Train>\r\n      <Train\r\n        tabid={\"editTrain\"}\r\n        tabname={\"编辑培训计划\"}\r\n        param={\"edit\"}\r\n        mustparam={\"true\"}\r\n        redirect={\"teacherTrain\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        编辑培训计划\r\n      </Train>\r\n      <TeacherPersonal\r\n        tabid={\"teacherPersonal\"}\r\n        tabname={\"教师画像查询\"}\r\n        param={\"list\"}\r\n        // mustparam={\"true\"}\r\n        // redirect={\"teacherTrain\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        教师画像查询\r\n      </TeacherPersonal>\r\n      <TeacherPersonal\r\n        tabid={\"personalDetail\"}\r\n        tabname={\"教师画像详情\"}\r\n        param={\"detail\"}\r\n        // mustparam={\"true\"}\r\n        // redirect={\"teacherTrain\"}\r\n        removeTab={RemoveTab}\r\n      >\r\n        教师画像详情\r\n      </TeacherPersonal>\r\n      <Notice tabid={\"notice\"} tabname={\"通知公告\"}></Notice>\r\n      {/* 有frame类型的属性，*teacher：为教师类型，缺省则为default类型 */}\r\n      {/* 教师端 */}\r\n      <TeacherTrain\r\n        frametype={\"teacher\"}\r\n        routeid={\"teacherTrain\"}\r\n      ></TeacherTrain>\r\n      <Details\r\n        frametype={\"teacher\"}\r\n        routeid={\"trainDetail\"}\r\n        routename={\"培训计划详情\"}\r\n        param={\"id\"}\r\n        controlSize={\"\"}\r\n        useScrollbars={false}\r\n      >\r\n        培训计划详情\r\n      </Details>\r\n      <p\r\n        proversion={ProVersion}\r\n        className=\"teacher-ProVersion\"\r\n        frametype={\"teacher\"}\r\n      >\r\n        {ProVersion}\r\n      </p>\r\n      {/* 教师端end */}\r\n      {/* 个人画像 */}\r\n      <PersonalDetail\r\n        frametype={\"page\"}\r\n        pageid={\"personalDetail\"}\r\n        param={\"id\"}\r\n        teachermsg={TeacherMsg}\r\n        teacherid={TeacherID}\r\n      ></PersonalDetail>\r\n\r\n      {/* 个人画像end */}\r\n      {/* 招聘详情 */}\r\n      <Recruit\r\n        pageTitle={\"招聘计划详情\"}\r\n        frametype={\"page\"}\r\n        pageid={\"recruit\"}\r\n        param={\"recruit\"}\r\n        recruitid={RecruitID}\r\n      ></Recruit>\r\n\r\n      {/* PersonalDetail */}\r\n      {/* 多学校 */}\r\n\r\n      <School\r\n        tabid={\"schoolResource\"}\r\n        tabname={NameData.schoolList}\r\n        param={\"list\"}\r\n        removeTab={RemoveTab}\r\n      ></School>\r\n      <School\r\n        tabname={NameData.schoolDetail}\r\n        tabid={\"schoolDetail\"}\r\n        param={\"detail\"}\r\n        mustparam={\"true\"}\r\n        redirect={\"schoolResource\"}\r\n        removeTab={RemoveTab}\r\n      ></School>\r\n      <p proversion={ProVersion} className=\"page-ProVersion\" frametype={\"page\"}>\r\n        {ProVersion}\r\n      </p>\r\n    </Frame>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  // let { UIState, DataState, PublicState } = state;\r\n  // console.log(state)\r\n  return state;\r\n};\r\nexport default connect(mapStateToProps)(withRouter(memo(forwardRef(App))));\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","/*\r\n *           佛曰:\r\n *                   写字楼里写字间，写字间里程序员；\r\n *                   程序人员写程序，又拿程序换酒钱。\r\n *                   酒醒只在网上坐，酒醉还来网下眠；\r\n *                   酒醉酒醒日复日，网上网下年复年。\r\n *                   但愿老死电脑间，不愿鞠躬老板前；\r\n *                   奔驰宝马贵者趣，公交自行程序员。\r\n *                   别人笑我忒疯癫，我笑自己命太贱；\r\n *                   不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-17 14:10:48\r\n * @LastEditTime: 2021-01-28 20:40:51\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\redux\\reducers\\commonData\\index.js\r\n */\r\n\r\nimport { commonActions } from \"../../actions\";\r\nconst commonData = (\r\n  state = {\r\n    alert: false,\r\n    leftMenu: [],\r\n\r\n    // params: [\r\n    //   { key: \"publish\", title: \"发布招聘计划\" },\r\n    //   { key: \"edit\", title: \"发布招聘计划\" },\r\n    // ],\r\n    userInfo: {},\r\n    identity: {},\r\n    basePlatFormMsg: {},\r\n    roleMsg: {},\r\n    termInfo: {\r\n      HasHistory: false,\r\n      TermInfo: [],\r\n    },\r\n    levelHash: {\r\n      1: {\r\n        productLevel: 1,\r\n        selectLevel: 1,\r\n        title: \"区域\",\r\n        sub: \"学段\", //教师基础信息文字显示\r\n        belong: \"学校\", //选择教师下级\r\n        belongBefore: \"所属\", //选择教师前缀\r\n        belondName: \"SchoolName\", //教师画像获取接口所属的属性\r\n        ganger: \"学段\", //班主任班级管理统计,\r\n        nextProductLevel: 3, //下级的产品级别\r\n        nextSelectLevel: 3, //下级的选择级别\r\n        nextTitle: \"学校\", //下级名称\r\n      },\r\n      2: {\r\n        productLevel: 2,\r\n        selectLevel: 2,\r\n        title: \"学校\",\r\n        sub: \"学院\",\r\n        belong: \"学院\",\r\n        belongBefore: \"所属\", //选择教师前缀\r\n        belondName: \"CollegeName\",\r\n        ganger: \"学院\",\r\n        nextProductLevel: 4, //下级的产品级别\r\n        nextSelectLevel: 3, //下级的选择级别\r\n        nextTitle: \"学院\", //下级名称\r\n      },\r\n      3: {\r\n        productLevel: 3,\r\n        selectLevel: 2,\r\n        title: \"学校\",\r\n        sub: \"学科\",\r\n        belongBefore: \"所教\", //选择教师前缀\r\n        belong: \"学科\",\r\n        belondName: \"SubjectNames\",\r\n        ganger: \"学科\",\r\n      },\r\n      4: {\r\n        productLevel: 4,\r\n        selectLevel: 3,\r\n        title: \"学院\",\r\n        sub: \"教研室\",\r\n        belongBefore: \"所属\", //选择教师前缀\r\n\r\n        belong: \"教研室\",\r\n        belondName: \"CroupName\",\r\n        ganger: \"学科\",\r\n      },\r\n    },\r\n    contentHW: { height: 0, width: 0 },\r\n    systemServer: {},\r\n  },\r\n  actions\r\n) => {\r\n  switch (actions.type) {\r\n    case commonActions.COMMON_SET_COMMON_DATA:\r\n      return Object.assign({}, state, actions.data);\r\n    case commonActions.COMMON_SET_TERM_INFO:\r\n      return Object.assign({}, state, {\r\n        termInfo: actions.data,\r\n      });\r\n    case commonActions.COMMON_SET_LEFT_MENU:\r\n      return Object.assign({}, state, {\r\n        leftMenu: actions.data,\r\n      });\r\n    case commonActions.COMMON_SET_CONTENT_HW:\r\n      return Object.assign({}, state, {\r\n        contentHW: { ...state.contentHW, ...actions.data },\r\n      });\r\n    case commonActions.COMMON_SET_TEST:\r\n      return Object.assign({}, state, {\r\n        alert: true,\r\n      });\r\n    case commonActions.COMMON_SET_IDENTITY:\r\n      return Object.assign({}, state, {\r\n        identity: actions.data,\r\n      });\r\n    case commonActions.COMMON_SET_USER_INFO:\r\n      return Object.assign({}, state, {\r\n        userInfo: actions.data,\r\n      });\r\n    case commonActions.COMMON_SET_BASE_PLAT_FORM_MSG:\r\n      return Object.assign({}, state, {\r\n        basePlatFormMsg: actions.data,\r\n      });\r\n    case commonActions.COMMON_SET_ROLE_MSG:\r\n      return Object.assign({}, state, {\r\n        roleMsg: actions.data,\r\n      });\r\n    case commonActions.COMMON_SET_SYSTEM_SERVER:\r\n      return Object.assign({}, state, {\r\n        systemServer: actions.data,\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default commonData;\r\n","/*\r\n *           佛曰:\r\n *                   写字楼里写字间，写字间里程序员；\r\n *                   程序人员写程序，又拿程序换酒钱。\r\n *                   酒醒只在网上坐，酒醉还来网下眠；\r\n *                   酒醉酒醒日复日，网上网下年复年。\r\n *                   但愿老死电脑间，不愿鞠躬老板前；\r\n *                   奔驰宝马贵者趣，公交自行程序员。\r\n *                   别人笑我忒疯癫，我笑自己命太贱；\r\n *                   不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-17 14:10:48\r\n * @LastEditTime: 2020-12-10 16:22:02\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\redux\\reducers\\handleData\\index.js\r\n */\r\nimport { handleActions } from \"../../actions\";\r\nconst handleData = (\r\n  state = {\r\n    teacherRecruitMsg: {\r\n      tabName: \"教师招聘计划管理\",\r\n      tabId: \"teacherRecruit\",\r\n      component: \"home\",\r\n      params: [\r\n        { key: \"\", title: \"教师招聘计划管理\" },\r\n        { key: \"publish\", title: \"发布招聘计划\" },\r\n      ],\r\n    },\r\n    activeTab: \"\",\r\n  },\r\n  actions\r\n) => {\r\n  switch (actions.type) {\r\n    case handleActions.COMMON_SET_ACTIVE_TAB:\r\n      return Object.assign({}, state, {\r\n        activeTab: actions.data,\r\n      });\r\n    case handleActions.COMMON_SET_TEACHER_RECRUIT_MSG:\r\n      return Object.assign({}, state, {\r\n        teacherRecruitMsg: { ...state.teacherRecruitMsg, ...actions.data },\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default handleData;\r\n","/*\r\n *           佛曰:\r\n *                   写字楼里写字间，写字间里程序员；\r\n *                   程序人员写程序，又拿程序换酒钱。\r\n *                   酒醒只在网上坐，酒醉还来网下眠；\r\n *                   酒醉酒醒日复日，网上网下年复年。\r\n *                   但愿老死电脑间，不愿鞠躬老板前；\r\n *                   奔驰宝马贵者趣，公交自行程序员。\r\n *                   别人笑我忒疯癫，我笑自己命太贱；\r\n *                   不见满街漂亮妹，哪个归得程序员？\r\n *\r\n * @Author: zhuzesen\r\n * @LastEditors: zhuzesen\r\n * @Date: 2020-11-17 14:10:48\r\n * @LastEditTime: 2020-12-03 10:23:17\r\n * @Description:\r\n * @FilePath: \\teacher-development\\src\\redux\\reducers\\mainData\\index.js\r\n */\r\nimport { mainActions } from \"../../actions\";\r\nconst mainData = (\r\n  state = {\r\n    alert: false,\r\n  },\r\n  actions\r\n) => {\r\n  switch (actions.type) {\r\n    // case commonActions.COMMON_SET_TEST:\r\n    //   return Object.assign({}, state, {\r\n    //     alert: true,\r\n    //   });\r\n\r\n    default:\r\n      return state\r\n  }\r\n};\r\nexport default mainData;\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport commonData from \"./commonData\";\r\nimport handleData from './handleData';\r\nimport mainData from './mainData'\r\nexport const initialState = {};\r\n\r\nlet rootReducers = combineReducers({\r\n  commonData,handleData,mainData,\r\n  // UIState,\r\n  PublicState: {},\r\n});\r\nexport default rootReducers;\r\n","import rootReducers, { initialState } from \"../reducers\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { createLogger } from \"redux-logger\";\r\n\r\nimport DevTools from \"./DevTools\"; // 辅助工具\r\n\r\nlet enhancer = applyMiddleware(thunk);\r\nif (process.env.NODE_ENV === \"development\") {\r\n  enhancer = compose(\r\n    applyMiddleware(thunk, createLogger()),\r\n    DevTools.instrument()\r\n  );\r\n}\r\n\r\nlet store = createStore(rootReducers, initialState, enhancer);\r\n\r\nif (process.env.NODE_ENV === \"development\") {\r\n  if (module.hot) {\r\n    // Enable Webpack hot module replacement for reducers\r\n    module.hot.accept(\"../reducers\", () => {\r\n      const nextRootReducer = require(\"../reducers\").default;\r\n      store.replaceReducer(nextRootReducer);\r\n    });\r\n  }\r\n}\r\n\r\n// export const StoreContext = createContext({});\r\n\r\n/**\r\n *  action 支持传入一个异步的函数,如：\r\n *  const increaseCount = async dispatch => {\r\n *      await sleep(1000);\r\n *      dispatch({ type: 'increase' });\r\n *  }\r\n *  调用：\r\n *  dispatch(increaseCount)\r\n */\r\n// const StoreReducer = (props) => {\r\n//   const [state, origin_dispatch] = useReducer(reducer, initialState);\r\n//   const dispatch = (action) => {\r\n//     if (typeof action === \"function\") {\r\n//       return action(origin_dispatch);\r\n//     }\r\n//     return origin_dispatch(action);\r\n//   };\r\n//   return (\r\n//     <StoreContext.Provider value={{ state, dispatch }}>\r\n//       {props.children}\r\n//     </StoreContext.Provider>\r\n//   );\r\n// };\r\n\r\nexport default store;\r\n","import React from 'react'\r\nimport { createDevTools } from 'redux-devtools'\r\nimport LogMonitor from 'redux-devtools-log-monitor'\r\nimport DockMonitor from 'redux-devtools-dock-monitor'\r\n\r\nexport default createDevTools(\r\n  <DockMonitor defaultIsVisible={false}\r\n               toggleVisibilityKey=\"ctrl-h\"\r\n               changePositionKey=\"ctrl-w\">\r\n    <LogMonitor />\r\n  </DockMonitor>\r\n)\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./pages/app\";\r\nimport Personal from \"./pages/personalDetail\";\r\nimport reportWebVitals from \"./util/reportWebVitals\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\nimport * as serviceWorker from \"./util/serviceWorker\";\r\nimport { HashRouter as Router } from \"react-router-dom\";\r\n// import { createHashHistory } from \"history\";\r\n// let history = createHashHistory();\r\n// console.log(history);\r\n// const history = require(\"history\").createHashHistory();\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        {/* <Route  history={history} path=\"/\" component={App}></Route> */}\r\n        <App />\r\n        {/* <Personal /> */}\r\n       </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\nserviceWorker.register();\r\n"],"sourceRoot":""}